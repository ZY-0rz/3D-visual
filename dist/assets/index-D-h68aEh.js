const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/deflate-D81GdMBE.js","assets/pako.esm-DB1H-n-z.js","assets/lerc-CNfa03j6.js"])))=>i.map(i=>d[i]);
var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},c=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},l=(n,r,a)=>(a=n==null?{}:e(i(n)),c(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();function u(e){let t=Object.create(null);for(let n of e.split(`,`))t[n]=1;return e=>e in t}var d={},f=[],p=()=>{},m=()=>!1,h=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),g=e=>e.startsWith(`onUpdate:`),_=Object.assign,v=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},y=Object.prototype.hasOwnProperty,b=(e,t)=>y.call(e,t),x=Array.isArray,S=e=>j(e)===`[object Map]`,C=e=>j(e)===`[object Set]`,w=e=>j(e)===`[object Date]`,T=e=>typeof e==`function`,E=e=>typeof e==`string`,D=e=>typeof e==`symbol`,O=e=>typeof e==`object`&&!!e,k=e=>(O(e)||T(e))&&T(e.then)&&T(e.catch),A=Object.prototype.toString,j=e=>A.call(e),M=e=>j(e).slice(8,-1),ee=e=>j(e)===`[object Object]`,te=e=>E(e)&&e!==`NaN`&&e[0]!==`-`&&``+parseInt(e,10)===e,N=u(`,key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted`),ne=e=>{let t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},re=/-\w/g,ie=ne(e=>e.replace(re,e=>e.slice(1).toUpperCase())),P=/\B([A-Z])/g,ae=ne(e=>e.replace(P,`-$1`).toLowerCase()),oe=ne(e=>e.charAt(0).toUpperCase()+e.slice(1)),se=ne(e=>e?`on${oe(e)}`:``),ce=(e,t)=>!Object.is(e,t),le=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ue=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},de=e=>{let t=parseFloat(e);return isNaN(t)?e:t},fe=e=>{let t=E(e)?Number(e):NaN;return isNaN(t)?e:t},pe,me=()=>pe||=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:typeof global<`u`?global:{};function he(e){if(x(e)){let t={};for(let n=0;n<e.length;n++){let r=e[n],i=E(r)?ye(r):he(r);if(i)for(let e in i)t[e]=i[e]}return t}else if(E(e)||O(e))return e}var ge=/;(?![^(]*\))/g,_e=/:([^]+)/,ve=/\/\*[^]*?\*\//g;function ye(e){let t={};return e.replace(ve,``).split(ge).forEach(e=>{if(e){let n=e.split(_e);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function F(e){let t=``;if(E(e))t=e;else if(x(e))for(let n=0;n<e.length;n++){let r=F(e[n]);r&&(t+=r+` `)}else if(O(e))for(let n in e)e[n]&&(t+=n+` `);return t.trim()}function be(e){if(!e)return null;let{class:t,style:n}=e;return t&&!E(t)&&(e.class=F(t)),n&&(e.style=he(n)),e}var xe=`itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`,Se=u(xe);xe+``;function Ce(e){return!!e||e===``}function we(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Te(e[r],t[r]);return n}function Te(e,t){if(e===t)return!0;let n=w(e),r=w(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=D(e),r=D(t),n||r)return e===t;if(n=x(e),r=x(t),n||r)return n&&r?we(e,t):!1;if(n=O(e),r=O(t),n||r){if(!n||!r||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){let r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!Te(e[n],t[n]))return!1}}return String(e)===String(t)}function Ee(e,t){return e.findIndex(e=>Te(e,t))}var De=e=>!!(e&&e.__v_isRef===!0),I=e=>E(e)?e:e==null?``:x(e)||O(e)&&(e.toString===A||!T(e.toString))?De(e)?I(e.value):JSON.stringify(e,Oe,2):String(e),Oe=(e,t)=>De(t)?Oe(e,t.value):S(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[ke(t,r)+` =>`]=n,e),{})}:C(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>ke(e))}:D(t)?ke(t):O(t)&&!x(t)&&!ee(t)?String(t):t,ke=(e,t=``)=>D(e)?`Symbol(${e.description??t})`:e,Ae,je=class{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ae,!e&&Ae&&(this.index=(Ae.scopes||=[]).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){let t=Ae;try{return Ae=this,e()}finally{Ae=t}}}on(){++this._on===1&&(this.prevScope=Ae,Ae=this)}off(){this._on>0&&--this._on===0&&(Ae=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}};function Me(e){return new je(e)}function Ne(){return Ae}function Pe(e,t=!1){Ae&&Ae.cleanups.push(e)}var Fe,Ie=new WeakSet,Le=class{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ae&&Ae.active&&Ae.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ie.has(this)&&(Ie.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ve(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,et(this),We(this);let e=Fe,t=Xe;Fe=this,Xe=!0;try{return this.fn()}finally{Ge(this),Fe=e,Xe=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Je(e);this.deps=this.depsTail=void 0,et(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ie.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ke(this)&&this.run()}get dirty(){return Ke(this)}},Re=0,ze,Be;function Ve(e,t=!1){if(e.flags|=8,t){e.next=Be,Be=e;return}e.next=ze,ze=e}function He(){Re++}function Ue(){if(--Re>0)return;if(Be){let e=Be;for(Be=void 0;e;){let t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;ze;){let t=ze;for(ze=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(t){e||=t}t=n}}if(e)throw e}function We(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ge(e){let t,n=e.depsTail,r=n;for(;r;){let e=r.prevDep;r.version===-1?(r===n&&(n=e),Je(r),Ye(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function Ke(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(qe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function qe(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===tt)||(e.globalVersion=tt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ke(e))))return;e.flags|=2;let t=e.dep,n=Fe,r=Xe;Fe=e,Xe=!0;try{We(e);let n=e.fn(e._value);(t.version===0||ce(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{Fe=n,Xe=r,Ge(e),e.flags&=-3}}function Je(e,t=!1){let{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)Je(e,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ye(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}var Xe=!0,Ze=[];function Qe(){Ze.push(Xe),Xe=!1}function $e(){let e=Ze.pop();Xe=e===void 0?!0:e}function et(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let e=Fe;Fe=void 0;try{t()}finally{Fe=e}}}var tt=0,nt=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},rt=class{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Fe||!Xe||Fe===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Fe)t=this.activeLink=new nt(Fe,this),Fe.deps?(t.prevDep=Fe.depsTail,Fe.depsTail.nextDep=t,Fe.depsTail=t):Fe.deps=Fe.depsTail=t,it(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){let e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Fe.depsTail,t.nextDep=void 0,Fe.depsTail.nextDep=t,Fe.depsTail=t,Fe.deps===t&&(Fe.deps=e)}return t}trigger(e){this.version++,tt++,this.notify(e)}notify(e){He();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Ue()}}};function it(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)it(e)}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}var at=new WeakMap,ot=Symbol(``),st=Symbol(``),ct=Symbol(``);function lt(e,t,n){if(Xe&&Fe){let t=at.get(e);t||at.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new rt),r.map=t,r.key=n),r.track()}}function ut(e,t,n,r,i,a){let o=at.get(e);if(!o){tt++;return}let s=e=>{e&&e.trigger()};if(He(),t===`clear`)o.forEach(s);else{let i=x(e),a=i&&te(n);if(i&&n===`length`){let e=Number(r);o.forEach((t,n)=>{(n===`length`||n===ct||!D(n)&&n>=e)&&s(t)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),a&&s(o.get(ct)),t){case`add`:i?a&&s(o.get(`length`)):(s(o.get(ot)),S(e)&&s(o.get(st)));break;case`delete`:i||(s(o.get(ot)),S(e)&&s(o.get(st)));break;case`set`:S(e)&&s(o.get(ot));break}}Ue()}function dt(e,t){let n=at.get(e);return n&&n.get(t)}function ft(e){let t=Zt(e);return t===e?t:(lt(t,`iterate`,ct),Yt(e)?t:t.map($t))}function pt(e){return lt(e=Zt(e),`iterate`,ct),e}function mt(e,t){return Jt(e)?qt(e)?en($t(t)):en(t):$t(t)}var ht={__proto__:null,[Symbol.iterator](){return gt(this,Symbol.iterator,e=>mt(this,e))},concat(...e){return ft(this).concat(...e.map(e=>x(e)?ft(e):e))},entries(){return gt(this,`entries`,e=>(e[1]=mt(this,e[1]),e))},every(e,t){return vt(this,`every`,e,t,void 0,arguments)},filter(e,t){return vt(this,`filter`,e,t,e=>e.map(e=>mt(this,e)),arguments)},find(e,t){return vt(this,`find`,e,t,e=>mt(this,e),arguments)},findIndex(e,t){return vt(this,`findIndex`,e,t,void 0,arguments)},findLast(e,t){return vt(this,`findLast`,e,t,e=>mt(this,e),arguments)},findLastIndex(e,t){return vt(this,`findLastIndex`,e,t,void 0,arguments)},forEach(e,t){return vt(this,`forEach`,e,t,void 0,arguments)},includes(...e){return bt(this,`includes`,e)},indexOf(...e){return bt(this,`indexOf`,e)},join(e){return ft(this).join(e)},lastIndexOf(...e){return bt(this,`lastIndexOf`,e)},map(e,t){return vt(this,`map`,e,t,void 0,arguments)},pop(){return xt(this,`pop`)},push(...e){return xt(this,`push`,e)},reduce(e,...t){return yt(this,`reduce`,e,t)},reduceRight(e,...t){return yt(this,`reduceRight`,e,t)},shift(){return xt(this,`shift`)},some(e,t){return vt(this,`some`,e,t,void 0,arguments)},splice(...e){return xt(this,`splice`,e)},toReversed(){return ft(this).toReversed()},toSorted(e){return ft(this).toSorted(e)},toSpliced(...e){return ft(this).toSpliced(...e)},unshift(...e){return xt(this,`unshift`,e)},values(){return gt(this,`values`,e=>mt(this,e))}};function gt(e,t,n){let r=pt(e),i=r[t]();return r!==e&&!Yt(e)&&(i._next=i.next,i.next=()=>{let e=i._next();return e.done||(e.value=n(e.value)),e}),i}var _t=Array.prototype;function vt(e,t,n,r,i,a){let o=pt(e),s=o!==e&&!Yt(e),c=o[t];if(c!==_t[t]){let t=c.apply(e,a);return s?$t(t):t}let l=n;o!==e&&(s?l=function(t,r){return n.call(this,mt(e,t),r,e)}:n.length>2&&(l=function(t,r){return n.call(this,t,r,e)}));let u=c.call(o,l,r);return s&&i?i(u):u}function yt(e,t,n,r){let i=pt(e),a=n;return i!==e&&(Yt(e)?n.length>3&&(a=function(t,r,i){return n.call(this,t,r,i,e)}):a=function(t,r,i){return n.call(this,t,mt(e,r),i,e)}),i[t](a,...r)}function bt(e,t,n){let r=Zt(e);lt(r,`iterate`,ct);let i=r[t](...n);return(i===-1||i===!1)&&Xt(n[0])?(n[0]=Zt(n[0]),r[t](...n)):i}function xt(e,t,n=[]){Qe(),He();let r=Zt(e)[t].apply(e,n);return Ue(),$e(),r}var St=u(`__proto__,__v_isRef,__isVue`),Ct=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!==`arguments`&&e!==`caller`).map(e=>Symbol[e]).filter(D));function wt(e){D(e)||(e=String(e));let t=Zt(this);return lt(t,`has`,e),t.hasOwnProperty(e)}var Tt=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t===`__v_skip`)return e.__v_skip;let r=this._isReadonly,i=this._isShallow;if(t===`__v_isReactive`)return!r;if(t===`__v_isReadonly`)return r;if(t===`__v_isShallow`)return i;if(t===`__v_raw`)return n===(r?i?Vt:Bt:i?zt:Rt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;let a=x(e);if(!r){let e;if(a&&(e=ht[t]))return e;if(t===`hasOwnProperty`)return wt}let o=Reflect.get(e,t,tn(e)?e:n);if((D(t)?Ct.has(t):St(t))||(r||lt(e,`get`,t),i))return o;if(tn(o)){let e=a&&te(t)?o:o.value;return r&&O(e)?Gt(e):e}return O(o)?r?Gt(o):Ut(o):o}},Et=class extends Tt{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t],a=x(e)&&te(t);if(!this._isShallow){let e=Jt(i);if(!Yt(n)&&!Jt(n)&&(i=Zt(i),n=Zt(n)),!a&&tn(i)&&!tn(n))return e||(i.value=n),!0}let o=a?Number(t)<e.length:b(e,t),s=Reflect.set(e,t,n,tn(e)?e:r);return e===Zt(r)&&(o?ce(n,i)&&ut(e,`set`,t,n,i):ut(e,`add`,t,n)),s}deleteProperty(e,t){let n=b(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&ut(e,`delete`,t,void 0,r),i}has(e,t){let n=Reflect.has(e,t);return(!D(t)||!Ct.has(t))&&lt(e,`has`,t),n}ownKeys(e){return lt(e,`iterate`,x(e)?`length`:ot),Reflect.ownKeys(e)}},Dt=class extends Tt{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}},eee=new Et,Ot=new Dt,kt=new Et(!0),At=e=>e,jt=e=>Reflect.getPrototypeOf(e);function tee(e,t,n){return function(...r){let i=this.__v_raw,a=Zt(i),o=S(a),s=e===`entries`||e===Symbol.iterator&&o,c=e===`keys`&&o,l=i[e](...r),u=n?At:t?en:$t;return!t&&lt(a,`iterate`,c?st:ot),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Mt(e){return function(...t){return e===`delete`?!1:e===`clear`?void 0:this}}function Nt(e,t){let n={get(n){let r=this.__v_raw,i=Zt(r),a=Zt(n);e||(ce(n,a)&&lt(i,`get`,n),lt(i,`get`,a));let{has:o}=jt(i),s=t?At:e?en:$t;if(o.call(i,n))return s(r.get(n));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(n)},get size(){let t=this.__v_raw;return!e&&lt(Zt(t),`iterate`,ot),t.size},has(t){let n=this.__v_raw,r=Zt(n),i=Zt(t);return e||(ce(t,i)&&lt(r,`has`,t),lt(r,`has`,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){let i=this,a=i.__v_raw,o=Zt(a),s=t?At:e?en:$t;return!e&&lt(o,`iterate`,ot),a.forEach((e,t)=>n.call(r,s(e),s(t),i))}};return _(n,e?{add:Mt(`add`),set:Mt(`set`),delete:Mt(`delete`),clear:Mt(`clear`)}:{add(e){!t&&!Yt(e)&&!Jt(e)&&(e=Zt(e));let n=Zt(this);return jt(n).has.call(n,e)||(n.add(e),ut(n,`add`,e,e)),this},set(e,n){!t&&!Yt(n)&&!Jt(n)&&(n=Zt(n));let r=Zt(this),{has:i,get:a}=jt(r),o=i.call(r,e);o||=(e=Zt(e),i.call(r,e));let s=a.call(r,e);return r.set(e,n),o?ce(n,s)&&ut(r,`set`,e,n,s):ut(r,`add`,e,n),this},delete(e){let t=Zt(this),{has:n,get:r}=jt(t),i=n.call(t,e);i||=(e=Zt(e),n.call(t,e));let a=r?r.call(t,e):void 0,o=t.delete(e);return i&&ut(t,`delete`,e,void 0,a),o},clear(){let e=Zt(this),t=e.size!==0,n=e.clear();return t&&ut(e,`clear`,void 0,void 0,void 0),n}}),[`keys`,`values`,`entries`,Symbol.iterator].forEach(r=>{n[r]=tee(r,e,t)}),n}function Pt(e,t){let n=Nt(e,t);return(t,r,i)=>r===`__v_isReactive`?!e:r===`__v_isReadonly`?e:r===`__v_raw`?t:Reflect.get(b(n,r)&&r in t?n:t,r,i)}var Ft={get:Pt(!1,!1)},It={get:Pt(!1,!0)},Lt={get:Pt(!0,!1)},Rt=new WeakMap,zt=new WeakMap,Bt=new WeakMap,Vt=new WeakMap;function Ht(e){switch(e){case`Object`:case`Array`:return 1;case`Map`:case`Set`:case`WeakMap`:case`WeakSet`:return 2;default:return 0}}function nee(e){return e.__v_skip||!Object.isExtensible(e)?0:Ht(M(e))}function Ut(e){return Jt(e)?e:Kt(e,!1,eee,Ft,Rt)}function Wt(e){return Kt(e,!1,kt,It,zt)}function Gt(e){return Kt(e,!0,Ot,Lt,Bt)}function Kt(e,t,n,r,i){if(!O(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let a=nee(e);if(a===0)return e;let o=i.get(e);if(o)return o;let s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function qt(e){return Jt(e)?qt(e.__v_raw):!!(e&&e.__v_isReactive)}function Jt(e){return!!(e&&e.__v_isReadonly)}function Yt(e){return!!(e&&e.__v_isShallow)}function Xt(e){return e?!!e.__v_raw:!1}function Zt(e){let t=e&&e.__v_raw;return t?Zt(t):e}function Qt(e){return!b(e,`__v_skip`)&&Object.isExtensible(e)&&ue(e,`__v_skip`,!0),e}var $t=e=>O(e)?Ut(e):e,en=e=>O(e)?Gt(e):e;function tn(e){return e?e.__v_isRef===!0:!1}function L(e){return rn(e,!1)}function nn(e){return rn(e,!0)}function rn(e,t){return tn(e)?e:new an(e,t)}var an=class{constructor(e,t){this.dep=new rt,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Zt(e),this._value=t?e:$t(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){let t=this._rawValue,n=this.__v_isShallow||Yt(e)||Jt(e);e=n?e:Zt(e),ce(e,t)&&(this._rawValue=e,this._value=n?e:$t(e),this.dep.trigger())}};function on(e){e.dep&&e.dep.trigger()}function R(e){return tn(e)?e.value:e}var sn={get:(e,t,n)=>t===`__v_raw`?e:R(Reflect.get(e,t,n)),set:(e,t,n,r)=>{let i=e[t];return tn(i)&&!tn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function cn(e){return qt(e)?e:new Proxy(e,sn)}function ln(e){let t=x(e)?Array(e.length):{};for(let n in e)t[n]=pn(e,n);return t}var un=class{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Zt(e);let r=!0,i=e;if(!x(e)||!te(String(t)))do r=!Xt(i)||Yt(i);while(r&&(i=i.__v_raw));this._shallow=r}get value(){let e=this._object[this._key];return this._shallow&&(e=R(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&tn(this._raw[this._key])){let t=this._object[this._key];if(tn(t)){t.value=e;return}}this._object[this._key]=e}get dep(){return dt(this._raw,this._key)}},dn=class{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}};function fn(e,t,n){return tn(e)?e:T(e)?new dn(e):O(e)&&arguments.length>1?pn(e,t,n):L(e)}function pn(e,t,n){return new un(e,t,n)}var mn=class{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new rt(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=tt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Ve(this,!0),!0}get value(){let e=this.dep.track();return qe(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}};function hn(e,t,n=!1){let r,i;return T(e)?r=e:(r=e.get,i=e.set),new mn(r,i,n)}var gn={},_n=new WeakMap,vn=void 0;function yn(e,t=!1,n=vn){if(n){let t=_n.get(n);t||_n.set(n,t=[]),t.push(e)}}function ree(e,t,n=d){let{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:c}=n,l=e=>i?e:Yt(e)||i===!1||i===0?bn(e,1):bn(e),u,f,m,h,g=!1,_=!1;if(tn(e)?(f=()=>e.value,g=Yt(e)):qt(e)?(f=()=>l(e),g=!0):x(e)?(_=!0,g=e.some(e=>qt(e)||Yt(e)),f=()=>e.map(e=>{if(tn(e))return e.value;if(qt(e))return l(e);if(T(e))return c?c(e,2):e()})):f=T(e)?t?c?()=>c(e,2):e:()=>{if(m){Qe();try{m()}finally{$e()}}let t=vn;vn=u;try{return c?c(e,3,[h]):e(h)}finally{vn=t}}:p,t&&i){let e=f,t=i===!0?1/0:i;f=()=>bn(e(),t)}let y=Ne(),b=()=>{u.stop(),y&&y.active&&v(y.effects,u)};if(a&&t){let e=t;t=(...t)=>{e(...t),b()}}let S=_?Array(e.length).fill(gn):gn,C=e=>{if(!(!(u.flags&1)||!u.dirty&&!e))if(t){let e=u.run();if(i||g||(_?e.some((e,t)=>ce(e,S[t])):ce(e,S))){m&&m();let n=vn;vn=u;try{let n=[e,S===gn?void 0:_&&S[0]===gn?[]:S,h];S=e,c?c(t,3,n):t(...n)}finally{vn=n}}}else u.run()};return s&&s(C),u=new Le(f),u.scheduler=o?()=>o(C,!1):C,h=e=>yn(e,!1,u),m=u.onStop=()=>{let e=_n.get(u);if(e){if(c)c(e,4);else for(let t of e)t();_n.delete(u)}},t?r?C(!0):S=u.run():o?o(C.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function bn(e,t=1/0,n){if(t<=0||!O(e)||e.__v_skip||(n||=new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,tn(e))bn(e.value,t,n);else if(x(e))for(let r=0;r<e.length;r++)bn(e[r],t,n);else if(C(e)||S(e))e.forEach(e=>{bn(e,t,n)});else if(ee(e)){for(let r in e)bn(e[r],t,n);for(let r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&bn(e[r],t,n)}return e}function xn(e,t,n,r){try{return r?e(...r):e()}catch(e){Cn(e,t,n)}}function Sn(e,t,n,r){if(T(e)){let i=xn(e,t,n,r);return i&&k(i)&&i.catch(e=>{Cn(e,t,n)}),i}if(x(e)){let i=[];for(let a=0;a<e.length;a++)i.push(Sn(e[a],t,n,r));return i}}function Cn(e,t,n,r=!0){let i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||d;if(t){let r=t.parent,i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){let t=r.ec;if(t){for(let n=0;n<t.length;n++)if(t[n](e,i,o)===!1)return}r=r.parent}if(a){Qe(),xn(a,null,10,[e,i,o]),$e();return}}wn(e,n,i,r,o)}function wn(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}var Tn=[],En=-1,Dn=[],On=null,kn=0,An=Promise.resolve(),jn=null;function Mn(e){let t=jn||An;return e?t.then(this?e.bind(this):e):t}function Nn(e){let t=En+1,n=Tn.length;for(;t<n;){let r=t+n>>>1,i=Tn[r],a=zn(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function Pn(e){if(!(e.flags&1)){let t=zn(e),n=Tn[Tn.length-1];!n||!(e.flags&2)&&t>=zn(n)?Tn.push(e):Tn.splice(Nn(t),0,e),e.flags|=1,Fn()}}function Fn(){jn||=An.then(Bn)}function In(e){x(e)?Dn.push(...e):On&&e.id===-1?On.splice(kn+1,0,e):e.flags&1||(Dn.push(e),e.flags|=1),Fn()}function Ln(e,t,n=En+1){for(;n<Tn.length;n++){let t=Tn[n];if(t&&t.flags&2){if(e&&t.id!==e.uid)continue;Tn.splice(n,1),n--,t.flags&4&&(t.flags&=-2),t(),t.flags&4||(t.flags&=-2)}}}function Rn(e){if(Dn.length){let e=[...new Set(Dn)].sort((e,t)=>zn(e)-zn(t));if(Dn.length=0,On){On.push(...e);return}for(On=e,kn=0;kn<On.length;kn++){let e=On[kn];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}On=null,kn=0}}var zn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Bn(e){try{for(En=0;En<Tn.length;En++){let e=Tn[En];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),xn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;En<Tn.length;En++){let e=Tn[En];e&&(e.flags&=-2)}En=-1,Tn.length=0,Rn(e),jn=null,(Tn.length||Dn.length)&&Bn(e)}}var Vn=null,Hn=null;function Un(e){let t=Vn;return Vn=e,Hn=e&&e.type.__scopeId||null,t}function z(e,t=Vn,n){if(!t||e._n)return e;let r=(...n)=>{r._d&&Ea(-1);let i=Un(t),a;try{a=e(...n)}finally{Un(i),r._d&&Ea(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Wn(e,t){if(Vn===null)return e;let n=ao(Vn),r=e.dirs||=[];for(let e=0;e<t.length;e++){let[i,a,o,s=d]=t[e];i&&(T(i)&&(i={mounted:i,updated:i}),i.deep&&bn(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:s}))}return e}function Gn(e,t,n,r){let i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){let s=i[o];a&&(s.oldValue=a[o].value);let c=s.dir[r];c&&(Qe(),Sn(c,n,8,[e.el,s,e,t]),$e())}}function Kn(e,t){if(Wa){let n=Wa.provides,r=Wa.parent&&Wa.parent.provides;r===n&&(n=Wa.provides=Object.create(r)),n[e]=t}}function qn(e,t,n=!1){let r=Ga();if(r||ji){let i=ji?ji._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&T(t)?t.call(r&&r.proxy):t}}var Jn=Symbol.for(`v-scx`),Yn=()=>qn(Jn);function Xn(e,t){return Zn(e,null,t)}function B(e,t,n){return Zn(e,t,n)}function Zn(e,t,n=d){let{immediate:r,deep:i,flush:a,once:o}=n,s=_({},n),c=t&&r||!t&&a!==`post`,l;if(Za){if(a===`sync`){let e=Yn();l=e.__watcherHandles||=[]}else if(!c){let e=()=>{};return e.stop=p,e.resume=p,e.pause=p,e}}let u=Wa;s.call=(e,t,n)=>Sn(e,u,t,n);let f=!1;a===`post`?s.scheduler=e=>{aa(e,u&&u.suspense)}:a!==`sync`&&(f=!0,s.scheduler=(e,t)=>{t?e():Pn(e)}),s.augmentJob=e=>{t&&(e.flags|=4),f&&(e.flags|=2,u&&(e.id=u.uid,e.i=u))};let m=ree(e,t,s);return Za&&(l?l.push(m):c&&m()),m}function Qn(e,t,n){let r=this.proxy,i=E(e)?e.includes(`.`)?$n(r,e):()=>r[e]:e.bind(r,r),a;T(t)?a=t:(a=t.handler,n=t);let o=Ja(this),s=Zn(i,a.bind(r),n);return o(),s}function $n(e,t){let n=t.split(`.`);return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}var er=Symbol(`_vte`),tr=e=>e.__isTeleport,nr=e=>e&&(e.disabled||e.disabled===``),rr=e=>e&&(e.defer||e.defer===``),ir=e=>typeof SVGElement<`u`&&e instanceof SVGElement,ar=e=>typeof MathMLElement==`function`&&e instanceof MathMLElement,or=(e,t)=>{let n=e&&e.to;return E(n)?t?t(n):null:n},sr={name:`Teleport`,__isTeleport:!0,process(e,t,n,r,i,a,o,s,c,l){let{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:h,createComment:g}}=l,_=nr(t.props),{shapeFlag:v,children:y,dynamicChildren:b}=t;if(e==null){let e=t.el=h(``),l=t.anchor=h(``);p(e,n,r),p(l,n,r);let d=(e,t)=>{v&16&&u(y,e,t,i,a,o,s,c)},f=()=>{let e=t.target=or(t.props,m),n=fr(e,t,h,p);e&&(o!==`svg`&&ir(e)?o=`svg`:o!==`mathml`&&ar(e)&&(o=`mathml`),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(e),_||(d(e,n),dr(t,!1)))};_&&(d(n,l),dr(t,!0)),rr(t.props)?(t.el.__isMounted=!1,aa(()=>{f(),delete t.el.__isMounted},a)):f()}else{if(rr(t.props)&&e.el.__isMounted===!1){aa(()=>{sr.process(e,t,n,r,i,a,o,s,c,l)},a);return}t.el=e.el,t.targetStart=e.targetStart;let u=t.anchor=e.anchor,p=t.target=e.target,h=t.targetAnchor=e.targetAnchor,g=nr(e.props),v=g?n:p,y=g?u:h;if(o===`svg`||ir(p)?o=`svg`:(o===`mathml`||ar(p))&&(o=`mathml`),b?(f(e.dynamicChildren,b,v,i,a,o,s),da(e,t,!0)):c||d(e,t,v,y,i,a,o,s,!1),_)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):cr(t,n,u,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){let e=t.target=or(t.props,m);e&&cr(t,e,null,l,0)}else g&&cr(t,p,h,l,1);dr(t,_)}},remove(e,t,n,{um:r,o:{remove:i}},a){let{shapeFlag:o,children:s,anchor:c,targetStart:l,targetAnchor:u,target:d,props:f}=e;if(d&&(i(l),i(u)),a&&i(c),o&16){let e=a||!nr(f);for(let i=0;i<s.length;i++){let a=s[i];r(a,t,n,e,!!a.dynamicChildren)}}},move:cr,hydrate:lr};function cr(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);let{el:o,anchor:s,shapeFlag:c,children:l,props:u}=e,d=a===2;if(d&&r(o,t,n),(!d||nr(u))&&c&16)for(let e=0;e<l.length;e++)i(l[e],t,n,2);d&&r(s,t,n)}function lr(e,t,n,r,i,a,{o:{nextSibling:o,parentNode:s,querySelector:c,insert:l,createText:u}},d){function f(e,t,c,l){t.anchor=d(o(e),t,s(e),n,r,i,a),t.targetStart=c,t.targetAnchor=l}let p=t.target=or(t.props,c),m=nr(t.props);if(p){let s=p._lpa||p.firstChild;if(t.shapeFlag&16)if(m)f(e,t,s,s&&o(s));else{t.anchor=o(e);let c=s;for(;c;){if(c&&c.nodeType===8){if(c.data===`teleport start anchor`)t.targetStart=c;else if(c.data===`teleport anchor`){t.targetAnchor=c,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}c=o(c)}t.targetAnchor||fr(p,t,u,l),d(s&&o(s),t,p,n,r,i,a)}dr(t,m)}else m&&t.shapeFlag&16&&f(e,t,e,o(e));return t.anchor&&o(t.anchor)}var ur=sr;function dr(e,t){let n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute(`data-v-owner`,n.uid),r=r.nextSibling;n.ut()}}function fr(e,t,n,r){let i=t.targetStart=n(``),a=t.targetAnchor=n(``);return i[er]=a,e&&(r(i,e),r(a,e)),a}var pr=Symbol(`_leaveCb`),mr=Symbol(`_enterCb`);function hr(){let e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zr(()=>{e.isMounted=!0}),Hr(()=>{e.isUnmounting=!0}),e}var gr=[Function,Array],_r={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gr,onEnter:gr,onAfterEnter:gr,onEnterCancelled:gr,onBeforeLeave:gr,onLeave:gr,onAfterLeave:gr,onLeaveCancelled:gr,onBeforeAppear:gr,onAppear:gr,onAfterAppear:gr,onAppearCancelled:gr},vr=e=>{let t=e.subTree;return t.component?vr(t.component):t},iee={name:`BaseTransition`,props:_r,setup(e,{slots:t}){let n=Ga(),r=hr();return()=>{let i=t.default&&Tr(t.default(),!0);if(!i||!i.length)return;let a=yr(i),o=Zt(e),{mode:s}=o;if(r.isLeaving)return Sr(a);let c=Cr(a);if(!c)return Sr(a);let l=xr(c,o,r,n,e=>l=e);c.type!==ba&&wr(c,l);let u=n.subTree&&Cr(n.subTree);if(u&&u.type!==ba&&!ka(u,c)&&vr(n).type!==ba){let e=xr(u,o,r,n);if(wr(u,e),s===`out-in`&&c.type!==ba)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete e.afterLeave,u=void 0},Sr(a);s===`in-out`&&c.type!==ba?e.delayLeave=(e,t,n)=>{let i=br(r,u);i[String(u.key)]=u,e[pr]=()=>{t(),e[pr]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{n(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&=void 0;return a}}};function yr(e){let t=e[0];if(e.length>1){for(let n of e)if(n.type!==ba){t=n;break}}return t}var aee=iee;function br(e,t){let{leavingVNodes:n}=e,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function xr(e,t,n,r,i){let{appear:a,mode:o,persisted:s=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:h,onBeforeAppear:g,onAppear:_,onAfterAppear:v,onAppearCancelled:y}=t,b=String(e.key),S=br(n,e),C=(e,t)=>{e&&Sn(e,r,9,t)},w=(e,t)=>{let n=t[1];C(e,t),x(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},T={mode:o,persisted:s,beforeEnter(t){let r=c;if(!n.isMounted)if(a)r=g||c;else return;t[pr]&&t[pr](!0);let i=S[b];i&&ka(e,i)&&i.el[pr]&&i.el[pr](),C(r,[t])},enter(e){let t=l,r=u,i=d;if(!n.isMounted)if(a)t=_||l,r=v||u,i=y||d;else return;let o=!1,s=e[mr]=t=>{o||(o=!0,C(t?i:r,[e]),T.delayedLeave&&T.delayedLeave(),e[mr]=void 0)};t?w(t,[e,s]):s()},leave(t,r){let i=String(e.key);if(t[mr]&&t[mr](!0),n.isUnmounting)return r();C(f,[t]);let a=!1,o=t[pr]=n=>{a||(a=!0,r(),C(n?h:m,[t]),t[pr]=void 0,S[i]===e&&delete S[i])};S[i]=e,p?w(p,[t,o]):o()},clone(e){let a=xr(e,t,n,r,i);return i&&i(a),a}};return T}function Sr(e){if(jr(e))return e=Pa(e),e.children=null,e}function Cr(e){if(!jr(e))return tr(e.type)&&e.children?yr(e.children):e;if(e.component)return e.component.subTree;let{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&T(n.default))return n.default()}}function wr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,wr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Tr(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a],s=n==null?o.key:String(n)+String(o.key==null?a:o.key);o.type===va?(o.patchFlag&128&&i++,r=r.concat(Tr(o.children,t,s))):(t||o.type!==ba)&&r.push(s==null?o:Pa(o,{key:s}))}if(i>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}function V(e,t){return T(e)?(()=>_({name:e.name},t,{setup:e}))():e}function Er(e){e.ids=[e.ids[0]+ e.ids[2]+++`-`,0,0]}var Dr=new WeakMap;function Or(e,t,n,r,i=!1){if(x(e)){e.forEach((e,a)=>Or(e,t&&(x(t)?t[a]:t),n,r,i));return}if(Ar(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Or(e,t,n,r.component.subTree);return}let a=r.shapeFlag&4?ao(r.component):r.el,o=i?null:a,{i:s,r:c}=e,l=t&&t.r,u=s.refs===d?s.refs={}:s.refs,f=s.setupState,p=Zt(f),h=f===d?m:e=>b(p,e),g=e=>!0;if(l!=null&&l!==c){if(kr(t),E(l))u[l]=null,h(l)&&(f[l]=null);else if(tn(l)){g(l)&&(l.value=null);let e=t;e.k&&(u[e.k]=null)}}if(T(c))xn(c,s,12,[o,u]);else{let t=E(c),r=tn(c);if(t||r){let s=()=>{if(e.f){let n=t?h(c)?f[c]:u[c]:g(c)||!e.k?c.value:u[e.k];if(i)x(n)&&v(n,a);else if(x(n))n.includes(a)||n.push(a);else if(t)u[c]=[a],h(c)&&(f[c]=u[c]);else{let t=[a];g(c)&&(c.value=t),e.k&&(u[e.k]=t)}}else t?(u[c]=o,h(c)&&(f[c]=o)):r&&(g(c)&&(c.value=o),e.k&&(u[e.k]=o))};if(o){let t=()=>{s(),Dr.delete(e)};t.id=-1,Dr.set(e,t),aa(t,n)}else kr(e),s()}}}function kr(e){let t=Dr.get(e);t&&(t.flags|=8,Dr.delete(e))}me().requestIdleCallback,me().cancelIdleCallback;var Ar=e=>!!e.type.__asyncLoader,jr=e=>e.type.__isKeepAlive;function Mr(e,t){Pr(e,`a`,t)}function Nr(e,t){Pr(e,`da`,t)}function Pr(e,t,n=Wa){let r=e.__wdc||=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()};if(Ir(t,r,n),n){let e=n.parent;for(;e&&e.parent;)jr(e.parent.vnode)&&Fr(r,t,n,e),e=e.parent}}function Fr(e,t,n,r){let i=Ir(t,e,r,!0);Ur(()=>{v(r[t],i)},n)}function Ir(e,t,n=Wa,r=!1){if(n){let i=n[e]||(n[e]=[]),a=t.__weh||=(...r)=>{Qe();let i=Ja(n),a=Sn(t,n,e,r);return i(),$e(),a};return r?i.unshift(a):i.push(a),a}}var Lr=e=>(t,n=Wa)=>{(!Za||e===`sp`)&&Ir(e,(...e)=>t(...e),n)},Rr=Lr(`bm`),zr=Lr(`m`),Br=Lr(`bu`),Vr=Lr(`u`),Hr=Lr(`bum`),Ur=Lr(`um`),Wr=Lr(`sp`),Gr=Lr(`rtg`),Kr=Lr(`rtc`);function qr(e,t=Wa){Ir(`ec`,e,t)}var Jr=`components`,oee=`directives`;function Yr(e,t){return $r(Jr,e,!0,t)||e}var Xr=Symbol.for(`v-ndc`);function Zr(e){return E(e)?$r(Jr,e,!1)||e:e||Xr}function Qr(e){return $r(oee,e)}function $r(e,t,n=!0,r=!1){let i=Vn||Wa;if(i){let n=i.type;if(e===Jr){let e=uee(n,!1);if(e&&(e===t||e===ie(t)||e===oe(ie(t))))return n}let a=ei(i[e]||n[e],t)||ei(i.appContext[e],t);return!a&&r?n:a}}function ei(e,t){return e&&(e[t]||e[ie(t)]||e[oe(ie(t))])}function ti(e,t,n,r){let i,a=n&&n[r],o=x(e);if(o||E(e)){let n=o&&qt(e),r=!1,s=!1;n&&(r=!Yt(e),s=Jt(e),e=pt(e)),i=Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(r?s?en($t(e[n])):$t(e[n]):e[n],n,void 0,a&&a[n])}else if(typeof e==`number`){i=Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if(O(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,a&&a[n]));else{let n=Object.keys(e);i=Array(n.length);for(let r=0,o=n.length;r<o;r++){let o=n[r];i[r]=t(e[o],o,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}function ni(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(x(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{let t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function H(e,t,n={},r,i){if(Vn.ce||Vn.parent&&Ar(Vn.parent)&&Vn.parent.ce){let e=Object.keys(n).length>0;return t!==`default`&&(n.name=t),U(),G(va,null,[q(`slot`,n,r&&r())],e?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),U();let o=a&&ri(a(n)),s=n.key||o&&o.key,c=G(va,{key:(s&&!D(s)?s:`_${t}`)+(!o&&r?`_fb`:``)},o||(r?r():[]),o&&e._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+`-s`]),a&&a._c&&(a._d=!0),c}function ri(e){return e.some(e=>Oa(e)?!(e.type===ba||e.type===va&&!ri(e.children)):!0)?e:null}function ii(e,t){let n={};for(let r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:se(r)]=e[r];return n}var ai=e=>e?Xa(e)?ao(e):ai(e.parent):null,oi=_(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ai(e.parent),$root:e=>ai(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vi(e),$forceUpdate:e=>e.f||=()=>{Pn(e.update)},$nextTick:e=>e.n||=Mn.bind(e.proxy),$watch:e=>Qn.bind(e)}),si=(e,t)=>e!==d&&!e.__isScriptSetup&&b(e,t),ci={get({_:e},t){if(t===`__v_skip`)return!0;let{ctx:n,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:c}=e;if(t[0]!==`$`){let e=o[t];if(e!==void 0)switch(e){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else if(si(r,t))return o[t]=1,r[t];else if(i!==d&&b(i,t))return o[t]=2,i[t];else if(b(a,t))return o[t]=3,a[t];else if(n!==d&&b(n,t))return o[t]=4,n[t];else pi&&(o[t]=0)}let l=oi[t],u,f;if(l)return t===`$attrs`&&lt(e.attrs,`get`,``),l(e);if((u=s.__cssModules)&&(u=u[t]))return u;if(n!==d&&b(n,t))return o[t]=4,n[t];if(f=c.config.globalProperties,b(f,t))return f[t]},set({_:e},t,n){let{data:r,setupState:i,ctx:a}=e;return si(i,t)?(i[t]=n,!0):r!==d&&b(r,t)?(r[t]=n,!0):b(e.props,t)||t[0]===`$`&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,props:a,type:o}},s){let c;return!!(n[s]||e!==d&&s[0]!==`$`&&b(e,s)||si(t,s)||b(a,s)||b(r,s)||b(oi,s)||b(i.config.globalProperties,s)||(c=o.__cssModules)&&c[s])},defineProperty(e,t,n){return n.get==null?b(n,`value`)&&this.set(e,t,n.value,null):e._.accessCache[t]=0,Reflect.defineProperty(e,t,n)}};function li(){return di(`useSlots`).slots}function ui(){return di(`useAttrs`).attrs}function di(e){let t=Ga();return t.setupContext||=io(t)}function fi(e){return x(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}var pi=!0;function mi(e){let t=vi(e),n=e.proxy,r=e.ctx;pi=!1,t.beforeCreate&&gi(t.beforeCreate,e,`bc`);let{data:i,computed:a,methods:o,watch:s,provide:c,inject:l,created:u,beforeMount:d,mounted:f,beforeUpdate:m,updated:h,activated:g,deactivated:_,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:S,render:C,renderTracked:w,renderTriggered:E,errorCaptured:D,serverPrefetch:k,expose:A,inheritAttrs:j,components:M,directives:ee,filters:te}=t;if(l&&hi(l,r,null),o)for(let e in o){let t=o[e];T(t)&&(r[e]=t.bind(n))}if(i){let t=i.call(n,n);O(t)&&(e.data=Ut(t))}if(pi=!0,a)for(let e in a){let t=a[e],i=Y({get:T(t)?t.bind(n,n):T(t.get)?t.get.bind(n,n):p,set:!T(t)&&T(t.set)?t.set.bind(n):p});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(s)for(let e in s)_i(s[e],r,n,e);if(c){let e=T(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Kn(t,e[t])})}u&&gi(u,e,`c`);function N(e,t){x(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(N(Rr,d),N(zr,f),N(Br,m),N(Vr,h),N(Mr,g),N(Nr,_),N(qr,D),N(Kr,w),N(Gr,E),N(Hr,y),N(Ur,S),N(Wr,k),x(A))if(A.length){let t=e.exposed||={};A.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||={};C&&e.render===p&&(e.render=C),j!=null&&(e.inheritAttrs=j),M&&(e.components=M),ee&&(e.directives=ee),k&&Er(e)}function hi(e,t,n=p){for(let n in x(e)&&(e=Ci(e)),e){let r=e[n],i;i=O(r)?`default`in r?qn(r.from||n,r.default,!0):qn(r.from||n):qn(r),tn(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}function gi(e,t,n){Sn(x(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function _i(e,t,n,r){let i=r.includes(`.`)?$n(n,r):()=>n[r];if(E(e)){let n=t[e];T(n)&&B(i,n)}else if(T(e))B(i,e.bind(n));else if(O(e))if(x(e))e.forEach(e=>_i(e,t,n,r));else{let r=T(e.handler)?e.handler.bind(n):t[e.handler];T(r)&&B(i,r,e)}}function vi(e){let t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t),c;return s?c=s:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(e=>yi(c,e,o,!0)),yi(c,t,o)),O(t)&&a.set(t,c),c}function yi(e,t,n,r=!1){let{mixins:i,extends:a}=t;for(let o in a&&yi(e,a,n,!0),i&&i.forEach(t=>yi(e,t,n,!0)),t)if(!(r&&o===`expose`)){let r=bi[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}var bi={data:xi,props:Ei,emits:Ei,methods:Ti,computed:Ti,beforeCreate:wi,created:wi,beforeMount:wi,mounted:wi,beforeUpdate:wi,updated:wi,beforeDestroy:wi,beforeUnmount:wi,destroyed:wi,unmounted:wi,activated:wi,deactivated:wi,errorCaptured:wi,serverPrefetch:wi,components:Ti,directives:Ti,watch:Di,provide:xi,inject:Si};function xi(e,t){return t?e?function(){return _(T(e)?e.call(this,this):e,T(t)?t.call(this,this):t)}:t:e}function Si(e,t){return Ti(Ci(e),Ci(t))}function Ci(e){if(x(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wi(e,t){return e?[...new Set([].concat(e,t))]:t}function Ti(e,t){return e?_(Object.create(null),e,t):t}function Ei(e,t){return e?x(e)&&x(t)?[...new Set([...e,...t])]:_(Object.create(null),fi(e),fi(t??{})):t}function Di(e,t){if(!e)return t;if(!t)return e;let n=_(Object.create(null),e);for(let r in t)n[r]=wi(e[r],t[r]);return n}function Oi(){return{app:null,config:{isNativeTag:m,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var ki=0;function Ai(e,t){return function(n,r=null){T(n)||(n=_({},n)),r!=null&&!O(r)&&(r=null);let i=Oi(),a=new WeakSet,o=[],s=!1,c=i.app={_uid:ki++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:fee,get config(){return i.config},set config(e){},use(e,...t){return a.has(e)||(e&&T(e.install)?(a.add(e),e.install(c,...t)):T(e)&&(a.add(e),e(c,...t))),c},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),c},component(e,t){return t?(i.components[e]=t,c):i.components[e]},directive(e,t){return t?(i.directives[e]=t,c):i.directives[e]},mount(a,o,l){if(!s){let u=c._ceVNode||q(n,r);return u.appContext=i,l===!0?l=`svg`:l===!1&&(l=void 0),o&&t?t(u,a):e(u,a,l),s=!0,c._container=a,a.__vue_app__=c,ao(u.component)}},onUnmount(e){o.push(e)},unmount(){s&&(Sn(o,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return i.provides[e]=t,c},runWithContext(e){let t=ji;ji=c;try{return e()}finally{ji=t}}};return c}}var ji=null,Mi=(e,t)=>t===`modelValue`||t===`model-value`?e.modelModifiers:e[`${t}Modifiers`]||e[`${ie(t)}Modifiers`]||e[`${ae(t)}Modifiers`];function Ni(e,t,...n){if(e.isUnmounted)return;let r=e.vnode.props||d,i=n,a=t.startsWith(`update:`),o=a&&Mi(r,t.slice(7));o&&(o.trim&&(i=n.map(e=>E(e)?e.trim():e)),o.number&&(i=n.map(de)));let s,c=r[s=se(t)]||r[s=se(ie(t))];!c&&a&&(c=r[s=se(ae(t))]),c&&Sn(c,e,6,i);let l=r[s+`Once`];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Sn(l,e,6,i)}}var Pi=new WeakMap;function Fi(e,t,n=!1){let r=n?Pi:t.emitsCache,i=r.get(e);if(i!==void 0)return i;let a=e.emits,o={},s=!1;if(!T(e)){let r=e=>{let n=Fi(e,t,!0);n&&(s=!0,_(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!a&&!s?(O(e)&&r.set(e,null),null):(x(a)?a.forEach(e=>o[e]=null):_(o,a),O(e)&&r.set(e,o),o)}function Ii(e,t){return!e||!h(t)?!1:(t=t.slice(2).replace(/Once$/,``),b(e,t[0].toLowerCase()+t.slice(1))||b(e,ae(t))||b(e,t))}function Li(e){let{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:c,render:l,renderCache:u,props:d,data:f,setupState:p,ctx:m,inheritAttrs:h}=e,_=Un(e),v,y;try{if(n.shapeFlag&4){let e=i||r,t=e;v=Ia(l.call(t,e,u,d,p,f,m)),y=s}else{let e=t;v=Ia(e.length>1?e(d,{attrs:s,slots:o,emit:c}):e(d,null)),y=t.props?s:Ri(s)}}catch(t){Sa.length=0,Cn(t,e,1),v=q(ba)}let b=v;if(y&&h!==!1){let e=Object.keys(y),{shapeFlag:t}=b;e.length&&t&7&&(a&&e.some(g)&&(y=zi(y,a)),b=Pa(b,y,!1,!0))}return n.dirs&&(b=Pa(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&wr(b,n.transition),v=b,Un(_),v}var Ri=e=>{let t;for(let n in e)(n===`class`||n===`style`||h(n))&&((t||={})[n]=e[n]);return t},zi=(e,t)=>{let n={};for(let r in e)(!g(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Bi(e,t,n){let{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:c}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Vi(r,o,l):!!o;if(c&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==r[n]&&!Ii(l,n))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?Vi(r,o,l):!0:!!o;return!1}function Vi(e,t,n){let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){let a=r[i];if(t[a]!==e[a]&&!Ii(n,a))return!0}return!1}function Hi({vnode:e,parent:t},n){for(;t;){let r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}var Ui={},Wi=()=>Object.create(Ui),Gi=e=>Object.getPrototypeOf(e)===Ui;function Ki(e,t,n,r=!1){let i={},a=Wi();for(let n in e.propsDefaults=Object.create(null),Ji(e,t,i,a),e.propsOptions[0])n in i||(i[n]=void 0);n?e.props=r?i:Wt(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function qi(e,t,n,r){let{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=Zt(i),[c]=e.propsOptions,l=!1;if((r||o>0)&&!(o&16)){if(o&8){let n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(Ii(e.emitsOptions,o))continue;let u=t[o];if(c)if(b(a,o))u!==a[o]&&(a[o]=u,l=!0);else{let t=ie(o);i[t]=Yi(c,s,t,u,e,!1)}else u!==a[o]&&(a[o]=u,l=!0)}}}else{Ji(e,t,i,a)&&(l=!0);let r;for(let a in s)(!t||!b(t,a)&&((r=ae(a))===a||!b(t,r)))&&(c?n&&(n[a]!==void 0||n[r]!==void 0)&&(i[a]=Yi(c,s,a,void 0,e,!0)):delete i[a]);if(a!==s)for(let e in a)(!t||!b(t,e))&&(delete a[e],l=!0)}l&&ut(e.attrs,`set`,``)}function Ji(e,t,n,r){let[i,a]=e.propsOptions,o=!1,s;if(t)for(let c in t){if(N(c))continue;let l=t[c],u;i&&b(i,u=ie(c))?!a||!a.includes(u)?n[u]=l:(s||={})[u]=l:Ii(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(a){let t=Zt(n),r=s||d;for(let o=0;o<a.length;o++){let s=a[o];n[s]=Yi(i,t,s,r[s],e,!b(r,s))}}return o}function Yi(e,t,n,r,i,a){let o=e[n];if(o!=null){let e=b(o,`default`);if(e&&r===void 0){let e=o.default;if(o.type!==Function&&!o.skipFactory&&T(e)){let{propsDefaults:a}=i;if(n in a)r=a[n];else{let o=Ja(i);r=a[n]=e.call(null,t),o()}}else r=e;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!e?r=!1:o[1]&&(r===``||r===ae(n))&&(r=!0))}return r}var see=new WeakMap;function Xi(e,t,n=!1){let r=n?see:t.propsCache,i=r.get(e);if(i)return i;let a=e.props,o={},s=[],c=!1;if(!T(e)){let r=e=>{c=!0;let[n,r]=Xi(e,t,!0);_(o,n),r&&s.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return O(e)&&r.set(e,f),f;if(x(a))for(let e=0;e<a.length;e++){let t=ie(a[e]);Zi(t)&&(o[t]=d)}else if(a)for(let e in a){let t=ie(e);if(Zi(t)){let n=a[e],r=o[t]=x(n)||T(n)?{type:n}:_({},n),i=r.type,c=!1,l=!0;if(x(i))for(let e=0;e<i.length;++e){let t=i[e],n=T(t)&&t.name;if(n===`Boolean`){c=!0;break}else n===`String`&&(l=!1)}else c=T(i)&&i.name===`Boolean`;r[0]=c,r[1]=l,(c||b(r,`default`))&&s.push(t)}}let l=[o,s];return O(e)&&r.set(e,l),l}function Zi(e){return e[0]!==`$`&&!N(e)}var Qi=e=>e===`_`||e===`_ctx`||e===`$stable`,$i=e=>x(e)?e.map(Ia):[Ia(e)],cee=(e,t,n)=>{if(t._n)return t;let r=z((...e)=>$i(t(...e)),n);return r._c=!1,r},ea=(e,t,n)=>{let r=e._ctx;for(let n in e){if(Qi(n))continue;let i=e[n];if(T(i))t[n]=cee(n,i,r);else if(i!=null){let e=$i(i);t[n]=()=>e}}},ta=(e,t)=>{let n=$i(t);e.slots.default=()=>n},na=(e,t,n)=>{for(let r in t)(n||!Qi(r))&&(e[r]=t[r])},ra=(e,t,n)=>{let r=e.slots=Wi();if(e.vnode.shapeFlag&32){let e=t._;e?(na(r,t,n),n&&ue(r,`_`,e,!0)):ea(t,r)}else t&&ta(e,t)},ia=(e,t,n)=>{let{vnode:r,slots:i}=e,a=!0,o=d;if(r.shapeFlag&32){let e=t._;e?n&&e===1?a=!1:na(i,t,n):(a=!t.$stable,ea(t,i)),o=t}else t&&(ta(e,t),o={default:1});if(a)for(let e in i)!Qi(e)&&o[e]==null&&delete i[e]},aa=_a;function oa(e){return sa(e)}function sa(e,t){let n=me();n.__VUE__=!0;let{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:c,setText:l,setElementText:u,parentNode:m,nextSibling:h,setScopeId:g=p,insertStaticContent:_}=e,v=(e,t,n,r=null,i=null,a=null,o=void 0,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!ka(e,t)&&(r=pe(e),se(e,i,a,!0),e=null),t.patchFlag===-2&&(c=!1,t.dynamicChildren=null);let{type:l,ref:u,shapeFlag:d}=t;switch(l){case ya:y(e,t,n,r);break;case ba:b(e,t,n,r);break;case xa:e??x(t,n,r,o);break;case va:j(e,t,n,r,i,a,o,s,c);break;default:d&1?w(e,t,n,r,i,a,o,s,c):d&6?M(e,t,n,r,i,a,o,s,c):(d&64||d&128)&&l.process(e,t,n,r,i,a,o,s,c,_e)}u!=null&&i?Or(u,e&&e.ref,a,t||e,!t):u==null&&e&&e.ref!=null&&Or(e.ref,null,a,e,!0)},y=(e,t,n,i)=>{if(e==null)r(t.el=s(t.children),n,i);else{let n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},b=(e,t,n,i)=>{e==null?r(t.el=c(t.children||``),n,i):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=_(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t},n,i)=>{let a;for(;e&&e!==t;)a=h(e),r(e,n,i),e=a;r(t,n,i)},C=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),i(e),e=n;i(t)},w=(e,t,n,r,i,a,o,s,c)=>{if(t.type===`svg`?o=`svg`:t.type===`math`&&(o=`mathml`),e==null)T(t,n,r,i,a,o,s,c);else{let n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),O(e,t,i,a,o,s,c)}finally{n&&n._endPatch()}}},T=(e,t,n,i,s,c,l,d)=>{let f,p,{props:m,shapeFlag:h,transition:g,dirs:_}=e;if(f=e.el=o(e.type,c,m&&m.is,m),h&8?u(f,e.children):h&16&&D(e.children,f,null,i,s,ca(e,c),l,d),_&&Gn(e,null,i,`created`),E(f,e,e.scopeId,l,i),m){for(let e in m)e!==`value`&&!N(e)&&a(f,e,null,m[e],c,i);`value`in m&&a(f,`value`,null,m.value,c),(p=m.onVnodeBeforeMount)&&Ba(p,i,e)}_&&Gn(e,null,i,`beforeMount`);let v=ua(s,g);v&&g.beforeEnter(f),r(f,t,n),((p=m&&m.onVnodeMounted)||v||_)&&aa(()=>{p&&Ba(p,i,e),v&&g.enter(f),_&&Gn(e,null,i,`mounted`)},s)},E=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(i){let n=i.subTree;if(t===n||ga(n.type)&&(n.ssContent===t||n.ssFallback===t)){let t=i.vnode;E(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},D=(e,t,n,r,i,a,o,s,c=0)=>{for(let l=c;l<e.length;l++)v(null,e[l]=s?La(e[l]):Ia(e[l]),t,n,r,i,a,o,s)},O=(e,t,n,r,i,o,s)=>{let c=t.el=e.el,{patchFlag:l,dynamicChildren:f,dirs:p}=t;l|=e.patchFlag&16;let m=e.props||d,h=t.props||d,g;if(n&&la(n,!1),(g=h.onVnodeBeforeUpdate)&&Ba(g,n,t,e),p&&Gn(t,e,n,`beforeUpdate`),n&&la(n,!0),(m.innerHTML&&h.innerHTML==null||m.textContent&&h.textContent==null)&&u(c,``),f?k(e.dynamicChildren,f,c,n,r,ca(t,i),o):s||ie(e,t,c,null,n,r,ca(t,i),o,!1),l>0){if(l&16)A(c,m,h,n,i);else if(l&2&&m.class!==h.class&&a(c,`class`,null,h.class,i),l&4&&a(c,`style`,m.style,h.style,i),l&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let r=e[t],o=m[r],s=h[r];(s!==o||r===`value`)&&a(c,r,o,s,i,n)}}l&1&&e.children!==t.children&&u(c,t.children)}else !s&&f==null&&A(c,m,h,n,i);((g=h.onVnodeUpdated)||p)&&aa(()=>{g&&Ba(g,n,t,e),p&&Gn(t,e,n,`updated`)},r)},k=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){let c=e[s],l=t[s];v(c,l,c.el&&(c.type===va||!ka(c,l)||c.shapeFlag&198)?m(c.el):n,null,r,i,a,o,!0)}},A=(e,t,n,r,i)=>{if(t!==n){if(t!==d)for(let o in t)!N(o)&&!(o in n)&&a(e,o,t[o],null,i,r);for(let o in n){if(N(o))continue;let s=n[o],c=t[o];s!==c&&o!==`value`&&a(e,o,c,s,i,r)}`value`in n&&a(e,`value`,t.value,n.value,i)}},j=(e,t,n,i,a,o,c,l,u)=>{let d=t.el=e?e.el:s(``),f=t.anchor=e?e.anchor:s(``),{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;h&&(l=l?l.concat(h):h),e==null?(r(d,n,i),r(f,n,i),D(t.children||[],n,f,a,o,c,l,u)):p>0&&p&64&&m&&e.dynamicChildren&&e.dynamicChildren.length===m.length?(k(e.dynamicChildren,m,n,a,o,c,l),(t.key!=null||a&&t===a.subTree)&&da(e,t,!0)):ie(e,t,n,f,a,o,c,l,u)},M=(e,t,n,r,i,a,o,s,c)=>{t.slotScopeIds=s,e==null?t.shapeFlag&512?i.ctx.activate(t,n,r,o,c):ee(t,n,r,i,a,o,c):te(e,t,c)},ee=(e,t,n,r,i,a,o)=>{let s=e.component=Ua(e,r,i);if(jr(e)&&(s.ctx.renderer=_e),Qa(s,!1,o),s.asyncDep){if(i&&i.registerDep(s,ne,o),!e.el){let r=s.subTree=q(ba);b(null,r,t,n),e.placeholder=r.el}}else ne(s,e,t,n,i,a,o)},te=(e,t,n)=>{let r=t.component=e.component;if(Bi(e,t,n))if(r.asyncDep&&!r.asyncResolved){re(r,t,n);return}else r.next=t,r.update();else t.el=e.el,r.vnode=t},ne=(e,t,n,r,i,a,o)=>{let s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:c,vnode:l}=e;{let n=pa(e);if(n){t&&(t.el=l.el,re(e,t,o)),n.asyncDep.then(()=>{e.isUnmounted||s()});return}}let u=t,d;la(e,!1),t?(t.el=l.el,re(e,t,o)):t=l,n&&le(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&Ba(d,c,t,l),la(e,!0);let f=Li(e),p=e.subTree;e.subTree=f,v(p,f,m(p.el),pe(p),e,i,a),t.el=f.el,u===null&&Hi(e,f.el),r&&aa(r,i),(d=t.props&&t.props.onVnodeUpdated)&&aa(()=>Ba(d,c,t,l),i)}else{let o,{el:s,props:c}=t,{bm:l,m:u,parent:d,root:f,type:p}=e,m=Ar(t);if(la(e,!1),l&&le(l),!m&&(o=c&&c.onVnodeBeforeMount)&&Ba(o,d,t),la(e,!0),s&&ye){let t=()=>{e.subTree=Li(e),ye(s,e.subTree,e,i,null)};m&&p.__asyncHydrate?p.__asyncHydrate(s,e,t):t()}else{f.ce&&f.ce._def.shadowRoot!==!1&&f.ce._injectChildStyle(p);let o=e.subTree=Li(e);v(null,o,n,r,e,i,a),t.el=o.el}if(u&&aa(u,i),!m&&(o=c&&c.onVnodeMounted)){let e=t;aa(()=>Ba(o,d,e),i)}(t.shapeFlag&256||d&&Ar(d.vnode)&&d.vnode.shapeFlag&256)&&e.a&&aa(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();let c=e.effect=new Le(s);e.scope.off();let l=e.update=c.run.bind(c),u=e.job=c.runIfDirty.bind(c);u.i=e,u.id=e.uid,c.scheduler=()=>Pn(u),la(e,!0),l()},re=(e,t,n)=>{t.component=e;let r=e.vnode.props;e.vnode=t,e.next=null,qi(e,t.props,r,n),ia(e,t.children,n),Qe(),Ln(e),$e()},ie=(e,t,n,r,i,a,o,s,c=!1)=>{let l=e&&e.children,d=e?e.shapeFlag:0,f=t.children,{patchFlag:p,shapeFlag:m}=t;if(p>0){if(p&128){ae(l,f,n,r,i,a,o,s,c);return}else if(p&256){P(l,f,n,r,i,a,o,s,c);return}}m&8?(d&16&&fe(l,i,a),f!==l&&u(n,f)):d&16?m&16?ae(l,f,n,r,i,a,o,s,c):fe(l,i,a,!0):(d&8&&u(n,``),m&16&&D(f,n,r,i,a,o,s,c))},P=(e,t,n,r,i,a,o,s,c)=>{e||=f,t||=f;let l=e.length,u=t.length,d=Math.min(l,u),p;for(p=0;p<d;p++){let r=t[p]=c?La(t[p]):Ia(t[p]);v(e[p],r,n,null,i,a,o,s,c)}l>u?fe(e,i,a,!0,!1,d):D(t,n,r,i,a,o,s,c,d)},ae=(e,t,n,r,i,a,o,s,c)=>{let l=0,u=t.length,d=e.length-1,p=u-1;for(;l<=d&&l<=p;){let r=e[l],u=t[l]=c?La(t[l]):Ia(t[l]);if(ka(r,u))v(r,u,n,null,i,a,o,s,c);else break;l++}for(;l<=d&&l<=p;){let r=e[d],l=t[p]=c?La(t[p]):Ia(t[p]);if(ka(r,l))v(r,l,n,null,i,a,o,s,c);else break;d--,p--}if(l>d){if(l<=p){let e=p+1,d=e<u?t[e].el:r;for(;l<=p;)v(null,t[l]=c?La(t[l]):Ia(t[l]),n,d,i,a,o,s,c),l++}}else if(l>p)for(;l<=d;)se(e[l],i,a,!0),l++;else{let m=l,h=l,g=new Map;for(l=h;l<=p;l++){let e=t[l]=c?La(t[l]):Ia(t[l]);e.key!=null&&g.set(e.key,l)}let _,y=0,b=p-h+1,x=!1,S=0,C=Array(b);for(l=0;l<b;l++)C[l]=0;for(l=m;l<=d;l++){let r=e[l];if(y>=b){se(r,i,a,!0);continue}let u;if(r.key!=null)u=g.get(r.key);else for(_=h;_<=p;_++)if(C[_-h]===0&&ka(r,t[_])){u=_;break}u===void 0?se(r,i,a,!0):(C[u-h]=l+1,u>=S?S=u:x=!0,v(r,t[u],n,null,i,a,o,s,c),y++)}let w=x?fa(C):f;for(_=w.length-1,l=b-1;l>=0;l--){let e=h+l,d=t[e],f=t[e+1],p=e+1<u?f.el||ha(f):r;C[l]===0?v(null,d,n,p,i,a,o,s,c):x&&(_<0||l!==w[_]?oe(d,n,p,2):_--)}}},oe=(e,t,n,a,o=null)=>{let{el:s,type:c,transition:l,children:u,shapeFlag:d}=e;if(d&6){oe(e.component.subTree,t,n,a);return}if(d&128){e.suspense.move(t,n,a);return}if(d&64){c.move(e,t,n,_e);return}if(c===va){r(s,t,n);for(let e=0;e<u.length;e++)oe(u[e],t,n,a);r(e.anchor,t,n);return}if(c===xa){S(e,t,n);return}if(a!==2&&d&1&&l)if(a===0)l.beforeEnter(s),r(s,t,n),aa(()=>l.enter(s),o);else{let{leave:a,delayLeave:o,afterLeave:c}=l,u=()=>{e.ctx.isUnmounted?i(s):r(s,t,n)},d=()=>{s._isLeaving&&s[pr](!0),a(s,()=>{u(),c&&c()})};o?o(s,u,d):d()}else r(s,t,n)},se=(e,t,n,r=!1,i=!1)=>{let{type:a,props:o,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:f,cacheIndex:p}=e;if(d===-2&&(i=!1),s!=null&&(Qe(),Or(s,null,n,e,!0),$e()),p!=null&&(t.renderCache[p]=void 0),u&256){t.ctx.deactivate(e);return}let m=u&1&&f,h=!Ar(e),g;if(h&&(g=o&&o.onVnodeBeforeUnmount)&&Ba(g,t,e),u&6)de(e.component,n,r);else{if(u&128){e.suspense.unmount(n,r);return}m&&Gn(e,null,t,`beforeUnmount`),u&64?e.type.remove(e,t,n,_e,r):l&&!l.hasOnce&&(a!==va||d>0&&d&64)?fe(l,t,n,!1,!0):(a===va&&d&384||!i&&u&16)&&fe(c,t,n),r&&ce(e)}(h&&(g=o&&o.onVnodeUnmounted)||m)&&aa(()=>{g&&Ba(g,t,e),m&&Gn(e,null,t,`unmounted`)},n)},ce=e=>{let{type:t,el:n,anchor:r,transition:a}=e;if(t===va){ue(n,r);return}if(t===xa){C(e);return}let o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(e.shapeFlag&1&&a&&!a.persisted){let{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},ue=(e,t)=>{let n;for(;e!==t;)n=h(e),i(e),e=n;i(t)},de=(e,t,n)=>{let{bum:r,scope:i,job:a,subTree:o,um:s,m:c,a:l}=e;ma(c),ma(l),r&&le(r),i.stop(),a&&(a.flags|=8,se(o,e,t,n)),s&&aa(s,t),aa(()=>{e.isUnmounted=!0},t)},fe=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)se(e[o],t,n,r,i)},pe=e=>{if(e.shapeFlag&6)return pe(e.component.subTree);if(e.shapeFlag&128)return e.suspense.next();let t=h(e.anchor||e.el),n=t&&t[er];return n?h(n):t},he=!1,ge=(e,t,n)=>{let r;e==null?t._vnode&&(se(t._vnode,null,null,!0),r=t._vnode.component):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,he||=(he=!0,Ln(r),Rn(),!1)},_e={p:v,um:se,m:oe,r:ce,mt:ee,mc:D,pc:ie,pbc:k,n:pe,o:e},ve,ye;return t&&([ve,ye]=t(_e)),{render:ge,hydrate:ve,createApp:Ai(ge,ve)}}function ca({type:e,props:t},n){return n===`svg`&&e===`foreignObject`||n===`mathml`&&e===`annotation-xml`&&t&&t.encoding&&t.encoding.includes(`html`)?void 0:n}function la({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ua(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function da(e,t,n=!1){let r=e.children,i=t.children;if(x(r)&&x(i))for(let t=0;t<r.length;t++){let a=r[t],o=i[t];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[t]=La(i[t]),o.el=a.el),!n&&o.patchFlag!==-2&&da(a,o)),o.type===ya&&(o.patchFlag===-1?o.__elIndex=t+(e.type===va?1:0):o.el=a.el),o.type===ba&&!o.el&&(o.el=a.el)}}function fa(e){let t=e.slice(),n=[0],r,i,a,o,s,c=e.length;for(r=0;r<c;r++){let c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function pa(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pa(t)}function ma(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function ha(e){if(e.placeholder)return e.placeholder;let t=e.component;return t?ha(t.subTree):null}var ga=e=>e.__isSuspense;function _a(e,t){t&&t.pendingBranch?x(e)?t.effects.push(...e):t.effects.push(e):In(e)}var va=Symbol.for(`v-fgt`),ya=Symbol.for(`v-txt`),ba=Symbol.for(`v-cmt`),xa=Symbol.for(`v-stc`),Sa=[],Ca=null;function U(e=!1){Sa.push(Ca=e?null:[])}function wa(){Sa.pop(),Ca=Sa[Sa.length-1]||null}var Ta=1;function Ea(e,t=!1){Ta+=e,e<0&&Ca&&t&&(Ca.hasOnce=!0)}function Da(e){return e.dynamicChildren=Ta>0?Ca||f:null,wa(),Ta>0&&Ca&&Ca.push(e),e}function W(e,t,n,r,i,a){return Da(K(e,t,n,r,i,a,!0))}function G(e,t,n,r,i){return Da(q(e,t,n,r,i,!0))}function Oa(e){return e?e.__v_isVNode===!0:!1}function ka(e,t){return e.type===t.type&&e.key===t.key}var Aa=({key:e})=>e??null,ja=({ref:e,ref_key:t,ref_for:n})=>(typeof e==`number`&&(e=``+e),e==null?null:E(e)||tn(e)||T(e)?{i:Vn,r:e,k:t,f:!!n}:e);function K(e,t=null,n=null,r=0,i=null,a=e===va?0:1,o=!1,s=!1){let c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Aa(t),ref:t&&ja(t),scopeId:Hn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Vn};return s?(Ra(c,n),a&128&&e.normalize(c)):n&&(c.shapeFlag|=E(n)?8:16),Ta>0&&!o&&Ca&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Ca.push(c),c}var q=Ma;function Ma(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===Xr)&&(e=ba),Oa(e)){let r=Pa(e,t,!0);return n&&Ra(r,n),Ta>0&&!a&&Ca&&(r.shapeFlag&6?Ca[Ca.indexOf(e)]=r:Ca.push(r)),r.patchFlag=-2,r}if(dee(e)&&(e=e.__vccOpts),t){t=Na(t);let{class:e,style:n}=t;e&&!E(e)&&(t.class=F(e)),O(n)&&(Xt(n)&&!x(n)&&(n=_({},n)),t.style=he(n))}let o=E(e)?1:ga(e)?128:tr(e)?64:O(e)?4:T(e)?2:0;return K(e,t,n,r,i,o,a,!0)}function Na(e){return e?Xt(e)||Gi(e)?_({},e):e:null}function Pa(e,t,n=!1,r=!1){let{props:i,ref:a,patchFlag:o,children:s,transition:c}=e,l=t?za(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Aa(l),ref:t&&t.ref?n&&a?x(a)?a.concat(ja(t)):[a,ja(t)]:ja(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==va?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pa(e.ssContent),ssFallback:e.ssFallback&&Pa(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&wr(u,c.clone(u)),u}function Fa(e=` `,t=0){return q(ya,null,e,t)}function J(e=``,t=!1){return t?(U(),G(ba,null,e)):q(ba,null,e)}function Ia(e){return e==null||typeof e==`boolean`?q(ba):x(e)?q(va,null,e.slice()):Oa(e)?La(e):q(ya,null,String(e))}function La(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pa(e)}function Ra(e,t){let n=0,{shapeFlag:r}=e;if(t==null)t=null;else if(x(t))n=16;else if(typeof t==`object`)if(r&65){let n=t.default;n&&(n._c&&(n._d=!1),Ra(e,n()),n._c&&(n._d=!0));return}else{n=32;let r=t._;!r&&!Gi(t)?t._ctx=Vn:r===3&&Vn&&(Vn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else T(t)?(t={default:t,_ctx:Vn},n=32):(t=String(t),r&64?(n=16,t=[Fa(t)]):n=8);e.children=t,e.shapeFlag|=n}function za(...e){let t={};for(let n=0;n<e.length;n++){let r=e[n];for(let e in r)if(e===`class`)t.class!==r.class&&(t.class=F([t.class,r.class]));else if(e===`style`)t.style=he([t.style,r.style]);else if(h(e)){let n=t[e],i=r[e];i&&n!==i&&!(x(n)&&n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else e!==``&&(t[e]=r[e])}return t}function Ba(e,t,n,r=null){Sn(e,t,7,[n,r])}var Va=Oi(),Ha=0;function Ua(e,t,n){let r=e.type,i=(t?t.appContext:e.appContext)||Va,a={uid:Ha++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new je(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:[``,0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xi(r,i),emitsOptions:Fi(r,i),emit:null,emitted:null,propsDefaults:d,inheritAttrs:r.inheritAttrs,ctx:d,data:d,props:d,attrs:d,slots:d,refs:d,setupState:d,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Ni.bind(null,a),e.ce&&e.ce(a),a}var Wa=null,Ga=()=>Wa||Vn,Ka,qa;{let e=me(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};Ka=t(`__VUE_INSTANCE_SETTERS__`,e=>Wa=e),qa=t(`__VUE_SSR_SETTERS__`,e=>Za=e)}var Ja=e=>{let t=Wa;return Ka(e),e.scope.on(),()=>{e.scope.off(),Ka(t)}},Ya=()=>{Wa&&Wa.scope.off(),Ka(null)};function Xa(e){return e.vnode.shapeFlag&4}var Za=!1;function Qa(e,t=!1,n=!1){t&&qa(t);let{props:r,children:i}=e.vnode,a=Xa(e);Ki(e,r,a,t),ra(e,i,n||t);let o=a?$a(e,t):void 0;return t&&qa(!1),o}function $a(e,t){let n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ci);let{setup:r}=n;if(r){Qe();let n=e.setupContext=r.length>1?io(e):null,i=Ja(e),a=xn(r,e,0,[e.props,n]),o=k(a);if($e(),i(),(o||e.sp)&&!Ar(e)&&Er(e),o){if(a.then(Ya,Ya),t)return a.then(n=>{eo(e,n,t)}).catch(t=>{Cn(t,e,0)});e.asyncDep=a}else eo(e,a,t)}else ro(e,t)}function eo(e,t,n){T(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:O(t)&&(e.setupState=cn(t)),ro(e,n)}var to,no;function ro(e,t,n){let r=e.type;if(!e.render){if(!t&&to&&!r.render){let t=r.template||vi(e).template;if(t){let{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:o}=r;r.render=to(t,_(_({isCustomElement:n,delimiters:a},i),o))}}e.render=r.render||p,no&&no(e)}{let t=Ja(e);Qe();try{mi(e)}finally{$e(),t()}}}var lee={get(e,t){return lt(e,`get`,``),e[t]}};function io(e){return{attrs:new Proxy(e.attrs,lee),slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function ao(e){return e.exposed?e.exposeProxy||=new Proxy(cn(Qt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in oi)return oi[n](e)},has(e,t){return t in e||t in oi}}):e.proxy}function uee(e,t=!0){return T(e)?e.displayName||e.name:e.name||t&&e.__name}function dee(e){return T(e)&&`__vccOpts`in e}var Y=(e,t)=>hn(e,t,Za);function oo(e,t,n){try{Ea(-1);let r=arguments.length;return r===2?O(t)&&!x(t)?Oa(t)?q(e,null,[t]):q(e,t):q(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Oa(n)&&(n=[n]),q(e,t,n))}finally{Ea(1)}}var fee=`3.5.26`,pee=p,so=void 0,co=typeof window<`u`&&window.trustedTypes;if(co)try{so=co.createPolicy(`vue`,{createHTML:e=>e})}catch{}var lo=so?e=>so.createHTML(e):e=>e,mee=`http://www.w3.org/2000/svg`,hee=`http://www.w3.org/1998/Math/MathML`,uo=typeof document<`u`?document:null,fo=uo&&uo.createElement(`template`),po={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{let i=t===`svg`?uo.createElementNS(mee,e):t===`mathml`?uo.createElementNS(hee,e):n?uo.createElement(e,{is:n}):uo.createElement(e);return e===`select`&&r&&r.multiple!=null&&i.setAttribute(`multiple`,r.multiple),i},createText:e=>uo.createTextNode(e),createComment:e=>uo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>uo.querySelector(e),setScopeId(e,t){e.setAttribute(t,``)},insertStaticContent(e,t,n,r,i,a){let o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{fo.innerHTML=lo(r===`svg`?`<svg>${e}</svg>`:r===`mathml`?`<math>${e}</math>`:e);let i=fo.content;if(r===`svg`||r===`mathml`){let e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},mo=`transition`,ho=`animation`,go=Symbol(`_vtc`),_o={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},vo=_({},_r,_o),yo=(e=>(e.displayName=`Transition`,e.props=vo,e))((e,{slots:t})=>oo(aee,So(e),t)),bo=(e,t=[])=>{x(e)?e.forEach(e=>e(...t)):e&&e(...t)},xo=e=>e?x(e)?e.some(e=>e.length>1):e.length>1:!1;function So(e){let t={};for(let n in e)n in _o||(t[n]=e[n]);if(e.css===!1)return t;let{name:n=`v`,type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:l=o,appearToClass:u=s,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=Co(i),h=m&&m[0],g=m&&m[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:S,onBeforeAppear:C=v,onAppear:w=y,onAppearCancelled:T=b}=t,E=(e,t,n,r)=>{e._enterCancelled=r,Eo(e,t?u:s),Eo(e,t?l:o),n&&n()},D=(e,t)=>{e._isLeaving=!1,Eo(e,d),Eo(e,p),Eo(e,f),t&&t()},O=e=>(t,n)=>{let i=e?w:y,o=()=>E(t,e,n);bo(i,[t,o]),Do(()=>{Eo(t,e?c:a),To(t,e?u:s),xo(i)||ko(t,r,h,o)})};return _(t,{onBeforeEnter(e){bo(v,[e]),To(e,a),To(e,o)},onBeforeAppear(e){bo(C,[e]),To(e,c),To(e,l)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;let n=()=>D(e,t);To(e,d),e._enterCancelled?(To(e,f),No(e)):(No(e),To(e,f)),Do(()=>{e._isLeaving&&(Eo(e,d),To(e,p),xo(x)||ko(e,r,g,n))}),bo(x,[e,n])},onEnterCancelled(e){E(e,!1,void 0,!0),bo(b,[e])},onAppearCancelled(e){E(e,!0,void 0,!0),bo(T,[e])},onLeaveCancelled(e){D(e),bo(S,[e])}})}function Co(e){if(e==null)return null;if(O(e))return[wo(e.enter),wo(e.leave)];{let t=wo(e);return[t,t]}}function wo(e){return fe(e)}function To(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[go]||(e[go]=new Set)).add(t)}function Eo(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));let n=e[go];n&&(n.delete(t),n.size||(e[go]=void 0))}function Do(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}var Oo=0;function ko(e,t,n,r){let i=e._endId=++Oo,a=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(a,n);let{type:o,timeout:s,propCount:c}=Ao(e,t);if(!o)return r();let l=o+`end`,u=0,d=()=>{e.removeEventListener(l,f),a()},f=t=>{t.target===e&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},s+1),e.addEventListener(l,f)}function Ao(e,t){let n=window.getComputedStyle(e),r=e=>(n[e]||``).split(`, `),i=r(`${mo}Delay`),a=r(`${mo}Duration`),o=jo(i,a),s=r(`${ho}Delay`),c=r(`${ho}Duration`),l=jo(s,c),u=null,d=0,f=0;t===mo?o>0&&(u=mo,d=o,f=a.length):t===ho?l>0&&(u=ho,d=l,f=c.length):(d=Math.max(o,l),u=d>0?o>l?mo:ho:null,f=u?u===mo?a.length:c.length:0);let p=u===mo&&/\b(?:transform|all)(?:,|$)/.test(r(`${mo}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function jo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>Mo(t)+Mo(e[n])))}function Mo(e){return e===`auto`?0:Number(e.slice(0,-1).replace(`,`,`.`))*1e3}function No(e){return(e?e.ownerDocument:document).body.offsetHeight}function Po(e,t,n){let r=e[go];r&&(t=(t?[t,...r]:[...r]).join(` `)),t==null?e.removeAttribute(`class`):n?e.setAttribute(`class`,t):e.className=t}var Fo=Symbol(`_vod`),Io=Symbol(`_vsh`),Lo={name:`show`,beforeMount(e,{value:t},{transition:n}){e[Fo]=e.style.display===`none`?``:e.style.display,n&&t?n.beforeEnter(e):Ro(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ro(e,!0),r.enter(e)):r.leave(e,()=>{Ro(e,!1)}):Ro(e,t))},beforeUnmount(e,{value:t}){Ro(e,t)}};function Ro(e,t){e.style.display=t?e[Fo]:`none`,e[Io]=!t}var zo=Symbol(``),Bo=/(?:^|;)\s*display\s*:/;function Vo(e,t,n){let r=e.style,i=E(n),a=!1;if(n&&!i){if(t)if(E(t))for(let e of t.split(`;`)){let t=e.slice(0,e.indexOf(`:`)).trim();n[t]??Uo(r,t,``)}else for(let e in t)n[e]??Uo(r,e,``);for(let e in n)e===`display`&&(a=!0),Uo(r,e,n[e])}else if(i){if(t!==n){let e=r[zo];e&&(n+=`;`+e),r.cssText=n,a=Bo.test(n)}}else t&&e.removeAttribute(`style`);Fo in e&&(e[Fo]=a?r.display:``,e[Io]&&(r.display=`none`))}var Ho=/\s*!important$/;function Uo(e,t,n){if(x(n))n.forEach(n=>Uo(e,t,n));else if(n??=``,t.startsWith(`--`))e.setProperty(t,n);else{let r=Ko(e,t);Ho.test(n)?e.setProperty(ae(r),n.replace(Ho,``),`important`):e[r]=n}}var Wo=[`Webkit`,`Moz`,`ms`],Go={};function Ko(e,t){let n=Go[t];if(n)return n;let r=ie(t);if(r!==`filter`&&r in e)return Go[t]=r;r=oe(r);for(let n=0;n<Wo.length;n++){let i=Wo[n]+r;if(i in e)return Go[t]=i}return t}var qo=`http://www.w3.org/1999/xlink`;function Jo(e,t,n,r,i,a=Se(t)){r&&t.startsWith(`xlink:`)?n==null?e.removeAttributeNS(qo,t.slice(6,t.length)):e.setAttributeNS(qo,t,n):n==null||a&&!Ce(n)?e.removeAttribute(t):e.setAttribute(t,a?``:D(n)?String(n):n)}function Yo(e,t,n,r,i){if(t===`innerHTML`||t===`textContent`){n!=null&&(e[t]=t===`innerHTML`?lo(n):n);return}let a=e.tagName;if(t===`value`&&a!==`PROGRESS`&&!a.includes(`-`)){let r=a===`OPTION`?e.getAttribute(`value`)||``:e.value,i=n==null?e.type===`checkbox`?`on`:``:String(n);(r!==i||!(`_value`in e))&&(e.value=i),n??e.removeAttribute(t),e._value=n;return}let o=!1;if(n===``||n==null){let r=typeof e[t];r===`boolean`?n=Ce(n):n==null&&r===`string`?(n=``,o=!0):r===`number`&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Xo(e,t,n,r){e.addEventListener(t,n,r)}function Zo(e,t,n,r){e.removeEventListener(t,n,r)}var Qo=Symbol(`_vei`);function $o(e,t,n,r,i=null){let a=e[Qo]||(e[Qo]={}),o=a[t];if(r&&o)o.value=r;else{let[n,s]=ts(t);r?Xo(e,n,a[t]=as(r,i),s):o&&(Zo(e,n,o,s),a[t]=void 0)}}var es=/(?:Once|Passive|Capture)$/;function ts(e){let t;if(es.test(e)){t={};let n;for(;n=e.match(es);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===`:`?e.slice(3):ae(e.slice(2)),t]}var ns=0,rs=Promise.resolve(),is=()=>ns||=(rs.then(()=>ns=0),Date.now());function as(e,t){let n=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=n.attached)return;Sn(os(e,n.value),t,5,[e])};return n.value=e,n.attached=is(),n}function os(e,t){if(x(t)){let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}else return t}var ss=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cs=(e,t,n,r,i,a)=>{let o=i===`svg`;t===`class`?Po(e,r,o):t===`style`?Vo(e,n,r):h(t)?g(t)||$o(e,t,n,r,a):(t[0]===`.`?(t=t.slice(1),!0):t[0]===`^`?(t=t.slice(1),!1):ls(e,t,r,o))?(Yo(e,t,r),!e.tagName.includes(`-`)&&(t===`value`||t===`checked`||t===`selected`)&&Jo(e,t,r,o,a,t!==`value`)):e._isVueCE&&(/[A-Z]/.test(t)||!E(r))?Yo(e,ie(t),r,a,t):(t===`true-value`?e._trueValue=r:t===`false-value`&&(e._falseValue=r),Jo(e,t,r,o))};function ls(e,t,n,r){if(r)return!!(t===`innerHTML`||t===`textContent`||t in e&&ss(t)&&T(n));if(t===`spellcheck`||t===`draggable`||t===`translate`||t===`autocorrect`||t===`sandbox`&&e.tagName===`IFRAME`||t===`form`||t===`list`&&e.tagName===`INPUT`||t===`type`&&e.tagName===`TEXTAREA`)return!1;if(t===`width`||t===`height`){let t=e.tagName;if(t===`IMG`||t===`VIDEO`||t===`CANVAS`||t===`SOURCE`)return!1}return ss(t)&&E(n)?!1:t in e}var us=new WeakMap,ds=new WeakMap,fs=Symbol(`_moveCb`),ps=Symbol(`_enterCb`),ms=(e=>(delete e.props.mode,e))({name:`TransitionGroup`,props:_({},vo,{tag:String,moveClass:String}),setup(e,{slots:t}){let n=Ga(),r=hr(),i,a;return Vr(()=>{if(!i.length)return;let t=e.moveClass||`${e.name||`v`}-move`;if(!vs(i[0].el,n.vnode.el,t)){i=[];return}i.forEach(hs),i.forEach(gs);let r=i.filter(_s);No(n.vnode.el),r.forEach(e=>{let n=e.el,r=n.style;To(n,t),r.transform=r.webkitTransform=r.transitionDuration=``;let i=n[fs]=e=>{e&&e.target!==n||(!e||e.propertyName.endsWith(`transform`))&&(n.removeEventListener(`transitionend`,i),n[fs]=null,Eo(n,t))};n.addEventListener(`transitionend`,i)}),i=[]}),()=>{let o=Zt(e),s=So(o),c=o.tag||va;if(i=[],a)for(let e=0;e<a.length;e++){let t=a[e];t.el&&t.el instanceof Element&&(i.push(t),wr(t,xr(t,s,r,n)),us.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop}))}a=t.default?Tr(t.default()):[];for(let e=0;e<a.length;e++){let t=a[e];t.key!=null&&wr(t,xr(t,s,r,n))}return q(c,null,a)}}});function hs(e){let t=e.el;t[fs]&&t[fs](),t[ps]&&t[ps]()}function gs(e){ds.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function _s(e){let t=us.get(e),n=ds.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){let t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration=`0s`,e}}function vs(e,t,n){let r=e.cloneNode(),i=e[go];i&&i.forEach(e=>{e.split(/\s+/).forEach(e=>e&&r.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&r.classList.add(e)),r.style.display=`none`;let a=t.nodeType===1?t:t.parentNode;a.appendChild(r);let{hasTransform:o}=Ao(r);return a.removeChild(r),o}var ys=e=>{let t=e.props[`onUpdate:modelValue`]||!1;return x(t)?e=>le(t,e):t};function bs(e){e.target.composing=!0}function xs(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event(`input`)))}var Ss=Symbol(`_assign`);function Cs(e,t,n){return t&&(e=e.trim()),n&&(e=de(e)),e}var ws={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Ss]=ys(i);let a=r||i.props&&i.props.type===`number`;Xo(e,t?`change`:`input`,t=>{t.target.composing||e[Ss](Cs(e.value,n,a))}),(n||a)&&Xo(e,`change`,()=>{e.value=Cs(e.value,n,a)}),t||(Xo(e,`compositionstart`,bs),Xo(e,`compositionend`,xs),Xo(e,`change`,xs))},mounted(e,{value:t}){e.value=t??``},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[Ss]=ys(o),e.composing)return;let s=(a||e.type===`number`)&&!/^0\d/.test(e.value)?de(e.value):e.value,c=t??``;s!==c&&(document.activeElement===e&&e.type!==`range`&&(r&&t===n||i&&e.value.trim()===c)||(e.value=c))}},Ts={deep:!0,created(e,t,n){e[Ss]=ys(n),Xo(e,`change`,()=>{let t=e._modelValue,n=Os(e),r=e.checked,i=e[Ss];if(x(t)){let e=Ee(t,n),a=e!==-1;if(r&&!a)i(t.concat(n));else if(!r&&a){let n=[...t];n.splice(e,1),i(n)}}else if(C(t)){let e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(ks(e,r))})},mounted:Es,beforeUpdate(e,t,n){e[Ss]=ys(n),Es(e,t,n)}};function Es(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(x(t))i=Ee(t,r.props.value)>-1;else if(C(t))i=t.has(r.props.value);else{if(t===n)return;i=Te(t,ks(e,!0))}e.checked!==i&&(e.checked=i)}var Ds={created(e,{value:t},n){e.checked=Te(t,n.props.value),e[Ss]=ys(n),Xo(e,`change`,()=>{e[Ss](Os(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Ss]=ys(r),t!==n&&(e.checked=Te(t,r.props.value))}};function Os(e){return`_value`in e?e._value:e.value}function ks(e,t){let n=t?`_trueValue`:`_falseValue`;return n in e?e[n]:t}var As=[`ctrl`,`shift`,`alt`,`meta`],js={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>`button`in e&&e.button!==0,middle:e=>`button`in e&&e.button!==1,right:e=>`button`in e&&e.button!==2,exact:(e,t)=>As.some(n=>e[`${n}Key`]&&!t.includes(n))},Ms=(e,t)=>{let n=e._withMods||={},r=t.join(`.`);return n[r]||(n[r]=((n,...r)=>{for(let e=0;e<t.length;e++){let r=js[t[e]];if(r&&r(n,t))return}return e(n,...r)}))},Ns={esc:`escape`,space:` `,up:`arrow-up`,left:`arrow-left`,right:`arrow-right`,down:`arrow-down`,delete:`backspace`},Ps=(e,t)=>{let n=e._withKeys||={},r=t.join(`.`);return n[r]||(n[r]=(n=>{if(!(`key`in n))return;let r=ae(n.key);if(t.some(e=>e===r||Ns[e]===r))return e(n)}))},Fs=_({patchProp:cs},po),Is;function Ls(){return Is||=oa(Fs)}var Rs=((...e)=>{Ls().render(...e)}),zs=((...e)=>{let t=Ls().createApp(...e),{mount:n}=t;return t.mount=e=>{let r=Vs(e);if(!r)return;let i=t._component;!T(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent=``);let a=n(r,!1,Bs(r));return r instanceof Element&&(r.removeAttribute(`v-cloak`),r.setAttribute(`data-v-app`,``)),a},t});function Bs(e){if(e instanceof SVGElement)return`svg`;if(typeof MathMLElement==`function`&&e instanceof MathMLElement)return`mathml`}function Vs(e){return E(e)?document.querySelector(e):e}var Hs=`2.13.1`,Us=Symbol(`INSTALLED_KEY`),Ws=Symbol(),Gs=`is-`,Ks=(e,t,n,r,i)=>{let a=`${e}-${t}`;return n&&(a+=`-${n}`),r&&(a+=`__${r}`),i&&(a+=`--${i}`),a},qs=Symbol(`namespaceContextKey`),Js=e=>{let t=e||(Ga()?qn(qs,L(`el`)):L(`el`));return Y(()=>R(t)||`el`)},X=(e,t)=>{let n=Js(t);return{namespace:n,b:(t=``)=>Ks(n.value,e,t,``,``),e:t=>t?Ks(n.value,e,``,t,``):``,m:t=>t?Ks(n.value,e,``,``,t):``,be:(t,r)=>t&&r?Ks(n.value,e,t,r,``):``,em:(t,r)=>t&&r?Ks(n.value,e,``,t,r):``,bm:(t,r)=>t&&r?Ks(n.value,e,t,``,r):``,bem:(t,r,i)=>t&&r&&i?Ks(n.value,e,t,r,i):``,is:(e,...t)=>{let n=t.length>=1?t[0]:!0;return e&&n?`${Gs}${e}`:``},cssVar:e=>{let t={};for(let r in e)e[r]&&(t[`--${n.value}-${r}`]=e[r]);return t},cssVarName:e=>`--${n.value}-${e}`,cssVarBlock:t=>{let r={};for(let i in t)t[i]&&(r[`--${n.value}-${e}-${i}`]=t[i]);return r},cssVarBlockName:t=>`--${n.value}-${e}-${t}`}},Ys=typeof global==`object`&&global&&global.Object===Object&&global,gee=typeof self==`object`&&self&&self.Object===Object&&self,Xs=Ys||gee||Function(`return this`)(),Zs=Xs.Symbol,Qs=Object.prototype,_ee=Qs.hasOwnProperty,vee=Qs.toString,$s=Zs?Zs.toStringTag:void 0;function yee(e){var t=_ee.call(e,$s),n=e[$s];try{e[$s]=void 0;var r=!0}catch{}var i=vee.call(e);return r&&(t?e[$s]=n:delete e[$s]),i}var bee=yee,xee=Object.prototype.toString;function See(e){return xee.call(e)}var Cee=See,wee=`[object Null]`,Tee=`[object Undefined]`,ec=Zs?Zs.toStringTag:void 0;function Eee(e){return e==null?e===void 0?Tee:wee:ec&&ec in Object(e)?bee(e):Cee(e)}var tc=Eee;function Dee(e){return typeof e==`object`&&!!e}var nc=Dee,Oee=`[object Symbol]`;function kee(e){return typeof e==`symbol`||nc(e)&&tc(e)==Oee}var rc=kee;function Aee(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var ic=Aee,ac=Array.isArray,jee=1/0,oc=Zs?Zs.prototype:void 0,sc=oc?oc.toString:void 0;function cc(e){if(typeof e==`string`)return e;if(ac(e))return ic(e,cc)+``;if(rc(e))return sc?sc.call(e):``;var t=e+``;return t==`0`&&1/e==-jee?`-0`:t}var Mee=cc,Nee=/\s/;function Pee(e){for(var t=e.length;t--&&Nee.test(e.charAt(t)););return t}var Fee=Pee,Iee=/^\s+/;function Lee(e){return e&&e.slice(0,Fee(e)+1).replace(Iee,``)}var Ree=Lee;function zee(e){var t=typeof e;return e!=null&&(t==`object`||t==`function`)}var lc=zee,uc=NaN,Bee=/^[-+]0x[0-9a-f]+$/i,Vee=/^0b[01]+$/i,Hee=/^0o[0-7]+$/i,Uee=parseInt;function Wee(e){if(typeof e==`number`)return e;if(rc(e))return uc;if(lc(e)){var t=typeof e.valueOf==`function`?e.valueOf():e;e=lc(t)?t+``:t}if(typeof e!=`string`)return e===0?e:+e;e=Ree(e);var n=Vee.test(e);return n||Hee.test(e)?Uee(e.slice(2),n?2:8):Bee.test(e)?uc:+e}var dc=Wee,fc=1/0,pc=17976931348623157e292;function mc(e){return e?(e=dc(e),e===fc||e===-fc?(e<0?-1:1)*pc:e===e?e:0):e===0?e:0}var hc=mc;function gc(e){var t=hc(e),n=t%1;return t===t?n?t-n:t:0}var _c=gc;function vc(e){return e}var yc=vc,bc=`[object AsyncFunction]`,xc=`[object Function]`,Sc=`[object GeneratorFunction]`,Cc=`[object Proxy]`;function wc(e){if(!lc(e))return!1;var t=tc(e);return t==xc||t==Sc||t==bc||t==Cc}var Tc=wc,Ec=Xs[`__core-js_shared__`],Dc=function(){var e=/[^.]+$/.exec(Ec&&Ec.keys&&Ec.keys.IE_PROTO||``);return e?`Symbol(src)_1.`+e:``}();function Oc(e){return!!Dc&&Dc in e}var kc=Oc,Ac=Function.prototype.toString;function jc(e){if(e!=null){try{return Ac.call(e)}catch{}try{return e+``}catch{}}return``}var Mc=jc,Nc=/[\\^$.*+?()[\]{}|]/g,Pc=/^\[object .+?Constructor\]$/,Fc=Function.prototype,Ic=Object.prototype,Lc=Fc.toString,Rc=Ic.hasOwnProperty,zc=RegExp(`^`+Lc.call(Rc).replace(Nc,`\\$&`).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,`$1.*?`)+`$`);function Bc(e){return!lc(e)||kc(e)?!1:(Tc(e)?zc:Pc).test(Mc(e))}var Vc=Bc;function Hc(e,t){return e?.[t]}var Uc=Hc;function Wc(e,t){var n=Uc(e,t);return Vc(n)?n:void 0}var Gc=Wc,Kc=Gc(Xs,`WeakMap`),qc=Object.create,Jc=function(){function e(){}return function(t){if(!lc(t))return{};if(qc)return qc(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Yc(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Xc=Yc;function Zc(){}var Qc=Zc;function $c(e,t){var n=-1,r=e.length;for(t||=Array(r);++n<r;)t[n]=e[n];return t}var el=$c,tl=800,nl=16,rl=Date.now;function il(e){var t=0,n=0;return function(){var r=rl(),i=nl-(r-n);if(n=r,i>0){if(++t>=tl)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var al=il;function ol(e){return function(){return e}}var sl=ol,cl=function(){try{var e=Gc(Object,`defineProperty`);return e({},``,{}),e}catch{}}(),ll=al(cl?function(e,t){return cl(e,`toString`,{configurable:!0,enumerable:!1,value:sl(t),writable:!0})}:yc);function ul(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var dl=ul;function fl(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var pl=fl;function ml(e){return e!==e}var hl=ml;function gl(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var _l=gl;function vl(e,t,n){return t===t?_l(e,t,n):pl(e,hl,n)}var yl=vl;function bl(e,t){return!!(e!=null&&e.length)&&yl(e,t,0)>-1}var xl=bl,Sl=9007199254740991,Cl=/^(?:0|[1-9]\d*)$/;function wl(e,t){var n=typeof e;return t??=Sl,!!t&&(n==`number`||n!=`symbol`&&Cl.test(e))&&e>-1&&e%1==0&&e<t}var Tl=wl;function El(e,t,n){t==`__proto__`&&cl?cl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Dl=El;function Ol(e,t){return e===t||e!==e&&t!==t}var kl=Ol,Al=Object.prototype.hasOwnProperty;function jl(e,t,n){var r=e[t];(!(Al.call(e,t)&&kl(r,n))||n===void 0&&!(t in e))&&Dl(e,t,n)}var Ml=jl;function Nl(e,t,n,r){var i=!n;n||={};for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;c===void 0&&(c=e[s]),i?Dl(n,s,c):Ml(n,s,c)}return n}var Pl=Nl,Fl=Math.max;function Il(e,t,n){return t=Fl(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Fl(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Xc(e,this,s)}}var Ll=Il;function Rl(e,t){return ll(Ll(e,t,yc),e+``)}var zl=Rl,Bl=9007199254740991;function Vl(e){return typeof e==`number`&&e>-1&&e%1==0&&e<=Bl}var Hl=Vl;function Ul(e){return e!=null&&Hl(e.length)&&!Tc(e)}var Wl=Ul;function Gl(e,t,n){if(!lc(n))return!1;var r=typeof t;return(r==`number`?Wl(n)&&Tl(t,n.length):r==`string`&&t in n)?kl(n[t],e):!1}var Kl=Gl;function ql(e){return zl(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a==`function`?(i--,a):void 0,o&&Kl(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var Jl=ql,Yl=Object.prototype;function Xl(e){var t=e&&e.constructor;return e===(typeof t==`function`&&t.prototype||Yl)}var Zl=Xl;function Ql(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var $l=Ql,eu=`[object Arguments]`;function tu(e){return nc(e)&&tc(e)==eu}var nu=tu,ru=Object.prototype,iu=ru.hasOwnProperty,au=ru.propertyIsEnumerable,ou=nu(function(){return arguments}())?nu:function(e){return nc(e)&&iu.call(e,`callee`)&&!au.call(e,`callee`)};function su(){return!1}var cu=su,lu=typeof exports==`object`&&exports&&!exports.nodeType&&exports,uu=lu&&typeof module==`object`&&module&&!module.nodeType&&module,du=uu&&uu.exports===lu?Xs.Buffer:void 0,fu=(du?du.isBuffer:void 0)||cu,pu=`[object Arguments]`,mu=`[object Array]`,hu=`[object Boolean]`,gu=`[object Date]`,_u=`[object Error]`,vu=`[object Function]`,yu=`[object Map]`,bu=`[object Number]`,xu=`[object Object]`,Su=`[object RegExp]`,Cu=`[object Set]`,wu=`[object String]`,Tu=`[object WeakMap]`,Eu=`[object ArrayBuffer]`,Du=`[object DataView]`,Ou=`[object Float32Array]`,ku=`[object Float64Array]`,Au=`[object Int8Array]`,ju=`[object Int16Array]`,Mu=`[object Int32Array]`,Nu=`[object Uint8Array]`,Pu=`[object Uint8ClampedArray]`,Fu=`[object Uint16Array]`,Iu=`[object Uint32Array]`,Lu={};Lu[Ou]=Lu[ku]=Lu[Au]=Lu[ju]=Lu[Mu]=Lu[Nu]=Lu[Pu]=Lu[Fu]=Lu[Iu]=!0,Lu[pu]=Lu[mu]=Lu[Eu]=Lu[hu]=Lu[Du]=Lu[gu]=Lu[_u]=Lu[vu]=Lu[yu]=Lu[bu]=Lu[xu]=Lu[Su]=Lu[Cu]=Lu[wu]=Lu[Tu]=!1;function Ru(e){return nc(e)&&Hl(e.length)&&!!Lu[tc(e)]}var zu=Ru;function Bu(e){return function(t){return e(t)}}var Vu=Bu,Hu=typeof exports==`object`&&exports&&!exports.nodeType&&exports,Uu=Hu&&typeof module==`object`&&module&&!module.nodeType&&module,Wu=Uu&&Uu.exports===Hu&&Ys.process,Gu=function(){try{return Uu&&Uu.require&&Uu.require(`util`).types||Wu&&Wu.binding&&Wu.binding(`util`)}catch{}}(),Ku=Gu&&Gu.isTypedArray,qu=Ku?Vu(Ku):zu,Ju=Object.prototype.hasOwnProperty;function Yu(e,t){var n=ac(e),r=!n&&ou(e),i=!n&&!r&&fu(e),a=!n&&!r&&!i&&qu(e),o=n||r||i||a,s=o?$l(e.length,String):[],c=s.length;for(var l in e)(t||Ju.call(e,l))&&!(o&&(l==`length`||i&&(l==`offset`||l==`parent`)||a&&(l==`buffer`||l==`byteLength`||l==`byteOffset`)||Tl(l,c)))&&s.push(l);return s}var Xu=Yu;function Zu(e,t){return function(n){return e(t(n))}}var Qu=Zu,$u=Qu(Object.keys,Object),ed=Object.prototype.hasOwnProperty;function td(e){if(!Zl(e))return $u(e);var t=[];for(var n in Object(e))ed.call(e,n)&&n!=`constructor`&&t.push(n);return t}var nd=td;function rd(e){return Wl(e)?Xu(e):nd(e)}var id=rd;function ad(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var od=ad,sd=Object.prototype.hasOwnProperty;function cd(e){if(!lc(e))return od(e);var t=Zl(e),n=[];for(var r in e)r==`constructor`&&(t||!sd.call(e,r))||n.push(r);return n}var ld=cd;function ud(e){return Wl(e)?Xu(e,!0):ld(e)}var dd=ud,fd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pd=/^\w*$/;function md(e,t){if(ac(e))return!1;var n=typeof e;return n==`number`||n==`symbol`||n==`boolean`||e==null||rc(e)?!0:pd.test(e)||!fd.test(e)||t!=null&&e in Object(t)}var hd=md,gd=Gc(Object,`create`);function _d(){this.__data__=gd?gd(null):{},this.size=0}var vd=_d;function yd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bd=yd,xd=`__lodash_hash_undefined__`,Sd=Object.prototype.hasOwnProperty;function Cd(e){var t=this.__data__;if(gd){var n=t[e];return n===xd?void 0:n}return Sd.call(t,e)?t[e]:void 0}var wd=Cd,Td=Object.prototype.hasOwnProperty;function Ed(e){var t=this.__data__;return gd?t[e]!==void 0:Td.call(t,e)}var Dd=Ed,Od=`__lodash_hash_undefined__`;function kd(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gd&&t===void 0?Od:t,this}var Ad=kd;function jd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jd.prototype.clear=vd,jd.prototype.delete=bd,jd.prototype.get=wd,jd.prototype.has=Dd,jd.prototype.set=Ad;var Md=jd;function Nd(){this.__data__=[],this.size=0}var Pd=Nd;function Fd(e,t){for(var n=e.length;n--;)if(kl(e[n][0],t))return n;return-1}var Id=Fd,Ld=Array.prototype.splice;function Rd(e){var t=this.__data__,n=Id(t,e);return n<0?!1:(n==t.length-1?t.pop():Ld.call(t,n,1),--this.size,!0)}var zd=Rd;function Bd(e){var t=this.__data__,n=Id(t,e);return n<0?void 0:t[n][1]}var Vd=Bd;function Hd(e){return Id(this.__data__,e)>-1}var Ud=Hd;function Wd(e,t){var n=this.__data__,r=Id(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Gd=Wd;function Kd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kd.prototype.clear=Pd,Kd.prototype.delete=zd,Kd.prototype.get=Vd,Kd.prototype.has=Ud,Kd.prototype.set=Gd;var qd=Kd,Jd=Gc(Xs,`Map`);function Yd(){this.size=0,this.__data__={hash:new Md,map:new(Jd||qd),string:new Md}}var Xd=Yd;function Zd(e){var t=typeof e;return t==`string`||t==`number`||t==`symbol`||t==`boolean`?e!==`__proto__`:e===null}var Qd=Zd;function $d(e,t){var n=e.__data__;return Qd(t)?n[typeof t==`string`?`string`:`hash`]:n.map}var ef=$d;function tf(e){var t=ef(this,e).delete(e);return this.size-=t?1:0,t}var nf=tf;function rf(e){return ef(this,e).get(e)}var af=rf;function of(e){return ef(this,e).has(e)}var sf=of;function cf(e,t){var n=ef(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var lf=cf;function uf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uf.prototype.clear=Xd,uf.prototype.delete=nf,uf.prototype.get=af,uf.prototype.has=sf,uf.prototype.set=lf;var df=uf,ff=`Expected a function`;function pf(e,t){if(typeof e!=`function`||t!=null&&typeof t!=`function`)throw TypeError(ff);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(pf.Cache||df),n}pf.Cache=df;var mf=pf,hf=500;function gf(e){var t=mf(e,function(e){return n.size===hf&&n.clear(),e}),n=t.cache;return t}var _f=gf,vf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yf=/\\(\\)?/g,bf=_f(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(``),e.replace(vf,function(e,n,r,i){t.push(r?i.replace(yf,`$1`):n||e)}),t});function xf(e){return e==null?``:Mee(e)}var Sf=xf;function Cf(e,t){return ac(e)?e:hd(e,t)?[e]:bf(Sf(e))}var wf=Cf,Tf=1/0;function Ef(e){if(typeof e==`string`||rc(e))return e;var t=e+``;return t==`0`&&1/e==-Tf?`-0`:t}var Df=Ef;function Of(e,t){t=wf(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Df(t[n++])];return n&&n==r?e:void 0}var kf=Of;function Af(e,t,n){var r=e==null?void 0:kf(e,t);return r===void 0?n:r}var jf=Af;function Mf(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Nf=Mf,Pf=Zs?Zs.isConcatSpreadable:void 0;function Ff(e){return ac(e)||ou(e)||!!(Pf&&e&&e[Pf])}var If=Ff;function Lf(e,t,n,r,i){var a=-1,o=e.length;for(n||=If,i||=[];++a<o;){var s=e[a];t>0&&n(s)?t>1?Lf(s,t-1,n,r,i):Nf(i,s):r||(i[i.length]=s)}return i}var Rf=Lf;function zf(e){return e!=null&&e.length?Rf(e,1):[]}var Bf=zf;function Vf(e){return ll(Ll(e,void 0,Bf),e+``)}var Hf=Vf,Uf=Qu(Object.getPrototypeOf,Object),Wf=`[object Object]`,Gf=Function.prototype,Kf=Object.prototype,qf=Gf.toString,Jf=Kf.hasOwnProperty,Yf=qf.call(Object);function Xf(e){if(!nc(e)||tc(e)!=Wf)return!1;var t=Uf(e);if(t===null)return!0;var n=Jf.call(t,`constructor`)&&t.constructor;return typeof n==`function`&&n instanceof n&&qf.call(n)==Yf}var Zf=Xf;function Qf(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var $f=Qf;function ep(){if(!arguments.length)return[];var e=arguments[0];return ac(e)?e:[e]}var tp=ep;function np(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var rp=np;function ip(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=dc(n),n=n===n?n:0),t!==void 0&&(t=dc(t),t=t===t?t:0),rp(dc(e),t,n)}var ap=ip;function op(){this.__data__=new qd,this.size=0}var sp=op;function cp(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var lp=cp;function up(e){return this.__data__.get(e)}var dp=up;function fp(e){return this.__data__.has(e)}var pp=fp,mp=200;function hp(e,t){var n=this.__data__;if(n instanceof qd){var r=n.__data__;if(!Jd||r.length<mp-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new df(r)}return n.set(e,t),this.size=n.size,this}var gp=hp;function _p(e){this.size=(this.__data__=new qd(e)).size}_p.prototype.clear=sp,_p.prototype.delete=lp,_p.prototype.get=dp,_p.prototype.has=pp,_p.prototype.set=gp;var vp=_p;function yp(e,t){return e&&Pl(t,id(t),e)}var bp=yp;function xp(e,t){return e&&Pl(t,dd(t),e)}var Sp=xp,Cp=typeof exports==`object`&&exports&&!exports.nodeType&&exports,wp=Cp&&typeof module==`object`&&module&&!module.nodeType&&module,Tp=wp&&wp.exports===Cp?Xs.Buffer:void 0,Ep=Tp?Tp.allocUnsafe:void 0;function Dp(e,t){if(t)return e.slice();var n=e.length,r=Ep?Ep(n):new e.constructor(n);return e.copy(r),r}var Op=Dp;function kp(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Ap=kp;function jp(){return[]}var Mp=jp,Np=Object.prototype.propertyIsEnumerable,Pp=Object.getOwnPropertySymbols,Fp=Pp?function(e){return e==null?[]:(e=Object(e),Ap(Pp(e),function(t){return Np.call(e,t)}))}:Mp;function Ip(e,t){return Pl(e,Fp(e),t)}var Lp=Ip,Rp=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Nf(t,Fp(e)),e=Uf(e);return t}:Mp;function zp(e,t){return Pl(e,Rp(e),t)}var Bp=zp;function Vp(e,t,n){var r=t(e);return ac(e)?r:Nf(r,n(e))}var Hp=Vp;function Up(e){return Hp(e,id,Fp)}var Wp=Up;function Gp(e){return Hp(e,dd,Rp)}var Kp=Gp,qp=Gc(Xs,`DataView`),Jp=Gc(Xs,`Promise`),Yp=Gc(Xs,`Set`),Xp=`[object Map]`,Zp=`[object Object]`,Qp=`[object Promise]`,$p=`[object Set]`,em=`[object WeakMap]`,tm=`[object DataView]`,nm=Mc(qp),Gee=Mc(Jd),Kee=Mc(Jp),qee=Mc(Yp),Jee=Mc(Kc),rm=tc;(qp&&rm(new qp(new ArrayBuffer(1)))!=tm||Jd&&rm(new Jd)!=Xp||Jp&&rm(Jp.resolve())!=Qp||Yp&&rm(new Yp)!=$p||Kc&&rm(new Kc)!=em)&&(rm=function(e){var t=tc(e),n=t==Zp?e.constructor:void 0,r=n?Mc(n):``;if(r)switch(r){case nm:return tm;case Gee:return Xp;case Kee:return Qp;case qee:return $p;case Jee:return em}return t});var im=rm,Yee=Object.prototype.hasOwnProperty;function Xee(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]==`string`&&Yee.call(e,`index`)&&(n.index=e.index,n.input=e.input),n}var Zee=Xee,am=Xs.Uint8Array;function Qee(e){var t=new e.constructor(e.byteLength);return new am(t).set(new am(e)),t}var om=Qee;function $ee(e,t){var n=t?om(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ete=$ee,tte=/\w*$/;function nte(e){var t=new e.constructor(e.source,tte.exec(e));return t.lastIndex=e.lastIndex,t}var rte=nte,sm=Zs?Zs.prototype:void 0,cm=sm?sm.valueOf:void 0;function ite(e){return cm?Object(cm.call(e)):{}}var ate=ite;function ote(e,t){var n=t?om(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var lm=ote,ste=`[object Boolean]`,cte=`[object Date]`,lte=`[object Map]`,ute=`[object Number]`,dte=`[object RegExp]`,fte=`[object Set]`,pte=`[object String]`,mte=`[object Symbol]`,hte=`[object ArrayBuffer]`,gte=`[object DataView]`,_te=`[object Float32Array]`,vte=`[object Float64Array]`,yte=`[object Int8Array]`,bte=`[object Int16Array]`,xte=`[object Int32Array]`,Ste=`[object Uint8Array]`,Cte=`[object Uint8ClampedArray]`,wte=`[object Uint16Array]`,Tte=`[object Uint32Array]`;function Ete(e,t,n){var r=e.constructor;switch(t){case hte:return om(e);case ste:case cte:return new r(+e);case gte:return ete(e,n);case _te:case vte:case yte:case bte:case xte:case Ste:case Cte:case wte:case Tte:return lm(e,n);case lte:return new r;case ute:case pte:return new r(e);case dte:return rte(e);case fte:return new r;case mte:return ate(e)}}var Dte=Ete;function Ote(e){return typeof e.constructor==`function`&&!Zl(e)?Jc(Uf(e)):{}}var um=Ote,kte=`[object Map]`;function Ate(e){return nc(e)&&im(e)==kte}var jte=Ate,dm=Gu&&Gu.isMap,Mte=dm?Vu(dm):jte,Nte=`[object Set]`;function Pte(e){return nc(e)&&im(e)==Nte}var Fte=Pte,fm=Gu&&Gu.isSet,Ite=fm?Vu(fm):Fte,Lte=1,Rte=2,zte=4,pm=`[object Arguments]`,Bte=`[object Array]`,Vte=`[object Boolean]`,Hte=`[object Date]`,Ute=`[object Error]`,mm=`[object Function]`,Wte=`[object GeneratorFunction]`,Gte=`[object Map]`,Kte=`[object Number]`,hm=`[object Object]`,qte=`[object RegExp]`,Jte=`[object Set]`,Yte=`[object String]`,Xte=`[object Symbol]`,Zte=`[object WeakMap]`,Qte=`[object ArrayBuffer]`,$te=`[object DataView]`,ene=`[object Float32Array]`,tne=`[object Float64Array]`,nne=`[object Int8Array]`,rne=`[object Int16Array]`,ine=`[object Int32Array]`,ane=`[object Uint8Array]`,one=`[object Uint8ClampedArray]`,sne=`[object Uint16Array]`,cne=`[object Uint32Array]`,gm={};gm[pm]=gm[Bte]=gm[Qte]=gm[$te]=gm[Vte]=gm[Hte]=gm[ene]=gm[tne]=gm[nne]=gm[rne]=gm[ine]=gm[Gte]=gm[Kte]=gm[hm]=gm[qte]=gm[Jte]=gm[Yte]=gm[Xte]=gm[ane]=gm[one]=gm[sne]=gm[cne]=!0,gm[Ute]=gm[mm]=gm[Zte]=!1;function _m(e,t,n,r,i,a){var o,s=t&Lte,c=t&Rte,l=t&zte;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!lc(e))return e;var u=ac(e);if(u){if(o=Zee(e),!s)return el(e,o)}else{var d=im(e),f=d==mm||d==Wte;if(fu(e))return Op(e,s);if(d==hm||d==pm||f&&!i){if(o=c||f?{}:um(e),!s)return c?Bp(e,Sp(o,e)):Lp(e,bp(o,e))}else{if(!gm[d])return i?e:{};o=Dte(e,d,s)}}a||=new vp;var p=a.get(e);if(p)return p;a.set(e,o),Ite(e)?e.forEach(function(r){o.add(_m(r,t,n,r,e,a))}):Mte(e)&&e.forEach(function(r,i){o.set(i,_m(r,t,n,i,e,a))});var m=u?void 0:(l?c?Kp:Wp:c?dd:id)(e);return dl(m||e,function(r,i){m&&(i=r,r=e[i]),Ml(o,i,_m(r,t,n,i,e,a))}),o}var vm=_m,lne=4;function une(e){return vm(e,lne)}var ym=une,dne=1,fne=4;function pne(e){return vm(e,dne|fne)}var bm=pne,mne=`__lodash_hash_undefined__`;function hne(e){return this.__data__.set(e,mne),this}var gne=hne;function _ne(e){return this.__data__.has(e)}var vne=_ne;function xm(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new df;++t<n;)this.add(e[t])}xm.prototype.add=xm.prototype.push=gne,xm.prototype.has=vne;var Sm=xm;function yne(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var bne=yne;function xne(e,t){return e.has(t)}var Cm=xne,Sne=1,Cne=2;function wne(e,t,n,r,i,a){var o=n&Sne,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var d=-1,f=!0,p=n&Cne?new Sm:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],h=t[d];if(r)var g=o?r(h,m,d,t,e,a):r(m,h,d,e,t,a);if(g!==void 0){if(g)continue;f=!1;break}if(p){if(!bne(t,function(e,t){if(!Cm(p,t)&&(m===e||i(m,e,n,r,a)))return p.push(t)})){f=!1;break}}else if(!(m===h||i(m,h,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var wm=wne;function Tne(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}var Ene=Tne;function Dne(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var Tm=Dne,One=1,kne=2,Ane=`[object Boolean]`,jne=`[object Date]`,Mne=`[object Error]`,Nne=`[object Map]`,Pne=`[object Number]`,Fne=`[object RegExp]`,Ine=`[object Set]`,Lne=`[object String]`,Rne=`[object Symbol]`,zne=`[object ArrayBuffer]`,Bne=`[object DataView]`,Em=Zs?Zs.prototype:void 0,Dm=Em?Em.valueOf:void 0;function Vne(e,t,n,r,i,a,o){switch(n){case Bne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zne:return!(e.byteLength!=t.byteLength||!a(new am(e),new am(t)));case Ane:case jne:case Pne:return kl(+e,+t);case Mne:return e.name==t.name&&e.message==t.message;case Fne:case Lne:return e==t+``;case Nne:var s=Ene;case Ine:var c=r&One;if(s||=Tm,e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=kne,o.set(e,t);var u=wm(s(e),s(t),r,i,a,o);return o.delete(e),u;case Rne:if(Dm)return Dm.call(e)==Dm.call(t)}return!1}var Hne=Vne,Une=1,Wne=Object.prototype.hasOwnProperty;function Gne(e,t,n,r,i,a){var o=n&Une,s=Wp(e),c=s.length;if(c!=Wp(t).length&&!o)return!1;for(var l=c;l--;){var u=s[l];if(!(o?u in t:Wne.call(t,u)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var m=o;++l<c;){u=s[l];var h=e[u],g=t[u];if(r)var _=o?r(g,h,u,t,e,a):r(h,g,u,e,t,a);if(!(_===void 0?h===g||i(h,g,n,r,a):_)){p=!1;break}m||=u==`constructor`}if(p&&!m){var v=e.constructor,y=t.constructor;v!=y&&`constructor`in e&&`constructor`in t&&!(typeof v==`function`&&v instanceof v&&typeof y==`function`&&y instanceof y)&&(p=!1)}return a.delete(e),a.delete(t),p}var Kne=Gne,qne=1,Om=`[object Arguments]`,km=`[object Array]`,Am=`[object Object]`,jm=Object.prototype.hasOwnProperty;function Jne(e,t,n,r,i,a){var o=ac(e),s=ac(t),c=o?km:im(e),l=s?km:im(t);c=c==Om?Am:c,l=l==Om?Am:l;var u=c==Am,d=l==Am,f=c==l;if(f&&fu(e)){if(!fu(t))return!1;o=!0,u=!1}if(f&&!u)return a||=new vp,o||qu(e)?wm(e,t,n,r,i,a):Hne(e,t,c,n,r,i,a);if(!(n&qne)){var p=u&&jm.call(e,`__wrapped__`),m=d&&jm.call(t,`__wrapped__`);if(p||m){var h=p?e.value():e,g=m?t.value():t;return a||=new vp,i(h,g,n,r,a)}}return f?(a||=new vp,Kne(e,t,n,r,i,a)):!1}var Yne=Jne;function Mm(e,t,n,r,i){return e===t?!0:e==null||t==null||!nc(e)&&!nc(t)?e!==e&&t!==t:Yne(e,t,n,r,Mm,i)}var Nm=Mm,Xne=1,Zne=2;function Qne(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var c=s[0],l=e[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in e))return!1}else{var d=new vp;if(r)var f=r(l,u,c,e,t,d);if(!(f===void 0?Nm(u,l,Xne|Zne,r,d):f))return!1}}return!0}var $ne=Qne;function ere(e){return e===e&&!lc(e)}var Pm=ere;function tre(e){for(var t=id(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Pm(i)]}return t}var nre=tre;function rre(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Fm=rre;function ire(e){var t=nre(e);return t.length==1&&t[0][2]?Fm(t[0][0],t[0][1]):function(n){return n===e||$ne(n,e,t)}}var are=ire;function ore(e,t){return e!=null&&t in Object(e)}var sre=ore;function cre(e,t,n){t=wf(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=Df(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Hl(i)&&Tl(o,i)&&(ac(e)||ou(e)))}var Im=cre;function lre(e,t){return e!=null&&Im(e,t,sre)}var Lm=lre,ure=1,dre=2;function fre(e,t){return hd(e)&&Pm(t)?Fm(Df(e),t):function(n){var r=jf(n,e);return r===void 0&&r===t?Lm(n,e):Nm(t,r,ure|dre)}}var pre=fre;function mre(e){return function(t){return t?.[e]}}var hre=mre;function gre(e){return function(t){return kf(t,e)}}var _re=gre;function vre(e){return hd(e)?hre(Df(e)):_re(e)}var yre=vre;function bre(e){return typeof e==`function`?e:e==null?yc:typeof e==`object`?ac(e)?pre(e[0],e[1]):are(e):yre(e)}var Rm=bre;function xre(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(n(a[c],c,a)===!1)break}return t}}var zm=xre();function Sre(e,t){return e&&zm(e,t,id)}var Cre=Sre;function wre(e,t){return function(n,r){if(n==null)return n;if(!Wl(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Tre=wre(Cre),Bm=function(){return Xs.Date.now()},Ere=`Expected a function`,Dre=Math.max,Ore=Math.min;function kre(e,t,n){var r,i,a,o,s,c,l=0,u=!1,d=!1,f=!0;if(typeof e!=`function`)throw TypeError(Ere);t=dc(t)||0,lc(n)&&(u=!!n.leading,d=`maxWait`in n,a=d?Dre(dc(n.maxWait)||0,t):a,f=`trailing`in n?!!n.trailing:f);function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n),o}function m(e){return l=e,s=setTimeout(_,t),u?p(e):o}function h(e){var n=e-c,r=e-l,i=t-n;return d?Ore(i,a-r):i}function g(e){var n=e-c,r=e-l;return c===void 0||n>=t||n<0||d&&r>=a}function _(){var e=Bm();if(g(e))return v(e);s=setTimeout(_,h(e))}function v(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,r=c=i=s=void 0}function b(){return s===void 0?o:v(Bm())}function x(){var e=Bm(),n=g(e);if(r=arguments,i=this,c=e,n){if(s===void 0)return m(c);if(d)return clearTimeout(s),s=setTimeout(_,t),p(c)}return s===void 0&&(s=setTimeout(_,t)),o}return x.cancel=y,x.flush=b,x}var Vm=kre;function Are(e,t,n){(n!==void 0&&!kl(e[t],n)||n===void 0&&!(t in e))&&Dl(e,t,n)}var Hm=Are;function jre(e){return nc(e)&&Wl(e)}var Um=jre;function Mre(e,t){if(!(t===`constructor`&&typeof e[t]==`function`)&&t!=`__proto__`)return e[t]}var Wm=Mre;function Nre(e){return Pl(e,dd(e))}var Pre=Nre;function Fre(e,t,n,r,i,a,o){var s=Wm(e,n),c=Wm(t,n),l=o.get(c);if(l){Hm(e,n,l);return}var u=a?a(s,c,n+``,e,t,o):void 0,d=u===void 0;if(d){var f=ac(c),p=!f&&fu(c),m=!f&&!p&&qu(c);u=c,f||p||m?ac(s)?u=s:Um(s)?u=el(s):p?(d=!1,u=Op(c,!0)):m?(d=!1,u=lm(c,!0)):u=[]:Zf(c)||ou(c)?(u=s,ou(s)?u=Pre(s):(!lc(s)||Tc(s))&&(u=um(c))):d=!1}d&&(o.set(c,u),i(u,c,r,a,o),o.delete(c)),Hm(e,n,u)}var Ire=Fre;function Gm(e,t,n,r,i){e!==t&&zm(t,function(a,o){if(i||=new vp,lc(a))Ire(e,t,o,n,Gm,r,i);else{var s=r?r(Wm(e,o),a,o+``,e,t,i):void 0;s===void 0&&(s=a),Hm(e,o,s)}},dd)}var Lre=Gm;function Rre(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var zre=Rre;function Bre(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Vre=Bre,Hre=Math.max,Ure=Math.min;function Wre(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=_c(n),i=n<0?Hre(r+i,0):Ure(i,r-1)),pl(e,Rm(t,3),i,!0)}var Km=Wre;function Gre(e,t){var n=-1,r=Wl(e)?Array(e.length):[];return Tre(e,function(e,i,a){r[++n]=t(e,i,a)}),r}var Kre=Gre;function qre(e,t){return(ac(e)?ic:Kre)(e,Rm(t,3))}var Jre=qre;function Yre(e,t){return Rf(Jre(e,t),1)}var qm=Yre,Xre=1/0;function Jm(e){return e!=null&&e.length?Rf(e,Xre):[]}var Ym=Jm;function Xm(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}var Zm=Xm,Qm=Object.prototype.hasOwnProperty;function $m(e,t){return e!=null&&Qm.call(e,t)}var eh=$m;function th(e,t){return e!=null&&Im(e,t,eh)}var nh=th;function rh(e,t){return t.length<2?e:kf(e,$f(t,0,-1))}var ih=rh;function ah(e,t){return Nm(e,t)}var oh=ah;function sh(e){return e==null}var ch=sh;function lh(e){return e===null}var uh=lh;function dh(e){return e===void 0}var fh=dh,ph=Jl(function(e,t,n){Lre(e,t,n)}),mh=Object.prototype.hasOwnProperty;function hh(e,t){t=wf(t,e);var n=-1,r=t.length;if(!r)return!0;for(var i=e==null||typeof e!=`object`&&typeof e!=`function`;++n<r;){var a=t[n];if(typeof a==`string`){if(a===`__proto__`&&!mh.call(e,`__proto__`))return!1;if(a===`constructor`&&n+1<r&&typeof t[n+1]==`string`&&t[n+1]===`prototype`){if(i&&n===0)continue;return!1}}}var o=ih(e,t);return o==null||delete o[Df(Vre(t))]}var gh=hh;function _h(e){return Zf(e)?void 0:e}var vh=_h,yh=1,bh=2,xh=4,Sh=Hf(function(e,t){var n={};if(e==null)return n;var r=!1;t=ic(t,function(t){return t=wf(t,e),r||=t.length>1,t}),Pl(e,Kp(e),n),r&&(n=vm(n,yh|bh|xh,vh));for(var i=t.length;i--;)gh(n,t[i]);return n});function Ch(e,t,n,r){if(!lc(e))return e;t=wf(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var c=Df(t[i]),l=n;if(c===`__proto__`||c===`constructor`||c===`prototype`)return e;if(i!=o){var u=s[c];l=r?r(u,c,s):void 0,l===void 0&&(l=lc(u)?u:Tl(t[i+1])?[]:{})}Ml(s,c,l),s=s[c]}return e}var wh=Ch;function Th(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=kf(e,o);n(s,o)&&wh(a,wf(o,e),s)}return a}var Eh=Th;function Dh(e,t){return Eh(e,t,function(t,n){return Lm(e,n)})}var Oh=Dh,kh=Hf(function(e,t){return e==null?{}:Oh(e,t)});function Ah(e,t,n){return e==null?e:wh(e,t,n)}var jh=Ah,Mh=`Expected a function`;function Nh(e,t,n){var r=!0,i=!0;if(typeof e!=`function`)throw TypeError(Mh);return lc(n)&&(r=`leading`in n?!!n.leading:r,i=`trailing`in n?!!n.trailing:i),Vm(e,t,{leading:r,maxWait:t,trailing:i})}var Ph=Nh,Fh=Yp&&1/Tm(new Yp([,-0]))[1]==1/0?function(e){return new Yp(e)}:Qc,Ih=200;function Lh(e,t,n){var r=-1,i=xl,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=zre;else if(a>=Ih){var l=t?null:Fh(e);if(l)return Tm(l);o=!1,i=Cm,c=new Sm}else c=t?[]:s;outer:for(;++r<a;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue outer;t&&c.push(d),s.push(u)}else i(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}var Rh=Lh,zh=zl(function(e){return Rh(Rf(e,1,Um,!0))}),Bh=e=>e===void 0,Vh=e=>typeof e==`boolean`,Hh=e=>typeof e==`number`,Uh=e=>!e&&e!==0||x(e)&&e.length===0||O(e)&&!Object.keys(e).length,Wh=e=>typeof Element>`u`?!1:e instanceof Element,Gh=e=>ch(e),Kh=e=>E(e)?!Number.isNaN(Number(e)):!1,qh=e=>e===window;function Jh(e,t){let n=nn();return Xn(()=>{n.value=e()},{...t,flush:t?.flush??`sync`}),Gt(n)}function Yh(e){return Ne()?(Pe(e),!0):!1}function Xh(e){return typeof e==`function`?e():R(e)}function Zh(e){return tn(e)?Ut(new Proxy({},{get(t,n,r){return R(Reflect.get(e.value,n,r))},set(t,n,r){return tn(e.value[n])&&!tn(r)?e.value[n].value=r:e.value[n]=r,!0},deleteProperty(t,n){return Reflect.deleteProperty(e.value,n)},has(t,n){return Reflect.has(e.value,n)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}})):Ut(e)}function Qh(e){return Zh(Y(e))}var $h=typeof window<`u`&&typeof document<`u`;typeof WorkerGlobalScope<`u`&&globalThis instanceof WorkerGlobalScope;var eg=e=>e!==void 0,tg=e=>e!=null,ng=Object.prototype.toString,rg=e=>ng.call(e)===`[object Object]`,ig=(e,t,n)=>Math.min(n,Math.max(t,e)),ag=()=>{},og=sg();function sg(){return $h&&(window==null?void 0:window.navigator)?.userAgent&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||(window==null?void 0:window.navigator)?.maxTouchPoints>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function cg(e,t){function n(...n){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(i)})}return n}function lg(e,t={}){let n,r,i=ag,a=e=>{clearTimeout(e),i(),i=ag};return o=>{let s=Xh(e),c=Xh(t.maxWait);return n&&a(n),s<=0||c!==void 0&&c<=0?(r&&=(a(r),null),Promise.resolve(o())):new Promise((e,l)=>{i=t.rejectOnCancel?l:e,c&&!r&&(r=setTimeout(()=>{n&&a(n),r=null,e(o())},c)),n=setTimeout(()=>{r&&a(r),r=null,e(o())},s)})}}function ug(...e){let t=0,n,r=!0,i=ag,a,o,s,c,l;!tn(e[0])&&typeof e[0]==`object`?{delay:o,trailing:s=!0,leading:c=!0,rejectOnCancel:l=!1}=e[0]:[o,s=!0,c=!0,l=!1]=e;let u=()=>{n&&(clearTimeout(n),n=void 0,i(),i=ag)};return e=>{let d=Xh(o),f=Date.now()-t,p=()=>a=e();return u(),d<=0?(t=Date.now(),p()):(f>d&&(c||!r)?(t=Date.now(),p()):s&&(a=new Promise((e,a)=>{i=l?a:e,n=setTimeout(()=>{t=Date.now(),r=!0,e(p()),u()},Math.max(0,d-f))})),!c&&!n&&(n=setTimeout(()=>r=!0,d)),r=!1,a)}}function dg(e){return e||Ga()}function fg(e,t=200,n={}){return cg(lg(t,n),e)}function pg(e,t=200,n={}){let r=L(e.value),i=fg(()=>{r.value=e.value},t,n);return B(e,()=>i()),r}function mg(e,t=200,n=!1,r=!0,i=!1){return cg(ug(t,n,r,i),e)}function hg(e,t=!0,n){dg()?zr(e,n):t?e():Mn(e)}function gg(e,t,n={}){let{immediate:r=!0}=n,i=L(!1),a=null;function o(){a&&=(clearTimeout(a),null)}function s(){i.value=!1,o()}function c(...n){o(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,e(...n)},Xh(t))}return r&&(i.value=!0,$h&&c()),Yh(s),{isPending:Gt(i),start:c,stop:s}}function _g(e){let t=Xh(e);return t?.$el??t}var vg=$h?window:void 0,yg=$h?window.document:void 0;$h&&window.navigator,$h&&window.location;function bg(...e){let t,n,r,i;if(typeof e[0]==`string`||Array.isArray(e[0])?([n,r,i]=e,t=vg):[t,n,r,i]=e,!t)return ag;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);let a=[],o=()=>{a.forEach(e=>e()),a.length=0},s=(e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)),c=B(()=>[_g(t),Xh(i)],([e,t])=>{if(o(),!e)return;let i=rg(t)?{...t}:t;a.push(...n.flatMap(t=>r.map(n=>s(e,t,n,i))))},{immediate:!0,flush:`post`}),l=()=>{c(),o()};return Yh(l),l}var xg=!1;function Sg(e,t,n={}){let{window:r=vg,ignore:i=[],capture:a=!0,detectIframe:o=!1}=n;if(!r)return ag;og&&!xg&&(xg=!0,Array.from(r.document.body.children).forEach(e=>e.addEventListener(`click`,ag)),r.document.documentElement.addEventListener(`click`,ag));let s=!0,c=e=>i.some(t=>{if(typeof t==`string`)return Array.from(r.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{let n=_g(t);return n&&(e.target===n||e.composedPath().includes(n))}}),l=[bg(r,`click`,n=>{let r=_g(e);if(!(!r||r===n.target||n.composedPath().includes(r))){if(n.detail===0&&(s=!c(n)),!s){s=!0;return}t(n)}},{passive:!0,capture:a}),bg(r,`pointerdown`,t=>{let n=_g(e);s=!c(t)&&!!(n&&!t.composedPath().includes(n))},{passive:!0}),o&&bg(r,`blur`,n=>{setTimeout(()=>{let i=_g(e);r.document.activeElement?.tagName===`IFRAME`&&!i?.contains(r.document.activeElement)&&t(n)},0)})].filter(Boolean);return()=>l.forEach(e=>e())}function Cg(){let e=L(!1),t=Ga();return t&&zr(()=>{e.value=!0},t),e}function wg(e){let t=Cg();return Y(()=>(t.value,!!e()))}function Tg(e,t,n={}){let{window:r=vg,...i}=n,a,o=wg(()=>r&&`MutationObserver`in r),s=()=>{a&&=(a.disconnect(),void 0)},c=Y(()=>{let t=Xh(e),n=(Array.isArray(t)?t:[t]).map(_g).filter(tg);return new Set(n)}),l=B(()=>c.value,e=>{s(),o.value&&e.size&&(a=new MutationObserver(t),e.forEach(e=>a.observe(e,i)))},{immediate:!0,flush:`post`}),u=()=>a?.takeRecords(),d=()=>{s(),l()};return Yh(d),{isSupported:o,stop:d,takeRecords:u}}function Eg(e={}){let{window:t=vg,deep:n=!0,triggerOnRemoval:r=!1}=e,i=e.document??t?.document,a=()=>{let e=i?.activeElement;if(n)for(;e?.shadowRoot;)e=e?.shadowRoot?.activeElement;return e},o=L(),s=()=>{o.value=a()};return t&&(bg(t,`blur`,e=>{e.relatedTarget===null&&s()},!0),bg(t,`focus`,s,!0)),r&&Tg(i,e=>{e.filter(e=>e.removedNodes.length).map(e=>Array.from(e.removedNodes)).flat().forEach(e=>{e===o.value&&s()})},{childList:!0,subtree:!0}),s(),o}function Dg(e,t={}){let{window:n=vg}=t,r=wg(()=>n&&`matchMedia`in n&&typeof n.matchMedia==`function`),i,a=L(!1),o=e=>{a.value=e.matches},s=()=>{i&&(`removeEventListener`in i?i.removeEventListener(`change`,o):i.removeListener(o))},c=Xn(()=>{r.value&&(s(),i=n.matchMedia(Xh(e)),`addEventListener`in i?i.addEventListener(`change`,o):i.addListener(o),a.value=i.matches)});return Yh(()=>{c(),s(),i=void 0}),a}function Og(e){return JSON.parse(JSON.stringify(e))}function kg(e,t,n={}){let{window:r=vg,initialValue:i=``,observe:a=!1}=n,o=L(i),s=Y(()=>_g(t)||r?.document?.documentElement);function c(){let t=Xh(e),n=Xh(s);n&&r&&(o.value=r.getComputedStyle(n).getPropertyValue(t)?.trim()||i)}return a&&Tg(s,c,{attributeFilter:[`style`,`class`],window:r}),B([s,()=>Xh(e)],c,{immediate:!0}),B(o,t=>{s.value?.style&&s.value.style.setProperty(Xh(e),t)}),o}function Ag(e={}){let{document:t=yg}=e;if(!t)return L(`visible`);let n=L(t.visibilityState);return bg(t,`visibilitychange`,()=>{n.value=t.visibilityState}),n}function jg(e,t,n={}){let{window:r=vg,...i}=n,a,o=wg(()=>r&&`ResizeObserver`in r),s=()=>{a&&=(a.disconnect(),void 0)},c=B(Y(()=>Array.isArray(e)?e.map(e=>_g(e)):[_g(e)]),e=>{if(s(),o.value&&r){a=new ResizeObserver(t);for(let t of e)t&&a.observe(t,i)}},{immediate:!0,flush:`post`}),l=()=>{s(),c()};return Yh(l),{isSupported:o,stop:l}}function Mg(e,t={}){let{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:a=!0}=t,o=L(0),s=L(0),c=L(0),l=L(0),u=L(0),d=L(0),f=L(0),p=L(0);function m(){let t=_g(e);if(!t){n&&(o.value=0,s.value=0,c.value=0,l.value=0,u.value=0,d.value=0,f.value=0,p.value=0);return}let r=t.getBoundingClientRect();o.value=r.height,s.value=r.bottom,c.value=r.left,l.value=r.right,u.value=r.top,d.value=r.width,f.value=r.x,p.value=r.y}return jg(e,m),B(()=>_g(e),e=>!e&&m()),Tg(e,m,{attributeFilter:[`style`,`class`]}),i&&bg(`scroll`,m,{capture:!0,passive:!0}),r&&bg(`resize`,m,{passive:!0}),hg(()=>{a&&m()}),{height:o,bottom:s,left:c,right:l,top:u,width:d,x:f,y:p,update:m}}function Ng(e,t={width:0,height:0},n={}){let{window:r=vg,box:i=`content-box`}=n,a=Y(()=>(_g(e)?.namespaceURI)?.includes(`svg`)),o=L(t.width),s=L(t.height),{stop:c}=jg(e,([t])=>{let n=i===`border-box`?t.borderBoxSize:i===`content-box`?t.contentBoxSize:t.devicePixelContentBoxSize;if(r&&a.value){let t=_g(e);if(t){let e=t.getBoundingClientRect();o.value=e.width,s.value=e.height}}else if(n){let e=Array.isArray(n)?n:[n];o.value=e.reduce((e,{inlineSize:t})=>e+t,0),s.value=e.reduce((e,{blockSize:t})=>e+t,0)}else o.value=t.contentRect.width,s.value=t.contentRect.height},n);hg(()=>{let n=_g(e);n&&(o.value=`offsetWidth`in n?n.offsetWidth:t.width,s.value=`offsetHeight`in n?n.offsetHeight:t.height)});let l=B(()=>_g(e),e=>{o.value=e?t.width:0,s.value=e?t.height:0});function u(){c(),l()}return{width:o,height:s,stop:u}}function Pg(e,t,n={}){let{root:r,rootMargin:i=`0px`,threshold:a=.1,window:o=vg,immediate:s=!0}=n,c=wg(()=>o&&`IntersectionObserver`in o),l=Y(()=>{let t=Xh(e);return(Array.isArray(t)?t:[t]).map(_g).filter(tg)}),u=ag,d=L(s),f=c.value?B(()=>[l.value,_g(r),d.value],([e,n])=>{if(u(),!d.value||!e.length)return;let r=new IntersectionObserver(t,{root:_g(n),rootMargin:i,threshold:a});e.forEach(e=>e&&r.observe(e)),u=()=>{r.disconnect(),u=ag}},{immediate:s,flush:`post`}):ag,p=()=>{u(),f(),d.value=!1};return Yh(p),{isSupported:c,isActive:d,pause(){u(),d.value=!1},resume(){d.value=!0},stop:p}}function Fg(e,t,n,r={}){let{clone:i=!1,passive:a=!1,eventName:o,deep:s=!1,defaultValue:c,shouldEmit:l}=r,u=Ga(),d=n||u?.emit||(u?.$emit)?.bind(u)||(u?.proxy?.$emit)?.bind(u?.proxy),f=o;t||=`modelValue`,f||=`update:${t.toString()}`;let p=e=>i?typeof i==`function`?i(e):Og(e):e,m=()=>eg(e[t])?p(e[t]):c,h=e=>{l?l(e)&&d(f,e):d(f,e)};if(a){let n=L(m()),r=!1;return B(()=>e[t],e=>{r||(r=!0,n.value=p(e),Mn(()=>r=!1))}),B(n,n=>{!r&&(n!==e[t]||s)&&h(n)},{deep:s}),n}else return Y({get(){return m()},set(e){h(e)}})}function Ig(e={}){let{window:t=vg}=e;if(!t)return L(!1);let n=L(t.document.hasFocus());return bg(t,`blur`,()=>{n.value=!1}),bg(t,`focus`,()=>{n.value=!0}),n}function Lg(e={}){let{window:t=vg,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:a=!0}=e,o=L(n),s=L(r),c=()=>{t&&(a?(o.value=t.innerWidth,s.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};return c(),hg(c),bg(`resize`,c,{passive:!0}),i&&B(Dg(`(orientation: portrait)`),()=>c()),{width:o,height:s}}var Rg=class extends Error{constructor(e){super(e),this.name=`ElementPlusError`}};function zg(e,t){throw new Rg(`[${e}] ${t}`)}var Bg={current:0},Vg=L(0),Hg=2e3,Ug=Symbol(`elZIndexContextKey`),Wg=Symbol(`zIndexContextKey`),Gg=e=>{let t=Ga()?qn(Ug,Bg):Bg,n=e||(Ga()?qn(Wg,void 0):void 0),r=Y(()=>{let e=R(n);return Hh(e)?e:Hg}),i=Y(()=>r.value+Vg.value);return!$h&&qn(Ug),{initialZIndex:r,currentZIndex:i,nextZIndex:()=>(t.current++,Vg.value=t.current,i.value)}},Kg={name:`en`,el:{breadcrumb:{label:`Breadcrumb`},colorpicker:{confirm:`OK`,clear:`Clear`,defaultLabel:`color picker`,description:`current color is {color}. press enter to select a new color.`,alphaLabel:`pick alpha value`,alphaDescription:`alpha {alpha}, current color is {color}`,hueLabel:`pick hue value`,hueDescription:`hue {hue}, current color is {color}`,svLabel:`pick saturation and brightness value`,svDescription:`saturation {saturation}, brightness {brightness}, current color is {color}`,predefineDescription:`select {value} as the color`},datepicker:{now:`Now`,today:`Today`,cancel:`Cancel`,clear:`Clear`,confirm:`OK`,dateTablePrompt:`Use the arrow keys and enter to select the day of the month`,monthTablePrompt:`Use the arrow keys and enter to select the month`,yearTablePrompt:`Use the arrow keys and enter to select the year`,selectedDate:`Selected date`,selectDate:`Select date`,selectTime:`Select time`,startDate:`Start Date`,startTime:`Start Time`,endDate:`End Date`,endTime:`End Time`,prevYear:`Previous Year`,nextYear:`Next Year`,prevMonth:`Previous Month`,nextMonth:`Next Month`,year:``,month1:`January`,month2:`February`,month3:`March`,month4:`April`,month5:`May`,month6:`June`,month7:`July`,month8:`August`,month9:`September`,month10:`October`,month11:`November`,month12:`December`,weeks:{sun:`Sun`,mon:`Mon`,tue:`Tue`,wed:`Wed`,thu:`Thu`,fri:`Fri`,sat:`Sat`},weeksFull:{sun:`Sunday`,mon:`Monday`,tue:`Tuesday`,wed:`Wednesday`,thu:`Thursday`,fri:`Friday`,sat:`Saturday`},months:{jan:`Jan`,feb:`Feb`,mar:`Mar`,apr:`Apr`,may:`May`,jun:`Jun`,jul:`Jul`,aug:`Aug`,sep:`Sep`,oct:`Oct`,nov:`Nov`,dec:`Dec`}},inputNumber:{decrease:`decrease number`,increase:`increase number`},select:{loading:`Loading`,noMatch:`No matching data`,noData:`No data`,placeholder:`Select`},mention:{loading:`Loading`},dropdown:{toggleDropdown:`Toggle Dropdown`},cascader:{noMatch:`No matching data`,loading:`Loading`,placeholder:`Select`,noData:`No data`},pagination:{goto:`Go to`,pagesize:`/page`,total:`Total {total}`,pageClassifier:``,page:`Page`,prev:`Go to previous page`,next:`Go to next page`,currentPage:`page {pager}`,prevPages:`Previous {pager} pages`,nextPages:`Next {pager} pages`,deprecationWarning:`Deprecated usages detected, please refer to the el-pagination documentation for more details`},dialog:{close:`Close this dialog`},drawer:{close:`Close this dialog`},messagebox:{title:`Message`,confirm:`OK`,cancel:`Cancel`,error:`Illegal input`,close:`Close this dialog`},upload:{deleteTip:`press delete to remove`,delete:`Delete`,preview:`Preview`,continue:`Continue`},slider:{defaultLabel:`slider between {min} and {max}`,defaultRangeStartLabel:`pick start value`,defaultRangeEndLabel:`pick end value`},table:{emptyText:`No Data`,confirmFilter:`Confirm`,resetFilter:`Reset`,clearFilter:`All`,sumText:`Sum`,selectAllLabel:`Select all rows`,selectRowLabel:`Select this row`,expandRowLabel:`Expand this row`,collapseRowLabel:`Collapse this row`,sortLabel:`Sort by {column}`,filterLabel:`Filter by {column}`},tag:{close:`Close this tag`},tour:{next:`Next`,previous:`Previous`,finish:`Finish`,close:`Close this dialog`},tree:{emptyText:`No Data`},transfer:{noMatch:`No matching data`,noData:`No data`,titles:[`List 1`,`List 2`],filterPlaceholder:`Enter keyword`,noCheckedFormat:`{total} items`,hasCheckedFormat:`{checked}/{total} checked`},image:{error:`FAILED`},pageHeader:{title:`Back`},popconfirm:{confirmButtonText:`Yes`,cancelButtonText:`No`},carousel:{leftArrow:`Carousel arrow left`,rightArrow:`Carousel arrow right`,indicator:`Carousel switch to index {index}`}}},qg=e=>(t,n)=>Jg(t,n,R(e)),Jg=(e,t,n)=>jf(n,e,e).replace(/\{(\w+)\}/g,(e,n)=>`${t?.[n]??`{${n}}`}`),Yg=e=>({lang:Y(()=>R(e).name),locale:tn(e)?e:L(e),t:qg(e)}),Xg=Symbol(`localeContextKey`),Zg=e=>{let t=e||qn(Xg,L());return Yg(Y(()=>t.value||Kg))},Qg=`__epPropKey`,Z=e=>e,$g=e=>O(e)&&!!e.__epPropKey,e_=(e,t)=>{if(!O(e)||$g(e))return e;let{values:n,required:r,default:i,type:a,validator:o}=e,s={type:a,required:!!r,validator:n||o?r=>{let a=!1,s=[];if(n&&(s=Array.from(n),b(e,`default`)&&s.push(i),a||=s.includes(r)),o&&(a||=o(r)),!a&&s.length>0){let e=[...new Set(s)].map(e=>JSON.stringify(e)).join(`, `);pee(`Invalid prop: validation failed${t?` for prop "${t}"`:``}. Expected one of [${e}], got value ${JSON.stringify(r)}.`)}return a}:void 0,[Qg]:!0};return b(e,`default`)&&(s.default=i),s},t_=e=>Zm(Object.entries(e).map(([e,t])=>[e,e_(t,e)])),n_=[``,`default`,`small`,`large`],r_=e_({type:String,values:n_,required:!1}),i_=Symbol(`size`),a_=()=>{let e=qn(i_,{});return Y(()=>R(e.size)||``)},o_=Symbol(`emptyValuesContextKey`),s_=[``,void 0,null],c_=t_({emptyValues:Array,valueOnClear:{type:Z([String,Number,Boolean,Function]),default:void 0,validator:e=>(e=T(e)?e():e,x(e)?e.every(e=>!e):!e)}}),l_=(e,t)=>{let n=Ga()?qn(o_,L({})):L({}),r=Y(()=>e.emptyValues||n.value.emptyValues||s_),i=Y(()=>T(e.valueOnClear)?e.valueOnClear():e.valueOnClear===void 0?T(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear===void 0?t===void 0?void 0:t:n.value.valueOnClear:e.valueOnClear),a=e=>{let t=!0;return t=x(e)?r.value.some(t=>oh(e,t)):r.value.includes(e),t};return a(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:a}},u_=e=>Object.keys(e),d_=e=>Object.entries(e),f_=(e,t,n)=>({get value(){return jf(e,t,n)},set value(n){jh(e,t,n)}}),p_=L();function m_(e,t=void 0){let n=Ga()?qn(Ws,p_):p_;return e?Y(()=>n.value?.[e]??t):n}function h_(e,t){let n=m_(),r=X(e,Y(()=>n.value?.namespace||`el`)),i=Zg(Y(()=>n.value?.locale)),a=Gg(Y(()=>n.value?.zIndex||2e3)),o=Y(()=>R(t)||n.value?.size||``);return g_(Y(()=>R(n)||{})),{ns:r,locale:i,zIndex:a,size:o}}var g_=(e,t,n=!1)=>{let r=!!Ga(),i=r?m_():void 0,a=t?.provide??(r?Kn:void 0);if(!a)return;let o=Y(()=>{let t=R(e);return i?.value?__(i.value,t):t});return a(Ws,o),a(Xg,Y(()=>o.value.locale)),a(qs,Y(()=>o.value.namespace)),a(Wg,Y(()=>o.value.zIndex)),a(i_,{size:Y(()=>o.value.size||``)}),a(o_,Y(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(n||!p_.value)&&(p_.value=o.value),o},__=(e,t)=>{let n=[...new Set([...u_(e),...u_(t)])],r={};for(let i of n)r[i]=t[i]===void 0?e[i]:t[i];return r},v_=(e=[])=>({version:Hs,install:(t,n)=>{t[Us]||(t[Us]=!0,e.forEach(e=>t.use(e)),n&&g_(n,t,!0))}}),y_=t_({to:{type:Z([String,Object]),required:!0},disabled:Boolean}),b_=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},x_=b_(V({__name:`teleport`,props:y_,setup(e){return(e,t)=>e.disabled?H(e.$slots,`default`,{key:0}):(U(),G(ur,{key:1,to:e.to},[H(e.$slots,`default`)],8,[`to`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/teleport/src/teleport.vue`]]),S_=(e,t)=>{if(e.install=n=>{for(let r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(let[n,r]of Object.entries(t))e[n]=r;return e},C_=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),w_=(e,t)=>(e.install=n=>{n.directive(t,e)},e),T_=e=>(e.install=p,e),E_=S_(x_),D_=`update:modelValue`,O_=`change`,k_=`input`,A_=t_({zIndex:{type:Z([Number,String]),default:100},target:{type:String,default:``},offset:{type:Number,default:0},position:{type:String,values:[`top`,`bottom`],default:`top`},teleported:Boolean,appendTo:{type:y_.to.type,default:`body`}}),j_={scroll:({scrollTop:e,fixed:t})=>Hh(e)&&Vh(t),[O_]:e=>Vh(e)};function M_(e,t,n,r){let i=n-t;return e/=r/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}var N_=e=>$h?window.requestAnimationFrame(e):setTimeout(e,16),P_=e=>$h?window.cancelAnimationFrame(e):clearTimeout(e),F_=(e=``)=>e.split(` `).filter(e=>!!e.trim()),I_=(e,t)=>{if(!e||!t)return!1;if(t.includes(` `))throw Error(`className should not contain space.`);return e.classList.contains(t)},L_=(e,t)=>{!e||!t.trim()||e.classList.add(...F_(t))},R_=(e,t)=>{!e||!t.trim()||e.classList.remove(...F_(t))},z_=(e,t)=>{if(!$h||!e||!t)return``;let n=ie(t);n===`float`&&(n=`cssFloat`);try{let t=e.style[n];if(t)return t;let r=document.defaultView?.getComputedStyle(e,``);return r?r[n]:``}catch{return e.style[n]}},B_=(e,t,n)=>{if(!(!e||!t))if(O(t))d_(t).forEach(([t,n])=>B_(e,t,n));else{let r=ie(t);e.style[r]=n}};function V_(e,t=`px`){if(!e&&e!==0)return``;if(Hh(e)||Kh(e))return`${e}${t}`;if(E(e))return e}var H_=(e,t)=>{if(!$h)return!1;let n={undefined:`overflow`,true:`overflow-y`,false:`overflow-x`}[String(t)],r=z_(e,n);return[`scroll`,`auto`,`overlay`].some(e=>r.includes(e))},U_=(e,t)=>{if(!$h)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(H_(n,t))return n;n=n.parentNode}return n},W_,G_=e=>{var t;if(!$h)return 0;if(W_!==void 0)return W_;let n=document.createElement(`div`);n.className=`${e}-scrollbar__wrap`,n.style.visibility=`hidden`,n.style.width=`100px`,n.style.position=`absolute`,n.style.top=`-9999px`,document.body.appendChild(n);let r=n.offsetWidth;n.style.overflow=`scroll`;let i=document.createElement(`div`);i.style.width=`100%`,n.appendChild(i);let a=i.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),W_=r-a,W_};function K_(e,t){if(!$h)return;if(!t){e.scrollTop=0;return}let n=[],r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;let i=t.offsetTop+n.reduce((e,t)=>e+t.offsetTop,0),a=i+t.offsetHeight,o=e.scrollTop,s=o+e.clientHeight;i<o?e.scrollTop=i:a>s&&(e.scrollTop=a-e.clientHeight)}function q_(e,t,n,r,i){let a=Date.now(),o,s=()=>{let c=Date.now()-a,l=M_(c>r?r:c,t,n,r);qh(e)?e.scrollTo(window.pageXOffset,l):e.scrollTop=l,c<r?o=N_(s):T(i)&&i()};return s(),()=>{o&&P_(o)}}var J_=(e,t)=>qh(t)?e.ownerDocument.documentElement:t,Y_=e=>qh(e)?window.scrollY:e.scrollTop,X_=`ElAffix`,Z_=S_(b_(V({name:X_,__name:`affix`,props:A_,emits:j_,setup(e,{expose:t,emit:n}){let r=e,i=n,a=X(`affix`),o=nn(),s=nn(),c=nn(),{height:l}=Lg(),{height:u,width:d,top:f,bottom:p,left:m,update:h}=Mg(s,{windowScroll:!1}),g=Mg(o),_=L(!1),v=L(0),y=L(0),b=Y(()=>!r.teleported||!_.value),x=Y(()=>({height:_.value?`${u.value}px`:``,width:_.value?`${d.value}px`:``})),S=Y(()=>{if(!_.value)return{};let e=V_(r.offset);return{height:`${u.value}px`,width:`${d.value}px`,top:r.position===`top`?e:``,bottom:r.position===`bottom`?e:``,left:r.teleported?`${m.value}px`:``,transform:y.value?`translateY(${y.value}px)`:``,zIndex:r.zIndex}}),C=()=>{if(!c.value)return;v.value=c.value instanceof Window?document.documentElement.scrollTop:c.value.scrollTop||0;let{position:e,target:t,offset:n}=r,i=n+u.value;if(e===`top`)if(t){let e=g.bottom.value-i;_.value=n>f.value&&g.bottom.value>0,y.value=e<0?e:0}else _.value=n>f.value;else if(t){let e=l.value-g.top.value-i;_.value=l.value-n<p.value&&l.value>g.top.value,y.value=e<0?-e:0}else _.value=l.value-n<p.value};return B(_,e=>i(O_,e)),zr(()=>{r.target?(o.value=document.querySelector(r.target)??void 0,o.value||zg(X_,`Target does not exist: ${r.target}`)):o.value=document.documentElement,c.value=U_(s.value,!0),h()}),bg(c,`scroll`,async()=>{h(),await Mn(),i(`scroll`,{scrollTop:v.value,fixed:_.value})}),Xn(C),t({update:C,updateRoot:async()=>{if(!_.value){h();return}_.value=!1,await Mn(),h(),_.value=!0}}),(e,t)=>(U(),W(`div`,{ref_key:`root`,ref:s,class:F(R(a).b()),style:he(x.value)},[q(R(E_),{disabled:b.value,to:e.appendTo},{default:z(()=>[K(`div`,{class:F({[R(a).m(`fixed`)]:_.value}),style:he(S.value)},[H(e.$slots,`default`)],6)]),_:3},8,[`disabled`,`to`])],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue`]])),Q_=S_(b_(V({name:`ElIcon`,inheritAttrs:!1,__name:`icon`,props:t_({size:{type:Z([Number,String])},color:{type:String}}),setup(e){let t=e,n=X(`icon`),r=Y(()=>{let{size:e,color:n}=t,r=V_(e);return!r&&!n?{}:{fontSize:r,"--color":n}});return(e,t)=>(U(),W(`i`,za({class:R(n).b(),style:r.value},e.$attrs),[H(e.$slots,`default`)],16))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue`]])),$_=V({name:`ArrowDown`,__name:`arrow-down`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M831.872 340.864 512 652.672 192.128 340.864a30.59 30.59 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.59 30.59 0 0 0-42.752 0z`})]))}}),ev=V({name:`ArrowLeft`,__name:`arrow-left`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0`})]))}}),tv=V({name:`ArrowRight`,__name:`arrow-right`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z`})]))}}),nv=V({name:`ArrowUp`,__name:`arrow-up`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0`})]))}}),rv=V({name:`Back`,__name:`back`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64`}),K(`path`,{fill:`currentColor`,d:`m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z`})]))}}),iv=V({name:`Calendar`,__name:`calendar`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64`})]))}}),av=V({name:`CaretRight`,__name:`caret-right`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M384 192v640l384-320.064z`})]))}}),ov=V({name:`CaretTop`,__name:`caret-top`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 320 192 704h639.936z`})]))}}),sv=V({name:`Check`,__name:`check`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z`})]))}}),cv=V({name:`CircleCheckFilled`,__name:`circle-check-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z`})]))}}),lv=V({name:`CircleCheck`,__name:`circle-check`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896`}),K(`path`,{fill:`currentColor`,d:`M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z`})]))}}),uv=V({name:`CircleCloseFilled`,__name:`circle-close-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z`})]))}}),dv=V({name:`CircleClose`,__name:`circle-close`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z`}),K(`path`,{fill:`currentColor`,d:`M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896`})]))}}),fv=V({name:`Clock`,__name:`clock`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896`}),K(`path`,{fill:`currentColor`,d:`M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32`}),K(`path`,{fill:`currentColor`,d:`M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32`})]))}}),pv=V({name:`Close`,__name:`close`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z`})]))}}),mv=V({name:`DArrowLeft`,__name:`d-arrow-left`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672zm256 0a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672z`})]))}}),hv=V({name:`DArrowRight`,__name:`d-arrow-right`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L764.736 512 452.864 192a30.59 30.59 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L508.736 512 196.864 192a30.59 30.59 0 0 1 0-42.688`})]))}}),gv=V({name:`Delete`,__name:`delete`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32`})]))}}),_v=V({name:`Document`,__name:`document`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z`})]))}}),vv=V({name:`FullScreen`,__name:`full-screen`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z`})]))}}),yv=V({name:`Hide`,__name:`hide`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176`}),K(`path`,{fill:`currentColor`,d:`M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48`})]))}}),bv=V({name:`InfoFilled`,__name:`info-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z`})]))}}),xv=V({name:`Loading`,__name:`loading`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0`})]))}}),Sv=V({name:`Minus`,__name:`minus`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64`})]))}}),Cv=V({name:`MoreFilled`,__name:`more-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224`})]))}}),wv=V({name:`More`,__name:`more`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96`})]))}}),Tv=V({name:`PictureFilled`,__name:`picture-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384`})]))}}),Ev=V({name:`Plus`,__name:`plus`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z`})]))}}),Dv=V({name:`QuestionFilled`,__name:`question-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592q0-64.416-42.24-101.376c-28.16-25.344-65.472-37.312-111.232-37.312m-12.672 406.208a54.27 54.27 0 0 0-38.72 14.784 49.4 49.4 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.85 54.85 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.97 51.97 0 0 0-15.488-38.016 55.94 55.94 0 0 0-39.424-14.784`})]))}}),Ov=V({name:`RefreshLeft`,__name:`refresh-left`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z`})]))}}),kv=V({name:`RefreshRight`,__name:`refresh-right`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88`})]))}}),Av=V({name:`ScaleToOriginal`,__name:`scale-to-original`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118m-361.412 0a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118M512 361.412a30.12 30.12 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.12 30.12 0 0 0 512 361.412M512 512a30.12 30.12 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.12 30.12 0 0 0 512 512`})]))}}),jv=V({name:`Search`,__name:`search`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704`})]))}}),Mv=V({name:`SortDown`,__name:`sort-down`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0`})]))}}),Nv=V({name:`SortUp`,__name:`sort-up`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248`})]))}}),Pv=V({name:`StarFilled`,__name:`star-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M313.6 924.48a70.4 70.4 0 0 1-74.152-5.365 70.4 70.4 0 0 1-27.992-68.875l37.888-220.928L88.96 472.96a70.4 70.4 0 0 1 3.788-104.225A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 100.246-28.595 70.4 70.4 0 0 1 25.962 28.595l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z`})]))}}),Fv=V({name:`Star`,__name:`star`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z`})]))}}),Iv=V({name:`SuccessFilled`,__name:`success-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z`})]))}}),Lv=V({name:`View`,__name:`view`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160`})]))}}),Rv=V({name:`WarningFilled`,__name:`warning-filled`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4`})]))}}),zv=V({name:`ZoomIn`,__name:`zoom-in`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z`})]))}}),Bv=V({name:`ZoomOut`,__name:`zoom-out`,setup(e){return(e,t)=>(U(),W(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[K(`path`,{fill:`currentColor`,d:`m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64`})]))}}),Vv=Z([String,Object,Function]),Hv={Close:pv},Uv={Close:pv,SuccessFilled:Iv,InfoFilled:bv,WarningFilled:Rv,CircleCloseFilled:uv},Wv={primary:bv,success:Iv,warning:Rv,error:uv,info:bv},Gv={validating:xv,success:lv,error:dv},Kv=t_({title:{type:String,default:``},description:{type:String,default:``},type:{type:String,values:u_(Wv),default:`info`},closable:{type:Boolean,default:!0},closeText:{type:String,default:``},showIcon:Boolean,center:Boolean,effect:{type:String,values:[`light`,`dark`],default:`light`},showAfter:Number,hideAfter:Number,autoClose:Number}),qv={close:e=>e instanceof MouseEvent},Jv=(e=>(e[e.TEXT=1]=`TEXT`,e[e.CLASS=2]=`CLASS`,e[e.STYLE=4]=`STYLE`,e[e.PROPS=8]=`PROPS`,e[e.FULL_PROPS=16]=`FULL_PROPS`,e[e.HYDRATE_EVENTS=32]=`HYDRATE_EVENTS`,e[e.STABLE_FRAGMENT=64]=`STABLE_FRAGMENT`,e[e.KEYED_FRAGMENT=128]=`KEYED_FRAGMENT`,e[e.UNKEYED_FRAGMENT=256]=`UNKEYED_FRAGMENT`,e[e.NEED_PATCH=512]=`NEED_PATCH`,e[e.DYNAMIC_SLOTS=1024]=`DYNAMIC_SLOTS`,e[e.HOISTED=-1]=`HOISTED`,e[e.BAIL=-2]=`BAIL`,e))(Jv||{});function Yv(e){return Oa(e)&&e.type===va}function Xv(e){return Oa(e)&&e.type===ba}function Zv(e){return Oa(e)&&!Yv(e)&&!Xv(e)}var Qv=e=>{if(!Oa(e))return{};let t=e.props||{},n=(Oa(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(e=>{b(n[e],`default`)&&(r[e]=n[e].default)}),Object.keys(t).forEach(e=>{r[ie(e)]=t[e]}),r},$v=e=>{let t=x(e)?e:[e],n=[];return t.forEach(e=>{x(e)?n.push(...$v(e)):Oa(e)&&e.component?.subTree?n.push(e,...$v(e.component.subTree)):Oa(e)&&x(e.children)?n.push(...$v(e.children)):Oa(e)&&e.shapeFlag===2?n.push(...$v(e.type())):n.push(e)}),n},ey=S_(b_(V({name:`ElAlert`,__name:`alert`,props:Kv,emits:qv,setup(e,{emit:t}){let{Close:n}=Uv,r=e,i=t,a=li(),o=X(`alert`),s=L(!0),c=Y(()=>Wv[r.type]),l=Y(()=>{if(r.description)return!0;let e=a.default?.call(a);return e?$v(e).some(e=>!Xv(e)):!1}),u=e=>{s.value=!1,i(`close`,e)};return r.showAfter||r.hideAfter||r.autoClose,(e,t)=>(U(),G(yo,{name:R(o).b(`fade`),persisted:``},{default:z(()=>[Wn(K(`div`,{class:F([R(o).b(),R(o).m(e.type),R(o).is(`center`,e.center),R(o).is(e.effect)]),role:`alert`},[e.showIcon&&(e.$slots.icon||c.value)?(U(),G(R(Q_),{key:0,class:F([R(o).e(`icon`),R(o).is(`big`,l.value)])},{default:z(()=>[H(e.$slots,`icon`,{},()=>[(U(),G(Zr(c.value)))])]),_:3},8,[`class`])):J(`v-if`,!0),K(`div`,{class:F(R(o).e(`content`))},[e.title||e.$slots.title?(U(),W(`span`,{key:0,class:F([R(o).e(`title`),{"with-description":l.value}])},[H(e.$slots,`title`,{},()=>[Fa(I(e.title),1)])],2)):J(`v-if`,!0),l.value?(U(),W(`p`,{key:1,class:F(R(o).e(`description`))},[H(e.$slots,`default`,{},()=>[Fa(I(e.description),1)])],2)):J(`v-if`,!0),e.closable?(U(),W(va,{key:2},[e.closeText?(U(),W(`div`,{key:0,class:F([R(o).e(`close-btn`),R(o).is(`customed`)]),onClick:u},I(e.closeText),3)):(U(),G(R(Q_),{key:1,class:F(R(o).e(`close-btn`)),onClick:u},{default:z(()=>[q(R(n))]),_:1},8,[`class`]))],64)):J(`v-if`,!0)],2)],2),[[Lo,s.value]])]),_:3},8,[`name`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue`]])),ty=()=>$h&&/firefox/i.test(window.navigator.userAgent),ny=()=>$h&&/android/i.test(window.navigator.userAgent),ry=void 0,iy={height:`0`,visibility:`hidden`,overflow:ty()?``:`hidden`,position:`absolute`,"z-index":`-1000`,top:`0`,right:`0`},ay=[`letter-spacing`,`line-height`,`padding-top`,`padding-bottom`,`font-family`,`font-weight`,`font-size`,`text-rendering`,`text-transform`,`width`,`text-indent`,`padding-left`,`padding-right`,`border-width`,`box-sizing`,`word-break`],oy=e=>{let t=Number.parseFloat(e);return Number.isNaN(t)?e:t};function sy(e){let t=window.getComputedStyle(e),n=t.getPropertyValue(`box-sizing`),r=Number.parseFloat(t.getPropertyValue(`padding-bottom`))+Number.parseFloat(t.getPropertyValue(`padding-top`)),i=Number.parseFloat(t.getPropertyValue(`border-bottom-width`))+Number.parseFloat(t.getPropertyValue(`border-top-width`));return{contextStyle:ay.map(e=>[e,t.getPropertyValue(e)]),paddingSize:r,borderSize:i,boxSizing:n}}function cy(e,t=1,n){var r;ry||(ry=document.createElement(`textarea`),(e.parentNode??document.body).appendChild(ry));let{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=sy(e);s.forEach(([e,t])=>ry?.style.setProperty(e,t)),Object.entries(iy).forEach(([e,t])=>ry?.style.setProperty(e,t,`important`)),ry.value=e.value||e.placeholder||``;let c=ry.scrollHeight,l={};o===`border-box`?c+=a:o===`content-box`&&(c-=i),ry.value=``;let u=ry.scrollHeight-i;if(Hh(t)){let e=u*t;o===`border-box`&&(e=e+i+a),c=Math.max(e,c),l.minHeight=`${e}px`}if(Hh(n)){let e=u*n;o===`border-box`&&(e=e+i+a),c=Math.min(e,c)}return l.height=`${c}px`,(r=ry.parentNode)==null||r.removeChild(ry),ry=void 0,l}var ly=e=>e,uy=t_({ariaLabel:String,ariaOrientation:{type:String,values:[`horizontal`,`vertical`,`undefined`]},ariaControls:String}),dy=e=>kh(uy,e),fy=t_({id:{type:String,default:void 0},size:r_,disabled:{type:Boolean,default:void 0},modelValue:{type:Z([String,Number,Object]),default:``},modelModifiers:{type:Z(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:Z(String),default:`text`},resize:{type:String,values:[`none`,`both`,`horizontal`,`vertical`]},autosize:{type:Z([Boolean,Object]),default:!1},autocomplete:{type:Z(String),default:`off`},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:Vv,default:dv},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:[`inside`,`outside`],default:`inside`},suffixIcon:{type:Vv},prefixIcon:{type:Vv},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Z([Object,Array,String]),default:()=>ly({})},autofocus:Boolean,rows:{type:Number,default:2},...dy([`ariaLabel`]),inputmode:{type:Z(String),default:void 0},name:String}),py={[D_]:e=>E(e),input:e=>E(e),change:(e,t)=>E(e)&&(t instanceof Event||t===void 0),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},my=[`class`,`style`],hy=/^on[A-Z]/,gy=(e={})=>{let{excludeListeners:t=!1,excludeKeys:n}=e,r=Y(()=>(n?.value||[]).concat(my)),i=Ga();return Y(i?()=>Zm(Object.entries(i.proxy?.$attrs).filter(([e])=>!r.value.includes(e)&&!(t&&hy.test(e)))):()=>({}))},_y={prefix:Math.floor(Math.random()*1e4),current:0},vy=Symbol(`elIdInjection`),yy=()=>Ga()?qn(vy,_y):_y,by=e=>{let t=yy(),n=Js();return Jh(()=>R(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},xy=Symbol(`formContextKey`),Sy=Symbol(`formItemContextKey`),Cy=()=>({form:qn(xy,void 0),formItem:qn(Sy,void 0)}),wy=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||=L(!1),r||=L(!1);let i=Ga(),a=()=>{let e=i?.parent;for(;e;){if(e.type.name===`ElFormItem`)return!1;if(e.type.name===`ElLabelWrap`)return!0;e=e.parent}return!1},o=L(),s,c=Y(()=>!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&t.inputIds?.length<=1));return zr(()=>{s=B([fn(e,`id`),n],([e,n])=>{let i=e??(n?void 0:by().value);i!==o.value&&(t?.removeInputId&&!a()&&(o.value&&t.removeInputId(o.value),!r?.value&&!n&&i&&t.addInputId(i)),o.value=i)},{immediate:!0})}),Ur(()=>{s&&s(),t?.removeInputId&&o.value&&t.removeInputId(o.value)}),{isLabeledByFormItem:c,inputId:o}},Ty=e=>{let t=Ga();return Y(()=>t?.proxy?.$props?.[e])},Ey=(e,t={})=>{let n=L(void 0),r=t.prop?n:Ty(`size`),i=t.global?n:a_(),a=t.form?{size:void 0}:qn(xy,void 0),o=t.formItem?{size:void 0}:qn(Sy,void 0);return Y(()=>r.value||R(e)||o?.size||a?.size||i.value||``)},Dy=e=>{let t=Ty(`disabled`),n=qn(xy,void 0);return Y(()=>t.value??R(e)??n?.disabled??!1)},Oy=`a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])`,ky=e=>typeof Element>`u`?!1:e instanceof Element,Ay=e=>getComputedStyle(e).position===`fixed`?!1:e.offsetParent!==null,jy=e=>Array.from(e.querySelectorAll(Oy)).filter(e=>My(e)&&Ay(e)),My=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute(`tabIndex`)!==null)return!0;if(e.tabIndex<0||e.hasAttribute(`disabled`)||e.getAttribute(`aria-disabled`)===`true`)return!1;switch(e.nodeName){case`A`:return!!e.href&&e.rel!==`ignore`;case`INPUT`:return!(e.type===`hidden`||e.type===`file`);case`BUTTON`:case`SELECT`:case`TEXTAREA`:return!0;default:return!1}},Ny=function(e,t,...n){let r;r=t.includes(`mouse`)||t.includes(`click`)?`MouseEvents`:t.includes(`key`)?`KeyboardEvent`:`HTMLEvents`;let i=document.createEvent(r);return i.initEvent(t,...n),e.dispatchEvent(i),e},Py=e=>!e.getAttribute(`aria-owns`),Fy=(e,t,n)=>{let{parentNode:r}=e;if(!r)return null;let i=r.querySelectorAll(n);return i[Array.prototype.indexOf.call(i,e)+t]||null},Iy=(e,t)=>{if(!e||!e.focus)return;let n=!1;ky(e)&&!My(e)&&!e.getAttribute(`tabindex`)&&(e.setAttribute(`tabindex`,`-1`),n=!0),e.focus(t),ky(e)&&n&&e.removeAttribute(`tabindex`)},Ly=e=>{e&&(Iy(e),!Py(e)&&e.click())};function Ry(e,{disabled:t,beforeFocus:n,afterFocus:r,beforeBlur:i,afterBlur:a}={}){let{emit:o}=Ga(),s=nn(),c=L(!1),l=e=>{let i=T(n)?n(e):!1;R(t)||c.value||i||(c.value=!0,o(`focus`,e),r?.())},u=e=>{let n=T(i)?i(e):!1;R(t)||e.relatedTarget&&s.value?.contains(e.relatedTarget)||n||(c.value=!1,o(`blur`,e),a?.())};return B([s,()=>R(t)],([e,t])=>{e&&(t?e.removeAttribute(`tabindex`):e.setAttribute(`tabindex`,`-1`))}),bg(s,`focus`,l,!0),bg(s,`blur`,u,!0),bg(s,`click`,n=>{var r;R(t)||My(n.target)||s.value?.contains(document.activeElement)&&s.value!==document.activeElement||(r=e.value)==null||r.focus()},!0),{isFocused:c,wrapperRef:s,handleFocus:l,handleBlur:u}}var zy=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function By({afterComposition:e,emit:t}){let n=L(!1),r=e=>{t?.(`compositionstart`,e),n.value=!0},i=e=>{t?.(`compositionupdate`,e);let r=e.target?.value;n.value=!zy(r[r.length-1]||``)},a=r=>{t?.(`compositionend`,r),n.value&&(n.value=!1,Mn(()=>e(r)))};return{isComposing:n,handleComposition:e=>{e.type===`compositionend`?a(e):i(e)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:a}}function Vy(e){let t;function n(){if(e.value==null)return;let{selectionStart:n,selectionEnd:r,value:i}=e.value;n==null||r==null||(t={selectionStart:n,selectionEnd:r,value:i,beforeTxt:i.slice(0,Math.max(0,n)),afterTxt:i.slice(Math.max(0,r))})}function r(){if(e.value==null||t==null)return;let{value:n}=e.value,{beforeTxt:r,afterTxt:i,selectionStart:a}=t;if(r==null||i==null||a==null)return;let o=n.length;if(n.endsWith(i))o=n.length-i.length;else if(n.startsWith(r))o=r.length;else{let e=r[a-1],t=n.indexOf(e,a-1);t!==-1&&(o=t+1)}e.value.setSelectionRange(o,o)}return[n,r]}var Hy=[`id`,`name`,`minlength`,`maxlength`,`type`,`disabled`,`readonly`,`autocomplete`,`tabindex`,`aria-label`,`placeholder`,`form`,`autofocus`,`role`,`inputmode`],Uy=[`id`,`name`,`minlength`,`maxlength`,`tabindex`,`disabled`,`readonly`,`autocomplete`,`aria-label`,`placeholder`,`form`,`autofocus`,`rows`,`role`],Wy=S_(b_(V({name:`ElInput`,inheritAttrs:!1,__name:`input`,props:fy,emits:py,setup(e,{expose:t,emit:n}){let r=e,i=n,a=ui(),o=gy(),s=li(),c=Y(()=>[r.type===`textarea`?_.b():g.b(),g.m(m.value),g.is(`disabled`,h.value),g.is(`exceed`,oe.value),{[g.b(`group`)]:s.prepend||s.append,[g.m(`prefix`)]:s.prefix||r.prefixIcon,[g.m(`suffix`)]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[g.bm(`suffix`,`password-clear`)]:re.value&&ie.value,[g.b(`hidden`)]:r.type===`hidden`},a.class]),l=Y(()=>[g.e(`wrapper`),g.is(`focus`,E.value)]),{form:u,formItem:d}=Cy(),{inputId:f}=wy(r,{formItemContext:d}),m=Ey(),h=Dy(),g=X(`input`),_=X(`textarea`),v=nn(),y=nn(),b=L(!1),x=L(!1),S=L(),C=nn(r.inputStyle),w=Y(()=>v.value||y.value),{wrapperRef:T,isFocused:E,handleFocus:D,handleBlur:k}=Ry(w,{disabled:h,afterBlur(){var e;r.validateEvent&&((e=d?.validate)==null||e.call(d,`blur`).catch(e=>void 0))}}),A=Y(()=>u?.statusIcon??!1),j=Y(()=>d?.validateState||``),M=Y(()=>j.value&&Gv[j.value]),ee=Y(()=>x.value?Lv:yv),te=Y(()=>[a.style]),N=Y(()=>[r.inputStyle,C.value,{resize:r.resize}]),ne=Y(()=>ch(r.modelValue)?``:String(r.modelValue)),re=Y(()=>r.clearable&&!h.value&&!r.readonly&&!!ne.value&&(E.value||b.value)),ie=Y(()=>r.showPassword&&!h.value&&!!ne.value),P=Y(()=>r.showWordLimit&&!!r.maxlength&&(r.type===`text`||r.type===`textarea`)&&!h.value&&!r.readonly&&!r.showPassword),ae=Y(()=>ne.value.length),oe=Y(()=>!!P.value&&ae.value>Number(r.maxlength)),se=Y(()=>!!s.suffix||!!r.suffixIcon||re.value||r.showPassword||P.value||!!j.value&&A.value),ce=Y(()=>!!Object.keys(r.modelModifiers).length),[le,ue]=Vy(v);jg(y,e=>{if(fe(),!P.value||r.resize!==`both`&&r.resize!==`horizontal`)return;let{width:t}=e[0].contentRect;S.value={right:`calc(100% - ${t+22-10}px)`}});let de=()=>{let{type:e,autosize:t}=r;if(!(!$h||e!==`textarea`||!y.value))if(t){let e=O(t)?t.minRows:void 0,n=O(t)?t.maxRows:void 0,r=cy(y.value,e,n);C.value={overflowY:`hidden`,...r},Mn(()=>{y.value.offsetHeight,C.value=r})}else C.value={minHeight:cy(y.value).minHeight}},fe=(e=>{let t=!1;return()=>{t||!r.autosize||y.value?.offsetParent!==null&&(setTimeout(e),t=!0)}})(de),pe=()=>{let e=w.value,t=r.formatter?r.formatter(ne.value):ne.value;!e||e.value===t||r.type===`file`||(e.value=t)},me=e=>{let{trim:t,number:n}=r.modelModifiers;return t&&(e=e.trim()),n&&(e=`${oy(e)}`),r.formatter&&r.parser&&(e=r.parser(e)),e},ge=async e=>{if(ve.value)return;let{lazy:t}=r.modelModifiers,{value:n}=e.target;if(t){i(k_,n);return}if(n=me(n),String(n)===ne.value){r.formatter&&pe();return}le(),i(D_,n),i(k_,n),await Mn(),(r.formatter&&r.parser||!ce.value)&&pe(),ue()},_e=async e=>{let{value:t}=e.target;t=me(t),r.modelModifiers.lazy&&i(D_,t),i(O_,t,e),await Mn(),pe()},{isComposing:ve,handleCompositionStart:ye,handleCompositionUpdate:be,handleCompositionEnd:xe}=By({emit:i,afterComposition:ge}),Se=()=>{x.value=!x.value},Ce=()=>w.value?.focus(),we=()=>w.value?.blur(),Te=e=>{b.value=!1,i(`mouseleave`,e)},Ee=e=>{b.value=!0,i(`mouseenter`,e)},De=e=>{i(`keydown`,e)},Oe=()=>{var e;(e=w.value)==null||e.select()},ke=()=>{i(D_,``),i(O_,``),i(`clear`),i(k_,``)};return B(()=>r.modelValue,()=>{var e;Mn(()=>de()),r.validateEvent&&((e=d?.validate)==null||e.call(d,`change`).catch(e=>void 0))}),B(ne,e=>{if(!w.value)return;let{trim:t,number:n}=r.modelModifiers,i=w.value.value,a=(n||r.type===`number`)&&!/^0\d/.test(i)?`${oy(i)}`:i;a!==e&&(document.activeElement===w.value&&w.value.type!==`range`&&t&&a.trim()===e||pe())}),B(()=>r.type,async()=>{await Mn(),pe(),de()}),zr(()=>{!r.formatter&&r.parser,pe(),Mn(de)}),t({input:v,textarea:y,ref:w,textareaStyle:N,autosize:fn(r,`autosize`),isComposing:ve,focus:Ce,blur:we,select:Oe,clear:ke,resizeTextarea:de}),(e,t)=>(U(),W(`div`,{class:F([c.value,{[R(g).bm(`group`,`append`)]:e.$slots.append,[R(g).bm(`group`,`prepend`)]:e.$slots.prepend}]),style:he(te.value),onMouseenter:Ee,onMouseleave:Te},[J(` input `),e.type===`textarea`?(U(),W(va,{key:1},[J(` textarea `),K(`textarea`,za({id:R(f),ref_key:`textarea`,ref:y,class:[R(_).e(`inner`),R(g).is(`focus`,R(E))]},R(o),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:R(h),readonly:e.readonly,autocomplete:e.autocomplete,style:N.value,"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:t[3]||=(...e)=>R(ye)&&R(ye)(...e),onCompositionupdate:t[4]||=(...e)=>R(be)&&R(be)(...e),onCompositionend:t[5]||=(...e)=>R(xe)&&R(xe)(...e),onInput:ge,onFocus:t[6]||=(...e)=>R(D)&&R(D)(...e),onBlur:t[7]||=(...e)=>R(k)&&R(k)(...e),onChange:_e,onKeydown:De}),null,16,Uy),P.value?(U(),W(`span`,{key:0,style:he(S.value),class:F([R(g).e(`count`),R(g).is(`outside`,e.wordLimitPosition===`outside`)])},I(ae.value)+` / `+I(e.maxlength),7)):J(`v-if`,!0)],64)):(U(),W(va,{key:0},[J(` prepend slot `),e.$slots.prepend?(U(),W(`div`,{key:0,class:F(R(g).be(`group`,`prepend`))},[H(e.$slots,`prepend`)],2)):J(`v-if`,!0),K(`div`,{ref_key:`wrapperRef`,ref:T,class:F(l.value)},[J(` prefix slot `),e.$slots.prefix||e.prefixIcon?(U(),W(`span`,{key:0,class:F(R(g).e(`prefix`))},[K(`span`,{class:F(R(g).e(`prefix-inner`))},[H(e.$slots,`prefix`),e.prefixIcon?(U(),G(R(Q_),{key:0,class:F(R(g).e(`icon`))},{default:z(()=>[(U(),G(Zr(e.prefixIcon)))]),_:1},8,[`class`])):J(`v-if`,!0)],2)],2)):J(`v-if`,!0),K(`input`,za({id:R(f),ref_key:`input`,ref:v,class:R(g).e(`inner`)},R(o),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?x.value?`text`:`password`:e.type,disabled:R(h),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:t[0]||=(...e)=>R(ye)&&R(ye)(...e),onCompositionupdate:t[1]||=(...e)=>R(be)&&R(be)(...e),onCompositionend:t[2]||=(...e)=>R(xe)&&R(xe)(...e),onInput:ge,onChange:_e,onKeydown:De}),null,16,Hy),J(` suffix slot `),se.value?(U(),W(`span`,{key:1,class:F(R(g).e(`suffix`))},[K(`span`,{class:F(R(g).e(`suffix-inner`))},[!re.value||!ie.value||!P.value?(U(),W(va,{key:0},[H(e.$slots,`suffix`),e.suffixIcon?(U(),G(R(Q_),{key:0,class:F(R(g).e(`icon`))},{default:z(()=>[(U(),G(Zr(e.suffixIcon)))]),_:1},8,[`class`])):J(`v-if`,!0)],64)):J(`v-if`,!0),re.value?(U(),G(R(Q_),{key:1,class:F([R(g).e(`icon`),R(g).e(`clear`)]),onMousedown:Ms(R(p),[`prevent`]),onClick:ke},{default:z(()=>[(U(),G(Zr(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`])):J(`v-if`,!0),ie.value?(U(),G(R(Q_),{key:2,class:F([R(g).e(`icon`),R(g).e(`password`)]),onClick:Se,onMousedown:Ms(R(p),[`prevent`]),onMouseup:Ms(R(p),[`prevent`])},{default:z(()=>[(U(),G(Zr(ee.value)))]),_:1},8,[`class`,`onMousedown`,`onMouseup`])):J(`v-if`,!0),P.value?(U(),W(`span`,{key:3,class:F([R(g).e(`count`),R(g).is(`outside`,e.wordLimitPosition===`outside`)])},[K(`span`,{class:F(R(g).e(`count-inner`))},I(ae.value)+` / `+I(e.maxlength),3)],2)):J(`v-if`,!0),j.value&&M.value&&A.value?(U(),G(R(Q_),{key:4,class:F([R(g).e(`icon`),R(g).e(`validateIcon`),R(g).is(`loading`,j.value===`validating`)])},{default:z(()=>[(U(),G(Zr(M.value)))]),_:1},8,[`class`])):J(`v-if`,!0)],2)],2)):J(`v-if`,!0)],2),J(` append slot `),e.$slots.append?(U(),W(`div`,{key:1,class:F(R(g).be(`group`,`append`))},[H(e.$slots,`append`)],2)):J(`v-if`,!0)],64))],38))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue`]])),Gy={vertical:{offset:`offsetHeight`,scroll:`scrollTop`,scrollSize:`scrollHeight`,size:`height`,key:`vertical`,axis:`Y`,client:`clientY`,direction:`top`},horizontal:{offset:`offsetWidth`,scroll:`scrollLeft`,scrollSize:`scrollWidth`,size:`width`,key:`horizontal`,axis:`X`,client:`clientX`,direction:`left`}},Ky=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),qy=Symbol(`scrollbarContextKey`),Jy=t_({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Yy=`Thumb`,Xy=b_(V({__name:`thumb`,props:Jy,setup(e){let t=e,n=qn(qy),r=X(`scrollbar`);n||zg(Yy,`can not inject scrollbar context`);let i=L(),a=L(),o=L({}),s=L(!1),c=!1,l=!1,u=0,d=0,f=$h?document.onselectstart:null,p=Y(()=>Gy[t.vertical?`vertical`:`horizontal`]),m=Y(()=>Ky({size:t.size,move:t.move,bar:p.value})),h=Y(()=>i.value[p.value.offset]**2/n.wrapElement[p.value.scrollSize]/t.ratio/a.value[p.value.offset]),g=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;(t=window.getSelection())==null||t.removeAllRanges(),v(e);let n=e.currentTarget;n&&(o.value[p.value.axis]=n[p.value.offset]-(e[p.value.client]-n.getBoundingClientRect()[p.value.direction]))},_=e=>{if(!a.value||!i.value||!n.wrapElement)return;let t=(Math.abs(e.target.getBoundingClientRect()[p.value.direction]-e[p.value.client])-a.value[p.value.offset]/2)*100*h.value/i.value[p.value.offset];n.wrapElement[p.value.scroll]=t*n.wrapElement[p.value.scrollSize]/100},v=e=>{e.stopImmediatePropagation(),c=!0,u=n.wrapElement.scrollHeight,d=n.wrapElement.scrollWidth,document.addEventListener(`mousemove`,y),document.addEventListener(`mouseup`,b),f=document.onselectstart,document.onselectstart=()=>!1},y=e=>{if(!i.value||!a.value||c===!1)return;let t=o.value[p.value.axis];if(!t)return;let r=((i.value.getBoundingClientRect()[p.value.direction]-e[p.value.client])*-1-(a.value[p.value.offset]-t))*100*h.value/i.value[p.value.offset];p.value.scroll===`scrollLeft`?n.wrapElement[p.value.scroll]=r*d/100:n.wrapElement[p.value.scroll]=r*u/100},b=()=>{c=!1,o.value[p.value.axis]=0,document.removeEventListener(`mousemove`,y),document.removeEventListener(`mouseup`,b),C(),l&&(s.value=!1)},x=()=>{l=!1,s.value=!!t.size},S=()=>{l=!0,s.value=c};Hr(()=>{C(),document.removeEventListener(`mouseup`,b)});let C=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return bg(fn(n,`scrollbarElement`),`mousemove`,x),bg(fn(n,`scrollbarElement`),`mouseleave`,S),(e,t)=>(U(),G(yo,{name:R(r).b(`fade`),persisted:``},{default:z(()=>[Wn(K(`div`,{ref_key:`instance`,ref:i,class:F([R(r).e(`bar`),R(r).is(p.value.key)]),onMousedown:_,onClick:t[0]||=Ms(()=>{},[`stop`])},[K(`div`,{ref_key:`thumb`,ref:a,class:F(R(r).e(`thumb`)),style:he(m.value),onMousedown:g},null,38)],34),[[Lo,e.always||s.value]])]),_:1},8,[`name`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue`]]),Zy=b_(V({__name:`bar`,props:t_({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),setup(e,{expose:t}){let n=e,r=qn(qy),i=L(0),a=L(0),o=L(``),s=L(``),c=L(1),l=L(1);return t({handleScroll:e=>{if(e){let t=e.offsetHeight-4,n=e.offsetWidth-4;a.value=e.scrollTop*100/t*c.value,i.value=e.scrollLeft*100/n*l.value}},update:()=>{let e=r?.wrapElement;if(!e)return;let t=e.offsetHeight-4,i=e.offsetWidth-4,a=t**2/e.scrollHeight,u=i**2/e.scrollWidth,d=Math.max(a,n.minSize),f=Math.max(u,n.minSize);c.value=a/(t-a)/(d/(t-d)),l.value=u/(i-u)/(f/(i-f)),s.value=d+4<t?`${d}px`:``,o.value=f+4<i?`${f}px`:``}}),(e,t)=>(U(),W(va,null,[q(Xy,{move:i.value,ratio:l.value,size:o.value,always:e.always},null,8,[`move`,`ratio`,`size`,`always`]),q(Xy,{move:a.value,ratio:c.value,size:s.value,vertical:``,always:e.always},null,8,[`move`,`ratio`,`size`,`always`])],64))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue`]]),Qy=t_({distance:{type:Number,default:0},height:{type:[String,Number],default:``},maxHeight:{type:[String,Number],default:``},native:Boolean,wrapStyle:{type:Z([String,Object,Array]),default:``},wrapClass:{type:[String,Array],default:``},viewClass:{type:[String,Array],default:``},viewStyle:{type:[String,Array,Object],default:``},noresize:Boolean,tag:{type:String,default:`div`},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...dy([`ariaLabel`,`ariaOrientation`])}),$y={"end-reached":e=>[`left`,`right`,`top`,`bottom`].includes(e),scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Hh)},eb=[`tabindex`],tb=S_(b_(V({name:`ElScrollbar`,__name:`scrollbar`,props:Qy,emits:$y,setup(e,{expose:t,emit:n}){let r=e,i=n,a=X(`scrollbar`),o,s,c,l=0,u=0,d=``,f={bottom:!1,top:!1,right:!1,left:!1},p=L(),m=L(),h=L(),g=L(),_=Y(()=>{let e={},t=V_(r.height),n=V_(r.maxHeight);return t&&(e.height=t),n&&(e.maxHeight=n),[r.wrapStyle,e]}),v=Y(()=>[r.wrapClass,a.e(`wrap`),{[a.em(`wrap`,`hidden-default`)]:!r.native}]),y=Y(()=>[a.e(`view`),r.viewClass]),b=e=>f[e]??!1,x={top:`bottom`,bottom:`top`,left:`right`,right:`left`},S=e=>{let t=x[d];if(!t)return;let n=e[d],r=e[t];n&&!f[d]&&(f[d]=!0),!r&&f[t]&&(f[t]=!1)},C=()=>{var e;if(m.value){(e=g.value)==null||e.handleScroll(m.value);let t=l,n=u;l=m.value.scrollTop,u=m.value.scrollLeft;let a={bottom:l+m.value.clientHeight>=m.value.scrollHeight-r.distance,top:l<=r.distance&&t!==0,right:u+m.value.clientWidth>=m.value.scrollWidth-r.distance&&n!==u,left:u<=r.distance&&n!==0};if(i(`scroll`,{scrollTop:l,scrollLeft:u}),t!==l&&(d=l>t?`bottom`:`top`),n!==u&&(d=u>n?`right`:`left`),r.distance>0){if(b(d))return;S(a)}a[d]&&i(`end-reached`,d)}};function w(e,t){O(e)?m.value.scrollTo(e):Hh(e)&&Hh(t)&&m.value.scrollTo(e,t)}let T=e=>{Hh(e)&&(m.value.scrollTop=e)},E=e=>{Hh(e)&&(m.value.scrollLeft=e)},D=()=>{var e;(e=g.value)==null||e.update(),f[d]=!1};return B(()=>r.noresize,e=>{e?(o?.(),s?.(),c?.()):({stop:o}=jg(h,D),{stop:s}=jg(m,D),c=bg(`resize`,D))},{immediate:!0}),B(()=>[r.maxHeight,r.height],()=>{r.native||Mn(()=>{var e;D(),m.value&&((e=g.value)==null||e.handleScroll(m.value))})}),Kn(qy,Ut({scrollbarElement:p,wrapElement:m})),Mr(()=>{m.value&&(m.value.scrollTop=l,m.value.scrollLeft=u)}),zr(()=>{r.native||Mn(()=>{D()})}),Vr(()=>D()),t({wrapRef:m,update:D,scrollTo:w,setScrollTop:T,setScrollLeft:E,handleScroll:C}),(e,t)=>(U(),W(`div`,{ref_key:`scrollbarRef`,ref:p,class:F(R(a).b())},[K(`div`,{ref_key:`wrapRef`,ref:m,class:F(v.value),style:he(_.value),tabindex:e.tabindex,onScroll:C},[(U(),G(Zr(e.tag),{id:e.id,ref_key:`resizeRef`,ref:h,class:F(y.value),style:he(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`id`,`class`,`style`,`role`,`aria-label`,`aria-orientation`]))],46,eb),e.native?J(`v-if`,!0):(U(),G(Zy,{key:0,ref_key:`barRef`,ref:g,always:e.always,"min-size":e.minSize},null,8,[`always`,`min-size`]))],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue`]])),nb=Symbol(`popper`),rb=Symbol(`popperContent`),ib=[`dialog`,`grid`,`group`,`listbox`,`menu`,`navigation`,`tooltip`,`tree`],ab=t_({role:{type:String,values:ib,default:`tooltip`}}),ob=b_(V({name:`ElPopper`,inheritAttrs:!1,__name:`popper`,props:ab,setup(e,{expose:t}){let n=e,r={triggerRef:L(),popperInstanceRef:L(),contentRef:L(),referenceRef:L(),role:Y(()=>n.role)};return t(r),Kn(nb,r),(e,t)=>H(e.$slots,`default`)}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue`]]),sb=b_(V({name:`ElPopperArrow`,inheritAttrs:!1,__name:`arrow`,setup(e,{expose:t}){let n=X(`popper`),{arrowRef:r,arrowStyle:i}=qn(rb,void 0);return Hr(()=>{r.value=void 0}),t({arrowRef:r}),(e,t)=>(U(),W(`span`,{ref_key:`arrowRef`,ref:r,class:F(R(n).e(`arrow`)),style:he(R(i)),"data-popper-arrow":``},null,6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue`]]),cb=t_({virtualRef:{type:Z(Object)},virtualTriggering:Boolean,onMouseenter:{type:Z(Function)},onMouseleave:{type:Z(Function)},onClick:{type:Z(Function)},onKeydown:{type:Z(Function)},onFocus:{type:Z(Function)},onBlur:{type:Z(Function)},onContextmenu:{type:Z(Function)},id:String,open:Boolean}),lb=Symbol(`elForwardRef`),ub=e=>{Kn(lb,{setForwardRef:t=>{e.value=t}})},db=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),fb=V({name:`ElOnlyChild`,setup(e,{slots:t,attrs:n}){let r=db(qn(lb)?.setForwardRef??p);return()=>{let e=t.default?.call(t,n);if(!e)return null;let[i,a]=pb(e);return i?Wn(Pa(i,n),[[r]]):null}}});function pb(e){if(!e)return[null,0];let t=e,n=t.filter(e=>e.type!==ba).length;for(let e of t){if(O(e))switch(e.type){case ba:continue;case ya:case`svg`:return[mb(e),n];case va:return pb(e.children);default:return[e,n]}return[mb(e),n]}return[null,0]}function mb(e){return q(`span`,{class:X(`only-child`).e(`content`)},[e])}var hb=b_(V({name:`ElPopperTrigger`,inheritAttrs:!1,__name:`trigger`,props:cb,setup(e,{expose:t}){let n=e,{role:r,triggerRef:i}=qn(nb,void 0);ub(i);let a=Y(()=>s.value?n.id:void 0),o=Y(()=>{if(r&&r.value===`tooltip`)return n.open&&n.id?n.id:void 0}),s=Y(()=>{if(r&&r.value!==`tooltip`)return r.value}),c=Y(()=>s.value?`${n.open}`:void 0),l,u=[`onMouseenter`,`onMouseleave`,`onClick`,`onKeydown`,`onFocus`,`onBlur`,`onContextmenu`];return zr(()=>{B(()=>n.virtualRef,e=>{e&&(i.value=_g(e))},{immediate:!0}),B(i,(e,t)=>{l?.(),l=void 0,Wh(t)&&u.forEach(e=>{let r=n[e];r&&t.removeEventListener(e.slice(2).toLowerCase(),r,[`onFocus`,`onBlur`].includes(e))}),Wh(e)&&(u.forEach(t=>{let r=n[t];r&&e.addEventListener(t.slice(2).toLowerCase(),r,[`onFocus`,`onBlur`].includes(t))}),My(e)&&(l=B([a,o,s,c],t=>{[`aria-controls`,`aria-describedby`,`aria-haspopup`,`aria-expanded`].forEach((n,r)=>{ch(t[r])?e.removeAttribute(n):e.setAttribute(n,t[r])})},{immediate:!0}))),Wh(t)&&My(t)&&[`aria-controls`,`aria-describedby`,`aria-haspopup`,`aria-expanded`].forEach(e=>t.removeAttribute(e))},{immediate:!0})}),Hr(()=>{if(l?.(),l=void 0,i.value&&Wh(i.value)){let e=i.value;u.forEach(t=>{let r=n[t];r&&e.removeEventListener(t.slice(2).toLowerCase(),r,[`onFocus`,`onBlur`].includes(t))}),i.value=void 0}}),t({triggerRef:i}),(e,t)=>e.virtualTriggering?J(`v-if`,!0):(U(),G(R(fb),za({key:0},e.$attrs,{"aria-controls":a.value,"aria-describedby":o.value,"aria-expanded":c.value,"aria-haspopup":s.value}),{default:z(()=>[H(e.$slots,`default`)]),_:3},16,[`aria-controls`,`aria-describedby`,`aria-expanded`,`aria-haspopup`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue`]]),gb=`focus-trap.focus-after-trapped`,_b=`focus-trap.focus-after-released`,vb=`focus-trap.focusout-prevented`,yb={cancelable:!0,bubbles:!1},bb={cancelable:!0,bubbles:!1},xb=`focusAfterTrapped`,Sb=`focusAfterReleased`,Cb=Symbol(`elFocusTrap`),wb=L(),Tb=L(0),Eb=L(0),Db=0,Ob=e=>{let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t=e.tagName===`INPUT`&&e.type===`hidden`;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0||e===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},kb=(e,t)=>{for(let n of e)if(!Ab(n,t))return n},Ab=(e,t)=>{if(getComputedStyle(e).visibility===`hidden`)return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display===`none`)return!0;e=e.parentElement}return!1},jb=e=>{let t=Ob(e);return[kb(t,e),kb(t.reverse(),e)]},Mb=e=>e instanceof HTMLInputElement&&`select`in e,Nb=(e,t)=>{if(e){let n=document.activeElement;Iy(e,{preventScroll:!0}),Eb.value=window.performance.now(),e!==n&&Mb(e)&&t&&e.select()}};function Pb(e,t){let n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}var Fb=()=>{let e=[];return{push:t=>{let n=e[0];n&&t!==n&&n.pause(),e=Pb(e,t),e.unshift(t)},remove:t=>{var n,r;e=Pb(e,t),(r=(n=e[0])?.resume)==null||r.call(n)}}},Ib=(e,t=!1)=>{let n=document.activeElement;for(let r of e)if(Nb(r,t),document.activeElement!==n)return},Lb=Fb(),Rb=()=>Tb.value>Eb.value,zb=()=>{wb.value=`pointer`,Tb.value=window.performance.now()},Bb=()=>{wb.value=`keyboard`,Tb.value=window.performance.now()},Vb=()=>(zr(()=>{Db===0&&(document.addEventListener(`mousedown`,zb),document.addEventListener(`touchstart`,zb),document.addEventListener(`keydown`,Bb)),Db++}),Hr(()=>{Db--,Db<=0&&(document.removeEventListener(`mousedown`,zb),document.removeEventListener(`touchstart`,zb),document.removeEventListener(`keydown`,Bb))}),{focusReason:wb,lastUserFocusTimestamp:Tb,lastAutomatedFocusTimestamp:Eb}),Hb=e=>new CustomEvent(vb,{...bb,detail:e}),Q={tab:`Tab`,enter:`Enter`,space:`Space`,left:`ArrowLeft`,up:`ArrowUp`,right:`ArrowRight`,down:`ArrowDown`,esc:`Escape`,delete:`Delete`,backspace:`Backspace`,numpadEnter:`NumpadEnter`,pageUp:`PageUp`,pageDown:`PageDown`,home:`Home`,end:`End`},Ub=(e,t,{checkForDefaultPrevented:n=!0}={})=>r=>{let i=e?.(r);if(n===!1||!i)return t?.(r)},Wb=e=>t=>t.pointerType===`mouse`?e(t):void 0,Gb=e=>{if(e.code&&e.code!==`Unidentified`)return e.code;let t=Kb(e);if(t){if(Object.values(Q).includes(t))return t;switch(t){case` `:return Q.space;default:return``}}return``},Kb=e=>{let t=e.key&&e.key!==`Unidentified`?e.key:``;if(!t&&e.type===`keyup`&&ny()){let n=e.target;t=n.value.charAt(n.selectionStart-1)}return t},qb=[],Jb=e=>{Gb(e)===Q.esc&&qb.forEach(t=>t(e))},Yb=e=>{zr(()=>{qb.length===0&&document.addEventListener(`keydown`,Jb),$h&&qb.push(e)}),Hr(()=>{qb=qb.filter(t=>t!==e),qb.length===0&&$h&&document.removeEventListener(`keydown`,Jb)})},Xb=V({name:`ElFocusTrap`,inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:`first`}},emits:[xb,Sb,`focusin`,`focusout`,`focusout-prevented`,`release-requested`],setup(e,{emit:t}){let n=L(),r,i,{focusReason:a}=Vb();Yb(n=>{e.trapped&&!o.paused&&t(`release-requested`,n)});let o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=n=>{if(!e.loop&&!e.trapped||o.paused)return;let{altKey:r,ctrlKey:i,metaKey:s,currentTarget:c,shiftKey:l}=n,{loop:u}=e,d=Gb(n)===Q.tab&&!r&&!i&&!s,f=document.activeElement;if(d&&f){let e=c,[r,i]=jb(e);if(r&&i){if(!l&&f===i){let e=Hb({focusReason:a.value});t(`focusout-prevented`,e),e.defaultPrevented||(n.preventDefault(),u&&Nb(r,!0))}else if(l&&[r,e].includes(f)){let e=Hb({focusReason:a.value});t(`focusout-prevented`,e),e.defaultPrevented||(n.preventDefault(),u&&Nb(i,!0))}}else if(f===e){let e=Hb({focusReason:a.value});t(`focusout-prevented`,e),e.defaultPrevented||n.preventDefault()}}};Kn(Cb,{focusTrapRef:n,onKeydown:s}),B(()=>e.focusTrapEl,e=>{e&&(n.value=e)},{immediate:!0}),B([n],([e],[t])=>{e&&(e.addEventListener(`keydown`,s),e.addEventListener(`focusin`,u),e.addEventListener(`focusout`,d)),t&&(t.removeEventListener(`keydown`,s),t.removeEventListener(`focusin`,u),t.removeEventListener(`focusout`,d))});let c=e=>{t(xb,e)},l=e=>t(Sb,e),u=a=>{let s=R(n);if(!s)return;let c=a.target,l=a.relatedTarget,u=c&&s.contains(c);e.trapped||l&&s.contains(l)||(r=l),u&&t(`focusin`,a),!o.paused&&e.trapped&&(u?i=c:Nb(i,!0))},d=r=>{let s=R(n);if(!(o.paused||!s))if(e.trapped){let n=r.relatedTarget;!ch(n)&&!s.contains(n)&&setTimeout(()=>{if(!o.paused&&e.trapped){let e=Hb({focusReason:a.value});t(`focusout-prevented`,e),e.defaultPrevented||Nb(i,!0)}},0)}else{let e=r.target;e&&s.contains(e)||t(`focusout`,r)}};async function f(){await Mn();let t=R(n);if(t){Lb.push(o);let n=t.contains(document.activeElement)?r:document.activeElement;if(r=n,!t.contains(n)){let r=new Event(gb,yb);t.addEventListener(gb,c),t.dispatchEvent(r),r.defaultPrevented||Mn(()=>{let r=e.focusStartEl;E(r)||(Nb(r),document.activeElement!==r&&(r=`first`)),r===`first`&&Ib(Ob(t),!0),(document.activeElement===n||r===`container`)&&Nb(t)})}}}function p(){let e=R(n);if(e){e.removeEventListener(gb,c);let t=new CustomEvent(_b,{...yb,detail:{focusReason:a.value}});e.addEventListener(_b,l),e.dispatchEvent(t),!t.defaultPrevented&&(a.value==`keyboard`||!Rb()||e.contains(document.activeElement))&&Nb(r??document.body),e.removeEventListener(_b,l),Lb.remove(o),r=null,i=null}}return zr(()=>{e.trapped&&f(),B(()=>e.trapped,e=>{e?f():p()})}),Hr(()=>{e.trapped&&p(),n.value&&=(n.value.removeEventListener(`keydown`,s),n.value.removeEventListener(`focusin`,u),n.value.removeEventListener(`focusout`,d),void 0),r=null,i=null}),{onKeydown:s}}});function Zb(e,t,n,r,i,a){return H(e.$slots,`default`,{handleKeydown:e.onKeydown})}var Qb=b_(Xb,[[`render`,Zb],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue`]]),$b=`bottom`,ex=`right`,tx=`left`,nx=`auto`,rx=[`top`,$b,ex,tx],ix=`start`,ax=`clippingParents`,ox=`viewport`,sx=`popper`,cx=`reference`,lx=rx.reduce(function(e,t){return e.concat([t+`-`+ix,t+`-end`])},[]),ux=[].concat(rx,[nx]).reduce(function(e,t){return e.concat([t,t+`-`+ix,t+`-end`])},[]),dx=[`beforeRead`,`read`,`afterRead`,`beforeMain`,`main`,`afterMain`,`beforeWrite`,`write`,`afterWrite`];function fx(e){return e?(e.nodeName||``).toLowerCase():null}function px(e){if(e==null)return window;if(e.toString()!==`[object Window]`){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function mx(e){return e instanceof px(e).Element||e instanceof Element}function hx(e){return e instanceof px(e).HTMLElement||e instanceof HTMLElement}function gx(e){return typeof ShadowRoot>`u`?!1:e instanceof px(e).ShadowRoot||e instanceof ShadowRoot}function _x(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];!hx(i)||!fx(i)||(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];t===!1?i.removeAttribute(e):i.setAttribute(e,t===!0?``:t)}))})}function vx(e){var t=e.state,n={popper:{position:t.options.strategy,left:`0`,top:`0`,margin:`0`},arrow:{position:`absolute`},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]=``,e},{});!hx(r)||!fx(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}}var yx={name:`applyStyles`,enabled:!0,phase:`write`,fn:_x,effect:vx,requires:[`computeStyles`]};function bx(e){return e.split(`-`)[0]}var xx=Math.max,Sx=Math.min,Cx=Math.round;function wx(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(hx(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Cx(n.width)/o||1),a>0&&(i=Cx(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Tx(e){var t=wx(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ex(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gx(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dx(e){return px(e).getComputedStyle(e)}function Ox(e){return[`table`,`td`,`th`].indexOf(fx(e))>=0}function kx(e){return((mx(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ax(e){return fx(e)===`html`?e:e.assignedSlot||e.parentNode||(gx(e)?e.host:null)||kx(e)}function jx(e){return!hx(e)||Dx(e).position===`fixed`?null:e.offsetParent}function Mx(e){var t=navigator.userAgent.toLowerCase().indexOf(`firefox`)!==-1;if(navigator.userAgent.indexOf(`Trident`)!==-1&&hx(e)&&Dx(e).position===`fixed`)return null;var n=Ax(e);for(gx(n)&&(n=n.host);hx(n)&&[`html`,`body`].indexOf(fx(n))<0;){var r=Dx(n);if(r.transform!==`none`||r.perspective!==`none`||r.contain===`paint`||[`transform`,`perspective`].indexOf(r.willChange)!==-1||t&&r.willChange===`filter`||t&&r.filter&&r.filter!==`none`)return n;n=n.parentNode}return null}function Nx(e){for(var t=px(e),n=jx(e);n&&Ox(n)&&Dx(n).position===`static`;)n=jx(n);return n&&(fx(n)===`html`||fx(n)===`body`&&Dx(n).position===`static`)?t:n||Mx(e)||t}function Px(e){return[`top`,`bottom`].indexOf(e)>=0?`x`:`y`}function Fx(e,t,n){return xx(e,Sx(t,n))}function Ix(e,t,n){var r=Fx(e,t,n);return r>n?n:r}function Lx(){return{top:0,right:0,bottom:0,left:0}}function Rx(e){return Object.assign({},Lx(),e)}function zx(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var Bx=function(e,t){return e=typeof e==`function`?e(Object.assign({},t.rects,{placement:t.placement})):e,Rx(typeof e==`number`?zx(e,rx):e)};function Vx(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=bx(n.placement),c=Px(s),l=[`left`,`right`].indexOf(s)>=0?`height`:`width`;if(!(!a||!o)){var u=Bx(i.padding,n),d=Tx(a),f=c===`y`?`top`:tx,p=c===`y`?$b:ex,m=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],h=o[c]-n.rects.reference[c],g=Nx(a),_=g?c===`y`?g.clientHeight||0:g.clientWidth||0:0,v=m/2-h/2,y=u[f],b=_-d[l]-u[p],x=_/2-d[l]/2+v,S=Fx(y,x,b),C=c;n.modifiersData[r]=(t={},t[C]=S,t.centerOffset=S-x,t)}}function Hx(e){var t=e.state,n=e.options.element,r=n===void 0?`[data-popper-arrow]`:n;r!=null&&(typeof r==`string`&&(r=t.elements.popper.querySelector(r),!r)||!Ex(t.elements.popper,r)||(t.elements.arrow=r))}var Ux={name:`arrow`,enabled:!0,phase:`main`,fn:Vx,effect:Hx,requires:[`popperOffsets`],requiresIfExists:[`preventOverflow`]};function Wx(e){return e.split(`-`)[1]}var Gx={top:`auto`,right:`auto`,bottom:`auto`,left:`auto`};function Kx(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Cx(t*r)/r||0,y:Cx(n*r)/r||0}}function qx(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,h=m===void 0?0:m,g=typeof u==`function`?u({x:p,y:h}):{x:p,y:h};p=g.x,h=g.y;var _=o.hasOwnProperty(`x`),v=o.hasOwnProperty(`y`),y=tx,b=`top`,x=window;if(l){var S=Nx(n),C=`clientHeight`,w=`clientWidth`;if(S===px(n)&&(S=kx(n),Dx(S).position!==`static`&&s===`absolute`&&(C=`scrollHeight`,w=`scrollWidth`)),S=S,i===`top`||(i===`left`||i===`right`)&&a===`end`){b=$b;var T=d&&S===x&&x.visualViewport?x.visualViewport.height:S[C];h-=T-r.height,h*=c?1:-1}if(i===`left`||(i===`top`||i===`bottom`)&&a===`end`){y=ex;var E=d&&S===x&&x.visualViewport?x.visualViewport.width:S[w];p-=E-r.width,p*=c?1:-1}}var D=Object.assign({position:s},l&&Gx),O=u===!0?Kx({x:p,y:h}):{x:p,y:h};if(p=O.x,h=O.y,c){var k;return Object.assign({},D,(k={},k[b]=v?`0`:``,k[y]=_?`0`:``,k.transform=(x.devicePixelRatio||1)<=1?`translate(`+p+`px, `+h+`px)`:`translate3d(`+p+`px, `+h+`px, 0)`,k))}return Object.assign({},D,(t={},t[b]=v?h+`px`:``,t[y]=_?p+`px`:``,t.transform=``,t))}function Jx(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,s=n.roundOffsets,c=s===void 0?!0:s,l={placement:bx(t.placement),variation:Wx(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy===`fixed`};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,qx(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,qx(Object.assign({},l,{offsets:t.modifiersData.arrow,position:`absolute`,adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Yx={name:`computeStyles`,enabled:!0,phase:`beforeWrite`,fn:Jx,data:{}},Xx={passive:!0};function Zx(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,s=o===void 0?!0:o,c=px(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(e){e.addEventListener(`scroll`,n.update,Xx)}),s&&c.addEventListener(`resize`,n.update,Xx),function(){a&&l.forEach(function(e){e.removeEventListener(`scroll`,n.update,Xx)}),s&&c.removeEventListener(`resize`,n.update,Xx)}}var Qx={name:`eventListeners`,enabled:!0,phase:`write`,fn:function(){},effect:Zx,data:{}},$x={left:`right`,right:`left`,bottom:`top`,top:`bottom`};function eS(e){return e.replace(/left|right|bottom|top/g,function(e){return $x[e]})}var tS={start:`end`,end:`start`};function nS(e){return e.replace(/start|end/g,function(e){return tS[e]})}function rS(e){var t=px(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function iS(e){return wx(kx(e)).left+rS(e).scrollLeft}function aS(e){var t=px(e),n=kx(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+iS(e),y:s}}function oS(e){var t=kx(e),n=rS(e),r=e.ownerDocument?.body,i=xx(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=xx(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-n.scrollLeft+iS(e),s=-n.scrollTop;return Dx(r||t).direction===`rtl`&&(o+=xx(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:o,y:s}}function sS(e){var t=Dx(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function cS(e){return[`html`,`body`,`#document`].indexOf(fx(e))>=0?e.ownerDocument.body:hx(e)&&sS(e)?e:cS(Ax(e))}function lS(e,t){t===void 0&&(t=[]);var n=cS(e),r=n===e.ownerDocument?.body,i=px(n),a=r?[i].concat(i.visualViewport||[],sS(n)?n:[]):n,o=t.concat(a);return r?o:o.concat(lS(Ax(a)))}function uS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function dS(e){var t=wx(e);return t.top+=e.clientTop,t.left+=e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function fS(e,t){return t===`viewport`?uS(aS(e)):mx(t)?dS(t):uS(oS(kx(e)))}function pS(e){var t=lS(Ax(e)),n=[`absolute`,`fixed`].indexOf(Dx(e).position)>=0&&hx(e)?Nx(e):e;return mx(n)?t.filter(function(e){return mx(e)&&Ex(e,n)&&fx(e)!==`body`}):[]}function mS(e,t,n){var r=t===`clippingParents`?pS(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce(function(t,n){var r=fS(e,n);return t.top=xx(r.top,t.top),t.right=Sx(r.right,t.right),t.bottom=Sx(r.bottom,t.bottom),t.left=xx(r.left,t.left),t},fS(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function hS(e){var t=e.reference,n=e.element,r=e.placement,i=r?bx(r):null,a=r?Wx(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,c;switch(i){case`top`:c={x:o,y:t.y-n.height};break;case $b:c={x:o,y:t.y+t.height};break;case ex:c={x:t.x+t.width,y:s};break;case tx:c={x:t.x-n.width,y:s};break;default:c={x:t.x,y:t.y}}var l=i?Px(i):null;if(l!=null){var u=l===`y`?`height`:`width`;switch(a){case ix:c[l]=c[l]-(t[u]/2-n[u]/2);break;case`end`:c[l]=c[l]+(t[u]/2-n[u]/2);break}}return c}function gS(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.boundary,o=a===void 0?ax:a,s=n.rootBoundary,c=s===void 0?ox:s,l=n.elementContext,u=l===void 0?sx:l,d=n.altBoundary,f=d===void 0?!1:d,p=n.padding,m=p===void 0?0:p,h=Rx(typeof m==`number`?zx(m,rx):m),g=u===`popper`?cx:sx,_=e.rects.popper,v=e.elements[f?g:u],y=mS(mx(v)?v:v.contextElement||kx(e.elements.popper),o,c),b=wx(e.elements.reference),x=hS({reference:b,element:_,strategy:`absolute`,placement:i}),S=uS(Object.assign({},_,x)),C=u===`popper`?S:b,w={top:y.top-C.top+h.top,bottom:C.bottom-y.bottom+h.bottom,left:y.left-C.left+h.left,right:C.right-y.right+h.right},T=e.modifiersData.offset;if(u===`popper`&&T){var E=T[i];Object.keys(w).forEach(function(e){var t=[`right`,`bottom`].indexOf(e)>=0?1:-1,n=[`top`,`bottom`].indexOf(e)>=0?`y`:`x`;w[e]+=E[n]*t})}return w}function _S(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?ux:c,u=Wx(r),d=u?s?lx:lx.filter(function(e){return Wx(e)===u}):rx,f=d.filter(function(e){return l.indexOf(e)>=0});f.length===0&&(f=d);var p=f.reduce(function(t,n){return t[n]=gS(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[bx(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}function vS(e){if(bx(e)===`auto`)return[];var t=eS(e);return[nS(e),t,nS(t)]}function yS(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!0:o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,h=n.allowedAutoPlacements,g=t.options.placement,_=bx(g)===g,v=c||(_||!m?[eS(g)]:vS(g)),y=[g].concat(v).reduce(function(e,n){return e.concat(bx(n)===`auto`?_S(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:m,allowedAutoPlacements:h}):n)},[]),b=t.rects.reference,x=t.rects.popper,S=new Map,C=!0,w=y[0],T=0;T<y.length;T++){var E=y[T],D=bx(E),O=Wx(E)===ix,k=[`top`,$b].indexOf(D)>=0,A=k?`width`:`height`,j=gS(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:f,padding:l}),M=k?O?ex:tx:O?$b:`top`;b[A]>x[A]&&(M=eS(M));var ee=eS(M),te=[];if(a&&te.push(j[D]<=0),s&&te.push(j[M]<=0,j[ee]<=0),te.every(function(e){return e})){w=E,C=!1;break}S.set(E,te)}if(C)for(var N=m?3:1,ne=function(e){var t=y.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return w=t,`break`},re=N;re>0&&ne(re)!==`break`;re--);t.placement!==w&&(t.modifiersData[r]._skip=!0,t.placement=w,t.reset=!0)}}var bS={name:`flip`,enabled:!0,phase:`main`,fn:yS,requiresIfExists:[`offset`],data:{_skip:!1}};function xS(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function SS(e){return[`top`,ex,$b,tx].some(function(t){return e[t]>=0})}function CS(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=gS(t,{elementContext:`reference`}),s=gS(t,{altBoundary:!0}),c=xS(o,r),l=xS(s,i,a),u=SS(c),d=SS(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var wS={name:`hide`,enabled:!0,phase:`main`,requiresIfExists:[`preventOverflow`],fn:CS};function TS(e,t,n){var r=bx(e),i=[`left`,`top`].indexOf(r)>=0?-1:1,a=typeof n==`function`?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o||=0,s=(s||0)*i,[`left`,`right`].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function ES(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,o=ux.reduce(function(e,n){return e[n]=TS(n,t.rects,a),e},{}),s=o[t.placement],c=s.x,l=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}var DS={name:`offset`,enabled:!0,phase:`main`,requires:[`popperOffsets`],fn:ES};function OS(e){var t=e.state,n=e.name;t.modifiersData[n]=hS({reference:t.rects.reference,element:t.rects.popper,strategy:`absolute`,placement:t.placement})}var kS={name:`popperOffsets`,enabled:!0,phase:`read`,fn:OS,data:{}};function AS(e){return e===`x`?`y`:`x`}function jS(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!1:o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,h=m===void 0?0:m,g=gS(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),_=bx(t.placement),v=Wx(t.placement),y=!v,b=Px(_),x=AS(b),S=t.modifiersData.popperOffsets,C=t.rects.reference,w=t.rects.popper,T=typeof h==`function`?h(Object.assign({},t.rects,{placement:t.placement})):h,E=typeof T==`number`?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(S){if(a){var k=b===`y`?`top`:tx,A=b===`y`?$b:ex,j=b===`y`?`height`:`width`,M=S[b],ee=M+g[k],te=M-g[A],N=p?-w[j]/2:0,ne=v===`start`?C[j]:w[j],re=v===`start`?-w[j]:-C[j],ie=t.elements.arrow,P=p&&ie?Tx(ie):{width:0,height:0},ae=t.modifiersData[`arrow#persistent`]?t.modifiersData[`arrow#persistent`].padding:Lx(),oe=ae[k],se=ae[A],ce=Fx(0,C[j],P[j]),le=y?C[j]/2-N-ce-oe-E.mainAxis:ne-ce-oe-E.mainAxis,ue=y?-C[j]/2+N+ce+se+E.mainAxis:re+ce+se+E.mainAxis,de=t.elements.arrow&&Nx(t.elements.arrow),fe=de?b===`y`?de.clientTop||0:de.clientLeft||0:0,pe=D?.[b]??0,me=M+le-pe-fe,he=M+ue-pe,ge=Fx(p?Sx(ee,me):ee,M,p?xx(te,he):te);S[b]=ge,O[b]=ge-M}if(s){var _e=b===`x`?`top`:tx,ve=b===`x`?$b:ex,ye=S[x],F=x===`y`?`height`:`width`,be=ye+g[_e],xe=ye-g[ve],Se=[`top`,tx].indexOf(_)!==-1,Ce=D?.[x]??0,we=Se?be:ye-C[F]-w[F]-Ce+E.altAxis,Te=Se?ye+C[F]+w[F]-Ce-E.altAxis:xe,Ee=p&&Se?Ix(we,ye,Te):Fx(p?we:be,ye,p?Te:xe);S[x]=Ee,O[x]=Ee-ye}t.modifiersData[r]=O}}var MS={name:`preventOverflow`,enabled:!0,phase:`main`,fn:jS,requiresIfExists:[`offset`]};function NS(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function PS(e){return e===px(e)||!hx(e)?rS(e):NS(e)}function FS(e){var t=e.getBoundingClientRect(),n=Cx(t.width)/e.offsetWidth||1,r=Cx(t.height)/e.offsetHeight||1;return n!==1||r!==1}function IS(e,t,n){n===void 0&&(n=!1);var r=hx(t),i=hx(t)&&FS(t),a=kx(t),o=wx(e,i),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((fx(t)!==`body`||sS(a))&&(s=PS(t)),hx(t)?(c=wx(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=iS(a))),{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function LS(e){var t=new Map,n=new Set,r=[];e.forEach(function(e){t.set(e.name,e)});function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){n.has(e.name)||i(e)}),r}function RS(e){var t=LS(e);return dx.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}function zS(e){var t;return function(){return t||=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})}),t}}function BS(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}var VS={placement:`bottom`,modifiers:[],strategy:`absolute`};function HS(){return![...arguments].some(function(e){return!(e&&typeof e.getBoundingClientRect==`function`)})}function US(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?VS:i;return function(e,t,n){n===void 0&&(n=a);var i={placement:`bottom`,orderedModifiers:[],options:Object.assign({},VS,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,c={state:i,setOptions:function(n){var o=typeof n==`function`?n(i.options):n;return u(),i.options=Object.assign({},a,i.options,o),i.scrollParents={reference:mx(e)?lS(e):e.contextElement?lS(e.contextElement):[],popper:lS(t)},i.orderedModifiers=RS(BS([].concat(r,i.options.modifiers))).filter(function(e){return e.enabled}),l(),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(HS(t,n)){i.rects={reference:IS(t,Nx(n),i.options.strategy===`fixed`),popper:Tx(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++){if(i.reset===!0){i.reset=!1,r=-1;continue}var a=i.orderedModifiers[r],o=a.fn,l=a.options,u=l===void 0?{}:l,d=a.name;typeof o==`function`&&(i=o({state:i,options:u,name:d,instance:c})||i)}}}},update:zS(function(){return new Promise(function(e){c.forceUpdate(),e(i)})}),destroy:function(){u(),s=!0}};if(!HS(e,t))return c;c.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)});function l(){i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=n===void 0?{}:n,a=e.effect;if(typeof a==`function`){var s=a({state:i,name:t,instance:c,options:r});o.push(s||function(){})}})}function u(){o.forEach(function(e){return e()}),o=[]}return c}}US(),US({defaultModifiers:[Qx,kS,Yx,yx]});var WS=US({defaultModifiers:[Qx,kS,Yx,yx,DS,bS,MS,Ux,wS]}),GS=t_({arrowOffset:{type:Number,default:5}}),KS=t_({...t_({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Z(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:ux,default:`bottom`},popperOptions:{type:Z(Object),default:()=>({})},strategy:{type:String,values:[`fixed`,`absolute`],default:`absolute`}}),...GS,id:String,style:{type:Z([String,Array,Object])},className:{type:Z([String,Array,Object])},effect:{type:Z(String),default:`dark`},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:Boolean,trapping:Boolean,popperClass:{type:Z([String,Array,Object])},popperStyle:{type:Z([String,Array,Object])},referenceEl:{type:Z(Object)},triggerTargetEl:{type:Z(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...dy([`ariaLabel`]),loop:Boolean}),qS={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},JS=(e,t)=>{let n=L(!1),r=L();return Hr(()=>{r.value=void 0}),{focusStartRef:r,trapped:n,onFocusAfterReleased:e=>{e.detail?.focusReason!==`pointer`&&(r.value=`first`,t(`blur`))},onFocusAfterTrapped:()=>{t(`focus`)},onFocusInTrap:t=>{e.visible&&!n.value&&(t.target&&(r.value=t.target),n.value=!0)},onFocusoutPrevented:t=>{e.trapping||(t.detail.focusReason===`pointer`&&t.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t(`close`)}}},YS=(e,t=[])=>{let{placement:n,strategy:r,popperOptions:i}=e,a={placement:n,strategy:r,...i,modifiers:[...ZS(e),...t]};return QS(a,i?.modifiers),a},XS=e=>{if($h)return _g(e)};function ZS(e){let{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:`offset`,options:{offset:[0,t??12]}},{name:`preventOverflow`,options:{padding:{top:0,bottom:0,left:0,right:0}}},{name:`flip`,options:{padding:5,fallbackPlacements:r}},{name:`computeStyles`,options:{gpuAcceleration:n}}]}function QS(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}var $S=(e,t,n={})=>{let r={name:`updateState`,enabled:!0,phase:`write`,fn:({state:e})=>{let t=eC(e);Object.assign(o.value,t)},requires:[`computeStyles`]},i=Y(()=>{let{onFirstUpdate:e,placement:t,strategy:i,modifiers:a}=R(n);return{onFirstUpdate:e,placement:t||`bottom`,strategy:i||`absolute`,modifiers:[...a||[],r,{name:`applyStyles`,enabled:!1}]}}),a=nn(),o=L({styles:{popper:{position:R(i).strategy,left:`0`,top:`0`},arrow:{position:`absolute`}},attributes:{}}),s=()=>{a.value&&=(a.value.destroy(),void 0)};return B(i,e=>{let t=R(a);t&&t.setOptions(e)},{deep:!0}),B([e,t],([e,t])=>{s(),!(!e||!t)&&(a.value=WS(e,t,R(i)))}),Hr(()=>{s()}),{state:Y(()=>({...R(a)?.state||{}})),styles:Y(()=>R(o).styles),attributes:Y(()=>R(o).attributes),update:()=>R(a)?.update(),forceUpdate:()=>R(a)?.forceUpdate(),instanceRef:Y(()=>R(a))}};function eC(e){let t=Object.keys(e.elements);return{styles:Zm(t.map(t=>[t,e.styles[t]||{}])),attributes:Zm(t.map(t=>[t,e.attributes[t]]))}}var tC=0,nC=e=>{let{popperInstanceRef:t,contentRef:n,triggerRef:r,role:i}=qn(nb,void 0),a=L(),o=Y(()=>e.arrowOffset),s=Y(()=>({name:`eventListeners`,enabled:!!e.visible})),c=Y(()=>{let e=R(a),t=R(o)??tC;return{name:`arrow`,enabled:!fh(e),options:{element:e,padding:t}}}),l=Y(()=>({onFirstUpdate:()=>{m()},...YS(e,[R(c),R(s)])})),u=Y(()=>XS(e.referenceEl)||R(r)),{attributes:d,state:f,styles:p,update:m,forceUpdate:h,instanceRef:g}=$S(u,n,l);return B(g,e=>t.value=e,{flush:`sync`}),zr(()=>{B(()=>{var e;return((e=R(u))?.getBoundingClientRect)?.call(e)},()=>{m()})}),Hr(()=>{t.value=void 0}),{attributes:d,arrowRef:a,contentRef:n,instanceRef:g,state:f,styles:p,role:i,forceUpdate:h,update:m}},rC=(e,{attributes:t,styles:n,role:r})=>{let{nextZIndex:i}=Gg(),a=X(`popper`),o=Y(()=>R(t).popper),s=L(Hh(e.zIndex)?e.zIndex:i()),c=Y(()=>[a.b(),a.is(`pure`,e.pure),a.is(e.effect),e.popperClass]),l=Y(()=>[{zIndex:R(s)},R(n).popper,e.popperStyle||{}]);return{ariaModal:Y(()=>r.value===`dialog`?`false`:void 0),arrowStyle:Y(()=>R(n).arrow||{}),contentAttrs:o,contentClass:c,contentStyle:l,contentZIndex:s,updateZIndex:()=>{s.value=Hh(e.zIndex)?e.zIndex:i()}}},iC=b_(V({name:`ElPopperContent`,__name:`content`,props:KS,emits:qS,setup(e,{expose:t,emit:n}){let r=n,i=e,{focusStartRef:a,trapped:o,onFocusAfterReleased:s,onFocusAfterTrapped:c,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:d}=JS(i,r),{attributes:f,arrowRef:m,contentRef:h,styles:g,instanceRef:_,role:v,update:y}=nC(i),{ariaModal:b,arrowStyle:x,contentAttrs:S,contentClass:C,contentStyle:w,updateZIndex:T}=rC(i,{styles:g,attributes:f,role:v}),E=qn(Sy,void 0);Kn(rb,{arrowStyle:x,arrowRef:m}),E&&Kn(Sy,{...E,addInputId:p,removeInputId:p});let D,O=(e=!0)=>{y(),e&&T()},k=()=>{O(!1),i.visible&&i.focusOnShow?o.value=!0:i.visible===!1&&(o.value=!1)};return zr(()=>{B(()=>i.triggerTargetEl,(e,t)=>{D?.(),D=void 0;let n=R(e||h.value),r=R(t||h.value);Wh(n)&&(D=B([v,()=>i.ariaLabel,b,()=>i.id],e=>{[`role`,`aria-label`,`aria-modal`,`id`].forEach((t,r)=>{ch(e[r])?n.removeAttribute(t):n.setAttribute(t,e[r])})},{immediate:!0})),r!==n&&Wh(r)&&[`role`,`aria-label`,`aria-modal`,`id`].forEach(e=>{r.removeAttribute(e)})},{immediate:!0}),B(()=>i.visible,k,{immediate:!0})}),Hr(()=>{D?.(),D=void 0,h.value=void 0}),t({popperContentRef:h,popperInstanceRef:_,updatePopper:O,contentStyle:w}),(e,t)=>(U(),W(`div`,za({ref_key:`contentRef`,ref:h},R(S),{style:R(w),class:R(C),tabindex:`-1`,onMouseenter:t[0]||=t=>e.$emit(`mouseenter`,t),onMouseleave:t[1]||=t=>e.$emit(`mouseleave`,t)}),[q(R(Qb),{loop:e.loop,trapped:R(o),"trap-on-focus-in":!0,"focus-trap-el":R(h),"focus-start-el":R(a),onFocusAfterTrapped:R(c),onFocusAfterReleased:R(s),onFocusin:R(l),onFocusoutPrevented:R(u),onReleaseRequested:R(d)},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`loop`,`trapped`,`focus-trap-el`,`focus-start-el`,`onFocusAfterTrapped`,`onFocusAfterReleased`,`onFocusin`,`onFocusoutPrevented`,`onReleaseRequested`])],16))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue`]]),aC=S_(ob),oC=Symbol(`elTooltip`);function sC(){let e,t=(t,r)=>{n(),e=window.setTimeout(t,r)},n=()=>window.clearTimeout(e);return Yh(()=>n()),{registerTimeout:t,cancelTimeout:n}}var cC=t_({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),lC=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:i})=>{let{registerTimeout:a}=sC(),{registerTimeout:o,cancelTimeout:s}=sC();return{onOpen:(t,s=R(e))=>{a(()=>{r(t);let e=R(n);Hh(e)&&e>0&&o(()=>{i(t)},e)},s)},onClose:(e,n=R(t))=>{s(),a(()=>{i(e)},n)}}},uC=t_({...cC,...KS,appendTo:{type:y_.to.type},content:{type:String,default:``},rawContent:Boolean,persistent:Boolean,visible:{type:Z(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...dy([`ariaLabel`])}),dC=t_({...cb,disabled:Boolean,trigger:{type:Z([String,Array]),default:`hover`},triggerKeys:{type:Z(Array),default:()=>[Q.enter,Q.numpadEnter,Q.space]},focusOnTarget:Boolean}),fC=e_({type:Z(Boolean),default:null}),pC=e_({type:Z(Function)}),mC=e=>{let t=`update:${e}`,n=`onUpdate:${e}`,r=[t];return{useModelToggle:({indicator:r,toggleReason:i,shouldHideWhenRouteChanges:a,shouldProceed:o,onShow:s,onHide:c})=>{let l=Ga(),{emit:u}=l,d=l.props,f=Y(()=>T(d[n])),p=Y(()=>d[e]===null),m=e=>{r.value!==!0&&(r.value=!0,i&&(i.value=e),T(s)&&s(e))},h=e=>{r.value!==!1&&(r.value=!1,i&&(i.value=e),T(c)&&c(e))},g=e=>{if(d.disabled===!0||T(o)&&!o())return;let n=f.value&&$h;n&&u(t,!0),(p.value||!n)&&m(e)},_=e=>{if(d.disabled===!0||!$h)return;let n=f.value&&$h;n&&u(t,!1),(p.value||!n)&&h(e)},v=e=>{Vh(e)&&(d.disabled&&e?f.value&&u(t,!1):r.value!==e&&(e?m():h()))};return B(()=>d[e],v),a&&l.appContext.config.globalProperties.$route!==void 0&&B(()=>({...l.proxy.$route}),()=>{a.value&&r.value&&_()}),zr(()=>{v(d[e])}),{hide:_,show:g,toggle:()=>{r.value?_():g()},hasUpdateHandler:f}},useModelToggleProps:{[e]:fC,[n]:pC},useModelToggleEmits:r}},{useModelToggle:Zre,useModelToggleProps:Qre,useModelToggleEmits:$re}=mC(`modelValue`),{useModelToggleProps:hC,useModelToggleEmits:gC,useModelToggle:_C}=mC(`visible`),vC=t_({...ab,...hC,...uC,...dC,...GS,showArrow:{type:Boolean,default:!0}}),yC=[...gC,`before-show`,`before-hide`,`show`,`hide`,`open`,`close`],bC=(e,t)=>x(e)?e.includes(t):e===t,xC=(e,t,n)=>r=>{bC(R(e),t)&&n(r)},SC=b_(V({name:`ElTooltipTrigger`,__name:`trigger`,props:dC,setup(e,{expose:t}){let n=e,r=X(`tooltip`),{controlled:i,id:a,open:o,onOpen:s,onClose:c,onToggle:l}=qn(oC,void 0),u=L(null),d=()=>{if(R(i)||n.disabled)return!0},f=fn(n,`trigger`),p=Ub(d,xC(f,`hover`,e=>{s(e),n.focusOnTarget&&e.target&&Mn(()=>{Iy(e.target,{preventScroll:!0})})})),m=Ub(d,xC(f,`hover`,c)),h=Ub(d,xC(f,`click`,e=>{e.button===0&&l(e)})),g=Ub(d,xC(f,`focus`,s)),_=Ub(d,xC(f,`focus`,c)),v=Ub(d,xC(f,`contextmenu`,e=>{e.preventDefault(),l(e)})),y=Ub(d,e=>{let t=Gb(e);n.triggerKeys.includes(t)&&(e.preventDefault(),l(e))});return t({triggerRef:u}),(e,t)=>(U(),G(R(hb),{id:R(a),"virtual-ref":e.virtualRef,open:R(o),"virtual-triggering":e.virtualTriggering,class:F(R(r).e(`trigger`)),onBlur:R(_),onClick:R(h),onContextmenu:R(v),onFocus:R(g),onMouseenter:R(p),onMouseleave:R(m),onKeydown:R(y)},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`id`,`virtual-ref`,`open`,`virtual-triggering`,`class`,`onBlur`,`onClick`,`onContextmenu`,`onFocus`,`onMouseenter`,`onMouseleave`,`onKeydown`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue`]]),CC=()=>{let e=Js(),t=yy(),n=Y(()=>`${e.value}-popper-container-${t.prefix}`);return{id:n,selector:Y(()=>`#${n.value}`)}},wC=e=>{let t=document.createElement(`div`);return t.id=e,document.body.appendChild(t),t},TC=()=>{let{id:e,selector:t}=CC();return Rr(()=>{$h&&(document.body.querySelector(t.value)||wC(e.value))}),{id:e,selector:t}},EC=e=>[...new Set(e)],DC=e=>x(e)?e[0]:e,OC=e=>!e&&e!==0?[]:x(e)?e:[e],kC=b_(V({name:`ElTooltipContent`,inheritAttrs:!1,__name:`content`,props:uC,setup(e,{expose:t}){let n=e,{selector:r}=CC(),i=X(`tooltip`),a=L(),o=Jh(()=>a.value?.popperContentRef),s,{controlled:c,id:l,open:u,trigger:d,onClose:f,onOpen:p,onShow:m,onHide:h,onBeforeShow:g,onBeforeHide:_}=qn(oC,void 0),v=Y(()=>n.transition||`${i.namespace.value}-fade-in-linear`),y=Y(()=>n.persistent);Hr(()=>{s?.()});let b=Y(()=>R(y)?!0:R(u)),x=Y(()=>n.disabled?!1:R(u)),S=Y(()=>n.appendTo||r.value),C=Y(()=>n.style??{}),w=L(!0),T=()=>{h(),ee()&&Iy(document.body,{preventScroll:!0}),w.value=!0},E=()=>{if(R(c))return!0},D=Ub(E,()=>{n.enterable&&bC(R(d),`hover`)&&p()}),O=Ub(E,()=>{bC(R(d),`hover`)&&f()}),k=()=>{var e,t;(t=(e=a.value)?.updatePopper)==null||t.call(e),g?.()},A=()=>{_?.()},j=()=>{m()},M=()=>{n.virtualTriggering||f()},ee=e=>{let t=a.value?.popperContentRef,n=e?.relatedTarget||document.activeElement;return t?.contains(n)};return B(()=>R(u),e=>{e?(w.value=!1,s=Sg(o,()=>{R(c)||OC(R(d)).every(e=>e!==`hover`&&e!==`focus`)&&f()},{detectIframe:!0})):s?.()},{flush:`post`}),B(()=>n.content,()=>{var e,t;(t=(e=a.value)?.updatePopper)==null||t.call(e)}),t({contentRef:a,isFocusInsideContent:ee}),(e,t)=>(U(),G(R(E_),{disabled:!e.teleported,to:S.value},{default:z(()=>[b.value||!w.value?(U(),G(yo,{key:0,name:v.value,appear:!y.value,onAfterLeave:T,onBeforeEnter:k,onAfterEnter:j,onBeforeLeave:A,persisted:``},{default:z(()=>[Wn(q(R(iC),za({id:R(l),ref_key:`contentRef`,ref:a},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":w.value,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,"arrow-offset":e.arrowOffset,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,C.value],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:x.value,"z-index":e.zIndex,loop:e.loop,onMouseenter:R(D),onMouseleave:R(O),onBlur:M,onClose:R(f)}),{default:z(()=>[H(e.$slots,`default`)]),_:3},16,[`id`,`aria-label`,`aria-hidden`,`boundaries-padding`,`fallback-placements`,`gpu-acceleration`,`offset`,`placement`,`popper-options`,`arrow-offset`,`strategy`,`effect`,`enterable`,`pure`,`popper-class`,`popper-style`,`reference-el`,`trigger-target-el`,`visible`,`z-index`,`loop`,`onMouseenter`,`onMouseleave`,`onClose`]),[[Lo,x.value]])]),_:3},8,[`name`,`appear`])):J(`v-if`,!0)]),_:3},8,[`disabled`,`to`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue`]]),AC=[`innerHTML`],jC={key:1},MC=S_(b_(V({name:`ElTooltip`,__name:`tooltip`,props:vC,emits:yC,setup(e,{expose:t,emit:n}){let r=e,i=n;TC();let a=X(`tooltip`),o=by(),s=L(),c=L(),l=()=>{var e;let t=R(s);t&&((e=t.popperInstanceRef)==null||e.update())},u=L(!1),d=L(),{show:f,hide:p,hasUpdateHandler:m}=_C({indicator:u,toggleReason:d}),{onOpen:h,onClose:g}=lC({showAfter:fn(r,`showAfter`),hideAfter:fn(r,`hideAfter`),autoClose:fn(r,`autoClose`),open:f,close:p}),_=Y(()=>Vh(r.visible)&&!m.value),v=Y(()=>[a.b(),r.popperClass]);return Kn(oC,{controlled:_,id:o,open:Gt(u),trigger:fn(r,`trigger`),onOpen:h,onClose:g,onToggle:e=>{R(u)?g(e):h(e)},onShow:()=>{i(`show`,d.value)},onHide:()=>{i(`hide`,d.value)},onBeforeShow:()=>{i(`before-show`,d.value)},onBeforeHide:()=>{i(`before-hide`,d.value)},updatePopper:l}),B(()=>r.disabled,e=>{e&&u.value&&(u.value=!1)}),Nr(()=>u.value&&p()),Hr(()=>{d.value=void 0}),t({popperRef:s,contentRef:c,isFocusInsideContent:e=>c.value?.isFocusInsideContent(e),updatePopper:l,onOpen:h,onClose:g,hide:p}),(e,t)=>(U(),G(R(aC),{ref_key:`popperRef`,ref:s,role:e.role},{default:z(()=>[q(SC,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering,"focus-on-target":e.focusOnTarget},{default:z(()=>[e.$slots.default?H(e.$slots,`default`,{key:0}):J(`v-if`,!0)]),_:3},8,[`disabled`,`trigger`,`trigger-keys`,`virtual-ref`,`virtual-triggering`,`focus-on-target`]),q(kC,{ref_key:`contentRef`,ref:c,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":v.value,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,"arrow-offset":e.arrowOffset,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo,loop:e.loop},{default:z(()=>[H(e.$slots,`content`,{},()=>[e.rawContent?(U(),W(`span`,{key:0,innerHTML:e.content},null,8,AC)):(U(),W(`span`,jC,I(e.content),1))]),e.showArrow?(U(),G(R(sb),{key:0})):J(`v-if`,!0)]),_:3},8,`aria-label.boundaries-padding.content.disabled.effect.enterable.fallback-placements.hide-after.gpu-acceleration.offset.persistent.popper-class.popper-style.placement.popper-options.arrow-offset.pure.raw-content.reference-el.trigger-target-el.show-after.strategy.teleported.transition.virtual-triggering.z-index.append-to.loop`.split(`.`))]),_:3},8,[`role`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue`]])),NC=t_({...fy,valueKey:{type:String,default:`value`},modelValue:{type:[String,Number],default:``},debounce:{type:Number,default:300},placement:{type:Z(String),values:[`top`,`top-start`,`top-end`,`bottom`,`bottom-start`,`bottom-end`],default:`bottom-start`},fetchSuggestions:{type:Z([Function,Array]),default:p},popperClass:uC.popperClass,popperStyle:uC.popperStyle,triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:Boolean,hideLoading:Boolean,teleported:uC.teleported,appendTo:uC.appendTo,highlightFirstItem:Boolean,fitInputWidth:Boolean,loopNavigation:{type:Boolean,default:!0}}),PC={[D_]:e=>E(e)||Hh(e),[k_]:e=>E(e)||Hh(e),[O_]:e=>E(e)||Hh(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>O(e)},FC=[`aria-expanded`,`aria-owns`],IC={key:0},LC=[`id`,`aria-selected`,`onClick`],RC=`ElAutocomplete`,zC=S_(b_(V({name:RC,inheritAttrs:!1,__name:`autocomplete`,props:NC,emits:PC,setup(e,{expose:t,emit:n}){let r=e,i=n,a=Y(()=>kh(r,Object.keys(fy))),o=ui(),s=Dy(),c=X(`autocomplete`),l=L(),u=L(),d=L(),f=L(),p=!1,m=!1,h=L([]),g=L(-1),_=L(``),v=L(!1),y=L(!1),b=L(!1),S=by(),C=Y(()=>o.style),w=Y(()=>(h.value.length>0||b.value)&&v.value),T=Y(()=>!r.hideLoading&&b.value),E=Y(()=>l.value?Array.from(l.value.$el.querySelectorAll(`input`)):[]),D=()=>{w.value&&(_.value=`${l.value.$el.offsetWidth}px`)},O=()=>{g.value=-1},k=async e=>{if(y.value)return;let t=e=>{b.value=!1,!y.value&&(x(e)?(h.value=e,g.value=r.highlightFirstItem?0:-1):zg(RC,`autocomplete suggestions must be an array`))};if(b.value=!0,x(r.fetchSuggestions))t(r.fetchSuggestions);else{let n=await r.fetchSuggestions(e,t);x(n)&&t(n)}},A=fg(k,Y(()=>r.debounce)),j=e=>{let t=!!e;if(i(k_,e),i(D_,e),y.value=!1,v.value||=t,!r.triggerOnFocus&&!e){y.value=!0,h.value=[];return}A(e)},M=e=>{s.value||(e.target?.tagName!==`INPUT`||E.value.includes(document.activeElement))&&(v.value=!0)},ee=e=>{i(O_,e)},te=e=>{if(m)m=!1;else{v.value=!0,i(`focus`,e);let t=r.modelValue??``;r.triggerOnFocus&&!p&&A(String(t))}},N=e=>{setTimeout(()=>{if(d.value?.isFocusInsideContent()){m=!0;return}v.value&&P(),i(`blur`,e)})},ne=()=>{v.value=!1,i(D_,``),i(`clear`)},re=async()=>{l.value?.isComposing||(w.value&&g.value>=0&&g.value<h.value.length?se(h.value[g.value]):(r.selectWhenUnmatched&&(i(`select`,{value:r.modelValue}),h.value=[],g.value=-1),v.value=!0,A(String(r.modelValue))))},ie=e=>{w.value&&(e.preventDefault(),e.stopPropagation(),P())},P=()=>{v.value=!1},ae=()=>{var e;(e=l.value)==null||e.focus()},oe=()=>{var e;(e=l.value)==null||e.blur()},se=async e=>{i(k_,e[r.valueKey]),i(D_,e[r.valueKey]),i(`select`,e),h.value=[],g.value=-1},ce=e=>{var t;if(!w.value||b.value)return;if(e<0){if(!r.loopNavigation){g.value=-1;return}e=h.value.length-1}e>=h.value.length&&(e=r.loopNavigation?0:h.value.length-1);let[n,i]=le(),a=i[e],o=n.scrollTop,{offsetTop:s,scrollHeight:c}=a;s+c>o+n.clientHeight&&(n.scrollTop=s+c-n.clientHeight),s<o&&(n.scrollTop=s),g.value=e,(t=l.value?.ref)==null||t.setAttribute(`aria-activedescendant`,`${S.value}-item-${g.value}`)},le=()=>{let e=u.value.querySelector(`.${c.be(`suggestion`,`wrap`)}`);return[e,e.querySelectorAll(`.${c.be(`suggestion`,`list`)} li`)]},ue=Sg(f,()=>{d.value?.isFocusInsideContent()||w.value&&P()}),de=e=>{switch(Gb(e)){case Q.up:e.preventDefault(),ce(g.value-1);break;case Q.down:e.preventDefault(),ce(g.value+1);break;case Q.enter:case Q.numpadEnter:e.preventDefault(),re();break;case Q.tab:P();break;case Q.esc:ie(e);break;case Q.home:e.preventDefault(),ce(0);break;case Q.end:e.preventDefault(),ce(h.value.length-1);break;case Q.pageUp:e.preventDefault(),ce(Math.max(0,g.value-10));break;case Q.pageDown:e.preventDefault(),ce(Math.min(h.value.length-1,g.value+10));break}};return Hr(()=>{ue?.()}),zr(()=>{let e=l.value?.ref;e&&([{key:`role`,value:`textbox`},{key:`aria-autocomplete`,value:`list`},{key:`aria-controls`,value:S.value},{key:`aria-activedescendant`,value:`${S.value}-item-${g.value}`}].forEach(({key:t,value:n})=>e.setAttribute(t,n)),p=e.hasAttribute(`readonly`))}),t({highlightedIndex:g,activated:v,loading:b,inputRef:l,popperRef:d,suggestions:h,handleSelect:se,handleKeyEnter:re,focus:ae,blur:oe,close:P,highlight:ce,getData:k}),(e,t)=>(U(),G(R(MC),{ref_key:`popperRef`,ref:d,visible:w.value,placement:e.placement,"fallback-placements":[`bottom-start`,`top-start`],"popper-class":[R(c).e(`popper`),e.popperClass],"popper-style":e.popperStyle,teleported:e.teleported,"append-to":e.appendTo,"gpu-acceleration":!1,pure:``,"manual-mode":``,effect:`light`,trigger:`click`,transition:`${R(c).namespace.value}-zoom-in-top`,persistent:``,role:`listbox`,onBeforeShow:D,onHide:O},{content:z(()=>[K(`div`,{ref_key:`regionRef`,ref:u,class:F([R(c).b(`suggestion`),R(c).is(`loading`,T.value)]),style:he({[e.fitInputWidth?`width`:`minWidth`]:_.value,outline:`none`}),role:`region`},[e.$slots.header?(U(),W(`div`,{key:0,class:F(R(c).be(`suggestion`,`header`)),onClick:t[0]||=Ms(()=>{},[`stop`])},[H(e.$slots,`header`)],2)):J(`v-if`,!0),q(R(tb),{id:R(S),tag:`ul`,"wrap-class":R(c).be(`suggestion`,`wrap`),"view-class":R(c).be(`suggestion`,`list`),role:`listbox`},{default:z(()=>[T.value?(U(),W(`li`,IC,[H(e.$slots,`loading`,{},()=>[q(R(Q_),{class:F(R(c).is(`loading`))},{default:z(()=>[q(R(xv))]),_:1},8,[`class`])])])):(U(!0),W(va,{key:1},ti(h.value,(t,n)=>(U(),W(`li`,{id:`${R(S)}-item-${n}`,key:n,class:F({highlighted:g.value===n}),role:`option`,"aria-selected":g.value===n,onClick:e=>se(t)},[H(e.$slots,`default`,{item:t},()=>[Fa(I(t[e.valueKey]),1)])],10,LC))),128))]),_:3},8,[`id`,`wrap-class`,`view-class`]),e.$slots.footer?(U(),W(`div`,{key:1,class:F(R(c).be(`suggestion`,`footer`)),onClick:t[1]||=Ms(()=>{},[`stop`])},[H(e.$slots,`footer`)],2)):J(`v-if`,!0)],6)]),default:z(()=>[K(`div`,{ref_key:`listboxRef`,ref:f,class:F([R(c).b(),e.$attrs.class]),style:he(C.value),role:`combobox`,"aria-haspopup":`listbox`,"aria-expanded":w.value,"aria-owns":R(S)},[q(R(Wy),za({ref_key:`inputRef`,ref:l},za(a.value,e.$attrs),{"model-value":e.modelValue,disabled:R(s),onInput:j,onChange:ee,onFocus:te,onBlur:N,onClear:ne,onKeydown:de,onMousedown:M}),ni({_:2},[e.$slots.prepend?{name:`prepend`,fn:z(()=>[H(e.$slots,`prepend`)]),key:`0`}:void 0,e.$slots.append?{name:`append`,fn:z(()=>[H(e.$slots,`append`)]),key:`1`}:void 0,e.$slots.prefix?{name:`prefix`,fn:z(()=>[H(e.$slots,`prefix`)]),key:`2`}:void 0,e.$slots.suffix?{name:`suffix`,fn:z(()=>[H(e.$slots,`suffix`)]),key:`3`}:void 0]),1040,[`model-value`,`disabled`])],14,FC)]),_:3},8,[`visible`,`placement`,`popper-class`,`popper-style`,`teleported`,`append-to`,`transition`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue`]])),BC=t_({size:{type:[Number,String],values:n_,validator:e=>Hh(e)},shape:{type:String,values:[`circle`,`square`]},icon:{type:Vv},src:{type:String,default:``},alt:String,srcSet:String,fit:{type:Z(String),default:`cover`}}),VC={error:e=>e instanceof Event},HC=Symbol(`avatarGroupContextKey`),UC=[`src`,`alt`,`srcset`],WC=b_(V({name:`ElAvatar`,__name:`avatar`,props:BC,emits:VC,setup(e,{emit:t}){let n=e,r=t,i=qn(HC,void 0),a=X(`avatar`),o=L(!1),s=Y(()=>n.size??i?.size),c=Y(()=>n.shape??i?.shape??`circle`),l=Y(()=>{let{icon:e}=n,t=[a.b()];return E(s.value)&&t.push(a.m(s.value)),e&&t.push(a.m(`icon`)),c.value&&t.push(a.m(c.value)),t}),u=Y(()=>Hh(s.value)?a.cssVarBlock({size:V_(s.value)}):void 0),d=Y(()=>({objectFit:n.fit}));B(()=>n.src,()=>o.value=!1);function f(e){o.value=!0,r(`error`,e)}return(e,t)=>(U(),W(`span`,{class:F(l.value),style:he(u.value)},[(e.src||e.srcSet)&&!o.value?(U(),W(`img`,{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:he(d.value),onError:f},null,44,UC)):e.icon?(U(),G(R(Q_),{key:1},{default:z(()=>[(U(),G(Zr(e.icon)))]),_:1})):H(e.$slots,`default`,{key:2})],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue`]]),GC=V({name:`ElAvatarGroup`,props:t_({size:BC.size,shape:BC.shape,collapseAvatars:Boolean,collapseAvatarsTooltip:Boolean,maxCollapseAvatars:{type:Number,default:1},effect:{type:Z(String),default:`light`},placement:{type:Z(String),values:ux,default:`top`},popperClass:uC.popperClass,popperStyle:uC.popperStyle,collapseClass:String,collapseStyle:{type:Z([String,Array,Object])}}),setup(e,{slots:t}){let n=X(`avatar-group`);return Kn(HC,Ut({size:fn(e,`size`),shape:fn(e,`shape`)})),()=>{let r=$v(t.default?.call(t)??[]),i=r;if(e.collapseAvatars&&r.length>e.maxCollapseAvatars){i=r.slice(0,e.maxCollapseAvatars);let t=r.slice(e.maxCollapseAvatars);i.push(q(MC,{popperClass:e.popperClass,popperStyle:e.popperStyle,placement:e.placement,effect:e.effect,disabled:!e.collapseAvatarsTooltip},{default:()=>q(WC,{size:e.size,shape:e.shape,class:e.collapseClass,style:e.collapseStyle},{default:()=>[Fa(`+ `),t.length]}),content:()=>q(`div`,{class:n.e(`collapse-avatars`)},[t.map((e,t)=>Oa(e)?Pa(e,{key:e.key??t}):e)])}))}return q(`div`,{class:n.b()},[i])}}}),KC=S_(WC,{AvatarGroup:GC}),qC=T_(GC),JC={visibilityHeight:{type:Number,default:200},target:{type:String,default:``},right:{type:Number,default:40},bottom:{type:Number,default:40}},YC={click:e=>e instanceof MouseEvent},XC=(e,t,n)=>{let r=nn(),i=nn(),a=L(!1),o=()=>{r.value&&(a.value=r.value.scrollTop>=e.visibilityHeight)};return bg(i,`scroll`,mg(o,300,!0)),zr(()=>{i.value=document,r.value=document.documentElement,e.target&&(r.value=document.querySelector(e.target)??void 0,r.value||zg(n,`target does not exist: ${e.target}`),i.value=r.value),o()}),{visible:a,handleClick:e=>{var n;(n=r.value)==null||n.scrollTo({top:0,behavior:`smooth`}),t(`click`,e)}}},ZC=`ElBacktop`,QC=S_(b_(V({name:ZC,__name:`backtop`,props:JC,emits:YC,setup(e,{emit:t}){let n=e,r=t,i=X(`backtop`),{handleClick:a,visible:o}=XC(n,r,ZC),s=Y(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(e,t)=>(U(),G(yo,{name:`${R(i).namespace.value}-fade-in`},{default:z(()=>[R(o)?(U(),W(`div`,{key:0,style:he(s.value),class:F(R(i).b()),onClick:t[0]||=Ms((...e)=>R(a)&&R(a)(...e),[`stop`])},[H(e.$slots,`default`,{},()=>[q(R(Q_),{class:F(R(i).e(`icon`))},{default:z(()=>[q(R(ov))]),_:1},8,[`class`])])],6)):J(`v-if`,!0)]),_:3},8,[`name`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue`]])),$C=S_(b_(V({name:`ElBadge`,__name:`badge`,props:t_({value:{type:[String,Number],default:``},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:[`primary`,`success`,`warning`,`info`,`danger`],default:`danger`},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Z([String,Object,Array])},offset:{type:Z(Array),default:[0,0]},badgeClass:{type:String}}),setup(e,{expose:t}){let n=e,r=X(`badge`),i=Y(()=>n.isDot?``:Hh(n.value)&&Hh(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`),a=Y(()=>[{backgroundColor:n.color,marginRight:V_(-n.offset[0]),marginTop:V_(n.offset[1])},n.badgeStyle??{}]);return t({content:i}),(e,t)=>(U(),W(`div`,{class:F(R(r).b())},[H(e.$slots,`default`),q(yo,{name:`${R(r).namespace.value}-zoom-in-center`,persisted:``},{default:z(()=>[Wn(K(`sup`,{class:F([R(r).e(`content`),R(r).em(`content`,e.type),R(r).is(`fixed`,!!e.$slots.default),R(r).is(`dot`,e.isDot),R(r).is(`hide-zero`,!e.showZero&&e.value===0),e.badgeClass]),style:he(a.value)},[H(e.$slots,`content`,{value:i.value},()=>[Fa(I(i.value),1)])],6),[[Lo,!e.hidden&&(i.value||e.isDot||e.$slots.content)]])]),_:3},8,[`name`])],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue`]])),ew=Symbol(`breadcrumbKey`),tw=t_({separator:{type:String,default:`/`},separatorIcon:{type:Vv}}),nw=[`aria-label`],rw=b_(V({name:`ElBreadcrumb`,__name:`breadcrumb`,props:tw,setup(e){let{t}=Zg(),n=e,r=X(`breadcrumb`),i=L();return Kn(ew,n),zr(()=>{let e=i.value.querySelectorAll(`.${r.e(`item`)}`);e.length&&e[e.length-1].setAttribute(`aria-current`,`page`)}),(e,n)=>(U(),W(`div`,{ref_key:`breadcrumb`,ref:i,class:F(R(r).b()),"aria-label":R(t)(`el.breadcrumb.label`),role:`navigation`},[H(e.$slots,`default`)],10,nw))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue`]]),iw=b_(V({name:`ElBreadcrumbItem`,__name:`breadcrumb-item`,props:t_({to:{type:Z([String,Object]),default:``},replace:Boolean}),setup(e){let t=e,n=Ga(),r=qn(ew,void 0),i=X(`breadcrumb`),a=n.appContext.config.globalProperties.$router,o=()=>{!t.to||!a||(t.replace?a.replace(t.to):a.push(t.to))};return(e,t)=>(U(),W(`span`,{class:F(R(i).e(`item`))},[K(`span`,{class:F([R(i).e(`inner`),R(i).is(`link`,!!e.to)]),role:`link`,onClick:o},[H(e.$slots,`default`)],2),R(r)?.separatorIcon?(U(),G(R(Q_),{key:0,class:F(R(i).e(`separator`))},{default:z(()=>[(U(),G(Zr(R(r).separatorIcon)))]),_:1},8,[`class`])):(U(),W(`span`,{key:1,class:F(R(i).e(`separator`)),role:`presentation`},I(R(r)?.separator),3))],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue`]]),aw=S_(rw,{BreadcrumbItem:iw}),ow=T_(iw),sw=Symbol(`buttonGroupContextKey`),cw=({from:e,replacement:t,scope:n,version:r,ref:i,type:a=`API`},o)=>{B(()=>R(o),n=>{n&&`${a}${e}${r}${t}${i}`},{immediate:!0})},lw=(e,t)=>{cw({from:`type.text`,replacement:`link`,version:`3.0.0`,scope:`props`,ref:`https://element-plus.org/en-US/component/button.html#button-attributes`},Y(()=>e.type===`text`));let n=qn(sw,void 0),r=m_(`button`),{form:i}=Cy(),a=Ey(Y(()=>n?.size)),o=Dy(),s=L(),c=li(),l=Y(()=>e.type||n?.type||r.value?.type||``),u=Y(()=>e.autoInsertSpace??r.value?.autoInsertSpace??!1),d=Y(()=>e.plain??r.value?.plain??!1),f=Y(()=>e.round??r.value?.round??!1),p=Y(()=>e.text??r.value?.text??!1);return{_disabled:o,_size:a,_type:l,_ref:s,_props:Y(()=>e.tag===`button`?{ariaDisabled:o.value||e.loading,disabled:o.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),_plain:d,_round:f,_text:p,shouldAddSpace:Y(()=>{let e=c.default?.call(c);if(u.value&&e?.length===1){let t=e[0];if(t?.type===ya){let e=t.children;return/^\p{Unified_Ideograph}{2}$/u.test(e.trim())}}return!1}),handleClick:n=>{if(o.value||e.loading){n.stopPropagation();return}e.nativeType===`reset`&&i?.resetFields(),t(`click`,n)}}},uw=[`default`,`primary`,`success`,`warning`,`info`,`danger`,`text`,``],dw=t_({size:r_,disabled:{type:Boolean,default:void 0},type:{type:String,values:uw,default:``},icon:{type:Vv},nativeType:{type:String,values:[`button`,`submit`,`reset`],default:`button`},loading:Boolean,loadingIcon:{type:Vv,default:()=>xv},plain:{type:Boolean,default:void 0},text:{type:Boolean,default:void 0},link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Z([String,Object]),default:`button`}}),fw={click:e=>e instanceof MouseEvent};function pw(e,t){hw(e)&&(e=`100%`);var n=gw(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(e=t===360?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t)),e)}function mw(e){return Math.min(1,Math.max(0,e))}function hw(e){return typeof e==`string`&&e.indexOf(`.`)!==-1&&parseFloat(e)===1}function gw(e){return typeof e==`string`&&e.indexOf(`%`)!==-1}function _w(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function vw(e){return e<=1?`${Number(e)*100}%`:e}function yw(e){return e.length===1?`0`+e:String(e)}function bw(e,t,n){return{r:pw(e,255)*255,g:pw(t,255)*255,b:pw(n,255)*255}}function xw(e,t,n){e=pw(e,255),t=pw(t,255),n=pw(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,s=(r+i)/2;if(r===i)o=0,a=0;else{var c=r-i;switch(o=s>.5?c/(2-r-i):c/(r+i),r){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4;break;default:break}a/=6}return{h:a,s:o,l:s}}function Sw(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Cw(e,t,n){var r,i,a;if(e=pw(e,360),t=pw(t,100),n=pw(n,100),t===0)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=Sw(s,o,e+1/3),i=Sw(s,o,e),a=Sw(s,o,e-1/3)}return{r:r*255,g:i*255,b:a*255}}function ww(e,t,n){e=pw(e,255),t=pw(t,255),n=pw(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,s=r-i,c=r===0?0:s/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4;break;default:break}a/=6}return{h:a,s:c,v:o}}function Tw(e,t,n){e=pw(e,360)*6,t=pw(t,100),n=pw(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),c=r%6,l=[n,o,a,a,s,n][c],u=[s,n,n,o,a,a][c],d=[a,a,s,n,n,o][c];return{r:l*255,g:u*255,b:d*255}}function Ew(e,t,n,r){var i=[yw(Math.round(e).toString(16)),yw(Math.round(t).toString(16)),yw(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join(``)}function Dw(e,t,n,r,i){var a=[yw(Math.round(e).toString(16)),yw(Math.round(t).toString(16)),yw(Math.round(n).toString(16)),yw(Ow(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join(``)}function Ow(e){return Math.round(parseFloat(e)*255).toString(16)}function kw(e){return Aw(e)/255}function Aw(e){return parseInt(e,16)}function jw(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Mw={aliceblue:`#f0f8ff`,antiquewhite:`#faebd7`,aqua:`#00ffff`,aquamarine:`#7fffd4`,azure:`#f0ffff`,beige:`#f5f5dc`,bisque:`#ffe4c4`,black:`#000000`,blanchedalmond:`#ffebcd`,blue:`#0000ff`,blueviolet:`#8a2be2`,brown:`#a52a2a`,burlywood:`#deb887`,cadetblue:`#5f9ea0`,chartreuse:`#7fff00`,chocolate:`#d2691e`,coral:`#ff7f50`,cornflowerblue:`#6495ed`,cornsilk:`#fff8dc`,crimson:`#dc143c`,cyan:`#00ffff`,darkblue:`#00008b`,darkcyan:`#008b8b`,darkgoldenrod:`#b8860b`,darkgray:`#a9a9a9`,darkgreen:`#006400`,darkgrey:`#a9a9a9`,darkkhaki:`#bdb76b`,darkmagenta:`#8b008b`,darkolivegreen:`#556b2f`,darkorange:`#ff8c00`,darkorchid:`#9932cc`,darkred:`#8b0000`,darksalmon:`#e9967a`,darkseagreen:`#8fbc8f`,darkslateblue:`#483d8b`,darkslategray:`#2f4f4f`,darkslategrey:`#2f4f4f`,darkturquoise:`#00ced1`,darkviolet:`#9400d3`,deeppink:`#ff1493`,deepskyblue:`#00bfff`,dimgray:`#696969`,dimgrey:`#696969`,dodgerblue:`#1e90ff`,firebrick:`#b22222`,floralwhite:`#fffaf0`,forestgreen:`#228b22`,fuchsia:`#ff00ff`,gainsboro:`#dcdcdc`,ghostwhite:`#f8f8ff`,goldenrod:`#daa520`,gold:`#ffd700`,gray:`#808080`,green:`#008000`,greenyellow:`#adff2f`,grey:`#808080`,honeydew:`#f0fff0`,hotpink:`#ff69b4`,indianred:`#cd5c5c`,indigo:`#4b0082`,ivory:`#fffff0`,khaki:`#f0e68c`,lavenderblush:`#fff0f5`,lavender:`#e6e6fa`,lawngreen:`#7cfc00`,lemonchiffon:`#fffacd`,lightblue:`#add8e6`,lightcoral:`#f08080`,lightcyan:`#e0ffff`,lightgoldenrodyellow:`#fafad2`,lightgray:`#d3d3d3`,lightgreen:`#90ee90`,lightgrey:`#d3d3d3`,lightpink:`#ffb6c1`,lightsalmon:`#ffa07a`,lightseagreen:`#20b2aa`,lightskyblue:`#87cefa`,lightslategray:`#778899`,lightslategrey:`#778899`,lightsteelblue:`#b0c4de`,lightyellow:`#ffffe0`,lime:`#00ff00`,limegreen:`#32cd32`,linen:`#faf0e6`,magenta:`#ff00ff`,maroon:`#800000`,mediumaquamarine:`#66cdaa`,mediumblue:`#0000cd`,mediumorchid:`#ba55d3`,mediumpurple:`#9370db`,mediumseagreen:`#3cb371`,mediumslateblue:`#7b68ee`,mediumspringgreen:`#00fa9a`,mediumturquoise:`#48d1cc`,mediumvioletred:`#c71585`,midnightblue:`#191970`,mintcream:`#f5fffa`,mistyrose:`#ffe4e1`,moccasin:`#ffe4b5`,navajowhite:`#ffdead`,navy:`#000080`,oldlace:`#fdf5e6`,olive:`#808000`,olivedrab:`#6b8e23`,orange:`#ffa500`,orangered:`#ff4500`,orchid:`#da70d6`,palegoldenrod:`#eee8aa`,palegreen:`#98fb98`,paleturquoise:`#afeeee`,palevioletred:`#db7093`,papayawhip:`#ffefd5`,peachpuff:`#ffdab9`,peru:`#cd853f`,pink:`#ffc0cb`,plum:`#dda0dd`,powderblue:`#b0e0e6`,purple:`#800080`,rebeccapurple:`#663399`,red:`#ff0000`,rosybrown:`#bc8f8f`,royalblue:`#4169e1`,saddlebrown:`#8b4513`,salmon:`#fa8072`,sandybrown:`#f4a460`,seagreen:`#2e8b57`,seashell:`#fff5ee`,sienna:`#a0522d`,silver:`#c0c0c0`,skyblue:`#87ceeb`,slateblue:`#6a5acd`,slategray:`#708090`,slategrey:`#708090`,snow:`#fffafa`,springgreen:`#00ff7f`,steelblue:`#4682b4`,tan:`#d2b48c`,teal:`#008080`,thistle:`#d8bfd8`,tomato:`#ff6347`,turquoise:`#40e0d0`,violet:`#ee82ee`,wheat:`#f5deb3`,white:`#ffffff`,whitesmoke:`#f5f5f5`,yellow:`#ffff00`,yellowgreen:`#9acd32`};function Nw(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return typeof e==`string`&&(e=Rw(e)),typeof e==`object`&&(zw(e.r)&&zw(e.g)&&zw(e.b)?(t=bw(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)===`%`?`prgb`:`rgb`):zw(e.h)&&zw(e.s)&&zw(e.v)?(r=vw(e.s),i=vw(e.v),t=Tw(e.h,r,i),o=!0,s=`hsv`):zw(e.h)&&zw(e.s)&&zw(e.l)&&(r=vw(e.s),a=vw(e.l),t=Cw(e.h,r,a),o=!0,s=`hsl`),Object.prototype.hasOwnProperty.call(e,`a`)&&(n=e.a)),n=_w(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Pw=`(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)`,Fw=`[\\s|\\(]+(${Pw})[,|\\s]+(${Pw})[,|\\s]+(${Pw})\\s*\\)?`,Iw=`[\\s|\\(]+(${Pw})[,|\\s]+(${Pw})[,|\\s]+(${Pw})[,|\\s]+(${Pw})\\s*\\)?`,Lw={CSS_UNIT:new RegExp(Pw),rgb:RegExp(`rgb`+Fw),rgba:RegExp(`rgba`+Iw),hsl:RegExp(`hsl`+Fw),hsla:RegExp(`hsla`+Iw),hsv:RegExp(`hsv`+Fw),hsva:RegExp(`hsva`+Iw),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Rw(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Mw[e])e=Mw[e],t=!0;else if(e===`transparent`)return{r:0,g:0,b:0,a:0,format:`name`};var n=Lw.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Lw.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Lw.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Lw.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Lw.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Lw.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Lw.hex8.exec(e),n?{r:Aw(n[1]),g:Aw(n[2]),b:Aw(n[3]),a:kw(n[4]),format:t?`name`:`hex8`}:(n=Lw.hex6.exec(e),n?{r:Aw(n[1]),g:Aw(n[2]),b:Aw(n[3]),format:t?`name`:`hex`}:(n=Lw.hex4.exec(e),n?{r:Aw(n[1]+n[1]),g:Aw(n[2]+n[2]),b:Aw(n[3]+n[3]),a:kw(n[4]+n[4]),format:t?`name`:`hex8`}:(n=Lw.hex3.exec(e),n?{r:Aw(n[1]+n[1]),g:Aw(n[2]+n[2]),b:Aw(n[3]+n[3]),format:t?`name`:`hex`}:!1)))))))))}function zw(e){return!!Lw.CSS_UNIT.exec(String(e))}var Bw=function(){function e(t,n){if(t===void 0&&(t=``),n===void 0&&(n={}),t instanceof e)return t;typeof t==`number`&&(t=jw(t)),this.originalInput=t;var r=Nw(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=n.format??r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t,n,r,i=e.r/255,a=e.g/255,o=e.b/255;return t=i<=.03928?i/12.92:((i+.055)/1.055)**2.4,n=a<=.03928?a/12.92:((a+.055)/1.055)**2.4,r=o<=.03928?o/12.92:((o+.055)/1.055)**2.4,.2126*t+.7152*n+.0722*r},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=_w(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return this.toHsl().s===0},e.prototype.toHsv=function(){var e=ww(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=ww(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?`hsv(${t}, ${n}%, ${r}%)`:`hsva(${t}, ${n}%, ${r}%, ${this.roundA})`},e.prototype.toHsl=function(){var e=xw(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=xw(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?`hsl(${t}, ${n}%, ${r}%)`:`hsla(${t}, ${n}%, ${r}%, ${this.roundA})`},e.prototype.toHex=function(e){return e===void 0&&(e=!1),Ew(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return e===void 0&&(e=!1),`#`+this.toHex(e)},e.prototype.toHex8=function(e){return e===void 0&&(e=!1),Dw(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return e===void 0&&(e=!1),`#`+this.toHex8(e)},e.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return this.a===1?`rgb(${e}, ${t}, ${n})`:`rgba(${e}, ${t}, ${n}, ${this.roundA})`},e.prototype.toPercentageRgb=function(){var e=function(e){return`${Math.round(pw(e,255)*100)}%`};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(pw(e,255)*100)};return this.a===1?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`},e.prototype.toName=function(){if(this.a===0)return`transparent`;if(this.a<1)return!1;for(var e=`#`+Ew(this.r,this.g,this.b,!1),t=0,n=Object.entries(Mw);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=!!e;e??=this.format;var n=!1,r=this.a<1&&this.a>=0;return!t&&r&&(e.startsWith(`hex`)||e===`name`)?e===`name`&&this.a===0?this.toName():this.toRgbString():(e===`rgb`&&(n=this.toRgbString()),e===`prgb`&&(n=this.toPercentageRgbString()),(e===`hex`||e===`hex6`)&&(n=this.toHexString()),e===`hex3`&&(n=this.toHexString(!0)),e===`hex4`&&(n=this.toHex8String(!0)),e===`hex8`&&(n=this.toHex8String()),e===`name`&&(n=this.toName()),e===`hsl`&&(n=this.toHslString()),e===`hsv`&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=mw(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=mw(n.l),new e(n)},e.prototype.tint=function(e){return e===void 0&&(e=10),this.mix(`white`,e)},e.prototype.shade=function(e){return e===void 0&&(e=10),this.mix(`black`,e)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=mw(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=mw(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Vw(e,t=20){return e.mix(`#141414`,t).toString()}function Hw(e){let t=Dy(),n=X(`button`);return Y(()=>{let r={},i=e.color;if(i){let a=i.match(/var\((.*?)\)/);a&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));let o=new Bw(i),s=e.dark?o.tint(20).toString():Vw(o,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?Vw(o,90):o.tint(90).toString(),"text-color":i,"border-color":e.dark?Vw(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName(`color-white`)})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":s,"active-text-color":`var(${n.cssVarName(`color-white`)})`,"active-border-color":s}),t.value&&(r[n.cssVarBlockName(`disabled-bg-color`)]=e.dark?Vw(o,90):o.tint(90).toString(),r[n.cssVarBlockName(`disabled-text-color`)]=e.dark?Vw(o,50):o.tint(50).toString(),r[n.cssVarBlockName(`disabled-border-color`)]=e.dark?Vw(o,80):o.tint(80).toString());else{let a=e.dark?Vw(o,30):o.tint(30).toString(),c=o.isDark()?`var(${n.cssVarName(`color-white`)})`:`var(${n.cssVarName(`color-black`)})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":c,"border-color":i,"hover-bg-color":a,"hover-text-color":c,"hover-border-color":a,"active-bg-color":s,"active-border-color":s}),t.value){let t=e.dark?Vw(o,50):o.tint(50).toString();r[n.cssVarBlockName(`disabled-bg-color`)]=t,r[n.cssVarBlockName(`disabled-text-color`)]=e.dark?`rgba(255, 255, 255, 0.5)`:`var(${n.cssVarName(`color-white`)})`,r[n.cssVarBlockName(`disabled-border-color`)]=t}}}return r})}var Uw=b_(V({name:`ElButton`,__name:`button`,props:dw,emits:fw,setup(e,{expose:t,emit:n}){let r=e,i=n,a=Hw(r),o=X(`button`),{_ref:s,_size:c,_type:l,_disabled:u,_props:d,_plain:f,_round:p,_text:m,shouldAddSpace:h,handleClick:g}=lw(r,i),_=Y(()=>[o.b(),o.m(l.value),o.m(c.value),o.is(`disabled`,u.value),o.is(`loading`,r.loading),o.is(`plain`,f.value),o.is(`round`,p.value),o.is(`circle`,r.circle),o.is(`text`,m.value),o.is(`link`,r.link),o.is(`has-bg`,r.bg)]);return t({ref:s,size:c,type:l,disabled:u,shouldAddSpace:h}),(e,t)=>(U(),G(Zr(e.tag),za({ref_key:`_ref`,ref:s},R(d),{class:_.value,style:R(a),onClick:R(g)}),{default:z(()=>[e.loading?(U(),W(va,{key:0},[e.$slots.loading?H(e.$slots,`loading`,{key:0}):(U(),G(R(Q_),{key:1,class:F(R(o).is(`loading`))},{default:z(()=>[(U(),G(Zr(e.loadingIcon)))]),_:1},8,[`class`]))],64)):e.icon||e.$slots.icon?(U(),G(R(Q_),{key:1},{default:z(()=>[e.icon?(U(),G(Zr(e.icon),{key:0})):H(e.$slots,`icon`,{key:1})]),_:3})):J(`v-if`,!0),e.$slots.default?(U(),W(`span`,{key:2,class:F({[R(o).em(`text`,`expand`)]:R(h)})},[H(e.$slots,`default`)],2)):J(`v-if`,!0)]),_:3},16,[`class`,`style`,`onClick`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue`]]),Ww=b_(V({name:`ElButtonGroup`,__name:`button-group`,props:{size:dw.size,type:dw.type,direction:{type:Z(String),values:[`horizontal`,`vertical`],default:`horizontal`}},setup(e){let t=e;Kn(sw,Ut({size:fn(t,`size`),type:fn(t,`type`)}));let n=X(`button`);return(e,r)=>(U(),W(`div`,{class:F([R(n).b(`group`),R(n).bm(`group`,t.direction)])},[H(e.$slots,`default`)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue`]]),Gw=S_(Uw,{ButtonGroup:Ww}),Kw=T_(Ww),qw=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs=r()})(e,(function(){var e=1e3,t=6e4,n=36e5,r=`millisecond`,i=`second`,a=`minute`,o=`hour`,s=`day`,c=`week`,l=`month`,u=`quarter`,d=`year`,f=`date`,p=`Invalid Date`,m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:`en`,weekdays:`Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday`.split(`_`),months:`January_February_March_April_May_June_July_August_September_October_November_December`.split(`_`),ordinal:function(e){var t=[`th`,`st`,`nd`,`rd`],n=e%100;return`[`+e+(t[(n-20)%10]||t[n]||t[0])+`]`}},_=function(e,t,n){var r=String(e);return!r||r.length>=t?e:``+Array(t+1-r.length).join(n)+e},v={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?`+`:`-`)+_(r,2,`0`)+`:`+_(i,2,`0`)},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),a=n-i<0,o=t.clone().add(r+(a?-1:1),l);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:s,D:f,h:o,m:a,s:i,ms:r,Q:u}[e]||String(e||``).toLowerCase().replace(/s$/,``)},u:function(e){return e===void 0}},y=`en`,b={};b[y]=g;var x=`$isDayjsObject`,S=function(e){return e instanceof E||!(!e||!e[x])},C=function e(t,n,r){var i;if(!t)return y;if(typeof t==`string`){var a=t.toLowerCase();b[a]&&(i=a),n&&(b[a]=n,i=a);var o=t.split(`-`);if(!i&&o.length>1)return e(o[0])}else{var s=t.name;b[s]=t,i=s}return!r&&i&&(y=i),i||!r&&y},w=function(e,t){if(S(e))return e.clone();var n=typeof t==`object`?t:{};return n.date=e,n.args=arguments,new E(n)},T=v;T.l=C,T.i=S,T.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function g(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var _=g.prototype;return _.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(t===null)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t==`string`&&!/Z$/i.test(t)){var r=t.match(m);if(r){var i=r[2]-1||0,a=(r[7]||`0`).substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},_.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},_.$utils=function(){return T},_.isValid=function(){return this.$d.toString()!==p},_.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},_.isAfter=function(e,t){return w(e)<this.startOf(t)},_.isBefore=function(e,t){return this.endOf(t)<w(e)},_.$g=function(e,t,n){return T.u(e)?this[t]:this.set(n,e)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(e,t){var n=this,r=!!T.u(t)||t,u=T.p(e),p=function(e,t){var i=T.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},m=function(e,t){return T.w(n.toDate()[e].apply(n.toDate(`s`),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,g=this.$M,_=this.$D,v=`set`+(this.$u?`UTC`:``);switch(u){case d:return r?p(1,0):p(31,11);case l:return r?p(1,g):p(0,g+1);case c:var y=this.$locale().weekStart||0,b=(h<y?h+7:h)-y;return p(r?_-b:_+(6-b),g);case s:case f:return m(v+`Hours`,0);case o:return m(v+`Minutes`,1);case a:return m(v+`Seconds`,2);case i:return m(v+`Milliseconds`,3);default:return this.clone()}},_.endOf=function(e){return this.startOf(e,!1)},_.$set=function(e,t){var n,c=T.p(e),u=`set`+(this.$u?`UTC`:``),p=(n={},n[s]=u+`Date`,n[f]=u+`Date`,n[l]=u+`Month`,n[d]=u+`FullYear`,n[o]=u+`Hours`,n[a]=u+`Minutes`,n[i]=u+`Seconds`,n[r]=u+`Milliseconds`,n)[c],m=c===s?this.$D+(t-this.$W):t;if(c===l||c===d){var h=this.clone().set(f,1);h.$d[p](m),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},_.set=function(e,t){return this.clone().$set(e,t)},_.get=function(e){return this[T.p(e)]()},_.add=function(r,u){var f,p=this;r=Number(r);var m=T.p(u),h=function(e){var t=w(p);return T.w(t.date(t.date()+Math.round(e*r)),p)};if(m===l)return this.set(l,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===s)return h(1);if(m===c)return h(7);var g=(f={},f[a]=t,f[o]=n,f[i]=e,f)[m]||1,_=this.$d.getTime()+r*g;return T.w(_,this)},_.subtract=function(e,t){return this.add(-1*e,t)},_.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||`YYYY-MM-DDTHH:mm:ssZ`,i=T.z(this),a=this.$H,o=this.$m,s=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},f=function(e){return T.s(a%12||12,e,`0`)},m=u||function(e,t,n){var r=e<12?`AM`:`PM`;return n?r.toLowerCase():r};return r.replace(h,(function(e,r){return r||function(e){switch(e){case`YY`:return String(t.$y).slice(-2);case`YYYY`:return T.s(t.$y,4,`0`);case`M`:return s+1;case`MM`:return T.s(s+1,2,`0`);case`MMM`:return d(n.monthsShort,s,l,3);case`MMMM`:return d(l,s);case`D`:return t.$D;case`DD`:return T.s(t.$D,2,`0`);case`d`:return String(t.$W);case`dd`:return d(n.weekdaysMin,t.$W,c,2);case`ddd`:return d(n.weekdaysShort,t.$W,c,3);case`dddd`:return c[t.$W];case`H`:return String(a);case`HH`:return T.s(a,2,`0`);case`h`:return f(1);case`hh`:return f(2);case`a`:return m(a,o,!0);case`A`:return m(a,o,!1);case`m`:return String(o);case`mm`:return T.s(o,2,`0`);case`s`:return String(t.$s);case`ss`:return T.s(t.$s,2,`0`);case`SSS`:return T.s(t.$ms,3,`0`);case`Z`:return i}return null}(e)||i.replace(`:`,``)}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(r,f,p){var m,h=this,g=T.p(f),_=w(r),v=(_.utcOffset()-this.utcOffset())*t,y=this-_,b=function(){return T.m(h,_)};switch(g){case d:m=b()/12;break;case l:m=b();break;case u:m=b()/3;break;case c:m=(y-v)/6048e5;break;case s:m=(y-v)/864e5;break;case o:m=y/n;break;case a:m=y/t;break;case i:m=y/e;break;default:m=y}return p?m:T.a(m)},_.daysInMonth=function(){return this.endOf(l).$D},_.$locale=function(){return b[this.$L]},_.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},_.clone=function(){return T.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},g}(),D=E.prototype;return w.prototype=D,[[`$ms`,r],[`$s`,i],[`$m`,a],[`$H`,o],[`$W`,s],[`$M`,l],[`$y`,d],[`$D`,f]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||=(e(t,E,w),!0),w},w.locale=C,w.isDayjs=S,w.unix=function(e){return w(1e3*e)},w.en=b[y],w.Ls=b,w.p={},w}))})),Jw=l(qw(),1),Yw=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],Xw=e=>Array.from(Array.from({length:e}).keys()),Zw=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,``).replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,``).trim(),Qw=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,``).trim(),$w=function(e,t){let n=w(e),r=w(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},eT=function(e,t){let n=x(e),r=x(t);return n&&r?e.length===t.length?e.every((e,n)=>$w(e,t[n])):!1:!n&&!r?$w(e,t):!1},tT=function(e,t,n){let r=Uh(t)||t===`x`?(0,Jw.default)(e).locale(n):(0,Jw.default)(e,t).locale(n);return r.isValid()?r:void 0},nT=function(e,t,n){return Uh(t)?e:t===`x`?+e:(0,Jw.default)(e).locale(n).format(t)},rT=(e,t)=>{let n=[],r=t?.();for(let t=0;t<e;t++)n.push(r?.includes(t)??!1);return n},iT=e=>x(e)?e.map(e=>e.toDate()):e.toDate(),aT=(e,t)=>{let n=e.subtract(1,`month`).endOf(`month`).date();return Xw(t).map((e,r)=>n-(t-r-1))},oT=e=>Xw(e.daysInMonth()).map((e,t)=>t+1),sT=e=>Xw(e.length/7).map(t=>{let n=t*7;return e.slice(n,n+7)}),cT=t_({selectedDay:{type:Z(Object)},range:{type:Z(Array)},date:{type:Z(Object),required:!0},hideHeader:{type:Boolean}}),lT={pick:e=>O(e)},uT=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_localeData=r()})(e,(function(){return function(e,t,n){var r=t.prototype,i=function(e){return e&&(e.indexOf?e:e.s)},a=function(e,t,n,r,a){var o=e.name?e:e.$locale(),s=i(o[t]),c=i(o[n]),l=s||c.map((function(e){return e.slice(0,r)}));if(!a)return l;var u=o.weekStart;return l.map((function(e,t){return l[(t+(u||0))%7]}))},o=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},c=function(){var e=this;return{months:function(t){return t?t.format(`MMMM`):a(e,`months`)},monthsShort:function(t){return t?t.format(`MMM`):a(e,`monthsShort`,`months`,3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format(`dddd`):a(e,`weekdays`)},weekdaysMin:function(t){return t?t.format(`dd`):a(e,`weekdaysMin`,`weekdays`,2)},weekdaysShort:function(t){return t?t.format(`ddd`):a(e,`weekdaysShort`,`weekdays`,3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=o();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return a(o(),`months`)},n.monthsShort=function(){return a(o(),`monthsShort`,`months`,3)},n.weekdays=function(e){return a(o(),`weekdays`,null,null,e)},n.weekdaysShort=function(e){return a(o(),`weekdaysShort`,`weekdays`,3,e)},n.weekdaysMin=function(e){return a(o(),`weekdaysMin`,`weekdays`,2,e)}}}))})),dT=[`year`,`years`,`month`,`months`,`date`,`dates`,`week`,`datetime`,`datetimerange`,`daterange`,`monthrange`,`yearrange`],fT=[`sun`,`mon`,`tue`,`wed`,`thu`,`fri`,`sat`],pT=l(qw(),1),mT=l(uT(),1),hT=(e,t)=>{pT.default.extend(mT.default);let n=pT.default.localeData().firstDayOfWeek(),{t:r,lang:i}=Zg(),a=(0,pT.default)().locale(i.value),o=Y(()=>!!e.range&&!!e.range.length),s=Y(()=>{let t=[];if(o.value){let[n,r]=e.range,i=Xw(r.date()-n.date()+1).map(e=>({text:n.date()+e,type:`current`})),a=i.length%7;a=a===0?0:7-a;let o=Xw(a).map((e,t)=>({text:t+1,type:`next`}));t=i.concat(o)}else{let r=e.date.startOf(`month`).day(),i=aT(e.date,(r-n+7)%7).map(e=>({text:e,type:`prev`})),a=oT(e.date).map(e=>({text:e,type:`current`}));t=[...i,...a];let o=Xw(7-(t.length%7||7)).map((e,t)=>({text:t+1,type:`next`}));t=t.concat(o)}return sT(t)}),c=Y(()=>{let e=n;return e===0?fT.map(e=>r(`el.datepicker.weeks.${e}`)):fT.slice(e).concat(fT.slice(0,e)).map(e=>r(`el.datepicker.weeks.${e}`))}),l=(t,n)=>{switch(n){case`prev`:return e.date.startOf(`month`).subtract(1,`month`).date(t);case`next`:return e.date.startOf(`month`).add(1,`month`).date(t);case`current`:return e.date.date(t)}};return{now:a,isInRange:o,rows:s,weekDays:c,getFormattedDate:l,handlePickDay:({text:e,type:n})=>{t(`pick`,l(e,n))},getSlotData:({text:t,type:n})=>{let r=l(t,n);return{isSelected:r.isSame(e.selectedDay),type:`${n}-month`,day:r.format(`YYYY-MM-DD`),date:r.toDate()}}}},gT={key:0},_T=[`onClick`],vT=b_(V({name:`DateTable`,__name:`date-table`,props:cT,emits:lT,setup(e,{expose:t,emit:n}){let r=e,{isInRange:i,now:a,rows:o,weekDays:s,getFormattedDate:c,handlePickDay:l,getSlotData:u}=hT(r,n),d=X(`calendar-table`),f=X(`calendar-day`),p=({text:e,type:t})=>{let n=[t];if(t===`current`){let i=c(e,t);i.isSame(r.selectedDay,`day`)&&n.push(f.is(`selected`)),i.isSame(a,`day`)&&n.push(f.is(`today`))}return n};return t({getFormattedDate:c}),(e,t)=>(U(),W(`table`,{class:F([R(d).b(),R(d).is(`range`,R(i))]),cellspacing:`0`,cellpadding:`0`},[e.hideHeader?J(`v-if`,!0):(U(),W(`thead`,gT,[K(`tr`,null,[(U(!0),W(va,null,ti(R(s),e=>(U(),W(`th`,{key:e,scope:`col`},I(e),1))),128))])])),K(`tbody`,null,[(U(!0),W(va,null,ti(R(o),(t,n)=>(U(),W(`tr`,{key:n,class:F({[R(d).e(`row`)]:!0,[R(d).em(`row`,`hide-border`)]:n===0&&e.hideHeader})},[(U(!0),W(va,null,ti(t,(t,n)=>(U(),W(`td`,{key:n,class:F(p(t)),onClick:e=>R(l)(t)},[K(`div`,{class:F(R(f).b())},[H(e.$slots,`date-cell`,{data:R(u)(t)},()=>[K(`span`,null,I(t.text),1)])],2)],10,_T))),128))],2))),128))])],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue`]]),yT=l(qw(),1),bT=(e,t)=>{let n=e.endOf(`month`),r=t.startOf(`month`),i=n.isSame(r,`week`)?r.add(1,`week`):r;return[[e,n],[i.startOf(`week`),t]]},xT=(e,t)=>{let n=e.endOf(`month`),r=e.add(1,`month`).startOf(`month`),i=n.isSame(r,`week`)?r.add(1,`week`):r,a=i.endOf(`month`),o=t.startOf(`month`),s=a.isSame(o,`week`)?o.add(1,`week`):o;return[[e,n],[i.startOf(`week`),a],[s.startOf(`week`),t]]},ST=(e,t,n)=>{let{lang:r}=Zg(),i=L(),a=(0,yT.default)().locale(r.value),o=Y({get(){return e.modelValue?c.value:i.value},set(e){if(!e)return;i.value=e;let n=e.toDate();t(k_,n),t(D_,n)}}),s=Y(()=>{if(!e.range||!x(e.range)||e.range.length!==2||e.range.some(e=>!w(e)))return[];let[t,n]=e.range.map(e=>(0,yT.default)(e).locale(r.value));return t.isAfter(n)?[]:t.isSame(n,`month`)||t.add(1,`month`).month()===n.month()?p(t,n):[]}),c=Y(()=>e.modelValue?(0,yT.default)(e.modelValue).locale(r.value):o.value||(s.value.length?s.value[0][0]:a)),l=Y(()=>c.value.subtract(1,`month`).date(1)),u=Y(()=>c.value.add(1,`month`).date(1)),d=Y(()=>c.value.subtract(1,`year`).date(1)),f=Y(()=>c.value.add(1,`year`).date(1)),p=(e,t)=>{let n=e.startOf(`week`),r=t.endOf(`week`),i=n.get(`month`),a=r.get(`month`);return i===a?[[n,r]]:(i+1)%12===a?bT(n,r):i+2===a||(i+1)%11===a?xT(n,r):[]},m=e=>{o.value=e},h=e=>{let t={"prev-month":l.value,"next-month":u.value,"prev-year":d.value,"next-year":f.value,today:a}[e];t.isSame(c.value,`day`)||m(t)};return{calculateValidatedDateRange:p,date:c,realSelectedDay:o,pickDay:m,selectDate:h,validatedRange:s,handleDateChange:e=>{e===`today`?h(`today`):m(e)}}},CT=t_({modelValue:{type:Date},range:{type:Z(Array),validator:e=>x(e)&&e.length===2&&e.every(e=>w(e))},controllerType:{type:String,values:[`button`,`select`],default:`button`},formatter:{type:Z(Function)}}),wT={[D_]:e=>w(e),[k_]:e=>w(e)},TT=t_({type:{type:String,values:[`primary`,`success`,`info`,`warning`,`danger`],default:`primary`},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:n_},effect:{type:String,values:[`dark`,`light`,`plain`],default:`light`},round:Boolean}),eie={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},tie=[`aria-label`],nie=[`aria-label`],ET=S_(b_(V({name:`ElTag`,__name:`tag`,props:TT,emits:eie,setup(e,{emit:t}){let n=e,r=t,i=Ey(),{t:a}=Zg(),o=X(`tag`),s=Y(()=>{let{type:e,hit:t,effect:r,closable:a,round:s}=n;return[o.b(),o.is(`closable`,a),o.m(e||`primary`),o.m(i.value),o.m(r),o.is(`hit`,t),o.is(`round`,s)]}),c=e=>{r(`close`,e)},l=e=>{r(`click`,e)},u=e=>{e?.component?.subTree?.component?.bum&&(e.component.subTree.component.bum=null)};return(e,t)=>e.disableTransitions?(U(),W(`span`,{key:0,class:F(s.value),style:he({backgroundColor:e.color}),onClick:l},[K(`span`,{class:F(R(o).e(`content`))},[H(e.$slots,`default`)],2),e.closable?(U(),W(`button`,{key:0,"aria-label":R(a)(`el.tag.close`),class:F(R(o).e(`close`)),type:`button`,onClick:Ms(c,[`stop`])},[q(R(Q_),null,{default:z(()=>[q(R(pv))]),_:1})],10,tie)):J(`v-if`,!0)],6)):(U(),G(yo,{key:1,name:`${R(o).namespace.value}-zoom-in-center`,appear:``,onVnodeMounted:u},{default:z(()=>[K(`span`,{class:F(s.value),style:he({backgroundColor:e.color}),onClick:l},[K(`span`,{class:F(R(o).e(`content`))},[H(e.$slots,`default`)],2),e.closable?(U(),W(`button`,{key:0,"aria-label":R(a)(`el.tag.close`),class:F(R(o).e(`close`)),type:`button`,onClick:Ms(c,[`stop`])},[q(R(Q_),null,{default:z(()=>[q(R(pv))]),_:1})],10,nie)):J(`v-if`,!0)],6)]),_:3},8,[`name`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue`]])),DT={label:`label`,value:`value`,disabled:`disabled`,options:`options`};function OT(e){let t=L({...DT,...e.props}),n={...e.props};return B(()=>e.props,e=>{oh(e,n)||(t.value={...DT,...e},n={...e})},{deep:!0}),{aliasProps:t,getLabel:e=>jf(e,t.value.label),getValue:e=>jf(e,t.value.value),getDisabled:e=>jf(e,t.value.disabled),getOptions:e=>jf(e,t.value.options)}}var kT=Symbol(`ElSelectGroup`),AT=Symbol(`ElSelect`),jT=`ElOption`,rie=t_({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),MT=(e=``)=>e.replace(/[|\\{}()[\]^$+*?.]/g,`\\$&`).replace(/-/g,`\\x2d`),NT=e=>oe(e);function iie(e,t){let n=qn(AT);n||zg(jT,`usage: <el-select><el-option /></el-select/>`);let r=qn(kT,{disabled:!1}),i=Y(()=>u(tp(n.props.modelValue),e.value)),a=Y(()=>{if(n.props.multiple){let e=tp(n.props.modelValue??[]);return!i.value&&e.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),o=Y(()=>e.label??(O(e.value)?``:e.value)),s=Y(()=>e.value||e.label||``),c=Y(()=>e.disabled||t.groupDisabled||a.value),l=Ga(),u=(t=[],r)=>{if(O(e.value)){let e=n.props.valueKey;return t&&t.some(t=>Zt(jf(t,e))===jf(r,e))}else return t&&t.includes(r)};return B(()=>o.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),B(()=>e.value,(t,r)=>{let{remote:i,valueKey:a}=n.props;if((i?t!==r:!oh(t,r))&&(n.onOptionDestroy(r,l.proxy),n.onOptionCreate(l.proxy)),!e.created&&!i){if(a&&O(t)&&O(r)&&t[a]===r[a])return;n.setSelected()}}),B(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:o,currentValue:s,itemSelected:i,isDisabled:c,hoverItem:()=>{c.value||(n.states.hoveringIndex=n.optionsArray.indexOf(l.proxy))},updateOption:n=>{t.visible=new RegExp(MT(n),`i`).test(String(o.value))||e.created}}}var aie=V({name:jT,componentName:jT,props:rie,setup(e){let t=X(`select`),n=by(),r=Y(()=>[t.be(`dropdown`,`item`),t.is(`disabled`,R(s)),t.is(`selected`,R(o)),t.is(`hovering`,R(f))]),i=Ut({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:o,isDisabled:s,select:c,hoverItem:l,updateOption:u}=iie(e,i),{visible:d,hover:f}=ln(i),p=Ga().proxy;c.onOptionCreate(p),Hr(()=>{let e=p.value;Mn(()=>{let{selected:t}=c.states,n=t.some(e=>e.value===p.value);c.states.cachedOptions.get(e)===p&&!n&&c.states.cachedOptions.delete(e)}),c.onOptionDestroy(e,p)});function m(){s.value||c.handleOptionSelect(p)}return{ns:t,id:n,containerKls:r,currentLabel:a,itemSelected:o,isDisabled:s,select:c,visible:d,hover:f,states:i,hoverItem:l,updateOption:u,selectOptionClick:m}}}),oie=[`id`,`aria-disabled`,`aria-selected`];function sie(e,t,n,r,i,a){return Wn((U(),W(`li`,{id:e.id,class:F(e.containerKls),role:`option`,"aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:t[0]||=(...t)=>e.hoverItem&&e.hoverItem(...t),onClick:t[1]||=Ms((...t)=>e.selectOptionClick&&e.selectOptionClick(...t),[`stop`])},[H(e.$slots,`default`,{},()=>[K(`span`,null,I(e.currentLabel),1)])],42,oie)),[[Lo,e.visible]])}var PT=b_(aie,[[`render`,sie],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue`]]),cie=V({name:`ElSelectDropdown`,componentName:`ElSelectDropdown`,setup(){let e=qn(AT),t=X(`select`),n=Y(()=>e.props.popperClass),r=Y(()=>e.props.multiple),i=Y(()=>e.props.fitInputWidth),a=L(``);function o(){let t=e.selectRef?.offsetWidth;t?a.value=`${t-2}px`:a.value=``}return zr(()=>{o(),jg(e.selectRef,o)}),{ns:t,minWidth:a,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function lie(e,t,n,r,i,a){return U(),W(`div`,{class:F([e.ns.b(`dropdown`),e.ns.is(`multiple`,e.isMultiple),e.popperClass]),style:he({[e.isFitInputWidth?`width`:`minWidth`]:e.minWidth})},[e.$slots.header?(U(),W(`div`,{key:0,class:F(e.ns.be(`dropdown`,`header`))},[H(e.$slots,`header`)],2)):J(`v-if`,!0),H(e.$slots,`default`),e.$slots.footer?(U(),W(`div`,{key:1,class:F(e.ns.be(`dropdown`,`footer`))},[H(e.$slots,`footer`)],2)):J(`v-if`,!0)],6)}var uie=b_(cie,[[`render`,lie],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue`]]),die=(e,t)=>{let{t:n}=Zg(),r=li(),i=by(),a=X(`select`),o=X(`input`),s=Ut({inputValue:``,options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:``,hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),c=L(),l=L(),u=L(),d=L(),f=L(),p=L(),m=L(),h=L(),g=L(),_=L(),v=L(),y=L(!1),b=L(),S=L(!1),{form:C,formItem:w}=Cy(),{inputId:E}=wy(e,{formItemContext:w}),{valueOnClear:D,isEmptyValue:k}=l_(e),{isComposing:A,handleCompositionStart:j,handleCompositionUpdate:M,handleCompositionEnd:te}=By({afterComposition:e=>Ne(e)}),N=Dy(),{wrapperRef:ne,isFocused:re,handleBlur:ie}=Ry(f,{disabled:N,afterFocus(){e.automaticDropdown&&!y.value&&(y.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(e){return u.value?.isFocusInsideContent(e)||d.value?.isFocusInsideContent(e)},afterBlur(){var t;y.value=!1,s.menuVisibleOnFocus=!1,e.validateEvent&&((t=w?.validate)==null||t.call(w,`blur`).catch(e=>void 0))}}),P=Y(()=>x(e.modelValue)?e.modelValue.length>0:!k(e.modelValue)),ae=Y(()=>C?.statusIcon??!1),oe=Y(()=>e.clearable&&!N.value&&P.value&&(re.value||s.inputHovering)),se=Y(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?``:e.suffixIcon),ce=Y(()=>a.is(`reverse`,!!(se.value&&y.value))),le=Y(()=>w?.validateState||``),ue=Y(()=>le.value&&Gv[le.value]),de=Y(()=>e.remote?e.debounce:0),fe=Y(()=>e.remote&&!s.inputValue&&s.options.size===0),pe=Y(()=>e.loading?e.loadingText||n(`el.select.loading`):e.filterable&&s.inputValue&&s.options.size>0&&me.value===0?e.noMatchText||n(`el.select.noMatch`):s.options.size===0?e.noDataText||n(`el.select.noData`):null),me=Y(()=>he.value.filter(e=>e.visible).length),he=Y(()=>{let e=Array.from(s.options.values()),t=[];return s.optionValues.forEach(n=>{let r=e.findIndex(e=>e.value===n);r>-1&&t.push(e[r])}),t.length>=e.length?t:e}),ge=Y(()=>Array.from(s.cachedOptions.values())),_e=Y(()=>{let t=he.value.filter(e=>!e.created).some(e=>e.currentLabel===s.inputValue);return e.filterable&&e.allowCreate&&s.inputValue!==``&&!t}),ve=()=>{e.filterable&&T(e.filterMethod)||e.filterable&&e.remote&&T(e.remoteMethod)||he.value.forEach(e=>{var t;(t=e.updateOption)==null||t.call(e,s.inputValue)})},ye=Ey(),F=Y(()=>[`small`].includes(ye.value)?`small`:`default`),be=Y({get(){return y.value&&(e.loading||!fe.value||e.remote&&!!r.empty)&&(!S.value||!Uh(s.previousQuery))},set(e){y.value=e}}),xe=Y(()=>{if(e.multiple&&!Bh(e.modelValue))return tp(e.modelValue).length===0&&!s.inputValue;let t=x(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Bh(t)?!s.inputValue:!0}),Se=Y(()=>{let t=e.placeholder??n(`el.select.placeholder`);return e.multiple||!P.value?t:s.selectedLabel}),Ce=Y(()=>og?null:`mouseenter`);B(()=>e.modelValue,(t,n)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(s.inputValue=``,we(``)),Ee(),!oh(t,n)&&e.validateEvent&&w?.validate(`change`).catch(e=>void 0)},{flush:`post`,deep:!0}),B(()=>y.value,e=>{e?we(s.inputValue):(s.inputValue=``,s.previousQuery=null,s.isBeforeHide=!0)}),B(()=>s.options.entries(),()=>{$h&&(Ee(),e.defaultFirstOption&&(e.filterable||e.remote)&&me.value&&Te())},{flush:`post`}),B([()=>s.hoveringIndex,he],([e])=>{Hh(e)&&e>-1?b.value=he.value[e]||{}:b.value={},he.value.forEach(e=>{e.hover=b.value===e})}),Xn(()=>{s.isBeforeHide||ve()});let we=t=>{s.previousQuery===t||A.value||(s.previousQuery=t,e.filterable&&T(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&T(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&me.value?Mn(Te):Mn(I))},Te=()=>{let e=he.value.filter(e=>e.visible&&!e.disabled&&!e.states.groupDisabled),t=e.find(e=>e.created),n=e[0];s.hoveringIndex=Ve(he.value.map(e=>e.value),t||n)},Ee=()=>{if(e.multiple)s.selectedLabel=``;else{let t=De(x(e.modelValue)?e.modelValue[0]:e.modelValue);s.selectedLabel=t.currentLabel,s.selected=[t];return}let t=[];Bh(e.modelValue)||tp(e.modelValue).forEach(e=>{t.push(De(e))}),s.selected=t},De=t=>{let n,r=ee(t);for(let i=s.cachedOptions.size-1;i>=0;i--){let a=ge.value[i];if(r?jf(a.value,e.valueKey)===jf(t,e.valueKey):a.value===t){n={index:he.value.filter(e=>!e.created).indexOf(a),value:t,currentLabel:a.currentLabel,get isDisabled(){return a.isDisabled}};break}}return n||{index:-1,value:t,currentLabel:r?t.label:t??``}},I=()=>{let e=s.selected.length;if(e>0){let t=s.selected[e-1];s.hoveringIndex=he.value.findIndex(e=>et(t)===et(e))}else s.hoveringIndex=-1},Oe=()=>{s.selectionWidth=Number.parseFloat(window.getComputedStyle(l.value).width)},ke=()=>{s.collapseItemWidth=_.value.getBoundingClientRect().width},Ae=()=>{var e,t;(t=(e=u.value)?.updatePopper)==null||t.call(e)},je=()=>{var e,t;(t=(e=d.value)?.updatePopper)==null||t.call(e)},Me=()=>{s.inputValue.length>0&&!y.value&&(y.value=!0),we(s.inputValue)},Ne=t=>{if(s.inputValue=t.target.value,e.remote)S.value=!0,Pe();else return Me()},Pe=fg(()=>{Me(),S.value=!1},de),Fe=n=>{oh(e.modelValue,n)||t(O_,n)},Ie=e=>Km(e,e=>{let t=s.cachedOptions.get(e);return!t?.disabled&&!t?.states.groupDisabled}),Le=n=>{let r=Gb(n);if(e.multiple&&r!==Q.delete&&n.target.value.length<=0){let n=tp(e.modelValue).slice(),r=Ie(n);if(r<0)return;let i=n[r];n.splice(r,1),t(D_,n),Fe(n),t(`remove-tag`,i)}},Re=(n,r)=>{let i=s.selected.indexOf(r);if(i>-1&&!N.value){let n=tp(e.modelValue).slice();n.splice(i,1),t(D_,n),Fe(n),t(`remove-tag`,r.value)}n.stopPropagation(),qe()},ze=n=>{n.stopPropagation();let r=e.multiple?[]:D.value;if(e.multiple)for(let e of s.selected)e.isDisabled&&r.push(e.value);t(D_,r),Fe(r),s.hoveringIndex=-1,y.value=!1,t(`clear`),qe()},Be=n=>{if(e.multiple){let r=tp(e.modelValue??[]).slice(),i=Ve(r,n);i>-1?r.splice(i,1):(e.multipleLimit<=0||r.length<e.multipleLimit)&&r.push(n.value),t(D_,r),Fe(r),n.created&&we(``),e.filterable&&!e.reserveKeyword&&(s.inputValue=``)}else !oh(e.modelValue,n.value)&&t(`update:modelValue`,n.value),Fe(n.value),y.value=!1;qe(),!y.value&&Mn(()=>{He(n)})},Ve=(t,n)=>Bh(n)?-1:O(n.value)?t.findIndex(t=>oh(jf(t,e.valueKey),et(n))):t.indexOf(n.value),He=e=>{var t,n;let r=x(e)?e[e.length-1]:e,i=null;if(!ch(r?.value)){let e=he.value.filter(e=>e.value===r.value);e.length>0&&(i=e[0].$el)}if(u.value&&i){let e=((t=u.value?.popperRef?.contentRef)?.querySelector)?.call(t,`.${a.be(`dropdown`,`wrap`)}`);e&&K_(e,i)}(n=v.value)==null||n.handleScroll()},Ue=e=>{s.options.set(e.value,e),s.cachedOptions.set(e.value,e)},We=(e,t)=>{s.options.get(e)===t&&s.options.delete(e)},Ge=Y(()=>u.value?.popperRef?.contentRef),Ke=()=>{s.isBeforeHide=!1,Mn(()=>{var e;(e=v.value)==null||e.update(),He(s.selected)})},qe=()=>{var e;(e=f.value)==null||e.focus()},Je=()=>{var e;if(y.value){y.value=!1,Mn(()=>f.value?.blur());return}(e=f.value)==null||e.blur()},Ye=e=>{ze(e)},Xe=e=>{if(y.value=!1,re.value){let t=new FocusEvent(`blur`,e);Mn(()=>ie(t))}},Ze=()=>{s.inputValue.length>0?s.inputValue=``:y.value=!1},Qe=t=>{N.value||e.filterable&&y.value&&t&&!m.value?.contains(t.target)||(og&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:y.value=!y.value)},$e=()=>{if(!y.value)Qe();else{let e=he.value[s.hoveringIndex];e&&!e.isDisabled&&Be(e)}},et=t=>O(t.value)?jf(t.value,e.valueKey):t.value,tt=Y(()=>he.value.filter(e=>e.visible).every(e=>e.isDisabled)),nt=Y(()=>e.multiple?e.collapseTags?s.selected.slice(0,e.maxCollapseTags):s.selected:[]),rt=Y(()=>e.multiple&&e.collapseTags?s.selected.slice(e.maxCollapseTags):[]),it=e=>{if(!y.value){y.value=!0;return}if(!(s.options.size===0||me.value===0||A.value)&&!tt.value){e===`next`?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):e===`prev`&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));let t=he.value[s.hoveringIndex];(t.isDisabled||!t.visible)&&it(e),Mn(()=>He(b.value))}},at=(e,t,n,r)=>{for(let i=t;i>=0&&i<r;i+=n){let t=e[i];if(!t?.isDisabled&&t?.visible)return i}return null},ot=(e,t)=>{let n=s.options.size;if(n===0)return;let r=ap(e,0,n-1),i=he.value,a=t===`up`?-1:1,o=at(i,r,a,n)??at(i,r-a,-a,n);o!=null&&(s.hoveringIndex=o,Mn(()=>He(b.value)))},st=e=>{let t=Gb(e),n=!0;switch(t){case Q.up:it(`prev`);break;case Q.down:it(`next`);break;case Q.enter:case Q.numpadEnter:A.value||$e();break;case Q.esc:Ze();break;case Q.backspace:n=!1,Le(e);return;case Q.home:if(!y.value)return;ot(0,`down`);break;case Q.end:if(!y.value)return;ot(s.options.size-1,`up`);break;case Q.pageUp:if(!y.value)return;ot(s.hoveringIndex-10,`up`);break;case Q.pageDown:if(!y.value)return;ot(s.hoveringIndex+10,`down`);break;default:n=!1;break}n&&(e.preventDefault(),e.stopPropagation())},ct=()=>{if(!l.value)return 0;let e=window.getComputedStyle(l.value);return Number.parseFloat(e.gap||`6px`)},lt=Y(()=>{let t=ct(),n=e.filterable?t+11:0;return{maxWidth:`${_.value&&e.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-t-n:s.selectionWidth-n}px`}}),ut=Y(()=>({maxWidth:`${s.selectionWidth}px`})),dt=e=>{t(`popup-scroll`,e)};jg(l,Oe),jg(ne,Ae),jg(g,je),jg(_,ke);let ft;return B(()=>be.value,e=>{e?ft=jg(h,Ae).stop:(ft?.(),ft=void 0),t(`visible-change`,e)}),zr(()=>{Ee()}),{inputId:E,contentId:i,nsSelect:a,nsInput:o,states:s,isFocused:re,expanded:y,optionsArray:he,hoverOption:b,selectSize:ye,filteredOptionsCount:me,updateTooltip:Ae,updateTagTooltip:je,debouncedOnInputChange:Pe,onInput:Ne,deletePrevTag:Le,deleteTag:Re,deleteSelected:ze,handleOptionSelect:Be,scrollToOption:He,hasModelValue:P,shouldShowPlaceholder:xe,currentPlaceholder:Se,mouseEnterEventName:Ce,needStatusIcon:ae,showClearBtn:oe,iconComponent:se,iconReverse:ce,validateState:le,validateIcon:ue,showNewOption:_e,updateOptions:ve,collapseTagSize:F,setSelected:Ee,selectDisabled:N,emptyText:pe,handleCompositionStart:j,handleCompositionUpdate:M,handleCompositionEnd:te,handleKeydown:st,onOptionCreate:Ue,onOptionDestroy:We,handleMenuEnter:Ke,focus:qe,blur:Je,handleClearClick:Ye,handleClickOutside:Xe,handleEsc:Ze,toggleMenu:Qe,selectOption:$e,getValueKey:et,navigateOptions:it,dropdownMenuVisible:be,showTagList:nt,collapseTagList:rt,popupScroll:dt,getOption:De,tagStyle:lt,collapseTagStyle:ut,popperRef:Ge,inputRef:f,tooltipRef:u,tagTooltipRef:d,prefixRef:p,suffixRef:m,selectRef:c,wrapperRef:ne,selectionRef:l,scrollbarRef:v,menuRef:h,tagMenuRef:g,collapseItemRef:_}},fie=V({name:`ElOptions`,setup(e,{slots:t}){let n=qn(AT),r=[];return()=>{let e=t.default?.call(t),i=[];function a(e){x(e)&&e.forEach(e=>{let t=(e?.type||{})?.name;t===`ElOptionGroup`?a(!E(e.children)&&!x(e.children)&&T(e.children?.default)?e.children?.default():e.children):t===`ElOption`?i.push(e.props?.value):x(e.children)&&a(e.children)})}return e.length&&a(e[0]?.children),oh(i,r)||(r=i,n&&(n.states.optionValues=i)),e}}}),FT=t_({name:String,id:String,modelValue:{type:Z([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:`off`},automaticDropdown:Boolean,size:r_,effect:{type:Z(String),default:`light`},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:``},popperStyle:{type:Z([String,Object])},popperOptions:{type:Z(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:Z(Function)},filterMethod:{type:Z(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:`value`},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:uC.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Vv,default:dv},fitInputWidth:Boolean,suffixIcon:{type:Vv,default:$_},tagType:{...TT.type,default:`info`},tagEffect:{...TT.effect,default:`light`},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Z(String),values:ux,default:`bottom-start`},fallbackPlacements:{type:Z(Array),default:[`bottom-start`,`top-start`,`right`,`left`]},tabindex:{type:[String,Number],default:0},appendTo:uC.appendTo,options:{type:Z(Array)},props:{type:Z(Object),default:()=>DT},...c_,...dy([`ariaLabel`])});$y.scroll;var pie=V({name:`ElOptionGroup`,componentName:`ElOptionGroup`,props:{label:String,disabled:Boolean},setup(e){let t=X(`select`),n=L(),r=Ga(),i=L([]);Kn(kT,Ut({...ln(e)}));let a=Y(()=>i.value.some(e=>e.visible===!0)),o=e=>e.type.name===`ElOption`&&!!e.component?.proxy,s=e=>{let t=tp(e),n=[];return t.forEach(e=>{Oa(e)&&(o(e)?n.push(e.component.proxy):x(e.children)&&e.children.length?n.push(...s(e.children)):e.component?.subTree&&n.push(...s(e.component.subTree)))}),n},c=()=>{i.value=s(r.subTree)};return zr(()=>{c()}),Tg(n,c,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:a,ns:t}}});function mie(e,t,n,r,i,a){return Wn((U(),W(`ul`,{ref:`groupRef`,class:F(e.ns.be(`group`,`wrap`))},[K(`li`,{class:F(e.ns.be(`group`,`title`))},I(e.label),3),K(`li`,null,[K(`ul`,{class:F(e.ns.b(`group`))},[H(e.$slots,`default`)],2)])],2)),[[Lo,e.visible]])}var IT=b_(pie,[[`render`,mie],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue`]]),LT=new Map;if($h){let e;document.addEventListener(`mousedown`,t=>e=t),document.addEventListener(`mouseup`,t=>{if(e){for(let n of LT.values())for(let{documentHandler:r}of n)r(t,e);e=void 0}})}function RT(e,t){let n=[];return x(t.arg)?n=t.arg:Wh(t.arg)&&n.push(t.arg),function(r,i){let a=t.instance.popperRef,o=r.target,s=i?.target,c=!t||!t.instance,l=!o||!s,u=e.contains(o)||e.contains(s),d=e===o,f=n.length&&n.some(e=>e?.contains(o))||n.length&&n.includes(s),p=a&&(a.contains(o)||a.contains(s));c||l||u||d||f||p||t.value(r,i)}}var zT={beforeMount(e,t){LT.has(e)||LT.set(e,[]),LT.get(e).push({documentHandler:RT(e,t),bindingFn:t.value})},updated(e,t){LT.has(e)||LT.set(e,[]);let n=LT.get(e),r=n.findIndex(e=>e.bindingFn===t.oldValue),i={documentHandler:RT(e,t),bindingFn:t.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(e){LT.delete(e)}};function BT(){let e=nn(),t=L(0),n=Y(()=>({minWidth:`${Math.max(t.value,11)}px`}));return jg(e,()=>{t.value=e.value?.getBoundingClientRect().width??0}),{calculatorRef:e,calculatorWidth:t,inputStyle:n}}var VT=`ElSelect`,HT=new WeakMap,hie=e=>(...t)=>{let n=t[0];if(!n||n.includes(`Slot "default" invoked outside of the render function`)&&t[2]?.includes(`ElTreeSelect`))return;let r=HT.get(e)?.originalWarnHandler;if(r){r(...t);return}console.warn(...t)},gie=e=>{let t=HT.get(e);return t||(t={originalWarnHandler:e.config.warnHandler,handler:hie(e),count:0},HT.set(e,t)),t},_ie=V({name:VT,componentName:VT,components:{ElSelectMenu:uie,ElOption:PT,ElOptions:fie,ElOptionGroup:IT,ElTag:ET,ElScrollbar:tb,ElTooltip:MC,ElIcon:Q_},directives:{ClickOutside:zT},props:FT,emits:[D_,O_,`remove-tag`,`clear`,`visible-change`,`focus`,`blur`,`popup-scroll`],setup(e,{emit:t,slots:n}){let r=Ga(),i=gie(r.appContext);i.count+=1,r.appContext.config.warnHandler=i.handler;let a=Y(()=>{let{modelValue:t,multiple:n}=e,r=n?[]:void 0;return x(t)?n?t:r:n?r:t}),o=Ut({...ln(e),modelValue:a}),s=die(o,t),{calculatorRef:c,inputStyle:l}=BT(),{getLabel:u,getValue:d,getOptions:f,getDisabled:p}=OT(e),m=e=>({label:u(e),value:d(e),disabled:p(e)}),h=e=>e.reduce((e,t)=>(e.push(t),t.children&&t.children.length>0&&e.push(...h(t.children)),e),[]),g=e=>{$v(e||[]).forEach(e=>{if(O(e)&&(e.type.name===`ElOption`||e.type.name===`ElTree`)){let t=e.type.name;if(t===`ElTree`)h(e.props?.data||[]).forEach(e=>{e.currentLabel=e.label||(O(e.value)?``:e.value),s.onOptionCreate(e)});else if(t===`ElOption`){let t={...e.props};t.currentLabel=t.label||(O(t.value)?``:t.value),s.onOptionCreate(t)}}})};B(()=>[n.default?.call(n),a.value],()=>{e.persistent||s.expanded.value||(s.states.options.clear(),g(n.default?.call(n)))},{immediate:!0}),Kn(AT,Ut({props:o,states:s.states,selectRef:s.selectRef,optionsArray:s.optionsArray,setSelected:s.setSelected,handleOptionSelect:s.handleOptionSelect,onOptionCreate:s.onOptionCreate,onOptionDestroy:s.onOptionDestroy}));let _=Y(()=>e.multiple?s.states.selected.map(e=>e.currentLabel):s.states.selectedLabel);return Hr(()=>{let e=HT.get(r.appContext);e&&(--e.count,e.count<=0&&(r.appContext.config.warnHandler=e.originalWarnHandler,HT.delete(r.appContext)))}),{...s,modelValue:a,selectedLabel:_,calculatorRef:c,inputStyle:l,getLabel:u,getValue:d,getOptions:f,getDisabled:p,getOptionProps:m}}}),vie=[`id`,`name`,`disabled`,`autocomplete`,`tabindex`,`readonly`,`aria-activedescendant`,`aria-controls`,`aria-expanded`,`aria-label`],yie=[`textContent`],bie={key:1};function xie(e,t,n,r,i,a){let o=Yr(`el-tag`),s=Yr(`el-tooltip`),c=Yr(`el-icon`),l=Yr(`el-option`),u=Yr(`el-option-group`),d=Yr(`el-options`),f=Yr(`el-scrollbar`),p=Yr(`el-select-menu`),m=Qr(`click-outside`);return Wn((U(),W(`div`,za({ref:`selectRef`,class:[e.nsSelect.b(),e.nsSelect.m(e.selectSize)]},{[se(e.mouseEnterEventName)]:t[11]||=t=>e.states.inputHovering=!0},{onMouseleave:t[12]||=t=>e.states.inputHovering=!1}),[q(s,{ref:`tooltipRef`,visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e(`popper`),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:``,trigger:`click`,transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t[10]||=t=>e.states.isBeforeHide=!1},{default:z(()=>[K(`div`,{ref:`wrapperRef`,class:F([e.nsSelect.e(`wrapper`),e.nsSelect.is(`focused`,e.isFocused),e.nsSelect.is(`hovering`,e.states.inputHovering),e.nsSelect.is(`filterable`,e.filterable),e.nsSelect.is(`disabled`,e.selectDisabled)]),onClick:t[7]||=Ms((...t)=>e.toggleMenu&&e.toggleMenu(...t),[`prevent`])},[e.$slots.prefix?(U(),W(`div`,{key:0,ref:`prefixRef`,class:F(e.nsSelect.e(`prefix`))},[H(e.$slots,`prefix`)],2)):J(`v-if`,!0),K(`div`,{ref:`selectionRef`,class:F([e.nsSelect.e(`selection`),e.nsSelect.is(`near`,e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?H(e.$slots,`tag`,{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(U(!0),W(va,null,ti(e.showTagList,t=>(U(),W(`div`,{key:e.getValueKey(t),class:F(e.nsSelect.e(`selected-item`))},[q(o,{closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,style:he(e.tagStyle),onClose:n=>e.deleteTag(n,t)},{default:z(()=>[K(`span`,{class:F(e.nsSelect.e(`tags-text`))},[H(e.$slots,`label`,{index:t.index,label:t.currentLabel,value:t.value},()=>[Fa(I(t.currentLabel),1)])],2)]),_:2},1032,[`closable`,`size`,`type`,`effect`,`style`,`onClose`])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(U(),G(s,{key:0,ref:`tagTooltipRef`,disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":[`bottom`,`top`,`right`,`left`],effect:e.effect,placement:`bottom`,"popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported,"popper-options":e.popperOptions},{default:z(()=>[K(`div`,{ref:`collapseItemRef`,class:F(e.nsSelect.e(`selected-item`))},[q(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,style:he(e.collapseTagStyle)},{default:z(()=>[K(`span`,{class:F(e.nsSelect.e(`tags-text`))},` + `+I(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,[`size`,`type`,`effect`,`style`])],2)]),content:z(()=>[K(`div`,{ref:`tagMenuRef`,class:F(e.nsSelect.e(`selection`))},[(U(!0),W(va,null,ti(e.collapseTagList,t=>(U(),W(`div`,{key:e.getValueKey(t),class:F(e.nsSelect.e(`selected-item`))},[q(o,{class:`in-tooltip`,closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,onClose:n=>e.deleteTag(n,t)},{default:z(()=>[K(`span`,{class:F(e.nsSelect.e(`tags-text`))},[H(e.$slots,`label`,{index:t.index,label:t.currentLabel,value:t.value},()=>[Fa(I(t.currentLabel),1)])],2)]),_:2},1032,[`closable`,`size`,`type`,`effect`,`onClose`])],2))),128))],2)]),_:3},8,[`disabled`,`effect`,`popper-class`,`popper-style`,`teleported`,`popper-options`])):J(`v-if`,!0)]):J(`v-if`,!0),K(`div`,{class:F([e.nsSelect.e(`selected-item`),e.nsSelect.e(`input-wrapper`),e.nsSelect.is(`hidden`,!e.filterable||e.selectDisabled)])},[Wn(K(`input`,{id:e.inputId,ref:`inputRef`,"onUpdate:modelValue":t[0]||=t=>e.states.inputValue=t,type:`text`,name:e.name,class:F([e.nsSelect.e(`input`),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:he(e.inputStyle),tabindex:e.tabindex,role:`combobox`,readonly:!e.filterable,spellcheck:`false`,"aria-activedescendant":e.hoverOption?.id||``,"aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":`none`,"aria-haspopup":`listbox`,onKeydown:t[1]||=(...t)=>e.handleKeydown&&e.handleKeydown(...t),onCompositionstart:t[2]||=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t),onCompositionupdate:t[3]||=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t),onCompositionend:t[4]||=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t),onInput:t[5]||=(...t)=>e.onInput&&e.onInput(...t),onClick:t[6]||=Ms((...t)=>e.toggleMenu&&e.toggleMenu(...t),[`stop`])},null,46,vie),[[ws,e.states.inputValue]]),e.filterable?(U(),W(`span`,{key:0,ref:`calculatorRef`,"aria-hidden":`true`,class:F(e.nsSelect.e(`input-calculator`)),textContent:I(e.states.inputValue)},null,10,yie)):J(`v-if`,!0)],2),e.shouldShowPlaceholder?(U(),W(`div`,{key:1,class:F([e.nsSelect.e(`selected-item`),e.nsSelect.e(`placeholder`),e.nsSelect.is(`transparent`,!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?H(e.$slots,`label`,{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[K(`span`,null,I(e.currentPlaceholder),1)]):(U(),W(`span`,bie,I(e.currentPlaceholder),1))],2)):J(`v-if`,!0)],2),K(`div`,{ref:`suffixRef`,class:F(e.nsSelect.e(`suffix`))},[e.iconComponent&&!e.showClearBtn?(U(),G(c,{key:0,class:F([e.nsSelect.e(`caret`),e.nsSelect.e(`icon`),e.iconReverse])},{default:z(()=>[(U(),G(Zr(e.iconComponent)))]),_:1},8,[`class`])):J(`v-if`,!0),e.showClearBtn&&e.clearIcon?(U(),G(c,{key:1,class:F([e.nsSelect.e(`caret`),e.nsSelect.e(`icon`),e.nsSelect.e(`clear`)]),onClick:e.handleClearClick},{default:z(()=>[(U(),G(Zr(e.clearIcon)))]),_:1},8,[`class`,`onClick`])):J(`v-if`,!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(U(),G(c,{key:2,class:F([e.nsInput.e(`icon`),e.nsInput.e(`validateIcon`),e.nsInput.is(`loading`,e.validateState===`validating`)])},{default:z(()=>[(U(),G(Zr(e.validateIcon)))]),_:1},8,[`class`])):J(`v-if`,!0)],2)],2)]),content:z(()=>[q(p,{ref:`menuRef`},{default:z(()=>[e.$slots.header?(U(),W(`div`,{key:0,class:F(e.nsSelect.be(`dropdown`,`header`)),onClick:t[8]||=Ms(()=>{},[`stop`])},[H(e.$slots,`header`)],2)):J(`v-if`,!0),Wn(q(f,{id:e.contentId,ref:`scrollbarRef`,tag:`ul`,"wrap-class":e.nsSelect.be(`dropdown`,`wrap`),"view-class":e.nsSelect.be(`dropdown`,`list`),class:F([e.nsSelect.is(`empty`,e.filteredOptionsCount===0)]),role:`listbox`,"aria-label":e.ariaLabel,"aria-orientation":`vertical`,onScroll:e.popupScroll},{default:z(()=>[e.showNewOption?(U(),G(l,{key:0,value:e.states.inputValue,created:!0},null,8,[`value`])):J(`v-if`,!0),q(d,null,{default:z(()=>[H(e.$slots,`default`,{},()=>[(U(!0),W(va,null,ti(e.options,(t,n)=>(U(),W(va,{key:n},[e.getOptions(t)?.length?(U(),G(u,{key:0,label:e.getLabel(t),disabled:e.getDisabled(t)},{default:z(()=>[(U(!0),W(va,null,ti(e.getOptions(t),t=>(U(),G(l,za({key:e.getValue(t)},{ref_for:!0},e.getOptionProps(t)),null,16))),128))]),_:2},1032,[`label`,`disabled`])):(U(),G(l,za({key:1,ref_for:!0},e.getOptionProps(t)),null,16))],64))),128))])]),_:3})]),_:3},8,[`id`,`wrap-class`,`view-class`,`class`,`aria-label`,`onScroll`]),[[Lo,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(U(),W(`div`,{key:1,class:F(e.nsSelect.be(`dropdown`,`loading`))},[H(e.$slots,`loading`)],2)):e.loading||e.filteredOptionsCount===0?(U(),W(`div`,{key:2,class:F(e.nsSelect.be(`dropdown`,`empty`))},[H(e.$slots,`empty`,{},()=>[K(`span`,null,I(e.emptyText),1)])],2)):J(`v-if`,!0),e.$slots.footer?(U(),W(`div`,{key:3,class:F(e.nsSelect.be(`dropdown`,`footer`)),onClick:t[9]||=Ms(()=>{},[`stop`])},[H(e.$slots,`footer`)],2)):J(`v-if`,!0)]),_:3},512)]),_:3},8,[`visible`,`placement`,`teleported`,`popper-class`,`popper-style`,`popper-options`,`fallback-placements`,`effect`,`transition`,`persistent`,`append-to`,`show-arrow`,`offset`,`onBeforeShow`])],16)),[[m,e.handleClickOutside,e.popperRef]])}var UT=S_(b_(_ie,[[`render`,xie],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue`]]),{Option:PT,OptionGroup:IT}),WT=T_(PT),Sie=T_(IT),Cie=t_({date:{type:Z(Object),required:!0},formatter:{type:Z(Function)}}),wie={"date-change":e=>O(e)||E(e)},GT=l(qw(),1),Tie=b_(V({name:`SelectController`,__name:`select-controller`,props:Cie,emits:wie,setup(e,{emit:t}){let n=e,r=t,i=X(`calendar-select`),{t:a,lang:o}=Zg(),s=Array.from({length:12},(e,t)=>{let r=t+1;return{value:r,label:T(n.formatter)?n.formatter(r,`month`):r}}),c=Y(()=>n.date.year()),l=Y(()=>n.date.month()+1),u=Y(()=>{let e=[];for(let t=-10;t<10;t++){let r=c.value+t;if(r>0){let t=T(n.formatter)?n.formatter(r,`year`):r;e.push({value:r,label:t})}}return e}),d=e=>{r(`date-change`,(0,GT.default)(new Date(e,l.value-1,1)).locale(o.value))},f=e=>{r(`date-change`,(0,GT.default)(new Date(c.value,e-1,1)).locale(o.value))},p=()=>{r(`date-change`,`today`)};return(e,t)=>(U(),W(va,null,[q(R(UT),{"model-value":c.value,size:`small`,class:F(R(i).e(`year`)),"validate-event":!1,options:u.value,onChange:d},null,8,[`model-value`,`class`,`options`]),q(R(UT),{"model-value":l.value,size:`small`,class:F(R(i).e(`month`)),"validate-event":!1,options:R(s),onChange:f},null,8,[`model-value`,`class`,`options`]),q(R(Gw),{size:`small`,onClick:p},{default:z(()=>[Fa(I(R(a)(`el.datepicker.today`)),1)]),_:1})],64))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/calendar/src/select-controller.vue`]]),KT=`ElCalendar`,Eie=S_(b_(V({name:KT,__name:`calendar`,props:CT,emits:wT,setup(e,{expose:t,emit:n}){let r=X(`calendar`),{calculateValidatedDateRange:i,date:a,pickDay:o,realSelectedDay:s,selectDate:c,validatedRange:l,handleDateChange:u}=ST(e,n,KT),{t:d}=Zg(),f=Y(()=>{let e=`el.datepicker.month${a.value.format(`M`)}`;return`${a.value.year()} ${d(`el.datepicker.year`)} ${d(e)}`});return t({selectedDay:s,pickDay:o,selectDate:c,calculateValidatedDateRange:i}),(e,t)=>(U(),W(`div`,{class:F(R(r).b())},[K(`div`,{class:F(R(r).e(`header`))},[H(e.$slots,`header`,{date:f.value},()=>[K(`div`,{class:F(R(r).e(`title`))},I(f.value),3),R(l).length===0&&e.controllerType===`button`?(U(),W(`div`,{key:0,class:F(R(r).e(`button-group`))},[q(R(Kw),null,{default:z(()=>[q(R(Gw),{size:`small`,onClick:t[0]||=e=>R(c)(`prev-month`)},{default:z(()=>[Fa(I(R(d)(`el.datepicker.prevMonth`)),1)]),_:1}),q(R(Gw),{size:`small`,onClick:t[1]||=e=>R(c)(`today`)},{default:z(()=>[Fa(I(R(d)(`el.datepicker.today`)),1)]),_:1}),q(R(Gw),{size:`small`,onClick:t[2]||=e=>R(c)(`next-month`)},{default:z(()=>[Fa(I(R(d)(`el.datepicker.nextMonth`)),1)]),_:1})]),_:1})],2)):R(l).length===0&&e.controllerType===`select`?(U(),W(`div`,{key:1,class:F(R(r).e(`select-controller`))},[q(Tie,{date:R(a),formatter:e.formatter,onDateChange:R(u)},null,8,[`date`,`formatter`,`onDateChange`])],2)):J(`v-if`,!0)])],2),R(l).length===0?(U(),W(`div`,{key:0,class:F(R(r).e(`body`))},[q(vT,{date:R(a),"selected-day":R(s),onPick:R(o)},ni({_:2},[e.$slots[`date-cell`]?{name:`date-cell`,fn:z(t=>[H(e.$slots,`date-cell`,be(Na(t)))]),key:`0`}:void 0]),1032,[`date`,`selected-day`,`onPick`])],2)):(U(),W(`div`,{key:1,class:F(R(r).e(`body`))},[(U(!0),W(va,null,ti(R(l),(t,n)=>(U(),G(vT,{key:n,date:t[0],"selected-day":R(s),range:t,"hide-header":n!==0,onPick:R(o)},ni({_:2},[e.$slots[`date-cell`]?{name:`date-cell`,fn:z(t=>[H(e.$slots,`date-cell`,za({ref_for:!0},t))]),key:`0`}:void 0]),1032,[`date`,`selected-day`,`range`,`hide-header`,`onPick`]))),128))],2))],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue`]])),Die=S_(b_(V({name:`ElCard`,__name:`card`,props:t_({header:{type:String,default:``},footer:{type:String,default:``},bodyStyle:{type:Z([String,Object,Array]),default:``},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:[`always`,`hover`,`never`],default:void 0}}),setup(e){let t=m_(`card`),n=X(`card`);return(e,r)=>(U(),W(`div`,{class:F([R(n).b(),R(n).is(`${e.shadow||R(t)?.shadow||`always`}-shadow`)])},[e.$slots.header||e.header?(U(),W(`div`,{key:0,class:F([R(n).e(`header`),e.headerClass])},[H(e.$slots,`header`,{},()=>[Fa(I(e.header),1)])],2)):J(`v-if`,!0),K(`div`,{class:F([R(n).e(`body`),e.bodyClass]),style:he(e.bodyStyle)},[H(e.$slots,`default`)],6),e.$slots.footer||e.footer?(U(),W(`div`,{key:1,class:F([R(n).e(`footer`),e.footerClass])},[H(e.$slots,`footer`,{},()=>[Fa(I(e.footer),1)])],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue`]])),Oie=t_({initialIndex:{type:Number,default:0},height:{type:String,default:``},trigger:{type:String,values:[`hover`,`click`],default:`hover`},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:[``,`none`,`outside`],default:``},arrow:{type:String,values:[`always`,`hover`,`never`],default:`hover`},type:{type:String,values:[``,`card`],default:``},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),kie={change:(e,t)=>[e,t].every(Hh)},qT=Symbol(`carouselContextKey`),JT=`ElCarouselItem`,Aie=(e,t,n)=>$v(e.subTree).filter(e=>Oa(e)&&e.type?.name===t&&!!e.component).map(e=>e.component.uid).map(e=>n[e]).filter(e=>!!e),YT=(e,t)=>{let n=nn({}),r=nn([]),i=new WeakMap,a=e=>{n.value[e.uid]=e,on(n),zr(()=>{let t=e.getVnode().el,r=t.parentNode;if(!i.has(r)){i.set(r,[]);let e=r.insertBefore.bind(r);r.insertBefore=(t,a)=>(i.get(r).some(e=>t===e||a===e)&&on(n),e(t,a))}i.get(r).push(t)})},o=e=>{delete n.value[e.uid],on(n);let t=e.getVnode().el,r=t.parentNode,a=i.get(r),o=a.indexOf(t);a.splice(o,1)},s=()=>{r.value=Aie(e,t,n.value)},c=e=>e.render();return{children:r,addChild:a,removeChild:o,ChildrenSorter:V({setup(e,{slots:t}){return()=>(s(),t.default?oo(c,{render:t.default}):null)}})}},XT=300,jie=(e,t,n)=>{let{children:r,addChild:i,removeChild:a,ChildrenSorter:o}=YT(Ga(),JT),s=li(),c=L(-1),l=L(null),u=L(!1),d=L(),f=L(0),p=L(!0),m=Y(()=>e.arrow!==`never`&&!R(_)),h=Y(()=>r.value.some(e=>e.props.label.toString().length>0)),g=Y(()=>e.type===`card`),_=Y(()=>e.direction===`vertical`),v=Y(()=>e.height===`auto`?{height:`${f.value}px`,overflow:`hidden`}:{height:e.height}),y=Ph(e=>{T(e)},XT,{trailing:!0}),b=Ph(e=>{te(e)},XT),x=e=>p.value?c.value<=1?e<=1:e>1:!0;function S(){l.value&&=(clearInterval(l.value),null)}function C(){e.interval<=0||!e.autoplay||l.value||(l.value=setInterval(()=>w(),e.interval))}let w=()=>{c.value<r.value.length-1?c.value+=1:e.loop&&(c.value=0)};function T(t){if(E(t)){let e=r.value.filter(e=>e.props.name===t);e.length>0&&(t=r.value.indexOf(e[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;let n=r.value.length,i=c.value;t<0?c.value=e.loop?n-1:0:t>=n?c.value=e.loop?0:n-1:c.value=t,i===c.value&&D(i),re()}function D(e){r.value.forEach((t,n)=>{t.translateItem(n,c.value,e)})}function O(e,t){let n=R(r),i=n.length;if(i===0||!e.states.inStage)return!1;let a=t+1,o=t-1,s=i-1,c=n[s].states.active,l=n[0].states.active,u=n[a]?.states?.active,d=n[o]?.states?.active;return t===s&&l||u?`left`:t===0&&c||d?`right`:!1}function k(){u.value=!0,e.pauseOnHover&&S()}function A(){u.value=!1,C()}function j(e){R(_)||r.value.forEach((t,n)=>{e===O(t,n)&&(t.states.hover=!0)})}function M(){R(_)||r.value.forEach(e=>{e.states.hover=!1})}function ee(e){c.value=e}function te(t){e.trigger===`hover`&&t!==c.value&&(c.value=t)}function N(){T(c.value-1)}function ne(){T(c.value+1)}function re(){S(),e.pauseOnHover||C()}function ie(t){e.height===`auto`&&(f.value=t)}function P(){let t=s.default?.call(s);if(!t)return null;let n=$v(t).filter(e=>Oa(e)&&e.type.name===`ElCarouselItem`);return n?.length===2&&e.loop&&!g.value?(p.value=!0,n):(p.value=!1,null)}B(()=>c.value,(e,n)=>{D(n),p.value&&(e%=2,n%=2),n>-1&&t(O_,e,n)});let ae=Y({get:()=>p.value?c.value%2:c.value,set:e=>c.value=e});B(()=>e.autoplay,e=>{e?C():S()}),B(()=>e.loop,()=>{T(c.value)}),B(()=>e.interval,()=>{re()});let oe=nn();return zr(()=>{B(()=>r.value,()=>{r.value.length>0&&T(e.initialIndex)},{immediate:!0}),oe.value=jg(d.value,()=>{D()}),C()}),Hr(()=>{S(),d.value&&oe.value&&oe.value.stop()}),Kn(qT,{root:d,isCardType:g,isVertical:_,items:r,loop:e.loop,cardScale:e.cardScale,addItem:i,removeItem:a,setActiveItem:T,setContainerHeight:ie}),{root:d,activeIndex:c,exposeActiveIndex:ae,arrowDisplay:m,hasLabel:h,hover:u,isCardType:g,items:r,isVertical:_,containerStyle:v,isItemsTwoLength:p,handleButtonEnter:j,handleButtonLeave:M,handleIndicatorClick:ee,handleMouseEnter:k,handleMouseLeave:A,setActiveItem:T,prev:N,next:ne,PlaceholderItem:P,isTwoLengthShow:x,ItemsSorter:o,throttledArrowClick:y,throttledIndicatorHover:b}},Mie=[`aria-label`],Nie=[`aria-label`],Pie=[`onMouseenter`,`onClick`],Fie=[`aria-label`],Iie={key:0},Lie={key:2,xmlns:`http://www.w3.org/2000/svg`,version:`1.1`,style:{display:`none`}},ZT=`ElCarousel`,Rie=b_(V({name:ZT,__name:`carousel`,props:Oie,emits:kie,setup(e,{expose:t,emit:n}){let r=e,{root:i,activeIndex:a,exposeActiveIndex:o,arrowDisplay:s,hasLabel:c,hover:l,isCardType:u,items:d,isVertical:f,containerStyle:p,handleButtonEnter:m,handleButtonLeave:h,handleIndicatorClick:g,handleMouseEnter:_,handleMouseLeave:v,setActiveItem:y,prev:b,next:x,PlaceholderItem:S,isTwoLengthShow:C,ItemsSorter:w,throttledArrowClick:T,throttledIndicatorHover:E}=jie(r,n,ZT),D=X(`carousel`),{t:O}=Zg(),k=Y(()=>{let e=[D.b(),D.m(r.direction)];return R(u)&&e.push(D.m(`card`)),e}),A=Y(()=>{let e=[D.e(`indicators`),D.em(`indicators`,r.direction)];return R(c)&&e.push(D.em(`indicators`,`labels`)),r.indicatorPosition===`outside`&&e.push(D.em(`indicators`,`outside`)),R(f)&&e.push(D.em(`indicators`,`right`)),e});function j(e){if(!r.motionBlur)return;let t=R(f)?`${D.namespace.value}-transitioning-vertical`:`${D.namespace.value}-transitioning`;e.currentTarget.classList.add(t)}function M(e){if(!r.motionBlur)return;let t=R(f)?`${D.namespace.value}-transitioning-vertical`:`${D.namespace.value}-transitioning`;e.currentTarget.classList.remove(t)}return t({activeIndex:o,setActiveItem:y,prev:b,next:x}),(e,t)=>(U(),W(`div`,{ref_key:`root`,ref:i,class:F(k.value),onMouseenter:t[6]||=Ms((...e)=>R(_)&&R(_)(...e),[`stop`]),onMouseleave:t[7]||=Ms((...e)=>R(v)&&R(v)(...e),[`stop`])},[R(s)?(U(),G(yo,{key:0,name:`carousel-arrow-left`,persisted:``},{default:z(()=>[Wn(K(`button`,{type:`button`,class:F([R(D).e(`arrow`),R(D).em(`arrow`,`left`)]),"aria-label":R(O)(`el.carousel.leftArrow`),onMouseenter:t[0]||=e=>R(m)(`left`),onMouseleave:t[1]||=(...e)=>R(h)&&R(h)(...e),onClick:t[2]||=Ms(e=>R(T)(R(a)-1),[`stop`])},[q(R(Q_),null,{default:z(()=>[q(R(ev))]),_:1})],42,Mie),[[Lo,(e.arrow===`always`||R(l))&&(e.loop||R(a)>0)]])]),_:1})):J(`v-if`,!0),R(s)?(U(),G(yo,{key:1,name:`carousel-arrow-right`,persisted:``},{default:z(()=>[Wn(K(`button`,{type:`button`,class:F([R(D).e(`arrow`),R(D).em(`arrow`,`right`)]),"aria-label":R(O)(`el.carousel.rightArrow`),onMouseenter:t[3]||=e=>R(m)(`right`),onMouseleave:t[4]||=(...e)=>R(h)&&R(h)(...e),onClick:t[5]||=Ms(e=>R(T)(R(a)+1),[`stop`])},[q(R(Q_),null,{default:z(()=>[q(R(tv))]),_:1})],42,Nie),[[Lo,(e.arrow===`always`||R(l))&&(e.loop||R(a)<R(d).length-1)]])]),_:1})):J(`v-if`,!0),K(`div`,{class:F(R(D).e(`container`)),style:he(R(p)),onTransitionstart:j,onTransitionend:M},[q(R(S)),H(e.$slots,`default`)],38),q(R(w),null,{default:z(()=>[e.indicatorPosition===`none`?J(`v-if`,!0):(U(),W(`ul`,{key:0,class:F(A.value)},[(U(!0),W(va,null,ti(R(d),(t,n)=>Wn((U(),W(`li`,{key:n,class:F([R(D).e(`indicator`),R(D).em(`indicator`,e.direction),R(D).is(`active`,n===R(a))]),onMouseenter:e=>R(E)(n),onClick:Ms(e=>R(g)(n),[`stop`])},[K(`button`,{class:F(R(D).e(`button`)),"aria-label":R(O)(`el.carousel.indicator`,{index:n+1})},[R(c)?(U(),W(`span`,Iie,I(t.props.label),1)):J(`v-if`,!0)],10,Fie)],42,Pie)),[[Lo,R(C)(n)]])),128))],2))]),_:1}),e.motionBlur?(U(),W(`svg`,Lie,[...t[8]||=[K(`defs`,null,[K(`filter`,{id:`elCarouselHorizontal`},[K(`feGaussianBlur`,{in:`SourceGraphic`,stdDeviation:`12,0`})]),K(`filter`,{id:`elCarouselVertical`},[K(`feGaussianBlur`,{in:`SourceGraphic`,stdDeviation:`0,10`})])],-1)]])):J(`v-if`,!0)],34))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue`]]),zie=t_({name:{type:String,default:``},label:{type:[String,Number],default:``}}),Bie=e=>{let t=qn(qT),n=Ga(),r=L(),i=L(!1),a=L(0),o=L(1),s=L(!1),c=L(!1),l=L(!1),u=L(!1),{isCardType:d,isVertical:f,cardScale:p}=t;function m(e,t,n){let r=n-1,i=t-1,a=t+1,o=n/2;return t===0&&e===r?-1:t===r&&e===0?n:e<i&&t-e>=o?n+1:e>a&&e-t>=o?-2:e}function h(e,n){let r=R(f)?t.root.value?.offsetHeight||0:t.root.value?.offsetWidth||0;return l.value?r*((2-p)*(e-n)+1)/4:e<n?-(1+p)*r/4:(3+p)*r/4}function g(e,n,r){let i=t.root.value;return i?((r?i.offsetHeight:i.offsetWidth)||0)*(e-n):0}let _=(e,n,i)=>{let _=R(d),v=t.items.value.length??NaN,y=e===n;!_&&!Bh(i)&&(u.value=y||e===i),!y&&v>2&&t.loop&&(e=m(e,n,v));let b=R(f);s.value=y,_?(l.value=Math.round(Math.abs(e-n))<=1,a.value=h(e,n),o.value=R(s)?1:p):a.value=g(e,n,b),c.value=!0,y&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function v(){if(t&&R(d)){let e=t.items.value.findIndex(({uid:e})=>e===n.uid);t.setActiveItem(e)}}let y={props:e,states:Ut({hover:i,translate:a,scale:o,active:s,ready:c,inStage:l,animating:u}),uid:n.uid,getVnode:()=>n.vnode,translateItem:_};return t.addItem(y),Hr(()=>{t.removeItem(y)}),{carouselItemRef:r,active:s,animating:u,hover:i,inStage:l,isVertical:f,translate:a,isCardType:d,scale:o,ready:c,handleItemClick:v}},QT=b_(V({name:JT,__name:`carousel-item`,props:zie,setup(e){let t=e,n=X(`carousel`),{carouselItemRef:r,active:i,animating:a,hover:o,inStage:s,isVertical:c,translate:l,isCardType:u,scale:d,ready:f,handleItemClick:p}=Bie(t),m=Y(()=>[n.e(`item`),n.is(`active`,i.value),n.is(`in-stage`,s.value),n.is(`hover`,o.value),n.is(`animating`,a.value),{[n.em(`item`,`card`)]:u.value,[n.em(`item`,`card-vertical`)]:u.value&&c.value}]),h=Y(()=>({transform:[`${`translate${R(c)?`Y`:`X`}`}(${R(l)}px)`,`scale(${R(d)})`].join(` `)}));return(e,t)=>Wn((U(),W(`div`,{ref_key:`carouselItemRef`,ref:r,class:F(m.value),style:he(h.value),onClick:t[0]||=(...e)=>R(p)&&R(p)(...e)},[R(u)?Wn((U(),W(`div`,{key:0,class:F(R(n).e(`mask`))},null,2)),[[Lo,!R(i)]]):J(`v-if`,!0),H(e.$slots,`default`)],6)),[[Lo,R(f)]])}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue`]]),Vie=S_(Rie,{CarouselItem:QT}),Hie=T_(QT),$T={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:r_,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...dy([`ariaControls`])},eE={[D_]:e=>E(e)||Hh(e)||Vh(e),change:e=>E(e)||Hh(e)||Vh(e)},tE=Symbol(`checkboxGroupContextKey`),Uie=({model:e,isChecked:t})=>{let n=qn(tE,void 0),r=qn(xy,void 0),i=Y(()=>{let r=n?.max?.value,i=n?.min?.value;return!Bh(r)&&e.value.length>=r&&!t.value||!Bh(i)&&e.value.length<=i&&t.value});return{isDisabled:Dy(Y(()=>n===void 0?r?.disabled??i.value:n.disabled?.value||i.value)),isLimitDisabled:i}},Wie=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:a})=>{let o=qn(tE,void 0),{formItem:s}=Cy(),{emit:c}=Ga();function l(t){return[!0,e.trueValue,e.trueLabel].includes(t)?e.trueValue??e.trueLabel??!0:e.falseValue??e.falseLabel??!1}function u(e,t){c(O_,l(e),t)}function d(e){if(n.value)return;let t=e.target;c(O_,l(t.checked),e)}async function f(o){n.value||!r.value&&!i.value&&a.value&&(o.composedPath().some(e=>e.tagName===`LABEL`)||(t.value=l([!1,e.falseValue,e.falseLabel].includes(t.value)),await Mn(),u(t.value,o)))}let p=Y(()=>o?.validateEvent||e.validateEvent);return B(()=>e.modelValue,()=>{p.value&&s?.validate(`change`).catch(e=>void 0)}),{handleChange:d,onClickRoot:f}},Gie=e=>{let t=L(!1),{emit:n}=Ga(),r=qn(tE,void 0),i=Y(()=>Bh(r)===!1),a=L(!1),o=Y({get(){return i.value?r?.modelValue?.value:e.modelValue??t.value},set(e){var s;i.value&&x(e)?(a.value=r?.max?.value!==void 0&&e.length>r?.max.value&&e.length>o.value.length,a.value===!1&&((s=r?.changeEvent)==null||s.call(r,e))):(n(D_,e),t.value=e)}});return{model:o,isGroup:i,isLimitExceeded:a}},Kie=(e,t,{model:n})=>{let r=qn(tE,void 0),i=L(!1),a=Y(()=>Gh(e.value)?e.label:e.value),o=Y(()=>{let t=n.value;return Vh(t)?t:x(t)?O(a.value)?t.map(Zt).some(e=>oh(e,a.value)):t.map(Zt).includes(a.value):t==null?!!t:t===e.trueValue||t===e.trueLabel});return{checkboxButtonSize:Ey(Y(()=>r?.size?.value),{prop:!0}),isChecked:o,isFocused:i,checkboxSize:Ey(Y(()=>r?.size?.value)),hasOwnLabel:Y(()=>!!t.default||!Gh(a.value)),actualValue:a}},nE=(e,t)=>{let{formItem:n}=Cy(),{model:r,isGroup:i,isLimitExceeded:a}=Gie(e),{isFocused:o,isChecked:s,checkboxButtonSize:c,checkboxSize:l,hasOwnLabel:u,actualValue:d}=Kie(e,t,{model:r}),{isDisabled:f}=Uie({model:r,isChecked:s}),{inputId:p,isLabeledByFormItem:m}=wy(e,{formItemContext:n,disableIdGeneration:u,disableIdManagement:i}),{handleChange:h,onClickRoot:g}=Wie(e,{model:r,isLimitExceeded:a,hasOwnLabel:u,isDisabled:f,isLabeledByFormItem:m});return(()=>{function t(){x(r.value)&&!r.value.includes(d.value)?r.value.push(d.value):r.value=e.trueValue??e.trueLabel??!0}e.checked&&t()})(),cw({from:`label act as value`,replacement:`value`,version:`3.0.0`,scope:`el-checkbox`,ref:`https://element-plus.org/en-US/component/checkbox.html`},Y(()=>i.value&&Gh(e.value))),cw({from:`true-label`,replacement:`true-value`,version:`3.0.0`,scope:`el-checkbox`,ref:`https://element-plus.org/en-US/component/checkbox.html`},Y(()=>!!e.trueLabel)),cw({from:`false-label`,replacement:`false-value`,version:`3.0.0`,scope:`el-checkbox`,ref:`https://element-plus.org/en-US/component/checkbox.html`},Y(()=>!!e.falseLabel)),{inputId:p,isLabeledByFormItem:m,isChecked:s,isDisabled:f,isFocused:o,checkboxButtonSize:c,checkboxSize:l,hasOwnLabel:u,model:r,actualValue:d,handleChange:h,onClickRoot:g}},qie=[`id`,`indeterminate`,`name`,`tabindex`,`disabled`],rE=b_(V({name:`ElCheckbox`,__name:`checkbox`,props:$T,emits:eE,setup(e){let t=e,{inputId:n,isLabeledByFormItem:r,isChecked:i,isDisabled:a,isFocused:o,checkboxSize:s,hasOwnLabel:c,model:l,actualValue:u,handleChange:d,onClickRoot:f}=nE(t,li()),p=Y(()=>t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":t.trueValue??t.trueLabel??!0,"false-value":t.falseValue??t.falseLabel??!1}:{value:u.value}),m=X(`checkbox`),h=Y(()=>[m.b(),m.m(s.value),m.is(`disabled`,a.value),m.is(`bordered`,t.border),m.is(`checked`,i.value)]),g=Y(()=>[m.e(`input`),m.is(`disabled`,a.value),m.is(`checked`,i.value),m.is(`indeterminate`,t.indeterminate),m.is(`focus`,o.value)]);return(e,t)=>(U(),G(Zr(!R(c)&&R(r)?`span`:`label`),{for:!R(c)&&R(r)?null:R(n),class:F(h.value),"aria-controls":e.indeterminate?e.ariaControls:null,"aria-checked":e.indeterminate?`mixed`:void 0,"aria-label":e.ariaLabel,onClick:R(f)},{default:z(()=>[K(`span`,{class:F(g.value)},[Wn(K(`input`,za({id:R(n),"onUpdate:modelValue":t[0]||=e=>tn(l)?l.value=e:null,class:R(m).e(`original`),type:`checkbox`,indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:R(a)},p.value,{onChange:t[1]||=(...e)=>R(d)&&R(d)(...e),onFocus:t[2]||=e=>o.value=!0,onBlur:t[3]||=e=>o.value=!1,onClick:t[4]||=Ms(()=>{},[`stop`])}),null,16,qie),[[Ts,R(l)]]),K(`span`,{class:F(R(m).e(`inner`))},null,2)],2),R(c)?(U(),W(`span`,{key:0,class:F(R(m).e(`label`))},[H(e.$slots,`default`),e.$slots.default?J(`v-if`,!0):(U(),W(va,{key:0},[Fa(I(e.label),1)],64))],2)):J(`v-if`,!0)]),_:3},8,[`for`,`class`,`aria-controls`,`aria-checked`,`aria-label`,`onClick`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue`]]),Jie=[`name`,`tabindex`,`disabled`],iE=b_(V({name:`ElCheckboxButton`,__name:`checkbox-button`,props:$T,emits:eE,setup(e){let t=e,{isFocused:n,isChecked:r,isDisabled:i,checkboxButtonSize:a,model:o,actualValue:s,handleChange:c}=nE(t,li()),l=Y(()=>t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":t.trueValue??t.trueLabel??!0,"false-value":t.falseValue??t.falseLabel??!1}:{value:s.value}),u=qn(tE,void 0),d=X(`checkbox`),f=Y(()=>{let e=u?.fill?.value??``;return{backgroundColor:e,borderColor:e,color:u?.textColor?.value??``,boxShadow:e?`-1px 0 0 0 ${e}`:void 0}}),p=Y(()=>[d.b(`button`),d.bm(`button`,a.value),d.is(`disabled`,i.value),d.is(`checked`,r.value),d.is(`focus`,n.value)]);return(e,t)=>(U(),W(`label`,{class:F(p.value)},[Wn(K(`input`,za({"onUpdate:modelValue":t[0]||=e=>tn(o)?o.value=e:null,class:R(d).be(`button`,`original`),type:`checkbox`,name:e.name,tabindex:e.tabindex,disabled:R(i)},l.value,{onChange:t[1]||=(...e)=>R(c)&&R(c)(...e),onFocus:t[2]||=e=>n.value=!0,onBlur:t[3]||=e=>n.value=!1,onClick:t[4]||=Ms(()=>{},[`stop`])}),null,16,Jie),[[Ts,R(o)]]),e.$slots.default||e.label?(U(),W(`span`,{key:0,class:F(R(d).be(`button`,`inner`)),style:he(R(r)?f.value:void 0)},[H(e.$slots,`default`,{},()=>[Fa(I(e.label),1)])],6)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue`]]),Yie=t_({modelValue:{type:Z(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:r_,fill:String,textColor:String,tag:{type:String,default:`div`},validateEvent:{type:Boolean,default:!0},options:{type:Z(Array)},props:{type:Z(Object),default:()=>aE},type:{type:String,values:[`checkbox`,`button`],default:`checkbox`},...dy([`ariaLabel`])}),Xie={[D_]:e=>x(e),change:e=>x(e)},aE={label:`label`,value:`value`,disabled:`disabled`},oE=b_(V({name:`ElCheckboxGroup`,__name:`checkbox-group`,props:Yie,emits:Xie,setup(e,{emit:t}){let n=e,r=t,i=X(`checkbox`),a=Dy(),{formItem:o}=Cy(),{inputId:s,isLabeledByFormItem:c}=wy(n,{formItemContext:o}),l=async e=>{r(D_,e),await Mn(),r(O_,e)},u=Y({get(){return n.modelValue},set(e){l(e)}}),d=Y(()=>({...aE,...n.props})),f=e=>{let{label:t,value:n,disabled:r}=d.value,i={label:e[t],value:e[n],disabled:e[r]};return{...Sh(e,[t,n,r]),...i}},p=Y(()=>n.type===`button`?iE:rE);return Kn(tE,{...kh(ln(n),[`size`,`min`,`max`,`validateEvent`,`fill`,`textColor`]),disabled:a,modelValue:u,changeEvent:l}),B(()=>n.modelValue,(e,t)=>{n.validateEvent&&!oh(e,t)&&o?.validate(`change`).catch(e=>void 0)}),(e,t)=>(U(),G(Zr(e.tag),{id:R(s),class:F(R(i).b(`group`)),role:`group`,"aria-label":R(c)?void 0:e.ariaLabel||`checkbox-group`,"aria-labelledby":R(c)?R(o)?.labelId:void 0},{default:z(()=>[H(e.$slots,`default`,{},()=>[(U(!0),W(va,null,ti(e.options,(e,t)=>(U(),G(Zr(p.value),za({key:t},{ref_for:!0},f(e)),null,16))),128))])]),_:3},8,[`id`,`class`,`aria-label`,`aria-labelledby`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue`]]),sE=S_(rE,{CheckboxButton:iE,CheckboxGroup:oE}),Zie=T_(iE),cE=T_(oE),lE=t_({modelValue:{type:[String,Number,Boolean],default:void 0},size:r_,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Qie=t_({...lE,border:Boolean}),uE={[D_]:e=>E(e)||Hh(e)||Vh(e),[O_]:e=>E(e)||Hh(e)||Vh(e)},dE=Symbol(`radioGroupKey`),fE=(e,t)=>{let n=L(),r=qn(dE,void 0),i=Y(()=>!!r),a=Y(()=>Gh(e.value)?e.label:e.value),o=Y({get(){return i.value?r.modelValue:e.modelValue},set(o){i.value?r.changeEvent(o):t&&t(`update:modelValue`,o),n.value.checked=e.modelValue===a.value}}),s=Ey(Y(()=>r?.size)),c=Dy(Y(()=>r?.disabled)),l=L(!1),u=Y(()=>c.value||i.value&&o.value!==a.value?-1:0);return cw({from:`label act as value`,replacement:`value`,version:`3.0.0`,scope:`el-radio`,ref:`https://element-plus.org/en-US/component/radio.html`},Y(()=>i.value&&Gh(e.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:l,size:s,disabled:c,tabIndex:u,modelValue:o,actualValue:a}},$ie=[`value`,`name`,`disabled`,`checked`],pE=b_(V({name:`ElRadio`,__name:`radio`,props:Qie,emits:uE,setup(e,{emit:t}){let n=e,r=t,i=X(`radio`),{radioRef:a,radioGroup:o,focus:s,size:c,disabled:l,modelValue:u,actualValue:d}=fE(n,r);function f(){Mn(()=>r(O_,u.value))}return(e,t)=>(U(),W(`label`,{class:F([R(i).b(),R(i).is(`disabled`,R(l)),R(i).is(`focus`,R(s)),R(i).is(`bordered`,e.border),R(i).is(`checked`,R(u)===R(d)),R(i).m(R(c))])},[K(`span`,{class:F([R(i).e(`input`),R(i).is(`disabled`,R(l)),R(i).is(`checked`,R(u)===R(d))])},[Wn(K(`input`,{ref_key:`radioRef`,ref:a,"onUpdate:modelValue":t[0]||=e=>tn(u)?u.value=e:null,class:F(R(i).e(`original`)),value:R(d),name:e.name||R(o)?.name,disabled:R(l),checked:R(u)===R(d),type:`radio`,onFocus:t[1]||=e=>s.value=!0,onBlur:t[2]||=e=>s.value=!1,onChange:f,onClick:t[3]||=Ms(()=>{},[`stop`])},null,42,$ie),[[Ds,R(u)]]),K(`span`,{class:F(R(i).e(`inner`))},null,2)],2),K(`span`,{class:F(R(i).e(`label`)),onKeydown:t[4]||=Ms(()=>{},[`stop`])},[H(e.$slots,`default`,{},()=>[Fa(I(e.label),1)])],34)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue`]]),eae=t_({...lE}),tae=[`value`,`name`,`disabled`],mE=b_(V({name:`ElRadioButton`,__name:`radio-button`,props:eae,setup(e){let t=e,n=X(`radio`),{radioRef:r,focus:i,size:a,disabled:o,modelValue:s,radioGroup:c,actualValue:l}=fE(t),u=Y(()=>({backgroundColor:c?.fill||``,borderColor:c?.fill||``,boxShadow:c?.fill?`-1px 0 0 0 ${c.fill}`:``,color:c?.textColor||``}));return(e,t)=>(U(),W(`label`,{class:F([R(n).b(`button`),R(n).is(`active`,R(s)===R(l)),R(n).is(`disabled`,R(o)),R(n).is(`focus`,R(i)),R(n).bm(`button`,R(a))])},[Wn(K(`input`,{ref_key:`radioRef`,ref:r,"onUpdate:modelValue":t[0]||=e=>tn(s)?s.value=e:null,class:F(R(n).be(`button`,`original-radio`)),value:R(l),type:`radio`,name:e.name||R(c)?.name,disabled:R(o),onFocus:t[1]||=e=>i.value=!0,onBlur:t[2]||=e=>i.value=!1,onClick:t[3]||=Ms(()=>{},[`stop`])},null,42,tae),[[Ds,R(s)]]),K(`span`,{class:F(R(n).be(`button`,`inner`)),style:he(R(s)===R(l)?u.value:{}),onKeydown:t[4]||=Ms(()=>{},[`stop`])},[H(e.$slots,`default`,{},()=>[Fa(I(e.label),1)])],38)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue`]]),nae=t_({id:{type:String,default:void 0},size:r_,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:``},textColor:{type:String,default:``},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:Z(Array)},props:{type:Z(Object),default:()=>hE},type:{type:String,values:[`radio`,`button`],default:`radio`},...dy([`ariaLabel`])}),rae=uE,hE={label:`label`,value:`value`,disabled:`disabled`},iae=[`id`,`aria-label`,`aria-labelledby`],gE=b_(V({name:`ElRadioGroup`,__name:`radio-group`,props:nae,emits:rae,setup(e,{emit:t}){let n=e,r=t,i=X(`radio`),a=by(),o=L(),{formItem:s}=Cy(),{inputId:c,isLabeledByFormItem:l}=wy(n,{formItemContext:s}),u=e=>{r(D_,e),Mn(()=>r(O_,e))};zr(()=>{let e=o.value.querySelectorAll(`[type=radio]`),t=e[0];!Array.from(e).some(e=>e.checked)&&t&&(t.tabIndex=0)});let d=Y(()=>n.name||a.value),f=Y(()=>({...hE,...n.props})),p=e=>{let{label:t,value:n,disabled:r}=f.value,i={label:e[t],value:e[n],disabled:e[r]};return{...Sh(e,[t,n,r]),...i}},m=Y(()=>n.type===`button`?mE:pE);return Kn(dE,Ut({...ln(n),changeEvent:u,name:d})),B(()=>n.modelValue,(e,t)=>{n.validateEvent&&!oh(e,t)&&s?.validate(`change`).catch(e=>void 0)}),(e,t)=>(U(),W(`div`,{id:R(c),ref_key:`radioGroupRef`,ref:o,class:F(R(i).b(`group`)),role:`radiogroup`,"aria-label":R(l)?void 0:e.ariaLabel||`radio-group`,"aria-labelledby":R(l)?R(s).labelId:void 0},[H(e.$slots,`default`,{},()=>[(U(!0),W(va,null,ti(e.options,(e,t)=>(U(),G(Zr(m.value),za({key:t},{ref_for:!0},p(e)),null,16))),128))])],10,iae))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue`]]),_E=S_(pE,{RadioButton:mE,RadioGroup:gE}),aae=T_(gE),oae=T_(mE),vE=Symbol();function sae(e){return!!(x(e)?e.every(({type:e})=>e===ba):e?.type===ba)}var cae=V({name:`NodeContent`,props:{node:{type:Object,required:!0}},setup(e){let t=X(`cascader-node`),{renderLabelFn:n}=qn(vE),{node:r}=e,{data:i,label:a}=r,o=()=>{let e=n?.({node:r,data:i});return sae(e)?a:e??a};return()=>q(`span`,{class:t.e(`label`)},[o()])}}),lae=[`id`,`aria-haspopup`,`aria-owns`,`aria-expanded`,`tabindex`],uae=b_(V({name:`ElCascaderNode`,__name:`node`,props:{node:{type:Object,required:!0},menuId:String},emits:[`expand`],setup(e,{emit:t}){let n=e,r=t,i=qn(vE),a=X(`cascader-node`),o=Y(()=>i.isHoverMenu),s=Y(()=>i.config.multiple),c=Y(()=>i.config.checkStrictly),l=Y(()=>i.config.showPrefix),u=Y(()=>i.checkedNodes[0]?.uid),d=Y(()=>n.node.isDisabled),f=Y(()=>n.node.isLeaf),p=Y(()=>c.value&&!f.value||!d.value),m=Y(()=>g(i.expandingNode)),h=Y(()=>c.value&&i.checkedNodes.some(g)),g=e=>{let{level:t,uid:r}=n.node;return e?.pathNodes[t-1]?.uid===r},_=()=>{m.value||i.expandNode(n.node)},v=e=>{let{node:t}=n;e!==t.checked&&i.handleCheckChange(t,e)},y=()=>{i.lazyLoad(n.node,()=>{f.value||_()})},b=e=>{o.value&&(x(),!f.value&&r(`expand`,e))},x=()=>{let{node:e}=n;!p.value||e.loading||(e.loaded?_():y())},S=()=>{f.value&&!d.value&&!c.value&&!s.value?w(!0):(i.config.checkOnClickNode&&(s.value||c.value)||f.value&&i.config.checkOnClickLeaf)&&!d.value?C(!n.node.checked):o.value||x()},C=e=>{c.value?(v(e),n.node.loaded&&_()):w(e)},w=e=>{n.node.loaded?(v(e),!c.value&&_()):y()};return(t,n)=>(U(),W(`li`,{id:`${e.menuId}-${e.node.uid}`,role:`menuitem`,"aria-haspopup":!f.value,"aria-owns":f.value?void 0:e.menuId,"aria-expanded":m.value,tabindex:p.value?-1:void 0,class:F([R(a).b(),R(a).is(`selectable`,c.value),R(a).is(`active`,e.node.checked),R(a).is(`disabled`,!p.value),m.value&&`in-active-path`,h.value&&`in-checked-path`]),onMouseenter:b,onFocus:b,onClick:S},[J(` prefix `),s.value&&l.value?(U(),G(R(sE),{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:d.value,onClick:n[0]||=Ms(()=>{},[`stop`]),"onUpdate:modelValue":C},null,8,[`model-value`,`indeterminate`,`disabled`])):c.value&&l.value?(U(),G(R(_E),{key:1,"model-value":u.value,label:e.node.uid,disabled:d.value,"onUpdate:modelValue":C,onClick:n[1]||=Ms(()=>{},[`stop`])},{default:z(()=>[J(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),n[2]||=K(`span`,null,null,-1)]),_:1},8,[`model-value`,`label`,`disabled`])):f.value&&e.node.checked?(U(),G(R(Q_),{key:2,class:F(R(a).e(`prefix`))},{default:z(()=>[q(R(sv))]),_:1},8,[`class`])):J(`v-if`,!0),J(` content `),q(R(cae),{node:e.node},null,8,[`node`]),J(` postfix `),f.value?J(`v-if`,!0):(U(),W(va,{key:3},[e.node.loading?(U(),G(R(Q_),{key:0,class:F([R(a).is(`loading`),R(a).e(`postfix`)])},{default:z(()=>[q(R(xv))]),_:1},8,[`class`])):(U(),G(R(Q_),{key:1,class:F([`arrow-right`,R(a).e(`postfix`)])},{default:z(()=>[q(R(tv))]),_:1},8,[`class`]))],64))],42,lae))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue`]]),dae=b_(V({name:`ElCascaderMenu`,__name:`menu`,props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){let t=e,n=Ga(),r=X(`cascader-menu`),{t:i}=Zg(),a=by(),o,s,c=qn(vE),l=L(),u=Y(()=>!t.nodes.length),d=Y(()=>!c.initialLoaded),f=Y(()=>`${a.value}-${t.index}`),p=e=>{o=e.target},m=e=>{if(!(!c.isHoverMenu||!o||!l.value))if(o.contains(e.target)){h();let t=n.vnode.el,{left:i}=t.getBoundingClientRect(),{offsetWidth:a,offsetHeight:s}=t,c=e.clientX-i,u=o.offsetTop,d=u+o.offsetHeight,f=t.querySelector(`.${r.e(`wrap`)}`)?.scrollTop||0;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${c} ${u} L${a} ${f} V${u} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${c} ${d} L${a} ${s+f} V${d} Z" />
        `}else s||=window.setTimeout(g,c.config.hoverThreshold)},h=()=>{s&&=(clearTimeout(s),void 0)},g=()=>{l.value&&(l.value.innerHTML=``,h())};return(t,n)=>(U(),G(R(tb),{key:f.value,tag:`ul`,role:`menu`,class:F(R(r).b()),"wrap-class":R(r).e(`wrap`),"view-class":[R(r).e(`list`),R(r).is(`empty`,u.value)],onMousemove:m,onMouseleave:g},{default:z(()=>[(U(!0),W(va,null,ti(e.nodes,e=>(U(),G(uae,{key:e.uid,node:e,"menu-id":f.value,onExpand:p},null,8,[`node`,`menu-id`]))),128)),d.value?(U(),W(`div`,{key:0,class:F(R(r).e(`empty-text`))},[q(R(Q_),{size:`14`,class:F(R(r).is(`loading`))},{default:z(()=>[q(R(xv))]),_:1},8,[`class`]),Fa(` `+I(R(i)(`el.cascader.loading`)),1)],2)):u.value?(U(),W(`div`,{key:1,class:F(R(r).e(`empty-text`))},[H(t.$slots,`empty`,{},()=>[Fa(I(R(i)(`el.cascader.noData`)),1)])],2)):R(c)?.isHoverMenu?(U(),W(va,{key:2},[J(` eslint-disable vue/html-self-closing `),(U(),W(`svg`,{ref_key:`hoverZone`,ref:l,class:F(R(r).e(`hover-zone`))},null,2))],2112)):J(`v-if`,!0),J(` eslint-enable vue/html-self-closing `)]),_:3},8,[`class`,`wrap-class`,`view-class`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue`]]),fae=0,pae=e=>{let t=[e],{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t},yE=class e{constructor(t,n,r,i=!1){this.data=t,this.config=n,this.parent=r,this.root=i,this.uid=fae++,this.checked=!1,this.indeterminate=!1,this.loading=!1;let{value:a,label:o,children:s}=n,c=t[s],l=pae(this);this.level=i?0:r?r.level+1:1,this.value=t[a],this.label=t[o],this.pathNodes=l,this.pathValues=l.map(e=>e.value),this.pathLabels=l.map(e=>e.label),this.childrenData=c,this.children=(c||[]).map(t=>new e(t,n,this)),this.loaded=!n.lazy||this.isLeaf||!Uh(c),this.text=``}get isDisabled(){let{data:e,parent:t,config:n}=this,{disabled:r,checkStrictly:i}=n;return(T(r)?r(e,this):!!e[r])||!i&&!!t?.isDisabled}get isLeaf(){let{data:e,config:t,childrenData:n,loaded:r}=this,{lazy:i,leaf:a}=t,o=T(a)?a(e,this):e[a];return Bh(o)?i&&!r?!1:!(x(n)&&n.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){let{childrenData:n,children:r}=this,i=new e(t,this.config,this);return x(n)?n.push(t):this.childrenData=[t],r.push(i),i}calcText(e,t){let n=e?this.pathLabels.join(t):this.label;return this.text=n,n}broadcast(e){this.children.forEach(t=>{var n;t&&(t.broadcast(e),(n=t.onParentCheck)==null||n.call(t,e))})}emit(){var e;let{parent:t}=this;t&&((e=t.onChildCheck)==null||e.call(t),t.emit())}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){let{children:e}=this,t=e.filter(e=>!e.isDisabled),n=t.length?t.every(e=>e.checked):!1;this.setCheckState(n)}setCheckState(e){let t=this.children.length,n=this.children.reduce((e,t)=>e+(t.checked?1:t.indeterminate?.5:0),0);this.checked=this.loaded&&this.children.filter(e=>!e.isDisabled).every(e=>e.loaded&&e.checked)&&e,this.indeterminate=this.loaded&&n!==t&&n>0}doCheck(e){if(this.checked===e)return;let{checkStrictly:t,multiple:n}=this.config;t||!n?this.checked=e:(this.broadcast(e),this.setCheckState(e),this.emit())}},bE=(e,t)=>e.reduce((e,n)=>(n.isLeaf?e.push(n):(!t&&e.push(n),e=e.concat(bE(n.children,t))),e),[]),xE=class{constructor(e,t){this.config=t;let n=(e||[]).map(e=>new yE(e,this.config));this.nodes=n,this.allNodes=bE(n,!1),this.leafNodes=bE(n,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){let n=t?t.appendChild(e):new yE(e,this.config);t||this.nodes.push(n),this.appendAllNodesAndLeafNodes(n)}appendNodes(e,t){e.length>0?e.forEach(e=>this.appendNode(e,t)):t&&t.isLeaf&&this.leafNodes.push(t)}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(e=>{this.appendAllNodesAndLeafNodes(e)})}getNodeByValue(e,t=!1){return Gh(e)?null:this.getFlattedNodes(t).find(t=>oh(t.value,e)||oh(t.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:t,level:n})=>oh(e.value,t)&&e.level===n)||null}},SE=t_({modelValue:{type:Z([Number,String,Array,Object])},options:{type:Z(Array),default:()=>[]},props:{type:Z(Object),default:()=>({})}}),mae={expandTrigger:`click`,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:p,value:`value`,label:`label`,children:`children`,leaf:`leaf`,disabled:`disabled`,hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},hae=t_({...SE,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),CE=e=>!0,gae={[D_]:CE,[O_]:CE,close:()=>!0,"expand-change":e=>e},_ae=e=>Y(()=>({...mae,...e.props})),wE=e=>{if(!e)return 0;let t=e.id.split(`-`);return Number(t[t.length-2])},vae=e=>{if(!e)return;let t=e.querySelector(`input`);t?t.click():Py(e)&&e.click()},yae=(e,t)=>{let n=t.slice(0),r=n.map(e=>e.uid),i=e.reduce((e,t)=>{let i=r.indexOf(t.uid);return i>-1&&(e.push(t),n.splice(i,1),r.splice(i,1)),e},[]);return i.push(...n),i},TE=S_(b_(V({name:`ElCascaderPanel`,__name:`index`,props:hae,emits:gae,setup(e,{expose:t,emit:n}){let r=e,i=n,a=!1,o=X(`cascader`),s=_ae(r),c=li(),l,u=L(!0),d=L(!1),f=L([]),p=L(),m=L([]),h=L(),g=L([]),_=Y(()=>s.value.expandTrigger===`hover`),v=Y(()=>r.renderLabel||c.default),y=()=>{let{options:e}=r,t=s.value;a=!1,l=new xE(e,t),m.value=[l.getNodes()],t.lazy&&Uh(r.options)?(u.value=!1,b(void 0,e=>{e&&(l=new xE(e,t),m.value=[l.getNodes()]),u.value=!0,O(!1,!0)})):O(!1,!0)},b=(e,t)=>{let n=s.value;e||=new yE({},n,void 0,!0),e.loading=!0,n.lazyLoad(e,n=>{let r=e,i=r.root?null:r;r.loading=!1,r.loaded=!0,r.childrenData=r.childrenData||[],n&&l?.appendNodes(n,i),n&&t?.(n),e.level===0&&(d.value=!0)},()=>{e.loading=!1,e.loaded=!1,e.level===0&&(u.value=!0)})},x=(e,t)=>{let{level:n}=e,r=m.value.slice(0,n),a;e.isLeaf?a=e.pathNodes[n-2]:(a=e,r.push(e.children)),h.value?.uid!==a?.uid&&(h.value=e,m.value=r,!t&&i(`expand-change`,e?.pathValues||[]))},S=(e,t,n=!0)=>{let{checkStrictly:r,multiple:o}=s.value,c=g.value[0];a=!0,!o&&c?.doCheck(!1),e.doCheck(t),D(),n&&!o&&!r&&i(`close`),!n&&!o&&C(e)},C=e=>{e&&(e=e.parent,C(e),e&&x(e))},w=e=>l?.getFlattedNodes(e),T=e=>w(e)?.filter(({checked:e})=>e!==!1),E=()=>{g.value.forEach(e=>e.doCheck(!1)),D(),m.value=m.value.slice(0,1),h.value=void 0,i(`expand-change`,[])},D=()=>{let{checkStrictly:e,multiple:t}=s.value,n=g.value,r=yae(n,T(!e)),i=r.map(e=>e.valueByOption);g.value=r,p.value=t?i:i[0]??null},O=(e=!1,t=!1)=>{let{modelValue:n}=r,{lazy:i,multiple:o,checkStrictly:c}=s.value,d=!c;if(!(!u.value||a||!t&&oh(n,p.value)))if(i&&!e){let e=EC(Ym(OC(n))).map(e=>l?.getNodeByValue(e)).filter(e=>!!e&&!e.loaded&&!e.loading);e.length?e.forEach(e=>{b(e,()=>O(!1,t))}):O(!0,t)}else k(EC((o?OC(n):[n]).map(e=>l?.getNodeByValue(e,d))),t),p.value=bm(n??void 0)},k=(e,t=!0)=>{let{checkStrictly:n}=s.value,r=g.value,i=e.filter(e=>!!e&&(n||e.isLeaf)),a=l?.getSameNode(h.value),o=t&&a||i[0];o?o.pathNodes.forEach(e=>x(e,!0)):h.value=void 0,r.forEach(e=>e.doCheck(!1)),Ut(i).forEach(e=>e.doCheck(!0)),g.value=i,Mn(A)},A=()=>{$h&&f.value.forEach(e=>{let t=e?.$el;if(t){let e=t.querySelector(`.${o.namespace.value}-scrollbar__wrap`),n=t.querySelector(`.${o.b(`node`)}.in-active-path`);if(!n){let e=t.querySelectorAll(`.${o.b(`node`)}.${o.is(`active`)}`);n=e[e.length-1]}K_(e,n)}})},j=e=>{let t=e.target,n=Gb(e);switch(n){case Q.up:case Q.down:e.preventDefault(),Ly(Fy(t,n===Q.up?-1:1,`.${o.b(`node`)}[tabindex="-1"]`));break;case Q.left:{e.preventDefault();let n=f.value[wE(t)-1];Ly(n?.$el.querySelector(`.${o.b(`node`)}[aria-expanded="true"]`));break}case Q.right:{e.preventDefault();let n=f.value[wE(t)+1];Ly(n?.$el.querySelector(`.${o.b(`node`)}[tabindex="-1"]`));break}case Q.enter:case Q.numpadEnter:vae(t);break}};return Kn(vE,Ut({config:s,expandingNode:h,checkedNodes:g,isHoverMenu:_,initialLoaded:u,renderLabelFn:v,lazyLoad:b,expandNode:x,handleCheckChange:S})),B(s,(e,t)=>{oh(e,t)||y()},{immediate:!0}),B(()=>r.options,y,{deep:!0}),B(()=>r.modelValue,()=>{a=!1,O()},{deep:!0}),B(()=>p.value,e=>{oh(e,r.modelValue)||(i(D_,e),i(O_,e))}),Br(()=>f.value=[]),zr(()=>!Uh(r.modelValue)&&O()),t({menuList:f,menus:m,checkedNodes:g,handleKeyDown:j,handleCheckChange:S,getFlattedNodes:w,getCheckedNodes:T,clearCheckedNodes:E,calculateCheckedValue:D,scrollToExpandingNode:A,loadLazyRootNodes:()=>{d.value||y()}}),(e,t)=>(U(),W(`div`,{class:F([R(o).b(`panel`),R(o).is(`bordered`,e.border)]),onKeydown:j},[(U(!0),W(va,null,ti(m.value,(t,n)=>(U(),G(dae,{key:n,ref_for:!0,ref:e=>f.value[n]=e,index:n,nodes:[...t]},{empty:z(()=>[H(e.$slots,`empty`)]),_:3},8,[`index`,`nodes`]))),128))],34))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue`]])),bae=t_({...SE,size:r_,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:Vv,default:dv},filterable:Boolean,filterMethod:{type:Z(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:` / `},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:Z(Function),default:()=>!0},placement:{type:Z(String),values:ux,default:`bottom-start`},fallbackPlacements:{type:Z(Array),default:[`bottom-start`,`bottom`,`top-start`,`top`,`right`,`left`]},popperClass:uC.popperClass,popperStyle:uC.popperStyle,teleported:uC.teleported,effect:{type:Z(String),default:`light`},tagType:{...TT.type,default:`info`},tagEffect:{...TT.effect,default:`light`},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:[`parent`,`child`],default:`child`},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...c_}),EE=e=>!0,xae={[D_]:EE,[O_]:EE,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>Vh(e),expandChange:e=>!!e,removeTag:e=>!!e},Sae=[`placeholder`],Cae=[`onClick`],wae=S_(b_(V({name:`ElCascader`,__name:`cascader`,props:bae,emits:xae,setup(e,{expose:t,emit:n}){let r={modifiers:[{name:`arrowPosition`,enabled:!0,phase:`main`,fn:({state:e})=>{let{modifiersData:t,placement:n}=e;[`right`,`left`,`bottom`,`top`].includes(n)||t.arrow&&(t.arrow.x=35)},requires:[`arrow`]}]},i=e,a=n,o=ui(),s=li(),c=0,l=0,u=X(`cascader`),d=X(`input`),f={small:7,default:11,large:15},{t:p}=Zg(),{formItem:m}=Cy(),h=Dy(),{valueOnClear:g}=l_(i),{isComposing:_,handleComposition:v}=By({afterComposition(e){Ve(e.target?.value)}}),y=L(),b=L(),x=L(),S=L(),C=L(),w=L(),T=L(!1),E=L(!1),D=L(!1),O=L(``),A=L(``),j=L([]),M=L([]),ee=Y(()=>i.props.multiple?i.collapseTags?j.value.slice(0,i.maxCollapseTags):j.value:[]),te=Y(()=>i.props.multiple&&i.collapseTags?j.value.slice(i.maxCollapseTags):[]),N=Y(()=>o.style),ne=Y(()=>i.placeholder??p(`el.cascader.placeholder`)),re=Y(()=>A.value||j.value.length>0||_.value?``:ne.value),ie=Ey(),P=Y(()=>ie.value===`small`?`small`:`default`),ae=Y(()=>!!i.props.multiple),oe=Y(()=>!i.filterable||ae.value),se=Y(()=>ae.value?A.value:O.value),ce=Y(()=>C.value?.checkedNodes||[]),{wrapperRef:le,isFocused:ue,handleBlur:de}=Ry(x,{disabled:h,beforeBlur(e){return y.value?.isFocusInsideContent(e)||b.value?.isFocusInsideContent(e)},afterBlur(){var e;i.validateEvent&&((e=m?.validate)==null||e.call(m,`blur`).catch(e=>void 0))}}),fe=Y(()=>!i.clearable||h.value||D.value||!E.value&&!ue.value?!1:!!ce.value.length),pe=Y(()=>{let{showAllLevels:e,separator:t}=i,n=ce.value;return n.length?ae.value?``:n[0].calcText(e,t):``}),me=Y(()=>m?.validateState||``),ge=Y({get(){return bm(i.modelValue)},set(e){let t=e??g.value;a(D_,t),a(O_,t),i.validateEvent&&m?.validate(`change`).catch(e=>void 0)}}),_e=Y(()=>[u.b(),u.m(ie.value),u.is(`disabled`,h.value),o.class]),ve=Y(()=>[d.e(`icon`),`icon-arrow-down`,u.is(`reverse`,T.value)]),ye=Y(()=>u.is(`focus`,ue.value)),be=Y(()=>y.value?.popperRef?.contentRef),xe=e=>{ue.value&&de(new FocusEvent(`blur`,e)),Se(!1)},Se=e=>{var t;h.value||(e??=!T.value,e!==T.value&&(T.value=e,(t=x.value?.input)==null||t.setAttribute(`aria-expanded`,`${e}`),e?(Ce(),C.value&&Mn(C.value.scrollToExpandingNode)):i.filterable&&Ie(),a(`visibleChange`,e)))},Ce=()=>{Mn(()=>{var e;(e=y.value)==null||e.updatePopper()})},we=()=>{D.value=!1},Te=e=>{let{showAllLevels:t,separator:n}=i;return{node:e,key:e.uid,text:e.calcText(t,n),hitState:!1,closable:!h.value&&!e.isDisabled}},Ee=e=>{var t;let n=e.node;n.doCheck(!1),(t=C.value)==null||t.calculateCheckedValue(),a(`removeTag`,n.valueByOption)},De=()=>{switch(i.showCheckedStrategy){case`child`:return ce.value;case`parent`:{let e=Me(!1),t=e.map(e=>e.value);return e.filter(e=>!e.parent||!t.includes(e.parent.value))}default:return[]}},Oe=()=>{if(!ae.value)return;let e=De(),t=[];e.forEach(e=>t.push(Te(e))),j.value=t},ke=()=>{let{filterMethod:e,showAllLevels:t,separator:n}=i,r=(C.value?.getFlattedNodes(!i.props.checkStrictly))?.filter(r=>r.isDisabled?!1:(r.calcText(t,n),e(r,se.value)));ae.value&&j.value.forEach(e=>{e.hitState=!1}),D.value=!0,M.value=r,Ce()},Ae=()=>{let e;e=D.value&&w.value?w.value.$el.querySelector(`.${u.e(`suggestion-item`)}`):C.value?.$el.querySelector(`.${u.b(`node`)}[tabindex="-1"]`),e&&(e.focus(),!D.value&&e.click())},je=()=>{let e=x.value?.input,t=S.value,n=w.value?.$el;if(!(!$h||!e)){if(n){let t=n.querySelector(`.${u.e(`suggestion-list`)}`);t.style.minWidth=`${e.offsetWidth}px`}if(t){let{offsetHeight:n}=t,r=j.value.length>0?`${Math.max(n,c)-2}px`:`${c}px`;if(e.style.height=r,s.prefix){let e=x.value?.$el.querySelector(`.${d.e(`prefix`)}`),n=0;e&&(n=e.offsetWidth,n>0&&(n+=f[ie.value||`default`])),t.style.left=`${n}px`}else t.style.left=`0`;Ce()}}},Me=e=>C.value?.getCheckedNodes(e),Ne=e=>{Ce(),a(`expandChange`,e)},Pe=e=>{if(!_.value)switch(Gb(e)){case Q.enter:case Q.numpadEnter:Se();break;case Q.down:Se(!0),Mn(Ae),e.preventDefault();break;case Q.esc:T.value===!0&&(e.preventDefault(),e.stopPropagation(),Se(!1));break;case Q.tab:Se(!1);break}},Fe=()=>{var e;(e=C.value)==null||e.clearCheckedNodes(),!T.value&&i.filterable&&Ie(),Se(!1),a(`clear`)},Ie=()=>{let{value:e}=pe;O.value=e,A.value=e},Le=e=>{var t,n;let{checked:r}=e;ae.value?(t=C.value)==null||t.handleCheckChange(e,!r,!1):(!r&&((n=C.value)==null||n.handleCheckChange(e,!0,!1)),Se(!1))},Re=e=>{let t=e.target,n=Gb(e);switch(n){case Q.up:case Q.down:e.preventDefault(),Ly(Fy(t,n===Q.up?-1:1,`.${u.e(`suggestion-item`)}[tabindex="-1"]`));break;case Q.enter:case Q.numpadEnter:t.click();break}},ze=()=>{let e=j.value[j.value.length-1];l=A.value?0:l+1,!(!e||!l||i.collapseTags&&j.value.length>1)&&(e.hitState?Ee(e):e.hitState=!0)},Be=fg(()=>{let{value:e}=se;if(!e)return;let t=i.beforeFilter(e);k(t)?t.then(ke).catch(()=>{}):t===!1?we():ke()},Y(()=>i.debounce)),Ve=(e,t)=>{!T.value&&Se(!0),!t?.isComposing&&(e?Be():we())},He=e=>Number.parseFloat(kg(d.cssVarName(`input-height`),e).value)-2;return B(D,Ce),B([ce,h,()=>i.collapseTags,()=>i.maxCollapseTags],Oe),B(j,()=>{Mn(()=>je())}),B(ie,async()=>{await Mn();let e=x.value.input;c=He(e)||c,je()}),B(pe,Ie,{immediate:!0}),B(()=>T.value,e=>{var t;e&&i.props.lazy&&i.props.lazyLoad&&((t=C.value)==null||t.loadLazyRootNodes())}),zr(()=>{let e=x.value.input,t=He(e);c=e.offsetHeight||t,jg(e,je)}),t({getCheckedNodes:Me,cascaderPanelRef:C,togglePopperVisible:Se,contentRef:be,presentText:pe,focus:()=>{var e;(e=x.value)==null||e.focus()},blur:()=>{var e;(e=x.value)==null||e.blur()}}),(e,t)=>(U(),G(R(MC),{ref_key:`tooltipRef`,ref:y,visible:T.value,teleported:e.teleported,"popper-class":[R(u).e(`dropdown`),e.popperClass],"popper-style":e.popperStyle,"popper-options":r,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:`${R(u).namespace.value}-zoom-in-top`,effect:e.effect,pure:``,persistent:e.persistent,onHide:we},{default:z(()=>[Wn((U(),W(`div`,{ref_key:`wrapperRef`,ref:le,class:F(_e.value),style:he(N.value),onClick:t[8]||=()=>Se(oe.value?void 0:!0),onKeydown:Pe,onMouseenter:t[9]||=e=>E.value=!0,onMouseleave:t[10]||=e=>E.value=!1},[q(R(Wy),{ref_key:`inputRef`,ref:x,modelValue:O.value,"onUpdate:modelValue":t[1]||=e=>O.value=e,placeholder:re.value,readonly:oe.value,disabled:R(h),"validate-event":!1,size:R(ie),class:F(ye.value),tabindex:ae.value&&e.filterable&&!R(h)?-1:void 0,onCompositionstart:R(v),onCompositionupdate:R(v),onCompositionend:R(v),onInput:Ve},ni({suffix:z(()=>[fe.value?(U(),G(R(Q_),{key:`clear`,class:F([R(d).e(`icon`),`icon-circle-close`]),onClick:Ms(Fe,[`stop`])},{default:z(()=>[(U(),G(Zr(e.clearIcon)))]),_:1},8,[`class`])):(U(),G(R(Q_),{key:`arrow-down`,class:F(ve.value),onClick:t[0]||=Ms(e=>Se(),[`stop`])},{default:z(()=>[q(R($_))]),_:1},8,[`class`]))]),_:2},[e.$slots.prefix?{name:`prefix`,fn:z(()=>[H(e.$slots,`prefix`)]),key:`0`}:void 0]),1032,[`modelValue`,`placeholder`,`readonly`,`disabled`,`size`,`class`,`tabindex`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`]),ae.value?(U(),W(`div`,{key:0,ref_key:`tagWrapper`,ref:S,class:F([R(u).e(`tags`),R(u).is(`validate`,!!me.value)])},[H(e.$slots,`tag`,{data:j.value,deleteTag:Ee},()=>[(U(!0),W(va,null,ti(ee.value,t=>(U(),G(R(ET),{key:t.key,type:e.tagType,size:P.value,effect:e.tagEffect,hit:t.hitState,closable:t.closable,"disable-transitions":``,onClose:e=>Ee(t)},{default:z(()=>[K(`span`,null,I(t.text),1)]),_:2},1032,[`type`,`size`,`effect`,`hit`,`closable`,`onClose`]))),128))]),e.collapseTags&&j.value.length>e.maxCollapseTags?(U(),G(R(MC),{key:0,ref_key:`tagTooltipRef`,ref:b,disabled:T.value||!e.collapseTagsTooltip,"fallback-placements":[`bottom`,`top`,`right`,`left`],placement:`bottom`,"popper-class":e.popperClass,"popper-style":e.popperStyle,effect:e.effect,persistent:e.persistent},{default:z(()=>[q(R(ET),{closable:!1,size:P.value,type:e.tagType,effect:e.tagEffect,"disable-transitions":``},{default:z(()=>[K(`span`,{class:F(R(u).e(`tags-text`))},` + `+I(j.value.length-e.maxCollapseTags),3)]),_:1},8,[`size`,`type`,`effect`])]),content:z(()=>[q(R(tb),{"max-height":e.maxCollapseTagsTooltipHeight},{default:z(()=>[K(`div`,{class:F(R(u).e(`collapse-tags`))},[(U(!0),W(va,null,ti(te.value,(t,n)=>(U(),W(`div`,{key:n,class:F(R(u).e(`collapse-tag`))},[(U(),G(R(ET),{key:t.key,class:`in-tooltip`,type:e.tagType,size:P.value,effect:e.tagEffect,hit:t.hitState,closable:t.closable,"disable-transitions":``,onClose:e=>Ee(t)},{default:z(()=>[K(`span`,null,I(t.text),1)]),_:2},1032,[`type`,`size`,`effect`,`hit`,`closable`,`onClose`]))],2))),128))],2)]),_:1},8,[`max-height`])]),_:1},8,[`disabled`,`popper-class`,`popper-style`,`effect`,`persistent`])):J(`v-if`,!0),e.filterable&&!R(h)?Wn((U(),W(`input`,{key:1,"onUpdate:modelValue":t[2]||=e=>A.value=e,type:`text`,class:F(R(u).e(`search-input`)),placeholder:pe.value?``:ne.value,onInput:t[3]||=e=>Ve(A.value,e),onClick:t[4]||=Ms(e=>Se(!0),[`stop`]),onKeydown:Ps(ze,[`delete`]),onCompositionstart:t[5]||=(...e)=>R(v)&&R(v)(...e),onCompositionupdate:t[6]||=(...e)=>R(v)&&R(v)(...e),onCompositionend:t[7]||=(...e)=>R(v)&&R(v)(...e)},null,42,Sae)),[[ws,A.value]]):J(`v-if`,!0)],2)):J(`v-if`,!0)],38)),[[R(zT),xe,be.value]])]),content:z(()=>[e.$slots.header?(U(),W(`div`,{key:0,class:F(R(u).e(`header`)),onClick:t[11]||=Ms(()=>{},[`stop`])},[H(e.$slots,`header`)],2)):J(`v-if`,!0),Wn(q(R(TE),{ref_key:`cascaderPanelRef`,ref:C,modelValue:ge.value,"onUpdate:modelValue":t[12]||=e=>ge.value=e,options:e.options,props:i.props,border:!1,"render-label":e.$slots.default,onExpandChange:Ne,onClose:t[13]||=t=>e.$nextTick(()=>Se(!1))},{empty:z(()=>[H(e.$slots,`empty`)]),_:3},8,[`modelValue`,`options`,`props`,`render-label`]),[[Lo,!D.value]]),e.filterable?Wn((U(),G(R(tb),{key:1,ref_key:`suggestionPanel`,ref:w,tag:`ul`,class:F(R(u).e(`suggestion-panel`)),"view-class":R(u).e(`suggestion-list`),onKeydown:Re},{default:z(()=>[M.value.length?(U(!0),W(va,{key:0},ti(M.value,t=>(U(),W(`li`,{key:t.uid,class:F([R(u).e(`suggestion-item`),R(u).is(`checked`,t.checked)]),tabindex:-1,onClick:e=>Le(t)},[H(e.$slots,`suggestion-item`,{item:t},()=>[K(`span`,null,I(t.text),1),t.checked?(U(),G(R(Q_),{key:0},{default:z(()=>[q(R(sv))]),_:1})):J(`v-if`,!0)])],10,Cae))),128)):H(e.$slots,`empty`,{key:1},()=>[K(`li`,{class:F(R(u).e(`empty-text`))},I(R(p)(`el.cascader.noMatch`)),3)])]),_:3},8,[`class`,`view-class`])),[[Lo,D.value]]):J(`v-if`,!0),e.$slots.footer?(U(),W(`div`,{key:2,class:F(R(u).e(`footer`)),onClick:t[14]||=Ms(()=>{},[`stop`])},[H(e.$slots,`footer`)],2)):J(`v-if`,!0)]),_:3},8,[`visible`,`teleported`,`popper-class`,`popper-style`,`fallback-placements`,`placement`,`transition`,`effect`,`persistent`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue`]])),Tae=S_(b_(V({name:`ElCheckTag`,__name:`check-tag`,props:t_({checked:Boolean,disabled:Boolean,type:{type:String,values:[`primary`,`success`,`info`,`warning`,`danger`],default:`primary`}}),emits:{"update:checked":e=>Vh(e),[O_]:e=>Vh(e)},setup(e,{emit:t}){let n=e,r=t,i=X(`check-tag`),a=Y(()=>[i.b(),i.is(`checked`,n.checked),i.is(`disabled`,n.disabled),i.m(n.type||`primary`)]),o=()=>{if(n.disabled)return;let e=!n.checked;r(O_,e),r(`update:checked`,e)};return(e,t)=>(U(),W(`span`,{class:F(a.value),onClick:o},[H(e.$slots,`default`)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue`]])),Eae=t_({tag:{type:String,default:`div`},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Z([Number,Object]),default:()=>ly({})},sm:{type:Z([Number,Object]),default:()=>ly({})},md:{type:Z([Number,Object]),default:()=>ly({})},lg:{type:Z([Number,Object]),default:()=>ly({})},xl:{type:Z([Number,Object]),default:()=>ly({})}}),DE=Symbol(`rowContextKey`),Dae=S_(b_(V({name:`ElCol`,__name:`col`,props:Eae,setup(e){let t=e,{gutter:n}=qn(DE,{gutter:Y(()=>0)}),r=X(`col`),i=Y(()=>{let e={};return n.value&&(e.paddingLeft=e.paddingRight=`${n.value/2}px`),e}),a=Y(()=>{let e=[];return[`span`,`offset`,`pull`,`push`].forEach(n=>{let i=t[n];Hh(i)&&(n===`span`?e.push(r.b(`${t[n]}`)):i>0&&e.push(r.b(`${n}-${t[n]}`)))}),[`xs`,`sm`,`md`,`lg`,`xl`].forEach(n=>{Hh(t[n])?e.push(r.b(`${n}-${t[n]}`)):O(t[n])&&Object.entries(t[n]).forEach(([t,i])=>{e.push(t===`span`?r.b(`${n}-${i}`):r.b(`${n}-${t}-${i}`))})}),n.value&&e.push(r.is(`guttered`)),[r.b(),e]});return(e,t)=>(U(),G(Zr(e.tag),{class:F(a.value),style:he(i.value)},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`class`,`style`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue`]])),OE=e=>Hh(e)||E(e)||x(e),Oae=t_({accordion:Boolean,modelValue:{type:Z([Array,String,Number]),default:()=>ly([])},expandIconPosition:{type:Z([String]),default:`right`},beforeCollapse:{type:Z(Function)}}),kae={[D_]:OE,[O_]:OE},kE=Symbol(`collapseContextKey`),Aae=`ElCollapse`,jae=(e,t)=>{let n=L(tp(e.modelValue)),r=r=>{n.value=r;let i=e.accordion?n.value[0]:n.value;t(D_,i),t(O_,i)},i=t=>{if(e.accordion)r([n.value[0]===t?``:t]);else{let e=[...n.value],i=e.indexOf(t);i>-1?e.splice(i,1):e.push(t),r(e)}};return B(()=>e.modelValue,()=>n.value=tp(e.modelValue),{deep:!0}),Kn(kE,{activeNames:n,handleItemClick:async t=>{let{beforeCollapse:n}=e;if(!n){i(t);return}let r=n(t);[k(r),Vh(r)].includes(!0)||zg(Aae,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),k(r)?r.then(e=>{e!==!1&&i(t)}).catch(e=>{`${e}`}):r&&i(t)}}),{activeNames:n,setActiveNames:r}},Mae=e=>{let t=X(`collapse`);return{rootKls:Y(()=>[t.b(),t.b(`icon-position-${e.expandIconPosition}`)])}},Nae=b_(V({name:`ElCollapse`,__name:`collapse`,props:Oae,emits:kae,setup(e,{expose:t,emit:n}){let r=e,{activeNames:i,setActiveNames:a}=jae(r,n),{rootKls:o}=Mae(r);return t({activeNames:i,setActiveNames:a}),(e,t)=>(U(),W(`div`,{class:F(R(o))},[H(e.$slots,`default`)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue`]]),AE=S_(b_(V({name:`ElCollapseTransition`,__name:`collapse-transition`,setup(e){let t=X(`collapse-transition`),n=e=>{e.style.maxHeight=``,e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},r={beforeEnter(e){e.dataset||={},e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight===0?e.style.maxHeight=0:e.style.maxHeight=`${e.scrollHeight}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow=`hidden`})},afterEnter(e){e.style.maxHeight=``,e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){n(e)},beforeLeave(e){e.dataset||={},e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow=`hidden`},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){n(e)},leaveCancelled(e){n(e)}};return(e,n)=>(U(),G(yo,za({name:R(t).b()},ii(r)),{default:z(()=>[H(e.$slots,`default`)]),_:3},16,[`name`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue`]])),Pae=t_({title:{type:String,default:``},name:{type:Z([String,Number]),default:void 0},icon:{type:Vv,default:tv},disabled:Boolean}),Fae=e=>{let t=qn(kE),{namespace:n}=X(`collapse`),r=L(!1),i=L(!1),a=yy(),o=Y(()=>a.current++),s=Y(()=>e.name??`${n.value}-id-${a.prefix}-${R(o)}`);return{focusing:r,id:o,isActive:Y(()=>t?.activeNames.value.includes(R(s))),handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:n=>{e.disabled||n.target?.closest(`input, textarea, select`)||(t?.handleItemClick(R(s)),r.value=!1,i.value=!0)},handleEnterClick:e=>{e.target?.closest(`input, textarea, select`)||(e.preventDefault(),t?.handleItemClick(R(s)))}}},Iae=(e,{focusing:t,isActive:n,id:r})=>{let i=X(`collapse`),a=Y(()=>[i.b(`item`),i.is(`active`,R(n)),i.is(`disabled`,e.disabled)]),o=Y(()=>[i.be(`item`,`header`),i.is(`active`,R(n)),{focusing:R(t)&&!e.disabled}]),s=Y(()=>[i.be(`item`,`arrow`),i.is(`active`,R(n))]);return{itemTitleKls:Y(()=>[i.be(`item`,`title`)]),arrowKls:s,headKls:o,rootKls:a,itemWrapperKls:Y(()=>i.be(`item`,`wrap`)),itemContentKls:Y(()=>i.be(`item`,`content`)),scopedContentId:Y(()=>i.b(`content-${R(r)}`)),scopedHeadId:Y(()=>i.b(`head-${R(r)}`))}},Lae=[`id`,`aria-expanded`,`aria-controls`,`aria-describedby`,`tabindex`,`aria-disabled`],Rae=[`id`,`aria-hidden`,`aria-labelledby`],jE=b_(V({name:`ElCollapseItem`,__name:`collapse-item`,props:Pae,setup(e,{expose:t}){let n=e,{focusing:r,id:i,isActive:a,handleFocus:o,handleHeaderClick:s,handleEnterClick:c}=Fae(n),{arrowKls:l,headKls:u,rootKls:d,itemTitleKls:f,itemWrapperKls:p,itemContentKls:m,scopedContentId:h,scopedHeadId:g}=Iae(n,{focusing:r,isActive:a,id:i});return t({isActive:a}),(e,t)=>(U(),W(`div`,{class:F(R(d))},[K(`div`,{id:R(g),class:F(R(u)),"aria-expanded":R(a),"aria-controls":R(h),"aria-describedby":R(h),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,role:`button`,onClick:t[0]||=(...e)=>R(s)&&R(s)(...e),onKeydown:t[1]||=Ps(Ms((...e)=>R(c)&&R(c)(...e),[`stop`]),[`space`,`enter`]),onFocus:t[2]||=(...e)=>R(o)&&R(o)(...e),onBlur:t[3]||=e=>r.value=!1},[K(`span`,{class:F(R(f))},[H(e.$slots,`title`,{isActive:R(a)},()=>[Fa(I(e.title),1)])],2),H(e.$slots,`icon`,{isActive:R(a)},()=>[q(R(Q_),{class:F(R(l))},{default:z(()=>[(U(),G(Zr(e.icon)))]),_:1},8,[`class`])])],42,Lae),q(R(AE),null,{default:z(()=>[Wn(K(`div`,{id:R(h),role:`region`,class:F(R(p)),"aria-hidden":!R(a),"aria-labelledby":R(g)},[K(`div`,{class:F(R(m))},[H(e.$slots,`default`)],2)],10,Rae),[[Lo,R(a)]])]),_:3})],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue`]]),zae=S_(Nae,{CollapseItem:jE}),Bae=T_(jE),ME=t_({color:{type:Z(Object),required:!0},vertical:Boolean,disabled:Boolean}),Vae=ME,NE=!1;function PE(e,t){if(!$h)return;let n=function(e){var n;(n=t.drag)==null||n.call(t,e)},r=function(e){var i;document.removeEventListener(`mousemove`,n),document.removeEventListener(`mouseup`,r),document.removeEventListener(`touchmove`,n),document.removeEventListener(`touchend`,r),document.onselectstart=null,document.ondragstart=null,NE=!1,(i=t.end)==null||i.call(t,e)},i=function(e){var i;NE||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener(`mousemove`,n),document.addEventListener(`mouseup`,r),document.addEventListener(`touchmove`,n),document.addEventListener(`touchend`,r),NE=!0,(i=t.start)==null||i.call(t,e))};e.addEventListener(`mousedown`,i),e.addEventListener(`touchstart`,i,{passive:!1})}var FE=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},IE=(e,t)=>Math.abs(FE(e)-FE(t)),LE=e=>{let t,n;return e.type===`touchend`?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith(`touch`)?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},RE=(e,{key:t,minValue:n,maxValue:r})=>{let i=Ga(),a=nn(),o=nn(),s=Y(()=>e.color.get(t));function c(t){var n;e.disabled||(t.target!==a.value&&l(t),(n=a.value)==null||n.focus())}function l(n){if(!o.value||!a.value||e.disabled)return;let s=i.vnode.el.getBoundingClientRect(),{clientX:c,clientY:l}=LE(n),u;if(e.vertical){let e=l-s.top;e=Math.max(a.value.offsetHeight/2,e),e=Math.min(e,s.height-a.value.offsetHeight/2),u=Math.round((e-a.value.offsetHeight/2)/(s.height-a.value.offsetHeight)*r)}else{let e=c-s.left;e=Math.max(a.value.offsetWidth/2,e),e=Math.min(e,s.width-a.value.offsetWidth/2),u=Math.round((e-a.value.offsetWidth/2)/(s.width-a.value.offsetWidth)*r)}e.color.set(t,u)}function u(i){if(e.disabled)return;let{shiftKey:a}=i,o=Gb(i),s=a?10:1,c=t===`hue`?-1:1,l=!0;switch(o){case Q.left:case Q.down:d(-s*c);break;case Q.right:case Q.up:d(s*c);break;case Q.home:e.color.set(t,t===`hue`?r:n);break;case Q.end:e.color.set(t,t===`hue`?n:r);break;case Q.pageDown:d(-4*c);break;case Q.pageUp:d(4*c);break;default:l=!1;break}l&&i.preventDefault()}function d(i){let a=s.value+i;a=a<n?n:a>r?r:a,e.color.set(t,a)}return{thumb:a,bar:o,currentValue:s,handleDrag:l,handleClick:c,handleKeydown:u}},zE=(e,{namespace:t,maxValue:n,bar:r,thumb:i,currentValue:a,handleDrag:o,getBackground:s})=>{let c=Ga(),l=X(t),u=L(0),d=L(0),f=L();function p(){if(!i.value||e.vertical)return 0;let t=c.vnode.el,r=a.value;return t?Math.round(r*(t.offsetWidth-i.value.offsetWidth/2)/n):0}function m(){if(!i.value)return 0;let t=c.vnode.el;if(!e.vertical)return 0;let r=a.value;return t?Math.round(r*(t.offsetHeight-i.value.offsetHeight/2)/n):0}function h(){u.value=p(),d.value=m(),f.value=s?.()}zr(()=>{if(!r.value||!i.value)return;let e={drag:e=>{o(e)},end:e=>{o(e)}};PE(r.value,e),PE(i.value,e),h()}),B(a,()=>h()),B(()=>e.color.value,()=>h());let g=Y(()=>[l.b(),l.is(`vertical`,e.vertical),l.is(`disabled`,e.disabled)]),_=Y(()=>l.e(`bar`)),v=Y(()=>l.e(`thumb`));return{rootKls:g,barKls:_,barStyle:Y(()=>({background:f.value})),thumbKls:v,thumbStyle:Y(()=>({left:V_(u.value),top:V_(d.value)})),thumbLeft:u,thumbTop:d,update:h}},Hae=[`aria-label`,`aria-valuenow`,`aria-valuetext`,`aria-orientation`,`tabindex`,`aria-disabled`],BE=0,VE=100,Uae=b_(V({name:`ElColorAlphaSlider`,__name:`alpha-slider`,props:ME,setup(e,{expose:t}){let n=e,{currentValue:r,bar:i,thumb:a,handleDrag:o,handleClick:s,handleKeydown:c}=RE(n,{key:`alpha`,minValue:BE,maxValue:VE}),{rootKls:l,barKls:u,barStyle:d,thumbKls:f,thumbStyle:p,update:m}=zE(n,{namespace:`color-alpha-slider`,maxValue:VE,currentValue:r,bar:i,thumb:a,handleDrag:o,getBackground:v}),{t:h}=Zg(),g=Y(()=>h(`el.colorpicker.alphaLabel`)),_=Y(()=>h(`el.colorpicker.alphaDescription`,{alpha:r.value,color:n.color.value}));function v(){if(n.color&&n.color.value){let{r:e,g:t,b:r}=n.color.toRgb();return`linear-gradient(to right, rgba(${e}, ${t}, ${r}, 0) 0%, rgba(${e}, ${t}, ${r}, 1) 100%)`}return``}return t({update:m,bar:i,thumb:a}),(e,t)=>(U(),W(`div`,{class:F(R(l))},[K(`div`,{ref_key:`bar`,ref:i,class:F(R(u)),style:he(R(d)),onClick:t[0]||=(...e)=>R(s)&&R(s)(...e)},null,6),K(`div`,{ref_key:`thumb`,ref:a,class:F(R(f)),style:he(R(p)),"aria-label":g.value,"aria-valuenow":R(r),"aria-valuetext":_.value,"aria-orientation":e.vertical?`vertical`:`horizontal`,"aria-valuemin":BE,"aria-valuemax":VE,role:`slider`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:t[1]||=(...e)=>R(c)&&R(c)(...e)},null,46,Hae)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/alpha-slider.vue`]]),Wae=[`aria-label`,`aria-valuenow`,`aria-valuetext`,`aria-orientation`,`tabindex`,`aria-disabled`],HE=0,UE=360,Gae=b_(V({name:`ElColorHueSlider`,__name:`hue-slider`,props:Vae,setup(e,{expose:t}){let n=e,{currentValue:r,bar:i,thumb:a,handleDrag:o,handleClick:s,handleKeydown:c}=RE(n,{key:`hue`,minValue:HE,maxValue:UE}),{rootKls:l,barKls:u,thumbKls:d,thumbStyle:f,thumbTop:p,update:m}=zE(n,{namespace:`color-hue-slider`,maxValue:UE,currentValue:r,bar:i,thumb:a,handleDrag:o}),{t:h}=Zg(),g=Y(()=>h(`el.colorpicker.hueLabel`)),_=Y(()=>h(`el.colorpicker.hueDescription`,{hue:r.value,color:n.color.value}));return t({bar:i,thumb:a,thumbTop:p,update:m}),(e,t)=>(U(),W(`div`,{class:F(R(l))},[K(`div`,{ref_key:`bar`,ref:i,class:F(R(u)),onClick:t[0]||=(...e)=>R(s)&&R(s)(...e)},null,2),K(`div`,{ref_key:`thumb`,ref:a,class:F(R(d)),style:he(R(f)),"aria-label":g.value,"aria-valuenow":R(r),"aria-valuetext":_.value,"aria-orientation":e.vertical?`vertical`:`horizontal`,"aria-valuemin":HE,"aria-valuemax":UE,role:`slider`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:t[1]||=(...e)=>R(c)&&R(c)(...e)},null,46,Wae)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/hue-slider.vue`]]),Kae=t_({colors:{type:Z(Array),required:!0},color:{type:Z(Object),required:!0},enableAlpha:{type:Boolean,required:!0},disabled:Boolean}),WE=t_({modelValue:{type:Z(String),default:void 0},border:{type:Boolean,default:!0},showAlpha:Boolean,colorFormat:String,disabled:Boolean,predefine:{type:Z(Array)},validateEvent:{type:Boolean,default:!0}}),qae={[D_]:e=>E(e)||ch(e)},GE=Symbol(`colorCommonPickerKey`),KE=Symbol(`colorPickerPanelContextKey`),qE=class{constructor(e={}){for(let t in this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this._tiny=new Bw,this._isValid=!1,this.enableAlpha=!1,this.format=``,this.value=``,e)b(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(arguments.length===1&&typeof e==`object`){for(let t in e)b(e,t)&&this.set(t,e[t]);return}this[`_${e}`]=t,this._isValid=!0,this.doOnChange()}get(e){return[`hue`,`saturation`,`value`,`alpha`].includes(e)?Math.round(this[`_${e}`]):this[`_${e}`]}toRgb(){return this._isValid?this._tiny.toRgb():{r:255,g:255,b:255,a:0}}fromString(e){let t=new Bw(e);if(this._isValid=t.isValid,t.isValid){let{h:e,s:n,v:r,a:i}=t.toHsv();this._hue=e,this._saturation=n*100,this._value=r*100,this._alpha=i*100}else this._hue=0,this._saturation=100,this._value=100,this._alpha=100;this.doOnChange()}clear(){this._isValid=!1,this.value=``,this._hue=0,this._saturation=100,this._value=100,this._alpha=100}compare(e){let t=new Bw({h:e._hue,s:e._saturation/100,v:e._value/100,a:e._alpha/100});return this._tiny.equals(t)}doOnChange(){let{_hue:e,_saturation:t,_value:n,_alpha:r,format:i,enableAlpha:a}=this,o=i||(a?`rgb`:`hex`);i===`hex`&&a&&(o=`hex8`),this._tiny=new Bw({h:e,s:t/100,v:n/100,a:r/100}),this.value=this._isValid?this._tiny.toString(o):``}},Jae=e=>{let{currentColor:t}=qn(KE),n=L(i(e.colors,e.color));B(()=>t.value,t=>{let r=new qE({value:t,enableAlpha:e.enableAlpha});n.value.forEach(e=>{e.selected=r.compare(e)})}),Xn(()=>{n.value=i(e.colors,e.color)});function r(t){e.color.fromString(e.colors[t])}function i(t,n){return t.map(t=>{let r=new qE({value:t,enableAlpha:e.enableAlpha});return r.selected=r.compare(n),r})}return{rgbaColors:n,handleSelect:r}},Yae=e=>{let t=X(`color-predefine`),n=Y(()=>[t.b(),t.is(`disabled`,e.disabled)]),r=Y(()=>t.e(`colors`));function i(e){return[t.e(`color-selector`),t.is(`alpha`,e.get(`alpha`)<100),{selected:e.selected}]}return{rootKls:n,colorsKls:r,colorSelectorKls:i}},Xae=[`disabled`,`aria-label`,`onClick`],Zae=b_(V({name:`ElColorPredefine`,__name:`predefine`,props:Kae,setup(e){let t=e,{rgbaColors:n,handleSelect:r}=Jae(t),{rootKls:i,colorsKls:a,colorSelectorKls:o}=Yae(t),{t:s}=Zg(),c=e=>s(`el.colorpicker.predefineDescription`,{value:e});return(e,t)=>(U(),W(`div`,{class:F(R(i))},[K(`div`,{class:F(R(a))},[(U(!0),W(va,null,ti(R(n),(t,n)=>(U(),W(`button`,{key:e.colors[n],type:`button`,disabled:e.disabled,"aria-label":c(t.value),class:F(R(o)(t)),onClick:e=>R(r)(n)},[K(`div`,{style:he({backgroundColor:t.value})},null,4)],10,Xae))),128))],2)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/predefine.vue`]]),Qae=t_({color:{type:Z(Object),required:!0},disabled:Boolean}),$ae=e=>{let t=Ga(),n=L(),r=L(0),i=L(0),a=L(`hsl(0, 100%, 50%)`),o=Y(()=>e.color.get(`saturation`)),s=Y(()=>e.color.get(`value`)),c=Y(()=>e.color.get(`hue`));function l(t){var r;e.disabled||(t.target!==n.value&&u(t),(r=n.value)==null||r.focus({preventScroll:!0}))}function u(n){if(e.disabled)return;let a=t.vnode.el.getBoundingClientRect(),{clientX:o,clientY:s}=LE(n),c=o-a.left,l=s-a.top;c=Math.max(0,c),c=Math.min(c,a.width),l=Math.max(0,l),l=Math.min(l,a.height),i.value=c,r.value=l,e.color.set({saturation:c/a.width*100,value:100-l/a.height*100})}function d(t){if(e.disabled)return;let{shiftKey:n}=t,r=Gb(t),i=n?10:1,a=!0;switch(r){case Q.left:f(-i);break;case Q.right:f(i);break;case Q.up:p(i);break;case Q.down:p(-i);break;default:a=!1;break}a&&t.preventDefault()}function f(t){let n=o.value+t;n=n<0?0:n>100?100:n,e.color.set(`saturation`,n)}function p(t){let n=s.value+t;n=n<0?0:n>100?100:n,e.color.set(`value`,n)}return{cursorRef:n,cursorTop:r,cursorLeft:i,background:a,saturation:o,brightness:s,hue:c,handleClick:l,handleDrag:u,handleKeydown:d}},eoe=(e,{cursorTop:t,cursorLeft:n,background:r,handleDrag:i})=>{let a=Ga(),o=X(`color-svpanel`);function s(){let i=e.color.get(`saturation`),o=e.color.get(`value`),{clientWidth:s,clientHeight:c}=a.vnode.el;n.value=i*s/100,t.value=(100-o)*c/100,r.value=`hsl(${e.color.get(`hue`)}, 100%, 50%)`}return zr(()=>{PE(a.vnode.el,{drag:e=>{i(e)},end:e=>{i(e)}}),s()}),B([()=>e.color.get(`hue`),()=>e.color.get(`value`),()=>e.color.value],()=>s()),{rootKls:Y(()=>o.b()),cursorKls:Y(()=>o.e(`cursor`)),rootStyle:Y(()=>({backgroundColor:r.value})),cursorStyle:Y(()=>({top:V_(t.value),left:V_(n.value)})),update:s}},toe=[`tabindex`,`aria-disabled`,`aria-label`,`aria-valuenow`,`aria-valuetext`],noe=b_(V({name:`ElSvPanel`,__name:`sv-panel`,props:Qae,setup(e,{expose:t}){let n=e,{cursorRef:r,cursorTop:i,cursorLeft:a,background:o,saturation:s,brightness:c,handleClick:l,handleDrag:u,handleKeydown:d}=$ae(n),{rootKls:f,cursorKls:p,rootStyle:m,cursorStyle:h,update:g}=eoe(n,{cursorTop:i,cursorLeft:a,background:o,handleDrag:u}),{t:_}=Zg(),v=Y(()=>_(`el.colorpicker.svLabel`)),y=Y(()=>_(`el.colorpicker.svDescription`,{saturation:s.value,brightness:c.value,color:n.color.value}));return t({update:g}),(e,t)=>(U(),W(`div`,{class:F(R(f)),style:he(R(m)),onClick:t[1]||=(...e)=>R(l)&&R(l)(...e)},[K(`div`,{ref_key:`cursorRef`,ref:r,class:F(R(p)),style:he(R(h)),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,role:`slider`,"aria-valuemin":`0,0`,"aria-valuemax":`100,100`,"aria-label":v.value,"aria-valuenow":`${R(s)},${R(c)}`,"aria-valuetext":y.value,onKeydown:t[0]||=(...e)=>R(d)&&R(d)(...e)},null,46,toe)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/components/sv-panel.vue`]]),JE=(e,t)=>{let n=Ut(new qE({enableAlpha:e.showAlpha,format:e.colorFormat||``,value:e.modelValue}));return B(()=>[e.colorFormat,e.showAlpha],()=>{n.enableAlpha=e.showAlpha,n.format=e.colorFormat||n.format,n.doOnChange(),t(D_,n.value)}),{color:n}},YE=S_(b_(V({name:`ElColorPickerPanel`,__name:`color-picker-panel`,props:WE,emits:qae,setup(e,{expose:t,emit:n}){let r=e,i=n,a=X(`color-picker-panel`),{formItem:o}=Cy(),s=Dy(),c=L(),l=L(),u=L(),d=L(),f=L(``),{color:p}=qn(GE,()=>JE(r,i),!0);function m(){p.fromString(f.value),p.value!==f.value&&(f.value=p.value)}function h(){var e;r.validateEvent&&((e=o?.validate)==null||e.call(o,`blur`).catch(e=>void 0))}function g(){var e,t,n;(e=c.value)==null||e.update(),(t=l.value)==null||t.update(),(n=u.value)==null||n.update()}return zr(()=>{r.modelValue&&(f.value=p.value),Mn(g)}),B(()=>r.modelValue,e=>{e!==p.value&&(e?p.fromString(e):p.clear())}),B(()=>p.value,e=>{i(D_,e),f.value=e,r.validateEvent&&o?.validate(`change`).catch(e=>void 0)}),Kn(KE,{currentColor:Y(()=>p.value)}),t({color:p,inputRef:d,update:g}),(e,t)=>(U(),W(`div`,{class:F([R(a).b(),R(a).is(`disabled`,R(s)),R(a).is(`border`,e.border)]),onFocusout:h},[K(`div`,{class:F(R(a).e(`wrapper`))},[q(Gae,{ref_key:`hueRef`,ref:c,class:`hue-slider`,color:R(p),vertical:``,disabled:R(s)},null,8,[`color`,`disabled`]),q(noe,{ref_key:`svRef`,ref:l,color:R(p),disabled:R(s)},null,8,[`color`,`disabled`])],2),e.showAlpha?(U(),G(Uae,{key:0,ref_key:`alphaRef`,ref:u,color:R(p),disabled:R(s)},null,8,[`color`,`disabled`])):J(`v-if`,!0),e.predefine?(U(),G(Zae,{key:1,ref:`predefine`,"enable-alpha":e.showAlpha,color:R(p),colors:e.predefine,disabled:R(s)},null,8,[`enable-alpha`,`color`,`colors`,`disabled`])):J(`v-if`,!0),K(`div`,{class:F(R(a).e(`footer`))},[q(R(Wy),{ref_key:`inputRef`,ref:d,modelValue:f.value,"onUpdate:modelValue":t[0]||=e=>f.value=e,"validate-event":!1,size:`small`,disabled:R(s),onChange:m},null,8,[`modelValue`,`disabled`]),H(e.$slots,`footer`)],2)],34))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/color-picker-panel/src/color-picker-panel.vue`]])),roe=t_({persistent:{type:Boolean,default:!0},modelValue:{type:Z(String),default:void 0},id:String,showAlpha:Boolean,colorFormat:String,disabled:{type:Boolean,default:void 0},clearable:{type:Boolean,default:!0},size:r_,popperClass:uC.popperClass,popperStyle:uC.popperStyle,tabindex:{type:[String,Number],default:0},teleported:uC.teleported,appendTo:uC.appendTo,predefine:{type:Z(Array)},validateEvent:{type:Boolean,default:!0},...c_,...dy([`ariaLabel`])}),ioe={[D_]:e=>E(e)||ch(e),[O_]:e=>E(e)||ch(e),activeChange:e=>E(e)||ch(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},aoe=[`id`,`aria-label`,`aria-labelledby`,`aria-description`,`aria-disabled`,`tabindex`],ooe=S_(b_(V({name:`ElColorPicker`,__name:`color-picker`,props:roe,emits:ioe,setup(e,{expose:t,emit:n}){let r=e,i=n,{t:a}=Zg(),o=X(`color`),{formItem:s}=Cy(),c=Ey(),l=Dy(),{valueOnClear:u,isEmptyValue:d}=l_(r,null),f=JE(r,i),{inputId:p,isLabeledByFormItem:m}=wy(r,{formItemContext:s}),h=L(),g=L(),_=L(),v=L(!1),y=L(!1),b=!0,{isFocused:x,handleFocus:S,handleBlur:C}=Ry(g,{disabled:l,beforeBlur(e){return h.value?.isFocusInsideContent(e)},afterBlur(){var e;M(!1),ne(),r.validateEvent&&((e=s?.validate)==null||e.call(s,`blur`).catch(e=>void 0))}}),w=Qh(()=>_.value?.color??f.color),T=Y(()=>kh(r,Object.keys(WE))),E=Y(()=>!r.modelValue&&!y.value?`transparent`:j(w,r.showAlpha)),D=Y(()=>!r.modelValue&&!y.value?``:w.value),O=Y(()=>m.value?void 0:r.ariaLabel||a(`el.colorpicker.defaultLabel`)),k=Y(()=>m.value?s?.labelId:void 0),A=Y(()=>[o.b(`picker`),o.is(`disabled`,l.value),o.bm(`picker`,c.value),o.is(`focused`,x.value)]);function j(e,t){let{r:n,g:r,b:i,a}=e.toRgb();return t?`rgba(${n}, ${r}, ${i}, ${a})`:`rgb(${n}, ${r}, ${i})`}function M(e){v.value=e}let ee=Vm(M,100,{leading:!0});function te(){l.value||M(!0)}function N(){ee(!1),ne()}function ne(){Mn(()=>{r.modelValue?w.fromString(r.modelValue):(w.value=``,Mn(()=>{y.value=!1}))})}function re(){l.value||(v.value&&ne(),ee(!v.value))}function ie(){let e=d(w.value)?u.value:w.value;i(D_,e),i(O_,e),r.validateEvent&&s?.validate(`change`).catch(e=>void 0),ee(!1),Mn(()=>{let e=new qE({enableAlpha:r.showAlpha,format:r.colorFormat||``,value:r.modelValue});w.compare(e)||ne()})}function P(){ee(!1),i(D_,u.value),i(O_,u.value),r.modelValue!==u.value&&r.validateEvent&&s?.validate(`change`).catch(e=>void 0),ne(),i(`clear`)}function ae(){var e;(e=_?.value?.inputRef)==null||e.focus()}function oe(){v.value&&(N(),x.value&&le())}function se(e){e.preventDefault(),e.stopPropagation(),M(!1),ne()}function ce(e){switch(Gb(e)){case Q.enter:case Q.numpadEnter:case Q.space:e.preventDefault(),e.stopPropagation(),te();break;case Q.esc:se(e);break}}function le(){g.value.focus()}function ue(){g.value.blur()}return B(()=>D.value,e=>{b&&i(`activeChange`,e),b=!0}),B(()=>w.value,()=>{!r.modelValue&&!y.value&&(y.value=!0)}),B(()=>r.modelValue,e=>{e?e&&e!==w.value&&(b=!1,w.fromString(e)):y.value=!1}),B(()=>v.value,()=>{_.value&&Mn(_.value.update)}),Kn(GE,f),t({color:w,show:te,hide:N,focus:le,blur:ue}),(e,t)=>(U(),G(R(MC),{ref_key:`popper`,ref:h,visible:v.value,"show-arrow":!1,"fallback-placements":[`bottom`,`top`,`right`,`left`],offset:0,"gpu-acceleration":!1,"popper-class":[R(o).be(`picker`,`panel`),e.popperClass],"popper-style":e.popperStyle,"stop-popper-mouse-event":!1,pure:``,loop:``,role:`dialog`,effect:`light`,trigger:`click`,teleported:e.teleported,transition:`${R(o).namespace.value}-zoom-in-top`,persistent:e.persistent,"append-to":e.appendTo,onShow:ae,onHide:t[2]||=e=>M(!1)},{content:z(()=>[Wn((U(),G(R(YE),za({ref_key:`pickerPanelRef`,ref:_},T.value,{border:!1,"validate-event":!1,onKeydown:Ps(se,[`esc`])}),{footer:z(()=>[K(`div`,null,[e.clearable?(U(),G(R(Gw),{key:0,class:F(R(o).be(`footer`,`link-btn`)),text:``,size:`small`,onClick:P},{default:z(()=>[Fa(I(R(a)(`el.colorpicker.clear`)),1)]),_:1},8,[`class`])):J(`v-if`,!0),q(R(Gw),{plain:``,size:`small`,class:F(R(o).be(`footer`,`btn`)),onClick:ie},{default:z(()=>[Fa(I(R(a)(`el.colorpicker.confirm`)),1)]),_:1},8,[`class`])])]),_:1},16)),[[R(zT),oe,g.value]])]),default:z(()=>[K(`div`,za({id:R(p),ref_key:`triggerRef`,ref:g},e.$attrs,{class:A.value,role:`button`,"aria-label":O.value,"aria-labelledby":k.value,"aria-description":R(a)(`el.colorpicker.description`,{color:e.modelValue||``}),"aria-disabled":R(l),tabindex:R(l)?void 0:e.tabindex,onKeydown:ce,onFocus:t[0]||=(...e)=>R(S)&&R(S)(...e),onBlur:t[1]||=(...e)=>R(C)&&R(C)(...e)}),[K(`div`,{class:F(R(o).be(`picker`,`trigger`)),onClick:re},[K(`span`,{class:F([R(o).be(`picker`,`color`),R(o).is(`alpha`,e.showAlpha)])},[K(`span`,{class:F(R(o).be(`picker`,`color-inner`)),style:he({backgroundColor:E.value})},[Wn(q(R(Q_),{class:F([R(o).be(`picker`,`icon`),R(o).is(`icon-arrow-down`)])},{default:z(()=>[q(R($_))]),_:1},8,[`class`]),[[Lo,e.modelValue||y.value]]),Wn(q(R(Q_),{class:F([R(o).be(`picker`,`empty`),R(o).is(`icon-close`)])},{default:z(()=>[q(R(pv))]),_:1},8,[`class`]),[[Lo,!e.modelValue&&!y.value]])],6)],2)],2)],16,aoe)]),_:1},8,[`visible`,`popper-class`,`popper-style`,`teleported`,`transition`,`persistent`,`append-to`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue`]])),soe=t_({a11y:{type:Boolean,default:!0},locale:{type:Z(Object)},size:r_,button:{type:Z(Object)},card:{type:Z(Object)},dialog:{type:Z(Object)},link:{type:Z(Object)},experimentalFeatures:{type:Z(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Z(Object)},zIndex:Number,namespace:{type:String,default:`el`},...c_}),XE={placement:`top`},coe=S_(V({name:`ElConfigProvider`,props:soe,setup(e,{slots:t}){let n=g_(e);return B(()=>e.message,e=>{Object.assign(XE,n?.value?.message??{},e??{})},{immediate:!0,deep:!0}),()=>H(t,`default`,{config:n?.value})}})),loe=b_(V({name:`ElContainer`,__name:`container`,props:t_({direction:{type:String,values:[`horizontal`,`vertical`]}}),setup(e){let t=e,n=li(),r=X(`container`),i=Y(()=>t.direction===`vertical`?!0:t.direction===`horizontal`?!1:n&&n.default?n.default().some(e=>{let t=e.type.name;return t===`ElHeader`||t===`ElFooter`}):!1);return(e,t)=>(U(),W(`section`,{class:F([R(r).b(),R(r).is(`vertical`,i.value)])},[H(e.$slots,`default`)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue`]]),ZE=b_(V({name:`ElAside`,__name:`aside`,props:{width:{type:String,default:null}},setup(e){let t=e,n=X(`aside`),r=Y(()=>t.width?n.cssVarBlock({width:t.width}):{});return(e,t)=>(U(),W(`aside`,{class:F(R(n).b()),style:he(r.value)},[H(e.$slots,`default`)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue`]]),QE=b_(V({name:`ElFooter`,__name:`footer`,props:{height:{type:String,default:null}},setup(e){let t=e,n=X(`footer`),r=Y(()=>t.height?n.cssVarBlock({height:t.height}):{});return(e,t)=>(U(),W(`footer`,{class:F(R(n).b()),style:he(r.value)},[H(e.$slots,`default`)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue`]]),$E=b_(V({name:`ElHeader`,__name:`header`,props:{height:{type:String,default:null}},setup(e){let t=e,n=X(`header`),r=Y(()=>t.height?n.cssVarBlock({height:t.height}):{});return(e,t)=>(U(),W(`header`,{class:F(R(n).b()),style:he(r.value)},[H(e.$slots,`default`)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue`]]),eD=b_(V({name:`ElMain`,__name:`main`,setup(e){let t=X(`main`);return(e,n)=>(U(),W(`main`,{class:F(R(t).b())},[H(e.$slots,`default`)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue`]]),uoe=S_(loe,{Aside:ZE,Footer:QE,Header:$E,Main:eD}),doe=T_(ZE),foe=T_(QE),poe=T_($E),moe=T_(eD),tD=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_customParseFormat=r()})(e,(function(){var e={LTS:`h:mm:ss A`,LT:`h:mm A`,L:`MM/DD/YYYY`,LL:`MMMM D, YYYY`,LLL:`MMMM D, YYYY h:mm A`,LLLL:`dddd, MMMM D, YYYY h:mm A`},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},s=function(e){return(e=+e)+(e>68?1900:2e3)},c=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||={}).offset=function(e){if(!e||e===`Z`)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return n===0?0:t[0]===`+`?-n:n}(e)}],u=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?`pm`:`PM`);return n},f={A:[a,function(e){this.afternoon=d(e,!1)}],a:[a,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*e}],SS:[r,function(e){this.milliseconds=10*e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,c(`seconds`)],ss:[i,c(`seconds`)],m:[i,c(`minutes`)],mm:[i,c(`minutes`)],H:[i,c(`hours`)],h:[i,c(`hours`)],HH:[i,c(`hours`)],hh:[i,c(`hours`)],D:[i,c(`day`)],DD:[r,c(`day`)],Do:[a,function(e){var t=o.ordinal;if(this.day=e.match(/\d+/)[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,``)===e&&(this.day=n)}],w:[i,c(`week`)],ww:[r,c(`week`)],M:[i,c(`month`)],MM:[r,c(`month`)],MMM:[a,function(e){var t=u(`months`),n=(u(`monthsShort`)||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw Error();this.month=n%12||n}],MMMM:[a,function(e){var t=u(`months`).indexOf(e)+1;if(t<1)throw Error();this.month=t%12||t}],Y:[/[+-]?\d+/,c(`year`)],YY:[r,function(e){this.year=s(e)}],YYYY:[/\d{4}/,c(`year`)],Z:l,ZZ:l};function p(n){for(var r=n,i=o&&o.formats,a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var a=r&&r.toUpperCase();return n||i[r]||e[r]||i[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=a.length,c=0;c<s;c+=1){var l=a[c],u=f[l],d=u&&u[0],p=u&&u[1];a[c]=p?{regex:d,parser:p}:l.replace(/^\[|\]$/g,``)}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var i=a[n];if(typeof i==`string`)r+=i.length;else{var o=i.regex,c=i.parser,l=e.slice(r),u=o.exec(l)[0];c.call(t,u),e=e.replace(u,``)}}return function(e){var t=e.afternoon;if(t!==void 0){var n=e.hours;t?n<12&&(e.hours+=12):n===12&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var s=a[1];if(typeof s==`string`){var c=!0===a[2],l=!0===a[3],u=c||l,d=a[2];l&&(d=a[2]),o=this.$locale(),!c&&d&&(o=n.Ls[d]),this.$d=function(e,t,n,r){try{if([`x`,`X`].indexOf(t)>-1)return new Date((t===`X`?1e3:1)*e);var i=p(t)(e),a=i.year,o=i.month,s=i.day,c=i.hours,l=i.minutes,u=i.seconds,d=i.milliseconds,f=i.zone,m=i.week,h=new Date,g=s||(a||o?1:h.getDate()),_=a||h.getFullYear(),v=0;a&&!o||(v=o>0?o-1:h.getMonth());var y,b=c||0,x=l||0,S=u||0,C=d||0;return f?new Date(Date.UTC(_,v,g,b,x,S,C+60*f.offset*1e3)):n?new Date(Date.UTC(_,v,g,b,x,S,C)):(y=new Date(_,v,g,b,x,S,C),m&&(y=r(y).week(m).toDate()),y)}catch{return new Date(``)}}(t,s,r,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(s)&&(this.$d=new Date(``)),o={}}else if(s instanceof Array)for(var f=s.length,m=1;m<=f;m+=1){a[1]=s[m-1];var h=n.apply(this,a);if(h.isValid()){this.$d=h.$d,this.$L=h.$L,this.init();break}m===f&&(this.$d=new Date(``))}else i.call(this,e)}}}))})),nD=[`hours`,`minutes`,`seconds`],rD=`EP_PICKER_BASE`,iD=`ElPopperOptions`,aD=Symbol(`commonPickerContextKey`),oD=`HH:mm:ss`,sD=`YYYY-MM-DD`,hoe={date:sD,dates:sD,week:`gggg[w]ww`,year:`YYYY`,years:`YYYY`,month:`YYYY-MM`,months:`YYYY-MM`,datetime:`${sD} ${oD}`,monthrange:`YYYY-MM`,yearrange:`YYYY`,daterange:sD,datetimerange:`${sD} ${oD}`},cD=(e,t)=>{let{lang:n}=Zg(),r=L(!1),i=L(!1),a=L(null),o=Y(()=>{let{modelValue:t}=e;return!t||x(t)&&!t.filter(Boolean).length}),s=r=>{if(!eT(e.modelValue,r)){let i;x(r)?i=r.map(t=>nT(t,e.valueFormat,n.value)):r&&(i=nT(r,e.valueFormat,n.value)),t(D_,r&&i,n.value)}},c=Y(()=>{let t;if(o.value?l.value.getDefaultValue&&(t=l.value.getDefaultValue()):t=x(e.modelValue)?e.modelValue.map(t=>tT(t,e.valueFormat,n.value)):tT(e.modelValue??``,e.valueFormat,n.value),l.value.getRangeAvailableTime){let e=l.value.getRangeAvailableTime(t);oh(e,t)||(t=e,o.value||s(iT(t)))}return x(t)&&t.some(e=>!e)&&(t=[]),t}),l=L({});return{parsedValue:c,pickerActualVisible:i,pickerOptions:l,pickerVisible:r,userInput:a,valueIsEmpty:o,emitInput:s,onCalendarChange:e=>{t(`calendar-change`,e)},onPanelChange:(e,n,r)=>{t(`panel-change`,e,n,r)},onPick:(e=``,t=!1)=>{r.value=t;let n;n=x(e)?e.map(e=>e.toDate()):e&&e.toDate(),a.value=null,s(n)},onSetPickerOption:e=>{l.value[e[0]]=e[1],l.value.panelReady=!0}}},lD=t_({disabledHours:{type:Z(Function)},disabledMinutes:{type:Z(Function)},disabledSeconds:{type:Z(Function)}}),uD=t_({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:``}}),dD=t_({automaticDropdown:{type:Boolean,default:!0},id:{type:Z([Array,String])},name:{type:Z([Array,String])},popperClass:uC.popperClass,popperStyle:uC.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:``},clearable:{type:Boolean,default:!0},clearIcon:{type:Z([String,Object]),default:dv},editable:{type:Boolean,default:!0},prefixIcon:{type:Z([String,Object]),default:``},size:r_,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:``},popperOptions:{type:Z(Object),default:()=>({})},modelValue:{type:Z([Date,Array,String,Number]),default:``},rangeSeparator:{type:String,default:`-`},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Z([Date,Array])},defaultTime:{type:Z([Date,Array])},isRange:Boolean,...lD,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Z([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Z(String),values:ux,default:`bottom`},fallbackPlacements:{type:Z(Array),default:[`bottom`,`top`,`right`,`left`]},...c_,...dy([`ariaLabel`]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),goe=t_({id:{type:Z(Array)},name:{type:Z(Array)},modelValue:{type:Z([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),_oe=[`id`,`name`,`placeholder`,`value`,`disabled`],voe=[`id`,`name`,`placeholder`,`value`,`disabled`],yoe=b_(V({name:`PickerRangeTrigger`,inheritAttrs:!1,__name:`picker-range-trigger`,props:goe,emits:[`mouseenter`,`mouseleave`,`click`,`touchstart`,`focus`,`blur`,`startInput`,`endInput`,`startChange`,`endChange`],setup(e,{expose:t,emit:n}){let r=e,i=n,{formItem:a}=Cy(),{inputId:o}=wy(Ut({id:Y(()=>r.id?.[0])}),{formItemContext:a}),s=gy(),c=X(`date`),l=X(`range`),u=L(),d=L(),{wrapperRef:f,isFocused:p}=Ry(u,{disabled:Y(()=>r.disabled)}),m=e=>{i(`click`,e)},h=e=>{i(`mouseenter`,e)},g=e=>{i(`mouseleave`,e)},_=e=>{i(`touchstart`,e)},v=e=>{i(`startInput`,e)},y=e=>{i(`endInput`,e)},b=e=>{i(`startChange`,e)},x=e=>{i(`endChange`,e)};return t({focus:()=>{var e;(e=u.value)==null||e.focus()},blur:()=>{var e,t;(e=u.value)==null||e.blur(),(t=d.value)==null||t.blur()}}),(e,t)=>(U(),W(`div`,{ref_key:`wrapperRef`,ref:f,class:F([R(c).is(`active`,R(p)),e.$attrs.class]),style:he(e.$attrs.style),onClick:m,onMouseenter:h,onMouseleave:g,onTouchstartPassive:_},[H(e.$slots,`prefix`),K(`input`,za(R(s),{id:R(o),ref_key:`inputRef`,ref:u,name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:e.modelValue&&e.modelValue[0],class:R(l).b(`input`),disabled:e.disabled,onInput:v,onChange:b}),null,16,_oe),H(e.$slots,`range-separator`),K(`input`,za(R(s),{id:e.id&&e.id[1],ref_key:`endInputRef`,ref:d,name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:e.modelValue&&e.modelValue[1],class:R(l).b(`input`),disabled:e.disabled,onInput:y,onChange:x}),null,16,voe),H(e.$slots,`suffix`)],38))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker-range-trigger.vue`]]),fD=b_(V({name:`Picker`,__name:`picker`,props:dD,emits:[D_,O_,`focus`,`blur`,`clear`,`calendar-change`,`panel-change`,`visible-change`,`keydown`],setup(e,{expose:t,emit:n}){let r=e,i=n,a=ui(),o=X(`date`),s=X(`input`),c=X(`range`),{formItem:l}=Cy(),u=qn(iD,{}),d=l_(r,null),f=L(),m=L(),h=L(null),g=!1,_=Dy(),v=cD(r,i),{parsedValue:y,pickerActualVisible:b,userInput:S,pickerVisible:C,pickerOptions:w,valueIsEmpty:T,emitInput:E,onPick:D,onSetPickerOption:O,onCalendarChange:k,onPanelChange:A}=v,{isFocused:j,handleFocus:M,handleBlur:ee}=Ry(m,{disabled:_,beforeFocus(){return r.readonly},afterFocus(){r.automaticDropdown&&(C.value=!0)},beforeBlur(e){return!g&&f.value?.isFocusInsideContent(e)},afterBlur(){ke(),C.value=!1,g=!1,r.validateEvent&&l?.validate(`blur`).catch(e=>void 0)}}),te=L(!1),N=Y(()=>[o.b(`editor`),o.bm(`editor`,r.type),s.e(`wrapper`),o.is(`disabled`,_.value),o.is(`active`,C.value),c.b(`editor`),Ee?c.bm(`editor`,Ee.value):``,a.class]),ne=Y(()=>[s.e(`icon`),c.e(`close-icon`),ye.value?``:c.em(`close-icon`,`hidden`)]);B(C,e=>{e?Mn(()=>{e&&(h.value=r.modelValue)}):(S.value=null,Mn(()=>{re(r.modelValue)}))});let re=(e,t)=>{(t||!eT(e,h.value))&&(i(O_,e),t&&(h.value=e),r.validateEvent&&l?.validate(`change`).catch(e=>void 0))},ie=e=>{i(`keydown`,e)},P=Y(()=>m.value?Array.from(m.value.$el.querySelectorAll(`input`)):[]),ae=(e,t,n)=>{let r=P.value;r.length&&(!n||n===`min`?(r[0].setSelectionRange(e,t),r[0].focus()):n===`max`&&(r[1].setSelectionRange(e,t),r[1].focus()))},oe=()=>{b.value=!0},se=()=>{i(`visible-change`,!0)},ce=()=>{b.value=!1,C.value=!1,i(`visible-change`,!1)},le=()=>{C.value=!0},ue=()=>{C.value=!1},de=Y(()=>{let e=je(y.value);return x(S.value)?[S.value[0]||e&&e[0]||``,S.value[1]||e&&e[1]||``]:S.value===null?!pe.value&&T.value||!C.value&&T.value?``:e?me.value||ge.value||_e.value?e.join(`, `):e:``:S.value}),fe=Y(()=>r.type.includes(`time`)),pe=Y(()=>r.type.startsWith(`time`)),me=Y(()=>r.type===`dates`),ge=Y(()=>r.type===`months`),_e=Y(()=>r.type===`years`),ve=Y(()=>r.prefixIcon||(fe.value?fv:iv)),ye=Y(()=>r.clearable&&!_.value&&!r.readonly&&!T.value&&(te.value||j.value)),be=e=>{r.readonly||_.value||(ye.value&&(e?.stopPropagation(),w.value.handleClear?w.value.handleClear():E(d.valueOnClear.value),re(d.valueOnClear.value,!0),ce()),i(`clear`))},xe=async e=>{r.readonly||_.value||(e.target?.tagName!==`INPUT`||j.value||!r.automaticDropdown)&&(C.value=!0)},Se=()=>{r.readonly||_.value||!T.value&&r.clearable&&(te.value=!0)},Ce=()=>{te.value=!1},we=e=>{r.readonly||_.value||(e.touches[0].target?.tagName!==`INPUT`||j.value||!r.automaticDropdown)&&(C.value=!0)},Te=Y(()=>r.type.includes(`range`)),Ee=Ey(),De=Y(()=>R(f)?.popperRef?.contentRef),Oe=Sg(m,e=>{let t=R(De),n=_g(m);t&&(e.target===t||e.composedPath().includes(t))||e.target===n||n&&e.composedPath().includes(n)||(C.value=!1)});Hr(()=>{Oe?.()});let ke=()=>{if(S.value){let e=Ae(de.value);e&&(Me(e)&&E(iT(e)),S.value=null)}S.value===``&&(E(d.valueOnClear.value),re(d.valueOnClear.value,!0),S.value=null)},Ae=e=>e?w.value.parseUserInput(e):null,je=e=>e?x(e)?e.map(e=>e.format(r.format)):e.format(r.format):null,Me=e=>w.value.isValidValue(e),Ne=async e=>{if(r.readonly||_.value)return;let t=Gb(e);if(ie(e),t===Q.esc){C.value===!0&&(C.value=!1,e.preventDefault(),e.stopPropagation());return}if(t===Q.down&&(w.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),C.value===!1&&(C.value=!0,await Mn()),w.value.handleFocusPicker)){w.value.handleFocusPicker();return}if(t===Q.tab){g=!0;return}if(t===Q.enter||t===Q.numpadEnter){C.value?(S.value===null||S.value===``||Me(Ae(de.value)))&&(ke(),C.value=!1):C.value=!0,e.preventDefault(),e.stopPropagation();return}if(S.value){e.stopPropagation();return}w.value.handleKeydownInput&&w.value.handleKeydownInput(e)},Pe=e=>{S.value=e,C.value||=!0},Fe=e=>{let t=e.target;S.value?S.value=[t.value,S.value[1]]:S.value=[t.value,null]},Ie=e=>{let t=e.target;S.value?S.value=[S.value[0],t.value]:S.value=[null,t.value]},Le=()=>{let e=S.value,t=Ae(e&&e[0]),n=R(y);if(t&&t.isValid()){S.value=[je(t),de.value?.[1]||null];let e=[t,n&&(n[1]||null)];Me(e)&&(E(iT(e)),S.value=null)}},Re=()=>{let e=R(S),t=Ae(e&&e[1]),n=R(y);if(t&&t.isValid()){S.value=[R(de)?.[0]||null,je(t)];let e=[n&&n[0],t];Me(e)&&(E(iT(e)),S.value=null)}};return Kn(rD,{props:r,emptyValues:d}),Kn(aD,v),t({focus:()=>{var e;(e=m.value)==null||e.focus()},blur:()=>{var e;(e=m.value)==null||e.blur()},handleOpen:le,handleClose:ue,onPick:D}),(e,t)=>(U(),G(R(MC),za({ref_key:`refPopper`,ref:f,visible:R(C),effect:`light`,pure:``,trigger:`click`},e.$attrs,{role:`dialog`,teleported:``,transition:`${R(o).namespace.value}-zoom-in-top`,"popper-class":[`${R(o).namespace.value}-picker__popper`,e.popperClass],"popper-style":e.popperStyle,"popper-options":R(u),"fallback-placements":e.fallbackPlacements,"gpu-acceleration":!1,placement:e.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:``,onBeforeShow:oe,onShow:se,onHide:ce}),{default:z(()=>[Te.value?(U(),G(yoe,{key:1,id:e.id,ref_key:`inputRef`,ref:m,"model-value":de.value,name:e.name,disabled:R(_),readonly:!e.editable||e.readonly,"start-placeholder":e.startPlaceholder,"end-placeholder":e.endPlaceholder,class:F(N.value),style:he(e.$attrs.style),"aria-label":e.ariaLabel,tabindex:e.tabindex,autocomplete:`off`,role:`combobox`,onClick:xe,onFocus:R(M),onBlur:R(ee),onStartInput:Fe,onStartChange:Le,onEndInput:Ie,onEndChange:Re,onMousedown:xe,onMouseenter:Se,onMouseleave:Ce,onTouchstartPassive:we,onKeydown:Ne},{prefix:z(()=>[ve.value?(U(),G(R(Q_),{key:0,class:F([R(s).e(`icon`),R(c).e(`icon`)])},{default:z(()=>[(U(),G(Zr(ve.value)))]),_:1},8,[`class`])):J(`v-if`,!0)]),"range-separator":z(()=>[H(e.$slots,`range-separator`,{},()=>[K(`span`,{class:F(R(c).b(`separator`))},I(e.rangeSeparator),3)])]),suffix:z(()=>[e.clearIcon?(U(),G(R(Q_),{key:0,class:F(ne.value),onMousedown:Ms(R(p),[`prevent`]),onClick:be},{default:z(()=>[(U(),G(Zr(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`])):J(`v-if`,!0)]),_:3},8,[`id`,`model-value`,`name`,`disabled`,`readonly`,`start-placeholder`,`end-placeholder`,`class`,`style`,`aria-label`,`tabindex`,`onFocus`,`onBlur`])):(U(),G(R(Wy),{key:0,id:e.id,ref_key:`inputRef`,ref:m,"container-role":`combobox`,"model-value":de.value,name:e.name,size:R(Ee),disabled:R(_),placeholder:e.placeholder,class:F([R(o).b(`editor`),R(o).bm(`editor`,e.type),R(o).is(`focus`,R(C)),e.$attrs.class]),style:he(e.$attrs.style),readonly:!e.editable||e.readonly||me.value||ge.value||_e.value||e.type===`week`,"aria-label":e.ariaLabel,tabindex:e.tabindex,"validate-event":!1,onInput:Pe,onFocus:R(M),onBlur:R(ee),onKeydown:Ne,onChange:ke,onMousedown:xe,onMouseenter:Se,onMouseleave:Ce,onTouchstartPassive:we,onClick:t[0]||=Ms(()=>{},[`stop`])},{prefix:z(()=>[ve.value?(U(),G(R(Q_),{key:0,class:F(R(s).e(`icon`)),onMousedown:Ms(xe,[`prevent`]),onTouchstartPassive:we},{default:z(()=>[(U(),G(Zr(ve.value)))]),_:1},8,[`class`])):J(`v-if`,!0)]),suffix:z(()=>[ye.value&&e.clearIcon?(U(),G(R(Q_),{key:0,class:F(`${R(s).e(`icon`)} clear-icon`),onMousedown:Ms(R(p),[`prevent`]),onClick:be},{default:z(()=>[(U(),G(Zr(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`])):J(`v-if`,!0)]),_:1},8,[`id`,`model-value`,`name`,`size`,`disabled`,`placeholder`,`class`,`style`,`readonly`,`aria-label`,`tabindex`,`onFocus`,`onBlur`]))]),content:z(()=>[H(e.$slots,`default`,{visible:R(C),actualVisible:R(b),parsedValue:R(y),format:e.format,dateFormat:e.dateFormat,timeFormat:e.timeFormat,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,showNow:e.showNow,showConfirm:e.showConfirm,showFooter:e.showFooter,showWeekNumber:e.showWeekNumber,onPick:t[1]||=(...e)=>R(D)&&R(D)(...e),onSelectRange:ae,onSetPickerOption:t[2]||=(...e)=>R(O)&&R(O)(...e),onCalendarChange:t[3]||=(...e)=>R(k)&&R(k)(...e),onClear:be,onPanelChange:t[4]||=(...e)=>R(A)&&R(A)(...e),onMousedown:t[5]||=Ms(()=>{},[`stop`])})]),_:3},16,[`visible`,`transition`,`popper-class`,`popper-style`,`popper-options`,`fallback-placements`,`placement`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue`]]),boe=t_({...uD,datetimeRole:String,parsedValue:{type:Z(Object)}}),pD=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{let r=(r,i,a,o)=>{let s={hour:e,minute:t,second:n},c=r;return[`hour`,`minute`,`second`].forEach(e=>{if(s[e]){let t,n=s[e];switch(e){case`minute`:t=n(c.hour(),i,o);break;case`second`:t=n(c.hour(),c.minute(),i,o);break;default:t=n(i,o);break}if(t?.length&&!t.includes(c[e]())){let n=a?0:t.length-1;c=c[e](t[n])}}}),c},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([e,t])=>{i[e]=t}}},mD=e=>e.map((e,t)=>e||t).filter(e=>e!==!0),hD=(e,t,n)=>({getHoursList:(t,n)=>rT(24,e&&(()=>e?.(t,n))),getMinutesList:(e,n,r)=>rT(60,t&&(()=>t?.(e,n,r))),getSecondsList:(e,t,r,i)=>rT(60,n&&(()=>n?.(e,t,r,i)))}),gD=(e,t,n)=>{let{getHoursList:r,getMinutesList:i,getSecondsList:a}=hD(e,t,n);return{getAvailableHours:(e,t)=>mD(r(e,t)),getAvailableMinutes:(e,t,n)=>mD(i(e,t,n)),getAvailableSeconds:(e,t,n,r)=>mD(a(e,t,n,r))}},_D=e=>{let t=L(e.parsedValue);return B(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},xoe=t_({role:{type:String,required:!0},spinnerDate:{type:Z(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Z(String),default:``},...lD}),vD=`_RepeatClick`,yD={beforeMount(e,t){let n=t.value,{interval:r=100,delay:i=600}=T(n)?{}:n,a,o,s=()=>T(n)?n():n.handler(),c=()=>{o&&=(clearTimeout(o),void 0),a&&=(clearInterval(a),void 0)},l=e=>{e.button===0&&(c(),s(),document.addEventListener(`mouseup`,c,{once:!0}),o=setTimeout(()=>{a=setInterval(()=>{s()},r)},i))};e[vD]={start:l,clear:c},e.addEventListener(`mousedown`,l)},unmounted(e){if(!e[vD])return;let{start:t,clear:n}=e[vD];t&&e.removeEventListener(`mousedown`,t),n&&(n(),document.removeEventListener(`mouseup`,n)),e[vD]=null}},Soe=[`onClick`],Coe=[`onMouseenter`],bD=b_(V({__name:`basic-time-spinner`,props:xoe,emits:[O_,`select-range`,`set-option`],setup(e,{emit:t}){let n=e,{isRange:r,format:i}=qn(rD).props,a=t,o=X(`time`),{getHoursList:s,getMinutesList:c,getSecondsList:l}=hD(n.disabledHours,n.disabledMinutes,n.disabledSeconds),u=!1,d=L(),f={hours:L(),minutes:L(),seconds:L()},p=Y(()=>n.showSeconds?nD:nD.slice(0,2)),m=Y(()=>{let{spinnerDate:e}=n;return{hours:e.hour(),minutes:e.minute(),seconds:e.second()}}),h=Y(()=>{let{hours:e,minutes:t}=R(m),{role:i,spinnerDate:a}=n,o=r?void 0:a;return{hours:s(i,o),minutes:c(e,i,o),seconds:l(e,t,i,o)}}),g=Y(()=>{let{hours:e,minutes:t,seconds:n}=R(m);return{hours:Yw(e,23),minutes:Yw(t,59),seconds:Yw(n,59)}}),_=Vm(e=>{u=!1,b(e)},200),v=e=>{if(!n.amPmMode)return``;let t=n.amPmMode===`A`,r=e<12?` am`:` pm`;return t&&(r=r.toUpperCase()),r},y=e=>{let t=[0,0],n=i||`HH:mm:ss`,r=n.indexOf(`HH`),o=n.indexOf(`mm`),s=n.indexOf(`ss`);switch(e){case`hours`:r!==-1&&(t=[r,r+2]);break;case`minutes`:o!==-1&&(t=[o,o+2]);break;case`seconds`:s!==-1&&(t=[s,s+2]);break}let[c,l]=t;a(`select-range`,c,l),d.value=e},b=e=>{C(e,R(m)[e])},x=()=>{b(`hours`),b(`minutes`),b(`seconds`)},S=e=>e.querySelector(`.${o.namespace.value}-scrollbar__wrap`),C=(e,t)=>{if(n.arrowControl)return;let r=R(f[e]);r&&r.$el&&(S(r.$el).scrollTop=Math.max(0,t*w(e)))},w=e=>{let t=R(f[e])?.$el.querySelector(`li`);return t&&Number.parseFloat(z_(t,`height`))||0},T=()=>{D(1)},E=()=>{D(-1)},D=e=>{d.value||y(`hours`);let t=d.value,n=R(m)[t],r=O(t,n,e,d.value===`hours`?24:60);k(t,r),C(t,r),Mn(()=>y(t))},O=(e,t,n,r)=>{let i=(t+n+r)%r,a=R(h)[e];for(;a[i]&&i!==t;)i=(i+n+r)%r;return i},k=(e,t)=>{if(R(h)[e][t])return;let{hours:r,minutes:i,seconds:o}=R(m),s;switch(e){case`hours`:s=n.spinnerDate.hour(t).minute(i).second(o);break;case`minutes`:s=n.spinnerDate.hour(r).minute(t).second(o);break;case`seconds`:s=n.spinnerDate.hour(r).minute(i).second(t);break}a(O_,s)},A=(e,{value:t,disabled:n})=>{n||(k(e,t),y(e),C(e,t))},j=e=>{let t=R(f[e]);t&&(u=!0,_(e),k(e,Math.min(Math.round((S(t.$el).scrollTop-(M(e)*.5-10)/w(e)+3)/w(e)),e===`hours`?23:59)))},M=e=>R(f[e]).$el.offsetHeight,ee=()=>{let e=e=>{let t=R(f[e]);t&&t.$el&&(S(t.$el).onscroll=()=>{j(e)})};e(`hours`),e(`minutes`),e(`seconds`)};zr(()=>{Mn(()=>{!n.arrowControl&&ee(),x(),n.role===`start`&&y(`hours`)})});let te=(e,t)=>{f[t].value=e??void 0};return a(`set-option`,[`${n.role}_scrollDown`,D]),a(`set-option`,[`${n.role}_emitSelectRange`,y]),B(()=>n.spinnerDate,()=>{u||x()}),(e,t)=>(U(),W(`div`,{class:F([R(o).b(`spinner`),{"has-seconds":e.showSeconds}])},[e.arrowControl?J(`v-if`,!0):(U(!0),W(va,{key:0},ti(p.value,t=>(U(),G(R(tb),{key:t,ref_for:!0,ref:e=>te(e,t),class:F(R(o).be(`spinner`,`wrapper`)),"wrap-style":`max-height: inherit;`,"view-class":R(o).be(`spinner`,`list`),noresize:``,tag:`ul`,onMouseenter:e=>y(t),onMousemove:e=>b(t)},{default:z(()=>[(U(!0),W(va,null,ti(h.value[t],(n,r)=>(U(),W(`li`,{key:r,class:F([R(o).be(`spinner`,`item`),R(o).is(`active`,r===m.value[t]),R(o).is(`disabled`,n)]),onClick:e=>A(t,{value:r,disabled:n})},[t===`hours`?(U(),W(va,{key:0},[Fa(I((`0`+(e.amPmMode?r%12||12:r)).slice(-2))+I(v(r)),1)],64)):(U(),W(va,{key:1},[Fa(I((`0`+r).slice(-2)),1)],64))],10,Soe))),128))]),_:2},1032,[`class`,`view-class`,`onMouseenter`,`onMousemove`]))),128)),e.arrowControl?(U(!0),W(va,{key:1},ti(p.value,t=>(U(),W(`div`,{key:t,class:F([R(o).be(`spinner`,`wrapper`),R(o).is(`arrow`)]),onMouseenter:e=>y(t)},[Wn((U(),G(R(Q_),{class:F([`arrow-up`,R(o).be(`spinner`,`arrow`)])},{default:z(()=>[q(R(nv))]),_:1},8,[`class`])),[[R(yD),E]]),Wn((U(),G(R(Q_),{class:F([`arrow-down`,R(o).be(`spinner`,`arrow`)])},{default:z(()=>[q(R($_))]),_:1},8,[`class`])),[[R(yD),T]]),K(`ul`,{class:F(R(o).be(`spinner`,`list`))},[(U(!0),W(va,null,ti(g.value[t],(n,r)=>(U(),W(`li`,{key:r,class:F([R(o).be(`spinner`,`item`),R(o).is(`active`,n===m.value[t]),R(o).is(`disabled`,h.value[t][n])])},[R(Hh)(n)?(U(),W(va,{key:0},[t===`hours`?(U(),W(va,{key:0},[Fa(I((`0`+(e.amPmMode?n%12||12:n)).slice(-2))+I(v(n)),1)],64)):(U(),W(va,{key:1},[Fa(I((`0`+n).slice(-2)),1)],64))],64)):J(`v-if`,!0)],2))),128))],2)],42,Coe))),128)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue`]]),xD=l(qw(),1),SD=b_(V({__name:`panel-time-pick`,props:boe,emits:[`pick`,`select-range`,`set-picker-option`],setup(e,{emit:t}){let n=e,r=t,{arrowControl:i,disabledHours:a,disabledMinutes:o,disabledSeconds:s,defaultValue:c}=qn(rD).props,{getAvailableHours:l,getAvailableMinutes:u,getAvailableSeconds:d}=gD(a,o,s),f=X(`time`),{t:p,lang:m}=Zg(),h=L([0,2]),g=_D(n),_=Y(()=>Bh(n.actualVisible)?`${f.namespace.value}-zoom-in-top`:``),v=Y(()=>n.format.includes(`ss`)),y=Y(()=>n.format.includes(`A`)?`A`:n.format.includes(`a`)?`a`:``),b=e=>{let t=(0,xD.default)(e).locale(m.value),n=A(t);return t.isSame(n)},x=()=>{let e=g.value;r(`pick`,e,!1),Mn(()=>{g.value=e})},S=(e=!1,t=!1)=>{t||r(`pick`,n.parsedValue,e)},C=e=>{n.visible&&r(`pick`,A(e).millisecond(0),!0)},w=(e,t)=>{r(`select-range`,e,t),h.value=[e,t]},T=e=>{let t=n.format,r=t.indexOf(`HH`),i=t.indexOf(`mm`),a=t.indexOf(`ss`),o=[],s=[];r!==-1&&(o.push(r),s.push(`hours`)),i!==-1&&(o.push(i),s.push(`minutes`)),a!==-1&&v.value&&(o.push(a),s.push(`seconds`));let c=(o.indexOf(h.value[0])+e+o.length)%o.length;D.start_emitSelectRange(s[c])},E=e=>{let t=Gb(e),{left:n,right:r,up:i,down:a}=Q;if([n,r].includes(t)){T(t===n?-1:1),e.preventDefault();return}if([i,a].includes(t)){let n=t===i?-1:1;D.start_scrollDown(n),e.preventDefault();return}},{timePickerOptions:D,onSetOption:O,getAvailableTime:k}=pD({getAvailableHours:l,getAvailableMinutes:u,getAvailableSeconds:d}),A=e=>k(e,n.datetimeRole||``,!0);return r(`set-picker-option`,[`isValidValue`,b]),r(`set-picker-option`,[`parseUserInput`,e=>e?(0,xD.default)(e,n.format).locale(m.value):null]),r(`set-picker-option`,[`handleKeydownInput`,E]),r(`set-picker-option`,[`getRangeAvailableTime`,A]),r(`set-picker-option`,[`getDefaultValue`,()=>(0,xD.default)(c).locale(m.value)]),(e,t)=>(U(),G(yo,{name:_.value},{default:z(()=>[e.actualVisible||e.visible?(U(),W(`div`,{key:0,class:F(R(f).b(`panel`))},[K(`div`,{class:F([R(f).be(`panel`,`content`),{"has-seconds":v.value}])},[q(bD,{ref:`spinner`,role:e.datetimeRole||`start`,"arrow-control":R(i),"show-seconds":v.value,"am-pm-mode":y.value,"spinner-date":e.parsedValue,"disabled-hours":R(a),"disabled-minutes":R(o),"disabled-seconds":R(s),onChange:C,onSetOption:R(O),onSelectRange:w},null,8,[`role`,`arrow-control`,`show-seconds`,`am-pm-mode`,`spinner-date`,`disabled-hours`,`disabled-minutes`,`disabled-seconds`,`onSetOption`])],2),K(`div`,{class:F(R(f).be(`panel`,`footer`))},[K(`button`,{type:`button`,class:F([R(f).be(`panel`,`btn`),`cancel`]),onClick:x},I(R(p)(`el.datepicker.cancel`)),3),K(`button`,{type:`button`,class:F([R(f).be(`panel`,`btn`),`confirm`]),onClick:t[0]||=e=>S()},I(R(p)(`el.datepicker.confirm`)),3)],2)],2)):J(`v-if`,!0)]),_:1},8,[`name`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue`]]),woe=t_({...uD,parsedValue:{type:Z(Array)}}),CD=l(qw(),1),Toe=[`disabled`],Eoe=b_(V({__name:`panel-time-range`,props:woe,emits:[`pick`,`select-range`,`set-picker-option`],setup(e,{emit:t}){let n=e,r=t,i=(e,t)=>{let n=[];for(let r=e;r<=t;r++)n.push(r);return n},{t:a,lang:o}=Zg(),s=X(`time`),c=X(`picker`),{arrowControl:l,disabledHours:u,disabledMinutes:d,disabledSeconds:f,defaultValue:p}=qn(rD).props,m=Y(()=>[s.be(`range-picker`,`body`),s.be(`panel`,`content`),s.is(`arrow`,l),b.value?`has-seconds`:``]),h=Y(()=>[s.be(`range-picker`,`body`),s.be(`panel`,`content`),s.is(`arrow`,l),b.value?`has-seconds`:``]),g=Y(()=>n.parsedValue[0]),_=Y(()=>n.parsedValue[1]),v=_D(n),y=()=>{let e=v.value;r(`pick`,e,!1),Mn(()=>{v.value=e})},b=Y(()=>n.format.includes(`ss`)),S=Y(()=>n.format.includes(`A`)?`A`:n.format.includes(`a`)?`a`:``),C=(e=!1)=>{r(`pick`,[g.value,_.value],e)},w=e=>{D(e.millisecond(0),_.value)},T=e=>{D(g.value,e.millisecond(0))},E=e=>{let t=e.map(e=>(0,CD.default)(e).locale(o.value)),n=ie(t);return t[0].isSame(n[0])&&t[1].isSame(n[1])},D=(e,t)=>{n.visible&&r(`pick`,[e,t],!0)},O=Y(()=>g.value>_.value),k=L([0,2]),A=(e,t)=>{r(`select-range`,e,t,`min`),k.value=[e,t]},j=Y(()=>b.value?11:8),M=(e,t)=>{r(`select-range`,e,t,`max`);let n=R(j);k.value=[e+n,t+n]},ee=e=>{let t=b.value?[0,3,6,11,14,17]:[0,3,8,11],n=[`hours`,`minutes`].concat(b.value?[`seconds`]:[]),r=(t.indexOf(k.value[0])+e+t.length)%t.length,i=t.length/2;r<i?se.start_emitSelectRange(n[r]):se.end_emitSelectRange(n[r-i])},te=e=>{let t=Gb(e),{left:n,right:r,up:i,down:a}=Q;if([n,r].includes(t)){ee(t===n?-1:1),e.preventDefault();return}if([i,a].includes(t)){let n=t===i?-1:1;se[`${k.value[0]<j.value?`start`:`end`}_scrollDown`](n),e.preventDefault();return}},N=(e,t)=>{let n=u?u(e):[],r=e===`start`,a=(t||(r?_.value:g.value)).hour();return zh(n,r?i(a+1,23):i(0,a-1))},ne=(e,t,n)=>{let r=d?d(e,t):[],a=t===`start`,o=n||(a?_.value:g.value);if(e!==o.hour())return r;let s=o.minute();return zh(r,a?i(s+1,59):i(0,s-1))},re=(e,t,n,r)=>{let a=f?f(e,t,n):[],o=n===`start`,s=r||(o?_.value:g.value),c=s.hour(),l=s.minute();if(e!==c||t!==l)return a;let u=s.second();return zh(a,o?i(u+1,59):i(0,u-1))},ie=([e,t])=>[ce(e,`start`,!0,t),ce(t,`end`,!1,e)],{getAvailableHours:P,getAvailableMinutes:ae,getAvailableSeconds:oe}=gD(N,ne,re),{timePickerOptions:se,getAvailableTime:ce,onSetOption:le}=pD({getAvailableHours:P,getAvailableMinutes:ae,getAvailableSeconds:oe});return r(`set-picker-option`,[`parseUserInput`,e=>e?x(e)?e.map(e=>(0,CD.default)(e,n.format).locale(o.value)):(0,CD.default)(e,n.format).locale(o.value):null]),r(`set-picker-option`,[`isValidValue`,E]),r(`set-picker-option`,[`handleKeydownInput`,te]),r(`set-picker-option`,[`getDefaultValue`,()=>{if(x(p))return p.map(e=>(0,CD.default)(e).locale(o.value));let e=(0,CD.default)(p).locale(o.value);return[e,e.add(60,`m`)]}]),r(`set-picker-option`,[`getRangeAvailableTime`,ie]),(e,t)=>e.actualVisible?(U(),W(`div`,{key:0,class:F([R(s).b(`range-picker`),R(c).b(`panel`)])},[K(`div`,{class:F(R(s).be(`range-picker`,`content`))},[K(`div`,{class:F(R(s).be(`range-picker`,`cell`))},[K(`div`,{class:F(R(s).be(`range-picker`,`header`))},I(R(a)(`el.datepicker.startTime`)),3),K(`div`,{class:F(m.value)},[q(bD,{ref:`minSpinner`,role:`start`,"show-seconds":b.value,"am-pm-mode":S.value,"arrow-control":R(l),"spinner-date":g.value,"disabled-hours":N,"disabled-minutes":ne,"disabled-seconds":re,onChange:w,onSetOption:R(le),onSelectRange:A},null,8,[`show-seconds`,`am-pm-mode`,`arrow-control`,`spinner-date`,`onSetOption`])],2)],2),K(`div`,{class:F(R(s).be(`range-picker`,`cell`))},[K(`div`,{class:F(R(s).be(`range-picker`,`header`))},I(R(a)(`el.datepicker.endTime`)),3),K(`div`,{class:F(h.value)},[q(bD,{ref:`maxSpinner`,role:`end`,"show-seconds":b.value,"am-pm-mode":S.value,"arrow-control":R(l),"spinner-date":_.value,"disabled-hours":N,"disabled-minutes":ne,"disabled-seconds":re,onChange:T,onSetOption:R(le),onSelectRange:M},null,8,[`show-seconds`,`am-pm-mode`,`arrow-control`,`spinner-date`,`onSetOption`])],2)],2)],2),K(`div`,{class:F(R(s).be(`panel`,`footer`))},[K(`button`,{type:`button`,class:F([R(s).be(`panel`,`btn`),`cancel`]),onClick:t[0]||=e=>y()},I(R(a)(`el.datepicker.cancel`)),3),K(`button`,{type:`button`,class:F([R(s).be(`panel`,`btn`),`confirm`]),disabled:O.value,onClick:t[1]||=e=>C()},I(R(a)(`el.datepicker.confirm`)),11,Toe)],2)],2)):J(`v-if`,!0)}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue`]]),Doe=l(qw(),1),Ooe=l(tD(),1);Doe.default.extend(Ooe.default);var koe=S_(V({name:`ElTimePicker`,install:null,props:{...dD,isRange:Boolean},emits:[D_],setup(e,t){let n=L(),[r,i]=e.isRange?[`timerange`,Eoe]:[`time`,SD],a=e=>t.emit(D_,e);return Kn(iD,e.popperOptions),t.expose({focus:()=>{var e;(e=n.value)==null||e.focus()},blur:()=>{var e;(e=n.value)==null||e.blur()},handleOpen:()=>{var e;(e=n.value)==null||e.handleOpen()},handleClose:()=>{var e;(e=n.value)==null||e.handleClose()}}),()=>q(fD,za(e,{ref:n,type:r,format:e.format??oD,"onUpdate:modelValue":a}),{default:e=>q(i,e,null)})}})),Aoe=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_advancedFormat=r()})(e,(function(){return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var i=this.$utils(),a=(e||`YYYY-MM-DDTHH:mm:ssZ`).replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case`Q`:return Math.ceil((t.$M+1)/3);case`Do`:return n.ordinal(t.$D);case`gggg`:return t.weekYear();case`GGGG`:return t.isoWeekYear();case`wo`:return n.ordinal(t.week(),`W`);case`w`:case`ww`:return i.s(t.week(),e===`w`?1:2,`0`);case`W`:case`WW`:return i.s(t.isoWeek(),e===`W`?1:2,`0`);case`k`:case`kk`:return i.s(String(t.$H===0?24:t.$H),e===`k`?1:2,`0`);case`X`:return Math.floor(t.$d.getTime()/1e3);case`x`:return t.$d.getTime();case`z`:return`[`+t.offsetName()+`]`;case`zzz`:return`[`+t.offsetName(`long`)+`]`;default:return e}}));return r.bind(this)(a)}}}))})),joe=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_weekOfYear=r()})(e,(function(){var e=`week`,t=`year`;return function(n,r,i){var a=r.prototype;a.week=function(n){if(n===void 0&&(n=null),n!==null)return this.add(7*(n-this.week()),`day`);var r=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var a=i(this).startOf(t).add(1,t).date(r),o=i(this).endOf(e);if(a.isBefore(o))return 1}var s=i(this).startOf(t).date(r).startOf(e).subtract(1,`millisecond`),c=this.diff(s,e,!0);return c<0?i(this).startOf(`week`).week():Math.ceil(c)},a.weeks=function(e){return e===void 0&&(e=null),this.week(e)}}}))})),Moe=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_weekYear=r()})(e,(function(){return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return t===1&&e===11?n+1:e===0&&t>=52?n-1:n}}}))})),Noe=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_dayOfYear=r()})(e,(function(){return function(e,t,n){t.prototype.dayOfYear=function(e){var t=Math.round((n(this).startOf(`day`)-n(this).startOf(`year`))/864e5)+1;return e==null?t:this.add(e-t,`day`)}}}))})),Poe=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_isSameOrAfter=r()})(e,(function(){return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}))})),Foe=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_isSameOrBefore=r()})(e,(function(){return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}))})),Ioe=t_({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:Z([Date,Array,String,Number]),default:``},defaultValue:{type:Z([Date,Array])},defaultTime:{type:Z([Date,Array])},isRange:Boolean,...lD,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:Z(String),default:`date`},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}}),wD=Symbol(`rootPickerContextKey`),TD=`ElIsDefaultFormat`,Loe=[`date`,`dates`,`year`,`years`,`month`,`months`,`week`,`range`],ED=t_({cellClassName:{type:Z(Function)},disabledDate:{type:Z(Function)},date:{type:Z(Object),required:!0},minDate:{type:Z(Object)},maxDate:{type:Z(Object)},parsedValue:{type:Z([Object,Array])},rangeState:{type:Z(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),DD=t_({type:{type:Z(String),required:!0,values:dT},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),OD=t_({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:Z(Array)}}),kD=e=>({type:String,values:Loe,default:e}),Roe=t_({...DD,parsedValue:{type:Z([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:``}}),AD=l(qw(),1),jD=e=>{if(!x(e))return!1;let[t,n]=e;return AD.default.isDayjs(t)&&AD.default.isDayjs(n)&&(0,AD.default)(t).isValid()&&(0,AD.default)(n).isValid()&&t.isSameOrBefore(n)},MD=(e,{lang:t,step:n=1,unit:r,unlinkPanels:i})=>{let a;if(x(e)){let[a,o]=e.map(e=>(0,AD.default)(e).locale(t));return i||(o=a.add(n,r)),[a,o]}else a=e?(0,AD.default)(e):(0,AD.default)();return a=a.locale(t),[a,a.add(n,r)]},zoe=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:a,unit:o,relativeDateGetter:s,setCellMetadata:c,setRowMetadata:l})=>{for(let u=0;u<e.row;u++){let d=t[u];for(let t=0;t<e.column;t++){let l=d[t+n];l||={row:u,column:t,type:`normal`,inRange:!1,start:!1,end:!1};let f=s(u*e.column+t);l.dayjs=f,l.date=f.toDate(),l.timestamp=f.valueOf(),l.type=`normal`,l.inRange=!!(r&&f.isSameOrAfter(r,o)&&i&&f.isSameOrBefore(i,o))||!!(r&&f.isSameOrBefore(r,o)&&i&&f.isSameOrAfter(i,o)),r?.isSameOrAfter(i)?(l.start=!!i&&f.isSame(i,o),l.end=r&&f.isSame(r,o)):(l.start=!!r&&f.isSame(r,o),l.end=!!i&&f.isSame(i,o)),f.isSame(a,o)&&(l.type=`today`),c?.(l,{rowIndex:u,columnIndex:t}),d[t+n]=l}l?.(d)}},ND=(e,t,n,r)=>{let i=(0,AD.default)().locale(r).startOf(`month`).month(n).year(t).hour(e.hour()).minute(e.minute()).second(e.second());return Xw(i.daysInMonth()).map(e=>i.add(e,`day`).toDate())},PD=(e,t,n,r,i)=>{let a=(0,AD.default)().year(t).month(n).startOf(`month`).hour(e.hour()).minute(e.minute()).second(e.second()),o=ND(e,t,n,r).find(e=>!i?.(e));return o?(0,AD.default)(o).locale(r):a.locale(r)},FD=(e,t,n)=>{let r=e.year();if(!n?.(e.toDate()))return e.locale(t);let i=e.month();if(!ND(e,r,i,t).every(n))return PD(e,r,i,t,n);for(let i=0;i<12;i++)if(!ND(e,r,i,t).every(n))return PD(e,r,i,t,n);return e},ID=(e,t,n,r)=>{if(x(e))return e.map(e=>ID(e,t,n,r));if(E(e)){let n=r?.value?(0,AD.default)(e):(0,AD.default)(e,t);if(!n.isValid())return n}return(0,AD.default)(e,t).locale(n)},Boe=t_({...ED,showWeekNumber:Boolean,selectionMode:kD(`date`)}),Voe=[`changerange`,`pick`,`select`],LD=l(qw(),1),RD=(e=``)=>[`normal`,`today`].includes(e),Hoe=(e,t)=>{let{lang:n}=Zg(),r=L(),i=L(),a=L(),o=L(),s=L([[],[],[],[],[],[]]),c=!1,l=e.date.$locale().weekStart||7,u=e.date.locale(`en`).localeData().weekdaysShort().map(e=>e.toLowerCase()),d=Y(()=>l>3?7-l:-l),f=Y(()=>{let t=e.date.startOf(`month`);return t.subtract(t.day()||7,`day`)}),p=Y(()=>u.concat(u).slice(l,l+7)),m=Y(()=>Bf(R(b)).some(e=>e.isCurrent)),h=Y(()=>{let t=e.date.startOf(`month`);return{startOfMonthDay:t.day()||7,dateCountOfMonth:t.daysInMonth(),dateCountOfLastMonth:t.subtract(1,`month`).daysInMonth()}}),g=Y(()=>e.selectionMode===`dates`?OC(e.parsedValue):[]),_=(e,{count:t,rowIndex:n,columnIndex:r})=>{let{startOfMonthDay:i,dateCountOfMonth:a,dateCountOfLastMonth:o}=R(h),s=R(d);if(n>=0&&n<=1){let a=i+s<0?7+i+s:i+s;if(r+n*7>=a)return e.text=t,!0;e.text=o-(a-r%7)+1+n*7,e.type=`prev-month`}else return t<=a?e.text=t:(e.text=t-a,e.type=`next-month`),!0;return!1},v=(t,{columnIndex:n,rowIndex:r},i)=>{let{disabledDate:a,cellClassName:o}=e,s=R(g),c=_(t,{count:i,rowIndex:r,columnIndex:n}),l=t.dayjs.toDate();return t.selected=s.find(e=>e.isSame(t.dayjs,`day`)),t.isSelected=!!t.selected,t.isCurrent=C(t),t.disabled=a?.(l),t.customClass=o?.(l),c},y=t=>{if(e.selectionMode===`week`){let[n,r]=e.showWeekNumber?[1,7]:[0,6],i=N(t[n+1]);t[n].inRange=i,t[n].start=i,t[r].inRange=i,t[r].end=i}},b=Y(()=>{let{minDate:t,maxDate:r,rangeState:i,showWeekNumber:a}=e,o=R(d),c=R(s),l=1;if(zoe({row:6,column:7},c,{startDate:t,columnIndexOffset:a?1:0,nextEndDate:i.endDate||r||i.selecting&&t||null,now:(0,LD.default)().locale(R(n)).startOf(`day`),unit:`day`,relativeDateGetter:e=>R(f).add(e-o,`day`),setCellMetadata:(...e)=>{v(...e,l)&&(l+=1)},setRowMetadata:y}),a)for(let e=0;e<6;e++)c[e][1].dayjs&&(c[e][0]={type:`week`,text:c[e][1].dayjs.week()});return c});B(()=>e.date,async()=>{R(r)?.contains(document.activeElement)&&(await Mn(),await S())});let S=async()=>R(i)?.focus(),C=t=>e.selectionMode===`date`&&RD(t.type)&&w(t,e.parsedValue),w=(t,r)=>r?(0,LD.default)(r).locale(R(n)).isSame(e.date.date(Number(t.text)),`day`):!1,T=(t,n)=>{let r=t*7+(n-(e.showWeekNumber?1:0))-R(d);return R(f).add(r,`day`)},E=n=>{if(!e.rangeState.selecting)return;let r=n.target;if(r.tagName===`SPAN`&&(r=r.parentNode?.parentNode),r.tagName===`DIV`&&(r=r.parentNode),r.tagName!==`TD`)return;let i=r.parentNode.rowIndex-1,s=r.cellIndex;R(b)[i][s].disabled||(i!==R(a)||s!==R(o))&&(a.value=i,o.value=s,t(`changerange`,{selecting:!0,endDate:T(i,s)}))},D=e=>!R(m)&&e?.text===1&&RD(e.type)||e.isCurrent,O=t=>{c||R(m)||e.selectionMode!==`date`||te(t,!0)},k=e=>{e.target.closest(`td`)&&(c=!0)},A=e=>{e.target.closest(`td`)&&(c=!1)},j=n=>{!e.rangeState.selecting||!e.minDate?(t(`pick`,{minDate:n,maxDate:null}),t(`select`,!0)):(n>=e.minDate?t(`pick`,{minDate:e.minDate,maxDate:n}):t(`pick`,{minDate:n,maxDate:e.minDate}),t(`select`,!1))},M=e=>{let n=e.week(),r=`${e.year()}w${n}`;t(`pick`,{year:e.year(),week:n,value:r,date:e.startOf(`week`)})},ee=(n,r)=>{t(`pick`,r?OC(e.parsedValue).filter(e=>e?.valueOf()!==n.valueOf()):OC(e.parsedValue).concat([n]))},te=(n,r=!1)=>{if(e.disabled)return;let i=n.target.closest(`td`);if(!i)return;let a=i.parentNode.rowIndex-1,o=i.cellIndex,s=R(b)[a][o];if(s.disabled||s.type===`week`)return;let c=T(a,o);switch(e.selectionMode){case`range`:j(c);break;case`date`:t(`pick`,c,r);break;case`week`:M(c);break;case`dates`:ee(c,!!s.selected);break}},N=t=>{if(e.selectionMode!==`week`)return!1;let n=e.date.startOf(`day`);if(t.type===`prev-month`&&(n=n.subtract(1,`month`)),t.type===`next-month`&&(n=n.add(1,`month`)),n=n.date(Number.parseInt(t.text,10)),e.parsedValue&&!x(e.parsedValue)){let t=(e.parsedValue.day()-l+7)%7-1;return e.parsedValue.subtract(t,`day`).isSame(n,`day`)}return!1};return{WEEKS:p,rows:b,tbodyRef:r,currentCellRef:i,focus:S,isCurrent:C,isWeekActive:N,isSelectedCell:D,handlePickDate:te,handleMouseUp:A,handleMouseDown:k,handleMouseMove:E,handleFocus:O}},Uoe=(e,{isCurrent:t,isWeekActive:n})=>{let r=X(`date-table`),{t:i}=Zg();return{tableKls:Y(()=>[r.b(),r.is(`week-mode`,e.selectionMode===`week`&&!e.disabled)]),tableLabel:Y(()=>i(`el.datepicker.dateTablePrompt`)),weekHeaderClass:r.e(`week-header`),getCellClasses:n=>{let r=[];return RD(n.type)&&!n.disabled?(r.push(`available`),n.type===`today`&&r.push(`today`)):r.push(n.type),t(n)&&r.push(`current`),n.inRange&&(RD(n.type)||e.selectionMode===`week`)&&(r.push(`in-range`),n.start&&r.push(`start-date`),n.end&&r.push(`end-date`)),(n.disabled||e.disabled)&&r.push(`disabled`),n.selected&&r.push(`selected`),n.customClass&&r.push(n.customClass),r.join(` `)},getRowKls:e=>[r.e(`row`),{current:n(e)}],t:i}},zD=V({name:`ElDatePickerCell`,props:t_({cell:{type:Z(Object)}}),setup(e){let t=X(`date-table-cell`),{slots:n}=qn(wD);return()=>{let{cell:r}=e;return H(n,`default`,{...r},()=>[q(`div`,{class:t.b()},[q(`span`,{class:t.e(`text`)},[r?.renderText??r?.text])])])}}}),Woe=[`aria-label`],Goe=[`aria-label`],Koe=[`aria-current`,`aria-selected`,`tabindex`,`aria-disabled`],BD=b_(V({__name:`basic-date-table`,props:Boe,emits:Voe,setup(e,{expose:t,emit:n}){let r=e,{WEEKS:i,rows:a,tbodyRef:o,currentCellRef:s,focus:c,isCurrent:l,isWeekActive:u,isSelectedCell:d,handlePickDate:f,handleMouseUp:p,handleMouseDown:m,handleMouseMove:h,handleFocus:g}=Hoe(r,n),{tableLabel:_,tableKls:v,getCellClasses:y,getRowKls:b,weekHeaderClass:x,t:S}=Uoe(r,{isCurrent:l,isWeekActive:u}),C=!1;return Hr(()=>{C=!0}),t({focus:c}),(e,t)=>(U(),W(`table`,{"aria-label":R(_),class:F(R(v)),cellspacing:`0`,cellpadding:`0`,role:`grid`,onClick:t[1]||=(...e)=>R(f)&&R(f)(...e),onMousemove:t[2]||=(...e)=>R(h)&&R(h)(...e),onMousedown:t[3]||=(...e)=>R(m)&&R(m)(...e),onMouseup:t[4]||=(...e)=>R(p)&&R(p)(...e)},[K(`tbody`,{ref_key:`tbodyRef`,ref:o},[K(`tr`,null,[e.showWeekNumber?(U(),W(`th`,{key:0,scope:`col`,class:F(R(x))},null,2)):J(`v-if`,!0),(U(!0),W(va,null,ti(R(i),(e,t)=>(U(),W(`th`,{key:t,"aria-label":R(S)(`el.datepicker.weeksFull.`+e),scope:`col`},I(R(S)(`el.datepicker.weeks.`+e)),9,Goe))),128))]),(U(!0),W(va,null,ti(R(a),(n,r)=>(U(),W(`tr`,{key:r,class:F(R(b)(e.showWeekNumber?n[2]:n[1]))},[(U(!0),W(va,null,ti(n,(n,i)=>(U(),W(`td`,{key:`${r}.${i}`,ref_for:!0,ref:e=>!R(C)&&R(d)(n)&&(s.value=e),class:F(R(y)(n)),"aria-current":n.isCurrent?`date`:void 0,"aria-selected":n.isCurrent,tabindex:e.disabled?void 0:R(d)(n)?0:-1,"aria-disabled":e.disabled,onFocus:t[0]||=(...e)=>R(g)&&R(g)(...e)},[q(R(zD),{cell:n},null,8,[`cell`])],42,Koe))),128))],2))),128))],512)],42,Woe))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-date-table.vue`]]),qoe=t_({...ED,selectionMode:kD(`month`)}),VD=l(qw(),1),Joe=[`aria-label`],Yoe=[`aria-selected`,`aria-label`,`tabindex`,`onKeydown`],HD=b_(V({__name:`basic-month-table`,props:qoe,emits:[`changerange`,`pick`,`select`],setup(e,{expose:t,emit:n}){let r=e,i=n,a=X(`month-table`),{t:o,lang:s}=Zg(),c=L(),l=L(),u=L(r.date.locale(`en`).localeData().monthsShort().map(e=>e.toLowerCase())),d=L([[],[],[]]),f=L(),p=L(),m=Y(()=>{let e=d.value,t=(0,VD.default)().locale(s.value).startOf(`month`);for(let n=0;n<3;n++){let i=e[n];for(let e=0;e<4;e++){let a=i[e]||(i[e]={row:n,column:e,type:`normal`,inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});a.type=`normal`;let o=n*4+e,s=r.date.startOf(`year`).month(o),c=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;a.inRange=!!(r.minDate&&s.isSameOrAfter(r.minDate,`month`)&&c&&s.isSameOrBefore(c,`month`))||!!(r.minDate&&s.isSameOrBefore(r.minDate,`month`)&&c&&s.isSameOrAfter(c,`month`)),r.minDate?.isSameOrAfter(c)?(a.start=!!(c&&s.isSame(c,`month`)),a.end=r.minDate&&s.isSame(r.minDate,`month`)):(a.start=!!(r.minDate&&s.isSame(r.minDate,`month`)),a.end=!!(c&&s.isSame(c,`month`))),t.isSame(s)&&(a.type=`today`);let l=s.toDate();a.text=o,a.disabled=r.disabledDate?.call(r,l)||!1,a.date=l,a.customClass=r.cellClassName?.call(r,l),a.dayjs=s,a.timestamp=s.valueOf(),a.isSelected=_(a)}}return e}),h=()=>{var e;(e=l.value)==null||e.focus()},g=e=>{let t={},n=r.date.year(),i=new Date,a=e.text;return t.disabled=r.disabled||(r.disabledDate?ND(r.date,n,a,s.value).every(r.disabledDate):!1),t.current=OC(r.parsedValue).some(e=>VD.default.isDayjs(e)&&e.year()===n&&e.month()===a),t.today=i.getFullYear()===n&&i.getMonth()===a,e.customClass&&(t[e.customClass]=!0),e.inRange&&(t[`in-range`]=!0,e.start&&(t[`start-date`]=!0),e.end&&(t[`end-date`]=!0)),t},_=e=>{let t=r.date.year(),n=e.text;return OC(r.date).some(e=>e.year()===t&&e.month()===n)},v=e=>{if(!r.rangeState.selecting)return;let t=e.target;if(t.tagName===`SPAN`&&(t=t.parentNode?.parentNode),t.tagName===`DIV`&&(t=t.parentNode),t.tagName!==`TD`)return;let n=t.parentNode.rowIndex,a=t.cellIndex;m.value[n][a].disabled||(n!==f.value||a!==p.value)&&(f.value=n,p.value=a,i(`changerange`,{selecting:!0,endDate:r.date.startOf(`year`).month(n*4+a)}))},y=e=>{if(r.disabled)return;let t=e.target?.closest(`td`);if(t?.tagName!==`TD`||I_(t,`disabled`))return;let n=t.cellIndex,a=t.parentNode.rowIndex*4+n,o=r.date.startOf(`year`).month(a);if(r.selectionMode===`months`){if(e.type===`keydown`){i(`pick`,OC(r.parsedValue),!1);return}let n=PD(r.date,r.date.year(),a,s.value,r.disabledDate);i(`pick`,I_(t,`current`)?OC(r.parsedValue).filter(e=>e?.year()!==n.year()||e?.month()!==n.month()):OC(r.parsedValue).concat([(0,VD.default)(n)]))}else r.selectionMode===`range`?r.rangeState.selecting?(r.minDate&&o>=r.minDate?i(`pick`,{minDate:r.minDate,maxDate:o}):i(`pick`,{minDate:o,maxDate:r.minDate}),i(`select`,!1)):(i(`pick`,{minDate:o,maxDate:null}),i(`select`,!0)):i(`pick`,a)};return B(()=>r.date,async()=>{var e;c.value?.contains(document.activeElement)&&(await Mn(),(e=l.value)==null||e.focus())}),t({focus:h}),(e,t)=>(U(),W(`table`,{role:`grid`,"aria-label":R(o)(`el.datepicker.monthTablePrompt`),class:F(R(a).b()),onClick:y,onMousemove:v},[K(`tbody`,{ref_key:`tbodyRef`,ref:c},[(U(!0),W(va,null,ti(m.value,(e,t)=>(U(),W(`tr`,{key:t},[(U(!0),W(va,null,ti(e,(e,t)=>(U(),W(`td`,{key:t,ref_for:!0,ref:t=>e.isSelected&&(l.value=t),class:F(g(e)),"aria-selected":!!e.isSelected,"aria-label":R(o)(`el.datepicker.month${+e.text+1}`),tabindex:e.isSelected?0:-1,onKeydown:[Ps(Ms(y,[`prevent`,`stop`]),[`space`]),Ps(Ms(y,[`prevent`,`stop`]),[`enter`])]},[q(R(zD),{cell:{...e,renderText:R(o)(`el.datepicker.months.`+u.value[e.text])}},null,8,[`cell`])],42,Yoe))),128))]))),128))],512)],42,Joe))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-month-table.vue`]]),Xoe=t_({...ED,selectionMode:kD(`year`)}),UD=l(qw(),1),Zoe=[`aria-label`],Qoe=[`aria-selected`,`aria-label`,`tabindex`,`onKeydown`],WD=b_(V({__name:`basic-year-table`,props:Xoe,emits:[`changerange`,`pick`,`select`],setup(e,{expose:t,emit:n}){let r=(e,t)=>{let n=(0,UD.default)(String(e)).locale(t).startOf(`year`);return Xw(n.endOf(`year`).dayOfYear()).map(e=>n.add(e,`day`).toDate())},i=e,a=n,o=X(`year-table`),{t:s,lang:c}=Zg(),l=L(),u=L(),d=Y(()=>Math.floor(i.date.year()/10)*10),f=L([[],[],[]]),p=L(),m=L(),h=Y(()=>{let e=f.value,t=(0,UD.default)().locale(c.value).startOf(`year`);for(let n=0;n<3;n++){let r=e[n];for(let e=0;e<4&&!(n*4+e>=10);e++){let a=r[e];a||={row:n,column:e,type:`normal`,inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0},a.type=`normal`;let o=n*4+e+d.value,s=(0,UD.default)().year(o),c=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;a.inRange=!!(i.minDate&&s.isSameOrAfter(i.minDate,`year`)&&c&&s.isSameOrBefore(c,`year`))||!!(i.minDate&&s.isSameOrBefore(i.minDate,`year`)&&c&&s.isSameOrAfter(c,`year`)),i.minDate?.isSameOrAfter(c)?(a.start=!!(c&&s.isSame(c,`year`)),a.end=!!(i.minDate&&s.isSame(i.minDate,`year`))):(a.start=!!(i.minDate&&s.isSame(i.minDate,`year`)),a.end=!!(c&&s.isSame(c,`year`))),t.isSame(s)&&(a.type=`today`),a.text=o;let l=s.toDate();a.disabled=i.disabledDate?.call(i,l)||!1,a.date=l,a.customClass=i.cellClassName?.call(i,l),a.dayjs=s,a.timestamp=s.valueOf(),a.isSelected=v(a),r[e]=a}}return e}),g=()=>{var e;(e=u.value)==null||e.focus()},_=e=>{let t={},n=(0,UD.default)().locale(c.value),a=e.text;return t.disabled=i.disabled||(i.disabledDate?r(a,c.value).every(i.disabledDate):!1),t.today=n.year()===a,t.current=OC(i.parsedValue).some(e=>e.year()===a),e.customClass&&(t[e.customClass]=!0),e.inRange&&(t[`in-range`]=!0,e.start&&(t[`start-date`]=!0),e.end&&(t[`end-date`]=!0)),t},v=e=>{let t=e.text;return OC(i.date).some(e=>e.year()===t)},y=e=>{if(i.disabled)return;let t=e.target?.closest(`td`);if(!t||!t.textContent||I_(t,`disabled`))return;let n=t.cellIndex,r=t.parentNode.rowIndex*4+n+d.value,o=(0,UD.default)().year(r);if(i.selectionMode===`range`)i.rangeState.selecting?(i.minDate&&o>=i.minDate?a(`pick`,{minDate:i.minDate,maxDate:o}):a(`pick`,{minDate:o,maxDate:i.minDate}),a(`select`,!1)):(a(`pick`,{minDate:o,maxDate:null}),a(`select`,!0));else if(i.selectionMode===`years`){if(e.type===`keydown`){a(`pick`,OC(i.parsedValue),!1);return}let n=FD(o.startOf(`year`),c.value,i.disabledDate);a(`pick`,I_(t,`current`)?OC(i.parsedValue).filter(e=>e?.year()!==r):OC(i.parsedValue).concat([n]))}else a(`pick`,r)},b=e=>{if(!i.rangeState.selecting)return;let t=e.target?.closest(`td`);if(!t)return;let n=t.parentNode.rowIndex,r=t.cellIndex;h.value[n][r].disabled||(n!==p.value||r!==m.value)&&(p.value=n,m.value=r,a(`changerange`,{selecting:!0,endDate:(0,UD.default)().year(d.value).add(n*4+r,`year`)}))};return B(()=>i.date,async()=>{var e;l.value?.contains(document.activeElement)&&(await Mn(),(e=u.value)==null||e.focus())}),t({focus:g}),(e,t)=>(U(),W(`table`,{role:`grid`,"aria-label":R(s)(`el.datepicker.yearTablePrompt`),class:F(R(o).b()),onClick:y,onMousemove:b},[K(`tbody`,{ref_key:`tbodyRef`,ref:l},[(U(!0),W(va,null,ti(h.value,(e,t)=>(U(),W(`tr`,{key:t},[(U(!0),W(va,null,ti(e,(e,n)=>(U(),W(`td`,{key:`${t}_${n}`,ref_for:!0,ref:t=>e.isSelected&&(u.value=t),class:F([`available`,_(e)]),"aria-selected":e.isSelected,"aria-label":String(e.text),tabindex:e.isSelected?0:-1,onKeydown:[Ps(Ms(y,[`prevent`,`stop`]),[`space`]),Ps(Ms(y,[`prevent`,`stop`]),[`enter`])]},[q(R(zD),{cell:e},null,8,[`cell`])],42,Qoe))),128))]))),128))],512)],42,Zoe))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-year-table.vue`]]),GD=l(qw(),1),$oe=[`disabled`,`onClick`],ese=[`aria-label`,`disabled`],tse=[`aria-label`,`disabled`],nse=[`tabindex`,`aria-disabled`],rse=[`tabindex`,`aria-disabled`],ise=[`aria-label`,`disabled`],ase=[`aria-label`,`disabled`],ose=b_(V({__name:`panel-date-pick`,props:Roe,emits:[`pick`,`set-picker-option`,`panel-change`],setup(e,{emit:t}){let n=(e,t,n)=>!0,r=e,i=t,a=X(`picker-panel`),o=X(`date-picker`),s=ui(),c=li(),{t:l,lang:u}=Zg(),d=qn(rD),f=qn(TD,void 0),{shortcuts:p,disabledDate:m,cellClassName:h,defaultTime:g}=d.props,_=fn(d.props,`defaultValue`),v=L(),y=L((0,GD.default)().locale(u.value)),b=L(!1),S=!1,C=Y(()=>(0,GD.default)(g).locale(u.value)),w=Y(()=>y.value.month()),E=Y(()=>y.value.year()),D=L([]),O=L(null),k=L(null),A=e=>D.value.length>0?n(e,D.value,r.format||`HH:mm:ss`):!0,j=e=>g&&!xe.value&&!b.value&&!S?C.value.year(e.year()).month(e.month()).date(e.date()):fe.value?e.millisecond(0):e.startOf(`day`),M=(e,...t)=>{e?x(e)?i(`pick`,e.map(j),...t):i(`pick`,j(e),...t):i(`pick`,e,...t),O.value=null,k.value=null,b.value=!1,S=!1},ee=async(e,t)=>{if(P.value===`date`&&GD.default.isDayjs(e)){let n=DC(r.parsedValue),i=n?n.year(e.year()).month(e.month()).date(e.date()):e;A(i)||(i=D.value[0][0].year(e.year()).month(e.month()).date(e.date())),y.value=i,M(i,fe.value||t)}else P.value===`week`?M(e.date):P.value===`dates`&&M(e,!0)},te=e=>{let t=e?`add`:`subtract`;y.value=y.value[t](1,`month`),Le(`month`)},N=e=>{let t=y.value,n=e?`add`:`subtract`;y.value=ne.value===`year`?t[n](10,`year`):t[n](1,`year`),Le(`year`)},ne=L(`date`),re=Y(()=>{let e=l(`el.datepicker.year`);if(ne.value===`year`){let t=Math.floor(E.value/10)*10;return e?`${t} ${e} - ${t+9} ${e}`:`${t} - ${t+9}`}return`${E.value} ${e}`}),ie=e=>{let t=T(e.value)?e.value():e.value;if(t){S=!0,M((0,GD.default)(t).locale(u.value));return}e.onClick&&e.onClick({attrs:s,slots:c,emit:i})},P=Y(()=>{let{type:e}=r;return[`week`,`month`,`months`,`year`,`years`,`dates`].includes(e)?e:`date`}),ae=Y(()=>P.value===`dates`||P.value===`months`||P.value===`years`),oe=Y(()=>P.value===`date`?ne.value:P.value),se=Y(()=>!!p.length),ce=async(e,t)=>{P.value===`month`?(y.value=PD(y.value,y.value.year(),e,u.value,m),M(y.value,!1)):P.value===`months`?M(e,t??!0):(y.value=PD(y.value,y.value.year(),e,u.value,m),ne.value=`date`,[`month`,`year`,`date`,`week`].includes(P.value)&&(M(y.value,!0),await Mn(),Ne())),Le(`month`)},le=async(e,t)=>{P.value===`year`?(y.value=FD(y.value.startOf(`year`).year(e),u.value,m),M(y.value,!1)):P.value===`years`?M(e,t??!0):(y.value=FD(y.value.year(e),u.value,m),ne.value=`month`,[`month`,`year`,`date`,`week`].includes(P.value)&&(M(y.value,!0),await Mn(),Ne())),Le(`year`)},ue=Dy(),de=async e=>{ue.value||(ne.value=e,await Mn(),Ne())},fe=Y(()=>r.type===`datetime`||r.type===`datetimerange`),pe=Y(()=>{let e=fe.value||P.value===`dates`,t=P.value===`years`,n=P.value===`months`,r=ne.value===`date`,i=ne.value===`year`,a=ne.value===`month`;return e&&r||t&&i||n&&a}),me=Y(()=>!ae.value&&r.showNow||r.showConfirm),he=Y(()=>m?r.parsedValue?x(r.parsedValue)?m(r.parsedValue[0].toDate()):m(r.parsedValue.toDate()):!0:!1),ge=()=>{if(ae.value)M(r.parsedValue);else{let e=DC(r.parsedValue);if(!e){let t=(0,GD.default)(g).locale(u.value),n=Me();e=t.year(n.year()).month(n.month()).date(n.date())}y.value=e,M(e)}},_e=Y(()=>m?m((0,GD.default)().locale(u.value).toDate()):!1),ve=()=>{let e=(0,GD.default)().locale(u.value).toDate();b.value=!0,(!m||!m(e))&&A(e)&&(y.value=(0,GD.default)().locale(u.value),M(y.value))},ye=Y(()=>r.timeFormat||Qw(r.format)||`HH:mm:ss`),be=Y(()=>r.dateFormat||Zw(r.format)||`YYYY-MM-DD`),xe=Y(()=>{if(k.value)return k.value;if(!(!r.parsedValue&&!_.value))return(DC(r.parsedValue)||y.value).format(ye.value)}),Se=Y(()=>{if(O.value)return O.value;if(!(!r.parsedValue&&!_.value))return(DC(r.parsedValue)||y.value).format(be.value)}),Ce=L(!1),we=()=>{Ce.value=!0},Te=()=>{Ce.value=!1},Ee=e=>({hour:e.hour(),minute:e.minute(),second:e.second(),year:e.year(),month:e.month(),date:e.date()}),De=(e,t,n)=>{let{hour:i,minute:a,second:o}=Ee(e),s=DC(r.parsedValue);y.value=s?s.hour(i).minute(a).second(o):e,M(y.value,!0),n||(Ce.value=t)},Oe=e=>{let t=(0,GD.default)(e,ye.value).locale(u.value);if(t.isValid()&&A(t)){let{year:e,month:n,date:r}=Ee(y.value);y.value=t.year(e).month(n).date(r),k.value=null,Ce.value=!1,M(y.value,!0)}},ke=e=>{let t=ID(e,be.value,u.value,f);if(t.isValid()){if(m&&m(t.toDate()))return;let{hour:e,minute:n,second:r}=Ee(y.value);y.value=t.hour(e).minute(n).second(r),O.value=null,M(y.value,!0)}},Ae=e=>GD.default.isDayjs(e)&&e.isValid()&&(m?!m(e.toDate()):!0),je=e=>ID(e,r.format,u.value,f),Me=()=>{let e=(0,GD.default)(_.value).locale(u.value);if(!_.value){let e=C.value;return(0,GD.default)().hour(e.hour()).minute(e.minute()).second(e.second()).locale(u.value)}return e},Ne=()=>{var e;[`week`,`month`,`year`,`date`].includes(P.value)&&((e=v.value)==null||e.focus())},Pe=()=>{Ne(),P.value===`week`&&Ie(Q.down)},Fe=e=>{let t=Gb(e);[Q.up,Q.down,Q.left,Q.right,Q.home,Q.end,Q.pageUp,Q.pageDown].includes(t)&&(Ie(t),e.stopPropagation(),e.preventDefault()),[Q.enter,Q.space,Q.numpadEnter].includes(t)&&O.value===null&&k.value===null&&(e.preventDefault(),M(y.value,!1))},Ie=e=>{let{up:t,down:n,left:r,right:a,home:o,end:s,pageUp:c,pageDown:l}=Q,d={year:{[t]:-4,[n]:4,[r]:-1,[a]:1,offset:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{[t]:-4,[n]:4,[r]:-1,[a]:1,offset:(e,t)=>e.setMonth(e.getMonth()+t)},week:{[t]:-1,[n]:1,[r]:-1,[a]:1,offset:(e,t)=>e.setDate(e.getDate()+t*7)},date:{[t]:-7,[n]:7,[r]:-1,[a]:1,[o]:e=>-e.getDay(),[s]:e=>-e.getDay()+6,[c]:e=>-new Date(e.getFullYear(),e.getMonth(),0).getDate(),[l]:e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),offset:(e,t)=>e.setDate(e.getDate()+t)}},f=y.value.toDate();for(;Math.abs(y.value.diff(f,`year`,!0))<1;){let t=d[oe.value];if(!t)return;if(t.offset(f,T(t[e])?t[e](f):t[e]??0),m&&m(f))break;let n=(0,GD.default)(f).locale(u.value);y.value=n,i(`pick`,n,!0);break}},Le=e=>{i(`panel-change`,y.value.toDate(),e,ne.value)};return B(()=>P.value,e=>{if([`month`,`year`].includes(e)){ne.value=e;return}else if(e===`years`){ne.value=`year`;return}else if(e===`months`){ne.value=`month`;return}ne.value=`date`},{immediate:!0}),B(()=>_.value,e=>{e&&(y.value=Me())},{immediate:!0}),B(()=>r.parsedValue,e=>{if(e){if(ae.value||x(e))return;y.value=e}else y.value=Me()},{immediate:!0}),i(`set-picker-option`,[`isValidValue`,Ae]),i(`set-picker-option`,[`parseUserInput`,je]),i(`set-picker-option`,[`handleFocusPicker`,Pe]),(e,t)=>(U(),W(`div`,{class:F([R(a).b(),R(o).b(),R(a).is(`border`,e.border),R(a).is(`disabled`,R(ue)),{"has-sidebar":e.$slots.sidebar||se.value,"has-time":fe.value}])},[K(`div`,{class:F(R(a).e(`body-wrapper`))},[H(e.$slots,`sidebar`,{class:F(R(a).e(`sidebar`))}),se.value?(U(),W(`div`,{key:0,class:F(R(a).e(`sidebar`))},[(U(!0),W(va,null,ti(R(p),(e,t)=>(U(),W(`button`,{key:t,type:`button`,disabled:R(ue),class:F(R(a).e(`shortcut`)),onClick:t=>ie(e)},I(e.text),11,$oe))),128))],2)):J(`v-if`,!0),K(`div`,{class:F(R(a).e(`body`))},[fe.value?(U(),W(`div`,{key:0,class:F(R(o).e(`time-header`))},[K(`span`,{class:F(R(o).e(`editor-wrap`))},[q(R(Wy),{placeholder:R(l)(`el.datepicker.selectDate`),"model-value":Se.value,size:`small`,"validate-event":!1,disabled:R(ue),readonly:!e.editable,onInput:t[0]||=e=>O.value=e,onChange:ke},null,8,[`placeholder`,`model-value`,`disabled`,`readonly`])],2),Wn((U(),W(`span`,{class:F(R(o).e(`editor-wrap`))},[q(R(Wy),{placeholder:R(l)(`el.datepicker.selectTime`),"model-value":xe.value,size:`small`,"validate-event":!1,disabled:R(ue),readonly:!e.editable,onFocus:we,onInput:t[1]||=e=>k.value=e,onChange:Oe},null,8,[`placeholder`,`model-value`,`disabled`,`readonly`]),q(R(SD),{visible:Ce.value,format:ye.value,"parsed-value":y.value,onPick:De},null,8,[`visible`,`format`,`parsed-value`])],2)),[[R(zT),Te]])],2)):J(`v-if`,!0),Wn(K(`div`,{class:F([R(o).e(`header`),(ne.value===`year`||ne.value===`month`)&&R(o).em(`header`,`bordered`)])},[K(`span`,{class:F(R(o).e(`prev-btn`))},[K(`button`,{type:`button`,"aria-label":R(l)(`el.datepicker.prevYear`),class:F([`d-arrow-left`,R(a).e(`icon-btn`)]),disabled:R(ue),onClick:t[2]||=e=>N(!1)},[H(e.$slots,`prev-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(mv))]),_:1})])],10,ese),Wn(K(`button`,{type:`button`,"aria-label":R(l)(`el.datepicker.prevMonth`),class:F([R(a).e(`icon-btn`),`arrow-left`]),disabled:R(ue),onClick:t[3]||=e=>te(!1)},[H(e.$slots,`prev-month`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(ev))]),_:1})])],10,tse),[[Lo,ne.value===`date`]])],2),K(`span`,{role:`button`,class:F(R(o).e(`header-label`)),"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:t[4]||=Ps(e=>de(`year`),[`enter`]),onClick:t[5]||=e=>de(`year`)},I(re.value),43,nse),Wn(K(`span`,{role:`button`,"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:F([R(o).e(`header-label`),{active:ne.value===`month`}]),onKeydown:t[6]||=Ps(e=>de(`month`),[`enter`]),onClick:t[7]||=e=>de(`month`)},I(R(l)(`el.datepicker.month${w.value+1}`)),43,rse),[[Lo,ne.value===`date`]]),K(`span`,{class:F(R(o).e(`next-btn`))},[Wn(K(`button`,{type:`button`,"aria-label":R(l)(`el.datepicker.nextMonth`),class:F([R(a).e(`icon-btn`),`arrow-right`]),disabled:R(ue),onClick:t[8]||=e=>te(!0)},[H(e.$slots,`next-month`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(tv))]),_:1})])],10,ise),[[Lo,ne.value===`date`]]),K(`button`,{type:`button`,"aria-label":R(l)(`el.datepicker.nextYear`),class:F([R(a).e(`icon-btn`),`d-arrow-right`]),disabled:R(ue),onClick:t[9]||=e=>N(!0)},[H(e.$slots,`next-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(hv))]),_:1})])],10,ase)],2)],2),[[Lo,ne.value!==`time`]]),K(`div`,{class:F(R(a).e(`content`)),onKeydown:Fe},[ne.value===`date`?(U(),G(BD,{key:0,ref_key:`currentViewRef`,ref:v,"selection-mode":P.value,date:y.value,"parsed-value":e.parsedValue,"disabled-date":R(m),disabled:R(ue),"cell-class-name":R(h),"show-week-number":e.showWeekNumber,onPick:ee},null,8,[`selection-mode`,`date`,`parsed-value`,`disabled-date`,`disabled`,`cell-class-name`,`show-week-number`])):J(`v-if`,!0),ne.value===`year`?(U(),G(WD,{key:1,ref_key:`currentViewRef`,ref:v,"selection-mode":P.value,date:y.value,"disabled-date":R(m),disabled:R(ue),"parsed-value":e.parsedValue,"cell-class-name":R(h),onPick:le},null,8,[`selection-mode`,`date`,`disabled-date`,`disabled`,`parsed-value`,`cell-class-name`])):J(`v-if`,!0),ne.value===`month`?(U(),G(HD,{key:2,ref_key:`currentViewRef`,ref:v,"selection-mode":P.value,date:y.value,"parsed-value":e.parsedValue,"disabled-date":R(m),disabled:R(ue),"cell-class-name":R(h),onPick:ce},null,8,[`selection-mode`,`date`,`parsed-value`,`disabled-date`,`disabled`,`cell-class-name`])):J(`v-if`,!0)],34)],2)],2),e.showFooter&&pe.value&&me.value?(U(),W(`div`,{key:0,class:F(R(a).e(`footer`))},[Wn(q(R(Gw),{text:``,size:`small`,class:F(R(a).e(`link-btn`)),disabled:_e.value,onClick:ve},{default:z(()=>[Fa(I(R(l)(`el.datepicker.now`)),1)]),_:1},8,[`class`,`disabled`]),[[Lo,!ae.value&&e.showNow]]),e.showConfirm?(U(),G(R(Gw),{key:0,plain:``,size:`small`,class:F(R(a).e(`link-btn`)),disabled:he.value,onClick:ge},{default:z(()=>[Fa(I(R(l)(`el.datepicker.confirm`)),1)]),_:1},8,[`class`,`disabled`])):J(`v-if`,!0)],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-pick.vue`]]),sse=t_({...DD,...OD}),KD=l(qw(),1),cse=e=>{let{emit:t}=Ga(),n=ui(),r=li();return i=>{let a=T(i.value)?i.value():i.value;if(a){t(`pick`,[(0,KD.default)(a[0]).locale(e.value),(0,KD.default)(a[1]).locale(e.value)]);return}i.onClick&&i.onClick({attrs:n,slots:r,emit:t})}},qD=l(qw(),1),JD=(e,{defaultValue:t,defaultTime:n,leftDate:r,rightDate:i,step:a,unit:o,sortDates:s})=>{let{emit:c}=Ga(),{pickerNs:l}=qn(wD),u=X(`date-range-picker`),{t:d,lang:f}=Zg(),p=cse(f),m=L(),h=L(),g=L({endDate:null,selecting:!1}),_=e=>{g.value=e},v=(e=!1)=>{let t=R(m),n=R(h);jD([t,n])&&c(`pick`,[t,n],e)},y=e=>{g.value.selecting=e,e||(g.value.endDate=null)},b=e=>{if(x(e)&&e.length===2){let[t,n]=e;m.value=t,r.value=t,h.value=n,s(R(m),R(h))}else S()},S=()=>{let[s,c]=MD(R(t),{lang:R(f),step:a,unit:o,unlinkPanels:e.unlinkPanels}),l=e=>e.diff(e.startOf(`d`),`ms`),u=R(n);if(u){let e=0,t=0;if(x(u)){let[n,r]=u.map(qD.default);e=l(n),t=l(r)}else{let n=l((0,qD.default)(u));e=n,t=n}s=s.startOf(`d`).add(e,`ms`),c=c.startOf(`d`).add(t,`ms`)}m.value=void 0,h.value=void 0,r.value=s,i.value=c};return B(t,e=>{e&&S()},{immediate:!0}),B(()=>e.parsedValue,e=>{(!e?.length||!oh(e,[m.value,h.value]))&&b(e)},{immediate:!0}),B(()=>e.visible,()=>{e.visible&&b(e.parsedValue)},{immediate:!0}),{minDate:m,maxDate:h,rangeState:g,lang:f,ppNs:l,drpNs:u,handleChangeRange:_,handleRangeConfirm:v,handleShortcutClick:p,onSelect:y,parseValue:b,t:d}},lse=(e,t,n,r)=>{let i=L(`date`),a=L(),o=L(`date`),s=L(),{disabledDate:c}=qn(rD).props,{t:l,lang:u}=Zg(),d=Y(()=>n.value.year()),f=Y(()=>n.value.month()),p=Y(()=>r.value.year()),m=Y(()=>r.value.month());function h(e,t){let n=l(`el.datepicker.year`);if(e.value===`year`){let e=Math.floor(t.value/10)*10;return n?`${e} ${n} - ${e+9} ${n}`:`${e} - ${e+9}`}return`${t.value} ${n}`}function g(e){e?.focus()}async function _(t,n){if(e.disabled)return;let r=t===`left`?i:o,c=t===`left`?a:s;r.value=n,await Mn(),g(c.value)}async function v(t,l,d){if(e.disabled)return;let f=l===`left`,p=f?n:r,m=f?r:n,h=f?i:o,_=f?a:s;t===`year`&&(p.value=FD(p.value.year(d),u.value,c)),t===`month`&&(p.value=PD(p.value,p.value.year(),d,u.value,c)),e.unlinkPanels||(m.value=l===`left`?p.value.add(1,`month`):p.value.subtract(1,`month`)),h.value=t===`year`?`month`:`date`,await Mn(),g(_.value),y(t)}function y(e){t(`panel-change`,[n.value.toDate(),r.value.toDate()],e)}function b(e,t,n){let r=n?`add`:`subtract`;return e===`year`?t[r](10,`year`):t[r](1,`year`)}return{leftCurrentView:i,rightCurrentView:o,leftCurrentViewRef:a,rightCurrentViewRef:s,leftYear:d,rightYear:p,leftMonth:f,rightMonth:m,leftYearLabel:Y(()=>h(i,d)),rightYearLabel:Y(()=>h(o,p)),showLeftPicker:e=>_(`left`,e),showRightPicker:e=>_(`right`,e),handleLeftYearPick:e=>v(`year`,`left`,e),handleRightYearPick:e=>v(`year`,`right`,e),handleLeftMonthPick:e=>v(`month`,`left`,e),handleRightMonthPick:e=>v(`month`,`right`,e),handlePanelChange:y,adjustDateByView:b}},YD=l(qw(),1),use=[`disabled`,`onClick`],dse=[`aria-label`,`disabled`],fse=[`aria-label`,`disabled`],pse=[`disabled`,`aria-label`],mse=[`disabled`,`aria-label`],hse=[`tabindex`,`aria-disabled`],gse=[`tabindex`,`aria-disabled`],_se=[`disabled`,`aria-label`],vse=[`disabled`,`aria-label`],yse=[`aria-label`,`disabled`],bse=[`disabled`,`aria-label`],xse=[`tabindex`,`aria-disabled`],Sse=[`tabindex`,`aria-disabled`],XD=`month`,Cse=b_(V({__name:`panel-date-range`,props:sse,emits:[`pick`,`set-picker-option`,`calendar-change`,`panel-change`,`clear`],setup(e,{emit:t}){let n=e,r=t,i=qn(rD),a=qn(TD,void 0),{disabledDate:o,cellClassName:s,defaultTime:c,clearable:l}=i.props,u=fn(i.props,`format`),d=fn(i.props,`shortcuts`),f=fn(i.props,`defaultValue`),{lang:p}=Zg(),m=L((0,YD.default)().locale(p.value)),h=L((0,YD.default)().locale(p.value).add(1,XD)),{minDate:g,maxDate:_,rangeState:v,ppNs:y,drpNs:b,handleChangeRange:x,handleRangeConfirm:S,handleShortcutClick:C,onSelect:w,parseValue:T,t:E}=JD(n,{defaultValue:f,defaultTime:c,leftDate:m,rightDate:h,unit:XD,sortDates:Je});B(()=>n.visible,e=>{!e&&v.value.selecting&&(T(n.parsedValue),w(!1))});let D=L({min:null,max:null}),O=L({min:null,max:null}),{leftCurrentView:k,rightCurrentView:A,leftCurrentViewRef:j,rightCurrentViewRef:M,leftYear:ee,rightYear:te,leftMonth:N,rightMonth:ne,leftYearLabel:re,rightYearLabel:ie,showLeftPicker:P,showRightPicker:ae,handleLeftYearPick:oe,handleRightYearPick:se,handleLeftMonthPick:ce,handleRightMonthPick:le,handlePanelChange:ue,adjustDateByView:de}=lse(n,r,m,h),fe=Y(()=>!!d.value.length),pe=Y(()=>D.value.min===null?g.value?g.value.format(ve.value):``:D.value.min),me=Y(()=>D.value.max===null?_.value||g.value?(_.value||g.value).format(ve.value):``:D.value.max),he=Y(()=>O.value.min===null?g.value?g.value.format(_e.value):``:O.value.min),ge=Y(()=>O.value.max===null?_.value||g.value?(_.value||g.value).format(_e.value):``:O.value.max),_e=Y(()=>n.timeFormat||Qw(u.value||``)||`HH:mm:ss`),ve=Y(()=>n.dateFormat||Zw(u.value||``)||`YYYY-MM-DD`),ye=e=>jD(e)&&(o?!o(e[0].toDate())&&!o(e[1].toDate()):!0),be=()=>{m.value=de(k.value,m.value,!1),n.unlinkPanels||(h.value=m.value.add(1,`month`)),ue(`year`)},xe=()=>{m.value=m.value.subtract(1,`month`),n.unlinkPanels||(h.value=m.value.add(1,`month`)),ue(`month`)},Se=()=>{n.unlinkPanels?h.value=de(A.value,h.value,!0):(m.value=de(A.value,m.value,!0),h.value=m.value.add(1,`month`)),ue(`year`)},Ce=()=>{n.unlinkPanels?h.value=h.value.add(1,`month`):(m.value=m.value.add(1,`month`),h.value=m.value.add(1,`month`)),ue(`month`)},we=()=>{m.value=de(k.value,m.value,!0),ue(`year`)},Te=()=>{m.value=m.value.add(1,`month`),ue(`month`)},Ee=()=>{h.value=de(A.value,h.value,!1),ue(`year`)},De=()=>{h.value=h.value.subtract(1,`month`),ue(`month`)},Oe=Y(()=>{let e=(N.value+1)%12,t=N.value+1>=12?1:0;return n.unlinkPanels&&new Date(ee.value+t,e)<new Date(te.value,ne.value)}),ke=Y(()=>n.unlinkPanels&&te.value*12+ne.value-(ee.value*12+N.value+1)>=12),Ae=Dy(),je=Y(()=>!(g.value&&_.value&&!v.value.selecting&&jD([g.value,_.value])&&!Ae.value)),Me=Y(()=>n.type===`datetime`||n.type===`datetimerange`),Ne=(e,t)=>{if(e)return c?(0,YD.default)(c[t]||c).locale(p.value).year(e.year()).month(e.month()).date(e.date()):e},Pe=(e,t=!0)=>{let n=e.minDate,i=e.maxDate,a=Ne(n,0),o=Ne(i,1);_.value===o&&g.value===a||(r(`calendar-change`,[n.toDate(),i&&i.toDate()]),_.value=o,g.value=a,!Me.value&&t&&(t=!a||!o),S(t))},Fe=L(!1),Ie=L(!1),Le=()=>{Fe.value=!1},Re=()=>{Ie.value=!1},ze=(e,t)=>{D.value[t]=e;let r=(0,YD.default)(e,ve.value).locale(p.value);if(r.isValid()){if(o&&o(r.toDate()))return;t===`min`?(m.value=r,g.value=(g.value||m.value).year(r.year()).month(r.month()).date(r.date()),!n.unlinkPanels&&(!_.value||_.value.isBefore(g.value))&&(h.value=r.add(1,`month`),_.value=g.value.add(1,`month`))):(h.value=r,_.value=(_.value||h.value).year(r.year()).month(r.month()).date(r.date()),!n.unlinkPanels&&(!g.value||g.value.isAfter(_.value))&&(m.value=r.subtract(1,`month`),g.value=_.value.subtract(1,`month`))),Je(g.value,_.value),S(!0)}},Be=(e,t)=>{D.value[t]=null},Ve=(e,t)=>{O.value[t]=e;let n=(0,YD.default)(e,_e.value).locale(p.value);n.isValid()&&(t===`min`?(Fe.value=!0,g.value=(g.value||m.value).hour(n.hour()).minute(n.minute()).second(n.second()),m.value=g.value):(Ie.value=!0,_.value=(_.value||h.value).hour(n.hour()).minute(n.minute()).second(n.second()),h.value=_.value))},He=(e,t)=>{O.value[t]=null,t===`min`?(m.value=g.value,Fe.value=!1,(!_.value||_.value.isBefore(g.value))&&(_.value=g.value)):(h.value=_.value,Ie.value=!1,_.value&&_.value.isBefore(g.value)&&(g.value=_.value)),S(!0)},Ue=(e,t,r)=>{O.value.min||(e&&(g.value=(g.value||m.value).hour(e.hour()).minute(e.minute()).second(e.second())),r||(Fe.value=t),(!_.value||_.value.isBefore(g.value))&&(_.value=g.value,h.value=e,Mn(()=>{T(n.parsedValue)})),S(!0))},We=(e,t,n)=>{O.value.max||(e&&(_.value=(_.value||h.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(Ie.value=t),_.value&&_.value.isBefore(g.value)&&(g.value=_.value),S(!0))},Ge=()=>{Ke(),r(`clear`)},Ke=()=>{let e=null;i?.emptyValues&&(e=i.emptyValues.valueOnClear.value),m.value=MD(R(f),{lang:R(p),unit:`month`,unlinkPanels:n.unlinkPanels})[0],h.value=m.value.add(1,`month`),_.value=void 0,g.value=void 0,S(!0),r(`pick`,e)},qe=e=>ID(e,u.value||``,p.value,a);function Je(e,t){if(n.unlinkPanels&&t){let n=e?.year()||0,r=e?.month()||0,i=t.year(),a=t.month();h.value=n===i&&r===a?t.add(1,XD):t}else h.value=m.value.add(1,XD),t&&(h.value=h.value.hour(t.hour()).minute(t.minute()).second(t.second()))}return r(`set-picker-option`,[`isValidValue`,ye]),r(`set-picker-option`,[`parseUserInput`,qe]),r(`set-picker-option`,[`handleClear`,Ke]),(e,t)=>(U(),W(`div`,{class:F([R(y).b(),R(b).b(),R(y).is(`border`,e.border),R(y).is(`disabled`,R(Ae)),{"has-sidebar":e.$slots.sidebar||fe.value,"has-time":Me.value}])},[K(`div`,{class:F(R(y).e(`body-wrapper`))},[H(e.$slots,`sidebar`,{class:F(R(y).e(`sidebar`))}),fe.value?(U(),W(`div`,{key:0,class:F(R(y).e(`sidebar`))},[(U(!0),W(va,null,ti(d.value,(e,t)=>(U(),W(`button`,{key:t,type:`button`,disabled:R(Ae),class:F(R(y).e(`shortcut`)),onClick:t=>R(C)(e)},I(e.text),11,use))),128))],2)):J(`v-if`,!0),K(`div`,{class:F(R(y).e(`body`))},[Me.value?(U(),W(`div`,{key:0,class:F(R(b).e(`time-header`))},[K(`span`,{class:F(R(b).e(`editors-wrap`))},[K(`span`,{class:F(R(b).e(`time-picker-wrap`))},[q(R(Wy),{size:`small`,disabled:R(v).selecting||R(Ae),placeholder:R(E)(`el.datepicker.startDate`),class:F(R(b).e(`editor`)),"model-value":pe.value,"validate-event":!1,readonly:!e.editable,onInput:t[0]||=e=>ze(e,`min`),onChange:t[1]||=e=>Be(e,`min`)},null,8,[`disabled`,`placeholder`,`class`,`model-value`,`readonly`])],2),Wn((U(),W(`span`,{class:F(R(b).e(`time-picker-wrap`))},[q(R(Wy),{size:`small`,class:F(R(b).e(`editor`)),disabled:R(v).selecting||R(Ae),placeholder:R(E)(`el.datepicker.startTime`),"model-value":he.value,"validate-event":!1,readonly:!e.editable,onFocus:t[2]||=e=>Fe.value=!0,onInput:t[3]||=e=>Ve(e,`min`),onChange:t[4]||=e=>He(e,`min`)},null,8,[`class`,`disabled`,`placeholder`,`model-value`,`readonly`]),q(R(SD),{visible:Fe.value,format:_e.value,"datetime-role":`start`,"parsed-value":R(g)||m.value,onPick:Ue},null,8,[`visible`,`format`,`parsed-value`])],2)),[[R(zT),Le]])],2),K(`span`,null,[q(R(Q_),null,{default:z(()=>[q(R(tv))]),_:1})]),K(`span`,{class:F([R(b).e(`editors-wrap`),`is-right`])},[K(`span`,{class:F(R(b).e(`time-picker-wrap`))},[q(R(Wy),{size:`small`,class:F(R(b).e(`editor`)),disabled:R(v).selecting||R(Ae),placeholder:R(E)(`el.datepicker.endDate`),"model-value":me.value,readonly:!R(g)||!e.editable,"validate-event":!1,onInput:t[5]||=e=>ze(e,`max`),onChange:t[6]||=e=>Be(e,`max`)},null,8,[`class`,`disabled`,`placeholder`,`model-value`,`readonly`])],2),Wn((U(),W(`span`,{class:F(R(b).e(`time-picker-wrap`))},[q(R(Wy),{size:`small`,class:F(R(b).e(`editor`)),disabled:R(v).selecting||R(Ae),placeholder:R(E)(`el.datepicker.endTime`),"model-value":ge.value,readonly:!R(g)||!e.editable,"validate-event":!1,onFocus:t[7]||=e=>R(g)&&(Ie.value=!0),onInput:t[8]||=e=>Ve(e,`max`),onChange:t[9]||=e=>He(e,`max`)},null,8,[`class`,`disabled`,`placeholder`,`model-value`,`readonly`]),q(R(SD),{"datetime-role":`end`,visible:Ie.value,format:_e.value,"parsed-value":R(_)||h.value,onPick:We},null,8,[`visible`,`format`,`parsed-value`])],2)),[[R(zT),Re]])],2)],2)):J(`v-if`,!0),K(`div`,{class:F([[R(y).e(`content`),R(b).e(`content`)],`is-left`])},[K(`div`,{class:F(R(b).e(`header`))},[K(`button`,{type:`button`,class:F([R(y).e(`icon-btn`),`d-arrow-left`]),"aria-label":R(E)(`el.datepicker.prevYear`),disabled:R(Ae),onClick:be},[H(e.$slots,`prev-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(mv))]),_:1})])],10,dse),Wn(K(`button`,{type:`button`,class:F([R(y).e(`icon-btn`),`arrow-left`]),"aria-label":R(E)(`el.datepicker.prevMonth`),disabled:R(Ae),onClick:xe},[H(e.$slots,`prev-month`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(ev))]),_:1})])],10,fse),[[Lo,R(k)===`date`]]),e.unlinkPanels?(U(),W(`button`,{key:0,type:`button`,disabled:!ke.value||R(Ae),class:F([[R(y).e(`icon-btn`),R(y).is(`disabled`,!ke.value||R(Ae))],`d-arrow-right`]),"aria-label":R(E)(`el.datepicker.nextYear`),onClick:we},[H(e.$slots,`next-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(hv))]),_:1})])],10,pse)):J(`v-if`,!0),e.unlinkPanels&&R(k)===`date`?(U(),W(`button`,{key:1,type:`button`,disabled:!Oe.value||R(Ae),class:F([[R(y).e(`icon-btn`),R(y).is(`disabled`,!Oe.value||R(Ae))],`arrow-right`]),"aria-label":R(E)(`el.datepicker.nextMonth`),onClick:Te},[H(e.$slots,`next-month`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(tv))]),_:1})])],10,mse)):J(`v-if`,!0),K(`div`,null,[K(`span`,{role:`button`,class:F(R(b).e(`header-label`)),"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:t[10]||=Ps(e=>R(P)(`year`),[`enter`]),onClick:t[11]||=e=>R(P)(`year`)},I(R(re)),43,hse),Wn(K(`span`,{role:`button`,"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:F([R(b).e(`header-label`),{active:R(k)===`month`}]),onKeydown:t[12]||=Ps(e=>R(P)(`month`),[`enter`]),onClick:t[13]||=e=>R(P)(`month`)},I(R(E)(`el.datepicker.month${m.value.month()+1}`)),43,gse),[[Lo,R(k)===`date`]])])],2),R(k)===`date`?(U(),G(BD,{key:0,ref_key:`leftCurrentViewRef`,ref:j,"selection-mode":`range`,date:m.value,"min-date":R(g),"max-date":R(_),"range-state":R(v),"disabled-date":R(o),"cell-class-name":R(s),"show-week-number":e.showWeekNumber,disabled:R(Ae),onChangerange:R(x),onPick:Pe,onSelect:R(w)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`cell-class-name`,`show-week-number`,`disabled`,`onChangerange`,`onSelect`])):J(`v-if`,!0),R(k)===`year`?(U(),G(WD,{key:1,ref_key:`leftCurrentViewRef`,ref:j,"selection-mode":`year`,date:m.value,"disabled-date":R(o),"parsed-value":e.parsedValue,disabled:R(Ae),onPick:R(oe)},null,8,[`date`,`disabled-date`,`parsed-value`,`disabled`,`onPick`])):J(`v-if`,!0),R(k)===`month`?(U(),G(HD,{key:2,ref_key:`leftCurrentViewRef`,ref:j,"selection-mode":`month`,date:m.value,"parsed-value":e.parsedValue,"disabled-date":R(o),disabled:R(Ae),onPick:R(ce)},null,8,[`date`,`parsed-value`,`disabled-date`,`disabled`,`onPick`])):J(`v-if`,!0)],2),K(`div`,{class:F([[R(y).e(`content`),R(b).e(`content`)],`is-right`])},[K(`div`,{class:F(R(b).e(`header`))},[e.unlinkPanels?(U(),W(`button`,{key:0,type:`button`,disabled:!ke.value||R(Ae),class:F([R(y).e(`icon-btn`),`d-arrow-left`]),"aria-label":R(E)(`el.datepicker.prevYear`),onClick:Ee},[H(e.$slots,`prev-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(mv))]),_:1})])],10,_se)):J(`v-if`,!0),e.unlinkPanels&&R(A)===`date`?(U(),W(`button`,{key:1,type:`button`,disabled:!Oe.value||R(Ae),class:F([R(y).e(`icon-btn`),`arrow-left`]),"aria-label":R(E)(`el.datepicker.prevMonth`),onClick:De},[H(e.$slots,`prev-month`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(ev))]),_:1})])],10,vse)):J(`v-if`,!0),K(`button`,{type:`button`,"aria-label":R(E)(`el.datepicker.nextYear`),class:F([R(y).e(`icon-btn`),`d-arrow-right`]),disabled:R(Ae),onClick:Se},[H(e.$slots,`next-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(hv))]),_:1})])],10,yse),Wn(K(`button`,{type:`button`,class:F([R(y).e(`icon-btn`),`arrow-right`]),disabled:R(Ae),"aria-label":R(E)(`el.datepicker.nextMonth`),onClick:Ce},[H(e.$slots,`next-month`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(tv))]),_:1})])],10,bse),[[Lo,R(A)===`date`]]),K(`div`,null,[K(`span`,{role:`button`,class:F(R(b).e(`header-label`)),"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:t[14]||=Ps(e=>R(ae)(`year`),[`enter`]),onClick:t[15]||=e=>R(ae)(`year`)},I(R(ie)),43,xse),Wn(K(`span`,{role:`button`,"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:F([R(b).e(`header-label`),{active:R(A)===`month`}]),onKeydown:t[16]||=Ps(e=>R(ae)(`month`),[`enter`]),onClick:t[17]||=e=>R(ae)(`month`)},I(R(E)(`el.datepicker.month${h.value.month()+1}`)),43,Sse),[[Lo,R(A)===`date`]])])],2),R(A)===`date`?(U(),G(BD,{key:0,ref_key:`rightCurrentViewRef`,ref:M,"selection-mode":`range`,date:h.value,"min-date":R(g),"max-date":R(_),"range-state":R(v),"disabled-date":R(o),"cell-class-name":R(s),"show-week-number":e.showWeekNumber,disabled:R(Ae),onChangerange:R(x),onPick:Pe,onSelect:R(w)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`cell-class-name`,`show-week-number`,`disabled`,`onChangerange`,`onSelect`])):J(`v-if`,!0),R(A)===`year`?(U(),G(WD,{key:1,ref_key:`rightCurrentViewRef`,ref:M,"selection-mode":`year`,date:h.value,"disabled-date":R(o),"parsed-value":e.parsedValue,disabled:R(Ae),onPick:R(se)},null,8,[`date`,`disabled-date`,`parsed-value`,`disabled`,`onPick`])):J(`v-if`,!0),R(A)===`month`?(U(),G(HD,{key:2,ref_key:`rightCurrentViewRef`,ref:M,"selection-mode":`month`,date:h.value,"parsed-value":e.parsedValue,"disabled-date":R(o),disabled:R(Ae),onPick:R(le)},null,8,[`date`,`parsed-value`,`disabled-date`,`disabled`,`onPick`])):J(`v-if`,!0)],2)],2)],2),e.showFooter&&Me.value&&(e.showConfirm||R(l))?(U(),W(`div`,{key:0,class:F(R(y).e(`footer`))},[R(l)?(U(),G(R(Gw),{key:0,text:``,size:`small`,class:F(R(y).e(`link-btn`)),onClick:Ge},{default:z(()=>[Fa(I(R(E)(`el.datepicker.clear`)),1)]),_:1},8,[`class`])):J(`v-if`,!0),e.showConfirm?(U(),G(R(Gw),{key:1,plain:``,size:`small`,class:F(R(y).e(`link-btn`)),disabled:je.value,onClick:t[18]||=e=>R(S)(!1)},{default:z(()=>[Fa(I(R(E)(`el.datepicker.confirm`)),1)]),_:1},8,[`class`,`disabled`])):J(`v-if`,!0)],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-range.vue`]]),wse=t_({...OD}),Tse=[`pick`,`set-picker-option`,`calendar-change`],Ese=({unlinkPanels:e,leftDate:t,rightDate:n})=>{let{t:r}=Zg();return{leftPrevYear:()=>{t.value=t.value.subtract(1,`year`),e.value||(n.value=n.value.subtract(1,`year`))},rightNextYear:()=>{e.value||(t.value=t.value.add(1,`year`)),n.value=n.value.add(1,`year`)},leftNextYear:()=>{t.value=t.value.add(1,`year`)},rightPrevYear:()=>{n.value=n.value.subtract(1,`year`)},leftLabel:Y(()=>`${t.value.year()} ${r(`el.datepicker.year`)}`),rightLabel:Y(()=>`${n.value.year()} ${r(`el.datepicker.year`)}`),leftYear:Y(()=>t.value.year()),rightYear:Y(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year())}},ZD=l(qw(),1),Dse=[`disabled`,`onClick`],Ose=[`disabled`],kse=[`disabled`],Ase=[`disabled`],jse=[`disabled`],QD=`year`,Mse=b_(V({name:`DatePickerMonthRange`,__name:`panel-month-range`,props:wse,emits:Tse,setup(e,{emit:t}){let n=e,r=t,{lang:i}=Zg(),a=qn(rD),o=qn(TD,void 0),{shortcuts:s,disabledDate:c,cellClassName:l}=a.props,u=fn(a.props,`format`),d=fn(a.props,`defaultValue`),f=L((0,ZD.default)().locale(i.value)),p=L((0,ZD.default)().locale(i.value).add(1,QD)),{minDate:m,maxDate:h,rangeState:g,ppNs:_,drpNs:v,handleChangeRange:y,handleRangeConfirm:b,handleShortcutClick:x,onSelect:S,parseValue:C}=JD(n,{defaultValue:d,leftDate:f,rightDate:p,unit:QD,sortDates:re}),w=Y(()=>!!s.length),{leftPrevYear:T,rightNextYear:E,leftNextYear:D,rightPrevYear:O,leftLabel:k,rightLabel:A,leftYear:j,rightYear:M}=Ese({unlinkPanels:fn(n,`unlinkPanels`),leftDate:f,rightDate:p}),ee=Y(()=>n.unlinkPanels&&M.value>j.value+1),te=(e,t=!0)=>{let n=e.minDate,i=e.maxDate;h.value===i&&m.value===n||(r(`calendar-change`,[n.toDate(),i&&i.toDate()]),h.value=i,m.value=n,t&&b())},N=()=>{let e=null;a?.emptyValues&&(e=a.emptyValues.valueOnClear.value),f.value=MD(R(d),{lang:R(i),unit:`year`,unlinkPanels:n.unlinkPanels})[0],p.value=f.value.add(1,`year`),r(`pick`,e)},ne=e=>ID(e,u.value,i.value,o);function re(e,t){n.unlinkPanels&&t?p.value=(e?.year()||0)===t.year()?t.add(1,QD):t:p.value=f.value.add(1,QD)}let ie=Dy();return B(()=>n.visible,e=>{!e&&g.value.selecting&&(C(n.parsedValue),S(!1))}),r(`set-picker-option`,[`isValidValue`,jD]),r(`set-picker-option`,[`parseUserInput`,ne]),r(`set-picker-option`,[`handleClear`,N]),(e,t)=>(U(),W(`div`,{class:F([R(_).b(),R(v).b(),R(_).is(`border`,e.border),R(_).is(`disabled`,R(ie)),{"has-sidebar":!!e.$slots.sidebar||w.value}])},[K(`div`,{class:F(R(_).e(`body-wrapper`))},[H(e.$slots,`sidebar`,{class:F(R(_).e(`sidebar`))}),w.value?(U(),W(`div`,{key:0,class:F(R(_).e(`sidebar`))},[(U(!0),W(va,null,ti(R(s),(e,t)=>(U(),W(`button`,{key:t,type:`button`,class:F(R(_).e(`shortcut`)),disabled:R(ie),onClick:t=>R(x)(e)},I(e.text),11,Dse))),128))],2)):J(`v-if`,!0),K(`div`,{class:F(R(_).e(`body`))},[K(`div`,{class:F([[R(_).e(`content`),R(v).e(`content`)],`is-left`])},[K(`div`,{class:F(R(v).e(`header`))},[K(`button`,{type:`button`,class:F([R(_).e(`icon-btn`),`d-arrow-left`]),disabled:R(ie),onClick:t[0]||=(...e)=>R(T)&&R(T)(...e)},[H(e.$slots,`prev-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(mv))]),_:1})])],10,Ose),e.unlinkPanels?(U(),W(`button`,{key:0,type:`button`,disabled:!ee.value||R(ie),class:F([[R(_).e(`icon-btn`),R(_).is(`disabled`,!ee.value||R(ie))],`d-arrow-right`]),onClick:t[1]||=(...e)=>R(D)&&R(D)(...e)},[H(e.$slots,`next-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(hv))]),_:1})])],10,kse)):J(`v-if`,!0),K(`div`,null,I(R(k)),1)],2),q(HD,{"selection-mode":`range`,date:f.value,"min-date":R(m),"max-date":R(h),"range-state":R(g),"disabled-date":R(c),disabled:R(ie),"cell-class-name":R(l),onChangerange:R(y),onPick:te,onSelect:R(S)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`disabled`,`cell-class-name`,`onChangerange`,`onSelect`])],2),K(`div`,{class:F([[R(_).e(`content`),R(v).e(`content`)],`is-right`])},[K(`div`,{class:F(R(v).e(`header`))},[e.unlinkPanels?(U(),W(`button`,{key:0,type:`button`,disabled:!ee.value||R(ie),class:F([[R(_).e(`icon-btn`),R(_).is(`disabled`,!ee.value||R(ie))],`d-arrow-left`]),onClick:t[2]||=(...e)=>R(O)&&R(O)(...e)},[H(e.$slots,`prev-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(mv))]),_:1})])],10,Ase)):J(`v-if`,!0),K(`button`,{type:`button`,class:F([R(_).e(`icon-btn`),`d-arrow-right`]),disabled:R(ie),onClick:t[3]||=(...e)=>R(E)&&R(E)(...e)},[H(e.$slots,`next-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(hv))]),_:1})])],10,jse),K(`div`,null,I(R(A)),1)],2),q(HD,{"selection-mode":`range`,date:p.value,"min-date":R(m),"max-date":R(h),"range-state":R(g),"disabled-date":R(c),disabled:R(ie),"cell-class-name":R(l),onChangerange:R(y),onPick:te,onSelect:R(S)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`disabled`,`cell-class-name`,`onChangerange`,`onSelect`])],2)],2)],2)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-month-range.vue`]]),Nse=t_({...OD}),Pse=[`pick`,`set-picker-option`,`calendar-change`],Fse=({unlinkPanels:e,leftDate:t,rightDate:n})=>({leftPrevYear:()=>{t.value=t.value.subtract(10,`year`),e.value||(n.value=n.value.subtract(10,`year`))},rightNextYear:()=>{e.value||(t.value=t.value.add(10,`year`)),n.value=n.value.add(10,`year`)},leftNextYear:()=>{t.value=t.value.add(10,`year`)},rightPrevYear:()=>{n.value=n.value.subtract(10,`year`)},leftLabel:Y(()=>{let e=Math.floor(t.value.year()/10)*10;return`${e}-${e+9}`}),rightLabel:Y(()=>{let e=Math.floor(n.value.year()/10)*10;return`${e}-${e+9}`}),leftYear:Y(()=>Math.floor(t.value.year()/10)*10+9),rightYear:Y(()=>Math.floor(n.value.year()/10)*10)}),$D=l(qw(),1),Ise=[`disabled`,`onClick`],Lse=[`disabled`],Rse=[`disabled`],zse=[`disabled`],Bse=[`disabled`],eO=10,tO=`year`,Vse=b_(V({name:`DatePickerYearRange`,__name:`panel-year-range`,props:Nse,emits:Pse,setup(e,{emit:t}){let n=e,r=t,{lang:i}=Zg(),a=L((0,$D.default)().locale(i.value)),o=L((0,$D.default)().locale(i.value).add(eO,tO)),s=qn(TD,void 0),c=qn(rD),{shortcuts:l,disabledDate:u,cellClassName:d}=c.props,f=fn(c.props,`format`),p=fn(c.props,`defaultValue`),{minDate:m,maxDate:h,rangeState:g,ppNs:_,drpNs:v,handleChangeRange:y,handleRangeConfirm:b,handleShortcutClick:x,onSelect:S,parseValue:C}=JD(n,{defaultValue:p,leftDate:a,rightDate:o,step:eO,unit:tO,sortDates:se}),{leftPrevYear:w,rightNextYear:T,leftNextYear:E,rightPrevYear:D,leftLabel:O,rightLabel:k,leftYear:A,rightYear:j}=Fse({unlinkPanels:fn(n,`unlinkPanels`),leftDate:a,rightDate:o}),M=Dy(),ee=Y(()=>!!l.length),te=Y(()=>[_.b(),v.b(),_.is(`border`,n.border),_.is(`disabled`,M.value),{"has-sidebar":!!li().sidebar||ee.value}]),N=Y(()=>({content:[_.e(`content`),v.e(`content`),`is-left`],arrowLeftBtn:[_.e(`icon-btn`),`d-arrow-left`],arrowRightBtn:[_.e(`icon-btn`),_.is(`disabled`,!re.value||M.value),`d-arrow-right`]})),ne=Y(()=>({content:[_.e(`content`),v.e(`content`),`is-right`],arrowLeftBtn:[_.e(`icon-btn`),_.is(`disabled`,!re.value||M.value),`d-arrow-left`],arrowRightBtn:[_.e(`icon-btn`),`d-arrow-right`]})),re=Y(()=>n.unlinkPanels&&j.value>A.value+1),ie=(e,t=!0)=>{let n=e.minDate,i=e.maxDate;h.value===i&&m.value===n||(r(`calendar-change`,[n.toDate(),i&&i.toDate()]),h.value=i,m.value=n,t&&b())},P=e=>ID(e,f.value,i.value,s),ae=e=>jD(e)&&(u?!u(e[0].toDate())&&!u(e[1].toDate()):!0),oe=()=>{let e=null;c?.emptyValues&&(e=c.emptyValues.valueOnClear.value);let t=MD(R(p),{lang:R(i),step:eO,unit:tO,unlinkPanels:n.unlinkPanels});a.value=t[0],o.value=t[1],r(`pick`,e)};function se(e,t){if(n.unlinkPanels&&t){let n=e?.year()||0,r=t.year();o.value=n+eO>r?t.add(eO,tO):t}else o.value=a.value.add(eO,tO)}return B(()=>n.visible,e=>{!e&&g.value.selecting&&(C(n.parsedValue),S(!1))}),r(`set-picker-option`,[`isValidValue`,ae]),r(`set-picker-option`,[`parseUserInput`,P]),r(`set-picker-option`,[`handleClear`,oe]),(e,t)=>(U(),W(`div`,{class:F(te.value)},[K(`div`,{class:F(R(_).e(`body-wrapper`))},[H(e.$slots,`sidebar`,{class:F(R(_).e(`sidebar`))}),ee.value?(U(),W(`div`,{key:0,class:F(R(_).e(`sidebar`))},[(U(!0),W(va,null,ti(R(l),(e,t)=>(U(),W(`button`,{key:t,type:`button`,class:F(R(_).e(`shortcut`)),disabled:R(M),onClick:t=>R(x)(e)},I(e.text),11,Ise))),128))],2)):J(`v-if`,!0),K(`div`,{class:F(R(_).e(`body`))},[K(`div`,{class:F(N.value.content)},[K(`div`,{class:F(R(v).e(`header`))},[K(`button`,{type:`button`,class:F(N.value.arrowLeftBtn),disabled:R(M),onClick:t[0]||=(...e)=>R(w)&&R(w)(...e)},[H(e.$slots,`prev-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(mv))]),_:1})])],10,Lse),e.unlinkPanels?(U(),W(`button`,{key:0,type:`button`,disabled:!re.value||R(M),class:F(N.value.arrowRightBtn),onClick:t[1]||=(...e)=>R(E)&&R(E)(...e)},[H(e.$slots,`next-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(hv))]),_:1})])],10,Rse)):J(`v-if`,!0),K(`div`,null,I(R(O)),1)],2),q(WD,{"selection-mode":`range`,date:a.value,"min-date":R(m),"max-date":R(h),"range-state":R(g),"disabled-date":R(u),disabled:R(M),"cell-class-name":R(d),onChangerange:R(y),onPick:ie,onSelect:R(S)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`disabled`,`cell-class-name`,`onChangerange`,`onSelect`])],2),K(`div`,{class:F(ne.value.content)},[K(`div`,{class:F(R(v).e(`header`))},[e.unlinkPanels?(U(),W(`button`,{key:0,type:`button`,disabled:!re.value||R(M),class:F(ne.value.arrowLeftBtn),onClick:t[2]||=(...e)=>R(D)&&R(D)(...e)},[H(e.$slots,`prev-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(mv))]),_:1})])],10,zse)):J(`v-if`,!0),K(`button`,{type:`button`,class:F(ne.value.arrowRightBtn),disabled:R(M),onClick:t[3]||=(...e)=>R(T)&&R(T)(...e)},[H(e.$slots,`next-year`,{},()=>[q(R(Q_),null,{default:z(()=>[q(R(hv))]),_:1})])],10,Bse),K(`div`,null,I(R(k)),1)],2),q(WD,{"selection-mode":`range`,date:o.value,"min-date":R(m),"max-date":R(h),"range-state":R(g),"disabled-date":R(u),disabled:R(M),"cell-class-name":R(d),onChangerange:R(y),onPick:ie,onSelect:R(S)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`disabled`,`cell-class-name`,`onChangerange`,`onSelect`])],2)],2)],2)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-year-range.vue`]]),Hse=function(e){switch(e){case`daterange`:case`datetimerange`:return Cse;case`monthrange`:return Mse;case`yearrange`:return Vse;default:return ose}},nO=l(qw(),1),Use=l(tD(),1),Wse=l(Aoe(),1),Gse=l(uT(),1),Kse=l(joe(),1),qse=l(Moe(),1),Jse=l(Noe(),1),Yse=l(Poe(),1),Xse=l(Foe(),1);function Zse(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Oa(e)}nO.default.extend(Gse.default),nO.default.extend(Wse.default),nO.default.extend(Use.default),nO.default.extend(Kse.default),nO.default.extend(qse.default),nO.default.extend(Jse.default),nO.default.extend(Yse.default),nO.default.extend(Xse.default);var rO=S_(V({name:`ElDatePickerPanel`,install:null,inheritAttrs:!1,props:Ioe,emits:[D_,`calendar-change`,`panel-change`,`visible-change`,`clear`],setup(e,{slots:t,emit:n,attrs:r}){let i=X(`picker-panel`);Bh(qn(`EP_PICKER_BASE`,void 0))&&Kn(rD,{props:Ut({...ln(e)})}),Kn(wD,{slots:t,pickerNs:i});let{parsedValue:a,onCalendarChange:o,onPanelChange:s,onSetPickerOption:c,onPick:l}=qn(aD,()=>cD(e,n),!0);return()=>q(Hse(e.type),za(Sh(r,`onPick`),e,{parsedValue:a.value,"onSet-picker-option":c,"onCalendar-change":o,"onPanel-change":s,onClear:()=>n(`clear`),onPick:l}),Zse(t)?t:{default:()=>[t]})}})),Qse=t_({...dD,type:{type:Z(String),default:`date`}});function $se(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Oa(e)}var ece=S_(V({name:`ElDatePicker`,install:null,props:Qse,emits:[D_],setup(e,{expose:t,emit:n,slots:r}){Kn(TD,Y(()=>!e.format)),Kn(iD,Ut(fn(e,`popperOptions`)));let i=L();t({focus:()=>{var e;(e=i.value)==null||e.focus()},blur:()=>{var e;(e=i.value)==null||e.blur()},handleOpen:()=>{var e;(e=i.value)==null||e.handleOpen()},handleClose:()=>{var e;(e=i.value)==null||e.handleClose()}});let a=e=>{n(D_,e)};return()=>q(fD,za(e,{format:e.format??(hoe[e.type]||`YYYY-MM-DD`),type:e.type,ref:i,"onUpdate:modelValue":a}),{default:t=>q(rO,za({disabled:e.disabled,editable:e.editable,border:!1},t),$se(r)?r:{default:()=>[r]}),"range-separator":r[`range-separator`]})}})),iO=Symbol(`elDescriptions`),aO=V({name:`ElDescriptionsCell`,props:{cell:{type:Object},tag:{type:String,default:`td`},type:{type:String}},setup(){return{descriptions:qn(iO,{})}},render(){let e=Qv(this.cell),t=(this.cell?.dirs||[]).map(e=>{let{dir:t,arg:n,modifiers:r,value:i}=e;return[t,i,n,r]}),{border:n,direction:r}=this.descriptions,i=r===`vertical`,a=()=>{var t;return((t=this.cell?.children)?.label)?.call(t)||e.label},o=()=>{var e;return((e=this.cell?.children)?.default)?.call(e)},s=e.span,c=e.rowspan,l=e.align?`is-${e.align}`:``,u=e.labelAlign?`is-${e.labelAlign}`:l,d=e.className,f=e.labelClassName,p={width:V_(this.type===`label`?e.labelWidth??this.descriptions.labelWidth??e.width:e.width),minWidth:V_(e.minWidth)},m=X(`descriptions`);switch(this.type){case`label`:return Wn(oo(this.tag,{style:p,class:[m.e(`cell`),m.e(`label`),m.is(`bordered-label`,n),m.is(`vertical-label`,i),u,f],colSpan:i?s:1,rowspan:i?1:c},a()),t);case`content`:return Wn(oo(this.tag,{style:p,class:[m.e(`cell`),m.e(`content`),m.is(`bordered-content`,n),m.is(`vertical-content`,i),l,d],colSpan:i?s:s*2-1,rowspan:i?c*2-1:c},o()),t);default:{let n=a(),r={},i=V_(e.labelWidth??this.descriptions.labelWidth);return i&&(r.width=i,r.display=`inline-block`),Wn(oo(`td`,{style:p,class:[m.e(`cell`),l],colSpan:s,rowspan:c},[ch(n)?void 0:oo(`span`,{style:r,class:[m.e(`label`),f]},n),oo(`span`,{class:[m.e(`content`),d]},o())]),t)}}}}),tce=t_({row:{type:Z(Array),default:()=>[]}}),nce={key:1},rce=b_(V({name:`ElDescriptionsRow`,__name:`descriptions-row`,props:tce,setup(e){let t=qn(iO,{});return(e,n)=>R(t).direction===`vertical`?(U(),W(va,{key:0},[K(`tr`,null,[(U(!0),W(va,null,ti(e.row,(e,t)=>(U(),G(R(aO),{key:`tr1-${t}`,cell:e,tag:`th`,type:`label`},null,8,[`cell`]))),128))]),K(`tr`,null,[(U(!0),W(va,null,ti(e.row,(e,t)=>(U(),G(R(aO),{key:`tr2-${t}`,cell:e,tag:`td`,type:`content`},null,8,[`cell`]))),128))])],64)):(U(),W(`tr`,nce,[(U(!0),W(va,null,ti(e.row,(e,n)=>(U(),W(va,{key:`tr3-${n}`},[R(t).border?(U(),W(va,{key:0},[q(R(aO),{cell:e,tag:`td`,type:`label`},null,8,[`cell`]),q(R(aO),{cell:e,tag:`td`,type:`content`},null,8,[`cell`])],64)):(U(),G(R(aO),{key:1,cell:e,tag:`td`,type:`both`},null,8,[`cell`]))],64))),128))]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue`]]),ice=t_({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},size:r_,title:{type:String,default:``},extra:{type:String,default:``},labelWidth:{type:[String,Number]}}),oO=`ElDescriptionsItem`,ace=b_(V({name:`ElDescriptions`,__name:`description`,props:ice,setup(e){let t=e,n=X(`descriptions`),r=Ey(),i=li();Kn(iO,t);let a=Y(()=>[n.b(),n.m(r.value)]),o=(e,t,n,r=!1)=>(e.props||={},t>n&&(e.props.span=n),r&&(e.props.span=t),e),s=()=>{if(!i.default)return[];let e=$v(i.default()).filter(e=>e?.type?.name===oO),n=[],r=[],a=t.column,s=0,c=[];return e.forEach((i,l)=>{var u;let d=i.props?.span||1,f=i.props?.rowspan||1,p=n.length;if(c[p]||(c[p]=0),f>1)for(let e=1;e<f;e++)c[u=p+e]||(c[u]=0),c[p+e]++,s++;if(c[p]>0&&(a-=c[p],c[p]=0),l<e.length-1&&(s+=d>a?a:d),l===e.length-1){let e=t.column-s%t.column;r.push(o(i,e,a,!0)),n.push(r);return}d<a?(a-=d,r.push(i)):(r.push(o(i,d,a)),n.push(r),a=t.column,r=[])}),n};return(e,t)=>(U(),W(`div`,{class:F(a.value)},[e.title||e.extra||e.$slots.title||e.$slots.extra?(U(),W(`div`,{key:0,class:F(R(n).e(`header`))},[K(`div`,{class:F(R(n).e(`title`))},[H(e.$slots,`title`,{},()=>[Fa(I(e.title),1)])],2),K(`div`,{class:F(R(n).e(`extra`))},[H(e.$slots,`extra`,{},()=>[Fa(I(e.extra),1)])],2)],2)):J(`v-if`,!0),K(`div`,{class:F(R(n).e(`body`))},[K(`table`,{class:F([R(n).e(`table`),R(n).is(`bordered`,e.border)])},[K(`tbody`,null,[(U(!0),W(va,null,ti(s(),(e,t)=>(U(),G(rce,{key:t,row:e},null,8,[`row`]))),128))])],2)],2)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue`]]),sO=[`left`,`center`,`right`],cO=V({name:oO,props:t_({label:{type:String,default:``},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:``},minWidth:{type:[String,Number],default:``},labelWidth:{type:[String,Number]},align:{type:String,values:sO,default:`left`},labelAlign:{type:String,values:sO},className:{type:String,default:``},labelClassName:{type:String,default:``}})}),oce=S_(ace,{DescriptionsItem:cO}),sce=T_(cO),lO=e=>{if(!e)return{onClick:p,onMousedown:p,onMouseup:p};let t=!1,n=!1;return{onClick:r=>{t&&n&&e(r),t=n=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{n=e.target===e.currentTarget}}},cce=t_({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Z([String,Array,Object])},zIndex:{type:Z([String,Number])}}),lce={click:e=>e instanceof MouseEvent},uce=`overlay`,uO=V({name:`ElOverlay`,props:cce,emits:lce,setup(e,{slots:t,emit:n}){let r=X(uce),{onClick:i,onMousedown:a,onMouseup:o}=lO(e.customMaskEvent?void 0:e=>{n(`click`,e)});return()=>e.mask?q(`div`,{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:a,onMouseup:o},[H(t,`default`)],Jv.STYLE|Jv.CLASS|Jv.PROPS,[`onClick`,`onMouseup`,`onMousedown`]):oo(`div`,{class:e.overlayClass,style:{zIndex:e.zIndex,position:`fixed`,top:`0px`,right:`0px`,bottom:`0px`,left:`0px`}},[H(t,`default`)])}}),dO=Symbol(`dialogInjectionKey`),fO=`dialog-fade`,pO=t_({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:Vv},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:``},ariaLevel:{type:String,default:`2`}}),dce={close:()=>!0},mO=(e,t,n,r)=>{let i={offsetX:0,offsetY:0},a=L(!1),o=(t,n)=>{if(e.value){let{offsetX:a,offsetY:o}=i,s=e.value.getBoundingClientRect(),c=s.left,l=s.top,u=s.width,d=s.height,f=document.documentElement.clientWidth,p=document.documentElement.clientHeight,m=-c+a,h=-l+o,g=f-c-u+a,_=p-l-(d<p?d:0)+o;r?.value||(t=Math.min(Math.max(t,m),g),n=Math.min(Math.max(n,h),_)),i.offsetX=t,i.offsetY=n,e.value.style.transform=`translate(${V_(t)}, ${V_(n)})`}},s=e=>{let t=e.clientX,n=e.clientY,{offsetX:r,offsetY:s}=i,c=e=>{a.value||=!0,o(r+e.clientX-t,s+e.clientY-n)},l=()=>{a.value=!1,document.removeEventListener(`mousemove`,c),document.removeEventListener(`mouseup`,l)};document.addEventListener(`mousemove`,c),document.addEventListener(`mouseup`,l)},c=()=>{t.value&&e.value&&(t.value.addEventListener(`mousedown`,s),window.addEventListener(`resize`,d))},l=()=>{t.value&&e.value&&(t.value.removeEventListener(`mousedown`,s),window.removeEventListener(`resize`,d))},u=()=>{i.offsetX=0,i.offsetY=0,e.value&&(e.value.style.transform=``)},d=()=>{let{offsetX:e,offsetY:t}=i;o(e,t)};return zr(()=>{Xn(()=>{n.value?c():l()})}),Hr(()=>{l()}),{isDragging:a,resetPosition:u,updatePosition:d}},hO=(...e)=>t=>{e.forEach(e=>{e.value=t})},fce=[`aria-level`],pce=[`aria-label`],mce=[`id`],hce=b_(V({name:`ElDialogContent`,__name:`dialog-content`,props:pO,emits:dce,setup(e,{expose:t}){let{t:n}=Zg(),{Close:r}=Hv,i=e,{dialogRef:a,headerRef:o,bodyId:s,ns:c,style:l}=qn(dO),{focusTrapRef:u}=qn(Cb),d=hO(u,a),f=Y(()=>!!i.draggable),{resetPosition:p,updatePosition:m,isDragging:h}=mO(a,o,f,Y(()=>!!i.overflow)),g=Y(()=>[c.b(),c.is(`fullscreen`,i.fullscreen),c.is(`draggable`,f.value),c.is(`dragging`,h.value),c.is(`align-center`,!!i.alignCenter),{[c.m(`center`)]:i.center}]);return t({resetPosition:p,updatePosition:m}),(e,t)=>(U(),W(`div`,{ref:R(d),class:F(g.value),style:he(R(l)),tabindex:`-1`},[K(`header`,{ref_key:`headerRef`,ref:o,class:F([R(c).e(`header`),e.headerClass,{"show-close":e.showClose}])},[H(e.$slots,`header`,{},()=>[K(`span`,{role:`heading`,"aria-level":e.ariaLevel,class:F(R(c).e(`title`))},I(e.title),11,fce)]),e.showClose?(U(),W(`button`,{key:0,"aria-label":R(n)(`el.dialog.close`),class:F(R(c).e(`headerbtn`)),type:`button`,onClick:t[0]||=t=>e.$emit(`close`)},[q(R(Q_),{class:F(R(c).e(`close`))},{default:z(()=>[(U(),G(Zr(e.closeIcon||R(r))))]),_:1},8,[`class`])],10,pce)):J(`v-if`,!0)],2),K(`div`,{id:R(s),class:F([R(c).e(`body`),e.bodyClass])},[H(e.$slots,`default`)],10,mce),e.$slots.footer?(U(),W(`footer`,{key:0,class:F([R(c).e(`footer`),e.footerClass])},[H(e.$slots,`footer`)],2)):J(`v-if`,!0)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue`]]),gO=t_({...pO,appendToBody:Boolean,appendTo:{type:y_.to.type,default:`body`},beforeClose:{type:Z(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:`2`},transition:{type:Z([String,Object]),default:void 0}}),_O={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[D_]:e=>Vh(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},vO=(e,t={})=>{tn(e)||zg(`[useLockscreen]`,`You need to pass a ref param to this function`);let n=t.ns||X(`popup`),r=Y(()=>n.bm(`parent`,`hidden`)),i=0,a=!1,o=`0`,s=!1,c=()=>{s||(s=!0,setTimeout(()=>{typeof document>`u`||a&&document&&(document.body.style.width=o,R_(document.body,r.value))},200))};B(e,e=>{if(!e){c();return}s=!1,a=!I_(document.body,r.value),a&&(o=document.body.style.width,L_(document.body,r.value)),i=G_(n.namespace.value);let t=document.documentElement.clientHeight<document.body.scrollHeight,l=z_(document.body,`overflowY`);i>0&&(t||l===`scroll`)&&a&&(document.body.style.width=`calc(100% - ${i}px)`)}),Pe(()=>c())},yO=(e,t)=>{let n=Ga().emit,{nextZIndex:r}=Gg(),i=``,a=by(),o=by(),s=L(!1),c=L(!1),l=L(!1),u=L(e.zIndex??r()),d=L(!1),f,p,m=m_(),h=Y(()=>m.value?.namespace??`el`),g=Y(()=>m.value?.dialog),_=Y(()=>{let t={},n=`--${h.value}-dialog`;if(!e.fullscreen){e.top&&(t[`${n}-margin-top`]=e.top);let r=V_(e.width);r&&(t[`${n}-width`]=r)}return t}),v=Y(()=>(e.draggable??g.value?.draggable??!1)&&!e.fullscreen),y=Y(()=>e.alignCenter??g.value?.alignCenter??!1),b=Y(()=>e.overflow??g.value?.overflow??!1),S=Y(()=>y.value?{display:`flex`}:{}),C=Y(()=>{let t=e.transition??g.value?.transition??fO,n={name:t,onAfterEnter:w,onBeforeLeave:D,onAfterLeave:E};if(O(t)){let e={...t},n=(e,t)=>n=>{x(e)?e.forEach(e=>{T(e)&&e(n)}):T(e)&&e(n),t()};return e.onAfterEnter=n(e.onAfterEnter,w),e.onBeforeLeave=n(e.onBeforeLeave,D),e.onAfterLeave=n(e.onAfterLeave,E),e.name||(e.name=fO,`${fO}`),e}return n});function w(){n(`opened`)}function E(){n(`closed`),n(D_,!1),e.destroyOnClose&&(l.value=!1),d.value=!1}function D(){d.value=!0,n(`close`)}function k(){p?.(),f?.(),e.openDelay&&e.openDelay>0?{stop:f}=gg(()=>ee(),e.openDelay):ee()}function A(){f?.(),p?.(),e.closeDelay&&e.closeDelay>0?{stop:p}=gg(()=>te(),e.closeDelay):te()}function j(){function t(e){e||(c.value=!0,s.value=!1)}e.beforeClose?e.beforeClose(t):A()}function M(){e.closeOnClickModal&&j()}function ee(){$h&&(s.value=!0)}function te(){s.value=!1}function N(){n(`openAutoFocus`)}function ne(){n(`closeAutoFocus`)}function re(e){e.detail?.focusReason===`pointer`&&e.preventDefault()}e.lockScroll&&vO(s);function ie(){e.closeOnPressEscape&&j()}return B(()=>e.zIndex,()=>{u.value=e.zIndex??r()}),B(()=>e.modelValue,i=>{i?(c.value=!1,d.value=!1,k(),l.value=!0,u.value=e.zIndex??r(),Mn(()=>{n(`open`),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):s.value&&A()}),B(()=>e.fullscreen,e=>{t.value&&(e?(i=t.value.style.transform,t.value.style.transform=``):t.value.style.transform=i)}),zr(()=>{e.modelValue&&(s.value=!0,l.value=!0,k())}),{afterEnter:w,afterLeave:E,beforeLeave:D,handleClose:j,onModalClick:M,close:A,doClose:te,onOpenAutoFocus:N,onCloseAutoFocus:ne,onCloseRequested:ie,onFocusoutPrevented:re,titleId:a,bodyId:o,closed:c,style:_,overlayDialogStyle:S,rendered:l,visible:s,zIndex:u,transitionConfig:C,_draggable:v,_alignCenter:y,_overflow:b,closing:d}},gce=[`aria-label`,`aria-labelledby`,`aria-describedby`],_ce=S_(b_(V({name:`ElDialog`,inheritAttrs:!1,__name:`dialog`,props:gO,emits:_O,setup(e,{expose:t}){let n=e,r=li();cw({scope:`el-dialog`,from:`the title slot`,replacement:`the header slot`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/dialog.html#slots`},Y(()=>!!r.title));let i=X(`dialog`),a=L(),o=L(),s=L(),{visible:c,titleId:l,bodyId:u,style:d,overlayDialogStyle:f,rendered:p,transitionConfig:m,zIndex:h,_draggable:g,_alignCenter:_,_overflow:v,handleClose:y,onModalClick:b,onOpenAutoFocus:x,onCloseAutoFocus:S,onCloseRequested:C,onFocusoutPrevented:w,closing:T}=yO(n,a);Kn(dO,{dialogRef:a,headerRef:o,bodyId:u,ns:i,rendered:p,style:d});let E=lO(b),D=Y(()=>n.modalPenetrable&&!n.modal&&!n.fullscreen);return t({visible:c,dialogContentRef:s,resetPosition:()=>{var e;(e=s.value)==null||e.resetPosition()},handleClose:y}),(e,t)=>(U(),G(R(E_),{to:e.appendTo,disabled:e.appendTo===`body`?!e.appendToBody:!1},{default:z(()=>[q(yo,za(R(m),{persisted:``}),{default:z(()=>[Wn(q(R(uO),{"custom-mask-event":``,mask:e.modal,"overlay-class":[e.modalClass??``,`${R(i).namespace.value}-modal-dialog`,R(i).is(`penetrable`,D.value)],"z-index":R(h)},{default:z(()=>[K(`div`,{role:`dialog`,"aria-modal":`true`,"aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:R(l),"aria-describedby":R(u),class:F([`${R(i).namespace.value}-overlay-dialog`,R(i).is(`closing`,R(T))]),style:he(R(f)),onClick:t[0]||=(...e)=>R(E).onClick&&R(E).onClick(...e),onMousedown:t[1]||=(...e)=>R(E).onMousedown&&R(E).onMousedown(...e),onMouseup:t[2]||=(...e)=>R(E).onMouseup&&R(E).onMouseup(...e)},[q(R(Qb),{loop:``,trapped:R(c),"focus-start-el":`container`,onFocusAfterTrapped:R(x),onFocusAfterReleased:R(S),onFocusoutPrevented:R(w),onReleaseRequested:R(C)},{default:z(()=>[R(p)?(U(),G(hce,za({key:0,ref_key:`dialogContentRef`,ref:s},e.$attrs,{center:e.center,"align-center":R(_),"close-icon":e.closeIcon,draggable:R(g),overflow:R(v),fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:R(y)}),ni({header:z(()=>[e.$slots.title?H(e.$slots,`title`,{key:1}):H(e.$slots,`header`,{key:0,close:R(y),titleId:R(l),titleClass:R(i).e(`title`)})]),default:z(()=>[H(e.$slots,`default`)]),_:2},[e.$slots.footer?{name:`footer`,fn:z(()=>[H(e.$slots,`footer`)]),key:`0`}:void 0]),1040,[`center`,`align-center`,`close-icon`,`draggable`,`overflow`,`fullscreen`,`header-class`,`body-class`,`footer-class`,`show-close`,`title`,`aria-level`,`onClose`])):J(`v-if`,!0)]),_:3},8,[`trapped`,`onFocusAfterTrapped`,`onFocusAfterReleased`,`onFocusoutPrevented`,`onReleaseRequested`])],46,gce)]),_:3},8,[`mask`,`overlay-class`,`z-index`]),[[Lo,R(c)]])]),_:3},16)]),_:3},8,[`to`,`disabled`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue`]])),bO=S_(b_(V({name:`ElDivider`,__name:`divider`,props:t_({direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},contentPosition:{type:String,values:[`left`,`center`,`right`],default:`center`},borderStyle:{type:Z(String),default:`solid`}}),setup(e){let t=e,n=X(`divider`),r=Y(()=>n.cssVar({"border-style":t.borderStyle}));return(e,t)=>(U(),W(`div`,{class:F([R(n).b(),R(n).m(e.direction)]),style:he(r.value),role:`separator`},[e.$slots.default&&e.direction!==`vertical`?(U(),W(`div`,{key:0,class:F([R(n).e(`text`),R(n).is(e.contentPosition)])},[H(e.$slots,`default`)],2)):J(`v-if`,!0)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue`]])),vce=t_({...gO,direction:{type:String,default:`rtl`,values:[`ltr`,`rtl`,`ttb`,`btt`]},resizable:Boolean,size:{type:[String,Number],default:`30%`},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:`2`}}),yce={..._O,"resize-start":(e,t)=>e instanceof MouseEvent&&typeof t==`number`,resize:(e,t)=>e instanceof MouseEvent&&typeof t==`number`,"resize-end":(e,t)=>e instanceof MouseEvent&&typeof t==`number`};function bce(e,t,n){let{width:r,height:i}=Lg(),a=Y(()=>[`ltr`,`rtl`].includes(e.direction)),o=Y(()=>[`ltr`,`ttb`].includes(e.direction)?1:-1),s=Y(()=>a.value?r.value:i.value),c=Y(()=>ig(l.value+o.value*u.value,4,s.value)),l=L(0),u=L(0),d=L(!1),f=L(!1),p=[],m=[],h=()=>{let e=t.value?.closest(`[aria-modal="true"]`);return e?a.value?e.offsetWidth:e.offsetHeight:100};B(()=>[e.size,e.resizable],()=>{f.value=!1,l.value=0,u.value=0,v()});let g=t=>{e.resizable&&(f.value||=(l.value=h(),!0),p=[t.pageX,t.pageY],d.value=!0,n(`resize-start`,t,l.value),m.push(bg(window,`mouseup`,v),bg(window,`mousemove`,_)))},_=e=>{let{pageX:t,pageY:r}=e,i=t-p[0],o=r-p[1];u.value=a.value?i:o,n(`resize`,e,c.value)},v=e=>{d.value&&(p=[],l.value=c.value,u.value=0,d.value=!1,m.forEach(e=>e?.()),m=[],e&&n(`resize-end`,e,l.value))},y=bg(t,`mousedown`,g);return Hr(()=>{y(),v()}),{size:Y(()=>f.value?`${c.value}px`:V_(e.size)),isResizing:d,isHorizontal:a}}var xce=[`aria-label`,`aria-labelledby`,`aria-describedby`],Sce=[`id`,`aria-level`],Cce=[`aria-label`],wce=[`id`],Tce=S_(b_(V({name:`ElDrawer`,inheritAttrs:!1,__name:`drawer`,props:vce,emits:yce,setup(e,{expose:t,emit:n}){let r=e,i=n,a=li();cw({scope:`el-drawer`,from:`the title slot`,replacement:`the header slot`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/drawer.html#slots`},Y(()=>!!a.title));let o=L(),s=L(),c=L(),l=X(`drawer`),{t:u}=Zg(),{afterEnter:d,afterLeave:f,beforeLeave:p,visible:m,rendered:h,titleId:g,bodyId:_,zIndex:v,onModalClick:y,onOpenAutoFocus:b,onCloseAutoFocus:x,onFocusoutPrevented:S,onCloseRequested:C,handleClose:w}=yO(r,o),{isHorizontal:T,size:E,isResizing:D}=bce(r,c,i),O=Y(()=>r.modalPenetrable&&!r.modal);return t({handleClose:w,afterEnter:d,afterLeave:f}),(e,t)=>(U(),G(R(E_),{to:e.appendTo,disabled:e.appendTo===`body`?!e.appendToBody:!1},{default:z(()=>[q(yo,{name:R(l).b(`fade`),onAfterEnter:R(d),onAfterLeave:R(f),onBeforeLeave:R(p),persisted:``},{default:z(()=>[Wn(q(R(uO),{mask:e.modal,"overlay-class":[R(l).is(`drawer`),e.modalClass??``,`${R(l).namespace.value}-modal-drawer`,R(l).is(`penetrable`,O.value)],"z-index":R(v),onClick:R(y)},{default:z(()=>[q(R(Qb),{loop:``,trapped:R(m),"focus-trap-el":o.value,"focus-start-el":s.value,onFocusAfterTrapped:R(b),onFocusAfterReleased:R(x),onFocusoutPrevented:R(S),onReleaseRequested:R(C)},{default:z(()=>[K(`div`,za({ref_key:`drawerRef`,ref:o,"aria-modal":`true`,"aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:R(g),"aria-describedby":R(_)},e.$attrs,{class:[R(l).b(),e.direction,R(m)&&`open`,R(l).is(`dragging`,R(D))],style:{[R(T)?`width`:`height`]:R(E)},role:`dialog`,onClick:t[1]||=Ms(()=>{},[`stop`])}),[K(`span`,{ref_key:`focusStartRef`,ref:s,class:F(R(l).e(`sr-focus`)),tabindex:`-1`},null,2),e.withHeader?(U(),W(`header`,{key:0,class:F([R(l).e(`header`),e.headerClass])},[e.$slots.title?H(e.$slots,`title`,{key:1},()=>[J(` DEPRECATED SLOT `)]):H(e.$slots,`header`,{key:0,close:R(w),titleId:R(g),titleClass:R(l).e(`title`)},()=>[K(`span`,{id:R(g),role:`heading`,"aria-level":e.headerAriaLevel,class:F(R(l).e(`title`))},I(e.title),11,Sce)]),e.showClose?(U(),W(`button`,{key:2,"aria-label":R(u)(`el.drawer.close`),class:F(R(l).e(`close-btn`)),type:`button`,onClick:t[0]||=(...e)=>R(w)&&R(w)(...e)},[q(R(Q_),{class:F(R(l).e(`close`))},{default:z(()=>[q(R(pv))]),_:1},8,[`class`])],10,Cce)):J(`v-if`,!0)],2)):J(`v-if`,!0),R(h)?(U(),W(`div`,{key:1,id:R(_),class:F([R(l).e(`body`),e.bodyClass])},[H(e.$slots,`default`)],10,wce)):J(`v-if`,!0),e.$slots.footer?(U(),W(`div`,{key:2,class:F([R(l).e(`footer`),e.footerClass])},[H(e.$slots,`footer`)],2)):J(`v-if`,!0),e.resizable?(U(),W(`div`,{key:3,ref_key:`draggerRef`,ref:c,style:he({zIndex:R(v)}),class:F(R(l).e(`dragger`))},null,6)):J(`v-if`,!0)],16,xce)]),_:3},8,[`trapped`,`focus-trap-el`,`focus-start-el`,`onFocusAfterTrapped`,`onFocusAfterReleased`,`onFocusoutPrevented`,`onReleaseRequested`])]),_:3},8,[`mask`,`overlay-class`,`z-index`,`onClick`]),[[Lo,R(m)]])]),_:3},8,[`name`,`onAfterEnter`,`onAfterLeave`,`onBeforeLeave`])]),_:3},8,[`to`,`disabled`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue`]])),Ece=V({inheritAttrs:!1});function Dce(e,t,n,r,i,a){return H(e.$slots,`default`)}var Oce=b_(Ece,[[`render`,Dce],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue`]]),kce=V({name:`ElCollectionItem`,inheritAttrs:!1});function Ace(e,t,n,r,i,a){return H(e.$slots,`default`)}var jce=b_(kce,[[`render`,Ace],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue`]]),xO=`data-el-collection-item`,Mce=e=>{let t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),i=Symbol(n);return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:Object.assign({},Oce,{name:t,setup(){let e=L(),t=new Map;Kn(r,{itemMap:t,getItems:()=>{let n=R(e);if(!n)return[];let r=Array.from(n.querySelectorAll(`[${xO}]`));return[...t.values()].sort((e,t)=>r.indexOf(e.ref)-r.indexOf(t.ref))},collectionRef:e})}}),ElCollectionItem:Object.assign({},jce,{name:n,setup(e,{attrs:t}){let n=L(),a=qn(r,void 0);Kn(i,{collectionItemRef:n}),zr(()=>{let e=R(n);e&&a.itemMap.set(e,{ref:e,...t})}),Hr(()=>{let e=R(n);a.itemMap.delete(e)})}})}},Nce=t_({style:{type:Z([String,Array,Object])},currentTabId:{type:Z(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:[`ltr`,`rtl`],default:`ltr`},orientation:{type:Z(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Pce,ElCollectionItem:Fce,COLLECTION_INJECTION_KEY:SO,COLLECTION_ITEM_INJECTION_KEY:Ice}=Mce(`RovingFocusGroup`),CO=Symbol(`elRovingFocusGroup`),wO=Symbol(`elRovingFocusGroupItem`),Lce={ArrowLeft:`prev`,ArrowUp:`prev`,ArrowRight:`next`,ArrowDown:`next`,PageUp:`first`,Home:`first`,PageDown:`last`,End:`last`},Rce=(e,t)=>{if(t!==`rtl`)return e;switch(e){case Q.right:return Q.left;case Q.left:return Q.right;default:return e}},zce=(e,t,n)=>{let r=Rce(Gb(e),n);if(!(t===`vertical`&&[Q.left,Q.right].includes(r))&&!(t===`horizontal`&&[Q.up,Q.down].includes(r)))return Lce[r]},Bce=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),TO=e=>{let{activeElement:t}=document;for(let n of e)if(n===t||(n.focus(),t!==document.activeElement))return},EO=`currentTabIdChange`,DO=`rovingFocusGroup.entryFocus`,Vce={bubbles:!1,cancelable:!0},Hce=V({name:`ElRovingFocusGroupImpl`,inheritAttrs:!1,props:Nce,emits:[EO,`entryFocus`],setup(e,{emit:t}){let n=L((e.currentTabId||e.defaultCurrentTabId)??null),r=L(!1),i=L(!1),a=L(),{getItems:o}=qn(SO,void 0),s=Y(()=>[{outline:`none`},e.style]),c=e=>{t(EO,e)},l=()=>{r.value=!0},u=Ub(t=>{var n;(n=e.onMousedown)==null||n.call(e,t)},()=>{i.value=!0}),d=Ub(t=>{var n;(n=e.onFocus)==null||n.call(e,t)},e=>{let t=!R(i),{target:a,currentTarget:s}=e;if(a===s&&t&&!R(r)){let e=new Event(DO,Vce);if(s?.dispatchEvent(e),!e.defaultPrevented){let e=o().filter(e=>e.focusable);TO([e.find(e=>e.active),e.find(e=>e.id===R(n)),...e].filter(Boolean).map(e=>e.ref))}}i.value=!1}),f=Ub(t=>{var n;(n=e.onBlur)==null||n.call(e,t)},()=>{r.value=!1});Kn(CO,{currentTabbedId:Gt(n),loop:fn(e,`loop`),tabIndex:Y(()=>R(r)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:s,orientation:fn(e,`orientation`),dir:fn(e,`dir`),onItemFocus:c,onItemShiftTab:l,onBlur:f,onFocus:d,onMousedown:u,onKeydown:t=>{let n=zce(t);if(n){t.preventDefault();let r=o().filter(e=>e.focusable).map(e=>e.ref);switch(n){case`last`:r.reverse();break;case`prev`:case`next`:{n===`prev`&&r.reverse();let i=r.indexOf(t.currentTarget);r=e.loop?Bce(r,i+1):r.slice(i+1);break}}Mn(()=>{TO(r)})}}}),B(()=>e.currentTabId,e=>{n.value=e??null}),bg(a,DO,(...e)=>{t(`entryFocus`,...e)})}});function Uce(e,t,n,r,i,a){return H(e.$slots,`default`)}var Wce=V({name:`ElRovingFocusGroup`,components:{ElFocusGroupCollection:Pce,ElRovingFocusGroupImpl:b_(Hce,[[`render`,Uce],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue`]])}});function Gce(e,t,n,r,i,a){let o=Yr(`el-roving-focus-group-impl`),s=Yr(`el-focus-group-collection`);return U(),G(s,null,{default:z(()=>[q(o,be(Na(e.$attrs)),{default:z(()=>[H(e.$slots,`default`)]),_:3},16)]),_:3})}var Kce=b_(Wce,[[`render`,Gce],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue`]]),OO=t_({trigger:{...dC.trigger,type:Z([String,Array])},triggerKeys:{type:Z(Array),default:()=>[Q.enter,Q.numpadEnter,Q.space,Q.down]},virtualTriggering:dC.virtualTriggering,virtualRef:dC.virtualRef,effect:{...uC.effect,default:`light`},type:{type:Z(String)},placement:{type:Z(String),default:`bottom`},popperOptions:{type:Z(Object),default:()=>({})},id:String,size:{type:String,default:``},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Z([Number,String]),default:0},maxHeight:{type:Z([Number,String]),default:``},popperClass:uC.popperClass,popperStyle:uC.popperStyle,disabled:Boolean,role:{type:String,values:ib,default:`menu`},buttonProps:{type:Z(Object)},teleported:uC.teleported,appendTo:uC.appendTo,persistent:{type:Boolean,default:!0}}),kO=t_({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Vv}}),qce=t_({onKeydown:{type:Z(Function)}}),Jce=[Q.down,Q.pageDown,Q.home],Yce=[Q.up,Q.pageUp,Q.end];[...Jce,...Yce];var AO=Symbol(`elDropdown`),jO=`elDropdown`,{ButtonGroup:Xce}=Gw,Zce=V({name:`ElDropdown`,components:{ElButton:Gw,ElButtonGroup:Xce,ElScrollbar:tb,ElTooltip:MC,ElRovingFocusGroup:Kce,ElOnlyChild:fb,ElIcon:Q_,ArrowDown:$_},props:OO,emits:[`visible-change`,`click`,`command`],setup(e,{emit:t}){let n=Ga(),r=X(`dropdown`),{t:i}=Zg(),a=L(),o=L(),s=L(),c=L(),l=L(null),u=L(null),d=L(!1),f=Y(()=>({maxHeight:V_(e.maxHeight)})),p=Y(()=>[r.m(b.value)]),m=Y(()=>tp(e.trigger)),h=by().value,g=Y(()=>e.id||h);function _(){var e;(e=s.value)==null||e.onClose(void 0,0)}function v(){var e;(e=s.value)==null||e.onClose()}function y(){var e;(e=s.value)==null||e.onOpen()}let b=Ey();function x(...e){t(`command`,...e)}function S(){}function C(){let e=R(c);m.value.includes(`hover`)&&e?.focus({preventScroll:!0}),u.value=null}function w(e){u.value=e}function T(){t(`visible-change`,!0)}function E(e){var t;d.value=e?.type===`keydown`,(t=c.value)==null||t.focus()}function D(){t(`visible-change`,!1)}return Kn(AO,{contentRef:c,role:Y(()=>e.role),triggerId:g,isUsingKeyboard:d,onItemEnter:S,onItemLeave:C,handleClose:v}),Kn(jO,{instance:n,dropdownSize:b,handleClick:_,commandHandler:x,trigger:fn(e,`trigger`),hideOnClick:fn(e,`hideOnClick`)}),{t:i,ns:r,scrollbar:l,wrapStyle:f,dropdownTriggerKls:p,dropdownSize:b,triggerId:g,currentTabId:u,handleCurrentTabIdChange:w,handlerMainButtonClick:e=>{t(`click`,e)},handleClose:v,handleOpen:y,handleBeforeShowTooltip:T,handleShowTooltip:E,handleBeforeHideTooltip:D,popperRef:s,contentRef:c,triggeringElementRef:a,referenceElementRef:o}}});function Qce(e,t,n,r,i,a){let o=Yr(`el-roving-focus-group`),s=Yr(`el-scrollbar`),c=Yr(`el-only-child`),l=Yr(`el-tooltip`),u=Yr(`el-button`),d=Yr(`arrow-down`),f=Yr(`el-icon`),p=Yr(`el-button-group`);return U(),W(`div`,{class:F([e.ns.b(),e.ns.is(`disabled`,e.disabled)])},[q(l,{ref:`popperRef`,role:e.role,effect:e.effect,"fallback-placements":[`bottom`,`top`],"popper-options":e.popperOptions,"gpu-acceleration":!1,placement:e.placement,"popper-class":[e.ns.e(`popper`),e.popperClass],"popper-style":e.popperStyle,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":e.trigger===`hover`?e.showTimeout:0,"hide-after":e.trigger===`hover`?e.hideTimeout:0,"virtual-ref":e.virtualRef??e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,"append-to":e.appendTo,pure:``,"focus-on-target":``,persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ni({content:z(()=>[q(s,{ref:`scrollbar`,"wrap-style":e.wrapStyle,tag:`div`,"view-class":e.ns.e(`list`)},{default:z(()=>[q(o,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:`horizontal`,onCurrentTabIdChange:e.handleCurrentTabIdChange},{default:z(()=>[H(e.$slots,`dropdown`)]),_:3},8,[`loop`,`current-tab-id`,`onCurrentTabIdChange`])]),_:3},8,[`wrap-style`,`view-class`])]),_:2},[e.splitButton?void 0:{name:`default`,fn:z(()=>[q(c,{id:e.triggerId,ref:`triggeringElementRef`,role:`button`,tabindex:e.tabindex},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`id`,`tabindex`])]),key:`0`}]),1032,[`role`,`effect`,`popper-options`,`placement`,`popper-class`,`popper-style`,`trigger`,`trigger-keys`,`trigger-target-el`,`show-arrow`,`show-after`,`hide-after`,`virtual-ref`,`virtual-triggering`,`disabled`,`transition`,`teleported`,`append-to`,`persistent`,`onBeforeShow`,`onShow`,`onBeforeHide`]),e.splitButton?(U(),G(p,{key:0},{default:z(()=>[q(u,za({ref:`referenceElementRef`},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:z(()=>[H(e.$slots,`default`)]),_:3},16,[`size`,`type`,`disabled`,`tabindex`,`onClick`]),q(u,za({id:e.triggerId,ref:`triggeringElementRef`},e.buttonProps,{role:`button`,size:e.dropdownSize,type:e.type,class:e.ns.e(`caret-button`),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t(`el.dropdown.toggleDropdown`)}),{default:z(()=>[q(f,{class:F(e.ns.e(`icon`))},{default:z(()=>[q(d)]),_:1},8,[`class`])]),_:1},16,[`id`,`size`,`type`,`class`,`disabled`,`tabindex`,`aria-label`])]),_:3})):J(`v-if`,!0)],2)}var $ce=b_(Zce,[[`render`,Qce],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue`]]),ele=V({components:{ElRovingFocusCollectionItem:Fce},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:[`mousedown`,`focus`,`keydown`],setup(e,{emit:t}){let{currentTabbedId:n,onItemFocus:r,onItemShiftTab:i,onKeydown:a}=qn(CO,void 0),o=by(),s=L(),c=Ub(e=>{t(`mousedown`,e)},t=>{e.focusable?r(R(o)):t.preventDefault()}),l=Ub(e=>{t(`focus`,e)},()=>{r(R(o))}),u=Ub(e=>{t(`keydown`,e)},e=>{let{shiftKey:t,target:n,currentTarget:r}=e;if(Gb(e)===Q.tab&&t){i();return}n===r&&a(e)}),d=Y(()=>n.value===R(o));return Kn(wO,{rovingFocusGroupItemRef:s,tabIndex:Y(()=>R(d)?0:-1),handleMousedown:c,handleFocus:l,handleKeydown:u}),{id:o,handleKeydown:u,handleFocus:l,handleMousedown:c}}});function tle(e,t,n,r,i,a){let o=Yr(`el-roving-focus-collection-item`);return U(),G(o,{id:e.id,focusable:e.focusable,active:e.active},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`id`,`focusable`,`active`])}var nle=b_(ele,[[`render`,tle],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue`]]),rle=V({name:`DropdownItemImpl`,components:{ElIcon:Q_},props:kO,emits:[`pointermove`,`pointerleave`,`click`,`clickimpl`],setup(e,{emit:t}){let n=X(`dropdown`),{role:r}=qn(AO,void 0),{collectionItemRef:i}=qn(Ice,void 0),{rovingFocusGroupItemRef:a,tabIndex:o,handleFocus:s,handleKeydown:c,handleMousedown:l}=qn(wO,void 0),u=hO(i,a),d=Y(()=>r.value===`menu`?`menuitem`:r.value===`navigation`?`link`:`button`),f=Ub(e=>{let n=Gb(e);if([Q.enter,Q.numpadEnter,Q.space].includes(n))return e.preventDefault(),e.stopImmediatePropagation(),t(`clickimpl`,e),!0},c);return{ns:n,itemRef:u,dataset:{[xO]:``},role:d,tabIndex:o,handleFocus:s,handleKeydown:f,handleMousedown:l}}}),ile=[`aria-disabled`,`tabindex`,`role`];function ale(e,t,n,r,i,a){let o=Yr(`el-icon`);return U(),W(va,null,[e.divided?(U(),W(`li`,{key:0,role:`separator`,class:F(e.ns.bem(`menu`,`item`,`divided`))},null,2)):J(`v-if`,!0),K(`li`,za({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be(`menu`,`item`),e.ns.is(`disabled`,e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||=t=>e.$emit(`clickimpl`,t),onFocus:t[1]||=(...t)=>e.handleFocus&&e.handleFocus(...t),onKeydown:t[2]||=Ms((...t)=>e.handleKeydown&&e.handleKeydown(...t),[`self`]),onMousedown:t[3]||=(...t)=>e.handleMousedown&&e.handleMousedown(...t),onPointermove:t[4]||=t=>e.$emit(`pointermove`,t),onPointerleave:t[5]||=t=>e.$emit(`pointerleave`,t)}),[e.icon||e.$slots.icon?(U(),G(o,{key:0},{default:z(()=>[H(e.$slots,`icon`,{},()=>[(U(),G(Zr(e.icon)))])]),_:3})):J(`v-if`,!0),H(e.$slots,`default`)],16,ile)],64)}var ole=b_(rle,[[`render`,ale],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue`]]),MO=()=>{let e=qn(jO,{});return{elDropdown:e,_elDropdownSize:Y(()=>e?.dropdownSize)}},sle=V({name:`ElDropdownItem`,components:{ElRovingFocusItem:nle,ElDropdownItemImpl:ole},inheritAttrs:!1,props:kO,emits:[`pointermove`,`pointerleave`,`click`],setup(e,{emit:t,attrs:n}){let{elDropdown:r}=MO(),i=Ga(),{onItemEnter:a,onItemLeave:o}=qn(AO,void 0),s=Ub(e=>(t(`pointermove`,e),e.defaultPrevented),Wb(t=>{if(e.disabled){o(t);return}let n=t.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(a(t),t.defaultPrevented||n?.focus({preventScroll:!0}))})),c=Ub(e=>(t(`pointerleave`,e),e.defaultPrevented),Wb(o));return{handleClick:Ub(n=>{if(!e.disabled)return t(`click`,n),n.type!==`keydown`&&n.defaultPrevented},t=>{var n,a;if(e.disabled){t.stopImmediatePropagation();return}r?.hideOnClick?.value&&((n=r.handleClick)==null||n.call(r)),(a=r.commandHandler)==null||a.call(r,e.command,i,t)}),handlePointerMove:s,handlePointerLeave:c,propsAndAttrs:Y(()=>({...e,...n}))}}});function cle(e,t,n,r,i,a){let o=Yr(`el-dropdown-item-impl`),s=Yr(`el-roving-focus-item`);return U(),G(s,{focusable:!e.disabled},{default:z(()=>[q(o,za(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),ni({default:z(()=>[H(e.$slots,`default`)]),_:2},[e.$slots.icon?{name:`icon`,fn:z(()=>[H(e.$slots,`icon`)]),key:`0`}:void 0]),1040,[`onPointerleave`,`onPointermove`,`onClickimpl`])]),_:3},8,[`focusable`])}var NO=b_(sle,[[`render`,cle],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue`]]),lle=V({name:`ElDropdownMenu`,props:qce,setup(e){let t=X(`dropdown`),{_elDropdownSize:n}=MO(),r=n.value,{contentRef:i,role:a,triggerId:o,isUsingKeyboard:s,handleClose:c}=qn(AO,void 0),{rovingFocusGroupRef:l,rovingFocusGroupRootStyle:u,onBlur:d,onFocus:f,onKeydown:p,onMousedown:m}=qn(CO,void 0),{collectionRef:h}=qn(SO,void 0),g=Y(()=>[t.b(`menu`),t.bm(`menu`,r?.value)]),_=hO(i,l,h),v=Ub(t=>{var n;(n=e.onKeydown)==null||n.call(e,t)},e=>{let{currentTarget:t,target:n}=e,r=Gb(e);if(t.contains(n),Q.tab===r)return c();p(e)});function y(e){s.value&&f(e)}return{size:r,rovingFocusGroupRootStyle:u,dropdownKls:g,role:a,triggerId:o,dropdownListWrapperRef:_,handleKeydown:v,onBlur:d,handleFocus:y,onMousedown:m}}}),ule=[`role`,`aria-labelledby`];function dle(e,t,n,r,i,a){return U(),W(`ul`,{ref:e.dropdownListWrapperRef,class:F(e.dropdownKls),style:he(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onFocusin:t[0]||=(...t)=>e.handleFocus&&e.handleFocus(...t),onFocusout:t[1]||=(...t)=>e.onBlur&&e.onBlur(...t),onKeydown:t[2]||=Ms((...t)=>e.handleKeydown&&e.handleKeydown(...t),[`self`]),onMousedown:t[3]||=Ms((...t)=>e.onMousedown&&e.onMousedown(...t),[`self`])},[H(e.$slots,`default`)],46,ule)}var PO=b_(lle,[[`render`,dle],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue`]]),fle=S_($ce,{DropdownItem:NO,DropdownMenu:PO}),ple=T_(NO),mle=T_(PO),hle={viewBox:`0 0 79 86`,version:`1.1`,xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`},gle=[`id`],_le=[`stop-color`],vle=[`stop-color`],yle=[`id`],ble=[`stop-color`],xle=[`stop-color`],Sle=[`id`],Cle={stroke:`none`,"stroke-width":`1`,fill:`none`,"fill-rule":`evenodd`},wle={transform:`translate(-1268.000000, -535.000000)`},Tle={transform:`translate(1268.000000, 535.000000)`},Ele=[`fill`],Dle=[`fill`],Ole={transform:`translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)`},kle=[`fill`],Ale=[`fill`],jle=[`fill`],Mle=[`fill`],Nle=[`fill`],Ple={transform:`translate(53.000000, 45.000000)`},Fle=[`fill`,`xlink:href`],Ile=[`fill`,`mask`],Lle=[`fill`],Rle=b_(V({name:`ImgEmpty`,__name:`img-empty`,setup(e){let t=X(`empty`),n=by();return(e,r)=>(U(),W(`svg`,hle,[K(`defs`,null,[K(`linearGradient`,{id:`linearGradient-1-${R(n)}`,x1:`38.8503086%`,y1:`0%`,x2:`61.1496914%`,y2:`100%`},[K(`stop`,{"stop-color":`var(${R(t).cssVarBlockName(`fill-color-1`)})`,offset:`0%`},null,8,_le),K(`stop`,{"stop-color":`var(${R(t).cssVarBlockName(`fill-color-4`)})`,offset:`100%`},null,8,vle)],8,gle),K(`linearGradient`,{id:`linearGradient-2-${R(n)}`,x1:`0%`,y1:`9.5%`,x2:`100%`,y2:`90.5%`},[K(`stop`,{"stop-color":`var(${R(t).cssVarBlockName(`fill-color-1`)})`,offset:`0%`},null,8,ble),K(`stop`,{"stop-color":`var(${R(t).cssVarBlockName(`fill-color-6`)})`,offset:`100%`},null,8,xle)],8,yle),K(`rect`,{id:`path-3-${R(n)}`,x:`0`,y:`0`,width:`17`,height:`36`},null,8,Sle)]),K(`g`,Cle,[K(`g`,wle,[K(`g`,Tle,[K(`path`,{d:`M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z`,fill:`var(${R(t).cssVarBlockName(`fill-color-3`)})`},null,8,Ele),K(`polygon`,{fill:`var(${R(t).cssVarBlockName(`fill-color-7`)})`,transform:`translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) `,points:`13 58 53 58 42 45 2 45`},null,8,Dle),K(`g`,Ole,[K(`polygon`,{fill:`var(${R(t).cssVarBlockName(`fill-color-7`)})`,transform:`translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) `,points:`2.84078316e-14 3 18 3 23 7 5 7`},null,8,kle),K(`polygon`,{fill:`var(${R(t).cssVarBlockName(`fill-color-5`)})`,points:`-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43`},null,8,Ale),K(`rect`,{fill:`url(#linearGradient-1-${R(n)})`,transform:`translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) `,x:`38`,y:`7`,width:`17`,height:`36`},null,8,jle),K(`polygon`,{fill:`var(${R(t).cssVarBlockName(`fill-color-2`)})`,transform:`translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) `,points:`24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12`},null,8,Mle)]),K(`rect`,{fill:`url(#linearGradient-2-${R(n)})`,x:`13`,y:`45`,width:`40`,height:`36`},null,8,Nle),K(`g`,Ple,[K(`use`,{fill:`var(${R(t).cssVarBlockName(`fill-color-8`)})`,transform:`translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) `,"xlink:href":`#path-3-${R(n)}`},null,8,Fle),K(`polygon`,{fill:`var(${R(t).cssVarBlockName(`fill-color-9`)})`,mask:`url(#mask-4-${R(n)})`,transform:`translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) `,points:`7 0 24 0 20 18 7 16.5`},null,8,Ile)]),K(`polygon`,{fill:`var(${R(t).cssVarBlockName(`fill-color-2`)})`,transform:`translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) `,points:`62 45 79 45 70 58 53 58`},null,8,Lle)])])])]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue`]]),zle=t_({image:{type:String,default:``},imageSize:Number,description:{type:String,default:``}}),Ble=[`src`],Vle={key:1},FO=S_(b_(V({name:`ElEmpty`,__name:`empty`,props:zle,setup(e){let t=e,{t:n}=Zg(),r=X(`empty`),i=Y(()=>t.description||n(`el.table.emptyText`)),a=Y(()=>({width:V_(t.imageSize)}));return(e,t)=>(U(),W(`div`,{class:F(R(r).b())},[K(`div`,{class:F(R(r).e(`image`)),style:he(a.value)},[e.image?(U(),W(`img`,{key:0,src:e.image,ondragstart:`return false`},null,8,Ble)):H(e.$slots,`image`,{key:1},()=>[q(Rle)])],6),K(`div`,{class:F(R(r).e(`description`))},[e.$slots.description?H(e.$slots,`description`,{key:0}):(U(),W(`p`,Vle,I(i.value),1))],2),e.$slots.default?(U(),W(`div`,{key:0,class:F(R(r).e(`bottom`))},[H(e.$slots,`default`)],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue`]])),Hle=t_({...t_({size:{type:String,values:n_},disabled:Boolean}),model:Object,rules:{type:Z(Object)},labelPosition:{type:String,values:[`left`,`right`,`top`],default:`right`},requireAsteriskPosition:{type:String,values:[`left`,`right`],default:`left`},labelWidth:{type:[String,Number],default:``},labelSuffix:{type:String,default:``},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:Z([Object,Boolean]),default:!0}}),Ule={validate:(e,t,n)=>(x(e)||E(e))&&Vh(t)&&E(n)};function Wle(){let e=L([]),t=Y(()=>{if(!e.value.length)return`0`;let t=Math.max(...e.value);return t?`${t}px`:``});function n(n){let r=e.value.indexOf(n);return r===-1&&t.value===`0`&&`${n}`,r}function r(t,r){if(t&&r){let i=n(r);e.value.splice(i,1,t)}else t&&e.value.push(t)}function i(t){let r=n(t);r>-1&&e.value.splice(r,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:i}}var IO=(e,t)=>{let n=tp(t).map(e=>x(e)?e.join(`.`):e);return n.length>0?e.filter(e=>e.propString&&n.includes(e.propString)):e},Gle=b_(V({name:`ElForm`,__name:`form`,props:Hle,emits:Ule,setup(e,{expose:t,emit:n}){let r=e,i=n,a=L(),o=Ut([]),s=Ey(),c=X(`form`),l=Y(()=>{let{labelPosition:e,inline:t}=r;return[c.b(),c.m(s.value||`default`),{[c.m(`label-${e}`)]:e,[c.m(`inline`)]:t}]}),u=e=>IO(o,[e])[0],d=e=>{o.push(e)},f=e=>{e.prop&&o.splice(o.indexOf(e),1)},p=e=>{r.model&&e&&o.forEach(t=>{if(t.prop&&nh(e,t.prop)){let n=f_(e,t.prop).value;t.setInitialValue(n)}})},m=(e=[])=>{r.model&&IO(o,e).forEach(e=>e.resetField())},h=(e=[])=>{IO(o,e).forEach(e=>e.clearValidate())},g=Y(()=>!!r.model),_=e=>{if(o.length===0)return[];let t=IO(o,e);return t.length?t:[]},v=async e=>b(void 0,e),y=async(e=[])=>{if(!g.value)return!1;let t=_(e);if(t.length===0)return!0;let n={};for(let e of t)try{await e.validate(``),e.validateState===`error`&&!e.error&&e.resetField()}catch(e){n={...n,...e}}return Object.keys(n).length===0?!0:Promise.reject(n)},b=async(e=[],t)=>{let n=!1,i=!T(t);try{return n=await y(e),n===!0&&await t?.(n),n}catch(e){if(e instanceof Error)throw e;let o=e;return r.scrollToError&&a.value&&a.value.querySelector(`.${c.b()}-item.is-error`)?.scrollIntoView(r.scrollIntoViewOptions),!n&&await t?.(!1,o),i&&Promise.reject(o)}},x=e=>{var t;let n=u(e);n&&((t=n.$el)==null||t.scrollIntoView(r.scrollIntoViewOptions))};return B(()=>r.rules,()=>{r.validateOnRuleChange&&v().catch(e=>void 0)},{deep:!0,flush:`post`}),Kn(xy,Ut({...ln(r),emit:i,resetFields:m,clearValidate:h,validateField:b,getField:u,addField:d,removeField:f,setInitialValues:p,...Wle()})),t({validate:v,validateField:b,resetFields:m,clearValidate:h,scrollToField:x,getField:u,fields:o,setInitialValues:p}),(e,t)=>(U(),W(`form`,{ref_key:`formRef`,ref:a,class:F(l.value)},[H(e.$slots,`default`)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue`]]);function LO(){return LO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LO.apply(this,arguments)}function Kle(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zO(e,t)}function RO(e){return RO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RO(e)}function zO(e,t){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zO(e,t)}function qle(){if(typeof Reflect>`u`||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==`function`)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function BO(e,t,n){return BO=qle()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&zO(i,n.prototype),i},BO.apply(null,arguments)}function Jle(e){return Function.toString.call(e).indexOf(`[native code]`)!==-1}function VO(e){var t=typeof Map==`function`?new Map:void 0;return VO=function(e){if(e===null||!Jle(e))return e;if(typeof e!=`function`)throw TypeError(`Super expression must either be null or a function`);if(t!==void 0){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return BO(e,arguments,RO(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),zO(n,e)},VO(e)}var Yle=/%[sdj%]/g,Xle=function(){};function HO(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function UO(e){var t=[...arguments].slice(1),n=0,r=t.length;return typeof e==`function`?e.apply(null,t):typeof e==`string`?e.replace(Yle,function(e){if(e===`%%`)return`%`;if(n>=r)return e;switch(e){case`%s`:return String(t[n++]);case`%d`:return Number(t[n++]);case`%j`:try{return JSON.stringify(t[n++])}catch{return`[Circular]`}break;default:return e}}):e}function Zle(e){return e===`string`||e===`url`||e===`hex`||e===`email`||e===`date`||e===`pattern`}function WO(e,t){return!!(e==null||t===`array`&&Array.isArray(e)&&!e.length||Zle(t)&&typeof e==`string`&&!e)}function Qle(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),i++,i===a&&n(r)}e.forEach(function(e){t(e,o)})}function GO(e,t,n){var r=0,i=e.length;function a(o){if(o&&o.length){n(o);return}var s=r;r+=1,s<i?t(e[s],a):n([])}a([])}function $le(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var KO=function(e){Kle(t,e);function t(t,n){var r=e.call(this,`Async Validation Error`)||this;return r.errors=t,r.fields=n,r}return t}(VO(Error));function eue(e,t,n,r,i){if(t.first){var a=new Promise(function(t,a){GO($le(e),n,function(e){return r(e),e.length?a(new KO(e,HO(e))):t(i)})});return a.catch(function(e){return e}),a}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),c=s.length,l=0,u=[],d=new Promise(function(t,a){var d=function(e){if(u.push.apply(u,e),l++,l===c)return r(u),u.length?a(new KO(u,HO(u))):t(i)};s.length||(r(u),t(i)),s.forEach(function(t){var r=e[t];o.indexOf(t)===-1?Qle(r,n,d):GO(r,n,d)})});return d.catch(function(e){return e}),d}function tue(e){return!!(e&&e.message!==void 0)}function nue(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function qO(e,t){return function(n){var r=e.fullFields?nue(t,e.fullFields):t[n.field||e.fullField];return tue(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n==`function`?n():n,fieldValue:r,field:n.field||e.fullField}}}function JO(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r==`object`&&typeof e[n]==`object`?e[n]=LO({},e[n],r):e[n]=r}}return e}var YO=function(e,t,n,r,i,a){e.required&&(!n.hasOwnProperty(e.field)||WO(t,a||e.type))&&r.push(UO(i.messages.required,e.fullField))},rue=function(e,t,n,r,i){(/^\s+$/.test(t)||t===``)&&r.push(UO(i.messages.whitespace,e.fullField))},XO,iue=(function(){if(XO)return XO;var e=`[a-fA-F\\d:]`,t=function(t){return t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=`+e+`)|(?<=`+e+`)(?=\\s|$))`:``},n=`(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}`,r=`[a-fA-F\\d]{1,4}`,i=(`
(?:
(?:`+r+`:){7}(?:`+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+`:){6}(?:`+n+`|:`+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+`:){5}(?::`+n+`|(?::`+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+`:){4}(?:(?::`+r+`){0,1}:`+n+`|(?::`+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+`:){3}(?:(?::`+r+`){0,2}:`+n+`|(?::`+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+`:){2}(?:(?::`+r+`){0,3}:`+n+`|(?::`+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+`:){1}(?:(?::`+r+`){0,4}:`+n+`|(?::`+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+`){0,5}:`+n+`|(?::`+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,``).replace(/\n/g,``).trim(),a=RegExp(`(?:^`+n+`$)|(?:^`+i+`$)`),o=RegExp(`^`+n+`$`),s=RegExp(`^`+i+`$`),c=function(e){return e&&e.exact?a:RegExp(`(?:`+t(e)+n+t(e)+`)|(?:`+t(e)+i+t(e)+`)`,`g`)};c.v4=function(e){return e&&e.exact?o:RegExp(``+t(e)+n+t(e),`g`)},c.v6=function(e){return e&&e.exact?s:RegExp(``+t(e)+i+t(e),`g`)};var l=`(?:(?:[a-z]+:)?//)`,u=`(?:\\S+(?::\\S*)?@)?`,d=c.v4().source,f=c.v6().source,p=`(?:`+l+`|www\\.)`+u+`(?:localhost|`+d+`|`+f+`|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?`;return XO=RegExp(`(?:^`+p+`$)`,`i`),XO}),ZO={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},QO={integer:function(e){return QO.number(e)&&parseInt(e,10)===e},float:function(e){return QO.number(e)&&!QO.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!0}catch{return!1}},date:function(e){return typeof e.getTime==`function`&&typeof e.getMonth==`function`&&typeof e.getYear==`function`&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e==`number`},object:function(e){return typeof e==`object`&&!QO.array(e)},method:function(e){return typeof e==`function`},email:function(e){return typeof e==`string`&&e.length<=320&&!!e.match(ZO.email)},url:function(e){return typeof e==`string`&&e.length<=2048&&!!e.match(iue())},hex:function(e){return typeof e==`string`&&!!e.match(ZO.hex)}},aue=function(e,t,n,r,i){if(e.required&&t===void 0){YO(e,t,n,r,i);return}var a=[`integer`,`float`,`array`,`regexp`,`object`,`method`,`email`,`number`,`date`,`url`,`hex`],o=e.type;a.indexOf(o)>-1?QO[o](t)||r.push(UO(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(UO(i.messages.types[o],e.fullField,e.type))},oue=function(e,t,n,r,i){var a=typeof e.len==`number`,o=typeof e.min==`number`,s=typeof e.max==`number`,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=t,u=null,d=typeof t==`number`,f=typeof t==`string`,p=Array.isArray(t);if(d?u=`number`:f?u=`string`:p&&(u=`array`),!u)return!1;p&&(l=t.length),f&&(l=t.replace(c,`_`).length),a?l!==e.len&&r.push(UO(i.messages[u].len,e.fullField,e.len)):o&&!s&&l<e.min?r.push(UO(i.messages[u].min,e.fullField,e.min)):s&&!o&&l>e.max?r.push(UO(i.messages[u].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&r.push(UO(i.messages[u].range,e.fullField,e.min,e.max))},$O=`enum`,ek={required:YO,whitespace:rue,type:aue,range:oue,enum:function(e,t,n,r,i){e[$O]=Array.isArray(e[$O])?e[$O]:[],e[$O].indexOf(t)===-1&&r.push(UO(i.messages[$O],e.fullField,e[$O].join(`, `)))},pattern:function(e,t,n,r,i){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(UO(i.messages.pattern.mismatch,e.fullField,t,e.pattern))):typeof e.pattern==`string`&&(new RegExp(e.pattern).test(t)||r.push(UO(i.messages.pattern.mismatch,e.fullField,t,e.pattern))))}},sue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t,`string`)&&!e.required)return n();ek.required(e,t,r,a,i,`string`),WO(t,`string`)||(ek.type(e,t,r,a,i),ek.range(e,t,r,a,i),ek.pattern(e,t,r,a,i),e.whitespace===!0&&ek.whitespace(e,t,r,a,i))}n(a)},cue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t)&&!e.required)return n();ek.required(e,t,r,a,i),t!==void 0&&ek.type(e,t,r,a,i)}n(a)},lue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(t===``&&(t=void 0),WO(t)&&!e.required)return n();ek.required(e,t,r,a,i),t!==void 0&&(ek.type(e,t,r,a,i),ek.range(e,t,r,a,i))}n(a)},uue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t)&&!e.required)return n();ek.required(e,t,r,a,i),t!==void 0&&ek.type(e,t,r,a,i)}n(a)},due=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t)&&!e.required)return n();ek.required(e,t,r,a,i),WO(t)||ek.type(e,t,r,a,i)}n(a)},fue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t)&&!e.required)return n();ek.required(e,t,r,a,i),t!==void 0&&(ek.type(e,t,r,a,i),ek.range(e,t,r,a,i))}n(a)},pue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t)&&!e.required)return n();ek.required(e,t,r,a,i),t!==void 0&&(ek.type(e,t,r,a,i),ek.range(e,t,r,a,i))}n(a)},mue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(t==null&&!e.required)return n();ek.required(e,t,r,a,i,`array`),t!=null&&(ek.type(e,t,r,a,i),ek.range(e,t,r,a,i))}n(a)},hue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t)&&!e.required)return n();ek.required(e,t,r,a,i),t!==void 0&&ek.type(e,t,r,a,i)}n(a)},gue=`enum`,_ue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t)&&!e.required)return n();ek.required(e,t,r,a,i),t!==void 0&&ek[gue](e,t,r,a,i)}n(a)},vue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t,`string`)&&!e.required)return n();ek.required(e,t,r,a,i),WO(t,`string`)||ek.pattern(e,t,r,a,i)}n(a)},yue=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t,`date`)&&!e.required)return n();if(ek.required(e,t,r,a,i),!WO(t,`date`)){var o=t instanceof Date?t:new Date(t);ek.type(e,o,r,a,i),o&&ek.range(e,o.getTime(),r,a,i)}}n(a)},bue=function(e,t,n,r,i){var a=[],o=Array.isArray(t)?`array`:typeof t;ek.required(e,t,r,a,i,o),n(a)},tk=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t,a)&&!e.required)return n();ek.required(e,t,r,o,i,a),WO(t,a)||ek.type(e,t,r,o,i)}n(o)},nk={string:sue,method:cue,number:lue,boolean:uue,regexp:due,integer:fue,float:pue,array:mue,object:hue,enum:_ue,pattern:vue,date:yue,url:tk,hex:tk,email:tk,required:bue,any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WO(t)&&!e.required)return n();ek.required(e,t,r,a,i)}n(a)}};function rk(){return{default:`Validation error on field %s`,required:`%s is required`,enum:`%s must be one of %s`,whitespace:`%s cannot be empty`,date:{format:`%s date %s is invalid for format %s`,parse:`%s date could not be parsed, %s is invalid `,invalid:`%s date %s is invalid`},types:{string:`%s is not a %s`,method:`%s is not a %s (function)`,array:`%s is not an %s`,object:`%s is not an %s`,number:`%s is not a %s`,date:`%s is not a %s`,boolean:`%s is not a %s`,integer:`%s is not an %s`,float:`%s is not a %s`,regexp:`%s is not a valid %s`,email:`%s is not a valid %s`,url:`%s is not a valid %s`,hex:`%s is not a valid %s`},string:{len:`%s must be exactly %s characters`,min:`%s must be at least %s characters`,max:`%s cannot be longer than %s characters`,range:`%s must be between %s and %s characters`},number:{len:`%s must equal %s`,min:`%s cannot be less than %s`,max:`%s cannot be greater than %s`,range:`%s must be between %s and %s`},array:{len:`%s must be exactly %s in length`,min:`%s cannot be less than %s in length`,max:`%s cannot be greater than %s in length`,range:`%s must be between %s and %s in length`},pattern:{mismatch:`%s value %s does not match pattern %s`},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ik=rk(),ak=function(){function e(e){this.rules=null,this._messages=ik,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw Error(`Cannot configure a schema with no rules`);if(typeof e!=`object`||Array.isArray(e))throw Error(`Rules must be an object`);this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})},t.messages=function(e){return e&&(this._messages=JO(rk(),e)),this._messages},t.validate=function(t,n,r){var i=this;n===void 0&&(n={}),r===void 0&&(r=function(){});var a=t,o=n,s=r;if(typeof o==`function`&&(s=o,o={}),!this.rules||Object.keys(this.rules).length===0)return s&&s(null,a),Promise.resolve(a);function c(e){var t=[],n={};function r(e){if(Array.isArray(e)){var n;t=(n=t).concat.apply(n,e)}else t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=HO(t),s(t,n)):s(null,a)}if(o.messages){var l=this.messages();l===ik&&(l=rk()),JO(l,o.messages),o.messages=l}else o.messages=this.messages();var u={};(o.keys||Object.keys(this.rules)).forEach(function(e){var n=i.rules[e],r=a[e];n.forEach(function(n){var o=n;typeof o.transform==`function`&&(a===t&&(a=LO({},a)),r=a[e]=o.transform(r)),o=typeof o==`function`?{validator:o}:LO({},o),o.validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),u[e]=u[e]||[],u[e].push({rule:o,value:r,source:a,field:e}))})});var d={};return eue(u,o,function(t,n){var r=t.rule,i=(r.type===`object`||r.type===`array`)&&(typeof r.fields==`object`||typeof r.defaultField==`object`);i&&=r.required||!r.required&&t.value,r.field=t.field;function s(e,t){return LO({},t,{fullField:r.fullField+`.`+e,fullFields:r.fullFields?[].concat(r.fullFields,[e]):[e]})}function c(c){c===void 0&&(c=[]);var l=Array.isArray(c)?c:[c];!o.suppressWarning&&l.length&&e.warning(`async-validator:`,l),l.length&&r.message!==void 0&&(l=[].concat(r.message));var u=l.map(qO(r,a));if(o.first&&u.length)return d[r.field]=1,n(u);if(!i)n(u);else{if(r.required&&!t.value)return r.message===void 0?o.error&&(u=[o.error(r,UO(o.messages.required,r.field))]):u=[].concat(r.message).map(qO(r,a)),n(u);var f={};r.defaultField&&Object.keys(t.value).map(function(e){f[e]=r.defaultField}),f=LO({},f,t.rule.fields);var p={};Object.keys(f).forEach(function(e){var t=f[e];p[e]=(Array.isArray(t)?t:[t]).map(s.bind(null,e))});var m=new e(p);m.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),m.validate(t.value,t.rule.options||o,function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)})}}var l;if(r.asyncValidator)l=r.asyncValidator(r,t.value,c,t.source,o);else if(r.validator){try{l=r.validator(r,t.value,c,t.source,o)}catch(e){console.error==null||console.error(e),o.suppressValidatorError||setTimeout(function(){throw e},0),c(e.message)}l===!0?c():l===!1?c(typeof r.message==`function`?r.message(r.fullField||r.field):r.message||(r.fullField||r.field)+` fails`):l instanceof Array?c(l):l instanceof Error&&c(l.message)}l&&l.then&&l.then(function(){return c()},function(e){return c(e)})},function(e){c(e)},a)},t.getType=function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type=`pattern`),typeof e.validator!=`function`&&e.type&&!nk.hasOwnProperty(e.type))throw Error(UO(`Unknown rule type %s`,e.type));return e.type||`string`},t.getValidationMethod=function(e){if(typeof e.validator==`function`)return e.validator;var t=Object.keys(e),n=t.indexOf(`message`);return n!==-1&&t.splice(n,1),t.length===1&&t[0]===`required`?nk.required:nk[this.getType(e)]||void 0},e}();ak.register=function(e,t){if(typeof t!=`function`)throw Error(`Cannot register a validator by type, validator is not a function`);nk[e]=t},ak.warning=Xle,ak.messages=ik,ak.validators=nk;var xue=t_({label:String,labelWidth:{type:[String,Number]},labelPosition:{type:String,values:[`left`,`right`,`top`,``],default:``},prop:{type:Z([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Z([Object,Array])},error:String,validateStatus:{type:String,values:[``,`error`,`validating`,`success`]},for:String,inlineMessage:{type:Boolean,default:void 0},showMessage:{type:Boolean,default:!0},size:{type:String,values:n_}}),ok=`ElLabelWrap`,Sue=V({name:ok,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){let n=qn(xy,void 0),r=qn(Sy);r||zg(ok,`usage: <el-form-item><label-wrap /></el-form-item>`);let i=X(`form`),a=L(),o=L(0),s=()=>{if(a.value?.firstElementChild){let e=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}else return 0},c=(r=`update`)=>{Mn(()=>{t.default&&e.isAutoWidth&&(r===`update`?o.value=s():r===`remove`&&n?.deregisterLabelWidth(o.value))})},l=()=>c(`update`);return zr(()=>{l()}),Hr(()=>{c(`remove`)}),Vr(()=>l()),B(o,(t,r)=>{e.updateAll&&n?.registerLabelWidth(t,r)}),jg(Y(()=>a.value?.firstElementChild??null),l),()=>{if(!t)return null;let{isAutoWidth:s}=e;if(s){let e=n?.autoLabelWidth,s=r?.hasLabel,c={};if(s&&e&&e!==`auto`){let t=Math.max(0,Number.parseInt(e,10)-o.value),i=(r.labelPosition||n.labelPosition)===`left`?`marginRight`:`marginLeft`;t&&(c[i]=`${t}px`)}return q(`div`,{ref:a,class:[i.be(`item`,`label-wrap`)],style:c},[t.default?.call(t)])}else return q(va,{ref:a},[t.default?.call(t)])}}}),Cue=[`role`,`aria-labelledby`],sk=b_(V({name:`ElFormItem`,__name:`form-item`,props:xue,setup(e,{expose:t}){let n=e,r=li(),i=qn(xy,void 0),a=qn(Sy,void 0),o=Ey(void 0,{formItem:!1}),s=X(`form-item`),c=by().value,l=L([]),u=L(``),d=pg(u,100),f=L(``),p=L(),m,h=!1,g=Y(()=>n.labelPosition||i?.labelPosition),_=Y(()=>g.value===`top`?{}:{width:V_(n.labelWidth??i?.labelWidth)}),v=Y(()=>{if(g.value===`top`||i?.inline||!n.label&&!n.labelWidth&&O)return{};let e=V_(n.labelWidth??i?.labelWidth);return!n.label&&!r.label?{marginLeft:e}:{}}),y=Y(()=>[s.b(),s.m(o.value),s.is(`error`,u.value===`error`),s.is(`validating`,u.value===`validating`),s.is(`success`,u.value===`success`),s.is(`required`,ee.value||n.required),s.is(`no-asterisk`,i?.hideRequiredAsterisk),i?.requireAsteriskPosition===`right`?`asterisk-right`:`asterisk-left`,{[s.m(`feedback`)]:i?.statusIcon,[s.m(`label-${g.value}`)]:g.value}]),b=Y(()=>Vh(n.inlineMessage)?n.inlineMessage:i?.inlineMessage||!1),S=Y(()=>[s.e(`error`),{[s.em(`error`,`inline`)]:b.value}]),C=Y(()=>n.prop?x(n.prop)?n.prop.join(`.`):n.prop:``),w=Y(()=>!!(n.label||r.label)),E=Y(()=>n.for??(l.value.length===1?l.value[0]:void 0)),D=Y(()=>!E.value&&w.value),O=!!a,k=Y(()=>{let e=i?.model;if(!(!e||!n.prop))return f_(e,n.prop).value}),A=Y(()=>{let{required:e}=n,t=[];n.rules&&t.push(...tp(n.rules));let r=i?.rules;if(r&&n.prop){let e=f_(r,n.prop).value;e&&t.push(...tp(e))}if(e!==void 0){let n=t.map((e,t)=>[e,t]).filter(([e])=>`required`in e);if(n.length>0)for(let[r,i]of n)r.required!==e&&(t[i]={...r,required:e});else t.push({required:e})}return t}),j=Y(()=>A.value.length>0),M=e=>A.value.filter(t=>!t.trigger||!e?!0:x(t.trigger)?t.trigger.includes(e):t.trigger===e).map(({trigger:e,...t})=>t),ee=Y(()=>A.value.some(e=>e.required)),te=Y(()=>d.value===`error`&&n.showMessage&&(i?.showMessage??!0)),N=Y(()=>`${n.label||``}${i?.labelSuffix||``}`),ne=e=>{u.value=e},re=e=>{let{errors:t,fields:r}=e;(!t||!r)&&console.error(e),ne(`error`),f.value=t?t?.[0]?.message??`${n.prop} is required`:``,i?.emit(`validate`,n.prop,!1,f.value)},ie=()=>{ne(`success`),i?.emit(`validate`,n.prop,!0,``)},P=async e=>{let t=C.value;return new ak({[t]:e}).validate({[t]:k.value},{firstFields:!0}).then(()=>(ie(),!0)).catch(e=>(re(e),Promise.reject(e)))},ae=async(e,t)=>{if(h||!n.prop)return!1;let r=T(t);if(!j.value)return t?.(!1),!1;let i=M(e);return i.length===0?(t?.(!0),!0):(ne(`validating`),P(i).then(()=>(t?.(!0),!0)).catch(e=>{let{fields:n}=e;return t?.(!1,n),r?!1:Promise.reject(n)}))},oe=()=>{ne(``),f.value=``,h=!1},se=async()=>{let e=i?.model;if(!e||!n.prop)return;let t=f_(e,n.prop);h=!0,t.value=ym(m),await Mn(),oe(),h=!1},ce=e=>{l.value.includes(e)||l.value.push(e)},le=e=>{l.value=l.value.filter(t=>t!==e)},ue=e=>{m=ym(e)};B(()=>n.error,e=>{f.value=e||``,ne(e?`error`:``)},{immediate:!0}),B(()=>n.validateStatus,e=>ne(e||``));let de=Ut({...ln(n),$el:p,size:o,validateMessage:f,validateState:u,labelId:c,inputIds:l,isGroup:D,hasLabel:w,fieldValue:k,addInputId:ce,removeInputId:le,resetField:se,clearValidate:oe,validate:ae,propString:C,setInitialValue:ue});return Kn(Sy,de),zr(()=>{n.prop&&(i?.addField(de),m=ym(k.value))}),Hr(()=>{i?.removeField(de)}),t({size:o,validateMessage:f,validateState:u,validate:ae,clearValidate:oe,resetField:se,setInitialValue:ue}),(e,t)=>(U(),W(`div`,{ref_key:`formItemRef`,ref:p,class:F(y.value),role:D.value?`group`:void 0,"aria-labelledby":D.value?R(c):void 0},[q(R(Sue),{"is-auto-width":_.value.width===`auto`,"update-all":R(i)?.labelWidth===`auto`},{default:z(()=>[e.label||e.$slots.label?(U(),G(Zr(E.value?`label`:`div`),{key:0,id:R(c),for:E.value,class:F(R(s).e(`label`)),style:he(_.value)},{default:z(()=>[H(e.$slots,`label`,{label:N.value},()=>[Fa(I(N.value),1)])]),_:3},8,[`id`,`for`,`class`,`style`])):J(`v-if`,!0)]),_:3},8,[`is-auto-width`,`update-all`]),K(`div`,{class:F(R(s).e(`content`)),style:he(v.value)},[H(e.$slots,`default`),q(ms,{name:`${R(s).namespace.value}-zoom-in-top`},{default:z(()=>[te.value?H(e.$slots,`error`,{key:0,error:f.value},()=>[K(`div`,{class:F(S.value)},I(f.value),3)]):J(`v-if`,!0)]),_:3},8,[`name`])],6)],10,Cue))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue`]]),wue=S_(Gle,{FormItem:sk}),Tue=T_(sk),Eue=t_({urlList:{type:Z(Array),default:()=>ly([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:Z(String)}}),Due={close:()=>!0,error:e=>e instanceof Event,switch:e=>Hh(e),rotate:e=>Hh(e)},Oue=[`src`,`crossorigin`],ck=S_(b_(V({name:`ElImageViewer`,__name:`image-viewer`,props:Eue,emits:Due,setup(e,{expose:t,emit:n}){let r={CONTAIN:{name:`contain`,icon:Qt(vv)},ORIGINAL:{name:`original`,icon:Qt(Av)}},i=e,a=n,o,{t:s}=Zg(),c=X(`image-viewer`),{nextZIndex:l}=Gg(),u=L(),d=L(),f=Me(),p=Y(()=>{let{scale:e,minScale:t,maxScale:n}=i;return ig(e,t,n)}),m=L(!0),h=L(!1),g=L(!1),_=L(i.initialIndex),v=nn(r.CONTAIN),y=L({scale:p.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),b=L(i.zIndex??l());vO(g,{ns:c});let x=Y(()=>{let{urlList:e}=i;return e.length<=1}),S=Y(()=>_.value===0),C=Y(()=>_.value===i.urlList.length-1),w=Y(()=>i.urlList[_.value]),T=Y(()=>[c.e(`btn`),c.e(`prev`),c.is(`disabled`,!i.infinite&&S.value)]),E=Y(()=>[c.e(`btn`),c.e(`next`),c.is(`disabled`,!i.infinite&&C.value)]),D=Y(()=>{let{scale:e,deg:t,offsetX:n,offsetY:i,enableTransition:a}=y.value,o=n/e,s=i/e,c=t*Math.PI/180,l=Math.cos(c),u=Math.sin(c);o=o*l+s*u,s=s*l-n/e*u;let d={transform:`scale(${e}) rotate(${t}deg) translate(${o}px, ${s}px)`,transition:a?`transform .3s`:``};return v.value.name===r.CONTAIN.name&&(d.maxWidth=d.maxHeight=`100%`),d}),O=Y(()=>`${_.value+1} / ${i.urlList.length}`);function k(){j(),o?.(),g.value=!1,a(`close`)}function A(){let e=Ph(e=>{switch(Gb(e)){case Q.esc:i.closeOnPressEscape&&k();break;case Q.space:re();break;case Q.left:P();break;case Q.up:oe(`zoomIn`);break;case Q.right:ae();break;case Q.down:oe(`zoomOut`);break}}),t=Ph(e=>{oe((e.deltaY||e.deltaX)<0?`zoomIn`:`zoomOut`,{zoomRate:i.zoomRate,enableTransition:!1})});f.run(()=>{bg(document,`keydown`,e),bg(u,`wheel`,t)})}function j(){f.stop()}function M(){m.value=!1}function ee(e){h.value=!0,m.value=!1,a(`error`,e),e.target.alt=s(`el.image.error`)}function te(e){if(m.value||e.button!==0||!u.value)return;y.value.enableTransition=!1;let{offsetX:t,offsetY:n}=y.value,r=e.pageX,i=e.pageY,a=Ph(e=>{y.value={...y.value,offsetX:t+e.pageX-r,offsetY:n+e.pageY-i}}),o=bg(document,`mousemove`,a),s=bg(document,`mouseup`,()=>{o(),s()});e.preventDefault()}function N(e){if(m.value||!u.value||e.touches.length!==1)return;y.value.enableTransition=!1;let{offsetX:t,offsetY:n}=y.value,{pageX:r,pageY:i}=e.touches[0],a=Ph(e=>{let a=e.touches[0];y.value={...y.value,offsetX:t+a.pageX-r,offsetY:n+a.pageY-i}}),o=bg(document,`touchmove`,a),s=bg(document,`touchend`,()=>{o(),s()});e.preventDefault()}function ne(){y.value={scale:p.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function re(){if(m.value||h.value)return;let e=u_(r),t=Object.values(r),n=v.value.name;v.value=r[e[(t.findIndex(e=>e.name===n)+1)%e.length]],ne()}function ie(e){h.value=!1;let t=i.urlList.length;_.value=(e+t)%t}function P(){S.value&&!i.infinite||ie(_.value-1)}function ae(){C.value&&!i.infinite||ie(_.value+1)}function oe(e,t={}){if(m.value||h.value)return;let{minScale:n,maxScale:r}=i,{zoomRate:o,rotateDeg:s,enableTransition:c}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...t};switch(e){case`zoomOut`:y.value.scale>n&&(y.value.scale=Number.parseFloat((y.value.scale/o).toFixed(3)));break;case`zoomIn`:y.value.scale<r&&(y.value.scale=Number.parseFloat((y.value.scale*o).toFixed(3)));break;case`clockwise`:y.value.deg+=s,a(`rotate`,y.value.deg);break;case`anticlockwise`:y.value.deg-=s,a(`rotate`,y.value.deg);break}y.value.enableTransition=c}function se(e){e.detail?.focusReason===`pointer`&&e.preventDefault()}function ce(){i.closeOnPressEscape&&k()}function le(e){if(e.ctrlKey&&(e.deltaY<0||e.deltaY>0))return e.preventDefault(),!1}return B(()=>p.value,e=>{y.value.scale=e}),B(w,()=>{Mn(()=>{d.value?.complete||(m.value=!0)})}),B(_,e=>{ne(),a(`switch`,e)}),zr(()=>{g.value=!0,A(),o=bg(`wheel`,le,{passive:!1})}),t({setActiveItem:ie}),(e,t)=>(U(),G(R(E_),{to:`body`,disabled:!e.teleported},{default:z(()=>[q(yo,{name:`viewer-fade`,appear:``},{default:z(()=>[K(`div`,{ref_key:`wrapper`,ref:u,tabindex:-1,class:F(R(c).e(`wrapper`)),style:he({zIndex:b.value})},[q(R(Qb),{loop:``,trapped:``,"focus-trap-el":u.value,"focus-start-el":`container`,onFocusoutPrevented:se,onReleaseRequested:ce},{default:z(()=>[K(`div`,{class:F(R(c).e(`mask`)),onClick:t[0]||=Ms(t=>e.hideOnClickModal&&k(),[`self`])},null,2),J(` CLOSE `),K(`span`,{class:F([R(c).e(`btn`),R(c).e(`close`)]),onClick:k},[q(R(Q_),null,{default:z(()=>[q(R(pv))]),_:1})],2),J(` ARROW `),x.value?J(`v-if`,!0):(U(),W(va,{key:0},[K(`span`,{class:F(T.value),onClick:P},[q(R(Q_),null,{default:z(()=>[q(R(ev))]),_:1})],2),K(`span`,{class:F(E.value),onClick:ae},[q(R(Q_),null,{default:z(()=>[q(R(tv))]),_:1})],2)],64)),e.$slots.progress||e.showProgress?(U(),W(`div`,{key:1,class:F([R(c).e(`btn`),R(c).e(`progress`)])},[H(e.$slots,`progress`,{activeIndex:_.value,total:e.urlList.length},()=>[Fa(I(O.value),1)])],2)):J(`v-if`,!0),J(` ACTIONS `),K(`div`,{class:F([R(c).e(`btn`),R(c).e(`actions`)])},[K(`div`,{class:F(R(c).e(`actions__inner`))},[H(e.$slots,`toolbar`,{actions:oe,prev:P,next:ae,reset:re,activeIndex:_.value,setActiveItem:ie},()=>[q(R(Q_),{onClick:t[1]||=e=>oe(`zoomOut`)},{default:z(()=>[q(R(Bv))]),_:1}),q(R(Q_),{onClick:t[2]||=e=>oe(`zoomIn`)},{default:z(()=>[q(R(zv))]),_:1}),K(`i`,{class:F(R(c).e(`actions__divider`))},null,2),q(R(Q_),{onClick:re},{default:z(()=>[(U(),G(Zr(v.value.icon)))]),_:1}),K(`i`,{class:F(R(c).e(`actions__divider`))},null,2),q(R(Q_),{onClick:t[3]||=e=>oe(`anticlockwise`)},{default:z(()=>[q(R(Ov))]),_:1}),q(R(Q_),{onClick:t[4]||=e=>oe(`clockwise`)},{default:z(()=>[q(R(kv))]),_:1})])],2)],2),J(` CANVAS `),K(`div`,{class:F(R(c).e(`canvas`))},[h.value&&e.$slots[`viewer-error`]?H(e.$slots,`viewer-error`,{key:0,activeIndex:_.value,src:w.value}):(U(),W(`img`,{ref_key:`imgRef`,ref:d,key:w.value,src:w.value,style:he(D.value),class:F(R(c).e(`img`)),crossorigin:e.crossorigin,onLoad:M,onError:ee,onMousedown:te,onTouchstart:N},null,46,Oue))],2),H(e.$slots,`default`)]),_:3},8,[`focus-trap-el`])],6)]),_:3})]),_:3},8,[`disabled`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue`]])),kue=t_({hideOnClickModal:Boolean,src:{type:String,default:``},fit:{type:String,values:[``,`contain`,`cover`,`fill`,`none`,`scale-down`],default:``},loading:{type:String,values:[`eager`,`lazy`]},lazy:Boolean,scrollContainer:{type:Z([String,Object])},previewSrcList:{type:Z(Array),default:()=>ly([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:Z(String)}}),Aue={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Hh(e),close:()=>!0,show:()=>!0},jue=[`src`,`loading`,`crossorigin`],Mue={key:0},Nue=S_(b_(V({name:`ElImage`,inheritAttrs:!1,__name:`image`,props:kue,emits:Aue,setup(e,{expose:t,emit:n}){let r=e,i=n,{t:a}=Zg(),o=X(`image`),s=ui(),c=Y(()=>Zm(Object.entries(s).filter(([e])=>/^(data-|on[A-Z])/i.test(e)||[`id`,`style`].includes(e)))),l=gy({excludeListeners:!0,excludeKeys:Y(()=>Object.keys(c.value))}),u=L(),d=L(!1),f=L(!0),p=L(!1),m=L(),h=L(),g=$h&&`loading`in HTMLImageElement.prototype,_,v=Y(()=>[o.e(`inner`),b.value&&o.e(`preview`),f.value&&o.is(`loading`)]),y=Y(()=>{let{fit:e}=r;return $h&&e?{objectFit:e}:{}}),b=Y(()=>{let{previewSrcList:e}=r;return x(e)&&e.length>0}),S=Y(()=>{let{previewSrcList:e,initialIndex:t}=r,n=t;return t>e.length-1&&(n=0),n}),C=Y(()=>r.loading===`eager`?!1:!g&&r.loading===`lazy`||r.lazy),w=()=>{$h&&(f.value=!0,d.value=!1,u.value=r.src)};function T(e){f.value=!1,d.value=!1,i(`load`,e)}function D(e){f.value=!1,d.value=!0,i(`error`,e)}function O(e){e&&(w(),j())}let k=mg(O,200,!0);async function A(){if(!$h)return;await Mn();let{scrollContainer:e}=r;if(Wh(e))h.value=e;else if(E(e)&&e!==``)h.value=document.querySelector(e)??void 0;else if(m.value){let e=U_(m.value);h.value=qh(e)?void 0:e}let{stop:t}=Pg(m,([e])=>{k(e.isIntersecting)},{root:h});_=t}function j(){!$h||!k||(_?.(),h.value=void 0,_=void 0)}function M(){b.value&&(p.value=!0,i(`show`))}function ee(){p.value=!1,i(`close`)}function te(e){i(`switch`,e)}return B(()=>r.src,()=>{C.value?(f.value=!0,d.value=!1,j(),A()):w()}),zr(()=>{C.value?A():w()}),t({showPreview:M}),(e,t)=>(U(),W(`div`,za({ref_key:`container`,ref:m},c.value,{class:[R(o).b(),e.$attrs.class]}),[d.value?H(e.$slots,`error`,{key:0},()=>[K(`div`,{class:F(R(o).e(`error`))},I(R(a)(`el.image.error`)),3)]):(U(),W(va,{key:1},[u.value===void 0?J(`v-if`,!0):(U(),W(`img`,za({key:0},R(l),{src:u.value,loading:e.loading,style:y.value,class:v.value,crossorigin:e.crossorigin,onClick:M,onLoad:T,onError:D}),null,16,jue)),f.value?(U(),W(`div`,{key:1,class:F(R(o).e(`wrapper`))},[H(e.$slots,`placeholder`,{},()=>[K(`div`,{class:F(R(o).e(`placeholder`))},null,2)])],2)):J(`v-if`,!0)],64)),b.value?(U(),W(va,{key:2},[p.value?(U(),G(R(ck),{key:0,"z-index":e.zIndex,"initial-index":S.value,infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"show-progress":e.showProgress,"url-list":e.previewSrcList,scale:e.scale,crossorigin:e.crossorigin,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:ee,onSwitch:te},ni({toolbar:z(t=>[H(e.$slots,`toolbar`,be(Na(t)))]),default:z(()=>[e.$slots.viewer?(U(),W(`div`,Mue,[H(e.$slots,`viewer`)])):J(`v-if`,!0)]),_:2},[e.$slots.progress?{name:`progress`,fn:z(t=>[H(e.$slots,`progress`,be(Na(t)))]),key:`0`}:void 0,e.$slots[`viewer-error`]?{name:`viewer-error`,fn:z(t=>[H(e.$slots,`viewer-error`,be(Na(t)))]),key:`1`}:void 0]),1032,[`z-index`,`initial-index`,`infinite`,`zoom-rate`,`min-scale`,`max-scale`,`show-progress`,`url-list`,`scale`,`crossorigin`,`hide-on-click-modal`,`teleported`,`close-on-press-escape`])):J(`v-if`,!0)],64)):J(`v-if`,!0)],16))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue`]])),Pue=t_({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:2**53-1},min:{type:Number,default:-(2**53-1)},modelValue:{type:[Number,null]},readonly:Boolean,disabled:{type:Boolean,default:void 0},size:r_,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:``,values:[``,`right`]},valueOnClear:{type:Z([String,Number,null]),validator:e=>e===null||Hh(e)||[`min`,`max`].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...dy([`ariaLabel`]),inputmode:{type:Z(String),default:void 0},align:{type:Z(String),default:`center`},disabledScientific:Boolean}),Fue={[O_]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[k_]:e=>Hh(e)||ch(e),[D_]:e=>Hh(e)||ch(e)},Iue=[`aria-label`],Lue=[`aria-label`],lk=S_(b_(V({name:`ElInputNumber`,__name:`input-number`,props:Pue,emits:Fue,setup(e,{expose:t,emit:n}){let r=e,i=n,{t:a}=Zg(),o=X(`input-number`),s=L(),c=Ut({currentValue:r.modelValue,userInput:null}),{formItem:l}=Cy(),u=Y(()=>Hh(r.modelValue)&&r.modelValue<=r.min),d=Y(()=>Hh(r.modelValue)&&r.modelValue>=r.max),f=Y(()=>{let e=v(r.step);return Bh(r.precision)?Math.max(v(r.modelValue),e):(r.precision,r.precision)}),p=Y(()=>r.controls&&r.controlsPosition===`right`),m=Ey(),h=Dy(),g=Y(()=>{if(c.userInput!==null)return c.userInput;let e=c.currentValue;if(ch(e))return``;if(Hh(e)){if(Number.isNaN(e))return``;Bh(r.precision)||(e=e.toFixed(r.precision))}return e}),_=(e,t)=>{if(Bh(t)&&(t=f.value),t===0)return Math.round(e);let n=String(e),r=n.indexOf(`.`);if(r===-1||!n.replace(`.`,``).split(``)[r+t])return e;let i=n.length;return n.charAt(i-1)===`5`&&(n=`${n.slice(0,Math.max(0,i-1))}6`),Number.parseFloat(Number(n).toFixed(t))},v=e=>{if(ch(e))return 0;let t=e.toString(),n=t.indexOf(`.`),r=0;return n!==-1&&(r=t.length-n-1),r},y=(e,t=1)=>Hh(e)?e>=2**53-1&&t===1||e<=-(2**53-1)&&t===-1?e:_(e+r.step*t):c.currentValue,b=e=>{let t=Gb(e),n=Kb(e);if(r.disabledScientific&&[`e`,`E`].includes(n)){e.preventDefault();return}switch(t){case Q.up:e.preventDefault(),x();break;case Q.down:e.preventDefault(),S();break}},x=()=>{r.readonly||h.value||d.value||(w(y(Number(g.value)||0)),i(k_,c.currentValue),M())},S=()=>{r.readonly||h.value||u.value||(w(y(Number(g.value)||0,-1)),i(k_,c.currentValue),M())},C=(e,t)=>{let{max:n,min:a,step:o,precision:s,stepStrictly:c,valueOnClear:l}=r;n<a&&zg(`InputNumber`,`min should not be greater than max.`);let u=Number(e);if(ch(e)||Number.isNaN(u))return null;if(e===``){if(l===null)return null;u=E(l)?{min:a,max:n}[l]:l}return c&&(u=_(Math.round(_(u/o))*o,s),u!==e&&t&&i(`update:modelValue`,u)),Bh(s)||(u=_(u,s)),(u>n||u<a)&&(u=u>n?n:a,t&&i(`update:modelValue`,u)),u},w=(e,t=!0)=>{var n;let a=c.currentValue,o=C(e);if(!t){i(D_,o);return}c.userInput=null,!(a===o&&e)&&(i(D_,o),a!==o&&i(O_,o,a),r.validateEvent&&((n=l?.validate)==null||n.call(l,`change`).catch(e=>void 0)),c.currentValue=o)},T=e=>{c.userInput=e;let t=e===``?null:Number(e);i(k_,t),w(t,!1)},D=e=>{let t=e===``?``:Number(e);(Hh(t)&&!Number.isNaN(t)||e===``)&&w(t),M(),c.userInput=null},O=()=>{var e,t;(t=(e=s.value)?.focus)==null||t.call(e)},k=()=>{var e,t;(t=(e=s.value)?.blur)==null||t.call(e)},A=e=>{i(`focus`,e)},j=e=>{var t;c.userInput=null,c.currentValue===null&&s.value?.input&&(s.value.input.value=``),i(`blur`,e),r.validateEvent&&((t=l?.validate)==null||t.call(l,`blur`).catch(e=>void 0))},M=()=>{c.currentValue!==r.modelValue&&(c.currentValue=r.modelValue)},ee=e=>{document.activeElement===e.target&&e.preventDefault()};return B(()=>r.modelValue,(e,t)=>{let n=C(e,!0);c.userInput===null&&n!==t&&(c.currentValue=n)},{immediate:!0}),B(()=>r.precision,()=>{c.currentValue=C(r.modelValue)}),zr(()=>{let{min:e,max:t,modelValue:n}=r,a=s.value?.input;if(a.setAttribute(`role`,`spinbutton`),Number.isFinite(t)?a.setAttribute(`aria-valuemax`,String(t)):a.removeAttribute(`aria-valuemax`),Number.isFinite(e)?a.setAttribute(`aria-valuemin`,String(e)):a.removeAttribute(`aria-valuemin`),a.setAttribute(`aria-valuenow`,c.currentValue||c.currentValue===0?String(c.currentValue):``),a.setAttribute(`aria-disabled`,String(h.value)),!Hh(n)&&n!=null){let e=Number(n);Number.isNaN(e)&&(e=null),i(D_,e)}a.addEventListener(`wheel`,ee,{passive:!1})}),Vr(()=>{(s.value?.input)?.setAttribute(`aria-valuenow`,`${c.currentValue??``}`)}),t({focus:O,blur:k}),(e,t)=>(U(),W(`div`,{class:F([R(o).b(),R(o).m(R(m)),R(o).is(`disabled`,R(h)),R(o).is(`without-controls`,!e.controls),R(o).is(`controls-right`,p.value),R(o).is(e.align,!!e.align)]),onDragstart:t[0]||=Ms(()=>{},[`prevent`])},[e.controls?Wn((U(),W(`span`,{key:0,role:`button`,"aria-label":R(a)(`el.inputNumber.decrease`),class:F([R(o).e(`decrease`),R(o).is(`disabled`,u.value)]),onKeydown:Ps(S,[`enter`])},[H(e.$slots,`decrease-icon`,{},()=>[q(R(Q_),null,{default:z(()=>[p.value?(U(),G(R($_),{key:0})):(U(),G(R(Sv),{key:1}))]),_:1})])],42,Iue)),[[R(yD),S]]):J(`v-if`,!0),e.controls?Wn((U(),W(`span`,{key:1,role:`button`,"aria-label":R(a)(`el.inputNumber.increase`),class:F([R(o).e(`increase`),R(o).is(`disabled`,d.value)]),onKeydown:Ps(x,[`enter`])},[H(e.$slots,`increase-icon`,{},()=>[q(R(Q_),null,{default:z(()=>[p.value?(U(),G(R(nv),{key:0})):(U(),G(R(Ev),{key:1}))]),_:1})])],42,Lue)),[[R(yD),x]]):J(`v-if`,!0),q(R(Wy),{id:e.id,ref_key:`input`,ref:s,type:`number`,step:e.step,"model-value":g.value,placeholder:e.placeholder,readonly:e.readonly,disabled:R(h),size:R(m),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,inputmode:e.inputmode,onKeydown:b,onBlur:j,onFocus:A,onInput:T,onChange:D},ni({_:2},[e.$slots.prefix?{name:`prefix`,fn:z(()=>[H(e.$slots,`prefix`)]),key:`0`}:void 0,e.$slots.suffix?{name:`suffix`,fn:z(()=>[H(e.$slots,`suffix`)]),key:`1`}:void 0]),1032,[`id`,`step`,`model-value`,`placeholder`,`readonly`,`disabled`,`size`,`max`,`min`,`name`,`aria-label`,`inputmode`])],34))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue`]])),Rue=t_({modelValue:{type:Z(Array)},max:Number,tagType:{...TT.type,default:`info`},tagEffect:TT.effect,trigger:{type:Z(String),default:Q.enter},draggable:Boolean,delimiter:{type:[String,RegExp],default:``},size:r_,clearable:Boolean,clearIcon:{type:Vv,default:dv},disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:Z(String),default:`off`},saveOnBlur:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},ariaLabel:String}),zue={[D_]:e=>x(e)||Bh(e),[O_]:e=>x(e)||Bh(e),[k_]:e=>E(e),"add-tag":e=>E(e)||x(e),"remove-tag":(e,t)=>E(e)&&Hh(t),"drag-tag":(e,t,n)=>Hh(e)&&Hh(t)&&E(n),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function Bue({props:e,emit:t,formItem:n}){let r=Dy(),i=Ey(),a=nn(),o=L(),s=L(),c=Y(()=>[`small`].includes(i.value)?`small`:`default`),l=Y(()=>e.modelValue?.length?void 0:e.placeholder),u=Y(()=>!(e.readonly||r.value)),d=Y(()=>Bh(e.max)?!1:(e.modelValue?.length??0)>=e.max),f=Y(()=>e.collapseTags?e.modelValue?.slice(0,e.maxCollapseTags):e.modelValue),p=Y(()=>e.collapseTags?e.modelValue?.slice(e.maxCollapseTags):[]),m=n=>{let r=[...e.modelValue??[],...tp(n)];t(D_,r),t(O_,r),t(`add-tag`,n),o.value=void 0},h=t=>{let n=t.split(e.delimiter).filter(e=>e&&e!==t);if(e.max){let t=e.max-(e.modelValue?.length??0);n.splice(t)}return n.length===1?n[0]:n},g=n=>{if(d.value){o.value=void 0;return}if(!D.value){if(e.delimiter&&o.value){let e=h(o.value);e.length&&m(e)}t(k_,n.target.value)}},_=t=>{if(!D.value)switch(Gb(t)){case e.trigger:t.preventDefault(),t.stopPropagation(),y();break;case Q.numpadEnter:e.trigger===Q.enter&&(t.preventDefault(),t.stopPropagation(),y());break;case Q.backspace:!o.value&&e.modelValue?.length&&(t.preventDefault(),t.stopPropagation(),b(e.modelValue.length-1));break}},v=t=>{if(!(D.value||!ny()))switch(Gb(t)){case Q.space:e.trigger===Q.space&&(t.preventDefault(),t.stopPropagation(),y());break}},y=()=>{let e=o.value?.trim();!e||d.value||m(e)},b=n=>{let r=(e.modelValue??[]).slice(),[i]=r.splice(n,1);t(D_,r),t(O_,r),t(`remove-tag`,i,n)},x=()=>{o.value=void 0,t(D_,void 0),t(O_,void 0),t(`clear`)},S=(n,r,i)=>{let a=(e.modelValue??[]).slice(),[o]=a.splice(n,1),s=r>n&&i===`before`?-1:r<n&&i===`after`?1:0;a.splice(r+s,0,o),t(D_,a),t(O_,a),t(`drag-tag`,n,r+s,o)},C=()=>{var e;(e=a.value)==null||e.focus()},w=()=>{var e;(e=a.value)==null||e.blur()},{wrapperRef:T,isFocused:E}=Ry(a,{disabled:r,beforeBlur(e){return s.value?.isFocusInsideContent(e)},afterBlur(){var t;e.saveOnBlur?y():o.value=void 0,e.validateEvent&&((t=n?.validate)==null||t.call(n,`blur`).catch(e=>void 0))}}),{isComposing:D,handleCompositionStart:O,handleCompositionUpdate:k,handleCompositionEnd:A}=By({afterComposition:g});return B(()=>e.modelValue,()=>{var t;e.validateEvent&&((t=n?.validate)==null||t.call(n,`change`).catch(e=>void 0))}),{inputRef:a,wrapperRef:T,tagTooltipRef:s,isFocused:E,isComposing:D,inputValue:o,size:i,tagSize:c,placeholder:l,closable:u,disabled:r,inputLimit:d,showTagList:f,collapseTagList:p,handleDragged:S,handleInput:g,handleKeydown:_,handleKeyup:v,handleAddTag:y,handleRemoveTag:b,handleClear:x,handleCompositionStart:O,handleCompositionUpdate:k,handleCompositionEnd:A,focus:C,blur:w}}function Vue(){let e=L(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}function Hue({wrapperRef:e,handleDragged:t,afterDragged:n}){let r=X(`input-tag`),i=nn(),a=L(!1),o,s,c,l;function u(e){return`.${r.e(`inner`)} .${r.namespace.value}-tag:nth-child(${e+1})`}function d(t,n){o=n,s=e.value.querySelector(u(n)),s&&(s.style.opacity=`0.5`),t.dataTransfer.effectAllowed=`move`}function f(t,n){if(c=n,t.preventDefault(),t.dataTransfer.dropEffect=`move`,Bh(o)||o===n){a.value=!1;return}let s=e.value.querySelector(u(n)).getBoundingClientRect(),d=o+1!==n,f=o-1!==n,p=t.clientX-s.left,m=d?f?.5:1:-1,h=f?d?.5:0:1;l=p<=s.width*m?`before`:p>s.width*h?`after`:void 0;let g=e.value.querySelector(`.${r.e(`inner`)}`),_=g.getBoundingClientRect(),v=Number.parseFloat(z_(g,`gap`))/2,y=s.top-_.top,b=-9999;if(l===`before`)b=Math.max(s.left-_.left-v,Math.floor(-v/2));else if(l===`after`){let e=s.right-_.left;b=e+(_.width===e?Math.floor(v/2):v)}B_(i.value,{top:`${y}px`,left:`${b}px`}),a.value=!!l}function p(e){e.preventDefault(),s&&(s.style.opacity=``),l&&!Bh(o)&&!Bh(c)&&o!==c&&t(o,c,l),a.value=!1,o=void 0,s=null,c=void 0,l=void 0,n?.()}return{dropIndicatorRef:i,showDropIndicator:a,handleDragStart:d,handleDragOver:f,handleDragEnd:p}}function Uue({props:e,isFocused:t,hovering:n,disabled:r,inputValue:i,size:a,validateState:o,validateIcon:s,needStatusIcon:c}){let l=ui(),u=li(),d=X(`input-tag`),f=X(`input`),p=L(),m=L(),h=Y(()=>[d.b(),d.is(`focused`,t.value),d.is(`hovering`,n.value),d.is(`disabled`,r.value),d.m(a.value),d.e(`wrapper`),l.class]),g=Y(()=>[l.style]),_=Y(()=>[d.e(`inner`),d.is(`draggable`,e.draggable),d.is(`left-space`,!e.modelValue?.length&&!u.prefix),d.is(`right-space`,!e.modelValue?.length&&!y.value)]),v=Y(()=>e.clearable&&!r.value&&!e.readonly&&(e.modelValue?.length||i.value)&&(t.value||n.value)),y=Y(()=>u.suffix||v.value||o.value&&s.value&&c.value),b=Ut({innerWidth:0,collapseItemWidth:0}),x=()=>{if(!m.value)return 0;let e=window.getComputedStyle(m.value);return Number.parseFloat(e.gap||`6px`)},S=()=>{b.innerWidth=Number.parseFloat(window.getComputedStyle(m.value).width)},C=()=>{b.collapseItemWidth=p.value.getBoundingClientRect().width},w=Y(()=>{if(!e.collapseTags)return{};let t=x(),n=t+11,r=p.value&&e.maxCollapseTags===1?b.innerWidth-b.collapseItemWidth-t-n:b.innerWidth-n;return{maxWidth:`${Math.max(r,0)}px`}});return jg(m,S),jg(p,C),{ns:d,nsInput:f,containerKls:h,containerStyle:g,innerKls:_,showClear:v,showSuffix:y,tagStyle:w,collapseItemRef:p,innerRef:m}}var Wue=[`id`,`minlength`,`maxlength`,`disabled`,`readonly`,`autocomplete`,`tabindex`,`placeholder`,`autofocus`,`ariaLabel`],Gue=[`textContent`],Kue=S_(b_(V({name:`ElInputTag`,inheritAttrs:!1,__name:`input-tag`,props:Rue,emits:zue,setup(e,{expose:t,emit:n}){let r=e,i=n,a=gy(),o=li(),{form:s,formItem:c}=Cy(),{inputId:l}=wy(r,{formItemContext:c}),u=Y(()=>s?.statusIcon??!1),d=Y(()=>c?.validateState||``),f=Y(()=>d.value&&Gv[d.value]),{inputRef:m,wrapperRef:h,tagTooltipRef:g,isFocused:_,inputValue:v,size:y,tagSize:b,placeholder:x,closable:S,disabled:C,showTagList:w,collapseTagList:T,handleDragged:E,handleInput:D,handleKeydown:O,handleKeyup:k,handleRemoveTag:A,handleClear:j,handleCompositionStart:M,handleCompositionUpdate:ee,handleCompositionEnd:te,focus:N,blur:ne}=Bue({props:r,emit:i,formItem:c}),{hovering:re,handleMouseEnter:ie,handleMouseLeave:P}=Vue(),{calculatorRef:ae,inputStyle:oe}=BT(),{dropIndicatorRef:se,showDropIndicator:ce,handleDragStart:le,handleDragOver:ue,handleDragEnd:de}=Hue({wrapperRef:h,handleDragged:E,afterDragged:N}),{ns:fe,nsInput:pe,containerKls:me,containerStyle:ge,innerKls:_e,showClear:ve,showSuffix:ye,tagStyle:be,collapseItemRef:xe,innerRef:Se}=Uue({props:r,hovering:re,isFocused:_,inputValue:v,disabled:C,size:y,validateState:d,validateIcon:f,needStatusIcon:u});return t({focus:N,blur:ne}),(e,t)=>(U(),W(`div`,{ref_key:`wrapperRef`,ref:h,class:F(R(me)),style:he(R(ge)),onMouseenter:t[8]||=(...e)=>R(ie)&&R(ie)(...e),onMouseleave:t[9]||=(...e)=>R(P)&&R(P)(...e)},[R(o).prefix?(U(),W(`div`,{key:0,class:F(R(fe).e(`prefix`))},[H(e.$slots,`prefix`)],2)):J(`v-if`,!0),K(`div`,{ref_key:`innerRef`,ref:Se,class:F(R(_e))},[(U(!0),W(va,null,ti(R(w),(n,r)=>(U(),G(R(ET),{key:r,size:R(b),closable:R(S),type:e.tagType,effect:e.tagEffect,draggable:R(S)&&e.draggable,style:he(R(be)),"disable-transitions":``,onClose:e=>R(A)(r),onDragstart:e=>R(le)(e,r),onDragover:e=>R(ue)(e,r),onDragend:R(de),onDrop:t[0]||=Ms(()=>{},[`stop`])},{default:z(()=>[H(e.$slots,`tag`,{value:n,index:r},()=>[Fa(I(n),1)])]),_:2},1032,[`size`,`closable`,`type`,`effect`,`draggable`,`style`,`onClose`,`onDragstart`,`onDragover`,`onDragend`]))),128)),e.collapseTags&&e.modelValue&&e.modelValue.length>e.maxCollapseTags?(U(),G(R(MC),{key:0,ref_key:`tagTooltipRef`,ref:g,disabled:!e.collapseTagsTooltip,"fallback-placements":[`bottom`,`top`,`right`,`left`],effect:e.tagEffect,placement:`bottom`},{default:z(()=>[K(`div`,{ref_key:`collapseItemRef`,ref:xe},[q(R(ET),{closable:!1,size:R(b),type:e.tagType,effect:e.tagEffect,"disable-transitions":``},{default:z(()=>[Fa(` + `+I(e.modelValue.length-e.maxCollapseTags),1)]),_:1},8,[`size`,`type`,`effect`])],512)]),content:z(()=>[K(`div`,{class:F(R(fe).e(`input-tag-list`))},[(U(!0),W(va,null,ti(R(T),(t,n)=>(U(),G(R(ET),{key:n,size:R(b),closable:R(S),type:e.tagType,effect:e.tagEffect,"disable-transitions":``,onClose:t=>R(A)(n+e.maxCollapseTags)},{default:z(()=>[H(e.$slots,`tag`,{value:t,index:n+e.maxCollapseTags},()=>[Fa(I(t),1)])]),_:2},1032,[`size`,`closable`,`type`,`effect`,`onClose`]))),128))],2)]),_:3},8,[`disabled`,`effect`])):J(`v-if`,!0),K(`div`,{class:F(R(fe).e(`input-wrapper`))},[Wn(K(`input`,za({id:R(l),ref_key:`inputRef`,ref:m,"onUpdate:modelValue":t[1]||=e=>tn(v)?v.value=e:null},R(a),{type:`text`,minlength:e.minlength,maxlength:e.maxlength,disabled:R(C),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,placeholder:R(x),autofocus:e.autofocus,ariaLabel:e.ariaLabel,class:R(fe).e(`input`),style:R(oe),onCompositionstart:t[2]||=(...e)=>R(M)&&R(M)(...e),onCompositionupdate:t[3]||=(...e)=>R(ee)&&R(ee)(...e),onCompositionend:t[4]||=(...e)=>R(te)&&R(te)(...e),onInput:t[5]||=(...e)=>R(D)&&R(D)(...e),onKeydown:t[6]||=(...e)=>R(O)&&R(O)(...e),onKeyup:t[7]||=(...e)=>R(k)&&R(k)(...e)}),null,16,Wue),[[ws,R(v)]]),K(`span`,{ref_key:`calculatorRef`,ref:ae,"aria-hidden":`true`,class:F(R(fe).e(`input-calculator`)),textContent:I(R(v))},null,10,Gue)],2),Wn(K(`div`,{ref_key:`dropIndicatorRef`,ref:se,class:F(R(fe).e(`drop-indicator`))},null,2),[[Lo,R(ce)]])],2),R(ye)?(U(),W(`div`,{key:1,class:F(R(fe).e(`suffix`))},[H(e.$slots,`suffix`),R(ve)?(U(),G(R(Q_),{key:0,class:F([R(fe).e(`icon`),R(fe).e(`clear`)]),onMousedown:Ms(R(p),[`prevent`]),onClick:R(j)},{default:z(()=>[(U(),G(Zr(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`,`onClick`])):J(`v-if`,!0),d.value&&f.value&&u.value?(U(),G(R(Q_),{key:1,class:F([R(pe).e(`icon`),R(pe).e(`validateIcon`),R(pe).is(`loading`,d.value===`validating`)])},{default:z(()=>[(U(),G(Zr(f.value)))]),_:1},8,[`class`])):J(`v-if`,!0)],2)):J(`v-if`,!0)],38))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/input-tag/src/input-tag.vue`]])),que=t_({type:{type:String,values:[`primary`,`success`,`warning`,`info`,`danger`,`default`],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,`always`,`never`,`hover`],default:void 0},disabled:Boolean,href:{type:String,default:``},target:{type:String,default:`_self`},icon:{type:Vv}}),Jue={click:e=>e instanceof MouseEvent},Yue=[`href`,`target`],Xue=S_(b_(V({name:`ElLink`,__name:`link`,props:que,emits:Jue,setup(e,{emit:t}){let n=e,r=t,i=m_(`link`);cw({scope:`el-link`,from:`The underline option (boolean)`,replacement:`'always' | 'hover' | 'never'`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/link.html#underline`},Y(()=>Vh(n.underline)));let a=X(`link`),o=Y(()=>[a.b(),a.m(n.type??i.value?.type??`default`),a.is(`disabled`,n.disabled),a.is(`underline`,s.value===`always`),a.is(`hover-underline`,s.value===`hover`&&!n.disabled)]),s=Y(()=>Vh(n.underline)?n.underline?`hover`:`never`:n.underline??i.value?.underline??`hover`);function c(e){n.disabled||r(`click`,e)}return(e,t)=>(U(),W(`a`,{class:F(o.value),href:e.disabled||!e.href?void 0:e.href,target:e.disabled||!e.href?void 0:e.target,onClick:c},[e.icon?(U(),G(R(Q_),{key:0},{default:z(()=>[(U(),G(Zr(e.icon)))]),_:1})):J(`v-if`,!0),e.$slots.default?(U(),W(`span`,{key:1,class:F(R(a).e(`inner`))},[H(e.$slots,`default`)],2)):J(`v-if`,!0),e.$slots.icon?H(e.$slots,`icon`,{key:2}):J(`v-if`,!0)],10,Yue))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue`]])),Zue=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll(`li`),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){let e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener(`keydown`,t=>{let n=Gb(t),r=!1;switch(n){case Q.down:this.gotoSubIndex(this.subIndex+1),r=!0;break;case Q.up:this.gotoSubIndex(this.subIndex-1),r=!0;break;case Q.tab:Ny(e,`mouseleave`);break;case Q.enter:case Q.numpadEnter:case Q.space:r=!0,t.currentTarget.click();break}return r&&(t.preventDefault(),t.stopPropagation()),!1})})}},Que=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute(`tabindex`,`0`);let t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new Zue(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener(`keydown`,e=>{let t=Gb(e),n=!1;switch(t){case Q.down:Ny(e.currentTarget,`mouseenter`),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break;case Q.up:Ny(e.currentTarget,`mouseenter`),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break;case Q.tab:Ny(e.currentTarget,`mouseleave`);break;case Q.enter:case Q.numpadEnter:case Q.space:n=!0,e.currentTarget.click();break}n&&e.preventDefault()})}},$ue=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){let t=this.domNode.childNodes;Array.from(t).forEach(t=>{t.nodeType===1&&new Que(t,e)})}},ede=b_(V({name:`ElMenuCollapseTransition`,__name:`menu-collapse-transition`,setup(e){let t=X(`menu`),n={onBeforeEnter:e=>e.style.opacity=`0.2`,onEnter(e,n){L_(e,`${t.namespace.value}-opacity-transition`),e.style.opacity=`1`,n()},onAfterEnter(e){R_(e,`${t.namespace.value}-opacity-transition`),e.style.opacity=``},onBeforeLeave(e){e.dataset||={},I_(e,t.m(`collapse`))?(R_(e,t.m(`collapse`)),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),L_(e,t.m(`collapse`))):(L_(e,t.m(`collapse`)),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),R_(e,t.m(`collapse`))),e.style.width=`${e.scrollWidth}px`,e.style.overflow=`hidden`},onLeave(e){L_(e,`horizontal-collapse-transition`),e.style.width=`${e.dataset.scrollWidth}px`}};return(e,t)=>(U(),G(yo,za({mode:`out-in`},n),{default:z(()=>[H(e.$slots,`default`)]),_:3},16))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue`]]);function uk(e,t){let n=Y(()=>{let n=e.parent,r=[t.value];for(;n.type.name!==`ElMenu`;)n.props.index&&r.unshift(n.props.index),n=n.parent;return r});return{parentMenu:Y(()=>{let t=e.parent;for(;t&&![`ElMenu`,`ElSubMenu`].includes(t.type.name);)t=t.parent;return t}),indexPath:n}}function tde(e){return Y(()=>{let t=e.backgroundColor;return t?new Bw(t).shade(20).toString():``})}var dk=(e,t)=>{let n=X(`menu`);return Y(()=>n.cssVarBlock({"text-color":e.textColor||``,"hover-text-color":e.textColor||``,"bg-color":e.backgroundColor||``,"hover-bg-color":tde(e).value||``,"active-color":e.activeTextColor||``,level:`${t}`}))},fk=`rootMenu`,pk=`subMenu:`,nde=t_({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:Z([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Vv},expandOpenIcon:{type:Vv},collapseCloseIcon:{type:Vv},collapseOpenIcon:{type:Vv}}),mk=`ElSubMenu`,hk=V({name:mk,props:nde,setup(e,{slots:t,expose:n}){let r=Ga(),{indexPath:i,parentMenu:a}=uk(r,Y(()=>e.index)),o=X(`menu`),s=X(`sub-menu`),c=qn(fk);c||zg(mk,`can not inject root menu`);let l=qn(`${pk}${a.value.uid}`);l||zg(mk,`can not inject sub menu`);let u=L({}),d=L({}),f,p=L(!1),m=L(),h=L(),g=Y(()=>l.level===0),_=Y(()=>w.value===`horizontal`&&g.value?`bottom-start`:`right-start`),v=Y(()=>w.value===`horizontal`&&g.value||w.value===`vertical`&&!c.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?S.value?e.expandOpenIcon:e.expandCloseIcon:$_:e.collapseCloseIcon&&e.collapseOpenIcon?S.value?e.collapseOpenIcon:e.collapseCloseIcon:tv),y=Y(()=>{let t=e.teleported;return Bh(t)?g.value:t}),b=Y(()=>c.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),x=Y(()=>w.value===`horizontal`&&g.value?[`bottom-start`,`bottom-end`,`top-start`,`top-end`,`right-start`,`left-start`]:[`right-start`,`right`,`right-end`,`left-start`,`bottom-start`,`bottom-end`,`top-start`,`top-end`]),S=Y(()=>c.openedMenus.includes(e.index)),C=Y(()=>[...Object.values(u.value),...Object.values(d.value)].some(({active:e})=>e)),w=Y(()=>c.props.mode),T=Y(()=>c.props.persistent),D=Ut({index:e.index,indexPath:i,active:C}),O=dk(c.props,l.level+1),k=Y(()=>e.popperOffset??c.props.popperOffset),A=Y(()=>e.popperClass??c.props.popperClass),j=Y(()=>e.popperStyle??c.props.popperStyle),M=Y(()=>e.showTimeout??c.props.showTimeout),ee=Y(()=>e.hideTimeout??c.props.hideTimeout),te=()=>(h.value?.popperRef?.popperInstanceRef)?.destroy(),N=e=>{e||te()},ne=()=>{c.props.menuTrigger===`hover`&&c.props.mode===`horizontal`||c.props.collapse&&c.props.mode===`vertical`||e.disabled||c.handleSubMenuClick({index:e.index,indexPath:i.value,active:C.value})},re=(t,n=M.value)=>{var r;if(t.type!==`focus`){if(c.props.menuTrigger===`click`&&c.props.mode===`horizontal`||!c.props.collapse&&c.props.mode===`vertical`||e.disabled){l.mouseInChild.value=!0;return}l.mouseInChild.value=!0,f?.(),{stop:f}=gg(()=>{c.openMenu(e.index,i.value)},n),y.value&&((r=a.value.vnode.el)==null||r.dispatchEvent(new MouseEvent(`mouseenter`))),t.type===`mouseenter`&&t.target&&Mn(()=>{Iy(t.target,{preventScroll:!0})})}},ie=(t=!1)=>{var n;if(c.props.menuTrigger===`click`&&c.props.mode===`horizontal`||!c.props.collapse&&c.props.mode===`vertical`){l.mouseInChild.value=!1;return}f?.(),l.mouseInChild.value=!1,{stop:f}=gg(()=>!p.value&&c.closeMenu(e.index,i.value),ee.value),y.value&&t&&((n=l.handleMouseleave)==null||n.call(l,!0))};return B(()=>c.props.collapse,e=>N(!!e)),Kn(`${pk}${r.uid}`,{addSubMenu:e=>{d.value[e.index]=e},removeSubMenu:e=>{delete d.value[e.index]},handleMouseleave:ie,mouseInChild:p,level:l.level+1}),n({opened:S}),zr(()=>{c.addSubMenu(D),l.addSubMenu(D)}),Hr(()=>{l.removeSubMenu(D),c.removeSubMenu(D)}),()=>{let n=[t.title?.call(t),oo(Q_,{class:s.e(`icon-arrow`),style:{transform:S.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&c.props.collapse?`none`:`rotateZ(180deg)`:`none`}},{default:()=>E(v.value)?oo(r.appContext.components[v.value]):oo(v.value)})],i=c.isMenuPopup?oo(MC,{ref:h,visible:S.value,effect:`light`,pure:!0,offset:k.value,showArrow:!1,persistent:T.value,popperClass:A.value,popperStyle:j.value,placement:_.value,teleported:y.value,fallbackPlacements:x.value,transition:b.value,gpuAcceleration:!1},{content:()=>oo(`div`,{class:[o.m(w.value),o.m(`popup-container`),A.value],onMouseenter:e=>re(e,100),onMouseleave:()=>ie(!0),onFocus:e=>re(e,100)},[oo(`ul`,{class:[o.b(),o.m(`popup`),o.m(`popup-${_.value}`)],style:O.value},[t.default?.call(t)])]),default:()=>oo(`div`,{class:s.e(`title`),onClick:ne},n)}):oo(va,{},[oo(`div`,{class:s.e(`title`),ref:m,onClick:ne},n),oo(AE,{},{default:()=>Wn(oo(`ul`,{role:`menu`,class:[o.b(),o.m(`inline`)],style:O.value},[t.default?.call(t)]),[[Lo,S.value]])})]);return oo(`li`,{class:[s.b(),s.is(`active`,C.value),s.is(`opened`,S.value),s.is(`disabled`,e.disabled)],role:`menuitem`,ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:re,onMouseleave:()=>ie(),onFocus:re},[i])}}}),rde=t_({mode:{type:String,values:[`horizontal`,`vertical`],default:`vertical`},defaultActive:{type:String,default:``},defaultOpeneds:{type:Z(Array),default:()=>ly([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:[`hover`,`click`],default:`hover`},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Vv,default:()=>wv},popperEffect:{type:Z(String),default:`dark`},popperClass:String,popperStyle:{type:Z([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),gk=e=>x(e)&&e.every(e=>E(e)),ide={close:(e,t)=>E(e)&&gk(t),open:(e,t)=>E(e)&&gk(t),select:(e,t,n,r)=>E(e)&&gk(t)&&O(n)&&(Bh(r)||r instanceof Promise)},_k=64,ade=V({name:`ElMenu`,props:rde,emits:ide,setup(e,{emit:t,slots:n,expose:r}){let i=Ga(),a=i.appContext.config.globalProperties.$router,o=L(),s=L(),c=X(`menu`),l=X(`sub-menu`),u=_k,d=L(-1),f=L(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),p=L(e.defaultActive),m=L({}),h=L({}),g=Y(()=>e.mode===`horizontal`||e.mode===`vertical`&&e.collapse),_=()=>{let t=p.value&&m.value[p.value];!t||e.mode===`horizontal`||e.collapse||t.indexPath.forEach(e=>{let t=h.value[e];t&&v(e,t.indexPath)})},v=(n,r)=>{f.value.includes(n)||(e.uniqueOpened&&(f.value=f.value.filter(e=>r.includes(e))),f.value.push(n),t(`open`,n,r))},y=e=>{let t=f.value.indexOf(e);t!==-1&&f.value.splice(t,1)},b=(e,n)=>{y(e),t(`close`,e,n)},x=({index:e,indexPath:t})=>{f.value.includes(e)?b(e,t):v(e,t)},S=n=>{(e.mode===`horizontal`||e.collapse)&&(f.value=[]);let{index:r,indexPath:i}=n;if(!(ch(r)||ch(i)))if(e.router&&a){let e=n.route||r,o=a.push(e).then(e=>(e||(p.value=r),e));t(`select`,r,i,{index:r,indexPath:i,route:e},o)}else p.value=r,t(`select`,r,i,{index:r,indexPath:i})},C=t=>{let n=m.value;p.value=(n[t]||p.value&&n[p.value]||n[e.defaultActive])?.index??t},w=e=>{let t=getComputedStyle(e),n=Number.parseInt(t.marginLeft,10),r=Number.parseInt(t.marginRight,10);return e.offsetWidth+n+r||0},T=()=>{if(!o.value)return-1;let e=Array.from(o.value.childNodes).filter(e=>e.nodeName!==`#comment`&&(e.nodeName!==`#text`||e.nodeValue)),t=getComputedStyle(o.value),n=Number.parseInt(t.paddingLeft,10),r=Number.parseInt(t.paddingRight,10),i=o.value.clientWidth-n-r,a=0,s=0;return e.forEach((e,t)=>{a+=w(e),a<=i-u&&(s=t+1)}),s===e.length?-1:s},E=e=>h.value[e].indexPath,D=(e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},O=!0,k=()=>{let e=_g(s);if(e&&(u=w(e)||_k),d.value===T())return;let t=()=>{d.value=-1,Mn(()=>{d.value=T()})};O?t():D(t)(),O=!1};B(()=>e.defaultActive,e=>{m.value[e]||(p.value=``),C(e)}),B(()=>e.collapse,e=>{e&&(f.value=[])}),B(m.value,_);let A;Xn(()=>{e.mode===`horizontal`&&e.ellipsis?A=jg(o,k).stop:A?.()});let j=L(!1);{let t=e=>{h.value[e.index]=e},n=e=>{delete h.value[e.index]};Kn(fk,Ut({props:e,openedMenus:f,items:m,subMenus:h,activeIndex:p,isMenuPopup:g,addMenuItem:e=>{m.value[e.index]=e},removeMenuItem:e=>{delete m.value[e.index]},addSubMenu:t,removeSubMenu:n,openMenu:v,closeMenu:b,handleMenuItemClick:S,handleSubMenuClick:x})),Kn(`${pk}${i.uid}`,{addSubMenu:t,removeSubMenu:n,mouseInChild:j,level:0})}zr(()=>{e.mode===`horizontal`&&new $ue(i.vnode.el,c.namespace.value)}),r({open:e=>{let{indexPath:t}=h.value[e];t.forEach(e=>v(e,t))},close:y,updateActiveIndex:C,handleResize:k});let M=dk(e,0);return()=>{let r=n.default?.call(n)??[],i=[];if(e.mode===`horizontal`&&o.value){let t=$v(r).filter(e=>e?.shapeFlag!==8),n=d.value===-1?t:t.slice(0,d.value),a=d.value===-1?[]:t.slice(d.value);a?.length&&e.ellipsis&&(r=n,i.push(oo(hk,{ref:s,index:`sub-menu-more`,class:l.e(`hide-arrow`),popperOffset:e.popperOffset},{title:()=>oo(Q_,{class:l.e(`icon-more`)},{default:()=>oo(e.ellipsisIcon)}),default:()=>a})))}let a=e.closeOnClickOutside?[[zT,()=>{f.value.length&&(j.value||(f.value.forEach(e=>t(`close`,e,E(e))),f.value=[]))}]]:[],u=Wn(oo(`ul`,{key:String(e.collapse),role:`menubar`,ref:o,style:M.value,class:{[c.b()]:!0,[c.m(e.mode)]:!0,[c.m(`collapse`)]:e.collapse}},[...r,...i]),a);return e.collapseTransition&&e.mode===`vertical`?oo(ede,()=>u):u}}}),ode=t_({index:{type:Z([String,null]),default:null},route:{type:Z([String,Object])},disabled:Boolean}),sde={click:e=>E(e.index)&&x(e.indexPath)},vk=`ElMenuItem`,yk=b_(V({name:vk,__name:`menu-item`,props:ode,emits:sde,setup(e,{expose:t,emit:n}){let r=e,i=n;Gh(r.index);let a=Ga(),o=qn(fk),s=X(`menu`),c=X(`menu-item`);o||zg(vk,`can not inject root menu`);let{parentMenu:l,indexPath:u}=uk(a,fn(r,`index`)),d=qn(`${pk}${l.value.uid}`);d||zg(vk,`can not inject sub menu`);let f=Y(()=>r.index===o.activeIndex),p=Ut({index:r.index,indexPath:u,active:f}),m=()=>{r.disabled||(o.handleMenuItemClick({index:r.index,indexPath:u.value,route:r.route}),i(`click`,p))};return zr(()=>{d.addSubMenu(p),o.addMenuItem(p)}),Hr(()=>{d.removeSubMenu(p),o.removeMenuItem(p)}),t({parentMenu:l,rootMenu:o,active:f,nsMenu:s,nsMenuItem:c,handleClick:m}),(e,t)=>(U(),W(`li`,{class:F([R(c).b(),R(c).is(`active`,f.value),R(c).is(`disabled`,e.disabled)]),role:`menuitem`,tabindex:`-1`,onClick:m},[R(l).type.name===`ElMenu`&&R(o).props.collapse&&e.$slots.title?(U(),G(R(MC),{key:0,effect:R(o).props.popperEffect,placement:`right`,"fallback-placements":[`left`],"popper-class":R(o).props.popperClass,"popper-style":R(o).props.popperStyle,persistent:R(o).props.persistent,"focus-on-target":``},{content:z(()=>[H(e.$slots,`title`)]),default:z(()=>[K(`div`,{class:F(R(s).be(`tooltip`,`trigger`))},[H(e.$slots,`default`)],2)]),_:3},8,[`effect`,`popper-class`,`popper-style`,`persistent`])):(U(),W(va,{key:1},[H(e.$slots,`default`),H(e.$slots,`title`)],64))],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue`]]),bk=b_(V({name:`ElMenuItemGroup`,__name:`menu-item-group`,props:{title:String},setup(e){let t=X(`menu-item-group`);return(e,n)=>(U(),W(`li`,{class:F(R(t).b())},[K(`div`,{class:F(R(t).e(`title`))},[e.$slots.title?H(e.$slots,`title`,{key:1}):(U(),W(va,{key:0},[Fa(I(e.title),1)],64))],2),K(`ul`,null,[H(e.$slots,`default`)])],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue`]]),cde=S_(ade,{MenuItem:yk,MenuItemGroup:bk,SubMenu:hk}),lde=T_(yk),ude=T_(bk),dde=T_(hk),fde=t_({icon:{type:Vv,default:()=>rv},title:String,content:{type:String,default:``}}),pde={back:()=>!0},mde=[`aria-label`],hde=S_(b_(V({name:`ElPageHeader`,__name:`page-header`,props:fde,emits:pde,setup(e,{emit:t}){let n=t,{t:r}=Zg(),i=X(`page-header`);function a(){n(`back`)}return(e,t)=>(U(),W(`div`,{class:F([R(i).b(),R(i).is(`contentful`,!!e.$slots.default),{[R(i).m(`has-breadcrumb`)]:!!e.$slots.breadcrumb,[R(i).m(`has-extra`)]:!!e.$slots.extra}])},[e.$slots.breadcrumb?(U(),W(`div`,{key:0,class:F(R(i).e(`breadcrumb`))},[H(e.$slots,`breadcrumb`)],2)):J(`v-if`,!0),K(`div`,{class:F(R(i).e(`header`))},[K(`div`,{class:F(R(i).e(`left`))},[K(`div`,{class:F(R(i).e(`back`)),role:`button`,tabindex:`0`,onClick:a},[e.icon||e.$slots.icon?(U(),W(`div`,{key:0,"aria-label":e.title||R(r)(`el.pageHeader.title`),class:F(R(i).e(`icon`))},[H(e.$slots,`icon`,{},()=>[e.icon?(U(),G(R(Q_),{key:0},{default:z(()=>[(U(),G(Zr(e.icon)))]),_:1})):J(`v-if`,!0)])],10,mde)):J(`v-if`,!0),K(`div`,{class:F(R(i).e(`title`))},[H(e.$slots,`title`,{},()=>[Fa(I(e.title||R(r)(`el.pageHeader.title`)),1)])],2)],2),q(R(bO),{direction:`vertical`}),K(`div`,{class:F(R(i).e(`content`))},[H(e.$slots,`content`,{},()=>[Fa(I(e.content),1)])],2)],2),e.$slots.extra?(U(),W(`div`,{key:0,class:F(R(i).e(`extra`))},[H(e.$slots,`extra`)],2)):J(`v-if`,!0)],2),e.$slots.default?(U(),W(`div`,{key:1,class:F(R(i).e(`main`))},[H(e.$slots,`default`)],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue`]])),xk=Symbol(`elPaginationKey`),gde=t_({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Vv}}),_de={click:e=>e instanceof MouseEvent},vde=[`disabled`,`aria-label`,`aria-disabled`],yde={key:0},bde=b_(V({name:`ElPaginationPrev`,__name:`prev`,props:gde,emits:_de,setup(e){let t=e,{t:n}=Zg(),r=Y(()=>t.disabled||t.currentPage<=1);return(e,t)=>(U(),W(`button`,{type:`button`,class:`btn-prev`,disabled:r.value,"aria-label":e.prevText||R(n)(`el.pagination.prev`),"aria-disabled":r.value,onClick:t[0]||=t=>e.$emit(`click`,t)},[e.prevText?(U(),W(`span`,yde,I(e.prevText),1)):(U(),G(R(Q_),{key:1},{default:z(()=>[(U(),G(Zr(e.prevIcon)))]),_:1}))],8,vde))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue`]]),xde=t_({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Vv}}),Sde=[`disabled`,`aria-label`,`aria-disabled`],Cde={key:0},wde=b_(V({name:`ElPaginationNext`,__name:`next`,props:xde,emits:[`click`],setup(e){let t=e,{t:n}=Zg(),r=Y(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(e,t)=>(U(),W(`button`,{type:`button`,class:`btn-next`,disabled:r.value,"aria-label":e.nextText||R(n)(`el.pagination.next`),"aria-disabled":r.value,onClick:t[0]||=t=>e.$emit(`click`,t)},[e.nextText?(U(),W(`span`,Cde,I(e.nextText),1)):(U(),G(R(Q_),{key:1},{default:z(()=>[(U(),G(Zr(e.nextIcon)))]),_:1}))],8,Sde))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue`]]),Sk=()=>qn(xk,{}),Tde=b_(V({name:`ElPaginationSizes`,__name:`sizes`,props:t_({pageSize:{type:Number,required:!0},pageSizes:{type:Z(Array),default:()=>ly([10,20,30,40,50,100])},popperClass:{type:String},popperStyle:{type:Z([String,Object])},disabled:Boolean,teleported:Boolean,size:{type:String,values:n_},appendSizeTo:String}),emits:[`page-size-change`],setup(e,{emit:t}){let n=e,r=t,{t:i}=Zg(),a=X(`pagination`),o=Sk(),s=L(n.pageSize);B(()=>n.pageSizes,(e,t)=>{oh(e,t)||x(e)&&r(`page-size-change`,e.includes(n.pageSize)?n.pageSize:n.pageSizes[0])}),B(()=>n.pageSize,e=>{s.value=e});let c=Y(()=>n.pageSizes);function l(e){var t;e!==s.value&&(s.value=e,(t=o.handleSizeChange)==null||t.call(o,Number(e)))}return(e,t)=>(U(),W(`span`,{class:F(R(a).e(`sizes`))},[q(R(UT),{"model-value":s.value,disabled:e.disabled,"popper-class":e.popperClass,"popper-style":e.popperStyle,size:e.size,teleported:e.teleported,"validate-event":!1,"append-to":e.appendSizeTo,onChange:l},{default:z(()=>[(U(!0),W(va,null,ti(c.value,e=>(U(),G(R(WT),{key:e,value:e,label:e+R(i)(`el.pagination.pagesize`)},null,8,[`value`,`label`]))),128))]),_:1},8,[`model-value`,`disabled`,`popper-class`,`popper-style`,`size`,`teleported`,`append-to`])],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue`]]),Ck=t_({size:{type:String,values:n_}}),wk=[`disabled`],Tk=b_(V({name:`ElPaginationJumper`,__name:`jumper`,props:Ck,setup(e){let{t}=Zg(),n=X(`pagination`),{pageCount:r,disabled:i,currentPage:a,changeEvent:o}=Sk(),s=L(),c=Y(()=>s.value??a?.value);function l(e){s.value=e?+e:``}function u(e){e=Math.trunc(+e),o?.(e),s.value=void 0}return(e,a)=>(U(),W(`span`,{class:F(R(n).e(`jump`)),disabled:R(i)},[K(`span`,{class:F([R(n).e(`goto`)])},I(R(t)(`el.pagination.goto`)),3),q(R(Wy),{size:e.size,class:F([R(n).e(`editor`),R(n).is(`in-pagination`)]),min:1,max:R(r),disabled:R(i),"model-value":c.value,"validate-event":!1,"aria-label":R(t)(`el.pagination.page`),type:`number`,"onUpdate:modelValue":l,onChange:u},null,8,[`size`,`class`,`max`,`disabled`,`model-value`,`aria-label`]),K(`span`,{class:F([R(n).e(`classifier`)])},I(R(t)(`el.pagination.pageClassifier`)),3)],10,wk))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue`]]),Ek=t_({total:{type:Number,default:1e3}}),Dk=[`disabled`],Ok=b_(V({name:`ElPaginationTotal`,__name:`total`,props:Ek,setup(e){let{t}=Zg(),n=X(`pagination`),{disabled:r}=Sk();return(e,i)=>(U(),W(`span`,{class:F(R(n).e(`total`)),disabled:R(r)},I(R(t)(`el.pagination.total`,{total:e.total})),11,Dk))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue`]]),kk=t_({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Ak=[`aria-current`,`aria-label`,`tabindex`],jk=[`tabindex`,`aria-label`],Mk=[`aria-current`,`aria-label`,`tabindex`],Nk=[`tabindex`,`aria-label`],Pk=[`aria-current`,`aria-label`,`tabindex`],Fk=b_(V({name:`ElPaginationPager`,__name:`pager`,props:kk,emits:[O_],setup(e,{emit:t}){let n=e,r=t,i=X(`pager`),a=X(`icon`),{t:o}=Zg(),s=L(!1),c=L(!1),l=L(!1),u=L(!1),d=L(!1),f=L(!1),p=Y(()=>{let e=n.pagerCount,t=(e-1)/2,r=Number(n.currentPage),i=Number(n.pageCount),a=!1,o=!1;i>e&&(r>e-t&&(a=!0),r<i-t&&(o=!0));let s=[];if(a&&!o){let t=i-(e-2);for(let e=t;e<i;e++)s.push(e)}else if(!a&&o)for(let t=2;t<e;t++)s.push(t);else if(a&&o){let t=Math.floor(e/2)-1;for(let e=r-t;e<=r+t;e++)s.push(e)}else for(let e=2;e<i;e++)s.push(e);return s}),m=Y(()=>[`more`,`btn-quickprev`,a.b(),i.is(`disabled`,n.disabled)]),h=Y(()=>[`more`,`btn-quicknext`,a.b(),i.is(`disabled`,n.disabled)]),g=Y(()=>n.disabled?-1:0);B(()=>[n.pageCount,n.pagerCount,n.currentPage],([e,t,n])=>{let r=(t-1)/2,i=!1,a=!1;e>t&&(i=n>t-r,a=n<e-r),l.value&&=i,u.value&&=a,s.value=i,c.value=a},{immediate:!0});function _(e=!1){n.disabled||(e?l.value=!0:u.value=!0)}function v(e=!1){e?d.value=!0:f.value=!0}function y(e){let t=e.target;if(t.tagName.toLowerCase()===`li`&&Array.from(t.classList).includes(`number`)){let e=Number(t.textContent);e!==n.currentPage&&r(O_,e)}else t.tagName.toLowerCase()===`li`&&Array.from(t.classList).includes(`more`)&&b(e)}function b(e){let t=e.target;if(t.tagName.toLowerCase()===`ul`||n.disabled)return;let i=Number(t.textContent),a=n.pageCount,o=n.currentPage,s=n.pagerCount-2;t.className.includes(`more`)&&(t.className.includes(`quickprev`)?i=o-s:t.className.includes(`quicknext`)&&(i=o+s)),Number.isNaN(+i)||(i<1&&(i=1),i>a&&(i=a)),i!==o&&r(O_,i)}return(e,t)=>(U(),W(`ul`,{class:F(R(i).b()),onClick:b,onKeyup:Ps(y,[`enter`])},[e.pageCount>0?(U(),W(`li`,{key:0,class:F([[R(i).is(`active`,e.currentPage===1),R(i).is(`disabled`,e.disabled)],`number`]),"aria-current":e.currentPage===1,"aria-label":R(o)(`el.pagination.currentPage`,{pager:1}),tabindex:g.value},` 1 `,10,Ak)):J(`v-if`,!0),s.value?(U(),W(`li`,{key:1,class:F(m.value),tabindex:g.value,"aria-label":R(o)(`el.pagination.prevPages`,{pager:e.pagerCount-2}),onMouseenter:t[0]||=e=>_(!0),onMouseleave:t[1]||=e=>l.value=!1,onFocus:t[2]||=e=>v(!0),onBlur:t[3]||=e=>d.value=!1},[(l.value||d.value)&&!e.disabled?(U(),G(R(mv),{key:0})):(U(),G(R(Cv),{key:1}))],42,jk)):J(`v-if`,!0),(U(!0),W(va,null,ti(p.value,t=>(U(),W(`li`,{key:t,class:F([[R(i).is(`active`,e.currentPage===t),R(i).is(`disabled`,e.disabled)],`number`]),"aria-current":e.currentPage===t,"aria-label":R(o)(`el.pagination.currentPage`,{pager:t}),tabindex:g.value},I(t),11,Mk))),128)),c.value?(U(),W(`li`,{key:2,class:F(h.value),tabindex:g.value,"aria-label":R(o)(`el.pagination.nextPages`,{pager:e.pagerCount-2}),onMouseenter:t[4]||=e=>_(),onMouseleave:t[5]||=e=>u.value=!1,onFocus:t[6]||=e=>v(),onBlur:t[7]||=e=>f.value=!1},[(u.value||f.value)&&!e.disabled?(U(),G(R(hv),{key:0})):(U(),G(R(Cv),{key:1}))],42,Nk)):J(`v-if`,!0),e.pageCount>1?(U(),W(`li`,{key:3,class:F([[R(i).is(`active`,e.currentPage===e.pageCount),R(i).is(`disabled`,e.disabled)],`number`]),"aria-current":e.currentPage===e.pageCount,"aria-label":R(o)(`el.pagination.currentPage`,{pager:e.pageCount}),tabindex:g.value},I(e.pageCount),11,Pk)):J(`v-if`,!0)],34))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue`]]),Ik=e=>typeof e!=`number`,Lk=S_(V({name:`ElPagination`,props:t_({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>Hh(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2==1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:[`prev`,`pager`,`next`,`jumper`,`->`,`total`].join(`, `)},pageSizes:{type:Z(Array),default:()=>ly([10,20,30,40,50,100])},popperClass:{type:String,default:``},popperStyle:{type:Z([String,Object])},prevText:{type:String,default:``},prevIcon:{type:Vv,default:()=>ev},nextText:{type:String,default:``},nextIcon:{type:Vv,default:()=>tv},teleported:{type:Boolean,default:!0},small:Boolean,size:r_,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),emits:{"update:current-page":e=>Hh(e),"update:page-size":e=>Hh(e),"size-change":e=>Hh(e),change:(e,t)=>Hh(e)&&Hh(t),"current-change":e=>Hh(e),"prev-click":e=>Hh(e),"next-click":e=>Hh(e)},setup(e,{emit:t,slots:n}){let{t:r}=Zg(),i=X(`pagination`),a=Ga().vnode.props||{},o=a_(),s=Y(()=>e.small?`small`:e.size??o.value);cw({from:`small`,replacement:`size`,version:`3.0.0`,scope:`el-pagination`,ref:`https://element-plus.org/zh-CN/component/pagination.html`},Y(()=>!!e.small));let c=`onUpdate:currentPage`in a||`onUpdate:current-page`in a||`onCurrentChange`in a,l=`onUpdate:pageSize`in a||`onUpdate:page-size`in a||`onSizeChange`in a,u=Y(()=>{if(Ik(e.total)&&Ik(e.pageCount)||!Ik(e.currentPage)&&!c)return!1;if(e.layout.includes(`sizes`)){if(Ik(e.pageCount)){if(!Ik(e.total)&&!Ik(e.pageSize)&&!l)return!1}else if(!l)return!1}return!0}),d=L(Ik(e.defaultPageSize)?10:e.defaultPageSize),f=L(Ik(e.defaultCurrentPage)?1:e.defaultCurrentPage),p=Y({get(){return Ik(e.pageSize)?d.value:e.pageSize},set(n){Ik(e.pageSize)&&(d.value=n),l&&(t(`update:page-size`,n),t(`size-change`,n))}}),m=Y(()=>{let t=0;return Ik(e.pageCount)?Ik(e.total)||(t=Math.max(1,Math.ceil(e.total/p.value))):t=e.pageCount,t}),h=Y({get(){return Ik(e.currentPage)?f.value:e.currentPage},set(n){let r=n;n<1?r=1:n>m.value&&(r=m.value),Ik(e.currentPage)&&(f.value=r),c&&(t(`update:current-page`,r),t(`current-change`,r))}});B(m,e=>{h.value>e&&(h.value=e)}),B([h,p],e=>{t(O_,...e)},{flush:`post`});function g(e){h.value=e}function _(e){p.value=e;let t=m.value;h.value>t&&(h.value=t)}function v(){e.disabled||(--h.value,t(`prev-click`,h.value))}function y(){e.disabled||(h.value+=1,t(`next-click`,h.value))}function b(e,t){e&&(e.props||={},e.props.class=[e.props.class,t].join(` `))}return Kn(xk,{pageCount:m,disabled:Y(()=>e.disabled),currentPage:h,changeEvent:g,handleSizeChange:_}),()=>{if(!u.value)return r(`el.pagination.deprecationWarning`),null;if(!e.layout||e.hideOnSinglePage&&m.value<=1)return null;let t=[],a=[],o=oo(`div`,{class:i.e(`rightwrapper`)},a),c={prev:oo(bde,{disabled:e.disabled,currentPage:h.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:v}),jumper:oo(Tk,{size:s.value}),pager:oo(Fk,{currentPage:h.value,pageCount:m.value,pagerCount:e.pagerCount,onChange:g,disabled:e.disabled}),next:oo(wde,{disabled:e.disabled,currentPage:h.value,pageCount:m.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:y}),sizes:oo(Tde,{pageSize:p.value,pageSizes:e.pageSizes,popperClass:e.popperClass,popperStyle:e.popperStyle,disabled:e.disabled,teleported:e.teleported,size:s.value,appendSizeTo:e.appendSizeTo}),slot:(n?.default)?.call(n)??null,total:oo(Ok,{total:Ik(e.total)?0:e.total})},l=e.layout.split(`,`).map(e=>e.trim()),d=!1;return l.forEach(e=>{if(e===`->`){d=!0;return}d?a.push(c[e]):t.push(c[e])}),b(t[0],i.is(`first`)),b(t[t.length-1],i.is(`last`)),d&&a.length>0&&(b(a[0],i.is(`first`)),b(a[a.length-1],i.is(`last`)),t.push(o)),oo(`div`,{class:[i.b(),i.is(`background`,e.background),i.m(s.value)]},t)}}})),Rk=S_(b_(V({name:`ElPopconfirm`,__name:`popconfirm`,props:t_({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:uw,default:`primary`},cancelButtonType:{type:String,values:uw,default:`text`},icon:{type:Vv,default:()=>Dv},iconColor:{type:String,default:`#f90`},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...uC.effect,default:`light`},teleported:uC.teleported,persistent:uC.persistent,width:{type:[String,Number],default:150},virtualTriggering:dC.virtualTriggering,virtualRef:dC.virtualRef}),emits:{confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},setup(e,{expose:t,emit:n}){let r=e,i=n,{t:a}=Zg(),o=X(`popconfirm`),s=L(),c=L(),l=Y(()=>R(s)?.popperRef),u=()=>{var e,t;(t=(e=c.value)?.focus)==null||t.call(e)},d=()=>{var e,t;(t=(e=s.value)?.onClose)==null||t.call(e)},f=Y(()=>({width:V_(r.width)})),p=e=>{i(`confirm`,e),d()},m=e=>{i(`cancel`,e),d()},h=Y(()=>r.confirmButtonText||a(`el.popconfirm.confirmButtonText`)),g=Y(()=>r.cancelButtonText||a(`el.popconfirm.cancelButtonText`));return t({popperRef:l,hide:d}),(e,t)=>(U(),G(R(MC),za({ref_key:`tooltipRef`,ref:s,trigger:`click`,effect:e.effect},e.$attrs,{"virtual-triggering":e.virtualTriggering,"virtual-ref":e.virtualRef,"popper-class":`${R(o).namespace.value}-popover`,"popper-style":f.value,teleported:e.teleported,"fallback-placements":[`bottom`,`top`,`right`,`left`],"hide-after":e.hideAfter,persistent:e.persistent,loop:``,onShow:u}),{content:z(()=>[K(`div`,{ref_key:`rootRef`,ref:c,tabindex:`-1`,class:F(R(o).b())},[K(`div`,{class:F(R(o).e(`main`))},[!e.hideIcon&&e.icon?(U(),G(R(Q_),{key:0,class:F(R(o).e(`icon`)),style:he({color:e.iconColor})},{default:z(()=>[(U(),G(Zr(e.icon)))]),_:1},8,[`class`,`style`])):J(`v-if`,!0),Fa(` `+I(e.title),1)],2),K(`div`,{class:F(R(o).e(`action`))},[H(e.$slots,`actions`,{confirm:p,cancel:m},()=>[q(R(Gw),{size:`small`,type:e.cancelButtonType===`text`?``:e.cancelButtonType,text:e.cancelButtonType===`text`,onClick:m},{default:z(()=>[Fa(I(g.value),1)]),_:1},8,[`type`,`text`]),q(R(Gw),{size:`small`,type:e.confirmButtonType===`text`?``:e.confirmButtonType,text:e.confirmButtonType===`text`,onClick:p},{default:z(()=>[Fa(I(h.value),1)]),_:1},8,[`type`,`text`])])],2)],2)]),default:z(()=>[e.$slots.reference?H(e.$slots,`reference`,{key:0}):J(`v-if`,!0)]),_:3},16,[`effect`,`virtual-triggering`,`virtual-ref`,`popper-class`,`popper-style`,`teleported`,`hide-after`,`persistent`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue`]])),zk=t_({trigger:dC.trigger,triggerKeys:dC.triggerKeys,placement:OO.placement,disabled:dC.disabled,visible:uC.visible,transition:uC.transition,popperOptions:OO.popperOptions,tabindex:OO.tabindex,content:uC.content,popperStyle:uC.popperStyle,popperClass:uC.popperClass,enterable:{...uC.enterable,default:!0},effect:{...uC.effect,default:`light`},teleported:uC.teleported,appendTo:uC.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Bk={"update:visible":e=>Vh(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Vk=`onUpdate:visible`,Hk=b_(V({name:`ElPopover`,__name:`popover`,props:zk,emits:Bk,setup(e,{expose:t,emit:n}){let r=e,i=n,a=Y(()=>r[Vk]),o=X(`popover`),s=L(),c=Y(()=>R(s)?.popperRef),l=Y(()=>[{width:V_(r.width)},r.popperStyle]),u=Y(()=>[o.b(),r.popperClass,{[o.m(`plain`)]:!!r.content}]),d=Y(()=>r.transition===`${o.namespace.value}-fade-in-linear`),f=()=>{var e;(e=s.value)==null||e.hide()},p=()=>{i(`before-enter`)},m=()=>{i(`before-leave`)},h=()=>{i(`after-enter`)},g=()=>{i(`update:visible`,!1),i(`after-leave`)};return t({popperRef:c,hide:f}),(e,t)=>(U(),G(R(MC),za({ref_key:`tooltipRef`,ref:s},e.$attrs,{trigger:e.trigger,"trigger-keys":e.triggerKeys,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":u.value,"popper-style":l.value,teleported:e.teleported,"append-to":e.appendTo,persistent:e.persistent,"gpu-acceleration":d.value,"onUpdate:visible":a.value,onBeforeShow:p,onBeforeHide:m,onShow:h,onHide:g}),{content:z(()=>[e.title?(U(),W(`div`,{key:0,class:F(R(o).e(`title`)),role:`title`},I(e.title),3)):J(`v-if`,!0),H(e.$slots,`default`,{},()=>[Fa(I(e.content),1)])]),default:z(()=>[e.$slots.reference?H(e.$slots,`reference`,{key:0}):J(`v-if`,!0)]),_:3},16,[`trigger`,`trigger-keys`,`placement`,`disabled`,`visible`,`transition`,`popper-options`,`tabindex`,`content`,`offset`,`show-after`,`hide-after`,`auto-close`,`show-arrow`,`aria-label`,`effect`,`enterable`,`popper-class`,`popper-style`,`teleported`,`append-to`,`persistent`,`gpu-acceleration`,`onUpdate:visible`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue`]]),Uk=(e,t)=>{let n=(t.arg||t.value)?.popperRef;n&&(n.triggerRef=e)},Wk=w_({mounted(e,t){Uk(e,t)},updated(e,t){Uk(e,t)}},`popover`),Gk=S_(Hk,{directive:Wk}),Kk=t_({type:{type:String,default:`line`,values:[`line`,`circle`,`dashboard`]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:``,values:[``,`success`,`exception`,`warning`]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Z(String),default:`round`},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Z([String,Array,Function]),default:``},striped:Boolean,stripedFlow:Boolean,format:{type:Z(Function),default:e=>`${e}%`}}),qk=[`aria-valuenow`],Jk={viewBox:`0 0 100 100`},Yk=[`d`,`stroke`,`stroke-linecap`,`stroke-width`],Xk=[`d`,`stroke`,`opacity`,`stroke-linecap`,`stroke-width`],Zk={key:0},Qk=S_(b_(V({name:`ElProgress`,__name:`progress`,props:Kk,setup(e){let t={success:`#13ce66`,exception:`#ff4949`,warning:`#e6a23c`,default:`#20a0ff`},n=e,r=X(`progress`),i=Y(()=>{let e={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},t=v(n.percentage);return t.includes(`gradient`)?e.background=t:e.backgroundColor=t,e}),a=Y(()=>(n.strokeWidth/n.width*100).toFixed(1)),o=Y(()=>[`circle`,`dashboard`].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),s=Y(()=>{let e=o.value,t=n.type===`dashboard`;return`
          M 50 50
          m 0 ${t?``:`-`}${e}
          a ${e} ${e} 0 1 1 0 ${t?`-`:``}${e*2}
          a ${e} ${e} 0 1 1 0 ${t?``:`-`}${e*2}
          `}),c=Y(()=>2*Math.PI*o.value),l=Y(()=>n.type===`dashboard`?.75:1),u=Y(()=>`${-1*c.value*(1-l.value)/2}px`),d=Y(()=>({strokeDasharray:`${c.value*l.value}px, ${c.value}px`,strokeDashoffset:u.value})),f=Y(()=>({strokeDasharray:`${c.value*l.value*(n.percentage/100)}px, ${c.value}px`,strokeDashoffset:u.value,transition:`stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s`})),p=Y(()=>{let e;return e=n.color?v(n.percentage):t[n.status]||t.default,e}),m=Y(()=>n.status===`warning`?Rv:n.type===`line`?n.status===`success`?lv:dv:n.status===`success`?sv:pv),h=Y(()=>n.type===`line`?12+n.strokeWidth*.4:n.width*.111111+2),g=Y(()=>n.format(n.percentage));function _(e){let t=100/e.length;return e.map((e,n)=>E(e)?{color:e,percentage:(n+1)*t}:e).sort((e,t)=>e.percentage-t.percentage)}let v=e=>{let{color:t}=n;if(T(t))return t(e);if(E(t))return t;{let n=_(t);for(let t of n)if(t.percentage>e)return t.color;return n[n.length-1]?.color}};return(e,t)=>(U(),W(`div`,{class:F([R(r).b(),R(r).m(e.type),R(r).is(e.status),{[R(r).m(`without-text`)]:!e.showText,[R(r).m(`text-inside`)]:e.textInside}]),role:`progressbar`,"aria-valuenow":e.percentage,"aria-valuemin":`0`,"aria-valuemax":`100`},[e.type===`line`?(U(),W(`div`,{key:0,class:F(R(r).b(`bar`))},[K(`div`,{class:F(R(r).be(`bar`,`outer`)),style:he({height:`${e.strokeWidth}px`})},[K(`div`,{class:F([R(r).be(`bar`,`inner`),{[R(r).bem(`bar`,`inner`,`indeterminate`)]:e.indeterminate},{[R(r).bem(`bar`,`inner`,`striped`)]:e.striped},{[R(r).bem(`bar`,`inner`,`striped-flow`)]:e.stripedFlow}]),style:he(i.value)},[(e.showText||e.$slots.default)&&e.textInside?(U(),W(`div`,{key:0,class:F(R(r).be(`bar`,`innerText`))},[H(e.$slots,`default`,{percentage:e.percentage},()=>[K(`span`,null,I(g.value),1)])],2)):J(`v-if`,!0)],6)],6)],2)):(U(),W(`div`,{key:1,class:F(R(r).b(`circle`)),style:he({height:`${e.width}px`,width:`${e.width}px`})},[(U(),W(`svg`,Jk,[K(`path`,{class:F(R(r).be(`circle`,`track`)),d:s.value,stroke:`var(${R(r).cssVarName(`fill-color-light`)}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":a.value,fill:`none`,style:he(d.value)},null,14,Yk),K(`path`,{class:F(R(r).be(`circle`,`path`)),d:s.value,stroke:p.value,fill:`none`,opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":a.value,style:he(f.value)},null,14,Xk)]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(U(),W(`div`,{key:2,class:F(R(r).e(`text`)),style:he({fontSize:`${h.value}px`})},[H(e.$slots,`default`,{percentage:e.percentage},()=>[e.status?(U(),G(R(Q_),{key:1},{default:z(()=>[(U(),G(Zr(m.value)))]),_:1})):(U(),W(`span`,Zk,I(g.value),1))])],6)):J(`v-if`,!0)],10,qk))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue`]])),$k=t_({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Z([Array,Object]),default:()=>ly([``,``,``])},voidColor:{type:String,default:``},disabledVoidColor:{type:String,default:``},icons:{type:Z([Array,Object]),default:()=>[Pv,Pv,Pv]},voidIcon:{type:Vv,default:()=>Fv},disabledVoidIcon:{type:Vv,default:()=>Pv},disabled:{type:Boolean,default:void 0},allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:``},texts:{type:Z(Array),default:()=>ly([`Extremely bad`,`Disappointed`,`Fair`,`Satisfied`,`Surprise`])},scoreTemplate:{type:String,default:`{value}`},size:r_,clearable:Boolean,...dy([`ariaLabel`])}),eA={[O_]:e=>Hh(e),[D_]:e=>Hh(e)},tA=[`id`,`aria-label`,`aria-labelledby`,`aria-valuenow`,`aria-valuetext`,`aria-valuemax`],nA=[`onMousemove`,`onClick`],rA=S_(b_(V({name:`ElRate`,__name:`rate`,props:$k,emits:eA,setup(e,{expose:t,emit:n}){function r(e,t){let n=e=>O(e),r=t[Object.keys(t).map(e=>+e).filter(r=>{let i=t[r];return n(i)&&i.excluded?e<r:e<=r}).sort((e,t)=>e-t)[0]];return n(r)&&r.value||r}let i=e,a=n,o=qn(Sy,void 0),s=Ey(),c=X(`rate`),{inputId:l,isLabeledByFormItem:u}=wy(i,{formItemContext:o}),d=L(i.modelValue),f=L(-1),p=L(!0),m=L([]),h=Y(()=>m.value.map(e=>e.$el.clientWidth)),g=Y(()=>[c.b(),c.m(s.value)]),_=Dy(),v=Y(()=>c.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":C.value})),y=Y(()=>{let e=``;return i.showScore?e=i.scoreTemplate.replace(/\{\s*value\s*\}/,_.value?`${i.modelValue}`:`${d.value}`):i.showText&&(e=i.texts[Math.ceil(d.value)-1]),e}),b=Y(()=>i.modelValue*100-Math.floor(i.modelValue)*100),S=Y(()=>x(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors),C=Y(()=>{let e=r(d.value,S.value);return O(e)?``:e}),w=Y(()=>{let e=``;return _.value?e=`${b.value}%`:i.allowHalf&&(e=`50%`),{color:C.value,width:e}}),T=Y(()=>{let e=x(i.icons)?[...i.icons]:{...i.icons};return e=Qt(e),x(e)?{[i.lowThreshold]:e[0],[i.highThreshold]:{value:e[1],excluded:!0},[i.max]:e[2]}:e}),D=Y(()=>r(i.modelValue,T.value)),k=Y(()=>_.value?E(i.disabledVoidIcon)?i.disabledVoidIcon:Qt(i.disabledVoidIcon):E(i.voidIcon)?i.voidIcon:Qt(i.voidIcon)),A=Y(()=>r(d.value,T.value));function j(e){let t=_.value&&b.value>0&&e-1<i.modelValue&&e>i.modelValue,n=i.allowHalf&&p.value&&e-.5<=d.value&&e>d.value;return t||n}function M(e){i.clearable&&e===i.modelValue&&(e=0),a(D_,e),i.modelValue!==e&&a(O_,e)}function ee(e){_.value||(i.allowHalf&&p.value?M(d.value):M(e))}function te(e){if(_.value)return;let t=Gb(e),n=i.allowHalf?.5:1,r=d.value;switch(t){case Q.up:case Q.right:r+=n;break;case Q.left:case Q.down:r-=n;break}if(r=ap(r,0,i.max),r!==d.value)return e.stopPropagation(),e.preventDefault(),a(D_,r),a(O_,r),r}function N(e,t){_.value||(i.allowHalf&&t?(p.value=t.offsetX*2<=h.value[e-1],d.value=p.value?e-.5:e):d.value=e,f.value=e)}function ne(){_.value||(i.allowHalf&&(p.value=i.modelValue!==Math.floor(i.modelValue)),d.value=i.modelValue,f.value=-1)}return B(()=>i.modelValue,e=>{d.value=e,p.value=i.modelValue!==Math.floor(i.modelValue)}),i.modelValue||a(D_,0),t({setCurrentValue:N,resetCurrentValue:ne}),(e,t)=>(U(),W(`div`,{id:R(l),class:F([g.value,R(c).is(`disabled`,R(_))]),role:`slider`,"aria-label":R(u)?void 0:e.ariaLabel||`rating`,"aria-labelledby":R(u)?R(o)?.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":y.value||void 0,"aria-valuemin":`0`,"aria-valuemax":e.max,tabindex:`0`,style:he(v.value),onKeydown:te},[(U(!0),W(va,null,ti(e.max,(e,t)=>(U(),W(`span`,{key:t,class:F(R(c).e(`item`)),onMousemove:t=>N(e,t),onMouseleave:ne,onClick:t=>ee(e)},[q(R(Q_),{ref_for:!0,ref_key:`iconRefs`,ref:m,class:F([R(c).e(`icon`),{hover:f.value===e},R(c).is(`active`,e<=d.value),R(c).is(`focus-visible`,e===Math.ceil(d.value||1))])},{default:z(()=>[Wn((U(),G(Zr(A.value),null,null,512)),[[Lo,!j(e)&&e<=d.value]]),Wn((U(),G(Zr(k.value),null,null,512)),[[Lo,!j(e)&&e>d.value]]),Wn((U(),G(Zr(k.value),{class:F([R(c).em(`decimal`,`box`)])},null,8,[`class`])),[[Lo,j(e)]]),Wn(q(R(Q_),{style:he(w.value),class:F([R(c).e(`icon`),R(c).e(`decimal`)])},{default:z(()=>[(U(),G(Zr(D.value)))]),_:1},8,[`style`,`class`]),[[Lo,j(e)]])]),_:2},1032,[`class`])],42,nA))),128)),e.showText||e.showScore?(U(),W(`span`,{key:0,class:F(R(c).e(`text`)),style:he({color:e.textColor})},I(y.value),7)):J(`v-if`,!0)],46,tA))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue`]])),iA={primary:`icon-primary`,success:`icon-success`,warning:`icon-warning`,error:`icon-error`,info:`icon-info`},aA={[iA.primary]:bv,[iA.success]:cv,[iA.warning]:Rv,[iA.error]:uv,[iA.info]:bv},oA=S_(b_(V({name:`ElResult`,__name:`result`,props:t_({title:{type:String,default:``},subTitle:{type:String,default:``},icon:{type:String,values:[`primary`,`success`,`warning`,`info`,`error`],default:`info`}}),setup(e){let t=e,n=X(`result`),r=Y(()=>{let e=t.icon,n=e&&iA[e]?iA[e]:`icon-info`;return{class:n,component:aA[n]||aA[`icon-info`]}});return(e,t)=>(U(),W(`div`,{class:F(R(n).b())},[K(`div`,{class:F(R(n).e(`icon`))},[H(e.$slots,`icon`,{},()=>[r.value.component?(U(),G(Zr(r.value.component),{key:0,class:F(r.value.class)},null,8,[`class`])):J(`v-if`,!0)])],2),e.title||e.$slots.title?(U(),W(`div`,{key:0,class:F(R(n).e(`title`))},[H(e.$slots,`title`,{},()=>[K(`p`,null,I(e.title),1)])],2)):J(`v-if`,!0),e.subTitle||e.$slots[`sub-title`]?(U(),W(`div`,{key:1,class:F(R(n).e(`subtitle`))},[H(e.$slots,`sub-title`,{},()=>[K(`p`,null,I(e.subTitle),1)])],2)):J(`v-if`,!0),e.$slots.extra?(U(),W(`div`,{key:2,class:F(R(n).e(`extra`))},[H(e.$slots,`extra`)],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue`]])),sA=S_(b_(V({name:`ElRow`,__name:`row`,props:t_({tag:{type:String,default:`div`},gutter:{type:Number,default:0},justify:{type:String,values:[`start`,`center`,`end`,`space-around`,`space-between`,`space-evenly`],default:`start`},align:{type:String,values:[`top`,`middle`,`bottom`]}}),setup(e){let t=e,n=X(`row`);Kn(DE,{gutter:Y(()=>t.gutter)});let r=Y(()=>{let e={};return t.gutter&&(e.marginRight=e.marginLeft=`-${t.gutter/2}px`),e}),i=Y(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!==`start`),n.is(`align-${t.align}`,!!t.align)]);return(e,t)=>(U(),G(Zr(e.tag),{class:F(i.value),style:he(r.value)},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`class`,`style`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue`]])),cA=V({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:X(`select`)}}});function lA(e,t,n,r,i,a){return U(),W(`div`,{class:F(e.ns.be(`group`,`title`)),style:he({...e.style,lineHeight:`${e.height}px`})},I(e.item.label),7)}var uA=b_(cA,[[`render`,lA],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue`]]);function dA(e,{emit:t}){return{hoverItem:()=>{e.disabled||t(`hover`,e.index)},selectOptionClick:()=>{e.disabled||t(`select`,e.item,e.index)}}}var fA=t_({allowCreate:Boolean,autocomplete:{type:Z(String),default:`none`},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Vv,default:dv},effect:{type:Z(String),default:`light`},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:{type:Boolean,default:void 0},estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:{type:Z(Function)},height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Z([Array,String,Number,Boolean,Object]),default:void 0},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:{type:Z(Function)},reserveKeyword:{type:Boolean,default:!0},options:{type:Z(Array),required:!0},placeholder:{type:String},teleported:uC.teleported,persistent:{type:Boolean,default:!0},popperClass:uC.popperClass,popperStyle:uC.popperStyle,popperOptions:{type:Z(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},size:r_,props:{type:Z(Object),default:()=>DT},valueKey:{type:String,default:`value`},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},placement:{type:Z(String),values:ux,default:`bottom-start`},fallbackPlacements:{type:Z(Array),default:[`bottom-start`,`top-start`,`right`,`left`]},tagType:{...TT.type,default:`info`},tagEffect:{...TT.effect,default:`light`},tabindex:{type:[String,Number],default:0},appendTo:uC.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return Vh(e)||Hh(e)}},suffixIcon:{type:Vv,default:$_},...c_,...dy([`ariaLabel`])}),pA=t_({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Z(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),mA={[D_]:e=>!0,[O_]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},hA={hover:e=>Hh(e),select:(e,t)=>!0},gA=Symbol(`ElSelectV2Injection`),_A=V({props:pA,emits:hA,setup(e,{emit:t}){let n=qn(gA),r=X(`select`),{hoverItem:i,selectOptionClick:a}=dA(e,{emit:t}),{getLabel:o}=OT(n.props);return{ns:r,contentId:n.contentId,hoverItem:i,selectOptionClick:a,getLabel:o}}}),vA=[`id`,`aria-selected`,`aria-disabled`];function yA(e,t,n,r,i,a){return U(),W(`li`,{id:`${e.contentId}-${e.index}`,role:`option`,"aria-selected":e.selected,"aria-disabled":e.disabled||void 0,style:he(e.style),class:F([e.ns.be(`dropdown`,`item`),e.ns.is(`selected`,e.selected),e.ns.is(`disabled`,e.disabled),e.ns.is(`created`,e.created),e.ns.is(`hovering`,e.hovering)]),onMousemove:t[0]||=(...t)=>e.hoverItem&&e.hoverItem(...t),onClick:t[1]||=Ms((...t)=>e.selectOptionClick&&e.selectOptionClick(...t),[`stop`])},[H(e.$slots,`default`,{item:e.item,index:e.index,disabled:e.disabled},()=>[K(`span`,null,I(e.getLabel(e.item)),1)])],46,vA)}var bA=b_(_A,[[`render`,yA],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue`]]),xA=Number.isNaN||function(e){return typeof e==`number`&&e!==e};function SA(e,t){return!!(e===t||xA(e)&&xA(t))}function CA(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!SA(e[n],t[n]))return!1;return!0}function wA(e,t){t===void 0&&(t=CA);var n=null;function r(){var r=[...arguments];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}var TA=()=>{let e=Ga().proxy.$props;return Y(()=>{let t=(e,t,n)=>({});return e.perfMode?mf(t):wA(t)})},EA=`itemRendered`,DA=`scroll`,OA=`forward`,kA=`backward`,AA=`auto`,jA=`start`,MA=`center`,NA=`horizontal`,PA=`vertical`,FA=`negative`,IA=`positive-ascending`,LA=`positive-descending`,RA={[NA]:`left`,[PA]:`top`},zA=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let i,a=0,o=n=>n<0&&t.value||n>0&&e.value;return{hasReachedEdge:o,onWheel:e=>{P_(i);let{deltaX:t,deltaY:s}=e;e.shiftKey&&s!==0&&(t=s,s=0);let c=n.value===`horizontal`?t:s;o(c)||(a+=c,!ty()&&c!==0&&e.preventDefault(),i=N_(()=>{r(a),a=0}))}}},BA=e_({type:Z([Number,Function]),required:!0}),VA=e_({type:Number}),HA=e_({type:Number,default:2}),UA=e_({type:String,values:[`ltr`,`rtl`],default:`ltr`}),WA=e_({type:Number,default:0}),GA=e_({type:Number,required:!0}),KA=e_({type:String,values:[`horizontal`,`vertical`],default:PA}),qA=t_({className:{type:String,default:``},containerElement:{type:Z([String,Object]),default:`div`},data:{type:Z(Array),default:()=>ly([])},direction:UA,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:`div`},innerProps:{type:Z(Object),default:()=>({})},style:{type:Z([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),JA=t_({cache:HA,estimatedItemSize:VA,layout:KA,initScrollOffset:WA,total:GA,itemSize:BA,...qA}),YA={type:Number,default:6},XA={type:Number,default:0},ZA={type:Number,default:2},QA=t_({columnCache:HA,columnWidth:BA,estimatedColumnWidth:VA,estimatedRowHeight:VA,initScrollLeft:WA,initScrollTop:WA,itemKey:{type:Z(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:HA,rowHeight:BA,totalColumn:GA,totalRow:GA,hScrollbarSize:YA,vScrollbarSize:YA,scrollbarStartGap:XA,scrollbarEndGap:ZA,role:String,...qA}),$A=t_({alwaysOn:Boolean,class:String,layout:KA,total:GA,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:YA,startGap:XA,endGap:ZA,visible:Boolean}),ej=(e,t)=>e<t?OA:kA,tj=e=>e===`ltr`||e===`rtl`||e===`horizontal`,nj=e=>e===`rtl`,rj=null;function ij(e=!1){if(rj===null||e){let e=document.createElement(`div`),t=e.style;t.width=`50px`,t.height=`50px`,t.overflow=`scroll`,t.direction=`rtl`;let n=document.createElement(`div`),r=n.style;return r.width=`100px`,r.height=`100px`,e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?rj=LA:(e.scrollLeft=1,rj=e.scrollLeft===0?FA:IA),document.body.removeChild(e),rj}return rj}function aj({move:e,size:t,bar:n},r){let i={},a=`translate${n.axis}(${e}px)`;return i[n.size]=t,i.transform=a,r===`horizontal`?i.height=`100%`:i.width=`100%`,i}var oj=V({name:`ElVirtualScrollBar`,props:$A,emits:[`scroll`,`start-move`,`stop-move`],setup(e,{emit:t}){let n=Y(()=>e.startGap+e.endGap),r=X(`virtual-scrollbar`),i=X(`scrollbar`),a=L(),o=L(),s=null,c=null,l=Ut({isDragging:!1,traveled:0}),u=Y(()=>Gy[e.layout]),d=Y(()=>e.clientSize-R(n)),f=Y(()=>({position:`absolute`,width:`${e.layout===`horizontal`?d.value:e.scrollbarSize}px`,height:`${e.layout===`horizontal`?e.scrollbarSize:d.value}px`,[RA[e.layout]]:`2px`,right:`2px`,bottom:`2px`,borderRadius:`4px`})),p=Y(()=>{let t=e.ratio;if(t>=100)return 1/0;if(t>=50)return t*d.value/100;let n=d.value/3;return Math.floor(Math.min(Math.max(t*d.value/100,20),n))}),m=Y(()=>{if(!Number.isFinite(p.value))return{display:`none`};let t=`${p.value}px`;return aj({bar:u.value,size:t,move:l.traveled},e.layout)}),h=Y(()=>Math.ceil(e.clientSize-p.value-R(n))),g=()=>{window.addEventListener(`mousemove`,b),window.addEventListener(`mouseup`,y);let e=R(o);e&&(c=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener(`touchmove`,b,{passive:!0}),e.addEventListener(`touchend`,y))},_=()=>{window.removeEventListener(`mousemove`,b),window.removeEventListener(`mouseup`,y),document.onselectstart=c,c=null;let e=R(o);e&&(e.removeEventListener(`touchmove`,b),e.removeEventListener(`touchend`,y))},v=e=>{e.stopImmediatePropagation(),!(e.ctrlKey||[1,2].includes(e.button))&&(l.isDragging=!0,l[u.value.axis]=e.currentTarget[u.value.offset]-(e[u.value.client]-e.currentTarget.getBoundingClientRect()[u.value.direction]),t(`start-move`),g())},y=()=>{l.isDragging=!1,l[u.value.axis]=0,t(`stop-move`),_()},b=e=>{let{isDragging:n}=l;if(!n||!o.value||!a.value)return;let r=l[u.value.axis];if(!r)return;P_(s);let i=(a.value.getBoundingClientRect()[u.value.direction]-e[u.value.client])*-1-(o.value[u.value.offset]-r);s=N_(()=>{l.traveled=Math.max(0,Math.min(i,h.value)),t(`scroll`,i,h.value)})},x=e=>{let n=Math.abs(e.target.getBoundingClientRect()[u.value.direction]-e[u.value.client])-o.value[u.value.offset]/2;l.traveled=Math.max(0,Math.min(n,h.value)),t(`scroll`,n,h.value)};return B(()=>e.scrollFrom,e=>{l.isDragging||(l.traveled=Math.ceil(e*h.value))}),Hr(()=>{_()}),()=>oo(`div`,{role:`presentation`,ref:a,class:[r.b(),e.class,(e.alwaysOn||l.isDragging)&&`always-on`],style:f.value,onMousedown:Ms(x,[`stop`,`prevent`]),onTouchstartPrevent:v},oo(`div`,{ref:o,class:i.e(`thumb`),style:m.value,onMousedown:v},[]))}}),sj=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:a,getStopIndexForStartIndex:o,initCache:s,clearCache:c,validateProps:l})=>V({name:e??`ElVirtualList`,props:JA,emits:[EA,DA],setup(e,{emit:u,expose:d}){l(e);let f=Ga(),p=X(`vl`),m=L(s(e,f)),h=TA(),g=L(),_=L(),v=L(),y=L({isScrolling:!1,scrollDir:`forward`,scrollOffset:Hh(e.initScrollOffset)?e.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:e.scrollbarAlwaysOn}),x=Y(()=>{let{total:t,cache:n}=e,{isScrolling:r,scrollDir:i,scrollOffset:s}=R(y);if(t===0)return[0,0,0,0];let c=a(e,s,R(m)),l=o(e,c,s,R(m)),u=!r||i===`backward`?Math.max(1,n):1,d=!r||i===`forward`?Math.max(1,n):1;return[Math.max(0,c-u),Math.max(0,Math.min(t-1,l+d)),c,l]}),S=Y(()=>i(e,R(m))),C=Y(()=>tj(e.layout)),w=Y(()=>[{position:`relative`,[`overflow-${C.value?`x`:`y`}`]:`scroll`,WebkitOverflowScrolling:`touch`,willChange:`transform`},{direction:e.direction,height:Hh(e.height)?`${e.height}px`:e.height,width:Hh(e.width)?`${e.width}px`:e.width},e.style]),T=Y(()=>{let e=R(S),t=R(C);return{height:t?`100%`:`${e}px`,pointerEvents:R(y).isScrolling?`none`:void 0,width:t?`${e}px`:`100%`,margin:0,boxSizing:`border-box`}}),E=Y(()=>C.value?e.width:e.height),{onWheel:D}=zA({atStartEdge:Y(()=>y.value.scrollOffset<=0),atEndEdge:Y(()=>y.value.scrollOffset>=S.value),layout:Y(()=>e.layout)},e=>{var t,n;(n=(t=v.value).onMouseUp)==null||n.call(t),ee(Math.min(y.value.scrollOffset+e,S.value-E.value))});bg(g,`wheel`,D,{passive:!1});let O=()=>{let{total:t}=e;if(t>0){let[e,t,n,r]=R(x);u(EA,e,t,n,r)}let{scrollDir:n,scrollOffset:r,updateRequested:i}=R(y);u(DA,n,r,i)},k=e=>{let{clientHeight:t,scrollHeight:n,scrollTop:r}=e.currentTarget,i=R(y);if(i.scrollOffset===r)return;let a=Math.max(0,Math.min(r,n-t));y.value={...i,isScrolling:!0,scrollDir:ej(i.scrollOffset,a),scrollOffset:a,updateRequested:!1},Mn(ne)},A=t=>{let{clientWidth:n,scrollLeft:r,scrollWidth:i}=t.currentTarget,a=R(y);if(a.scrollOffset===r)return;let{direction:o}=e,s=r;if(o===`rtl`)switch(ij()){case FA:s=-r;break;case LA:s=i-n-r;break}s=Math.max(0,Math.min(s,i-n)),y.value={...a,isScrolling:!0,scrollDir:ej(a.scrollOffset,s),scrollOffset:s,updateRequested:!1},Mn(ne)},j=e=>{R(C)?A(e):k(e),O()},M=(e,t)=>{let n=(S.value-E.value)/t*e;ee(Math.min(S.value-E.value,n))},ee=e=>{e=Math.max(e,0),e!==R(y).scrollOffset&&(y.value={...R(y),scrollOffset:e,scrollDir:ej(R(y).scrollOffset,e),updateRequested:!0},Mn(ne))},te=(n,r=AA)=>{let{scrollOffset:i}=R(y);n=Math.max(0,Math.min(n,e.total-1)),ee(t(e,n,r,i,R(m)))},N=t=>{let{direction:i,itemSize:a,layout:o}=e,s=h.value(c&&a,c&&o,c&&i),l;if(b(s,String(t)))l=s[t];else{let a=r(e,t,R(m)),o=n(e,t,R(m)),c=R(C),u=i===`rtl`,d=c?a:0;s[t]=l={position:`absolute`,left:u?void 0:`${d}px`,right:u?`${d}px`:void 0,top:c?0:`${a}px`,height:c?`100%`:`${o}px`,width:c?`${o}px`:`100%`}}return l},ne=()=>{y.value.isScrolling=!1,Mn(()=>{h.value(-1,null,null)})},re=()=>{let e=g.value;e&&(e.scrollTop=0)};zr(()=>{if(!$h)return;let{initScrollOffset:t}=e,n=R(g);Hh(t)&&n&&(R(C)?n.scrollLeft=t:n.scrollTop=t),O()}),Vr(()=>{let{direction:t,layout:n}=e,{scrollOffset:r,updateRequested:i}=R(y),a=R(g);if(i&&a)if(n===`horizontal`)if(t===`rtl`)switch(ij()){case FA:a.scrollLeft=-r;break;case IA:a.scrollLeft=r;break;default:{let{clientWidth:e,scrollWidth:t}=a;a.scrollLeft=t-e-r;break}}else a.scrollLeft=r;else a.scrollTop=r}),Mr(()=>{R(g).scrollTop=R(y).scrollOffset});let ie={ns:p,clientSize:E,estimatedTotalSize:S,windowStyle:w,windowRef:g,innerRef:_,innerStyle:T,itemsToRender:x,scrollbarRef:v,states:y,getItemStyle:N,onScroll:j,onScrollbarScroll:M,onWheel:D,scrollTo:ee,scrollToItem:te,resetScrollTop:re};return d({windowRef:g,innerRef:_,getItemStyleCache:h,scrollTo:ee,scrollToItem:te,resetScrollTop:re,states:y}),ie},render(e){let{$slots:t,className:n,clientSize:r,containerElement:i,data:a,getItemStyle:o,innerElement:s,itemsToRender:c,innerStyle:l,layout:u,total:d,onScroll:f,onScrollbarScroll:p,states:m,useIsScrolling:h,windowStyle:g,ns:_}=e,[v,y]=c,b=Zr(i),x=Zr(s),S=[];if(d>0)for(let e=v;e<=y;e++)S.push(oo(va,{key:e},t.default?.call(t,{data:a,index:e,isScrolling:h?m.isScrolling:void 0,style:o(e)})));let C=[oo(x,za(e.innerProps,{style:l,ref:`innerRef`}),E(x)?S:{default:()=>S})],w=oo(oj,{ref:`scrollbarRef`,clientSize:r,layout:u,onScroll:p,ratio:r*100/this.estimatedTotalSize,scrollFrom:m.scrollOffset/(this.estimatedTotalSize-r),total:d,alwaysOn:m.scrollbarAlwaysOn}),T=oo(b,{class:[_.e(`window`),n],style:g,onScroll:f,ref:`windowRef`,key:0},E(b)?[C]:{default:()=>[C]});return oo(`div`,{key:0,class:[_.e(`wrapper`),m.scrollbarAlwaysOn?`always-on`:``]},[T,w])}}),cj=sj({name:`ElFixedSizeList`,getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:i},a,o,s)=>{let c=tj(r)?i:e,l=Math.max(0,t*n-c),u=Math.min(l,a*n),d=Math.max(0,(a+1)*n-c);switch(o===`smart`&&(o=s>=d-c&&s<=u+c?AA:MA),o){case jA:return u;case`end`:return d;case MA:{let e=Math.round(d+(u-d)/2);return e<Math.ceil(c/2)?0:e>l+Math.floor(c/2)?l:e}case AA:default:return s>=d&&s<=u?s:s<d?d:u}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:i},a,o)=>{let s=a*n,c=tj(r)?i:e,l=Math.ceil((c+o-s)/n);return Math.max(0,Math.min(t-1,a+l-1))},initCache(){},clearCache:!0,validateProps(){}}),lj=(e,t,n)=>{let{itemSize:r}=e,{items:i,lastVisitedIndex:a}=n;if(t>a){let e=0;if(a>=0){let t=i[a];e=t.offset+t.size}for(let n=a+1;n<=t;n++){let t=r(n);i[n]={offset:e,size:t},e+=t}n.lastVisitedIndex=t}return i[t]},uj=(e,t,n)=>{let{items:r,lastVisitedIndex:i}=t;return(i>0?r[i].offset:0)>=n?dj(e,t,0,i,n):fj(e,t,Math.max(0,i),n)},dj=(e,t,n,r,i)=>{for(;n<=r;){let a=n+Math.floor((r-n)/2),o=lj(e,a,t).offset;if(o===i)return a;o<i?n=a+1:o>i&&(r=a-1)}return Math.max(0,n-1)},fj=(e,t,n,r)=>{let{total:i}=e,a=1;for(;n<i&&lj(e,n,t).offset<r;)n+=a,a*=2;return dj(e,t,Math.floor(n/2),Math.min(n,i-1),r)},pj=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=e&&(r=e-1),r>=0){let e=t[r];i=e.offset+e.size}let a=(e-r-1)*n;return i+a},mj=sj({name:`ElDynamicSizeList`,getItemOffset:(e,t,n)=>lj(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:pj,getOffset:(e,t,n,r,i)=>{let{height:a,layout:o,width:s}=e,c=tj(o)?s:a,l=lj(e,t,i),u=pj(e,i),d=Math.max(0,Math.min(u-c,l.offset)),f=Math.max(0,l.offset-c+l.size);switch(n===`smart`&&(n=r>=f-c&&r<=d+c?AA:MA),n){case jA:return d;case`end`:return f;case MA:return Math.round(f+(d-f)/2);case AA:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(e,t,n)=>uj(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{let{height:i,total:a,layout:o,width:s}=e,c=tj(o)?s:i,l=lj(e,t,r),u=n+c,d=l.offset+l.size,f=t;for(;f<a-1&&d<u;)f++,d+=lj(e,f,r).size;return f},initCache({estimatedItemSize:e=50},t){let n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(e,r=!0)=>{var i,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,e-1),(i=t.exposed)==null||i.getItemStyleCache(-1),r&&((a=t.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),hj=V({name:`ElSelectDropdown`,props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number,id:String,ariaLabel:String},setup(e,{slots:t,expose:n}){let r=qn(gA),i=X(`select`),{getLabel:a,getValue:o,getDisabled:s}=OT(r.props),c=L([]),l=L(),u=Y(()=>e.data.length);B(()=>u.value,()=>{var e,t;(t=(e=r.tooltipRef.value)?.updatePopper)==null||t.call(e)});let d=Y(()=>Bh(r.props.estimatedOptionHeight)),f=Y(()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:e=>c.value[e]}),p=(e=[],t)=>{let{props:{valueKey:n}}=r;return O(t)?e&&e.some(e=>Zt(jf(e,n))===jf(t,n)):e.includes(t)},m=(e,t)=>{if(O(t)){let{valueKey:n}=r.props;return jf(e,n)===jf(t,n)}else return e===t},h=(e,t)=>r.props.multiple?p(e,o(t)):m(e,o(t)),g=(e,t)=>{let{disabled:n,multiple:i,multipleLimit:a}=r.props;return n||!t&&(i?a>0&&e.length>=a:!1)},_=t=>e.hoveringIndex===t;n({listRef:l,isSized:d,isItemDisabled:g,isItemHovering:_,isItemSelected:h,scrollToItem:e=>{let t=l.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{let e=l.value;e&&e.resetScrollTop()}});let v=e=>{let{index:n,data:i,style:o}=e,c=R(d),{itemSize:l,estimatedSize:u}=R(f),{modelValue:p}=r.props,{onSelect:m,onHover:v}=r,y=i[n];if(y.type===`Group`)return q(uA,{item:y,style:o,height:c?l:u},null);let b=h(p,y),x=g(p,b),S=_(n);return q(bA,za(e,{selected:b,disabled:s(y)||x,created:!!y.created,hovering:S,item:y,onSelect:m,onHover:v}),{default:e=>t.default?.call(t,e)||q(`span`,null,[a(y)])})},{onKeyboardNavigate:y,onKeyboardSelect:b}=r,x=()=>{y(`forward`)},S=()=>{y(`backward`)},C=e=>{let t=Gb(e),{tab:n,esc:r,down:i,up:a,enter:o,numpadEnter:s}=Q;switch([r,i,a,o,s].includes(t)&&(e.preventDefault(),e.stopPropagation()),t){case n:case r:break;case i:x();break;case a:S();break;case o:case s:b();break}};return()=>{let{data:n,width:a}=e,{height:o,multiple:s,scrollbarAlwaysOn:c}=r.props,u=Y(()=>og?!0:c),p=R(d)?cj:mj;return q(`div`,{class:[i.b(`dropdown`),i.is(`multiple`,s)],style:{width:`${a}px`}},[t.header?.call(t),t.loading?.call(t)||t.empty?.call(t)||q(p,za({ref:l},R(f),{className:i.be(`dropdown`,`list`),scrollbarAlwaysOn:u.value,data:n,height:o,width:a,total:n.length,innerElement:`ul`,innerProps:{id:e.id,role:`listbox`,"aria-label":e.ariaLabel,"aria-orientation":`vertical`},onKeydown:C}),{default:e=>q(v,e,null)}),t.footer?.call(t)])}}});function gj(e,t){let{aliasProps:n,getLabel:r,getValue:i}=OT(e),a=L(0),o=L(),s=Y(()=>e.allowCreate&&e.filterable);B(()=>e.options,e=>{let n=new Set(e.map(e=>r(e)));t.createdOptions=t.createdOptions.filter(e=>!n.has(r(e)))});function c(n){let i=e=>r(e)===n;return e.options&&e.options.some(i)||t.createdOptions.some(i)}function l(t){s.value&&(e.multiple&&t.created?a.value++:o.value=t)}function u(i){if(s.value)if(i&&i.length>0){if(c(i)){t.createdOptions=t.createdOptions.filter(e=>r(e)!==t.previousQuery);return}let e={[n.value.value]:i,[n.value.label]:i,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=a.value?t.createdOptions[a.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=a.value;else{let e=o.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}}function d(n){if(!s.value||!n||!n.created||n.created&&e.reserveKeyword&&t.inputValue===r(n))return;let o=t.createdOptions.findIndex(e=>i(e)===i(n));~o&&(t.createdOptions.splice(o,1),a.value--)}function f(){s.value&&(t.createdOptions.length=0,a.value=0)}return{createNewOption:u,removeNewOption:d,selectNewOption:l,clearAllNewOption:f}}var _j=(e,t)=>{let{t:n}=Zg(),r=li(),i=X(`select`),a=X(`input`),{form:o,formItem:s}=Cy(),{inputId:c}=wy(e,{formItemContext:s}),{aliasProps:l,getLabel:u,getValue:d,getDisabled:f,getOptions:p}=OT(e),{valueOnClear:m,isEmptyValue:h}=l_(e),g=Ut({inputValue:``,cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:``,menuVisibleOnFocus:!1,isBeforeHide:!1}),_=L(-1),v=L(!1),y=L(),b=L(),S=L(),C=L(),w=L(),E=L(),D=L(),k=L(),A=L(),j=L(),{isComposing:M,handleCompositionStart:ee,handleCompositionEnd:te,handleCompositionUpdate:N}=By({afterComposition:e=>ht(e)}),ne=Dy(),{wrapperRef:re,isFocused:ie,handleBlur:P}=Ry(w,{disabled:ne,afterFocus(){e.automaticDropdown&&!ce.value&&(ce.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(e){return S.value?.isFocusInsideContent(e)||C.value?.isFocusInsideContent(e)},afterBlur(){var t;ce.value=!1,g.menuVisibleOnFocus=!1,e.validateEvent&&((t=s?.validate)==null||t.call(s,`blur`).catch(e=>void 0))}}),ae=Y(()=>xe(``)),oe=Y(()=>e.loading?!1:e.options.length>0||g.createdOptions.length>0),se=L([]),ce=L(!1),le=Y(()=>o?.statusIcon??!1),ue=Y(()=>{let t=se.value.length*e.itemHeight;return t>e.height?e.height:t}),de=Y(()=>e.multiple?x(e.modelValue)&&e.modelValue.length>0:!h(e.modelValue)),fe=Y(()=>e.clearable&&!ne.value&&de.value&&(ie.value||g.inputHovering)),pe=Y(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?``:e.suffixIcon),me=Y(()=>pe.value&&i.is(`reverse`,ce.value)),he=Y(()=>s?.validateState||``),ge=Y(()=>{if(he.value)return Gv[he.value]}),_e=Y(()=>e.remote?e.debounce:0),ve=Y(()=>e.remote&&!g.inputValue&&!oe.value),ye=Y(()=>e.loading?e.loadingText||n(`el.select.loading`):e.filterable&&g.inputValue&&oe.value&&se.value.length===0?e.noMatchText||n(`el.select.noMatch`):oe.value?null:e.noDataText||n(`el.select.noData`)),F=Y(()=>e.filterable&&T(e.filterMethod)),be=Y(()=>e.filterable&&e.remote&&T(e.remoteMethod)),xe=t=>{let n=new RegExp(MT(t),`i`),r=e=>F.value||be.value?!0:t?n.test(u(e)||``):!0;return e.loading?[]:[...g.createdOptions,...e.options].reduce((t,n)=>{let i=p(n);if(x(i)){let e=i.filter(r);e.length>0&&t.push({label:u(n),type:`Group`},...e)}else (e.remote||r(n))&&t.push(n);return t},[])},Se=()=>{se.value=xe(g.inputValue)},Ce=Y(()=>{let e=new Map;return ae.value.forEach((t,n)=>{e.set(Ze(d(t)),{option:t,index:n})}),e}),we=Y(()=>{let e=new Map;return se.value.forEach((t,n)=>{e.set(Ze(d(t)),{option:t,index:n})}),e}),Te=Y(()=>se.value.every(e=>f(e))),Ee=Ey(),De=Y(()=>Ee.value===`small`?`small`:`default`),I=()=>{if(Hh(e.fitInputWidth)){_.value=e.fitInputWidth;return}let t=y.value?.offsetWidth||200;!e.fitInputWidth&&oe.value?Mn(()=>{_.value=Math.max(t,Oe())}):_.value=t},Oe=()=>{let e=document.createElement(`canvas`).getContext(`2d`),t=i.be(`dropdown`,`item`),n=(k.value?.listRef?.innerRef||document).querySelector(`.${t}`);if(n===null||e===null)return 0;let r=getComputedStyle(n),a=Number.parseFloat(r.paddingLeft)+Number.parseFloat(r.paddingRight);return e.font=`bold ${r.font.replace(RegExp(`\\b${r.fontWeight}\\b`),``)}`,se.value.reduce((t,n)=>{let r=e.measureText(u(n));return Math.max(r.width,t)},0)+a},ke=()=>{if(!b.value)return 0;let e=window.getComputedStyle(b.value);return Number.parseFloat(e.gap||`6px`)},Ae=Y(()=>{let t=ke(),n=e.filterable?t+11:0;return{maxWidth:`${j.value&&e.maxCollapseTags===1?g.selectionWidth-g.collapseItemWidth-t-n:g.selectionWidth-n}px`}}),je=Y(()=>({maxWidth:`${g.selectionWidth}px`})),Me=Y(()=>x(e.modelValue)?e.modelValue.length===0&&!g.inputValue:e.filterable?!g.inputValue:!0),Ne=Y(()=>{let t=e.placeholder??n(`el.select.placeholder`);return e.multiple||!de.value?t:g.selectedLabel}),Pe=Y(()=>S.value?.popperRef?.contentRef),Fe=Y(()=>{if(e.multiple){let t=e.modelValue.length;if(t>0&&we.value.has(e.modelValue[t-1])){let{index:n}=we.value.get(e.modelValue[t-1]);return n}}else if(!h(e.modelValue)&&we.value.has(e.modelValue)){let{index:t}=we.value.get(e.modelValue);return t}return-1}),Ie=Y({get(){return ce.value&&(e.loading||!ve.value||e.remote&&!!r.empty)&&(!v.value||!Uh(g.previousQuery))},set(e){ce.value=e}}),Le=Y(()=>e.multiple?e.collapseTags?g.cachedOptions.slice(0,e.maxCollapseTags):g.cachedOptions:[]),Re=Y(()=>e.multiple&&e.collapseTags?g.cachedOptions.slice(e.maxCollapseTags):[]),{createNewOption:ze,removeNewOption:Be,selectNewOption:Ve,clearAllNewOption:He}=gj(e,g),Ue=t=>{ne.value||e.filterable&&ce.value&&t&&!D.value?.contains(t.target)||(g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:ce.value=!ce.value)},We=()=>{g.inputValue.length>0&&!ce.value&&(ce.value=!0),ze(g.inputValue),Mn(()=>{Ke(g.inputValue)})},Ge=fg(()=>{We(),v.value=!1},_e),Ke=t=>{g.previousQuery===t||M.value||(g.previousQuery=t,e.filterable&&T(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&T(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&se.value.length?Mn(qe):Mn(mt))},qe=()=>{let e=se.value.filter(e=>!e.disabled&&e.type!==`Group`),t=e.find(e=>e.created),n=e[0];g.hoveringIndex=Xe(se.value,t||n)},Je=n=>{oh(e.modelValue,n)||t(O_,n)},Ye=n=>{t(D_,n),Je(n),g.previousValue=e.multiple?String(n):n,Mn(()=>{if(e.multiple&&x(e.modelValue)){let t=g.cachedOptions.slice(),n=e.modelValue.map(e=>yt(e,t));oh(g.cachedOptions,n)||(g.cachedOptions=n)}else xt(!0)})},Xe=(t=[],n)=>{if(!O(n))return t.indexOf(n);let r=e.valueKey,i=-1;return t.some((e,t)=>jf(e,r)===jf(n,r)?(i=t,!0):!1),i},Ze=t=>O(t)?jf(t,e.valueKey):t,Qe=()=>{I()},$e=()=>{g.selectionWidth=Number.parseFloat(window.getComputedStyle(b.value).width)},et=()=>{g.collapseItemWidth=j.value.getBoundingClientRect().width},tt=()=>{var e,t;(t=(e=S.value)?.updatePopper)==null||t.call(e)},nt=()=>{var e,t;(t=(e=C.value)?.updatePopper)==null||t.call(e)},rt=t=>{let n=d(t);if(e.multiple){let r=e.modelValue.slice(),i=Xe(r,n);i>-1?(r=[...r.slice(0,i),...r.slice(i+1)],g.cachedOptions.splice(i,1),Be(t)):(e.multipleLimit<=0||r.length<e.multipleLimit)&&(r=[...r,n],g.cachedOptions.push(t),Ve(t)),Ye(r),t.created&&Ke(``),e.filterable&&!e.reserveKeyword&&(g.inputValue=``)}else g.selectedLabel=u(t),!oh(e.modelValue,n)&&Ye(n),ce.value=!1,Ve(t),t.created||He();at()},it=(n,r)=>{let i=e.modelValue.slice(),a=Xe(i,d(r));a>-1&&!ne.value&&(i=[...e.modelValue.slice(0,a),...e.modelValue.slice(a+1)],g.cachedOptions.splice(a,1),Ye(i),t(`remove-tag`,d(r)),Be(r)),n.stopPropagation(),at()},at=()=>{var e;(e=w.value)==null||e.focus()},ot=()=>{var e;if(ce.value){ce.value=!1,Mn(()=>w.value?.blur());return}(e=w.value)==null||e.blur()},st=()=>{g.inputValue.length>0?g.inputValue=``:ce.value=!1},ct=e=>Km(e,e=>!g.cachedOptions.some(t=>d(t)===e&&f(t))),lt=n=>{let r=Gb(n);if(e.multiple&&r!==Q.delete&&g.inputValue.length===0){n.preventDefault();let r=e.modelValue.slice(),i=ct(r);if(i<0)return;let a=r[i];r.splice(i,1);let o=g.cachedOptions[i];g.cachedOptions.splice(i,1),Be(o),Ye(r),t(`remove-tag`,a)}},ut=()=>{let n;n=x(e.modelValue)?[]:m.value,g.selectedLabel=``,ce.value=!1,Ye(n),t(`clear`),He(),at()},dt=(e,t=void 0)=>{let n=se.value;if(![`forward`,`backward`].includes(e)||ne.value||n.length<=0||Te.value||M.value)return;if(!ce.value)return Ue();Bh(t)&&(t=g.hoveringIndex);let r=-1;e===`forward`?(r=t+1,r>=n.length&&(r=0)):e===`backward`&&(r=t-1,(r<0||r>=n.length)&&(r=n.length-1));let i=n[r];if(f(i)||i.type===`Group`)return dt(e,r);g.hoveringIndex=r,vt(r)},ft=()=>{if(ce.value)~g.hoveringIndex&&se.value[g.hoveringIndex]&&rt(se.value[g.hoveringIndex]);else return Ue()},pt=e=>{g.hoveringIndex=e??-1},mt=()=>{if(!e.multiple)g.hoveringIndex=se.value.findIndex(t=>Ze(d(t))===Ze(e.modelValue));else{let t=e.modelValue.length;if(t>0){let n=e.modelValue[t-1];g.hoveringIndex=se.value.findIndex(e=>Ze(n)===Ze(d(e)))}else g.hoveringIndex=-1}},ht=t=>{if(g.inputValue=t.target.value,e.remote)v.value=!0,Ge();else return We()},gt=e=>{ce.value=!1,ie.value&&P(new FocusEvent(`blur`,e))},_t=()=>(g.isBeforeHide=!1,Mn(()=>{~Fe.value&&vt(Fe.value)})),vt=e=>{k.value.scrollToItem(e)},yt=(e,t)=>{let n=Ze(e);if(Ce.value.has(n)){let{option:e}=Ce.value.get(n);return e}if(t&&t.length){let e=t.find(e=>Ze(d(e))===n);if(e)return e}return{[l.value.value]:e,[l.value.label]:e}},bt=e=>Ce.value.get(d(e))?.index??-1,xt=(t=!1)=>{if(e.multiple)if(e.modelValue.length>0){let t=g.cachedOptions.slice();g.cachedOptions.length=0,g.previousValue=e.modelValue.toString();for(let n of e.modelValue){let e=yt(n,t);g.cachedOptions.push(e)}}else g.cachedOptions=[],g.previousValue=void 0;else if(de.value){g.previousValue=e.modelValue;let n=se.value,r=n.findIndex(t=>Ze(d(t))===Ze(e.modelValue));~r?g.selectedLabel=u(n[r]):(!g.selectedLabel||t)&&(g.selectedLabel=Ze(e.modelValue))}else g.selectedLabel=``,g.previousValue=void 0;He(),I()};B(()=>e.fitInputWidth,()=>{I()}),B(ce,t=>{t?(e.persistent||I(),Ke(``)):(g.inputValue=``,g.previousQuery=null,g.isBeforeHide=!0,ze(``))}),B(()=>e.modelValue,(t,n)=>{var r;(!t||x(t)&&t.length===0||e.multiple&&!oh(t.toString(),g.previousValue)||!e.multiple&&Ze(t)!==Ze(g.previousValue))&&xt(!0),!oh(t,n)&&e.validateEvent&&((r=s?.validate)==null||r.call(s,`change`).catch(e=>void 0))},{deep:!0}),B(()=>e.options,()=>{let e=w.value;(!e||e&&document.activeElement!==e)&&xt()},{deep:!0,flush:`post`}),B(()=>se.value,()=>(I(),k.value&&Mn(k.value.resetScrollTop))),Xn(()=>{g.isBeforeHide||Se()}),Xn(()=>{let{valueKey:t,options:n}=e,r=new Map;for(let e of n){let n=d(e),i=n;if(O(i)&&(i=jf(n,t)),r.get(i))break;r.set(i,!0)}}),zr(()=>{xt()}),jg(y,Qe),jg(b,$e),jg(re,tt),jg(A,nt),jg(j,et);let St;return B(()=>Ie.value,e=>{e?St=jg(k,tt).stop:(St?.(),St=void 0),t(`visible-change`,e)}),{inputId:c,collapseTagSize:De,currentPlaceholder:Ne,expanded:ce,emptyText:ye,popupHeight:ue,debounce:_e,allOptions:ae,allOptionsValueMap:Ce,filteredOptions:se,iconComponent:pe,iconReverse:me,tagStyle:Ae,collapseTagStyle:je,popperSize:_,dropdownMenuVisible:Ie,hasModelValue:de,shouldShowPlaceholder:Me,selectDisabled:ne,selectSize:Ee,needStatusIcon:le,showClearBtn:fe,states:g,isFocused:ie,nsSelect:i,nsInput:a,inputRef:w,menuRef:k,tagMenuRef:A,tooltipRef:S,tagTooltipRef:C,selectRef:y,wrapperRef:re,selectionRef:b,prefixRef:E,suffixRef:D,collapseItemRef:j,popperRef:Pe,validateState:he,validateIcon:ge,showTagList:Le,collapseTagList:Re,debouncedOnInputChange:Ge,deleteTag:it,getLabel:u,getValue:d,getDisabled:f,getValueKey:Ze,getIndex:bt,handleClear:ut,handleClickOutside:gt,handleDel:lt,handleEsc:st,focus:at,blur:ot,handleMenuEnter:_t,handleResize:Qe,resetSelectionWidth:$e,updateTooltip:tt,updateTagTooltip:nt,updateOptions:Se,toggleMenu:Ue,scrollTo:vt,onInput:ht,onKeyboardNavigate:dt,onKeyboardSelect:ft,onSelect:rt,onHover:pt,handleCompositionStart:ee,handleCompositionEnd:te,handleCompositionUpdate:N}},vj=V({name:`ElSelectV2`,components:{ElSelectMenu:hj,ElTag:ET,ElTooltip:MC,ElIcon:Q_},directives:{ClickOutside:zT},props:fA,emits:mA,setup(e,{emit:t}){let n=Y(()=>{let{modelValue:t,multiple:n}=e,r=n?[]:void 0;return x(t)?n?t:r:n?r:t}),r=_j(Ut({...ln(e),modelValue:n}),t),{calculatorRef:i,inputStyle:a}=BT(),o=by();Kn(gA,{props:Ut({...ln(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,contentId:o,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});let s=Y(()=>e.multiple?r.states.cachedOptions.map(e=>r.getLabel(e)):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:s,calculatorRef:i,inputStyle:a,contentId:o,BORDER_HORIZONTAL_WIDTH:2}}}),yj=[`id`,`autocomplete`,`tabindex`,`aria-expanded`,`aria-label`,`disabled`,`aria-controls`,`aria-activedescendant`,`readonly`,`name`],bj=[`textContent`],xj={key:1};function Sj(e,t,n,r,i,a){let o=Yr(`el-tag`),s=Yr(`el-tooltip`),c=Yr(`el-icon`),l=Yr(`el-select-menu`),u=Qr(`click-outside`);return Wn((U(),W(`div`,{ref:`selectRef`,class:F([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t[15]||=t=>e.states.inputHovering=!0,onMouseleave:t[16]||=t=>e.states.inputHovering=!1},[q(s,{ref:`tooltipRef`,visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e(`popper`),e.popperClass],"popper-style":e.popperStyle,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:``,transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:`click`,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t[14]||=t=>e.states.isBeforeHide=!1},{default:z(()=>[K(`div`,{ref:`wrapperRef`,class:F([e.nsSelect.e(`wrapper`),e.nsSelect.is(`focused`,e.isFocused),e.nsSelect.is(`hovering`,e.states.inputHovering),e.nsSelect.is(`filterable`,e.filterable),e.nsSelect.is(`disabled`,e.selectDisabled)]),onClick:t[11]||=Ms((...t)=>e.toggleMenu&&e.toggleMenu(...t),[`prevent`])},[e.$slots.prefix?(U(),W(`div`,{key:0,ref:`prefixRef`,class:F(e.nsSelect.e(`prefix`))},[H(e.$slots,`prefix`)],2)):J(`v-if`,!0),K(`div`,{ref:`selectionRef`,class:F([e.nsSelect.e(`selection`),e.nsSelect.is(`near`,e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?H(e.$slots,`tag`,{key:0,data:e.states.cachedOptions,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(U(!0),W(va,null,ti(e.showTagList,t=>(U(),W(`div`,{key:e.getValueKey(e.getValue(t)),class:F(e.nsSelect.e(`selected-item`))},[q(o,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,style:he(e.tagStyle),onClose:n=>e.deleteTag(n,t)},{default:z(()=>[K(`span`,{class:F(e.nsSelect.e(`tags-text`))},[H(e.$slots,`label`,{index:e.getIndex(t),label:e.getLabel(t),value:e.getValue(t)},()=>[Fa(I(e.getLabel(t)),1)])],2)]),_:2},1032,[`closable`,`size`,`type`,`effect`,`style`,`onClose`])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(U(),G(s,{key:0,ref:`tagTooltipRef`,disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":[`bottom`,`top`,`right`,`left`],effect:e.effect,placement:`bottom`,"popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported,"popper-options":e.popperOptions},{default:z(()=>[K(`div`,{ref:`collapseItemRef`,class:F(e.nsSelect.e(`selected-item`))},[q(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:he(e.collapseTagStyle),"disable-transitions":``},{default:z(()=>[K(`span`,{class:F(e.nsSelect.e(`tags-text`))},` + `+I(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,[`size`,`type`,`effect`,`style`])],2)]),content:z(()=>[K(`div`,{ref:`tagMenuRef`,class:F(e.nsSelect.e(`selection`))},[(U(!0),W(va,null,ti(e.collapseTagList,t=>(U(),W(`div`,{key:e.getValueKey(e.getValue(t)),class:F(e.nsSelect.e(`selected-item`))},[q(o,{class:`in-tooltip`,closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,onClose:n=>e.deleteTag(n,t)},{default:z(()=>[K(`span`,{class:F(e.nsSelect.e(`tags-text`))},[H(e.$slots,`label`,{index:e.getIndex(t),label:e.getLabel(t),value:e.getValue(t)},()=>[Fa(I(e.getLabel(t)),1)])],2)]),_:2},1032,[`closable`,`size`,`type`,`effect`,`onClose`])],2))),128))],2)]),_:3},8,[`disabled`,`effect`,`popper-class`,`popper-style`,`teleported`,`popper-options`])):J(`v-if`,!0)]):J(`v-if`,!0),K(`div`,{class:F([e.nsSelect.e(`selected-item`),e.nsSelect.e(`input-wrapper`),e.nsSelect.is(`hidden`,!e.filterable||e.selectDisabled)])},[Wn(K(`input`,{id:e.inputId,ref:`inputRef`,"onUpdate:modelValue":t[0]||=t=>e.states.inputValue=t,style:he(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":`none`,"aria-haspopup":`listbox`,autocapitalize:`off`,"aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:F([e.nsSelect.e(`input`),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:`combobox`,"aria-controls":e.contentId,"aria-activedescendant":e.states.hoveringIndex>=0?`${e.contentId}-${e.states.hoveringIndex}`:``,readonly:!e.filterable,spellcheck:`false`,type:`text`,name:e.name,onInput:t[1]||=(...t)=>e.onInput&&e.onInput(...t),onCompositionstart:t[2]||=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t),onCompositionupdate:t[3]||=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t),onCompositionend:t[4]||=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t),onKeydown:[t[5]||=Ps(Ms(t=>e.onKeyboardNavigate(`backward`),[`stop`,`prevent`]),[`up`]),t[6]||=Ps(Ms(t=>e.onKeyboardNavigate(`forward`),[`stop`,`prevent`]),[`down`]),t[7]||=Ps(Ms((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t),[`stop`,`prevent`]),[`enter`]),t[8]||=Ps(Ms((...t)=>e.handleEsc&&e.handleEsc(...t),[`stop`,`prevent`]),[`esc`]),t[9]||=Ps(Ms((...t)=>e.handleDel&&e.handleDel(...t),[`stop`]),[`delete`])],onClick:t[10]||=Ms((...t)=>e.toggleMenu&&e.toggleMenu(...t),[`stop`])},null,46,yj),[[ws,e.states.inputValue]]),e.filterable?(U(),W(`span`,{key:0,ref:`calculatorRef`,"aria-hidden":`true`,class:F(e.nsSelect.e(`input-calculator`)),textContent:I(e.states.inputValue)},null,10,bj)):J(`v-if`,!0)],2),e.shouldShowPlaceholder?(U(),W(`div`,{key:1,class:F([e.nsSelect.e(`selected-item`),e.nsSelect.e(`placeholder`),e.nsSelect.is(`transparent`,!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?H(e.$slots,`label`,{key:0,index:e.allOptionsValueMap.get(e.modelValue)?.index??-1,label:e.currentPlaceholder,value:e.modelValue},()=>[K(`span`,null,I(e.currentPlaceholder),1)]):(U(),W(`span`,xj,I(e.currentPlaceholder),1))],2)):J(`v-if`,!0)],2),K(`div`,{ref:`suffixRef`,class:F(e.nsSelect.e(`suffix`))},[e.iconComponent?Wn((U(),G(c,{key:0,class:F([e.nsSelect.e(`caret`),e.nsInput.e(`icon`),e.iconReverse])},{default:z(()=>[(U(),G(Zr(e.iconComponent)))]),_:1},8,[`class`])),[[Lo,!e.showClearBtn]]):J(`v-if`,!0),e.showClearBtn&&e.clearIcon?(U(),G(c,{key:1,class:F([e.nsSelect.e(`caret`),e.nsInput.e(`icon`),e.nsSelect.e(`clear`)]),onClick:Ms(e.handleClear,[`prevent`,`stop`])},{default:z(()=>[(U(),G(Zr(e.clearIcon)))]),_:1},8,[`class`,`onClick`])):J(`v-if`,!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(U(),G(c,{key:2,class:F([e.nsInput.e(`icon`),e.nsInput.e(`validateIcon`),e.nsInput.is(`loading`,e.validateState===`validating`)])},{default:z(()=>[(U(),G(Zr(e.validateIcon)))]),_:1},8,[`class`])):J(`v-if`,!0)],2)],2)]),content:z(()=>[q(l,{id:e.contentId,ref:`menuRef`,data:e.filteredOptions,width:e.popperSize-e.BORDER_HORIZONTAL_WIDTH,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn,"aria-label":e.ariaLabel},ni({default:z(t=>[H(e.$slots,`default`,be(Na(t)))]),_:2},[e.$slots.header?{name:`header`,fn:z(()=>[K(`div`,{class:F(e.nsSelect.be(`dropdown`,`header`)),onClick:t[12]||=Ms(()=>{},[`stop`])},[H(e.$slots,`header`)],2)]),key:`0`}:void 0,e.$slots.loading&&e.loading?{name:`loading`,fn:z(()=>[K(`div`,{class:F(e.nsSelect.be(`dropdown`,`loading`))},[H(e.$slots,`loading`)],2)]),key:`1`}:e.loading||e.filteredOptions.length===0?{name:`empty`,fn:z(()=>[K(`div`,{class:F(e.nsSelect.be(`dropdown`,`empty`))},[H(e.$slots,`empty`,{},()=>[K(`span`,null,I(e.emptyText),1)])],2)]),key:`2`}:void 0,e.$slots.footer?{name:`footer`,fn:z(()=>[K(`div`,{class:F(e.nsSelect.be(`dropdown`,`footer`)),onClick:t[13]||=Ms(()=>{},[`stop`])},[H(e.$slots,`footer`)],2)]),key:`3`}:void 0]),1032,[`id`,`data`,`width`,`hovering-index`,`scrollbar-always-on`,`aria-label`])]),_:3},8,[`visible`,`teleported`,`popper-class`,`popper-style`,`popper-options`,`fallback-placements`,`effect`,`placement`,`transition`,`persistent`,`append-to`,`show-arrow`,`offset`,`onBeforeShow`])],34)),[[u,e.handleClickOutside,e.popperRef]])}var Cj=S_(b_(vj,[[`render`,Sj],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue`]])),wj=t_({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Z([Number,Object])}}),Tj=b_(V({name:`ElSkeletonItem`,__name:`skeleton-item`,props:t_({variant:{type:String,values:[`circle`,`rect`,`h1`,`h3`,`text`,`caption`,`p`,`image`,`button`],default:`text`}}),setup(e){let t=X(`skeleton`);return(e,n)=>(U(),W(`div`,{class:F([R(t).e(`item`),R(t).e(e.variant)])},[e.variant===`image`?(U(),G(R(Tv),{key:0})):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue`]]),Ej=(e,t=0)=>{if(t===0)return e;let n=L(O(t)&&!!t.initVal),r=null,i=t=>{if(Bh(t)){n.value=e.value;return}r&&clearTimeout(r),r=setTimeout(()=>{n.value=e.value},t)},a=e=>{e===`leading`?Hh(t)?i(t):i(t.leading):O(t)?i(t.trailing):n.value=!1};return zr(()=>a(`leading`)),B(()=>e.value,e=>{a(e?`leading`:`trailing`)}),n},Dj=S_(b_(V({name:`ElSkeleton`,__name:`skeleton`,props:wj,setup(e,{expose:t}){let n=e,r=X(`skeleton`),i=Ej(fn(n,`loading`),n.throttle);return t({uiLoading:i}),(e,t)=>R(i)?(U(),W(`div`,za({key:0,class:[R(r).b(),R(r).is(`animated`,e.animated)]},e.$attrs),[(U(!0),W(va,null,ti(e.count,t=>(U(),W(va,{key:t},[R(i)?H(e.$slots,`template`,{key:t},()=>[q(Tj,{class:F(R(r).is(`first`)),variant:`p`},null,8,[`class`]),(U(!0),W(va,null,ti(e.rows,t=>(U(),G(Tj,{key:t,class:F([R(r).e(`paragraph`),R(r).is(`last`,t===e.rows&&e.rows>1)]),variant:`p`},null,8,[`class`]))),128))]):J(`v-if`,!0)],64))),128))],16)):H(e.$slots,`default`,be(za({key:1},e.$attrs)))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue`]]),{SkeletonItem:Tj}),Oj=T_(Tj),kj=Symbol(`sliderContextKey`),Aj=t_({modelValue:{type:Z([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:r_,inputSize:r_,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Z(Function),default:void 0},disabled:{type:Boolean,default:void 0},range:Boolean,vertical:Boolean,height:String,rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Z(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:ux,default:`top`},marks:{type:Z(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...dy([`ariaLabel`])}),jj=e=>Hh(e)||x(e)&&e.every(Hh),Mj={[D_]:jj,[k_]:jj,[O_]:jj},Nj=t_({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:ux,default:`top`}}),Pj={[D_]:e=>Hh(e)},Fj=(e,t,n)=>{let r=L(),i=L(!1),a=Y(()=>t.value instanceof Function);return{tooltip:r,tooltipVisible:i,formatValue:Y(()=>a.value&&t.value(e.modelValue)||e.modelValue),displayTooltip:Vm(()=>{n.value&&(i.value=!0)},50),hideTooltip:Vm(()=>{n.value&&(i.value=!1)},50)}},Ij=(e,t,n)=>{let{disabled:r,min:i,max:a,step:o,showTooltip:s,persistent:c,precision:l,sliderSize:u,formatTooltip:d,emitChange:f,resetSize:p,updateDragging:m}=qn(kj),{tooltip:h,tooltipVisible:g,formatValue:_,displayTooltip:v,hideTooltip:y}=Fj(e,d,s),b=L(),x=Y(()=>`${(e.modelValue-i.value)/(a.value-i.value)*100}%`),S=Y(()=>e.vertical?{bottom:x.value}:{left:x.value}),C=()=>{t.hovering=!0,v()},w=()=>{t.hovering=!1,t.dragging||y()},T=e=>{r.value||(e.preventDefault(),N(e),window.addEventListener(`mousemove`,ne),window.addEventListener(`touchmove`,ne),window.addEventListener(`mouseup`,re),window.addEventListener(`touchend`,re),window.addEventListener(`contextmenu`,re),b.value.focus())},E=e=>{r.value||(t.newPosition=Number.parseFloat(x.value)+e/(a.value-i.value)*100,ie(t.newPosition),f())},D=()=>{E(-o.value)},O=()=>{E(o.value)},k=()=>{E(-o.value*4)},A=()=>{E(o.value*4)},j=()=>{r.value||(ie(0),f())},M=()=>{r.value||(ie(100),f())},ee=e=>{let t=Gb(e),n=!0;switch(t){case Q.left:case Q.down:D();break;case Q.right:case Q.up:O();break;case Q.home:j();break;case Q.end:M();break;case Q.pageDown:k();break;case Q.pageUp:A();break;default:n=!1;break}n&&e.preventDefault()},te=e=>{let t,n;return e.type.startsWith(`touch`)?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},N=n=>{t.dragging=!0,t.isClick=!0;let{clientX:r,clientY:i}=te(n);e.vertical?t.startY=i:t.startX=r,t.startPosition=Number.parseFloat(x.value),t.newPosition=t.startPosition},ne=n=>{if(t.dragging){t.isClick=!1,v(),p();let r,{clientX:i,clientY:a}=te(n);e.vertical?(t.currentY=a,r=(t.startY-t.currentY)/u.value*100):(t.currentX=i,r=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+r,ie(t.newPosition)}},re=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||y(),t.isClick||ie(t.newPosition),f()},0),window.removeEventListener(`mousemove`,ne),window.removeEventListener(`touchmove`,ne),window.removeEventListener(`mouseup`,re),window.removeEventListener(`touchend`,re),window.removeEventListener(`contextmenu`,re))},ie=async r=>{if(r===null||Number.isNaN(+r))return;r=ap(r,0,100);let s=Math.floor((a.value-i.value)/o.value),c=s*o.value/(a.value-i.value)*100,u=c+(100-c)/2,d;if(r<c){let e=c/s,t=Math.round(r/e);d=i.value+t*o.value}else d=r<u?i.value+s*o.value:a.value;d=Number.parseFloat(d.toFixed(l.value)),d!==e.modelValue&&n(D_,d),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Mn(),t.dragging&&v(),h.value.updatePopper()};return B(()=>t.dragging,e=>{m(e)}),bg(b,`touchstart`,T,{passive:!1}),{disabled:r,button:b,tooltip:h,tooltipVisible:g,showTooltip:s,persistent:c,wrapperStyle:S,formatValue:_,handleMouseEnter:C,handleMouseLeave:w,onButtonDown:T,onKeyDown:ee,setPosition:ie}},Lj=[`tabindex`],Rj=b_(V({name:`ElSliderButton`,__name:`button`,props:Nj,emits:Pj,setup(e,{expose:t,emit:n}){let r=e,i=n,a=X(`slider`),o=Ut({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),s=Y(()=>d.value?f.value:!1),{disabled:c,button:l,tooltip:u,showTooltip:d,persistent:f,tooltipVisible:p,wrapperStyle:m,formatValue:h,handleMouseEnter:g,handleMouseLeave:_,onButtonDown:v,onKeyDown:y,setPosition:b}=Ij(r,o,i),{hovering:x,dragging:S}=ln(o);return t({onButtonDown:v,onKeyDown:y,setPosition:b,hovering:x,dragging:S}),(e,t)=>(U(),W(`div`,{ref_key:`button`,ref:l,class:F([R(a).e(`button-wrapper`),{hover:R(x),dragging:R(S)}]),style:he(R(m)),tabindex:R(c)?void 0:0,onMouseenter:t[0]||=(...e)=>R(g)&&R(g)(...e),onMouseleave:t[1]||=(...e)=>R(_)&&R(_)(...e),onMousedown:t[2]||=(...e)=>R(v)&&R(v)(...e),onFocus:t[3]||=(...e)=>R(g)&&R(g)(...e),onBlur:t[4]||=(...e)=>R(_)&&R(_)(...e),onKeydown:t[5]||=(...e)=>R(y)&&R(y)(...e)},[q(R(MC),{ref_key:`tooltip`,ref:u,visible:R(p),placement:e.placement,"fallback-placements":[`top`,`bottom`,`right`,`left`],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!R(d),persistent:s.value},{content:z(()=>[K(`span`,null,I(R(h)),1)]),default:z(()=>[K(`div`,{class:F([R(a).e(`button`),{hover:R(x),dragging:R(S)}])},null,2)]),_:1},8,[`visible`,`placement`,`popper-class`,`disabled`,`persistent`])],46,Lj))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue`]]),zj=V({name:`ElSliderMarker`,props:t_({mark:{type:Z([String,Object]),default:void 0}}),setup(e){let t=X(`slider`),n=Y(()=>E(e.mark)?e.mark:e.mark.label),r=Y(()=>E(e.mark)?void 0:e.mark.style);return()=>oo(`div`,{class:t.e(`marks-text`),style:r.value},n.value)}}),Bj=(e,t,n)=>{let{formItem:r}=Cy(),i=nn(),a=L(),o=L(),s={firstButton:a,secondButton:o},c=Dy(),l=Y(()=>Math.min(t.firstValue,t.secondValue)),u=Y(()=>Math.max(t.firstValue,t.secondValue)),d=Y(()=>e.range?`${100*(u.value-l.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),f=Y(()=>e.range?`${100*(l.value-e.min)/(e.max-e.min)}%`:`0%`),p=Y(()=>e.vertical?{height:e.height}:{}),m=Y(()=>e.vertical?{height:d.value,bottom:f.value}:{width:d.value,left:f.value}),h=()=>{i.value&&(t.sliderSize=i.value.getBoundingClientRect()[e.vertical?`height`:`width`])},g=n=>{let r=e.min+n*(e.max-e.min)/100;if(!e.range)return a;let i;return i=Math.abs(l.value-r)<Math.abs(u.value-r)?t.firstValue<t.secondValue?`firstButton`:`secondButton`:t.firstValue>t.secondValue?`firstButton`:`secondButton`,s[i]},_=e=>{let t=g(e);return t.value.setPosition(e),t},v=n=>{t.firstValue=n??e.min,b(e.range?[l.value,u.value]:n??e.min)},y=n=>{t.secondValue=n,e.range&&b([l.value,u.value])},b=e=>{n(D_,e),n(k_,e)},x=async()=>{await Mn(),n(O_,e.range?[l.value,u.value]:e.modelValue)},S=n=>{if(c.value||t.dragging)return;h();let r=0;if(e.vertical){let e=n.touches?.item(0)?.clientY??n.clientY;r=(i.value.getBoundingClientRect().bottom-e)/t.sliderSize*100}else r=((n.touches?.item(0)?.clientX??n.clientX)-i.value.getBoundingClientRect().left)/t.sliderSize*100;if(!(r<0||r>100))return _(r)};return{elFormItem:r,slider:i,firstButton:a,secondButton:o,sliderDisabled:c,minValue:l,maxValue:u,runwayStyle:p,barStyle:m,resetSize:h,setPosition:_,emitChange:x,onSliderWrapperPrevent:e=>{(s.firstButton.value?.dragging||s.secondButton.value?.dragging)&&e.preventDefault()},onSliderClick:e=>{S(e)&&x()},onSliderDown:async e=>{let t=S(e);t&&(await Mn(),t.value.onButtonDown(e))},onSliderMarkerDown:e=>{c.value||t.dragging||_(e)&&x()},setFirstValue:v,setSecondValue:y}},Vj=(e,t,n,r)=>({stops:Y(()=>{if(!e.showStops||e.min>e.max||e.step===0)return[];let i=Math.ceil((e.max-e.min)/e.step),a=100*e.step/(e.max-e.min),o=Array.from({length:i-1}).map((e,t)=>(t+1)*a);return e.range?o.filter(t=>t<100*(n.value-e.min)/(e.max-e.min)||t>100*(r.value-e.min)/(e.max-e.min)):o.filter(n=>n>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`}}),Hj=e=>Y(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((e,t)=>e-t).filter(t=>t<=e.max&&t>=e.min).map(t=>({point:t,position:(t-e.min)*100/(e.max-e.min),mark:e.marks[t]})):[]),Uj=(e,t,n,r,i,a)=>{let o=e=>{i(D_,e),i(k_,e)},s=()=>e.range?![n.value,r.value].every((e,n)=>e===t.oldValue[n]):e.modelValue!==t.oldValue,c=()=>{var n,r;e.min>e.max&&zg(`Slider`,`min should not be greater than max.`);let i=e.modelValue;e.range&&x(i)?i[1]<e.min?o([e.min,e.min]):i[0]>e.max?o([e.max,e.max]):i[0]<e.min?o([e.min,i[1]]):i[1]>e.max?o([i[0],e.max]):(t.firstValue=i[0],t.secondValue=i[1],s()&&(e.validateEvent&&((n=a?.validate)==null||n.call(a,`change`).catch(e=>void 0)),t.oldValue=i.slice())):!e.range&&Hh(i)&&!Number.isNaN(i)&&(i<e.min?o(e.min):i>e.max?o(e.max):(t.firstValue=i,s()&&(e.validateEvent&&((r=a?.validate)==null||r.call(a,`change`).catch(e=>void 0)),t.oldValue=i)))};c(),B(()=>t.dragging,e=>{e||c()}),B(()=>e.modelValue,(e,n)=>{t.dragging||x(e)&&x(n)&&e.every((e,t)=>e===n[t])&&t.firstValue===e[0]&&t.secondValue===e[1]||c()},{deep:!0}),B(()=>[e.min,e.max],()=>{c()})},Wj=(e,t,n)=>{let r=L();return zr(async()=>{e.range?(x(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!Hh(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),bg(window,`resize`,n),await Mn(),n()}),{sliderWrapper:r}},Gj=[`id`,`role`,`aria-label`,`aria-labelledby`],Kj={key:1},qj=S_(b_(V({name:`ElSlider`,__name:`slider`,props:Aj,emits:Mj,setup(e,{expose:t,emit:n}){let r=e,i=n,a=X(`slider`),{t:o}=Zg(),s=Ut({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:c,slider:l,firstButton:u,secondButton:d,sliderDisabled:f,minValue:p,maxValue:m,runwayStyle:h,barStyle:g,resetSize:_,emitChange:v,onSliderWrapperPrevent:y,onSliderClick:b,onSliderDown:x,onSliderMarkerDown:S,setFirstValue:C,setSecondValue:w}=Bj(r,s,i),{stops:T,getStopStyle:E}=Vj(r,s,p,m),{inputId:D,isLabeledByFormItem:O}=wy(r,{formItemContext:c}),k=Ey(),A=Y(()=>r.inputSize||k.value),j=Y(()=>r.ariaLabel||o(`el.slider.defaultLabel`,{min:r.min,max:r.max})),M=Y(()=>r.range?r.rangeStartLabel||o(`el.slider.defaultRangeStartLabel`):j.value),ee=Y(()=>r.formatValueText?r.formatValueText(ae.value):`${ae.value}`),te=Y(()=>r.rangeEndLabel||o(`el.slider.defaultRangeEndLabel`)),N=Y(()=>r.formatValueText?r.formatValueText(oe.value):`${oe.value}`),ne=Y(()=>[a.b(),a.m(k.value),a.is(`vertical`,r.vertical),{[a.m(`with-input`)]:r.showInput}]),re=Hj(r);Uj(r,s,p,m,i,c);let ie=Y(()=>{let e=[r.min,r.max,r.step].map(e=>{let t=`${e}`.split(`.`)[1];return t?t.length:0});return Math.max.apply(null,e)}),{sliderWrapper:P}=Wj(r,s,_),{firstValue:ae,secondValue:oe,sliderSize:se}=ln(s),ce=e=>{s.dragging=e};return bg(P,`touchstart`,y,{passive:!1}),bg(P,`touchmove`,y,{passive:!1}),Kn(kj,{...ln(r),sliderSize:se,disabled:f,precision:ie,emitChange:v,resetSize:_,updateDragging:ce}),t({onSliderClick:b}),(e,t)=>(U(),W(`div`,{id:e.range?R(D):void 0,ref_key:`sliderWrapper`,ref:P,class:F(ne.value),role:e.range?`group`:void 0,"aria-label":e.range&&!R(O)?j.value:void 0,"aria-labelledby":e.range&&R(O)?R(c)?.labelId:void 0},[K(`div`,{ref_key:`slider`,ref:l,class:F([R(a).e(`runway`),{"show-input":e.showInput&&!e.range},R(a).is(`disabled`,R(f))]),style:he(R(h)),onMousedown:t[0]||=(...e)=>R(x)&&R(x)(...e),onTouchstartPassive:t[1]||=(...e)=>R(x)&&R(x)(...e)},[K(`div`,{class:F(R(a).e(`bar`)),style:he(R(g))},null,6),q(Rj,{id:e.range?void 0:R(D),ref_key:`firstButton`,ref:u,"model-value":R(ae),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:`slider`,"aria-label":e.range||!R(O)?M.value:void 0,"aria-labelledby":!e.range&&R(O)?R(c)?.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?R(oe):e.max,"aria-valuenow":R(ae),"aria-valuetext":ee.value,"aria-orientation":e.vertical?`vertical`:`horizontal`,"aria-disabled":R(f),"onUpdate:modelValue":R(C)},null,8,[`id`,`model-value`,`vertical`,`tooltip-class`,`placement`,`aria-label`,`aria-labelledby`,`aria-valuemin`,`aria-valuemax`,`aria-valuenow`,`aria-valuetext`,`aria-orientation`,`aria-disabled`,`onUpdate:modelValue`]),e.range?(U(),G(Rj,{key:0,ref_key:`secondButton`,ref:d,"model-value":R(oe),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:`slider`,"aria-label":te.value,"aria-valuemin":R(ae),"aria-valuemax":e.max,"aria-valuenow":R(oe),"aria-valuetext":N.value,"aria-orientation":e.vertical?`vertical`:`horizontal`,"aria-disabled":R(f),"onUpdate:modelValue":R(w)},null,8,[`model-value`,`vertical`,`tooltip-class`,`placement`,`aria-label`,`aria-valuemin`,`aria-valuemax`,`aria-valuenow`,`aria-valuetext`,`aria-orientation`,`aria-disabled`,`onUpdate:modelValue`])):J(`v-if`,!0),e.showStops?(U(),W(`div`,Kj,[(U(!0),W(va,null,ti(R(T),(e,t)=>(U(),W(`div`,{key:t,class:F(R(a).e(`stop`)),style:he(R(E)(e))},null,6))),128))])):J(`v-if`,!0),R(re).length>0?(U(),W(va,{key:2},[K(`div`,null,[(U(!0),W(va,null,ti(R(re),(e,t)=>(U(),W(`div`,{key:t,style:he(R(E)(e.position)),class:F([R(a).e(`stop`),R(a).e(`marks-stop`)])},null,6))),128))]),K(`div`,{class:F(R(a).e(`marks`))},[(U(!0),W(va,null,ti(R(re),(e,t)=>(U(),G(R(zj),{key:t,mark:e.mark,style:he(R(E)(e.position)),onMousedown:Ms(t=>R(S)(e.position),[`stop`])},null,8,[`mark`,`style`,`onMousedown`]))),128))],2)],64)):J(`v-if`,!0)],38),e.showInput&&!e.range?(U(),G(R(lk),{key:0,ref:`input`,"model-value":R(ae),class:F(R(a).e(`input`)),step:e.step,disabled:R(f),controls:e.showInputControls,min:e.min,max:e.max,precision:ie.value,size:A.value,"onUpdate:modelValue":R(C),onChange:R(v)},null,8,[`model-value`,`class`,`step`,`disabled`,`controls`,`min`,`max`,`precision`,`size`,`onUpdate:modelValue`,`onChange`])):J(`v-if`,!0)],10,Gj))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue`]])),Jj=V({name:`ElSpaceItem`,props:t_({prefixCls:{type:String}}),setup(e,{slots:t}){let n=X(`space`),r=Y(()=>`${e.prefixCls||n.b()}__item`);return()=>oo(`div`,{class:r.value},H(t,`default`))}}),Yj={small:8,default:12,large:16};function Xj(e){let t=X(`space`),n=Y(()=>[t.b(),t.m(e.direction),e.class]),r=L(0),i=L(0),a=Y(()=>[e.wrap||e.fill?{flexWrap:`wrap`}:{},{alignItems:e.alignment},{rowGap:`${i.value}px`,columnGap:`${r.value}px`},e.style]),o=Y(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Xn(()=>{let{size:t=`small`,wrap:n,direction:a,fill:o}=e;if(x(t)){let[e=0,n=0]=t;r.value=e,i.value=n}else{let e;e=Hh(t)?t:Yj[t||`small`]||Yj.small,(n||o)&&a===`horizontal`?r.value=i.value=e:a===`horizontal`?(r.value=e,i.value=0):(i.value=e,r.value=0)}}),{classes:n,containerStyle:a,itemStyle:o}}var Zj=S_(V({name:`ElSpace`,props:t_({direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},class:{type:Z([String,Object,Array]),default:``},style:{type:Z([String,Array,Object]),default:``},alignment:{type:Z(String),default:`center`},prefixCls:{type:String},spacer:{type:Z([Object,String,Number,Array]),default:null,validator:e=>Oa(e)||Hh(e)||E(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:n_,validator:e=>Hh(e)||x(e)&&e.length===2&&e.every(Hh)}}),setup(e,{slots:t}){let{classes:n,containerStyle:r,itemStyle:i}=Xj(e);function a(t,n=``,r=[]){let{prefixCls:o}=e;return t.forEach((e,t)=>{Yv(e)?x(e.children)&&e.children.forEach((e,t)=>{Yv(e)&&x(e.children)?a(e.children,`${n+t}-`,r):Oa(e)&&e?.type===ba?r.push(e):r.push(q(Jj,{style:i.value,prefixCls:o,key:`nested-${n+t}`},{default:()=>[e]},Jv.PROPS|Jv.STYLE,[`style`,`prefixCls`]))}):Zv(e)&&r.push(q(Jj,{style:i.value,prefixCls:o,key:`LoopKey${n+t}`},{default:()=>[e]},Jv.PROPS|Jv.STYLE,[`style`,`prefixCls`]))}),r}return()=>{let{spacer:o,direction:s}=e,c=H(t,`default`,{key:0},()=>[]);if((c.children??[]).length===0)return null;if(x(c.children)){let e=a(c.children);if(o){let t=e.length-1;e=e.reduce((e,n,r)=>{let a=[...e,n];return r!==t&&a.push(q(`span`,{style:[i.value,s===`vertical`?`width: 100%`:null],key:r},[Oa(o)?o:Fa(o,Jv.TEXT)],Jv.STYLE)),a},[])}return q(`div`,{class:n.value,style:r.value},e,Jv.STYLE|Jv.CLASS)}return c.children}}})),Qj=S_(b_(V({name:`ElStatistic`,__name:`statistic`,props:t_({decimalSeparator:{type:String,default:`.`},groupSeparator:{type:String,default:`,`},precision:{type:Number,default:0},formatter:Function,value:{type:Z([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Z([String,Object,Array])}}),setup(e,{expose:t}){let n=e,r=X(`statistic`),i=Y(()=>{let{value:e,formatter:t,precision:r,decimalSeparator:i,groupSeparator:a}=n;if(T(t))return t(e);if(!Hh(e)||Number.isNaN(e))return e;let[o,s=``]=String(e).split(`.`);return s=s.padEnd(r,`0`).slice(0,r>0?r:0),o=o.replace(/\B(?=(\d{3})+(?!\d))/g,a),[o,s].join(s?i:``)});return t({displayValue:i}),(e,t)=>(U(),W(`div`,{class:F(R(r).b())},[e.$slots.title||e.title?(U(),W(`div`,{key:0,class:F(R(r).e(`head`))},[H(e.$slots,`title`,{},()=>[Fa(I(e.title),1)])],2)):J(`v-if`,!0),K(`div`,{class:F(R(r).e(`content`))},[e.$slots.prefix||e.prefix?(U(),W(`div`,{key:0,class:F(R(r).e(`prefix`))},[H(e.$slots,`prefix`,{},()=>[K(`span`,null,I(e.prefix),1)])],2)):J(`v-if`,!0),K(`span`,{class:F(R(r).e(`number`)),style:he(e.valueStyle)},I(i.value),7),e.$slots.suffix||e.suffix?(U(),W(`div`,{key:1,class:F(R(r).e(`suffix`))},[H(e.$slots,`suffix`,{},()=>[K(`span`,null,I(e.suffix),1)])],2)):J(`v-if`,!0)],2)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue`]])),$j=t_({format:{type:String,default:`HH:mm:ss`},prefix:String,suffix:String,title:String,value:{type:Z([Number,Object]),default:0},valueStyle:{type:Z([String,Object,Array])}}),eM={finish:()=>!0,[O_]:e=>Hh(e)},tM=[[`Y`,1e3*60*60*24*365],[`M`,1e3*60*60*24*30],[`D`,1e3*60*60*24],[`H`,1e3*60*60],[`m`,1e3*60],[`s`,1e3],[`S`,1]],nM=e=>Hh(e)?new Date(e).getTime():e.valueOf(),rM=(e,t)=>{let n=e;return tM.reduce((e,[t,r])=>{let i=RegExp(`${t}+(?![^\\[\\]]*\\])`,`g`);if(i.test(e)){let t=Math.floor(n/r);return n-=t*r,e.replace(i,e=>String(t).padStart(e.length,`0`))}return e},t).replace(/\[([^\]]*)]/g,`$1`)},iM=S_(b_(V({name:`ElCountdown`,__name:`countdown`,props:$j,emits:eM,setup(e,{expose:t,emit:n}){let r=e,i=n,a,o=L(0),s=Y(()=>rM(o.value,r.format)),c=e=>rM(e,r.format),l=()=>{a&&=(P_(a),void 0)},u=()=>{let e=nM(r.value),t=()=>{let n=e-Date.now();i(O_,n),n<=0?(n=0,l(),i(`finish`)):a=N_(t),o.value=n};a=N_(t)};return zr(()=>{o.value=nM(r.value)-Date.now(),B(()=>[r.value,r.format],()=>{l(),u()},{immediate:!0})}),Hr(()=>{l()}),t({displayValue:s}),(e,t)=>(U(),G(R(Qj),{value:o.value,title:e.title,prefix:e.prefix,suffix:e.suffix,"value-style":e.valueStyle,formatter:c},ni({_:2},[ti(e.$slots,(t,n)=>({name:n,fn:z(()=>[H(e.$slots,n)])}))]),1032,[`value`,`title`,`prefix`,`suffix`,`value-style`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue`]])),aM=t_({space:{type:[Number,String],default:``},active:{type:Number,default:0},direction:{type:String,default:`horizontal`,values:[`horizontal`,`vertical`]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:[`wait`,`process`,`finish`,`error`,`success`],default:`finish`},processStatus:{type:String,values:[`wait`,`process`,`finish`,`error`,`success`],default:`process`}}),oM={[O_]:(e,t)=>[e,t].every(Hh)},sM=`ElSteps`,cM=b_(V({name:`ElSteps`,__name:`steps`,props:aM,emits:oM,setup(e,{emit:t}){let n=e,r=t,i=X(`steps`),{children:a,addChild:o,removeChild:s,ChildrenSorter:c}=YT(Ga(),`ElStep`);return B(a,()=>{a.value.forEach((e,t)=>{e.setIndex(t)})}),Kn(sM,{props:n,steps:a,addStep:o,removeStep:s}),B(()=>n.active,(e,t)=>{r(O_,e,t)}),(e,t)=>(U(),W(`div`,{class:F([R(i).b(),R(i).m(e.simple?`simple`:e.direction)])},[H(e.$slots,`default`),q(R(c))],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue`]]),lM=b_(V({name:`ElStep`,__name:`item`,props:t_({title:{type:String,default:``},icon:{type:Vv},description:{type:String,default:``},status:{type:String,values:[``,`wait`,`process`,`finish`,`error`,`success`],default:``}}),setup(e){let t=e,n=X(`step`),r=L(-1),i=L({}),a=L(``),o=qn(sM),s=Ga(),c=0,l=0;zr(()=>{B([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([e],[t])=>{l=t||0,c=e-l,S(e)},{immediate:!0})});let u=Y(()=>t.status||a.value),d=Y(()=>{let e=o.steps.value[r.value-1];return e?e.internalStatus.value:`wait`}),f=Y(()=>o.props.alignCenter),p=Y(()=>o.props.direction===`vertical`),m=Y(()=>o.props.simple),h=Y(()=>o.steps.value.length),g=Y(()=>o.steps.value[h.value-1]?.uid===s.uid),_=Y(()=>m.value?``:o.props.space),v=Y(()=>[n.b(),n.is(m.value?`simple`:o.props.direction),n.is(`flex`,g.value&&!_.value&&!f.value),n.is(`center`,f.value&&!p.value&&!m.value)]),y=Y(()=>{let e={flexBasis:Hh(_.value)?`${_.value}px`:_.value?_.value:`${100/(h.value-(f.value?0:1))}%`};return p.value||g.value&&(e.maxWidth=`${100/h.value}%`),e}),b=e=>{r.value=e},x=e=>{let t=e===`wait`,n={transitionDelay:`${Math.abs(c)===1?0:c>0?(r.value+1-l)*150:-(r.value+1-o.props.active)*150}ms`},a=e===o.props.processStatus||t?0:100;n.borderWidth=a&&!m.value?`1px`:0,n[o.props.direction===`vertical`?`height`:`width`]=`${a}%`,i.value=n},S=e=>{e>r.value?a.value=o.props.finishStatus:e===r.value&&d.value!==`error`?a.value=o.props.processStatus:a.value=`wait`;let t=o.steps.value[r.value-1];t&&t.calcProgress(a.value)},C={uid:s.uid,getVnode:()=>s.vnode,currentStatus:u,internalStatus:a,setIndex:b,calcProgress:x};return o.addStep(C),Hr(()=>{o.removeStep(C)}),(e,t)=>(U(),W(`div`,{style:he(y.value),class:F(v.value)},[J(` icon & line `),K(`div`,{class:F([R(n).e(`head`),R(n).is(u.value)])},[m.value?J(`v-if`,!0):(U(),W(`div`,{key:0,class:F(R(n).e(`line`))},[K(`i`,{class:F(R(n).e(`line-inner`)),style:he(i.value)},null,6)],2)),K(`div`,{class:F([R(n).e(`icon`),R(n).is(e.icon||e.$slots.icon?`icon`:`text`)])},[H(e.$slots,`icon`,{},()=>[e.icon?(U(),G(R(Q_),{key:0,class:F(R(n).e(`icon-inner`))},{default:z(()=>[(U(),G(Zr(e.icon)))]),_:1},8,[`class`])):u.value===`success`?(U(),G(R(Q_),{key:1,class:F([R(n).e(`icon-inner`),R(n).is(`status`)])},{default:z(()=>[q(R(sv))]),_:1},8,[`class`])):u.value===`error`?(U(),G(R(Q_),{key:2,class:F([R(n).e(`icon-inner`),R(n).is(`status`)])},{default:z(()=>[q(R(pv))]),_:1},8,[`class`])):m.value?J(`v-if`,!0):(U(),W(`div`,{key:3,class:F(R(n).e(`icon-inner`))},I(r.value+1),3))])],2)],2),J(` title & description `),K(`div`,{class:F(R(n).e(`main`))},[K(`div`,{class:F([R(n).e(`title`),R(n).is(u.value)])},[H(e.$slots,`title`,{},()=>[Fa(I(e.title),1)])],2),m.value?(U(),W(`div`,{key:0,class:F(R(n).e(`arrow`))},null,2)):(U(),W(`div`,{key:1,class:F([R(n).e(`description`),R(n).is(u.value)])},[H(e.$slots,`description`,{},()=>[Fa(I(e.description),1)])],2))],2)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue`]]),uM=S_(cM,{Step:lM}),dM=T_(lM),fM=e=>[``,...n_].includes(e),pM=t_({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:fM},width:{type:[String,Number],default:``},inlinePrompt:Boolean,inactiveActionIcon:{type:Vv},activeActionIcon:{type:Vv},activeIcon:{type:Vv},inactiveIcon:{type:Vv},activeText:{type:String,default:``},inactiveText:{type:String,default:``},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:``},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Z(Function)},id:String,tabindex:{type:[String,Number]},...dy([`ariaLabel`])}),mM={[D_]:e=>Vh(e)||E(e)||Hh(e),[O_]:e=>Vh(e)||E(e)||Hh(e),[k_]:e=>Vh(e)||E(e)||Hh(e)},hM=[`id`,`aria-checked`,`aria-disabled`,`aria-label`,`name`,`true-value`,`false-value`,`disabled`,`tabindex`],gM=[`aria-hidden`],_M={key:1},vM={key:1},yM=[`aria-hidden`],bM=`ElSwitch`,xM=S_(b_(V({name:bM,__name:`switch`,props:pM,emits:mM,setup(e,{expose:t,emit:n}){let r=e,i=n,{formItem:a}=Cy(),o=Ey(),s=X(`switch`),{inputId:c}=wy(r,{formItemContext:a}),l=Dy(Y(()=>{if(r.loading)return!0})),u=L(r.modelValue!==!1),d=nn(),f=Y(()=>[s.b(),s.m(o.value),s.is(`disabled`,l.value),s.is(`checked`,_.value)]),p=Y(()=>[s.e(`label`),s.em(`label`,`left`),s.is(`active`,!_.value)]),m=Y(()=>[s.e(`label`),s.em(`label`,`right`),s.is(`active`,_.value)]),h=Y(()=>({width:V_(r.width)}));B(()=>r.modelValue,()=>{u.value=!0});let g=Y(()=>u.value?r.modelValue:!1),_=Y(()=>g.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(g.value)||(i(D_,r.inactiveValue),i(O_,r.inactiveValue),i(k_,r.inactiveValue)),B(_,e=>{var t;d.value.checked=e,r.validateEvent&&((t=a?.validate)==null||t.call(a,`change`).catch(e=>void 0))});let v=()=>{let e=_.value?r.inactiveValue:r.activeValue;i(D_,e),i(O_,e),i(k_,e),Mn(()=>{d.value.checked=_.value})},y=()=>{if(l.value)return;let{beforeChange:e}=r;if(!e){v();return}let t=e();[k(t),Vh(t)].includes(!0)||zg(bM,"beforeChange must return type `Promise<boolean>` or `boolean`"),k(t)?t.then(e=>{e&&v()}).catch(e=>{`${e}`}):t&&v()};return zr(()=>{d.value.checked=_.value}),t({focus:()=>{var e,t;(t=(e=d.value)?.focus)==null||t.call(e)},checked:_}),(e,t)=>(U(),W(`div`,{class:F(f.value),onClick:Ms(y,[`prevent`])},[K(`input`,{id:R(c),ref_key:`input`,ref:d,class:F(R(s).e(`input`)),type:`checkbox`,role:`switch`,"aria-checked":_.value,"aria-disabled":R(l),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:R(l),tabindex:e.tabindex,onChange:v,onKeydown:Ps(y,[`enter`])},null,42,hM),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText||e.$slots.inactive)?(U(),W(`span`,{key:0,class:F(p.value)},[H(e.$slots,`inactive`,{},()=>[e.inactiveIcon?(U(),G(R(Q_),{key:0},{default:z(()=>[(U(),G(Zr(e.inactiveIcon)))]),_:1})):J(`v-if`,!0),!e.inactiveIcon&&e.inactiveText?(U(),W(`span`,{key:1,"aria-hidden":_.value},I(e.inactiveText),9,gM)):J(`v-if`,!0)])],2)):J(`v-if`,!0),K(`span`,{class:F(R(s).e(`core`)),style:he(h.value)},[e.inlinePrompt?(U(),W(`div`,{key:0,class:F(R(s).e(`inner`))},[_.value?(U(),W(`div`,{key:1,class:F(R(s).e(`inner-wrapper`))},[H(e.$slots,`active`,{},()=>[e.activeIcon?(U(),G(R(Q_),{key:0},{default:z(()=>[(U(),G(Zr(e.activeIcon)))]),_:1})):J(`v-if`,!0),!e.activeIcon&&e.activeText?(U(),W(`span`,vM,I(e.activeText),1)):J(`v-if`,!0)])],2)):(U(),W(`div`,{key:0,class:F(R(s).e(`inner-wrapper`))},[H(e.$slots,`inactive`,{},()=>[e.inactiveIcon?(U(),G(R(Q_),{key:0},{default:z(()=>[(U(),G(Zr(e.inactiveIcon)))]),_:1})):J(`v-if`,!0),!e.inactiveIcon&&e.inactiveText?(U(),W(`span`,_M,I(e.inactiveText),1)):J(`v-if`,!0)])],2))],2)):J(`v-if`,!0),K(`div`,{class:F(R(s).e(`action`))},[e.loading?(U(),G(R(Q_),{key:0,class:F(R(s).is(`loading`))},{default:z(()=>[q(R(xv))]),_:1},8,[`class`])):_.value?H(e.$slots,`active-action`,{key:1},()=>[e.activeActionIcon?(U(),G(R(Q_),{key:0},{default:z(()=>[(U(),G(Zr(e.activeActionIcon)))]),_:1})):J(`v-if`,!0)]):_.value?J(`v-if`,!0):H(e.$slots,`inactive-action`,{key:2},()=>[e.inactiveActionIcon?(U(),G(R(Q_),{key:0},{default:z(()=>[(U(),G(Zr(e.inactiveActionIcon)))]),_:1})):J(`v-if`,!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText||e.$slots.active)?(U(),W(`span`,{key:1,class:F(m.value)},[H(e.$slots,`active`,{},()=>[e.activeIcon?(U(),G(R(Q_),{key:0},{default:z(()=>[(U(),G(Zr(e.activeIcon)))]),_:1})):J(`v-if`,!0),!e.activeIcon&&e.activeText?(U(),W(`span`,{key:1,"aria-hidden":!_.value},I(e.activeText),9,yM)):J(`v-if`,!0)])],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue`]])),SM=function(e){return e.target?.closest(`td`)},CM=function(e,t,n,r,i){if(!t&&!r&&(!i||x(i)&&!i.length))return e;n=E(n)?n===`descending`?-1:1:n&&n<0?-1:1;let a=r?null:function(n,r){return i?qm(tp(i),t=>E(t)?jf(n,t):t(n,r,e)):(t!==`$key`&&O(n)&&`$value`in n&&(n=n.$value),[O(n)?t?jf(n,t):null:n])},o=function(e,t){if(r)return r(e.value,t.value);for(let n=0,r=e.key?.length??0;n<r;n++){if(e.key?.[n]<t.key?.[n])return-1;if(e.key?.[n]>t.key?.[n])return 1}return 0};return e.map((e,t)=>({value:e,index:t,key:a?a(e,t):null})).sort((e,t)=>{let r=o(e,t);return r||=e.index-t.index,r*+n}).map(e=>e.value)},wM=function(e,t){let n=null;return e.columns.forEach(e=>{e.id===t&&(n=e)}),n},TM=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){let i=e.columns[r];if(i.columnKey===t){n=i;break}}return n||zg(`ElTable`,`No column matching with column-key: ${t}`),n},EM=function(e,t,n){let r=(t.className||``).match(RegExp(`${n}-table_[^\\s]+`,`gm`));return r?wM(e,r[0]):null},DM=(e,t)=>{if(!e)throw Error(`Row is required when get row identity`);if(E(t)){if(!t.includes(`.`))return`${e[t]}`;let n=t.split(`.`),r=e;for(let e of n)r=r[e];return`${r}`}else if(T(t))return t.call(null,e);return``},OM=function(e,t,n=!1,r=`children`){let i=e||[],a={};return i.forEach((e,i)=>{if(a[DM(e,t)]={row:e,index:i},n){let n=e[r];x(n)&&Object.assign(a,OM(n,t,!0,r))}}),a};function kM(e,t){let n={},r;for(r in e)n[r]=e[r];for(r in t)if(b(t,r)){let e=t[r];Bh(e)||(n[r]=e)}return n}function AM(e){return e===``||Bh(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e=``)),e}function jM(e){return e===``||Bh(e)||(e=AM(e),Number.isNaN(e)&&(e=80)),e}function MM(e){return Hh(e)?e:E(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function NM(...e){return e.length===0?e=>e:e.length===1?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function PM(e,t,n,r,i,a,o){let s=a??0,c=!1,l=(()=>{if(!o)return e.indexOf(t);let n=DM(t,o);return e.findIndex(e=>DM(e,o)===n)})(),u=l!==-1,d=i?.call(null,t,s),f=n=>{n===`add`?e.push(t):e.splice(l,1),c=!0},p=e=>{let t=0,n=r?.children&&e[r.children];return n&&x(n)&&(t+=n.length,n.forEach(e=>{t+=p(e)})),t};return(!i||d)&&(Vh(n)?n&&!u?f(`add`):!n&&u&&f(`remove`):f(u?`remove`:`add`)),!r?.checkStrictly&&r?.children&&x(t[r.children])&&t[r.children].forEach(t=>{let a=PM(e,t,n??!u,r,i,s+1,o);s+=p(t)+1,a&&(c=a)}),c}function FM(e,t,n=`children`,r=`hasChildren`,i=!1){let a=e=>!(x(e)&&e.length);function o(e,s,c){t(e,s,c),s.forEach(e=>{if(e[r]&&i){t(e,null,c+1);return}let s=e[n];a(s)||o(e,s,c+1)})}e.forEach(e=>{if(e[r]&&i){t(e,null,0);return}let s=e[n];a(s)||o(e,s,0)})}var IM=(e,t,n,r)=>{let i={strategy:`fixed`,...e.popperOptions},a=T(r?.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:f_(n,r.property).value}):void 0;return Oa(a)?{slotContent:a,content:null,...e,popperOptions:i}:{slotContent:null,content:a??t,...e,popperOptions:i}},LM=null;function RM(e,t,n,r,i,a){let o=IM(e,t,n,r),s={...o,slotContent:void 0};if(LM?.trigger===i){let e=LM.vm?.component;ph(e?.props,s),e&&o.slotContent&&(e.slots.content=()=>[o.slotContent]);return}LM?.();let c=a?.refs.tableWrapper,l=c?.dataset.prefix,u=q(MC,{virtualTriggering:!0,virtualRef:i,appendTo:c,placement:`top`,transition:`none`,offset:0,hideAfter:0,...s},o.slotContent?{content:()=>o.slotContent}:void 0);u.appContext={...a.appContext,...a};let d=document.createElement(`div`);Rs(u,d),u.component.exposed.onOpen();let f=c?.querySelector(`.${l}-scrollbar__wrap`);LM=()=>{u.component?.exposed?.onClose&&u.component.exposed.onClose(),Rs(null,d);let e=LM;f?.removeEventListener(`scroll`,e),e.trigger=void 0,e.vm=void 0,LM=null},LM.trigger=i??void 0,LM.vm=u,f?.addEventListener(`scroll`,LM)}function zM(e){return e.children?qm(e.children,zM):[e]}function BM(e,t){return e+t.colSpan}var VM=(e,t,n,r)=>{let i=0,a=e,o=n.states.columns.value;if(r){let t=zM(r[e]);i=o.slice(0,o.indexOf(t[0])).reduce(BM,0),a=i+t.reduce(BM,0)-1}else i=e;let s;switch(t){case`left`:a<n.states.fixedLeafColumnsLength.value&&(s=`left`);break;case`right`:i>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s=`right`);break;default:a<n.states.fixedLeafColumnsLength.value?s=`left`:i>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s=`right`)}return s?{direction:s,start:i,after:a}:{}},HM=(e,t,n,r,i,a=0)=>{let o=[],{direction:s,start:c,after:l}=VM(t,n,r,i);if(s){let t=s===`left`;o.push(`${e}-fixed-column--${s}`),t&&l+a===r.states.fixedLeafColumnsLength.value-1?o.push(`is-last-column`):!t&&c-a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&o.push(`is-first-column`)}return o};function UM(e,t){return e+(uh(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}var WM=(e,t,n,r)=>{let{direction:i,start:a=0,after:o=0}=VM(e,t,n,r);if(!i)return;let s={},c=i===`left`,l=n.states.columns.value;return c?s.left=l.slice(0,a).reduce(UM,0):s.right=l.slice(o+1).reverse().reduce(UM,0),s},GM=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function KM(e){return e.some(e=>Oa(e)?!(e.type===ba||e.type===va&&!KM(e.children)):!0)?e:null}function qM(e){let t=Ga(),n=L(!1),r=L([]);return{updateExpandRows:()=>{let t=e.data.value||[],i=e.rowKey.value;if(n.value)r.value=t.slice();else if(i){let e=OM(r.value,i);r.value=t.reduce((t,n)=>(e[DM(n,i)]&&t.push(n),t),[])}else r.value=[]},toggleRowExpansion:(n,i)=>{PM(r.value,n,i,void 0,void 0,void 0,e.rowKey.value)&&t.emit(`expand-change`,n,r.value.slice())},setExpandRowKeys:n=>{t.store.assertRowKey();let i=e.data.value||[],a=e.rowKey.value,o=OM(i,a);r.value=n.reduce((e,t)=>{let n=o[t];return n&&e.push(n.row),e},[])},isRowExpanded:t=>{let n=e.rowKey.value;return n?!!OM(r.value,n)[DM(t,n)]:r.value.includes(t)},states:{expandRows:r,defaultExpandAll:n}}}function JM(e){let t=Ga(),n=L(null),r=L(null),i=e=>{t.store.assertRowKey(),n.value=e,o(e)},a=()=>{n.value=null},o=n=>{let{data:i,rowKey:a}=e,o=r.value,s=null;a.value&&(s=(R(i)||[]).find(e=>DM(e,a.value)===n)??null),r.value=s??null,t.emit(`current-change`,r.value,o)};return{setCurrentRowKey:i,restoreCurrentRowKey:a,setCurrentRowByKey:o,updateCurrentRow:e=>{let n=r.value;if(e&&e!==n){r.value=e,t.emit(`current-change`,r.value,n);return}!e&&n&&(r.value=null,t.emit(`current-change`,null,n))},updateCurrentRowData:()=>{let i=e.rowKey.value,s=e.data.value||[],c=r.value;c&&!s.includes(c)?i?o(DM(c,i)):(r.value=null,t.emit(`current-change`,null,c)):n.value&&(o(n.value),a())},states:{_currentRowKey:n,currentRow:r}}}function YM(e){let t=L([]),n=L({}),r=L(16),i=L(!1),a=L({}),o=L(`hasChildren`),s=L(`children`),c=L(!1),l=Ga(),u=Y(()=>e.rowKey.value?f(e.data.value||[]):{}),d=Y(()=>{let t=e.rowKey.value,n=Object.keys(a.value),r={};return n.length&&n.forEach(e=>{if(a.value[e].length){let n={children:[]};a.value[e].forEach(e=>{let i=DM(e,t);n.children.push(i),e[o.value]&&!r[i]&&(r[i]={children:[]})}),r[e]=n}}),r}),f=t=>{let n=e.rowKey.value,r={};return FM(t,(e,t,a)=>{let o=DM(e,n);x(t)?r[o]={children:t.map(e=>DM(e,n)),level:a}:i.value&&(r[o]={children:[],lazy:!0,level:a})},s.value,o.value,i.value),r},p=(e=!1,r)=>{var a;r||=l.store?.states.defaultExpandAll.value;let o=u.value,s=d.value,c=Object.keys(o),f={};if(c.length){let a=R(n),l=[],u=(n,i)=>{if(e)return t.value?r||t.value.includes(i):!!(r||n?.expanded);{let e=r||t.value&&t.value.includes(i);return!!(n?.expanded||e)}};c.forEach(e=>{let t=a[e],n={...o[e]};if(n.expanded=u(t,e),n.lazy){let{loaded:r=!1,loading:i=!1}=t||{};n.loaded=!!r,n.loading=!!i,l.push(e)}f[e]=n});let d=Object.keys(s);i.value&&d.length&&l.length&&d.forEach(e=>{let t=a[e],n=s[e].children;if(l.includes(e)){if(f[e].children?.length!==0)throw Error(`[ElTable]children must be an empty array.`);f[e].children=n}else{let{loaded:r=!1,loading:i=!1}=t||{};f[e]={lazy:!0,loaded:!!r,loading:!!i,expanded:u(t,e),children:n,level:void 0}}})}n.value=f,(a=l.store)==null||a.updateTableScrollY()};B(()=>t.value,()=>{p(!0)}),B(()=>u.value,()=>{p()}),B(()=>d.value,()=>{p()});let m=e=>{t.value=e,p()},h=e=>i.value&&e&&`loaded`in e&&!e.loaded,g=(t,r)=>{l.store.assertRowKey();let i=e.rowKey.value,a=DM(t,i),o=a&&n.value[a];if(a&&o&&`expanded`in o){let e=o.expanded;r=Bh(r)?!o.expanded:r,n.value[a].expanded=r,e!==r&&l.emit(`expand-change`,t,r),r&&h(o)&&v(t,a,o),l.store.updateTableScrollY()}},_=t=>{l.store.assertRowKey();let r=e.rowKey.value,i=DM(t,r),a=n.value[i];h(a)?v(t,i,a):g(t,void 0)},v=(e,t,r)=>{let{load:i}=l.props;i&&!n.value[t].loaded&&(n.value[t].loading=!0,i(e,r,r=>{if(!x(r))throw TypeError(`[ElTable] data must be an array`);n.value[t].loading=!1,n.value[t].loaded=!0,n.value[t].expanded=!0,r.length&&(a.value[t]=r),l.emit(`expand-change`,e,!0)}))};return{loadData:v,loadOrToggle:_,toggleTreeExpansion:g,updateTreeExpandKeys:m,updateTreeData:p,updateKeyChildren:(e,t)=>{let{lazy:n,rowKey:r}=l.props;if(n){if(!r)throw Error(`[Table] rowKey is required in updateKeyChild`);a.value[e]&&(a.value[e]=t)}},normalize:f,states:{expandRowKeys:t,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:a,lazyColumnIdentifier:o,childrenColumnName:s,checkStrictly:c}}}var XM=(e,t)=>{let n=t.sortingColumn;return!n||E(n.sortable)?e:CM(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},ZM=e=>{let t=[];return e.forEach(e=>{e.children&&e.children.length>0?t.push.apply(t,ZM(e.children)):t.push(e)}),t};function QM(){let e=Ga(),{size:t}=ln(e.proxy?.$props),n=L(null),r=L([]),i=L([]),a=L(!1),o=L([]),s=L([]),c=L([]),l=L([]),u=L([]),d=L([]),f=L([]),p=L([]),m=[],h=L(0),g=L(0),_=L(0),v=L(!1),y=L([]),S=L(!1),C=L(!1),w=L(null),T=L({}),D=L(null),O=L(null),k=L(null),A=L(null),j=L(null),M=Y(()=>n.value?OM(y.value,n.value):void 0);B(r,()=>{var t;e.state&&(ne(!1),e.props.tableLayout===`auto`&&((t=e.refs.tableHeaderRef)==null||t.updateFixedColumnStyle()))},{deep:!0});let ee=()=>{if(!n.value)throw Error(`[ElTable] prop row-key is required`)},te=e=>{var t;(t=e.children)==null||t.forEach(t=>{t.fixed=e.fixed,te(t)})},N=()=>{o.value.forEach(e=>{te(e)}),l.value=o.value.filter(e=>[!0,`left`].includes(e.fixed));let e=o.value.find(e=>e.type===`selection`),t;e&&e.fixed!==`right`&&!l.value.includes(e)&&o.value.indexOf(e)===0&&l.value.length&&(l.value.unshift(e),t=!0),u.value=o.value.filter(e=>e.fixed===`right`);let n=o.value.filter(e=>(t?e.type!==`selection`:!0)&&!e.fixed);s.value=Array.from(l.value).concat(n).concat(u.value);let r=ZM(n),i=ZM(l.value),d=ZM(u.value);h.value=r.length,g.value=i.length,_.value=d.length,c.value=Array.from(i).concat(r).concat(d),a.value=l.value.length>0||u.value.length>0},ne=(t,n=!1)=>{t&&N(),n?e.state.doLayout():e.state.debouncedUpdateLayout()},re=e=>M.value?!!M.value[DM(e,n.value)]:y.value.includes(e),ie=()=>{v.value=!1;let t=y.value;y.value=[],t.length&&e.emit(`selection-change`,[])},P=()=>{let t;if(n.value){t=[];let i=(e?.store?.states)?.childrenColumnName.value,a=OM(r.value,n.value,!0,i);for(let e in M.value)b(M.value,e)&&!a[e]&&t.push(M.value[e].row)}else t=y.value.filter(e=>!r.value.includes(e));if(t.length){let n=y.value.filter(e=>!t.includes(e));y.value=n,e.emit(`selection-change`,n.slice())}},ae=()=>(y.value||[]).slice(),oe=(t,i,a=!0,o=!1)=>{let s={children:(e?.store?.states)?.childrenColumnName.value,checkStrictly:(e?.store?.states)?.checkStrictly.value};if(PM(y.value,t,i,s,o?void 0:w.value,r.value.indexOf(t),n.value)){let n=(y.value||[]).slice();a&&e.emit(`select`,n,t),e.emit(`selection-change`,n)}},se=()=>{let t=C.value?!v.value:!(v.value||y.value.length);v.value=t;let n=!1,i=0,a=(e?.store?.states)?.rowKey.value,{childrenColumnName:o}=e.store.states,s={children:o.value,checkStrictly:!1};r.value.forEach((e,r)=>{let o=r+i;PM(y.value,e,t,s,w.value,o,a)&&(n=!0),i+=le(DM(e,a))}),n&&e.emit(`selection-change`,y.value?y.value.slice():[]),e.emit(`select-all`,(y.value||[]).slice())},ce=()=>{if(r.value?.length===0){v.value=!1;return}let{childrenColumnName:t}=e.store.states,n=0,i=0,a=e=>{for(let r of e){let e=w.value&&w.value.call(null,r,n);if(re(r))i++;else if(!w.value||e)return!1;if(n++,r[t.value]?.length&&!a(r[t.value]))return!1}return!0},o=a(r.value||[]);v.value=i===0?!1:o},le=t=>{if(!e||!e.store)return 0;let{treeData:n}=e.store.states,r=0,i=n.value[t]?.children;return i&&(r+=i.length,i.forEach(e=>{r+=le(e)})),r},ue=(e,t)=>{let n={};return tp(e).forEach(e=>{T.value[e.id]=t,n[e.columnKey||e.id]=t}),n},de=(e,t,n)=>{O.value&&O.value!==e&&(O.value.order=null),O.value=e,k.value=t,A.value=n},fe=()=>{let e=R(i);Object.keys(T.value).forEach(t=>{let n=T.value[t];if(!n||n.length===0)return;let r=wM({columns:c.value},t);r&&r.filterMethod&&(e=e.filter(e=>n.some(t=>r.filterMethod.call(null,t,e,r))))}),D.value=e},pe=()=>{r.value=XM(D.value??[],{sortingColumn:O.value,sortProp:k.value,sortOrder:A.value})},me=(e=void 0)=>{e?.filter||fe(),pe()},he=t=>{let{tableHeaderRef:n}=e.refs;if(!n)return;let r=Object.assign({},n.filterPanels),i=Object.keys(r);if(i.length)if(E(t)&&(t=[t]),x(t)){let n=t.map(e=>TM({columns:c.value},e));i.forEach(e=>{let t=n.find(t=>t.id===e);t&&(t.filteredValue=[])}),e.store.commit(`filterChange`,{column:n,values:[],silent:!0,multi:!0})}else i.forEach(e=>{let t=c.value.find(t=>t.id===e);t&&(t.filteredValue=[])}),T.value={},e.store.commit(`filterChange`,{column:{},values:[],silent:!0})},ge=()=>{O.value&&(de(null,null,null),e.store.commit(`changeSortCondition`,{silent:!0}))},{setExpandRowKeys:_e,toggleRowExpansion:ve,updateExpandRows:ye,states:F,isRowExpanded:be}=qM({data:r,rowKey:n}),{updateTreeExpandKeys:xe,toggleTreeExpansion:Se,updateTreeData:Ce,updateKeyChildren:we,loadOrToggle:Te,states:Ee}=YM({data:r,rowKey:n}),{updateCurrentRowData:De,updateCurrentRow:I,setCurrentRowKey:Oe,states:ke}=JM({data:r,rowKey:n});return{assertRowKey:ee,updateColumns:N,scheduleLayout:ne,isSelected:re,clearSelection:ie,cleanSelection:P,getSelectionRows:ae,toggleRowSelection:oe,_toggleAllSelection:se,toggleAllSelection:null,updateAllSelected:ce,updateFilters:ue,updateCurrentRow:I,updateSort:de,execFilter:fe,execSort:pe,execQuery:me,clearFilter:he,clearSort:ge,toggleRowExpansion:ve,setExpandRowKeysAdapter:e=>{_e(e),xe(e)},setCurrentRowKey:Oe,toggleRowExpansionAdapter:(e,t)=>{c.value.some(({type:e})=>e===`expand`)?ve(e,t):Se(e,t)},isRowExpanded:be,updateExpandRows:ye,updateCurrentRowData:De,loadOrToggle:Te,updateTreeData:Ce,updateKeyChildren:we,states:{tableSize:t,rowKey:n,data:r,_data:i,isComplex:a,_columns:o,originColumns:s,columns:c,fixedColumns:l,rightFixedColumns:u,leafColumns:d,fixedLeafColumns:f,rightFixedLeafColumns:p,updateOrderFns:m,leafColumnsLength:h,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:_,isAllSelected:v,selection:y,reserveSelection:S,selectOnIndeterminate:C,selectable:w,filters:T,filteredData:D,sortingColumn:O,sortProp:k,sortOrder:A,hoverRow:j,...F,...Ee,...ke}}}function $M(e,t){return e.map(e=>e.id===t.id?t:(e.children?.length&&(e.children=$M(e.children,t)),e))}function eN(e){e.forEach(e=>{e.no=e.getColumnIndex?.call(e),e.children?.length&&eN(e.children)}),e.sort((e,t)=>e.no-t.no)}function tN(){let e=Ga(),t=QM(),n=X(`table`),{t:r}=Zg(),i={setData(t,n){let r=R(t._data)!==n;t.data.value=n,t._data.value=n,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),R(t.reserveSelection)?e.store.assertRowKey():r?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,n,r,i){var a;let o=R(t._columns),s=[];r?(r&&!r.children&&(r.children=[]),(a=r.children)==null||a.push(n),s=$M(o,r)):(o.push(n),s=o),eN(s),t._columns.value=s,t.updateOrderFns.push(i),n.type===`selection`&&(t.selectable.value=n.selectable,t.reserveSelection.value=n.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(t,n){n.getColumnIndex?.call(n)!==n.no&&(eN(t._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(t,n,r,i){var a;let o=R(t._columns)||[];if(r)(a=r.children)==null||a.splice(r.children.findIndex(e=>e.id===n.id),1),Mn(()=>{r.children?.length===0&&delete r.children}),t._columns.value=$M(o,r);else{let e=o.indexOf(n);e>-1&&(o.splice(e,1),t._columns.value=o)}let s=t.updateOrderFns.indexOf(i);s>-1&&t.updateOrderFns.splice(s,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,n){let{prop:r,order:i,init:a}=n;if(r){let n=R(t.columns).find(e=>e.property===r);n&&(n.order=i,e.store.updateSort(n,r,i),e.store.commit(`changeSortCondition`,{init:a}))}},changeSortCondition(t,n){let{sortingColumn:r,sortProp:i,sortOrder:a}=t,o=R(r),s=R(i),c=R(a);uh(c)&&(t.sortingColumn.value=null,t.sortProp.value=null),e.store.execQuery({filter:!0}),(!n||!(n.silent||n.init))&&e.emit(`sort-change`,{column:o,prop:s,order:c}),e.store.updateTableScrollY()},filterChange(t,n){let{column:r,values:i,silent:a}=n,o=e.store.updateFilters(r,i);e.store.execQuery(),a||e.emit(`filter-change`,o),e.store.updateTableScrollY()},toggleAllSelection(){var t,n;(n=(t=e.store).toggleAllSelection)==null||n.call(t)},rowSelectedChanged(t,n){e.store.toggleRowSelection(n),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,n){e.store.updateCurrentRow(n)}},a=function(t,...n){let r=e.store.mutations;if(r[t])r[t].apply(e,[e.store.states,...n]);else throw Error(`Action not found: ${t}`)},o=function(){Mn(()=>e.layout.updateScrollY.apply(e.layout))};return{ns:n,t:r,...t,mutations:i,commit:a,updateTableScrollY:o}}var nN={rowKey:`rowKey`,defaultExpandAll:`defaultExpandAll`,selectOnIndeterminate:`selectOnIndeterminate`,indent:`indent`,lazy:`lazy`,"treeProps.hasChildren":{key:`lazyColumnIdentifier`,default:`hasChildren`},"treeProps.children":{key:`childrenColumnName`,default:`children`},"treeProps.checkStrictly":{key:`checkStrictly`,default:!1}};function rN(e,t){if(!e)throw Error(`Table is required.`);let n=tN();return n.toggleAllSelection=Vm(n._toggleAllSelection,10),Object.keys(nN).forEach(e=>{aN(oN(t,e),e,n)}),iN(n,t),n}function iN(e,t){Object.keys(nN).forEach(n=>{B(()=>oN(t,n),t=>{aN(t,n,e)})})}function aN(e,t,n){let r=e,i=nN[t];O(i)&&(r||=i.default,i=i.key),n.states[i].value=r}function oN(e,t){if(t.includes(`.`)){let n=t.split(`.`),r=e;return n.forEach(e=>{r=r[e]}),r}else return e[t]}var sN=class{constructor(e){for(let t in this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=L(null),this.scrollX=L(!1),this.scrollY=L(!1),this.bodyWidth=L(null),this.fixedWidth=L(null),this.rightFixedWidth=L(null),this.gutterWidth=0,e)b(e,t)&&(tn(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw Error(`Table is required for Table Layout`);if(!this.store)throw Error(`Store is required for Table Layout`)}updateScrollY(){let e=this.height.value;if(uh(e))return!1;let t=this.table.refs.scrollBarRef;if(this.table.vnode.el&&t?.wrapRef){let e=!0,n=this.scrollY.value;return e=t.wrapRef.scrollHeight>t.wrapRef.clientHeight,this.scrollY.value=e,n!==e}return!1}setHeight(e,t=`height`){if(!$h)return;let n=this.table.vnode.el;if(e=MM(e),this.height.value=Number(e),!n&&(e||e===0)){Mn(()=>this.setHeight(e,t));return}n&&Hh(e)?(n.style[t]=`${e}px`,this.updateElsHeight()):n&&E(e)&&(n.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,`max-height`)}getFlattenColumns(){let e=[];return this.table.store.states.columns.value.forEach(t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers(`scrollable`)}headerDisplayNone(e){if(!e)return!0;let t=e;for(;t.tagName!==`DIV`;){if(getComputedStyle(t).display===`none`)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!$h)return;let e=this.fit,t=this.table.vnode.el?.clientWidth,n=0,r=this.getFlattenColumns(),i=r.filter(e=>!Hh(e.width));if(r.forEach(e=>{Hh(e.width)&&e.realWidth&&(e.realWidth=null)}),i.length>0&&e){if(r.forEach(e=>{n+=Number(e.width||e.minWidth||80)}),n<=t){this.scrollX.value=!1;let e=t-n;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+e;else{let t=e/i.reduce((e,t)=>e+Number(t.minWidth||80),0),n=0;i.forEach((e,r)=>{if(r===0)return;let i=Math.floor(Number(e.minWidth||80)*t);n+=i,e.realWidth=Number(e.minWidth||80)+i}),i[0].realWidth=Number(i[0].minWidth||80)+e-n}}else this.scrollX.value=!0,i.forEach(e=>{e.realWidth=Number(e.minWidth)});this.bodyWidth.value=Math.max(n,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(e=>{!e.width&&!e.minWidth?e.realWidth=80:e.realWidth=Number(e.width||e.minWidth),n+=e.realWidth}),this.scrollX.value=n>t,this.bodyWidth.value=n;let a=this.store.states.fixedColumns.value;if(a.length>0){let e=0;a.forEach(t=>{e+=Number(t.realWidth||t.width)}),this.fixedWidth.value=e}let o=this.store.states.rightFixedColumns.value;if(o.length>0){let e=0;o.forEach(t=>{e+=Number(t.realWidth||t.width)}),this.rightFixedWidth.value=e}this.notifyObservers(`columns`)}addObserver(e){this.observers.push(e)}removeObserver(e){let t=this.observers.indexOf(e);t!==-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(t=>{var n,r;switch(e){case`columns`:(n=t.state)==null||n.onColumnsChange(this);break;case`scrollable`:(r=t.state)==null||r.onScrollableChange(this);break;default:throw Error(`Table Layout don't have event ${e}.`)}})}},cN=V({name:`ElTableFilterPanel`,components:{ElCheckbox:sE,ElCheckboxGroup:cE,ElScrollbar:tb,ElTooltip:MC,ElIcon:Q_,ArrowDown:$_,ArrowUp:nv},props:{placement:{type:String,default:`bottom-start`},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:uC.appendTo},setup(e){let t=Ga(),{t:n}=Zg(),r=X(`table-filter`),i=t?.parent;e.column&&!i.filterPanels.value[e.column.id]&&(i.filterPanels.value[e.column.id]=t);let a=L(null),o=L(null),s=L(0),c=Y(()=>e.column&&e.column.filters),l=Y(()=>e.column&&e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),u=Y({get:()=>(e.column?.filteredValue||[])[0],set:e=>{d.value&&(Gh(e)?d.value.splice(0,1):d.value.splice(0,1,e))}}),d=Y({get(){return e.column&&e.column.filteredValue||[]},set(t){var n;e.column&&((n=e.upDataColumn)==null||n.call(e,`filteredValue`,t))}}),f=Y(()=>e.column?e.column.filterMultiple:!0),p=e=>e.value===u.value,m=()=>{var e;(e=a.value)==null||e.onClose()},h=()=>{v(d.value),m()},g=()=>{d.value=[],v(d.value),m()},_=(e,t)=>{u.value=e,s.value=t,Gh(e)?v([]):v(d.value),m()},v=t=>{var n,r;(n=e.store)==null||n.commit(`filterChange`,{column:e.column,values:t}),(r=e.store)==null||r.updateAllSelected()},y=()=>{var t,n;(t=o.value)==null||t.focus(),!f.value&&x(),e.column&&((n=e.upDataColumn)==null||n.call(e,`filterOpened`,!0))},b=()=>{var t;e.column&&((t=e.upDataColumn)==null||t.call(e,`filterOpened`,!1))},x=()=>{if(Gh(u)){s.value=0;return}let e=(c.value||[]).findIndex(e=>e.value===u.value);s.value=e>=0?e+1:0};return{multiple:f,filterClassName:l,filteredValue:d,filterValue:u,filters:c,handleConfirm:h,handleReset:g,handleSelect:_,isPropAbsent:Gh,isActive:p,t:n,ns:r,tooltipRef:a,rootRef:o,checkedIndex:s,handleShowTooltip:y,handleHideTooltip:b,handleKeydown:e=>{var t;let n=Gb(e),i=(c.value?c.value.length:0)+1,a=s.value,l=!0;switch(n){case Q.down:case Q.right:a=(a+1)%i;break;case Q.up:case Q.left:a=(a-1+i)%i;break;case Q.tab:m(),l=!1;break;case Q.enter:case Q.space:if(a===0)_(null,0);else{let e=(c.value||[])[a-1];e.value&&_(e.value,a)}break;default:l=!1;break}l&&e.preventDefault(),s.value=a,(t=o.value?.querySelector(`.${r.e(`list-item`)}:nth-child(${a+1})`))==null||t.focus()}}}}),lN=[`disabled`],uN=[`tabindex`,`aria-checked`],dN=[`tabindex`,`aria-checked`,`onClick`],fN=[`aria-label`];function pN(e,t,n,r,i,a){let o=Yr(`el-checkbox`),s=Yr(`el-checkbox-group`),c=Yr(`el-scrollbar`),l=Yr(`arrow-up`),u=Yr(`arrow-down`),d=Yr(`el-icon`),f=Yr(`el-tooltip`);return U(),G(f,{ref:`tooltipRef`,offset:0,placement:e.placement,"show-arrow":!1,trigger:`click`,role:`dialog`,teleported:``,effect:`light`,pure:``,loop:``,"popper-class":e.filterClassName,persistent:``,"append-to":e.appendTo,onShow:e.handleShowTooltip,onHide:e.handleHideTooltip},{content:z(()=>[e.multiple?(U(),W(`div`,{key:0,ref:`rootRef`,tabindex:`-1`,class:F(e.ns.e(`multiple`))},[K(`div`,{class:F(e.ns.e(`content`))},[q(c,{"wrap-class":e.ns.e(`wrap`)},{default:z(()=>[q(s,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||=t=>e.filteredValue=t,class:F(e.ns.e(`checkbox-group`))},{default:z(()=>[(U(!0),W(va,null,ti(e.filters,e=>(U(),G(o,{key:e.value,value:e.value},{default:z(()=>[Fa(I(e.text),1)]),_:2},1032,[`value`]))),128))]),_:1},8,[`modelValue`,`class`])]),_:1},8,[`wrap-class`])],2),K(`div`,{class:F(e.ns.e(`bottom`))},[K(`button`,{class:F(e.ns.is(`disabled`,e.filteredValue.length===0)),disabled:e.filteredValue.length===0,type:`button`,onClick:t[1]||=(...t)=>e.handleConfirm&&e.handleConfirm(...t)},I(e.t(`el.table.confirmFilter`)),11,lN),K(`button`,{type:`button`,onClick:t[2]||=(...t)=>e.handleReset&&e.handleReset(...t)},I(e.t(`el.table.resetFilter`)),1)],2)],2)):(U(),W(`ul`,{key:1,ref:`rootRef`,tabindex:`-1`,role:`radiogroup`,class:F(e.ns.e(`list`)),onKeydown:t[4]||=(...t)=>e.handleKeydown&&e.handleKeydown(...t)},[K(`li`,{role:`radio`,class:F([e.ns.e(`list-item`),e.ns.is(`active`,e.isPropAbsent(e.filterValue))]),tabindex:e.checkedIndex===0?0:-1,"aria-checked":e.isPropAbsent(e.filterValue),onClick:t[3]||=t=>e.handleSelect(null,0)},I(e.t(`el.table.clearFilter`)),11,uN),(U(!0),W(va,null,ti(e.filters,(t,n)=>(U(),W(`li`,{key:t.value,role:`radio`,class:F([e.ns.e(`list-item`),e.ns.is(`active`,e.isActive(t))]),tabindex:e.checkedIndex===n+1?0:-1,"aria-checked":e.isActive(t),onClick:r=>e.handleSelect(t.value,n+1)},I(t.text),11,dN))),128))],34))]),default:z(()=>[K(`button`,{type:`button`,class:F(`${e.ns.namespace.value}-table__column-filter-trigger`),"aria-label":e.t(`el.table.filterLabel`,{column:e.column?.label||``})},[q(d,null,{default:z(()=>[H(e.$slots,`filter-icon`,{},()=>[e.column?.filterOpened?(U(),G(l,{key:0})):(U(),G(u,{key:1}))])]),_:3})],10,fN)]),_:3},8,[`placement`,`popper-class`,`append-to`,`onShow`,`onHide`])}var mN=b_(cN,[[`render`,pN],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue`]]);function hN(e){let t=Ga();Rr(()=>{n.value.addObserver(t)}),zr(()=>{r(n.value),i(n.value)}),Vr(()=>{r(n.value),i(n.value)}),Ur(()=>{n.value.removeObserver(t)});let n=Y(()=>{let t=e.layout;if(!t)throw Error(`Can not find table layout.`);return t}),r=t=>{let n=e.vnode.el?.querySelectorAll(`colgroup > col`)||[];if(!n.length)return;let r=t.getFlattenColumns(),i={};r.forEach(e=>{i[e.id]=e});for(let e=0,t=n.length;e<t;e++){let t=n[e],r=i[t.getAttribute(`name`)];r&&t.setAttribute(`width`,r.realWidth||r.width)}},i=t=>{let n=e.vnode.el?.querySelectorAll(`colgroup > col[name=gutter]`)||[];for(let e=0,r=n.length;e<r;e++)n[e].setAttribute(`width`,t.scrollY.value?t.gutterWidth:`0`);let r=e.vnode.el?.querySelectorAll(`th.gutter`)||[];for(let e=0,n=r.length;e<n;e++){let n=r[e];n.style.width=t.scrollY.value?`${t.gutterWidth}px`:`0`,n.style.display=t.scrollY.value?``:`none`}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}var gN=Symbol(`ElTable`);function _N(e,t){let n=Ga(),r=qn(gN),i=e=>{e.stopPropagation()},a=(e,t)=>{!t.filters&&t.sortable?m(e,t,!1):t.filterable&&!t.sortable&&i(e),r?.emit(`header-click`,t,e)},o=(e,t)=>{r?.emit(`header-contextmenu`,t,e)},s=L(null),c=L(!1),l=L(),u=(i,a)=>{if($h&&!(a.children&&a.children.length>0)&&s.value&&e.border&&s.value.id===a.id){c.value=!0;let o=r;t(`set-drag-visible`,!0);let u=(o?.vnode.el)?.getBoundingClientRect().left,d=(n?.vnode?.el)?.querySelector(`th.${a.id}`),f=d.getBoundingClientRect(),p=f.left-u+30;L_(d,`noclick`),l.value={startMouseLeft:i.clientX,startLeft:f.right-u,startColumnLeft:f.left-u,tableLeft:u};let m=o?.refs.resizeProxy;m.style.left=`${l.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};let h=e=>{let t=e.clientX-l.value.startMouseLeft,n=l.value.startLeft+t;m.style.left=`${Math.max(p,n)}px`},g=()=>{if(c.value){let{startColumnLeft:n,startLeft:r}=l.value;a.width=a.realWidth=Number.parseInt(m.style.left,10)-n,o?.emit(`header-dragend`,a.width,r-n,a,i),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor=``,c.value=!1,s.value=null,l.value=void 0,t(`set-drag-visible`,!1)}document.removeEventListener(`mousemove`,h),document.removeEventListener(`mouseup`,g),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{R_(d,`noclick`)},0)};document.addEventListener(`mousemove`,h),document.addEventListener(`mouseup`,g)}},d=(t,n)=>{if(!e.border||n.children&&n.children.length>0)return;let r=t.target,i=Wh(r)?r.closest(`th`):null;if(!i)return;let a=I_(i,`is-sortable`);if(a){let e=c.value?`col-resize`:``;i.style.cursor=e;let t=i.querySelector(`.caret-wrapper`);t&&(t.style.cursor=e)}if(!n.resizable||c.value){s.value=null;return}let o=i.getBoundingClientRect(),l=i.parentNode?.lastElementChild===i,u=e.allowDragLastColumn||!l,d=o.width>12&&o.right-t.clientX<8&&u,f=d?`col-resize`:``;document.body.style.cursor=f,s.value=d?n:null,a&&(i.style.cursor=f)},f=()=>{!$h||c.value||(document.body.style.cursor=``)},p=({order:e,sortOrders:t})=>{if(e===``)return t[0];let n=t.indexOf(e||null);return t[n>t.length-2?0:n+1]},m=(t,n,i)=>{t.stopPropagation();let a=n.order===i?null:i||p(n),o=t.target?.closest(`th`);if(o&&I_(o,`noclick`)){R_(o,`noclick`);return}if(!n.sortable)return;let s=t.currentTarget;if([`ascending`,`descending`].some(e=>I_(s,e)&&!n.sortOrders.includes(e)))return;let c=e.store.states,l=c.sortProp.value,u,d=c.sortingColumn.value;(d!==n||d===n&&uh(d.order))&&(d&&(d.order=null),c.sortingColumn.value=n,l=n.property),u=a?n.order=a:n.order=null,c.sortProp.value=l,c.sortOrder.value=u,r?.store.commit(`changeSortCondition`)};return{handleHeaderClick:a,handleHeaderContextMenu:o,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:m,handleFilterClick:i}}function vN(e){let t=qn(gN),n=X(`table`);return{getHeaderRowStyle:e=>{let n=t?.props.headerRowStyle;return T(n)?n.call(null,{rowIndex:e}):n},getHeaderRowClass:e=>{let n=[],r=t?.props.headerRowClassName;return E(r)?n.push(r):T(r)&&n.push(r.call(null,{rowIndex:e})),n.join(` `)},getHeaderCellStyle:(n,r,i,a)=>{let o=t?.props.headerCellStyle??{};T(o)&&(o=o.call(null,{rowIndex:n,columnIndex:r,row:i,column:a}));let s=WM(r,a.fixed,e.store,i);return GM(s,`left`),GM(s,`right`),Object.assign({},o,s)},getHeaderCellClass:(r,i,a,o)=>{let s=HM(n.b(),i,o.fixed,e.store,a),c=[o.id,o.order,o.headerAlign,o.className,o.labelClassName,...s];o.children||c.push(`is-leaf`),o.sortable&&c.push(`is-sortable`);let l=t?.props.headerCellClassName;return E(l)?c.push(l):T(l)&&c.push(l.call(null,{rowIndex:r,columnIndex:i,row:a,column:o})),c.push(n.e(`cell`)),c.filter(e=>!!e).join(` `)}}}var yN=e=>{let t=[];return e.forEach(e=>{e.children?(t.push(e),t.push.apply(t,yN(e.children))):t.push(e)}),t},bN=e=>{let t=1,n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach(r=>{n(r,e),t+=r.colSpan}),e.colSpan=t}else e.colSpan=1};e.forEach(e=>{e.level=1,n(e,void 0)});let r=[];for(let e=0;e<t;e++)r.push([]);return yN(e).forEach(e=>{e.children?(e.rowSpan=1,e.children.forEach(e=>e.isSubColumn=!0)):e.rowSpan=t-e.level+1,r[e.level-1].push(e)}),r};function xN(e){let t=qn(gN),n=Y(()=>bN(e.store.states.originColumns.value));return{isGroup:Y(()=>{let e=n.value.length>1;return e&&t&&(t.state.isGroup.value=!0),e}),toggleAllSelection:e=>{e.stopPropagation(),t?.store.commit(`toggleAllSelection`)},columnRows:n}}var SN=V({name:`ElTableHeader`,components:{ElCheckbox:sE},props:{fixed:{type:String,default:``},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:``,order:``})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){let n=Ga(),r=qn(gN),i=X(`table`),a=L({}),{onColumnsChange:o,onScrollableChange:s}=hN(r),c=r?.props.tableLayout===`auto`,l=Ut(new Map),u=L(),d,f=()=>{d=setTimeout(()=>{l.size>0&&(l.forEach((e,t)=>{let n=u.value.querySelector(`.${t.replace(/\s/g,`.`)}`);n&&(e.width=n.getBoundingClientRect().width||e.width)}),l.clear())})};B(l,f),Hr(()=>{d&&=(clearTimeout(d),void 0)}),zr(async()=>{await Mn(),await Mn();let{prop:t,order:n}=e.defaultSort;r?.store.commit(`sort`,{prop:t,order:n,init:!0}),f()});let{handleHeaderClick:p,handleHeaderContextMenu:m,handleMouseDown:h,handleMouseMove:g,handleMouseOut:_,handleSortClick:v,handleFilterClick:y}=_N(e,t),{getHeaderRowStyle:b,getHeaderRowClass:x,getHeaderCellStyle:S,getHeaderCellClass:C}=vN(e),{isGroup:w,toggleAllSelection:T,columnRows:E}=xN(e),{t:D}=Zg();return n.state={onColumnsChange:o,onScrollableChange:s},n.filterPanels=a,{ns:i,t:D,filterPanels:a,onColumnsChange:o,onScrollableChange:s,columnRows:E,getHeaderRowClass:x,getHeaderRowStyle:b,getHeaderCellClass:C,getHeaderCellStyle:S,handleHeaderClick:p,handleHeaderContextMenu:m,handleMouseDown:h,handleMouseMove:g,handleMouseOut:_,handleSortClick:v,handleFilterClick:y,isGroup:w,toggleAllSelection:T,saveIndexSelection:l,isTableLayoutAuto:c,theadRef:u,updateFixedColumnStyle:f}},render(){let{ns:e,t,isGroup:n,columnRows:r,getHeaderCellStyle:i,getHeaderCellClass:a,getHeaderRowClass:o,getHeaderRowStyle:s,handleHeaderClick:c,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:d,handleSortClick:f,handleMouseOut:p,store:m,$parent:h,saveIndexSelection:g,isTableLayoutAuto:_}=this,v=1;return oo(`thead`,{ref:`theadRef`,class:e.is(`group`,n)},r.map((e,n)=>oo(`tr`,{class:o(n),key:n,style:s(n)},e.map((r,o)=>{r.rowSpan>v&&(v=r.rowSpan);let s=a(n,o,e,r);return _&&r.fixed&&g.set(s,r),oo(`th`,{class:s,colspan:r.colSpan,key:`${r.id}-thead`,rowspan:r.rowSpan,scope:r.colSpan>1?`colgroup`:`col`,ariaSort:r.sortable?r.order:void 0,style:i(n,o,e,r),onClick:e=>{e.currentTarget?.classList.contains(`noclick`)||c(e,r)},onContextmenu:e=>l(e,r),onMousedown:e=>u(e,r),onMousemove:e=>d(e,r),onMouseout:p},[oo(`div`,{class:[`cell`,r.filteredValue&&r.filteredValue.length>0?`highlight`:``]},[r.renderHeader?r.renderHeader({column:r,$index:o,store:m,_self:h}):r.label,r.sortable&&oo(`button`,{type:`button`,class:`caret-wrapper`,"aria-label":t(`el.table.sortLabel`,{column:r.label||``}),onClick:e=>f(e,r)},[oo(`i`,{onClick:e=>f(e,r,`ascending`),class:`sort-caret ascending`}),oo(`i`,{onClick:e=>f(e,r,`descending`),class:`sort-caret descending`})]),r.filterable&&oo(mN,{store:m,placement:r.filterPlacement||`bottom-start`,appendTo:h?.appendFilterPanelTo,column:r,upDataColumn:(e,t)=>{r[e]=t}},{"filter-icon":()=>r.renderFilterIcon?r.renderFilterIcon({filterOpened:r.filterOpened}):null})])])}))))}});function CN(e,t,n=.03){return e-t>n}function wN(e){let t=qn(gN),n=L(``),r=L(oo(`div`)),i=(n,r,i)=>{let a=t,o=SM(n),s=null,c=(a?.vnode.el)?.dataset.prefix;o&&(s=EM({columns:e.store?.states.columns.value??[]},o,c),s&&a?.emit(`cell-${i}`,r,s,o,n)),a?.emit(`row-${i}`,r,s,n)},a=(e,t)=>{i(e,t,`dblclick`)},o=(t,n)=>{var r;(r=e.store)==null||r.commit(`setCurrentRow`,n),i(t,n,`click`)},s=(e,t)=>{i(e,t,`contextmenu`)},c=Vm(t=>{var n;(n=e.store)==null||n.commit(`setHoverRow`,t)},30),l=Vm(()=>{var t;(t=e.store)==null||t.commit(`setHoverRow`,null)},30),u=e=>{let t=window.getComputedStyle(e,null);return{left:Number.parseInt(t.paddingLeft,10)||0,right:Number.parseInt(t.paddingRight,10)||0,top:Number.parseInt(t.paddingTop,10)||0,bottom:Number.parseInt(t.paddingBottom,10)||0}},d=(e,t,n)=>{let r=t?.target?.parentNode;for(;e>1&&(r=r?.nextSibling,!(!r||r.nodeName!==`TR`));)n(r,`hover-row hover-fixed-row`),e--};return{handleDoubleClick:a,handleClick:o,handleContextMenu:s,handleMouseEnter:c,handleMouseLeave:l,handleCellMouseEnter:(n,r,i)=>{var a,o;if(!t)return;let s=t,c=SM(n),l=(s?.vnode.el)?.dataset.prefix,f=null;if(c){if(f=EM({columns:e.store?.states.columns.value??[]},c,l),!f)return;c.rowSpan>1&&d(c.rowSpan,n,L_);let t=s.hoverState={cell:c,column:f,row:r};s?.emit(`cell-mouse-enter`,t.row,t.column,t.cell,n)}if(!i){LM?.trigger===c&&((a=LM)==null||a());return}let p=n.target.querySelector(`.cell`);if(!(I_(p,`${l}-tooltip`)&&p.childNodes.length&&p.textContent?.trim()))return;let m=document.createRange();m.setStart(p,0),m.setEnd(p,p.childNodes.length);let{width:h,height:g}=m.getBoundingClientRect(),{width:_,height:v}=p.getBoundingClientRect(),{top:y,left:b,right:x,bottom:S}=u(p),C=b+x,w=y+S;CN(h+C,_)||CN(g+w,v)||CN(p.scrollWidth,_)?RM(i,(c?.innerText||c?.textContent)??``,r,f,c,s):LM?.trigger===c&&((o=LM)==null||o())},handleCellMouseLeave:e=>{let n=SM(e);if(!n)return;n.rowSpan>1&&d(n.rowSpan,e,R_);let r=t?.hoverState;t?.emit(`cell-mouse-leave`,r?.row,r?.column,r?.cell,e)},tooltipContent:n,tooltipTrigger:r}}function TN(e){let t=qn(gN),n=X(`table`);return{getRowStyle:(e,n)=>{let r=t?.props.rowStyle;return T(r)?r.call(null,{row:e,rowIndex:n}):r||null},getRowClass:(r,i,a)=>{let o=[n.e(`row`)];t?.props.highlightCurrentRow&&r===e.store?.states.currentRow.value&&o.push(`current-row`),e.stripe&&a%2==1&&o.push(n.em(`row`,`striped`));let s=t?.props.rowClassName;return E(s)?o.push(s):T(s)&&o.push(s.call(null,{row:r,rowIndex:i})),o},getCellStyle:(n,r,i,a)=>{let o=t?.props.cellStyle,s=o??{};T(o)&&(s=o.call(null,{rowIndex:n,columnIndex:r,row:i,column:a}));let c=WM(r,e?.fixed,e.store);return GM(c,`left`),GM(c,`right`),Object.assign({},s,c)},getCellClass:(r,i,a,o,s)=>{let c=HM(n.b(),i,e?.fixed,e.store,void 0,s),l=[o.id,o.align,o.className,...c],u=t?.props.cellClassName;return E(u)?l.push(u):T(u)&&l.push(u.call(null,{rowIndex:r,columnIndex:i,row:a,column:o})),l.push(n.e(`cell`)),l.filter(e=>!!e).join(` `)},getSpan:(e,n,r,i)=>{let a=1,o=1,s=t?.props.spanMethod;if(T(s)){let t=s({row:e,column:n,rowIndex:r,columnIndex:i});x(t)?(a=t[0],o=t[1]):O(t)&&(a=t.rowspan,o=t.colspan)}return{rowspan:a,colspan:o}},getColspanRealWidth:(e,t,n)=>{if(t<1)return e[n].realWidth;let r=e.map(({realWidth:e,width:t})=>e||t).slice(n,n+t);return Number(r.reduce((e,t)=>Number(e)+Number(t),-1))}}}var EN=[`colspan`,`rowspan`],DN=b_(V({name:`TableTdWrapper`,__name:`td-wrapper`,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(U(),W(`td`,{colspan:e.colspan,rowspan:e.rowspan},[H(t.$slots,`default`)],8,EN))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/table/src/table-body/td-wrapper.vue`]]);function ON(e){let t=qn(gN),n=X(`table`),{handleDoubleClick:r,handleClick:i,handleContextMenu:a,handleMouseEnter:o,handleMouseLeave:s,handleCellMouseEnter:c,handleCellMouseLeave:l,tooltipContent:u,tooltipTrigger:d}=wN(e),{getRowStyle:f,getRowClass:p,getCellStyle:m,getCellClass:h,getSpan:g,getColspanRealWidth:_}=TN(e),v=-1,y=Y(()=>e.store?.states.columns.value.findIndex(({type:e})=>e===`default`)),b=(e,n)=>{let r=t?.props?.rowKey;return r?DM(e,r):n},x=(u,d,x,C=!1)=>{let{tooltipEffect:w,tooltipOptions:T,store:E}=e,{indent:D,columns:O}=E.states,k=[],A=!0;return x&&(k.push(n.em(`row`,`level-${x.level}`)),A=!!x.display),d===0&&(v=-1),e.stripe&&A&&v++,k.push(...p(u,d,v)),oo(`tr`,{style:[A?null:{display:`none`},f(u,d)],class:k,key:b(u,d),onDblclick:e=>r(e,u),onClick:e=>i(e,u),onContextmenu:e=>a(e,u),onMouseenter:()=>o(d),onMouseleave:s},O.value.map((n,r)=>{let{rowspan:i,colspan:a}=g(u,n,d,r);if(!i||!a)return null;let o=Object.assign({},n);o.realWidth=_(O.value,a,r);let s={store:E,_self:e.context||t,column:o,row:u,$index:d,cellIndex:r,expanded:C};r===y.value&&x&&(s.treeNode={indent:x.level&&x.level*D.value,level:x.level},Vh(x.expanded)&&(s.treeNode.expanded=x.expanded,`loading`in x&&(s.treeNode.loading=x.loading),`noLazyChildren`in x&&(s.treeNode.noLazyChildren=x.noLazyChildren)));let f=`${b(u,d)},${r}`,p=o.columnKey||o.rawColumnKey||``,v=n.showOverflowTooltip&&ph({effect:w},T,n.showOverflowTooltip);return oo(DN,{style:m(d,r,u,n),class:h(d,r,u,n,a-1),key:`${p}${f}`,rowspan:i,colspan:a,onMouseenter:e=>c(e,u,v),onMouseleave:l},{default:()=>S(r,n,s)})}))},S=(e,t,n)=>t.renderCell(n);return{wrappedRowRender:(r,i)=>{let a=e.store,{isRowExpanded:o,assertRowKey:s}=a,{treeData:c,lazyTreeNodeMap:l,childrenColumnName:u,rowKey:d}=a.states,f=a.states.columns.value;if(f.some(({type:e})=>e===`expand`)){let e=o(r),s=x(r,i,void 0,e),c=t?.renderExpanded;if(!c)return console.error(`[Element Error]renderExpanded is required.`),s;let l=[[s]];return(t.props.preserveExpandedContent||e)&&l[0].push(oo(`tr`,{key:`expanded-row__${s.key}`,style:{display:e?``:`none`}},[oo(`td`,{colspan:f.length,class:`${n.e(`cell`)} ${n.e(`expanded-cell`)}`},[c({row:r,$index:i,store:a,expanded:e})])])),l}else if(Object.keys(c.value).length){s();let e=DM(r,d.value),t=c.value[e],n=null;t&&(n={expanded:t.expanded,level:t.level,display:!0,noLazyChildren:void 0,loading:void 0},Vh(t.lazy)&&(n&&Vh(t.loaded)&&t.loaded&&(n.noLazyChildren=!(t.children&&t.children.length)),n.loading=t.loading));let a=[x(r,i,n??void 0)];if(t){let n=0,o=(e,r)=>{e&&e.length&&r&&e.forEach(e=>{let s={display:r.display&&r.expanded,level:r.level+1,expanded:!1,noLazyChildren:!1,loading:!1},f=DM(e,d.value);if(Gh(f))throw Error(`For nested data item, row-key is required.`);t={...c.value[f]},t&&(s.expanded=t.expanded,t.level=t.level||s.level,t.display=!!(t.expanded&&s.display),Vh(t.lazy)&&(Vh(t.loaded)&&t.loaded&&(s.noLazyChildren=!(t.children&&t.children.length)),s.loading=t.loading)),n++,a.push(x(e,i+n,s)),t&&o(l.value[f]||e[u.value],t)})};t.display=!0,o(l.value[e]||r[u.value],t)}return a}else return x(r,i,void 0)},tooltipContent:u,tooltipTrigger:d}}var kN=V({name:`ElTableBody`,props:{store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:``},highlight:Boolean},setup(e){let t=Ga(),n=qn(gN),r=X(`table`),{wrappedRowRender:i,tooltipContent:a,tooltipTrigger:o}=ON(e),{onColumnsChange:s,onScrollableChange:c}=hN(n),l=[];return B(e.store?.states.hoverRow,(n,i)=>{let a=t?.vnode.el,o=Array.from(a?.children||[]).filter(e=>e?.classList.contains(`${r.e(`row`)}`)),s=n,c=o[s]?.childNodes;if(c?.length){let e=0;Array.from(c).reduce((t,n,r)=>(c[r]?.colSpan>1&&(e=c[r]?.colSpan),n.nodeName!==`TD`&&e===0&&t.push(r),e>0&&e--,t),[]).forEach(e=>{for(s=n;s>0;){let t=o[s-1]?.childNodes;if(t[e]&&t[e].nodeName===`TD`&&t[e].rowSpan>1){L_(t[e],`hover-cell`),l.push(t[e]);break}s--}})}else l.forEach(e=>R_(e,`hover-cell`)),l.length=0;!e.store?.states.isComplex.value||!$h||N_(()=>{let e=o[i],t=o[n];e&&!e.classList.contains(`hover-fixed-row`)&&R_(e,`hover-row`),t&&L_(t,`hover-row`)})}),Ur(()=>{var e;(e=LM)==null||e()}),{ns:r,onColumnsChange:s,onScrollableChange:c,wrappedRowRender:i,tooltipContent:a,tooltipTrigger:o}},render(){let{wrappedRowRender:e,store:t}=this;return oo(`tbody`,{tabIndex:-1},[(t?.states.data.value||[]).reduce((t,n)=>t.concat(e(n,t.length)),[])])}});function AN(){let e=qn(gN)?.store;return{leftFixedLeafCount:Y(()=>e?.states.fixedLeafColumnsLength.value??0),rightFixedLeafCount:Y(()=>e?.states.rightFixedColumns.value.length??0),columnsCount:Y(()=>e?.states.columns.value.length??0),leftFixedCount:Y(()=>e?.states.fixedColumns.value.length??0),rightFixedCount:Y(()=>e?.states.rightFixedColumns.value.length??0),columns:Y(()=>e?.states.columns.value??[])}}function jN(e){let{columns:t}=AN(),n=X(`table`);return{getCellClasses:(t,r)=>{let i=t[r],a=[n.e(`cell`),i.id,i.align,i.labelClassName,...HM(n.b(),r,i.fixed,e.store)];return i.className&&a.push(i.className),i.children||a.push(n.is(`leaf`)),a},getCellStyles:(t,n)=>{let r=WM(n,t.fixed,e.store);return GM(r,`left`),GM(r,`right`),r},columns:t}}var MN=V({name:`ElTableFooter`,props:{fixed:{type:String,default:``},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:``,order:``})}},setup(e){let t=qn(gN),n=X(`table`),{getCellClasses:r,getCellStyles:i,columns:a}=jN(e),{onScrollableChange:o,onColumnsChange:s}=hN(t);return{ns:n,onScrollableChange:o,onColumnsChange:s,getCellClasses:r,getCellStyles:i,columns:a}},render(){let{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:i}=this,a=this.store.states.data.value,o=[];return r?o=r({columns:e,data:a}):e.forEach((e,t)=>{if(t===0){o[t]=i;return}let n=a.map(t=>Number(t[e.property])),r=[],s=!0;n.forEach(e=>{if(!Number.isNaN(+e)){s=!1;let t=`${e}`.split(`.`)[1];r.push(t?t.length:0)}});let c=Math.max.apply(null,r);s?o[t]=``:o[t]=n.reduce((e,t)=>{let n=Number(t);return Number.isNaN(+n)?e:Number.parseFloat((e+t).toFixed(Math.min(c,20)))},0)}),oo(oo(`tfoot`,[oo(`tr`,{},[...e.map((r,i)=>oo(`td`,{key:i,colspan:r.colSpan,rowspan:r.rowSpan,class:n(e,i),style:t(r,i)},[oo(`div`,{class:[`cell`,r.labelClassName]},[o[i]])]))])]))}});function NN(e){return{setCurrentRow:t=>{e.commit(`setCurrentRow`,t)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(t,n,r=!0)=>{e.toggleRowSelection(t,n,!1,r),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit(`toggleAllSelection`)},toggleRowExpansion:(t,n)=>{e.toggleRowExpansionAdapter(t,n)},clearSort:()=>{e.clearSort()},sort:(t,n)=>{e.commit(`sort`,{prop:t,order:n})},updateKeyChildren:(t,n)=>{e.updateKeyChildren(t,n)}}}function PN(e,t,n,r){let i=L(!1),a=L(null),o=L(!1),s=e=>{o.value=e},c=L({width:null,height:null,headerHeight:null}),l=L(!1),u={display:`inline-block`,verticalAlign:`middle`},d=L(),f=L(0),p=L(0),m=L(0),h=L(0),g=L(0);B(()=>e.height,e=>{t.setHeight(e??null)},{immediate:!0}),B(()=>e.maxHeight,e=>{t.setMaxHeight(e??null)},{immediate:!0}),B(()=>[e.currentRowKey,n.states.rowKey],([e,t])=>{!R(t)||!R(e)||n.setCurrentRowKey(`${e}`)},{immediate:!0}),B(()=>e.data,e=>{r.store.commit(`setData`,e)},{immediate:!0,deep:!0}),Xn(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});let _=()=>{r.store.commit(`setHoverRow`,null),r.hoverState&&=null},v=(e,t)=>{let{pixelX:n,pixelY:i}=t;Math.abs(n)>=Math.abs(i)&&(r.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},y=Y(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),b=Y(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:``})),x=()=>{y.value&&t.updateElsHeight(),t.updateColumnsWidth(),!(typeof window>`u`)&&requestAnimationFrame(T)};zr(async()=>{await Mn(),n.updateColumns(),E(),requestAnimationFrame(x);let t=r.vnode.el,i=r.refs.headerWrapper;e.flexible&&t&&t.parentElement&&(t.parentElement.style.minWidth=`0`),c.value={width:d.value=t.offsetWidth,height:t.offsetHeight,headerHeight:e.showHeader&&i?i.offsetHeight:null},n.states.columns.value.forEach(e=>{e.filteredValue&&e.filteredValue.length&&r.store.commit(`filterChange`,{column:e,values:e.filteredValue,silent:!0})}),r.$ready=!0});let S=(e,n)=>{if(!e)return;let r=Array.from(e.classList).filter(e=>!e.startsWith(`is-scrolling-`));r.push(t.scrollX.value?n:`is-scrolling-none`),e.className=r.join(` `)},C=e=>{let{tableWrapper:t}=r.refs;S(t,e)},w=e=>{let{tableWrapper:t}=r.refs;return!!(t&&t.classList.contains(e))},T=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){let e=`is-scrolling-none`;w(e)||C(e);return}let e=r.refs.scrollBarRef.wrapRef;if(!e)return;let{scrollLeft:n,offsetWidth:i,scrollWidth:a}=e,{headerWrapper:o,footerWrapper:s}=r.refs;o&&(o.scrollLeft=n),s&&(s.scrollLeft=n),n>=a-i-1?C(`is-scrolling-right`):C(n===0?`is-scrolling-left`:`is-scrolling-middle`)},E=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&bg(r.refs.scrollBarRef.wrapRef,`scroll`,T,{passive:!0}),e.fit?jg(r.vnode.el,D):bg(window,`resize`,D),jg(r.refs.tableInnerWrapper,()=>{var e;D(),(e=r.refs?.scrollBarRef)==null||e.update()}))},D=()=>{let t=r.vnode.el;if(!r.$ready||!t)return;let n=!1,{width:i,height:a,headerHeight:o}=c.value,s=d.value=t.offsetWidth;i!==s&&(n=!0);let l=t.offsetHeight;(e.height||y.value)&&a!==l&&(n=!0);let u=e.tableLayout===`fixed`?r.refs.headerWrapper:r.refs.tableHeaderRef?.$el;e.showHeader&&u?.offsetHeight!==o&&(n=!0),f.value=r.refs.tableWrapper?.scrollHeight||0,m.value=u?.scrollHeight||0,h.value=r.refs.footerWrapper?.offsetHeight||0,g.value=r.refs.appendWrapper?.offsetHeight||0,p.value=f.value-m.value-h.value-g.value,n&&(c.value={width:s,height:l,headerHeight:e.showHeader&&u?.offsetHeight||0},x())},O=Ey(),k=Y(()=>{let{bodyWidth:e,scrollY:n,gutterWidth:r}=t;return e.value?`${e.value-(n.value?r:0)}px`:``}),A=Y(()=>e.maxHeight?`fixed`:e.tableLayout);return{isHidden:i,renderExpanded:a,setDragVisible:s,isGroup:l,handleMouseLeave:_,handleHeaderFooterMousewheel:v,tableSize:O,emptyBlockStyle:Y(()=>{if(e.data&&e.data.length)return;let t=`100%`;e.height&&p.value&&(t=`${p.value}px`);let n=d.value;return{width:n?`${n}px`:``,height:t}}),resizeProxyVisible:o,bodyWidth:k,resizeState:c,doLayout:x,tableBodyStyles:b,tableLayout:A,scrollbarViewStyle:u,scrollbarStyle:Y(()=>e.height?{height:`100%`}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${m.value+h.value}px)`}:{maxHeight:`${+e.maxHeight-m.value-h.value}px`}:{})}}function FN(e){let t,n=()=>{let n=e.vnode.el.querySelector(`.hidden-columns`),r={childList:!0,subtree:!0},i=e.store.states.updateOrderFns;t=new MutationObserver(()=>{i.forEach(e=>e())}),t.observe(n,r)};zr(()=>{n()}),Ur(()=>{t?.disconnect()})}var IN={data:{type:Array,default:()=>[]},size:r_,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:`hasChildren`,children:`children`,checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:[String,Object,Array],default:()=>({})},className:{type:String,default:``},tableLayout:{type:String,default:`fixed`},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function LN(e){let t=e.tableLayout===`auto`,n=e.columns||[];t&&n.every(({width:e})=>Bh(e))&&(n=[]);let r=n=>{let r={key:`${e.tableLayout}_${n.id}`,style:{},name:void 0};return t?r.style={width:`${n.width}px`}:r.name=n.id,r};return oo(`colgroup`,{},n.map(e=>oo(`col`,r(e))))}LN.props=[`columns`,`tableLayout`];var RN=()=>{let e=L(),t=(t,n)=>{let r=e.value;r&&r.scrollTo(t,n)},n=(t,n)=>{let r=e.value;r&&Hh(n)&&[`Top`,`Left`].includes(t)&&r[`setScroll${t}`](n)};return{scrollBarRef:e,scrollTo:t,setScrollTop:e=>n(`Top`,e),setScrollLeft:e=>n(`Left`,e)}},zN=!1,BN,VN,HN,UN,WN,GN,KN,qN,JN,YN,XN,ZN,QN,$N,eP;function tP(){if(!zN){zN=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(ZN=/\b(iPhone|iP[ao]d)/.exec(e),QN=/\b(iP[ao]d)/.exec(e),YN=/Android/i.exec(e),$N=/FBAN\/\w+;/i.exec(e),eP=/Mobile/i.exec(e),XN=!!/Win64/.exec(e),t){BN=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,BN&&document&&document.documentMode&&(BN=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);GN=r?parseFloat(r[1])+4:BN,VN=t[2]?parseFloat(t[2]):NaN,HN=t[3]?parseFloat(t[3]):NaN,UN=t[4]?parseFloat(t[4]):NaN,UN?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),WN=t&&t[1]?parseFloat(t[1]):NaN):WN=NaN}else BN=VN=HN=WN=UN=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);KN=i?parseFloat(i[1].replace(`_`,`.`)):!0}else KN=!1;qN=!!n[2],JN=!!n[3]}else KN=qN=JN=!1}}var nP={ie:function(){return tP()||BN},ieCompatibilityMode:function(){return tP()||GN>BN},ie64:function(){return nP.ie()&&XN},firefox:function(){return tP()||VN},opera:function(){return tP()||HN},webkit:function(){return tP()||UN},safari:function(){return nP.webkit()},chrome:function(){return tP()||WN},windows:function(){return tP()||qN},osx:function(){return tP()||KN},linux:function(){return tP()||JN},iphone:function(){return tP()||ZN},mobile:function(){return tP()||ZN||QN||YN||eP},nativeApp:function(){return tP()||$N},android:function(){return tP()||YN},ipad:function(){return tP()||QN}},rP=nP,iP=!!(typeof window<`u`&&window.document&&window.document.createElement),aP={canUseDOM:iP,canUseWorkers:typeof Worker<`u`,canUseEventListeners:iP&&!!(window.addEventListener||window.attachEvent),canUseViewport:iP&&!!window.screen,isInWorker:!iP},oP;aP.canUseDOM&&(oP=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature(``,``)!==!0);function sP(e,t){if(!aP.canUseDOM||t&&!(`addEventListener`in document))return!1;var n=`on`+e,r=n in document;if(!r){var i=document.createElement(`div`);i.setAttribute(n,`return;`),r=typeof i[n]==`function`}return!r&&oP&&e===`wheel`&&(r=document.implementation.hasFeature(`Events.wheel`,`3.0`)),r}var cP=sP,lP=10,uP=40,dP=800;function fP(e){var t=0,n=0,r=0,i=0;return`detail`in e&&(n=e.detail),`wheelDelta`in e&&(n=-e.wheelDelta/120),`wheelDeltaY`in e&&(n=-e.wheelDeltaY/120),`wheelDeltaX`in e&&(t=-e.wheelDeltaX/120),`axis`in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*lP,i=n*lP,`deltaY`in e&&(i=e.deltaY),`deltaX`in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=uP,i*=uP):(r*=dP,i*=dP)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}fP.getEventType=function(){return rP.firefox()?`DOMMouseScroll`:cP(`wheel`)?`wheel`:`mousewheel`};var pP=fP,mP=`_Mousewheel`,hP=function(e,t){if(e&&e.addEventListener){gP(e);let n=function(e){let n=pP(e);t&&Reflect.apply(t,this,[e,n])};e[mP]={wheelHandler:n},e.addEventListener(`wheel`,n,{passive:!0})}},gP=e=>{e._Mousewheel?.wheelHandler&&(e.removeEventListener(`wheel`,e[mP].wheelHandler),e[mP]=null)},_P={beforeMount(e,t){hP(e,t.value)},unmounted(e){gP(e)},updated(e,t){t.value!==t.oldValue&&hP(e,t.value)}},vP=1,yP=V({name:`ElTable`,directives:{Mousewheel:_P},components:{TableHeader:SN,TableBody:kN,TableFooter:MN,ElScrollbar:tb,hColgroup:LN},props:IN,emits:[`select`,`select-all`,`selection-change`,`cell-mouse-enter`,`cell-mouse-leave`,`cell-contextmenu`,`cell-click`,`cell-dblclick`,`row-click`,`row-contextmenu`,`row-dblclick`,`header-click`,`header-contextmenu`,`sort-change`,`filter-change`,`current-change`,`header-dragend`,`expand-change`,`scroll`],setup(e){let{t}=Zg(),n=X(`table`),r=Ga();Kn(gN,r);let i=rN(r,e);r.store=i;let a=new sN({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=a;let o=Y(()=>(i.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:c,toggleRowSelection:l,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:p,clearSort:m,sort:h,updateKeyChildren:g}=NN(i),{isHidden:_,renderExpanded:v,setDragVisible:y,isGroup:b,handleMouseLeave:x,handleHeaderFooterMousewheel:S,tableSize:C,emptyBlockStyle:w,resizeProxyVisible:T,bodyWidth:E,resizeState:D,doLayout:O,tableBodyStyles:k,tableLayout:A,scrollbarViewStyle:j,scrollbarStyle:M}=PN(e,a,i,r),{scrollBarRef:ee,scrollTo:te,setScrollLeft:N,setScrollTop:ne}=RN(),re=Vm(O,50),ie=`${n.namespace.value}-table_${vP++}`;r.tableId=ie,r.state={isGroup:b,resizeState:D,doLayout:O,debouncedUpdateLayout:re};let P=Y(()=>e.sumText??t(`el.table.sumText`)),ae=Y(()=>e.emptyText??t(`el.table.emptyText`)),oe=Y(()=>bN(i.states.originColumns.value)[0]);return FN(r),Hr(()=>{re.cancel()}),{ns:n,layout:a,store:i,columns:oe,handleHeaderFooterMousewheel:S,handleMouseLeave:x,tableId:ie,tableSize:C,isHidden:_,isEmpty:o,renderExpanded:v,resizeProxyVisible:T,resizeState:D,isGroup:b,bodyWidth:E,tableBodyStyles:k,emptyBlockStyle:w,debouncedUpdateLayout:re,setCurrentRow:s,getSelectionRows:c,toggleRowSelection:l,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:p,clearSort:m,doLayout:O,sort:h,updateKeyChildren:g,t,setDragVisible:y,context:r,computedSumText:P,computedEmptyText:ae,tableLayout:A,scrollbarViewStyle:j,scrollbarStyle:M,scrollBarRef:ee,scrollTo:te,setScrollLeft:N,setScrollTop:ne,allowDragLastColumn:e.allowDragLastColumn}}}),bP=[`data-prefix`],xP={ref:`hiddenColumns`,class:`hidden-columns`};function SP(e,t,n,r,i,a){let o=Yr(`hColgroup`),s=Yr(`table-header`),c=Yr(`table-body`),l=Yr(`table-footer`),u=Yr(`el-scrollbar`),d=Qr(`mousewheel`);return U(),W(`div`,{ref:`tableWrapper`,class:F([{[e.ns.m(`fit`)]:e.fit,[e.ns.m(`striped`)]:e.stripe,[e.ns.m(`border`)]:e.border||e.isGroup,[e.ns.m(`hidden`)]:e.isHidden,[e.ns.m(`group`)]:e.isGroup,[e.ns.m(`fluid-height`)]:e.maxHeight,[e.ns.m(`scrollable-x`)]:e.layout.scrollX.value,[e.ns.m(`scrollable-y`)]:e.layout.scrollY.value,[e.ns.m(`enable-row-hover`)]:!e.store.states.isComplex.value,[e.ns.m(`enable-row-transition`)]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:he(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[1]||=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)},[K(`div`,{ref:`tableInnerWrapper`,class:F(e.ns.e(`inner-wrapper`))},[K(`div`,xP,[H(e.$slots,`default`)],512),e.showHeader&&e.tableLayout===`fixed`?Wn((U(),W(`div`,{key:0,ref:`headerWrapper`,class:F(e.ns.e(`header-wrapper`))},[K(`table`,{ref:`tableHeader`,class:F(e.ns.e(`header`)),style:he(e.tableBodyStyles),border:`0`,cellpadding:`0`,cellspacing:`0`},[q(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),q(s,{ref:`tableHeaderRef`,border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,[`border`,`default-sort`,`store`,`append-filter-panel-to`,`allow-drag-last-column`,`onSetDragVisible`])],6)],2)),[[d,e.handleHeaderFooterMousewheel]]):J(`v-if`,!0),K(`div`,{ref:`bodyWrapper`,class:F(e.ns.e(`body-wrapper`))},[q(u,{ref:`scrollBarRef`,"view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,native:e.nativeScrollbar,onScroll:t[0]||=t=>e.$emit(`scroll`,t)},{default:z(()=>[K(`table`,{ref:`tableBody`,class:F(e.ns.e(`body`)),cellspacing:`0`,cellpadding:`0`,border:`0`,style:he({width:e.bodyWidth,tableLayout:e.tableLayout})},[q(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),e.showHeader&&e.tableLayout===`auto`?(U(),G(s,{key:0,ref:`tableHeaderRef`,class:F(e.ns.e(`body-header`)),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,[`class`,`border`,`default-sort`,`store`,`append-filter-panel-to`,`onSetDragVisible`])):J(`v-if`,!0),q(c,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,[`context`,`highlight`,`row-class-name`,`tooltip-effect`,`tooltip-options`,`row-style`,`store`,`stripe`]),e.showSummary&&e.tableLayout===`auto`?(U(),G(l,{key:1,class:F(e.ns.e(`body-footer`)),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,[`class`,`border`,`default-sort`,`store`,`sum-text`,`summary-method`])):J(`v-if`,!0)],6),e.isEmpty?(U(),W(`div`,{key:0,ref:`emptyBlock`,style:he(e.emptyBlockStyle),class:F(e.ns.e(`empty-block`))},[K(`span`,{class:F(e.ns.e(`empty-text`))},[H(e.$slots,`empty`,{},()=>[Fa(I(e.computedEmptyText),1)])],2)],6)):J(`v-if`,!0),e.$slots.append?(U(),W(`div`,{key:1,ref:`appendWrapper`,class:F(e.ns.e(`append-wrapper`))},[H(e.$slots,`append`)],2)):J(`v-if`,!0)]),_:3},8,[`view-style`,`wrap-style`,`always`,`tabindex`,`native`])],2),e.showSummary&&e.tableLayout===`fixed`?Wn((U(),W(`div`,{key:1,ref:`footerWrapper`,class:F(e.ns.e(`footer-wrapper`))},[K(`table`,{class:F(e.ns.e(`footer`)),cellspacing:`0`,cellpadding:`0`,border:`0`,style:he(e.tableBodyStyles)},[q(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),q(l,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,[`border`,`default-sort`,`store`,`sum-text`,`summary-method`])],6)],2)),[[Lo,!e.isEmpty],[d,e.handleHeaderFooterMousewheel]]):J(`v-if`,!0),e.border||e.isGroup?(U(),W(`div`,{key:2,class:F(e.ns.e(`border-left-patch`))},null,2)):J(`v-if`,!0)],2),Wn(K(`div`,{ref:`resizeProxy`,class:F(e.ns.e(`column-resize-proxy`))},null,2),[[Lo,e.resizeProxyVisible]])],46,bP)}var CP=b_(yP,[[`render`,SP],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue`]]),wP={selection:`table-column--selection`,expand:`table__expand-column`},TP={default:{order:``},selection:{width:48,minWidth:48,realWidth:48,order:``},expand:{width:48,minWidth:48,realWidth:48,order:``},index:{width:48,minWidth:48,realWidth:48,order:``}},EP=e=>wP[e]||``,DP={selection:{renderHeader({store:e}){function t(){return e.states.data.value&&e.states.data.value.length===0}return oo(sE,{disabled:t(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection??void 0,modelValue:e.states.isAllSelected.value,ariaLabel:e.t(`el.table.selectAllLabel`)})},renderCell({row:e,column:t,store:n,$index:r}){return oo(sE,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit(`rowSelectedChanged`,e)},onClick:e=>e.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:n.t(`el.table.selectRowLabel`)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||`#`},renderCell({column:e,$index:t}){let n=t+1,r=e.index;return Hh(r)?n=t+r:T(r)&&(n=r(t)),oo(`div`,{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||``},renderCell({column:e,row:t,store:n,expanded:r}){let{ns:i}=n,a=[i.e(`expand-icon`)];!e.renderExpand&&r&&a.push(i.em(`expand-icon`,`expanded`));let o=function(e){e.stopPropagation(),n.toggleRowExpansion(t)};return oo(`button`,{type:`button`,"aria-label":n.t(r?`el.table.collapseRowLabel`:`el.table.expandRowLabel`),"aria-expanded":r,class:a,onClick:o},{default:()=>e.renderExpand?[e.renderExpand({expanded:r})]:[oo(Q_,null,{default:()=>[oo(tv)]})]})},sortable:!1,resizable:!1}};function OP({row:e,column:t,$index:n}){let r=t.property,i=r&&f_(e,r).value;return t&&t.formatter?t.formatter(e,t,i,n):(i?.toString)?.call(i)||``}function kP({row:e,treeNode:t,store:n},r=!1){let{ns:i}=n;if(!t)return r?[oo(`span`,{class:i.e(`placeholder`)})]:null;let a=[],o=function(r){r.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&a.push(oo(`span`,{class:i.e(`indent`),style:{"padding-left":`${t.indent}px`}})),Vh(t.expanded)&&!t.noLazyChildren){let e=[i.e(`expand-icon`),t.expanded?i.em(`expand-icon`,`expanded`):``],r=tv;t.loading&&(r=xv),a.push(oo(`button`,{type:`button`,"aria-label":n.t(t.expanded?`el.table.collapseRowLabel`:`el.table.expandRowLabel`),"aria-expanded":t.expanded,class:e,onClick:o},{default:()=>[oo(Q_,{class:i.is(`loading`,t.loading)},{default:()=>[oo(r)]})]}))}else a.push(oo(`span`,{class:i.e(`placeholder`)}));return a}function AP(e,t){return e.reduce((e,t)=>(e[t]=t,e),t)}function jP(e,t){let n=Ga();return{registerComplexWatchers:()=>{let r=[`fixed`],i={realWidth:`width`,realMinWidth:`minWidth`},a=AP(r,i);Object.keys(a).forEach(r=>{let a=i[r];b(t,a)&&B(()=>t[a],t=>{let i=t;a===`width`&&r===`realWidth`&&(i=AM(t)),a===`minWidth`&&r===`realMinWidth`&&(i=jM(t)),n.columnConfig.value[a]=i,n.columnConfig.value[r]=i;let o=a===`fixed`;e.value.store.scheduleLayout(o)})})},registerNormalWatchers:()=>{let r=[`label`,`filters`,`filterMultiple`,`filteredValue`,`sortable`,`index`,`formatter`,`className`,`labelClassName`,`filterClassName`,`showOverflowTooltip`,`tooltipFormatter`,`resizable`],i=[`showOverflowTooltip`],a={property:`prop`,align:`realAlign`,headerAlign:`realHeaderAlign`},o=AP(r,a);Object.keys(o).forEach(e=>{let r=a[e];b(t,r)&&B(()=>t[r],t=>{n.columnConfig.value[e]=t,(e===`filters`||e===`filterMethod`)&&(n.columnConfig.value.filterable=!!(n.columnConfig.value.filters||n.columnConfig.value.filterMethod))})}),i.forEach(r=>{b(e.value.props,r)&&B(()=>e.value.props[r],e=>{n.columnConfig.value.type!==`selection`&&Bh(t[r])&&(n.columnConfig.value[r]=e)})})}}}function MP(e,t,n){let r=Ga(),i=L(``),a=L(!1),o=L(),s=L(),c=X(`table`);Xn(()=>{o.value=e.align?`is-${e.align}`:null,o.value}),Xn(()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:o.value,s.value});let l=Y(()=>{let e=r.vnode.vParent||r.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e}),u=Y(()=>{let{store:e}=r.parent;if(!e)return!1;let{treeData:t}=e.states,n=t.value;return n&&Object.keys(n).length>0}),d=L(AM(e.width)),f=L(jM(e.minWidth)),p=e=>(d.value&&(e.width=d.value),f.value&&(e.minWidth=f.value),!d.value&&f.value&&(e.width=void 0),e.minWidth||=80,e.realWidth=Number(Bh(e.width)?e.minWidth:e.width),e),m=e=>{let t=e.type,n=DP[t]||{};Object.keys(n).forEach(t=>{let r=n[t];t!==`className`&&!Bh(r)&&(e[t]=r)});let r=EP(t);if(r){let t=`${R(c.namespace)}-${r}`;e.className=e.className?`${e.className} ${t}`:t}return e},h=e=>{x(e)?e.forEach(e=>t(e)):t(e);function t(e){e?.type?.name===`ElTableColumn`&&(e.vParent=r)}};return{columnId:i,realAlign:o,isSubColumn:a,realHeaderAlign:s,columnOrTableParent:l,setColumnWidth:p,setColumnForcedProps:m,setColumnRenders:i=>{e.renderHeader||i.type!==`selection`&&(i.renderHeader=e=>{if(r.columnConfig.value.label,t.header){let n=t.header(e);if(KM(n))return oo(va,n)}return Fa(i.label)}),t[`filter-icon`]&&(i.renderFilterIcon=e=>H(t,`filter-icon`,e)),t.expand&&(i.renderExpand=e=>H(t,`expand`,e));let a=i.renderCell;return i.type===`expand`?(i.renderCell=e=>oo(`div`,{class:`cell`},[a(e)]),n.value.renderExpanded=e=>t.default?t.default(e):t.default):(a||=OP,i.renderCell=e=>{let r=null;if(t.default){let n=t.default(e);r=n.some(e=>e.type!==ba)?n:a(e)}else r=a(e);let{columns:o}=n.value.store.states,s=o.value.findIndex(e=>e.type===`default`),l=kP(e,u.value&&e.cellIndex===s),d={class:`cell`,style:{}};return i.showOverflowTooltip&&(d.class=`${d.class} ${R(c.namespace)}-tooltip`,d.style={width:`${(e.column.realWidth||Number(e.column.width))-1}px`}),h(r),oo(`div`,d,[l,r])}),i},getPropsData:(...t)=>t.reduce((t,n)=>(x(n)&&n.forEach(n=>{t[n]=e[n]}),t),{}),getColumnElIndex:(e,t)=>Array.prototype.indexOf.call(e,t),updateColumnOrder:()=>{n.value.store.commit(`updateColumnOrder`,r.columnConfig.value)}}}var NP={type:{type:String,default:`default`},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:``},minWidth:{type:[String,Number],default:``},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>[`ascending`,`descending`,null],validator:e=>e.every(e=>[`ascending`,`descending`,null].includes(e))}},PP=1,FP=V({name:`ElTableColumn`,components:{ElCheckbox:sE},props:NP,setup(e,{slots:t}){let n=Ga(),r=L({}),i=Y(()=>{let e=n.parent;for(;e&&!e.tableId;)e=e.parent;return e}),{registerNormalWatchers:a,registerComplexWatchers:o}=jP(i,e),{columnId:s,isSubColumn:c,realHeaderAlign:l,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:p,getPropsData:m,getColumnElIndex:h,realAlign:g,updateColumnOrder:_}=MP(e,t,i),v=u.value;s.value=`${`tableId`in v&&v.tableId||`columnId`in v&&v.columnId}_column_${PP++}`,Rr(()=>{c.value=i.value!==v;let t=e.type||`default`,u=e.sortable===``?!0:e.sortable,h=t===`selection`?!1:Bh(e.showOverflowTooltip)?v.props.showOverflowTooltip:e.showOverflowTooltip,_=Bh(e.tooltipFormatter)?v.props.tooltipFormatter:e.tooltipFormatter,y={...TP[t],id:s.value,type:t,property:e.prop||e.property,align:g,headerAlign:l,showOverflowTooltip:h,tooltipFormatter:_,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:``,filterClassName:``,isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:u,index:e.index,rawColumnKey:n.vnode.key},b=m([`columnKey`,`label`,`className`,`labelClassName`,`type`,`renderHeader`,`formatter`,`fixed`,`resizable`],[`sortMethod`,`sortBy`,`sortOrders`],[`selectable`,`reserveSelection`],[`filterMethod`,`filters`,`filterMultiple`,`filterOpened`,`filteredValue`,`filterPlacement`,`filterClassName`]);b=kM(y,b),b=NM(p,d,f)(b),r.value=b,a(),o()}),zr(()=>{let e=u.value,t=c.value?e.vnode.el?.children:e.refs.hiddenColumns?.children,a=()=>h(t||[],n.vnode.el);r.value.getColumnIndex=a,a()>-1&&i.value.store.commit(`insertColumn`,r.value,c.value?`columnConfig`in e&&e.columnConfig.value:null,_)}),Hr(()=>{let e=r.value.getColumnIndex;(e?e():-1)>-1&&i.value.store.commit(`removeColumn`,r.value,c.value?`columnConfig`in v&&v.columnConfig.value:null,_)}),n.columnId=s.value,n.columnConfig=r},render(){var e;try{let t=(e=this.$slots).default?.call(e,{row:{},column:{},$index:-1}),n=[];if(x(t))for(let e of t)e.type?.name===`ElTableColumn`||e.shapeFlag&2?n.push(e):e.type===va&&x(e.children)&&e.children.forEach(e=>{e?.patchFlag!==1024&&!E(e?.children)&&n.push(e)});return oo(`div`,n)}catch{return oo(`div`,[])}}}),IP=S_(CP,{TableColumn:FP}),LP=T_(FP),RP=(e=>(e.ASC=`asc`,e.DESC=`desc`,e))(RP||{}),zP=(e=>(e.LEFT=`left`,e.CENTER=`center`,e.RIGHT=`right`,e))(zP||{}),BP=(e=>(e.LEFT=`left`,e.RIGHT=`right`,e))(BP||{}),VP={asc:`desc`,desc:`asc`},HP=Symbol(`placeholder`),UP=(e,t,n)=>{let r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow??0,flexShrink:e.flexShrink??1}},i={...e.style??{},...r,flexBasis:`auto`,width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function WP(e,t,n){let r=Y(()=>R(t).map((e,t)=>({...e,key:e.key??e.dataKey??t}))),i=Y(()=>R(r).filter(e=>!e.hidden)),a=Y(()=>R(i).filter(e=>e.fixed===`left`||e.fixed===!0)),o=Y(()=>R(i).filter(e=>e.fixed===`right`)),s=Y(()=>R(i).filter(e=>!e.fixed)),c=Y(()=>{let e=[];return R(a).forEach(t=>{e.push({...t,placeholderSign:HP})}),R(s).forEach(t=>{e.push(t)}),R(o).forEach(t=>{e.push({...t,placeholderSign:HP})}),e}),l=Y(()=>R(a).length||R(o).length),u=Y(()=>R(r).reduce((t,r)=>(t[r.key]=UP(r,R(n),e.fixed),t),{})),d=Y(()=>R(i).reduce((e,t)=>e+t.width,0)),f=e=>R(r).find(t=>t.key===e),p=e=>R(u)[e],m=(e,t)=>{e.width=t};function h(t){var n;let{key:r}=t.currentTarget.dataset;if(!r)return;let{sortState:i,sortBy:a}=e,o=RP.ASC;o=O(i)?VP[i[r]]:VP[a.order],(n=e.onColumnSort)==null||n.call(e,{column:f(r),key:r,order:o})}return{columns:r,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:a,fixedColumnsOnRight:o,hasFixedColumns:l,mainColumns:c,normalColumns:s,visibleColumns:i,getColumn:f,getColumnStyle:p,updateColumnWidth:m,onColumnSorted:h}}var GP=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{let a=L({scrollLeft:0,scrollTop:0});function o(e){var i,a,o;let{scrollTop:s}=e;(i=t.value)==null||i.scrollTo(e),(a=n.value)==null||a.scrollToTop(s),(o=r.value)==null||o.scrollToTop(s)}function s(e){a.value=e,o(e)}function c(e){a.value.scrollTop=e,o(R(a))}function l(e){var n,r;a.value.scrollLeft=e,(r=(n=t.value)?.scrollTo)==null||r.call(n,R(a))}function u(t){var n;s(t),(n=e.onScroll)==null||n.call(e,t)}function d({scrollTop:e}){let{scrollTop:t}=R(a);e!==t&&c(e)}function f(e,n=`auto`){var r;(r=t.value)==null||r.scrollToRow(e,n)}return B(()=>R(a).scrollTop,(e,t)=>{e>t&&i()}),{scrollPos:a,scrollTo:s,scrollToLeft:l,scrollToTop:c,scrollToRow:f,onScroll:u,onVerticalScroll:d}},KP=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:i,ns:a,isScrolling:o})=>{let s=Ga(),{emit:c}=s,l=nn(!1),u=L(e.defaultExpandedRowKeys||[]),d=L(-1),f=nn(null),p=L({}),m=L({}),h=nn({}),g=nn({}),_=nn({}),v=Y(()=>Hh(e.estimatedRowHeight));function y(t){var n;(n=e.onRowsRendered)==null||n.call(e,t),t.rowCacheEnd>R(d)&&(d.value=t.rowCacheEnd)}function b({hovered:e,rowKey:t}){o.value||i.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach(t=>{e?t.classList.add(a.is(`hovered`)):t.classList.remove(a.is(`hovered`))})}function x({expanded:t,rowData:n,rowIndex:r,rowKey:o}){var s,l;let d=[...R(u)],f=d.indexOf(o);t?f===-1&&d.push(o):f>-1&&d.splice(f,1),u.value=d,c(`update:expandedRowKeys`,d),(s=e.onRowExpand)==null||s.call(e,{expanded:t,rowData:n,rowIndex:r,rowKey:o}),(l=e.onExpandedRowsChange)==null||l.call(e,d),i.vnode.el.querySelector(`.${a.is(`hovered`)}[rowkey="${String(o)}"]`)&&Mn(()=>b({hovered:!0,rowKey:o}))}let S=Vm(()=>{var e,i,a,o;l.value=!0,p.value={...R(p),...R(m)},C(R(f),!1),m.value={},f.value=null,(e=t.value)==null||e.forceUpdate(),(i=n.value)==null||i.forceUpdate(),(a=r.value)==null||a.forceUpdate(),(o=s.proxy)==null||o.$forceUpdate(),l.value=!1},0);function C(e,i=!1){R(v)&&[t,n,r].forEach(t=>{let n=R(t);n&&n.resetAfterRowIndex(e,i)})}function w(e,t,n){let r=R(f);(r===null||r>n)&&(f.value=n),m.value[e]=t}function T({rowKey:e,height:t,rowIndex:n},r){r?r===BP.RIGHT?_.value[e]=t:h.value[e]=t:g.value[e]=t;let i=Math.max(...[h,_,g].map(t=>t.value[e]||0));R(p)[e]!==i&&(w(e,i,n),S())}return{expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:v,isResetting:l,rowHeights:p,resetAfterIndex:C,onRowExpanded:x,onRowHovered:b,onRowsRendered:y,onRowHeightChange:T}},qP=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{let i=L({}),a=Y(()=>{let n={},{data:r,rowKey:a}=e,o=R(t);if(!o||!o.length)return r;let s=[],c=new Set;o.forEach(e=>c.add(e));let l=r.slice();for(l.forEach(e=>n[e[a]]=0);l.length>0;){let e=l.shift();s.push(e),c.has(e[a])&&x(e.children)&&e.children.length>0&&(l=[...e.children,...l],e.children.forEach(t=>n[t[a]]=n[e[a]]+1))}return i.value=n,s}),o=Y(()=>{let{data:t,expandColumnKey:n}=e;return n?R(a):t});return B(o,(e,t)=>{e!==t&&(n.value=-1,r(0,!0))}),{data:o,depthMap:i}},JP=(e,t)=>e+t,YP=e=>x(e)?e.reduce(JP,0):e,XP=(e,t,n={})=>T(e)?e(t):e??n,ZP=e=>([`width`,`maxWidth`,`minWidth`,`height`].forEach(t=>{e[t]=V_(e[t])}),e),QP=e=>Oa(e)?t=>oo(e,t):e,$P=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{let a=Y(()=>{let{fixed:n,width:r,vScrollbarSize:i}=e,a=r-i;return n?Math.max(Math.round(R(t)),a):a}),o=Y(()=>{let{height:t=0,maxHeight:r=0,footerHeight:i,hScrollbarSize:a}=e;if(r>0){let e=R(f),t=R(n),o=R(d)+e+t+a;return Math.min(o,r-i)}return t-i}),s=Y(()=>{let{maxHeight:t}=e,r=R(o);if(Hh(t)&&t>0)return r;let i=R(n)+R(d)+R(f);return Math.min(r,i)}),c=e=>e.width,l=Y(()=>YP(R(r).map(c))),u=Y(()=>YP(R(i).map(c))),d=Y(()=>YP(e.headerHeight)),f=Y(()=>(e.fixedData?.length||0)*e.rowHeight),p=Y(()=>R(o)-R(d)-R(f)),m=Y(()=>{let{style:t={},height:n,width:r}=e;return ZP({...t,height:n,width:r})});return{bodyWidth:a,fixedTableHeight:s,mainTableHeight:o,leftTableWidth:l,rightTableWidth:u,windowHeight:p,footerHeight:Y(()=>ZP({height:e.footerHeight})),emptyStyle:Y(()=>({top:V_(R(d)),bottom:V_(e.footerHeight),width:V_(e.width)})),rootStyle:m,headerHeight:d}};function eF(e){let t=L(),n=L(),r=L(),{columns:i,columnsStyles:a,columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,hasFixedColumns:l,mainColumns:u,onColumnSorted:d}=WP(e,fn(e,`columns`),fn(e,`fixed`)),{scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:h,onScroll:g,onVerticalScroll:_,scrollPos:v}=GP(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:he}),y=X(`table-v2`),b=Ga(),S=nn(!1),{expandedRowKeys:C,lastRenderedRowIndex:w,isDynamic:T,isResetting:E,rowHeights:D,resetAfterIndex:O,onRowExpanded:k,onRowHeightChange:A,onRowHovered:j,onRowsRendered:M}=KP(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:b,ns:y,isScrolling:S}),{data:ee,depthMap:te}=qP(e,{expandedRowKeys:C,lastRenderedRowIndex:w,resetAfterIndex:O}),N=Y(()=>{let{estimatedRowHeight:t,rowHeight:n}=e,r=R(ee);return Hh(t)?Object.values(R(D)).reduce((e,t)=>e+t,0):r.length*n}),{bodyWidth:ne,fixedTableHeight:re,mainTableHeight:ie,leftTableWidth:P,rightTableWidth:ae,windowHeight:oe,footerHeight:se,emptyStyle:ce,rootStyle:le,headerHeight:ue}=$P(e,{columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,rowsHeight:N}),de=L(),fe=Y(()=>{let t=R(ee).length===0;return x(e.fixedData)?e.fixedData.length===0&&t:t});function pe(t){let{estimatedRowHeight:n,rowHeight:r,rowKey:i}=e;return n?R(D)[R(ee)[t][i]]||n:r}let me=L(!1);function he(){let{onEndReached:t}=e;if(!t)return;let{scrollTop:n}=R(v),r=R(N),i=r-(n+R(oe))+e.hScrollbarSize;!me.value&&R(w)>=0&&r<=n+R(ie)-R(ue)?(me.value=!0,t(i)):me.value=!1}return B(()=>R(N),()=>me.value=!1),B(()=>e.expandedRowKeys,e=>C.value=e,{deep:!0}),{columns:i,containerRef:de,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:T,isResetting:E,isScrolling:S,hasFixedColumns:l,columnsStyles:a,columnsTotalWidth:o,data:ee,expandedRowKeys:C,depthMap:te,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,mainColumns:u,bodyWidth:ne,emptyStyle:ce,rootStyle:le,footerHeight:se,mainTableHeight:ie,fixedTableHeight:re,leftTableWidth:P,rightTableWidth:ae,showEmpty:fe,getRowHeight:pe,onColumnSorted:d,onRowHovered:j,onRowExpanded:k,onRowsRendered:M,onRowHeightChange:A,scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:h,onScroll:g,onVerticalScroll:_}}var tF=Symbol(`tableV2`),nF=`tableV2GridScrollLeft`,rF=String,iF={type:Z(Array),required:!0};Object;var aF={type:Z(Array)},oF={...aF,required:!0},sF=String,cF={type:Z(Array),default:()=>ly([])},lF={type:Number,required:!0},uF={type:Z([String,Number,Symbol]),default:`id`},dF={type:Z(Object)},fF=t_({class:String,columns:iF,columnsStyles:{type:Z(Object),required:!0},depth:Number,expandColumnKey:sF,estimatedRowHeight:{...QA.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Z(Function)},onRowHover:{type:Z(Function)},onRowHeightChange:{type:Z(Function)},rowData:{type:Z(Object),required:!0},rowEventHandlers:{type:Z(Object)},rowIndex:{type:Number,required:!0},rowKey:uF,style:{type:Z(Object)}}),pF={type:Number,required:!0},mF=t_({class:String,columns:iF,fixedHeaderData:{type:Z(Array)},headerData:{type:Z(Array),required:!0},headerHeight:{type:Z([Number,Array]),default:50},rowWidth:pF,rowHeight:{type:Number,default:50},height:pF,width:pF}),hF=t_({columns:iF,data:oF,fixedData:aF,estimatedRowHeight:fF.estimatedRowHeight,width:lF,height:lF,headerWidth:lF,headerHeight:mF.headerHeight,bodyWidth:lF,rowHeight:lF,cache:JA.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:QA.scrollbarAlwaysOn,scrollbarStartGap:QA.scrollbarStartGap,scrollbarEndGap:QA.scrollbarEndGap,class:rF,style:dF,containerStyle:dF,getRowHeight:{type:Z(Function),required:!0},rowKey:fF.rowKey,onRowsRendered:{type:Z(Function)},onScroll:{type:Z(Function)}}),gF=t_({cache:hF.cache,estimatedRowHeight:fF.estimatedRowHeight,rowKey:uF,headerClass:{type:Z([String,Function])},headerProps:{type:Z([Object,Function])},headerCellProps:{type:Z([Object,Function])},headerHeight:mF.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Z([String,Function])},rowProps:{type:Z([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Z([Object,Function])},columns:iF,data:oF,dataGetter:{type:Z(Function)},fixedData:aF,expandColumnKey:fF.expandColumnKey,expandedRowKeys:cF,defaultExpandedRowKeys:cF,class:rF,fixed:Boolean,style:{type:Z(Object)},width:lF,height:lF,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:QA.hScrollbarSize,vScrollbarSize:QA.vScrollbarSize,scrollbarAlwaysOn:$A.alwaysOn,sortBy:{type:Z(Object),default:()=>({})},sortState:{type:Z(Object),default:void 0},onColumnSort:{type:Z(Function)},onExpandedRowsChange:{type:Z(Function)},onEndReached:{type:Z(Function)},onRowExpand:fF.onRowExpand,onScroll:hF.onScroll,onRowsRendered:hF.onRowsRendered,rowEventHandlers:fF.rowEventHandlers}),_F=V({name:`ElTableV2Header`,props:mF,setup(e,{slots:t,expose:n}){let r=X(`table-v2`),i=qn(nF),a=L(),o=Y(()=>ZP({width:e.width,height:e.height})),s=Y(()=>ZP({width:e.rowWidth,height:e.height})),c=Y(()=>tp(R(e.headerHeight))),l=e=>{let t=R(a);Mn(()=>{t!=null&&t.scroll&&t.scroll({left:e})})},u=()=>{let n=r.e(`fixed-header-row`),{columns:i,fixedHeaderData:a,rowHeight:o}=e;return a?.map((e,r)=>{let a=ZP({height:o,width:`100%`});return t.fixed?.call(t,{class:n,columns:i,rowData:e,rowIndex:-(r+1),style:a})})},d=()=>{let n=r.e(`dynamic-header-row`),{columns:i}=e;return R(c).map((e,r)=>{let a=ZP({width:`100%`,height:e});return t.dynamic?.call(t,{class:n,columns:i,headerIndex:r,style:a})})};return Vr(()=>{i?.value&&l(i.value)}),n({scrollToLeft:l}),()=>{if(!(e.height<=0))return q(`div`,{ref:a,class:e.class,style:R(o),role:`rowgroup`},[q(`div`,{style:R(s),class:r.e(`header`)},[d(),u()])])}}}),vF=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},i)=>{let a=null,o=0,s=0,c=(i,a)=>{let o=i<0&&t.value||i>0&&e.value,s=a<0&&r.value||a>0&&n.value;return o||s};return{hasReachedEdge:c,onWheel:e=>{P_(a);let t=e.deltaX,n=e.deltaY;Math.abs(t)>Math.abs(n)?n=0:t=0,e.shiftKey&&n!==0&&(t=n,n=0),!c(t,n)&&(o+=t,s+=n,e.preventDefault(),a=N_(()=>{i(o,s),o=0,s=0}))}}},yF=(e,t,n,r,i,a,o)=>{let s=L(0),c=L(0),l,u=0,d=0,f=e=>{P_(l),s.value=e.touches[0].clientX,c.value=e.touches[0].clientY,u=0,d=0},p=e=>{e.preventDefault(),P_(l),u+=s.value-e.touches[0].clientX,d+=c.value-e.touches[0].clientY,s.value=e.touches[0].clientX,c.value=e.touches[0].clientY,l=N_(()=>{let e=r.value-R(a),s=i.value-R(o);n({scrollLeft:Math.min(t.value.scrollLeft+u,e),scrollTop:Math.min(t.value.scrollTop+d,s)}),u=0,d=0})};return bg(e,`touchstart`,f,{passive:!0}),bg(e,`touchmove`,p,{passive:!1}),{touchStartX:s,touchStartY:c,handleTouchStart:f,handleTouchMove:p}},bF=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:a,getEstimatedTotalWidth:o,getColumnOffset:s,getRowOffset:c,getRowPosition:l,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:p,validateProps:m})=>V({name:e??`ElVirtualList`,props:QA,emits:[EA,DA],setup(e,{emit:h,expose:g,slots:_}){let v=X(`vl`);m(e);let y=Ga(),x=L(f(e,y));p?.(y,x);let S=L(),C=L(),w=L(),T=L(),D=L({isScrolling:!1,scrollLeft:Hh(e.initScrollLeft)?e.initScrollLeft:0,scrollTop:Hh(e.initScrollTop)?e.initScrollTop:0,updateRequested:!1,xAxisScrollDir:OA,yAxisScrollDir:OA}),O=TA(),k=Y(()=>Number.parseInt(`${e.height}`,10)),A=Y(()=>Number.parseInt(`${e.width}`,10)),j=Y(()=>{let{totalColumn:t,totalRow:n,columnCache:a}=e,{isScrolling:o,xAxisScrollDir:s,scrollLeft:c}=R(D);if(t===0||n===0)return[0,0,0,0];let l=r(e,c,R(x)),u=i(e,l,c,R(x)),d=!o||s===`backward`?Math.max(1,a):1,f=!o||s===`forward`?Math.max(1,a):1;return[Math.max(0,l-d),Math.max(0,Math.min(t-1,u+f)),l,u]}),M=Y(()=>{let{totalColumn:t,totalRow:n,rowCache:r}=e,{isScrolling:i,yAxisScrollDir:a,scrollTop:o}=R(D);if(t===0||n===0)return[0,0,0,0];let s=u(e,o,R(x)),c=d(e,s,o,R(x)),l=!i||a===`backward`?Math.max(1,r):1,f=!i||a===`forward`?Math.max(1,r):1;return[Math.max(0,s-l),Math.max(0,Math.min(n-1,c+f)),s,c]}),ee=Y(()=>a(e,R(x))),te=Y(()=>o(e,R(x))),N=Y(()=>[{position:`relative`,overflow:`hidden`,WebkitOverflowScrolling:`touch`,willChange:`transform`},{direction:e.direction,height:Hh(e.height)?`${e.height}px`:e.height,width:Hh(e.width)?`${e.width}px`:e.width},e.style??{}]),ne=Y(()=>{let e=`${R(te)}px`;return{height:`${R(ee)}px`,pointerEvents:R(D).isScrolling?`none`:void 0,width:e,margin:0,boxSizing:`border-box`}}),re=()=>{let{totalColumn:t,totalRow:n}=e;if(t>0&&n>0){let[e,t,n,r]=R(j),[i,a,o,s]=R(M);h(EA,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:i,rowCacheEnd:a,columnVisibleStart:n,columnVisibleEnd:r,rowVisibleStart:o,rowVisibleEnd:s})}let{scrollLeft:r,scrollTop:i,updateRequested:a,xAxisScrollDir:o,yAxisScrollDir:s}=R(D);h(DA,{xAxisScrollDir:o,scrollLeft:r,yAxisScrollDir:s,scrollTop:i,updateRequested:a})},ie=t=>{let{clientHeight:n,clientWidth:r,scrollHeight:i,scrollLeft:a,scrollTop:o,scrollWidth:s}=t.currentTarget,c=R(D);if(c.scrollTop===o&&c.scrollLeft===a)return;let l=a;if(nj(e.direction))switch(ij()){case FA:l=-a;break;case LA:l=s-r-a;break}D.value={...c,isScrolling:!0,scrollLeft:l,scrollTop:Math.max(0,Math.min(o,i-n)),updateRequested:!0,xAxisScrollDir:ej(c.scrollLeft,l),yAxisScrollDir:ej(c.scrollTop,o)},Mn(()=>me()),he(),re()},P=(e,t)=>{let n=R(k),r=(ee.value-n)/t*e;se({scrollTop:Math.min(ee.value-n,r)})},ae=(e,t)=>{let n=R(A),r=(te.value-n)/t*e;se({scrollLeft:Math.min(te.value-n,r)})},{onWheel:oe}=vF({atXStartEdge:Y(()=>D.value.scrollLeft<=0),atXEndEdge:Y(()=>D.value.scrollLeft>=te.value-R(A)),atYStartEdge:Y(()=>D.value.scrollTop<=0),atYEndEdge:Y(()=>D.value.scrollTop>=ee.value-R(k))},(e,t)=>{var n,r,i,a;(r=(n=C.value)?.onMouseUp)==null||r.call(n),(a=(i=w.value)?.onMouseUp)==null||a.call(i);let o=R(A),s=R(k);se({scrollLeft:Math.min(D.value.scrollLeft+e,te.value-o),scrollTop:Math.min(D.value.scrollTop+t,ee.value-s)})});bg(S,`wheel`,oe,{passive:!1});let se=({scrollLeft:e=D.value.scrollLeft,scrollTop:t=D.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);let n=R(D);t===n.scrollTop&&e===n.scrollLeft||(D.value={...n,xAxisScrollDir:ej(n.scrollLeft,e),yAxisScrollDir:ej(n.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},Mn(()=>me()),he(),re())},{touchStartX:ce,touchStartY:le,handleTouchStart:ue,handleTouchMove:de}=yF(S,D,se,te,ee,A,k),fe=(t=0,n=0,r=AA)=>{let i=R(D);n=Math.max(0,Math.min(n,e.totalColumn-1)),t=Math.max(0,Math.min(t,e.totalRow-1));let l=G_(v.namespace.value),u=R(x),d=a(e,u),f=o(e,u);se({scrollLeft:s(e,n,r,i.scrollLeft,u,f>e.width?l:0),scrollTop:c(e,t,r,i.scrollTop,u,d>e.height?l:0)})},pe=(r,i)=>{let{columnWidth:a,direction:o,rowHeight:s}=e,c=O.value(t&&a,t&&s,t&&o),u=`${r},${i}`;if(b(c,u))return c[u];{let[,t]=n(e,i,R(x)),a=R(x),s=nj(o),[d,f]=l(e,r,a),[p]=n(e,i,a);return c[u]={position:`absolute`,left:s?void 0:`${t}px`,right:s?`${t}px`:void 0,top:`${f}px`,height:`${d}px`,width:`${p}px`},c[u]}},me=()=>{D.value.isScrolling=!1,Mn(()=>{O.value(-1,null,null)})};zr(()=>{if(!$h)return;let{initScrollLeft:t,initScrollTop:n}=e,r=R(S);r&&(Hh(t)&&(r.scrollLeft=t),Hh(n)&&(r.scrollTop=n)),re()});let he=()=>{let{direction:t}=e,{scrollLeft:n,scrollTop:r,updateRequested:i}=R(D),a=R(S);if(i&&a){if(t===`rtl`)switch(ij()){case FA:a.scrollLeft=-n;break;case IA:a.scrollLeft=n;break;default:{let{clientWidth:e,scrollWidth:t}=a;a.scrollLeft=t-e-n;break}}else a.scrollLeft=Math.max(0,n);a.scrollTop=Math.max(0,r)}},{resetAfterColumnIndex:ge,resetAfterRowIndex:_e,resetAfter:ve}=y.proxy;g({windowRef:S,innerRef:T,getItemStyleCache:O,touchStartX:ce,touchStartY:le,handleTouchStart:ue,handleTouchMove:de,scrollTo:se,scrollToItem:fe,states:D,resetAfterColumnIndex:ge,resetAfterRowIndex:_e,resetAfter:ve});let ye=()=>{let{scrollbarAlwaysOn:t,scrollbarStartGap:n,scrollbarEndGap:r,totalColumn:i,totalRow:a}=e,o=R(A),s=R(k),c=R(te),l=R(ee),{scrollLeft:u,scrollTop:d}=R(D);return{horizontalScrollbar:oo(oj,{ref:C,alwaysOn:t,startGap:n,endGap:r,class:v.e(`horizontal`),clientSize:o,layout:`horizontal`,onScroll:ae,ratio:o*100/c,scrollFrom:u/(c-o),total:a,visible:!0}),verticalScrollbar:oo(oj,{ref:w,alwaysOn:t,startGap:n,endGap:r,class:v.e(`vertical`),clientSize:s,layout:`vertical`,onScroll:P,ratio:s*100/l,scrollFrom:d/(l-s),total:i,visible:!0})}},F=()=>{let[t,n]=R(j),[r,i]=R(M),{data:a,totalColumn:o,totalRow:s,useIsScrolling:c,itemKey:l}=e,u=[];if(s>0&&o>0)for(let e=r;e<=i;e++)for(let r=t;r<=n;r++){let t=l({columnIndex:r,data:a,rowIndex:e});u.push(oo(va,{key:t},_.default?.call(_,{columnIndex:r,data:a,isScrolling:c?R(D).isScrolling:void 0,style:pe(e,r),rowIndex:e})))}return u},be=()=>{let t=Zr(e.innerElement),n=F();return[oo(t,za(e.innerProps,{style:R(ne),ref:T}),E(t)?n:{default:()=>n})]};return()=>{let t=Zr(e.containerElement),{horizontalScrollbar:n,verticalScrollbar:r}=ye(),i=be();return oo(`div`,{key:0,class:v.e(`wrapper`),role:e.role},[oo(t,{class:e.className,style:R(N),onScroll:ie,ref:S},E(t)?i:{default:()=>i}),n,r])}}}),{max:xF,min:SF,floor:CF}=Math,wF={column:`columnWidth`,row:`rowHeight`},TF={column:`lastVisitedColumnIndex`,row:`lastVisitedRowIndex`},EF=(e,t,n,r)=>{let[i,a,o]=[n[r],e[wF[r]],n[TF[r]]];if(t>o){let e=0;if(o>=0){let t=i[o];e=t.offset+t.size}for(let n=o+1;n<=t;n++){let t=a(n);i[n]={offset:e,size:t},e+=t}n[TF[r]]=t}return i[t]},DF=(e,t,n,r,i,a)=>{for(;n<=r;){let o=n+CF((r-n)/2),s=EF(e,o,t,a).offset;if(s===i)return o;s<i?n=o+1:r=o-1}return xF(0,n-1)},OF=(e,t,n,r,i)=>{let a=i===`column`?e.totalColumn:e.totalRow,o=1;for(;n<a&&EF(e,n,t,i).offset<r;)n+=o,o*=2;return DF(e,t,CF(n/2),SF(n,a-1),r,i)},kF=(e,t,n,r)=>{let[i,a]=[t[r],t[TF[r]]];return(a>0?i[a].offset:0)>=n?DF(e,t,0,a,n,r):OF(e,t,xF(0,a),n,r)},AF=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=e&&(n=e-1),n>=0){let e=r[n];i=e.offset+e.size}let a=(e-n-1)*t;return i+a},jF=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>e&&(r=e-1),r>=0){let e=t[r];i=e.offset+e.size}let a=(e-r-1)*n;return i+a},MF={column:jF,row:AF},NF=(e,t,n,r,i,a,o)=>{let[s,c]=[a===`row`?e.height:e.width,MF[a]],l=EF(e,t,i,a),u=xF(0,SF(c(e,i)-s,l.offset)),d=xF(0,l.offset-s+o+l.size);switch(n===`smart`&&(n=r>=d-s&&r<=u+s?AA:MA),n){case jA:return u;case`end`:return d;case MA:return Math.round(d+(u-d)/2);case AA:default:return r>=d&&r<=u?r:d>u||r<d?d:u}},PF=bF({name:`ElDynamicSizeGrid`,getColumnPosition:(e,t,n)=>{let r=EF(e,t,n,`column`);return[r.size,r.offset]},getRowPosition:(e,t,n)=>{let r=EF(e,t,n,`row`);return[r.size,r.offset]},getColumnOffset:(e,t,n,r,i,a)=>NF(e,t,n,r,i,`column`,a),getRowOffset:(e,t,n,r,i,a)=>NF(e,t,n,r,i,`row`,a),getColumnStartIndexForOffset:(e,t,n)=>kF(e,n,t,`column`),getColumnStopIndexForStartIndex:(e,t,n,r)=>{let i=EF(e,t,r,`column`),a=n+e.width,o=i.offset+i.size,s=t;for(;s<e.totalColumn-1&&o<a;)s++,o+=EF(e,t,r,`column`).size;return s},getEstimatedTotalHeight:AF,getEstimatedTotalWidth:jF,getRowStartIndexForOffset:(e,t,n)=>kF(e,n,t,`row`),getRowStopIndexForStartIndex:(e,t,n,r)=>{let{totalRow:i,height:a}=e,o=EF(e,t,r,`row`),s=n+a,c=o.size+o.offset,l=t;for(;l<i-1&&c<s;)l++,c+=EF(e,l,r,`row`).size;return l},injectToInstance:(e,t)=>{let n=({columnIndex:n,rowIndex:r},i)=>{var a,o;i=Bh(i)?!0:i,Hh(n)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,n-1)),Hh(r)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,r-1)),(a=e.exposed)==null||a.getItemStyleCache.value(-1,null,null),i&&((o=e.proxy)==null||o.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{n({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{n({rowIndex:e},t)},resetAfter:n})},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),FF=bF({name:`ElFixedSizeGrid`,getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,i,a,o,s)=>{n=Number(n);let c=Math.max(0,e*t-n),l=Math.min(c,r*t),u=Math.max(0,r*t-n+s+t);switch(i===`smart`&&(i=a>=u-n&&a<=l+n?AA:MA),i){case jA:return l;case`end`:return u;case MA:{let e=Math.round(u+(l-u)/2);return e<Math.ceil(n/2)?0:e>c+Math.floor(n/2)?c:e}case AA:default:return a>=u&&a<=l?a:u>l||a<u?u:l}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,i,a,o,s)=>{t=Number(t);let c=Math.max(0,n*e-t),l=Math.min(c,r*e),u=Math.max(0,r*e-t+s+e);switch(i===`smart`&&(i=a>=u-t&&a<=l+t?AA:MA),i){case jA:return l;case`end`:return u;case MA:{let e=Math.round(u+(l-u)/2);return e<Math.ceil(t/2)?0:e>c+Math.floor(t/2)?c:e}case AA:default:return a>=u&&a<=l?a:u>l||a<u?u:l}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,i)=>{let a=r*e,o=Math.ceil((n+i-a)/e);return Math.max(0,Math.min(t-1,r+o-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,i)=>{let a=r*e,o=Math.ceil((n+i-a)/e);return Math.max(0,Math.min(t-1,r+o-1))},initCache:()=>void 0,clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),IF=`ElTableV2Grid`,LF=e=>{let t=L(),n=L(),r=L(0),i=Y(()=>{let{data:t,rowHeight:n,estimatedRowHeight:r}=e;if(!r)return t.length*n}),a=Y(()=>{let{fixedData:t,rowHeight:n}=e;return(t?.length||0)*n}),o=Y(()=>YP(e.headerHeight)),s=Y(()=>{let{height:t}=e;return Math.max(0,t-R(o)-R(a))}),c=Y(()=>R(o)+R(a)>0),l=({data:t,rowIndex:n})=>t[n][e.rowKey];function u({rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:r,rowVisibleEnd:i}){var a;(a=e.onRowsRendered)==null||a.call(e,{rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:r,rowVisibleEnd:i})}function d(e,t){var r;(r=n.value)==null||r.resetAfterRowIndex(e,t)}function f(e,i){let a=R(t),o=R(n);O(e)?(a?.scrollToLeft(e.scrollLeft),r.value=e.scrollLeft,o?.scrollTo(e)):(a?.scrollToLeft(e),r.value=e,o?.scrollTo({scrollLeft:e,scrollTop:i}))}function p(e){var t;(t=R(n))==null||t.scrollTo({scrollTop:e})}function m(e,t){let i=R(n);if(!i)return;let a=r.value;i.scrollToItem(e,0,t),a&&f({scrollLeft:a})}function h(){var e,r;(e=R(n))==null||e.$forceUpdate(),(r=R(t))==null||r.$forceUpdate()}return B(()=>e.bodyWidth,()=>{var t;Hh(e.estimatedRowHeight)&&((t=n.value)==null||t.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:h,fixedRowHeight:a,gridHeight:s,hasHeader:c,headerHeight:o,headerRef:t,totalHeight:i,itemKey:l,onItemRendered:u,resetAfterRowIndex:d,scrollTo:f,scrollToTop:p,scrollToRow:m,scrollLeft:r}},RF=V({name:IF,props:hF,setup(e,{slots:t,expose:n}){let{ns:r}=qn(tF),{bodyRef:i,fixedRowHeight:a,gridHeight:o,hasHeader:s,headerRef:c,headerHeight:l,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:p,resetAfterRowIndex:m,scrollTo:h,scrollToTop:g,scrollToRow:_,scrollLeft:v}=LF(e);Kn(nF,v),Mr(async()=>{await Mn();let e=i.value?.states.scrollTop;e&&g(Math.round(e)+1)}),n({forceUpdate:d,totalHeight:u,scrollTo:h,scrollToTop:g,scrollToRow:_,resetAfterRowIndex:m});let y=()=>e.bodyWidth;return()=>{let{cache:n,columns:u,data:d,fixedData:m,useIsScrolling:h,scrollbarAlwaysOn:g,scrollbarEndGap:_,scrollbarStartGap:v,style:b,rowHeight:x,bodyWidth:S,estimatedRowHeight:C,headerWidth:w,height:T,width:E,getRowHeight:D,onScroll:O}=e,k=Hh(C),A=k?PF:FF,j=R(l);return q(`div`,{role:`table`,class:[r.e(`table`),e.class],style:b},[q(A,{ref:i,data:d,useIsScrolling:h,itemKey:f,columnCache:0,columnWidth:k?y:S,totalColumn:1,totalRow:d.length,rowCache:n,rowHeight:k?D:x,width:E,height:R(o),class:r.e(`body`),role:`rowgroup`,scrollbarStartGap:v,scrollbarEndGap:_,scrollbarAlwaysOn:g,onScroll:O,onItemRendered:p,perfMode:!1},{default:e=>{let n=d[e.rowIndex];return t.row?.call(t,{...e,columns:u,rowData:n})}}),R(s)&&q(_F,{ref:c,class:r.e(`header-wrapper`),columns:u,headerData:d,headerHeight:e.headerHeight,fixedHeaderData:m,rowWidth:w,rowHeight:x,width:E,height:Math.min(j+R(a),T)},{dynamic:t.header,fixed:t.row})])}}});function zF(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Oa(e)}var BF=(e,{slots:t})=>{let{mainTableRef:n,...r}=e;return q(RF,za({ref:n},r),zF(t)?t:{default:()=>[t]})};function VF(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Oa(e)}var HF=(e,{slots:t})=>{if(!e.columns.length)return;let{leftTableRef:n,...r}=e;return q(RF,za({ref:n},r),VF(t)?t:{default:()=>[t]})};function UF(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Oa(e)}var WF=(e,{slots:t})=>{if(!e.columns.length)return;let{rightTableRef:n,...r}=e;return q(RF,za({ref:n},r),UF(t)?t:{default:()=>[t]})},GF=e=>{let{isScrolling:t}=qn(tF),n=L(!1),r=L(),i=Y(()=>Hh(e.estimatedRowHeight)&&e.rowIndex>=0),a=(t=!1)=>{let i=R(r);if(!i)return;let{columns:a,onRowHeightChange:o,rowKey:s,rowIndex:c,style:l}=e,{height:u}=i.getBoundingClientRect();n.value=!0,Mn(()=>{if(t||u!==Number.parseInt(l.height)){let e=a[0],t=e?.placeholderSign===HP;o?.({rowKey:s,height:u,rowIndex:c},e&&!t&&e.fixed)}})},o=Y(()=>{let{rowData:t,rowIndex:n,rowKey:r,onRowHover:i}=e,a=e.rowEventHandlers||{},o={};return Object.entries(a).forEach(([e,i])=>{T(i)&&(o[e]=e=>{i({event:e,rowData:t,rowIndex:n,rowKey:r})})}),i&&[{name:`onMouseleave`,hovered:!1},{name:`onMouseenter`,hovered:!0}].forEach(({name:e,hovered:a})=>{let s=o[e];o[e]=e=>{i({event:e,hovered:a,rowData:t,rowIndex:n,rowKey:r}),s?.(e)}}),o});return zr(()=>{R(i)&&a(!0)}),{isScrolling:t,measurable:i,measured:n,rowRef:r,eventHandlers:o,onExpand:t=>{let{onRowExpand:n,rowData:r,rowIndex:i,rowKey:a}=e;n?.({expanded:t,rowData:r,rowIndex:i,rowKey:a})}}},KF=V({name:`ElTableV2TableRow`,props:fF,setup(e,{expose:t,slots:n,attrs:r}){let{eventHandlers:i,isScrolling:a,measurable:o,measured:s,rowRef:c,onExpand:l}=GF(e);return t({onExpand:l}),()=>{let{columns:t,columnsStyles:u,expandColumnKey:d,depth:f,rowData:p,rowIndex:m,style:h}=e,g=t.map((e,r)=>{let i=x(p.children)&&p.children.length>0&&e.key===d;return n.cell({column:e,columns:t,columnIndex:r,depth:f,style:u[e.key],rowData:p,rowIndex:m,isScrolling:R(a),expandIconProps:i?{rowData:p,rowIndex:m,onExpand:l}:void 0})});if(n.row&&(g=n.row({cells:g.map(e=>x(e)&&e.length===1?e[0]:e),style:h,columns:t,depth:f,rowData:p,rowIndex:m,isScrolling:R(a)})),R(o)){let{height:t,...n}=h||{},a=R(s);return q(`div`,za({ref:c,class:e.class,style:a?h:n,role:`row`},r,R(i)),[g])}return q(`div`,za(r,{ref:c,class:e.class,style:h,role:`row`},R(i)),[g])}}});function qF(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Oa(e)}var JF=(e,{slots:t})=>{let{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:a,expandedRowKeys:o,estimatedRowHeight:s,hasFixedColumns:c,rowData:l,rowIndex:u,style:d,isScrolling:f,rowProps:p,rowClass:m,rowKey:h,rowEventHandlers:g,ns:_,onRowHovered:v,onRowExpanded:y}=e,b=XP(m,{columns:n,rowData:l,rowIndex:u},``),x=XP(p,{columns:n,rowData:l,rowIndex:u}),S=l[h],C=i[S]||0,w=!!a,T=u<0,E=[_.e(`row`),b,_.is(`expanded`,w&&o.includes(S)),_.is(`fixed`,!C&&T),_.is(`customized`,!!t.row),{[_.e(`row-depth-${C}`)]:w&&u>=0}],D=c?v:void 0;return q(KF,za({...x,columns:n,columnsStyles:r,class:E,depth:C,expandColumnKey:a,estimatedRowHeight:T?void 0:s,isScrolling:f,rowIndex:u,rowData:l,rowKey:S,rowEventHandlers:g,style:d},{onRowExpand:y,onMouseenter:e=>{D?.({hovered:!0,rowKey:S,event:e,rowData:l,rowIndex:u})},onMouseleave:e=>{D?.({hovered:!1,rowKey:S,event:e,rowData:l,rowIndex:u})},rowkey:S}),qF(t)?t:{default:()=>[t]})},YF=(e,{slots:t})=>{let{cellData:n,style:r}=e,i=(n?.toString)?.call(n)||``,a=H(t,`default`,e,()=>[i]);return q(`div`,{class:e.class,title:i,style:r},[a])};YF.displayName=`ElTableV2Cell`,YF.inheritAttrs=!1;var XF=YF,ZF=e=>{let{expanded:t,expandable:n,onExpand:r,style:i,size:a,ariaLabel:o}=e;return q(`button`,za({onClick:n?()=>r(!t):void 0,ariaLabel:o,ariaExpanded:t,class:e.class},{type:`button`}),[q(Q_,{size:a,style:i},{default:()=>[q(tv,null,null)]})])};ZF.inheritAttrs=!1;var QF=ZF,$F=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:i,isScrolling:a,rowData:o,rowIndex:s,style:c,expandedRowKeys:l,ns:u,t:d,cellProps:f,expandColumnKey:p,indentSize:m,iconSize:h,rowKey:g},{slots:_})=>{let v=ZP(c);if(t.placeholderSign===HP)return q(`div`,{class:u.em(`row-cell`,`placeholder`),style:v},null);let{cellRenderer:y,dataKey:b,dataGetter:x}=t,S=T(x)?x({columns:e,column:t,columnIndex:n,rowData:o,rowIndex:s}):jf(o,b??``),C=XP(f,{cellData:S,columns:e,column:t,columnIndex:n,rowIndex:s,rowData:o}),w={class:u.e(`cell-text`),columns:e,column:t,columnIndex:n,cellData:S,isScrolling:a,rowData:o,rowIndex:s},E=QP(y),D=E?E(w):H(_,`default`,w,()=>[q(XF,w,null)]),k=[u.e(`row-cell`),t.class,t.align===zP.CENTER&&u.is(`align-center`),t.align===zP.RIGHT&&u.is(`align-right`)],A=s>=0&&p&&t.key===p,j=s>=0&&l.includes(o[g]),M,ee=`margin-inline-start: ${r*m}px;`;return A&&(M=O(i)?q(QF,za(i,{class:[u.e(`expand-icon`),u.is(`expanded`,j)],size:h,expanded:j,ariaLabel:d(j?`el.table.collapseRowLabel`:`el.table.expandRowLabel`),style:ee,expandable:!0}),null):q(`div`,{style:[ee,`width: ${h}px; height: ${h}px;`].join(` `)},null)),q(`div`,za({class:k,style:v},C,{role:`cell`}),[M,D])};$F.inheritAttrs=!1;var eI=$F,tI=V({name:`ElTableV2HeaderRow`,props:t_({class:String,columns:iF,columnsStyles:{type:Z(Object),required:!0},headerIndex:Number,style:{type:Z(Object)}}),setup(e,{slots:t}){return()=>{let{columns:n,columnsStyles:r,headerIndex:i,style:a}=e,o=n.map((e,a)=>t.cell({columns:n,column:e,columnIndex:a,headerIndex:i,style:r[e.key]}));return t.header&&(o=t.header({cells:o.map(e=>x(e)&&e.length===1?e[0]:e),columns:n,headerIndex:i})),q(`div`,{class:e.class,style:a,role:`row`},[o])}}});function nI(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Oa(e)}var rI=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:i,headerProps:a,ns:o},{slots:s})=>{let c={columns:e,headerIndex:n},l=[o.e(`header-row`),XP(i,c,``),o.is(`customized`,!!s.header)];return q(tI,{...XP(a,c),columnsStyles:t,class:l,columns:e,headerIndex:n,style:r},nI(s)?s:{default:()=>[s]})},iI=(e,{slots:t})=>H(t,`default`,e,()=>[q(`div`,{class:e.class,title:e.column?.title},[e.column?.title])]);iI.displayName=`ElTableV2HeaderCell`,iI.inheritAttrs=!1;var aI=iI,oI=e=>{let{sortOrder:t}=e;return q(`button`,{type:`button`,"aria-label":e.ariaLabel,class:e.class},[q(Q_,{size:14},{default:()=>[t===RP.ASC?q(Nv,null,null):q(Mv,null,null)]})])},sI=(e,{slots:t})=>{let{column:n,ns:r,t:i,style:a,onColumnSorted:o}=e,s=ZP(a);if(n.placeholderSign===HP)return q(`div`,{class:r.em(`header-row-cell`,`placeholder`),style:s},null);let{headerCellRenderer:c,headerClass:l,sortable:u}=n,d={...e,class:r.e(`header-cell-text`)},f=QP(c),p=f?f(d):H(t,`default`,d,()=>[q(aI,d,null)]),{sortBy:m,sortState:h,headerCellProps:g}=e,_,v,y;if(h){let e=h[n.key];_=!!VP[e],v=_?e:RP.ASC}else _=n.key===m.key,v=_?m.order:RP.ASC;y=v===RP.ASC?`ascending`:v===RP.DESC?`descending`:void 0;let b=[r.e(`header-cell`),XP(l,e,``),n.align===zP.CENTER&&r.is(`align-center`),n.align===zP.RIGHT&&r.is(`align-right`),u&&r.is(`sortable`)];return q(`div`,za({...XP(g,e),onClick:n.sortable?o:void 0,ariaSort:u?y:void 0,class:b,style:s,"data-key":n.key},{role:`columnheader`}),[p,u&&q(oI,{class:[r.e(`sort-icon`),_&&r.is(`sorting`)],sortOrder:v,ariaLabel:i(`el.table.sortLabel`,{column:n.title||``})},null)])},cI=(e,{slots:t})=>q(`div`,{class:e.class,style:e.style},[t.default?.call(t)]);cI.displayName=`ElTableV2Footer`;var lI=cI,uI=(e,{slots:t})=>{let n=H(t,`default`,{},()=>[q(FO,null,null)]);return q(`div`,{class:e.class,style:e.style},[n])};uI.displayName=`ElTableV2Empty`;var dI=uI,fI=(e,{slots:t})=>q(`div`,{class:e.class,style:e.style},[t.default?.call(t)]);fI.displayName=`ElTableV2Overlay`;var pI=fI;function mI(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Oa(e)}var hI=V({name:`ElTableV2`,props:gF,setup(e,{slots:t,expose:n}){let r=X(`table-v2`),{t:i}=Zg(),{columnsStyles:a,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,mainColumns:c,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:d,rightTableWidth:f,data:p,depthMap:m,expandedRowKeys:h,hasFixedColumns:g,mainTableRef:_,leftTableRef:v,rightTableRef:y,isDynamic:b,isResetting:x,isScrolling:S,bodyWidth:C,emptyStyle:w,rootStyle:T,footerHeight:E,showEmpty:D,scrollTo:O,scrollToLeft:k,scrollToTop:A,scrollToRow:j,getRowHeight:M,onColumnSorted:ee,onRowHeightChange:te,onRowHovered:N,onRowExpanded:ne,onRowsRendered:re,onScroll:ie,onVerticalScroll:P}=eF(e);return n({scrollTo:O,scrollToLeft:k,scrollToTop:A,scrollToRow:j}),Kn(tF,{ns:r,isResetting:x,isScrolling:S}),()=>{let{cache:n,cellProps:x,estimatedRowHeight:S,expandColumnKey:O,fixedData:k,headerHeight:A,headerClass:j,headerProps:ae,headerCellProps:oe,sortBy:se,sortState:ce,rowHeight:le,rowClass:ue,rowEventHandlers:de,rowKey:fe,rowProps:pe,scrollbarAlwaysOn:me,indentSize:he,iconSize:ge,useIsScrolling:_e,vScrollbarSize:ve,width:ye}=e,F=R(p),be={cache:n,class:r.e(`main`),columns:R(c),data:F,fixedData:k,estimatedRowHeight:S,bodyWidth:R(C),headerHeight:A,headerWidth:R(C),height:R(l),mainTableRef:_,rowKey:fe,rowHeight:le,scrollbarAlwaysOn:me,scrollbarStartGap:2,scrollbarEndGap:ve,useIsScrolling:_e,width:ye,getRowHeight:M,onRowsRendered:re,onScroll:ie},xe=R(d),Se=R(u),Ce={cache:n,class:r.e(`left`),columns:R(o),data:F,fixedData:k,estimatedRowHeight:S,leftTableRef:v,rowHeight:le,bodyWidth:xe,headerWidth:xe,headerHeight:A,height:Se,rowKey:fe,scrollbarAlwaysOn:me,scrollbarStartGap:2,scrollbarEndGap:ve,useIsScrolling:_e,width:xe,getRowHeight:M,onScroll:P},we=R(f),Te={cache:n,class:r.e(`right`),columns:R(s),data:F,fixedData:k,estimatedRowHeight:S,rightTableRef:y,rowHeight:le,bodyWidth:we,headerWidth:we,headerHeight:A,height:Se,rowKey:fe,scrollbarAlwaysOn:me,scrollbarStartGap:2,scrollbarEndGap:ve,width:we,style:`${r.cssVarName(`table-scrollbar-size`)}: ${ve}px`,useIsScrolling:_e,getRowHeight:M,onScroll:P},Ee=R(a),De={ns:r,depthMap:R(m),columnsStyles:Ee,expandColumnKey:O,expandedRowKeys:R(h),estimatedRowHeight:S,hasFixedColumns:R(g),rowProps:pe,rowClass:ue,rowKey:fe,rowEventHandlers:de,onRowHovered:N,onRowExpanded:ne,onRowHeightChange:te},I={cellProps:x,expandColumnKey:O,indentSize:he,iconSize:ge,rowKey:fe,expandedRowKeys:R(h),ns:r,t:i},Oe={ns:r,headerClass:j,headerProps:ae,columnsStyles:Ee},ke={ns:r,t:i,sortBy:se,sortState:ce,headerCellProps:oe,onColumnSorted:ee},Ae={row:e=>q(JF,za(e,De),{row:t.row,cell:e=>{let n;return t.cell?q(eI,za(e,I,{style:Ee[e.column.key]}),mI(n=t.cell(e))?n:{default:()=>[n]}):q(eI,za(e,I,{style:Ee[e.column.key]}),null)}}),header:e=>q(rI,za(e,Oe),{header:t.header,cell:e=>{let n;return t[`header-cell`]?q(sI,za(e,ke,{style:Ee[e.column.key]}),mI(n=t[`header-cell`](e))?n:{default:()=>[n]}):q(sI,za(e,ke,{style:Ee[e.column.key]}),null)}})},je=[e.class,r.b(),r.e(`root`),r.is(`dynamic`,R(b))],Me={class:r.e(`footer`),style:R(E)};return q(`div`,{class:je,style:R(T)},[q(BF,be,mI(Ae)?Ae:{default:()=>[Ae]}),q(HF,Ce,mI(Ae)?Ae:{default:()=>[Ae]}),q(WF,Te,mI(Ae)?Ae:{default:()=>[Ae]}),t.footer&&q(lI,Me,{default:t.footer}),R(D)&&q(dI,{class:r.e(`empty`),style:R(w)},{default:t.empty}),t.overlay&&q(pI,{class:r.e(`overlay`)},{default:t.overlay})])}}}),gI=t_({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Z(Function)}}),_I=e=>{let t=L(),n=L(0),r=L(0),i;return zr(()=>{i=jg(t,([e])=>{let{width:t,height:i}=e.contentRect,{paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:c}=getComputedStyle(e.target),l=Number.parseInt(a)||0,u=Number.parseInt(o)||0,d=Number.parseInt(s)||0,f=Number.parseInt(c)||0;n.value=t-l-u,r.value=i-d-f}).stop}),Hr(()=>{i?.()}),B([n,r],([t,n])=>{var r;(r=e.onResize)==null||r.call(e,{width:t,height:n})}),{sizer:t,width:n,height:r}},vI=V({name:`ElAutoResizer`,props:gI,setup(e,{slots:t}){let n=X(`auto-resizer`),{height:r,width:i,sizer:a}=_I(e),o={width:`100%`,height:`100%`};return()=>q(`div`,{ref:a,class:n.b(),style:o},[t.default?.call(t,{height:r.value,width:i.value})])}}),yI=S_(hI),bI=S_(vI),xI=Symbol(`tabsRootContextKey`),SI=t_({tabs:{type:Z(Array),default:()=>ly([])},tabRefs:{type:Z(Object),default:()=>ly({})}}),CI=`ElTabBar`,wI=b_(V({name:CI,__name:`tab-bar`,props:SI,setup(e,{expose:t}){let n=e,r=qn(xI);r||zg(CI,`<el-tabs><el-tab-bar /></el-tabs>`);let i=X(`tabs`),a=L(),o=L(),s=Y(()=>Bh(r.props.defaultValue)||!!o.value?.transform),c=()=>{let e=0,t=0,i=[`top`,`bottom`].includes(r.props.tabPosition)?`width`:`height`,a=i===`width`?`x`:`y`,o=a===`x`?`left`:`top`;return n.tabs.every(r=>{if(Bh(r.paneName))return!1;let a=n.tabRefs[r.paneName];if(!a)return!1;if(!r.active)return!0;e=a[`offset${NT(o)}`],t=a[`client${NT(i)}`];let s=window.getComputedStyle(a);return i===`width`&&(t-=Number.parseFloat(s.paddingLeft)+Number.parseFloat(s.paddingRight),e+=Number.parseFloat(s.paddingLeft)),!1}),{[i]:`${t}px`,transform:`translate${NT(a)}(${e}px)`}},l=()=>o.value=c(),u=[],d=()=>{u.forEach(e=>e.stop()),u.length=0,Object.values(n.tabRefs).forEach(e=>{u.push(jg(e,l))})};B(()=>n.tabs,async()=>{await Mn(),l(),d()},{immediate:!0});let f=jg(a,()=>l());return Hr(()=>{u.forEach(e=>e.stop()),u.length=0,f.stop()}),t({ref:a,update:l}),(e,t)=>s.value?(U(),W(`div`,{key:0,ref_key:`barRef`,ref:a,class:F([R(i).e(`active-bar`),R(i).is(R(r).props.tabPosition)]),style:he(o.value)},null,6)):J(`v-if`,!0)}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue`]]),TI=t_({panes:{type:Z(Array),default:()=>ly([])},currentName:{type:[String,Number],default:``},editable:Boolean,type:{type:String,values:[`card`,`border-card`,``],default:``},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),EI={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},DI=`ElTabNav`,OI=V({name:DI,props:TI,emits:EI,setup(e,{expose:t,emit:n}){let r=qn(xI);r||zg(DI,`<el-tabs><tab-nav /></el-tabs>`);let i=X(`tabs`),a=Ag(),o=Ig(),s=L(),c=L(),l=L(),u=L({}),d=L(),f=L(!1),p=L(0),m=L(!1),h=L(!0),g=nn(),_=Y(()=>[`top`,`bottom`].includes(r.props.tabPosition)),v=Y(()=>_.value?`width`:`height`),y=Y(()=>({transform:`translate${v.value===`width`?`X`:`Y`}(-${p.value}px)`})),{width:b,height:x}=Ng(s),{width:S,height:C}=Ng(c,{width:0,height:0},{box:`border-box`}),w=Y(()=>_.value?b.value:x.value),T=Y(()=>_.value?S.value:C.value),{onWheel:E}=zA({atStartEdge:Y(()=>p.value<=0),atEndEdge:Y(()=>T.value-p.value<=w.value),layout:Y(()=>_.value?`horizontal`:`vertical`)},e=>{p.value=ap(p.value+e,0,T.value-w.value)}),D=()=>{if(!s.value)return;let e=s.value[`offset${NT(v.value)}`],t=p.value;t&&(p.value=t>e?t-e:0)},O=()=>{if(!s.value||!c.value)return;let e=c.value[`offset${NT(v.value)}`],t=s.value[`offset${NT(v.value)}`],n=p.value;e-n<=t||(p.value=e-n>t*2?n+t:e-t)},k=async()=>{let t=c.value;if(!f.value||!l.value||!s.value||!t)return;await Mn();let n=u.value[e.currentName];if(!n)return;let r=s.value,i=n.getBoundingClientRect(),a=r.getBoundingClientRect(),o=_.value?t.offsetWidth-a.width:t.offsetHeight-a.height,d=p.value,m=d;_.value?(i.left<a.left&&(m=d-(a.left-i.left)),i.right>a.right&&(m=d+i.right-a.right)):(i.top<a.top&&(m=d-(a.top-i.top)),i.bottom>a.bottom&&(m=d+(i.bottom-a.bottom))),m=Math.max(m,0),p.value=Math.min(m,o)},A=()=>{var t;if(!c.value||!s.value)return;e.stretch&&((t=d.value)==null||t.update());let n=c.value[`offset${NT(v.value)}`],r=s.value[`offset${NT(v.value)}`],i=p.value;r<n?(f.value=f.value||{},f.value.prev=i,f.value.next=i+r<n,n-i<r&&(p.value=n-r)):(f.value=!1,i>0&&(p.value=0))},j=e=>{let t=Gb(e),n=0;switch(t){case Q.left:case Q.up:n=-1;break;case Q.right:case Q.down:n=1;break;default:return}let r=Array.from(e.currentTarget.querySelectorAll(`[role=tab]:not(.is-disabled)`)),i=r.indexOf(e.target)+n;i<0?i=r.length-1:i>=r.length&&(i=0),r[i].focus({preventScroll:!0}),r[i].click(),M()},M=()=>{h.value&&(m.value=!0)},ee=()=>m.value=!1,te=(e,t)=>{u.value[t]=e};return B(a,e=>{e===`hidden`?h.value=!1:e===`visible`&&setTimeout(()=>h.value=!0,50)}),B(o,e=>{e?setTimeout(()=>h.value=!0,50):h.value=!1}),jg(l,()=>{N_(A)}),zr(()=>setTimeout(()=>k(),0)),Vr(()=>A()),t({scrollToActiveTab:k,removeFocus:ee,focusActiveTab:async()=>{await Mn(),u.value[e.currentName]?.focus({preventScroll:!0})},tabListRef:c,tabBarRef:d,scheduleRender:()=>on(g)}),()=>{let t=f.value?[q(`span`,{class:[i.e(`nav-prev`),i.is(`disabled`,!f.value.prev)],onClick:D},[q(Q_,null,{default:()=>[q(ev,null,null)]})]),q(`span`,{class:[i.e(`nav-next`),i.is(`disabled`,!f.value.next)],onClick:O},[q(Q_,null,{default:()=>[q(tv,null,null)]})])]:null,a=e.panes.map((t,a)=>{var o;let s=t.uid,c=t.props.disabled,l=t.props.name??t.index??`${a}`,u=!c&&(t.isClosable||t.props.closable!==!1&&e.editable);t.index=`${a}`;let d=u?q(Q_,{class:`is-icon-close`,onClick:e=>n(`tabRemove`,t,e)},{default:()=>[q(pv,null,null)]}):null,f=(o=t.slots).label?.call(o)||t.props.label,p=!c&&t.active?e.tabindex??r.props.tabindex:-1;return q(`div`,{ref:e=>te(e,l),class:[i.e(`item`),i.is(r.props.tabPosition),i.is(`active`,t.active),i.is(`disabled`,c),i.is(`closable`,u),i.is(`focus`,m.value)],id:`tab-${l}`,key:`tab-${s}`,"aria-controls":`pane-${l}`,role:`tab`,"aria-selected":t.active,tabindex:p,onFocus:()=>M(),onBlur:()=>ee(),onClick:e=>{ee(),n(`tabClick`,t,l,e)},onKeydown:e=>{let r=Gb(e);u&&(r===Q.delete||r===Q.backspace)&&n(`tabRemove`,t,e)}},[...[f,d]])});return g.value,q(`div`,{ref:l,class:[i.e(`nav-wrap`),i.is(`scrollable`,!!f.value),i.is(r.props.tabPosition)]},[t,q(`div`,{class:i.e(`nav-scroll`),ref:s},[e.panes.length>0?q(`div`,{class:[i.e(`nav`),i.is(r.props.tabPosition),i.is(`stretch`,e.stretch&&[`top`,`bottom`].includes(r.props.tabPosition))],ref:c,style:y.value,role:`tablist`,onKeydown:j,onWheel:E},[...[e.type?null:q(wI,{ref:d,tabs:[...e.panes],tabRefs:u.value},null),a]]):null])])}}}),kI=t_({type:{type:String,values:[`card`,`border-card`,``],default:``},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:[`top`,`right`,`bottom`,`left`],default:`top`},beforeLeave:{type:Z(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),AI=e=>E(e)||Hh(e),jI=V({name:`ElTabs`,props:kI,emits:{[D_]:e=>AI(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>AI(e),edit:(e,t)=>[`remove`,`add`].includes(t),tabRemove:e=>AI(e),tabAdd:()=>!0},setup(e,{emit:t,slots:n,expose:r}){let i=X(`tabs`),a=Y(()=>[`left`,`right`].includes(e.tabPosition)),{children:o,addChild:s,removeChild:c,ChildrenSorter:l}=YT(Ga(),`ElTabPane`),u=L(),d=L((Bh(e.modelValue)?e.defaultValue:e.modelValue)??`0`),f=async(n,r=!1)=>{var i,a,s;if(!(d.value===n||Bh(n)))try{let c;if(e.beforeLeave){let t=e.beforeLeave(n,d.value);c=t instanceof Promise?await t:t}else c=!0;if(c!==!1){let e=o.value.find(e=>e.paneName===d.value)?.isFocusInsidePane();d.value=n,r&&(t(D_,n),t(`tabChange`,n)),(a=(i=u.value)?.removeFocus)==null||a.call(i),e&&((s=u.value)==null||s.focusActiveTab())}}catch{}},p=(e,n,r)=>{e.props.disabled||(t(`tabClick`,e,r),f(n,!0))},m=(e,n)=>{e.props.disabled||Bh(e.props.name)||(n.stopPropagation(),t(`edit`,e.props.name,`remove`),t(`tabRemove`,e.props.name))},h=()=>{t(`edit`,void 0,`add`),t(`tabAdd`)},g=e=>{let t=Gb(e);[Q.enter,Q.numpadEnter].includes(t)&&h()},_=t=>{let n=t.el.firstChild,r=[`bottom`,`right`].includes(e.tabPosition)?t.children[0].el:t.children[1].el;n!==r&&n.before(r)};return B(()=>e.modelValue,e=>f(e)),B(d,async()=>{var e;await Mn(),(e=u.value)==null||e.scrollToActiveTab()}),Kn(xI,{props:e,currentName:d,registerPane:s,unregisterPane:c,nav$:u}),r({currentName:d,get tabNavRef(){return Sh(u.value,[`scheduleRender`])}}),()=>{let t=n[`add-icon`],r=e.editable||e.addable?q(`div`,{class:[i.e(`new-tab`),a.value&&i.e(`new-tab-vertical`)],tabindex:e.tabindex,onClick:h,onKeydown:g},[t?H(n,`add-icon`):q(Q_,{class:i.is(`icon-plus`)},{default:()=>[q(Ev,null,null)]})]):null,s=q(`div`,{class:[i.e(`header`),a.value&&i.e(`header-vertical`),i.is(e.tabPosition)]},[q(l,null,{default:()=>q(OI,{ref:u,currentName:d.value,editable:e.editable,type:e.type,panes:o.value,stretch:e.stretch,onTabClick:p,onTabRemove:m},null),$stable:!0}),r]),c=q(`div`,{class:i.e(`content`)},[H(n,`default`)]);return q(`div`,{class:[i.b(),i.m(e.tabPosition),{[i.m(`card`)]:e.type===`card`,[i.m(`border-card`)]:e.type===`border-card`}],onVnodeMounted:_,onVnodeUpdated:_},[c,s])}}}),MI=t_({label:{type:String,default:``},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),NI=[`id`,`aria-hidden`,`aria-labelledby`],PI=`ElTabPane`,FI=b_(V({name:PI,__name:`tab-pane`,props:MI,setup(e){let t=e,n=Ga(),r=li(),i=qn(xI);i||zg(PI,`usage: <el-tabs><el-tab-pane /></el-tabs/>`);let a=X(`tab-pane`),o=L(),s=L(),c=Y(()=>t.closable??i.props.closable),l=Y(()=>i.currentName.value===(t.name??s.value)),u=L(l.value),d=Y(()=>t.name??s.value),f=Y(()=>!t.lazy||u.value||l.value),p=()=>o.value?.contains(document.activeElement);B(l,e=>{e&&(u.value=!0)});let m=Ut({uid:n.uid,getVnode:()=>n.vnode,slots:r,props:t,paneName:d,active:l,index:s,isClosable:c,isFocusInsidePane:p});return i.registerPane(m),Hr(()=>{i.unregisterPane(m)}),Br(()=>{var e;r.label&&((e=i.nav$.value)==null||e.scheduleRender())}),(e,t)=>f.value?Wn((U(),W(`div`,{key:0,id:`pane-${d.value}`,ref_key:`paneRef`,ref:o,class:F(R(a).b()),role:`tabpanel`,"aria-hidden":!l.value,"aria-labelledby":`tab-${d.value}`},[H(e.$slots,`default`)],10,NI)),[[Lo,l.value]]):J(`v-if`,!0)}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue`]]),II=S_(jI,{TabPane:FI}),LI=T_(FI),RI=S_(b_(V({name:`ElText`,__name:`text`,props:t_({type:{type:String,values:[`primary`,`success`,`info`,`warning`,`danger`,``],default:``},size:{type:String,values:n_,default:``},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:`span`}}),setup(e){let t=e,n=L(),r=Ey(),i=X(`text`),a=Y(()=>[i.b(),i.m(t.type),i.m(r.value),i.is(`truncated`,t.truncated),i.is(`line-clamp`,!Bh(t.lineClamp))]),o=()=>{var e,r;if(ui().title)return;let i=!1,a=n.value?.textContent||``;if(t.truncated){let e=n.value?.offsetWidth,t=n.value?.scrollWidth;e&&t&&t>e&&(i=!0)}else if(!Bh(t.lineClamp)){let e=n.value?.offsetHeight,t=n.value?.scrollHeight;e&&t&&t>e&&(i=!0)}i?(e=n.value)==null||e.setAttribute(`title`,a):(r=n.value)==null||r.removeAttribute(`title`)};return zr(o),Vr(o),(e,t)=>(U(),G(Zr(e.tag),{ref_key:`textRef`,ref:n,class:F(a.value),style:he({"-webkit-line-clamp":e.lineClamp})},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`class`,`style`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue`]])),zI=t_({format:{type:String,default:`HH:mm`},modelValue:{type:Z(String)},disabled:{type:Boolean,default:void 0},editable:{type:Boolean,default:!0},effect:{type:Z(String),default:`light`},clearable:{type:Boolean,default:!0},size:r_,placeholder:String,start:{type:String,default:`09:00`},end:{type:String,default:`18:00`},step:{type:String,default:`00:30`},minTime:{type:Z(String)},maxTime:{type:Z(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:Z([String,Object]),default:()=>fv},clearIcon:{type:Z([String,Object]),default:()=>dv},popperClass:{type:String,default:``},popperStyle:{type:Z([String,Object])},...c_}),BI=e=>{let t=(e||``).split(`:`);if(t.length>=2){let n=Number.parseInt(t[0],10),r=Number.parseInt(t[1],10),i=e.toUpperCase();return i.includes(`AM`)&&n===12?n=0:i.includes(`PM`)&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},VI=(e,t)=>{let n=BI(e);if(!n)return-1;let r=BI(t);if(!r)return-1;let i=n.minutes+n.hours*60,a=r.minutes+r.hours*60;return i===a?0:i>a?1:-1},HI=e=>`${e}`.padStart(2,`0`),UI=e=>`${HI(e.hours)}:${HI(e.minutes)}`,WI=(e,t)=>{let n=BI(e);if(!n)return``;let r=BI(t);if(!r)return``;let i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes%=60,UI(i)},GI=l(qw(),1),KI=l(tD(),1),qI=S_(b_(V({name:`ElTimeSelect`,__name:`time-select`,props:zI,emits:[O_,`blur`,`focus`,`clear`,D_],setup(e,{expose:t}){GI.default.extend(KI.default);let{Option:n}=UT,r=e,i=X(`input`),a=L(),o=Dy(),{lang:s}=Zg(),c=Y(()=>r.modelValue),l=Y(()=>{let e=BI(r.start);return e?UI(e):null}),u=Y(()=>{let e=BI(r.end);return e?UI(e):null}),d=Y(()=>{let e=BI(r.step);return e?UI(e):null}),f=Y(()=>{let e=BI(r.minTime||``);return e?UI(e):null}),p=Y(()=>{let e=BI(r.maxTime||``);return e?UI(e):null}),m=Y(()=>{let e=[],t=(t,n)=>{e.push({value:t,disabled:VI(n,f.value||`-1:-1`)<=0||VI(n,p.value||`100:100`)>=0})};if(r.start&&r.end&&r.step){let n=l.value,i;for(;n&&u.value&&VI(n,u.value)<=0;)i=(0,GI.default)(n,`HH:mm`).locale(s.value).format(r.format),t(i,n),n=WI(n,d.value);r.includeEndTime&&u.value&&e[e.length-1]?.value!==u.value&&t((0,GI.default)(u.value,`HH:mm`).locale(s.value).format(r.format),u.value)}return e});return t({blur:()=>{var e,t;(t=(e=a.value)?.blur)==null||t.call(e)},focus:()=>{var e,t;(t=(e=a.value)?.focus)==null||t.call(e)}}),(e,t)=>(U(),G(R(UT),{ref_key:`select`,ref:a,"model-value":c.value,disabled:R(o),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":``,filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"popper-class":e.popperClass,"popper-style":e.popperStyle,"onUpdate:modelValue":t[0]||=t=>e.$emit(R(`update:modelValue`),t),onChange:t[1]||=t=>e.$emit(R(`change`),t),onBlur:t[2]||=t=>e.$emit(`blur`,t),onFocus:t[3]||=t=>e.$emit(`focus`,t),onClear:t[4]||=()=>e.$emit(`clear`)},{prefix:z(()=>[e.prefixIcon?(U(),G(R(Q_),{key:0,class:F(R(i).e(`prefix-icon`))},{default:z(()=>[(U(),G(Zr(e.prefixIcon)))]),_:1},8,[`class`])):J(`v-if`,!0)]),default:z(()=>[(U(!0),W(va,null,ti(m.value,e=>(U(),G(R(n),{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,[`label`,`value`,`disabled`]))),128))]),_:1},8,[`model-value`,`disabled`,`clearable`,`clear-icon`,`size`,`effect`,`placeholder`,`filterable`,`empty-values`,`value-on-clear`,`popper-class`,`popper-style`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue`]])),JI=`timeline`,YI=V({name:`ElTimeline`,props:t_({mode:{type:String,values:[`start`,`alternate`,`alternate-reverse`,`end`],default:`start`},reverse:Boolean}),setup(e,{slots:t}){let n=X(`timeline`);Kn(JI,{props:e,slots:t});let r=Y(()=>[n.b(),n.is(e.mode)]);return()=>{let n=$v(t.default?.call(t)??[]);return oo(`ul`,{class:r.value},e.reverse?n.reverse():n)}}}),XI=b_(V({name:`ElTimelineItem`,__name:`timeline-item`,props:t_({timestamp:{type:String,default:``},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:[`top`,`bottom`],default:`bottom`},type:{type:String,values:[`primary`,`success`,`warning`,`danger`,`info`],default:``},color:{type:String,default:``},size:{type:String,values:[`normal`,`large`],default:`normal`},icon:{type:Vv},hollow:Boolean}),setup(e){let t=e,{props:n}=qn(JI),r=X(`timeline-item`),i=Y(()=>[r.e(`node`),r.em(`node`,t.size||``),r.em(`node`,t.type||``),r.is(`hollow`,t.hollow)]),a=Y(()=>[r.b(),{[r.e(`center`)]:t.center},r.is(n.mode)]);return(e,t)=>(U(),W(`li`,{class:F(a.value)},[K(`div`,{class:F(R(r).e(`tail`))},null,2),e.$slots.dot?J(`v-if`,!0):(U(),W(`div`,{key:0,class:F(i.value),style:he({backgroundColor:e.color})},[e.icon?(U(),G(R(Q_),{key:0,class:F(R(r).e(`icon`))},{default:z(()=>[(U(),G(Zr(e.icon)))]),_:1},8,[`class`])):J(`v-if`,!0)],6)),e.$slots.dot?(U(),W(`div`,{key:1,class:F(R(r).e(`dot`))},[H(e.$slots,`dot`)],2)):J(`v-if`,!0),K(`div`,{class:F(R(r).e(`wrapper`))},[!e.hideTimestamp&&e.placement===`top`?(U(),W(`div`,{key:0,class:F([R(r).e(`timestamp`),R(r).is(`top`)])},I(e.timestamp),3)):J(`v-if`,!0),K(`div`,{class:F(R(r).e(`content`))},[H(e.$slots,`default`)],2),!e.hideTimestamp&&e.placement===`bottom`?(U(),W(`div`,{key:1,class:F([R(r).e(`timestamp`),R(r).is(`bottom`)])},I(e.timestamp),3)):J(`v-if`,!0)],2)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue`]]),ZI=S_(YI,{TimelineItem:XI}),QI=T_(XI),$I=`left-check-change`,eL=`right-check-change`,tL=t_({data:{type:Z(Array),default:()=>[]},titles:{type:Z(Array),default:()=>[]},buttonTexts:{type:Z(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Z(Function)},leftDefaultChecked:{type:Z(Array),default:()=>[]},rightDefaultChecked:{type:Z(Array),default:()=>[]},renderContent:{type:Z(Function)},modelValue:{type:Z(Array),default:()=>[]},format:{type:Z(Object),default:()=>({})},filterable:Boolean,props:{type:Z(Object),default:()=>ly({label:`label`,key:`key`,disabled:`disabled`})},targetOrder:{type:String,values:[`original`,`push`,`unshift`],default:`original`},validateEvent:{type:Boolean,default:!0}}),nL=(e,t)=>[e,t].every(x)||x(e)&&ch(t),rL={[O_]:(e,t,n)=>[e,n].every(x)&&[`left`,`right`].includes(t),[D_]:e=>x(e),[$I]:nL,[eL]:nL},iL=`checked-change`,aL=t_({data:tL.data,optionRender:{type:Z(Function)},placeholder:String,title:String,filterable:Boolean,format:tL.format,filterMethod:tL.filterMethod,defaultChecked:tL.leftDefaultChecked,props:tL.props}),oL={[iL]:nL},sL=e=>{let t={label:`label`,key:`key`,disabled:`disabled`};return Y(()=>({...t,...e.props}))},cL=(e,t,n)=>{let r=sL(e),i=Y(()=>e.data.filter(n=>T(e.filterMethod)?e.filterMethod(t.query,n):String(n[r.value.label]||n[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),a=Y(()=>i.value.filter(e=>!e[r.value.disabled])),o=Y(()=>{let n=t.checked.length,r=e.data.length,{noChecked:i,hasChecked:a}=e.format;return i&&a?n>0?a.replace(/\${checked}/g,n.toString()).replace(/\${total}/g,r.toString()):i.replace(/\${total}/g,r.toString()):`${n}/${r}`}),s=Y(()=>{let e=t.checked.length;return e>0&&e<a.value.length}),c=()=>{let e=a.value.map(e=>e[r.value.key]);t.allChecked=e.length>0&&e.every(e=>t.checked.includes(e))};return B(()=>t.checked,(e,r)=>{c(),t.checkChangeByUser?n(iL,e,e.concat(r).filter(t=>!e.includes(t)||!r.includes(t))):(n(iL,e),t.checkChangeByUser=!0)}),B(a,()=>{c()}),B(()=>e.data,()=>{let e=[],n=i.value.map(e=>e[r.value.key]);t.checked.forEach(t=>{n.includes(t)&&e.push(t)}),t.checkChangeByUser=!1,t.checked=e}),B(()=>e.defaultChecked,(e,n)=>{if(n&&e.length===n.length&&e.every(e=>n.includes(e)))return;let i=[],o=a.value.map(e=>e[r.value.key]);e.forEach(e=>{o.includes(e)&&i.push(e)}),t.checkChangeByUser=!1,t.checked=i},{immediate:!0}),{filteredData:i,checkableData:a,checkedSummary:o,isIndeterminate:s,updateAllChecked:c,handleAllCheckedChange:e=>{t.checked=e?a.value.map(e=>e[r.value.key]):[]}}},lL=b_(V({name:`ElTransferPanel`,__name:`transfer-panel`,props:aL,emits:oL,setup(e,{expose:t,emit:n}){let r=e,i=n,a=li(),o=({option:e})=>e,{t:s}=Zg(),c=X(`transfer`),l=Ut({checked:[],allChecked:!1,query:``,checkChangeByUser:!0}),u=sL(r),{filteredData:d,checkedSummary:f,isIndeterminate:p,handleAllCheckedChange:m}=cL(r,l,i),h=Y(()=>!Uh(l.query)&&Uh(d.value)),g=Y(()=>!Uh(a.default()[0].children)),{checked:_,allChecked:v,query:y}=ln(l);return t({query:y}),(e,t)=>(U(),W(`div`,{class:F(R(c).b(`panel`))},[K(`p`,{class:F(R(c).be(`panel`,`header`))},[q(R(sE),{modelValue:R(v),"onUpdate:modelValue":t[0]||=e=>tn(v)?v.value=e:null,indeterminate:R(p),"validate-event":!1,onChange:R(m)},{default:z(()=>[Fa(I(e.title)+` `,1),K(`span`,null,I(R(f)),1)]),_:1},8,[`modelValue`,`indeterminate`,`onChange`])],2),K(`div`,{class:F([R(c).be(`panel`,`body`),R(c).is(`with-footer`,g.value)])},[e.filterable?(U(),G(R(Wy),{key:0,modelValue:R(y),"onUpdate:modelValue":t[1]||=e=>tn(y)?y.value=e:null,class:F(R(c).be(`panel`,`filter`)),size:`default`,placeholder:e.placeholder,"prefix-icon":R(jv),clearable:``,"validate-event":!1},null,8,[`modelValue`,`class`,`placeholder`,`prefix-icon`])):J(`v-if`,!0),Wn(q(R(cE),{modelValue:R(_),"onUpdate:modelValue":t[2]||=e=>tn(_)?_.value=e:null,"validate-event":!1,class:F([R(c).is(`filterable`,e.filterable),R(c).be(`panel`,`list`)])},{default:z(()=>[(U(!0),W(va,null,ti(R(d),t=>(U(),G(R(sE),{key:t[R(u).key],class:F(R(c).be(`panel`,`item`)),value:t[R(u).key],disabled:t[R(u).disabled],"validate-event":!1},{default:z(()=>[q(o,{option:e.optionRender?.call(e,t)},null,8,[`option`])]),_:2},1032,[`class`,`value`,`disabled`]))),128))]),_:1},8,[`modelValue`,`class`]),[[Lo,!h.value&&!R(Uh)(e.data)]]),Wn(K(`div`,{class:F(R(c).be(`panel`,`empty`))},[H(e.$slots,`empty`,{},()=>[Fa(I(h.value?R(s)(`el.transfer.noMatch`):R(s)(`el.transfer.noData`)),1)])],2),[[Lo,h.value||R(Uh)(e.data)]])],2),g.value?(U(),W(`p`,{key:0,class:F(R(c).be(`panel`,`footer`))},[H(e.$slots,`default`)],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue`]]),uL=e=>{let t=sL(e),n=Y(()=>e.data.reduce((e,n)=>(e[n[t.value.key]]=n)&&e,{}));return{sourceData:Y(()=>e.data.filter(n=>!e.modelValue.includes(n[t.value.key]))),targetData:Y(()=>e.targetOrder===`original`?e.data.filter(n=>e.modelValue.includes(n[t.value.key])):e.modelValue.reduce((e,t)=>{let r=n.value[t];return r&&e.push(r),e},[]))}},dL=(e,t,n)=>{let r=sL(e),i=(e,t,r)=>{n(D_,e),n(O_,e,t,r)};return{addToLeft:()=>{let n=e.modelValue.slice();t.rightChecked.forEach(e=>{let t=n.indexOf(e);t>-1&&n.splice(t,1)}),i(n,`left`,t.rightChecked)},addToRight:()=>{let n=e.modelValue.slice(),a=e.data.filter(n=>{let i=n[r.value.key];return t.leftChecked.includes(i)&&!e.modelValue.includes(i)}).map(e=>e[r.value.key]);n=e.targetOrder===`unshift`?a.concat(n):n.concat(a),e.targetOrder===`original`&&(n=e.data.filter(e=>n.includes(e[r.value.key])).map(e=>e[r.value.key])),i(n,`right`,t.leftChecked)}}},fL=(e,t)=>({onSourceCheckedChange:(n,r)=>{e.leftChecked=n,r&&t($I,n,r)},onTargetCheckedChange:(n,r)=>{e.rightChecked=n,r&&t(eL,n,r)}}),pL={key:0},mL={key:0},hL=S_(b_(V({name:`ElTransfer`,__name:`transfer`,props:tL,emits:rL,setup(e,{expose:t,emit:n}){let r=e,i=n,a=li(),{t:o}=Zg(),s=X(`transfer`),{formItem:c}=Cy(),l=Ut({leftChecked:[],rightChecked:[]}),u=sL(r),{sourceData:d,targetData:f}=uL(r),{onSourceCheckedChange:p,onTargetCheckedChange:m}=fL(l,i),{addToLeft:h,addToRight:g}=dL(r,l,i),_=L(),v=L(),y=e=>{switch(e){case`left`:_.value.query=``;break;case`right`:v.value.query=``;break}},b=Y(()=>r.buttonTexts.length===2),x=Y(()=>r.titles[0]||o(`el.transfer.titles.0`)),S=Y(()=>r.titles[1]||o(`el.transfer.titles.1`)),C=Y(()=>r.filterPlaceholder||o(`el.transfer.filterPlaceholder`));B(()=>r.modelValue,()=>{var e;r.validateEvent&&((e=c?.validate)==null||e.call(c,`change`).catch(e=>void 0))});let w=Y(()=>e=>{if(r.renderContent)return r.renderContent(oo,e);let t=(a.default?.call(a,{option:e})||[]).filter(e=>e.type!==ba);return t.length?t:oo(`span`,e[u.value.label]||e[u.value.key])});return t({clearQuery:y,leftPanel:_,rightPanel:v}),(e,t)=>(U(),W(`div`,{class:F(R(s).b())},[q(lL,{ref_key:`leftPanel`,ref:_,data:R(d),"option-render":w.value,placeholder:C.value,title:x.value,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:r.props,onCheckedChange:R(p)},{empty:z(()=>[H(e.$slots,`left-empty`)]),default:z(()=>[H(e.$slots,`left-footer`)]),_:3},8,[`data`,`option-render`,`placeholder`,`title`,`filterable`,`format`,`filter-method`,`default-checked`,`props`,`onCheckedChange`]),K(`div`,{class:F(R(s).e(`buttons`))},[q(R(Gw),{type:`primary`,class:F([R(s).e(`button`),R(s).is(`with-texts`,b.value)]),disabled:R(Uh)(l.rightChecked),onClick:R(h)},{default:z(()=>[q(R(Q_),null,{default:z(()=>[q(R(ev))]),_:1}),R(Bh)(e.buttonTexts[0])?J(`v-if`,!0):(U(),W(`span`,pL,I(e.buttonTexts[0]),1))]),_:1},8,[`class`,`disabled`,`onClick`]),q(R(Gw),{type:`primary`,class:F([R(s).e(`button`),R(s).is(`with-texts`,b.value)]),disabled:R(Uh)(l.leftChecked),onClick:R(g)},{default:z(()=>[R(Bh)(e.buttonTexts[1])?J(`v-if`,!0):(U(),W(`span`,mL,I(e.buttonTexts[1]),1)),q(R(Q_),null,{default:z(()=>[q(R(tv))]),_:1})]),_:1},8,[`class`,`disabled`,`onClick`])],2),q(lL,{ref_key:`rightPanel`,ref:v,data:R(f),"option-render":w.value,placeholder:C.value,filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:S.value,"default-checked":e.rightDefaultChecked,props:r.props,onCheckedChange:R(m)},{empty:z(()=>[H(e.$slots,`right-empty`)]),default:z(()=>[H(e.$slots,`right-footer`)]),_:3},8,[`data`,`option-render`,`placeholder`,`filterable`,`format`,`filter-method`,`title`,`default-checked`,`props`,`onCheckedChange`])],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue`]])),gL=`$treeNodeId`,_L=function(e,t){!t||t.$treeNodeId||Object.defineProperty(t,gL,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},vL=(e,t)=>t?.[e||`$treeNodeId`],yL=(e,t,n)=>{let r=e.value.currentNode;n();let i=e.value.currentNode;r!==i&&t(`current-change`,i?i.data:null,i)},bL=e=>{let t=!0,n=!0,r=!0,i=!0;for(let a=0,o=e.length;a<o;a++){let o=e[a];(o.checked!==!0||o.indeterminate)&&(t=!1,o.disabled||(r=!1)),(o.checked!==!1||o.indeterminate)&&(n=!1),o.isEffectivelyChecked||(i=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n,isEffectivelyChecked:i}},xL=function(e){if(e.childNodes.length===0||e.loading){e.isEffectivelyChecked=e.disabled||e.checked;return}let{all:t,none:n,half:r,isEffectivelyChecked:i}=bL(e.childNodes);e.isEffectivelyChecked=i,t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);let a=e.parent;!a||a.level===0||e.store.checkStrictly||xL(a)},SL=function(e,t){let n=e.store.props,r=e.data||{},i=n[t];if(T(i))return i(r,e);if(E(i))return r[i];if(Bh(i)){let e=r[t];return Bh(e)?``:e}},CL=function(e,t){e.forEach(e=>{e.canFocus=t,CL(e.childNodes,t)})},wL=0,TL=class e{constructor(e){for(let t in this.isLeafByUser=void 0,this.isLeaf=void 0,this.isEffectivelyChecked=!1,this.id=wL++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1,e)b(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){let e=this.store;if(!e)throw Error(`[Node]store is required!`);e.registerNode(this);let t=e.props;if(t&&t.isLeaf!==void 0){let e=SL(this,`isLeaf`);Vh(e)&&(this.isLeafByUser=e)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),x(this.data)||_L(this,this.data),!this.data)return;let n=e.defaultExpandedKeys,r=e.key;r&&!ch(this.key)&&n&&n.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode&&(e.currentNode.isCurrent=!1),e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||this.parent?.expanded===!0)&&(this.canFocus=!0)}setData(e){x(e)||_L(this,e),this.data=e,this.childNodes=[];let t;t=this.level===0&&x(this.data)?this.data:SL(this,`children`)||[];for(let e=0,n=t.length;e<n;e++)this.insertChild({data:t[e]})}get label(){return SL(this,`label`)}get key(){let e=this.store.key;return this.data?this.data[e]:null}get disabled(){return SL(this,`disabled`)}get nextSibling(){let e=this.parent;if(e){let t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){let e=this.parent;if(e){let t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(n=>n===e||t&&n.contains(e))}remove(){let e=this.parent;e&&e.removeChild(this)}insertChild(t,n,r){if(!t)throw Error(`InsertChild error: child is required.`);if(!(t instanceof e)){if(!r){let e=this.getChildren(!0);e?.includes(t.data)||(Bh(n)||n<0?e?.push(t.data):e?.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ut(new e(t)),t instanceof e&&t.initialize()}t.level=this.level+1,Bh(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(e,t){let n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}insertAfter(e,t){let n;t&&(n=this.childNodes.indexOf(t),n!==-1&&(n+=1)),this.insertChild(e,n)}removeChild(e){let t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);let r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let t=this.childNodes.find(t=>t.data===e);t&&this.removeChild(t)}expand(e,t){let n=()=>{if(t){let e=this.parent;for(;e&&e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),CL(this.childNodes,!0)};this.shouldLoadData()?this.loadData(e=>{x(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||xL(this),n())}):n()}doCreateChildren(e,t={}){e.forEach(e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)})}collapse(){this.expanded=!1,CL(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&this.isLeafByUser!==void 0){this.isLeaf=this.isLeafByUser,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}let e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}this.isLeaf=!1}setChecked(e,t,n,r){if(this.indeterminate=e===`half`,this.checked=e===!0,this.isEffectivelyChecked=!this.childNodes.length&&(this.disabled||this.checked),this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){let n=()=>{if(t){let n=this.childNodes;for(let i=0,a=n.length;i<a;i++){let a=n[i];r||=e!==!1;let o=a.disabled&&a.isLeaf?a.checked:r;a.setChecked(o,t,!0,r)}let{half:i,all:a,isEffectivelyChecked:o}=bL(n);a||(this.checked=a,this.indeterminate=i),this.isEffectivelyChecked=this.childNodes.length?o:this.disabled||this.checked}};if(this.shouldLoadData()){this.loadData(()=>{n(),xL(this)},{checked:e!==!1});return}else n()}let i=this.parent;!i||i.level===0||n||xL(i)}getChildren(e=!1){if(this.level===0)return this.data;let t=this.data;if(!t)return null;let n=this.store.props,r=`children`;return n&&(r=n.children||`children`),Bh(t[r])&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}updateChildren(){let e=this.getChildren()||[],t=this.childNodes.map(e=>e.data),n={},r=[];e.forEach((e,i)=>{let a=e[gL];a&&t.some(e=>e?.$treeNodeId===a)?n[a]={index:i,data:e}:r.push({index:i,data:e})}),this.store.lazy||t.forEach(e=>{n[e?.$treeNodeId]||this.removeChildByData(e)}),r.forEach(({index:e,data:t})=>{this.insertChild({data:t},e)}),this.updateLeafState()}loadData(e,t={}){this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(t).length)?(this.loading=!0,this.store.load(this,n=>{this.childNodes=[],this.doCreateChildren(n,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,n)},()=>{this.loading=!1})):e&&e.call(this)}eachNode(e){let t=[this];for(;t.length;){let n=t.shift();t.unshift(...n.childNodes),e(n)}}reInitChecked(){this.store.checkStrictly||xL(this)}},EL=class{constructor(e){for(let t in this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null,e)b(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new TL({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){let e=this.load;e(this.root,e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()},p)}else this._initDefaultCheckedNodes()}filter(e){let t=this.filterNodeMethod,n=this.lazy,r=async function(i){let a=i.root?i.root.childNodes:i.childNodes;for(let[n,i]of a.entries())i.visible=!!t?.call(i,e,i.data,i),n%80==0&&n>0&&await Mn(),await r(i);if(!i.visible&&a.length){let e=!0;e=!a.some(e=>e.visible),i.root?i.root.visible=e===!1:i.visible=e===!1}e&&i.visible&&!i.isLeaf&&(!n||i.loaded)&&i.expand()};r(this)}setData(e){e===this.root.data?this.root.updateChildren():(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey))}getNode(e){if(e instanceof TL)return e;let t=O(e)?vL(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){var n;let r=this.getNode(t);(n=r.parent)==null||n.insertBefore({data:e},r)}insertAfter(e,t){var n;let r=this.getNode(t);(n=r.parent)==null||n.insertAfter({data:e},r)}remove(e){let t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){let n=Gh(t)?this.root:this.getNode(t);n&&n.insertChild({data:e})}_initDefaultCheckedNodes(){let e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(e=>{let n=t[e];n&&n.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){let t=this.defaultCheckedKeys||[];!ch(e.key)&&t.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){let t=this.key;if(!(!e||!e.data))if(!t)this.nodesMap[e.id]=e;else{let t=e.key;ch(t)||(this.nodesMap[t]=e)}}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(e=>{this.deregisterNode(e)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){let n=[],r=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(i=>{(i.checked||t&&i.indeterminate)&&(!e||e&&i.isLeaf)&&n.push(i.data),r(i)})};return r(this),n}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(e=>(e||{})[this.key])}getHalfCheckedNodes(){let e=[],t=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(n=>{n.indeterminate&&e.push(n.data),t(n)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){let e=[],t=this.nodesMap;for(let n in t)b(t,n)&&e.push(t[n]);return e}updateChildren(e,t){let n=this.nodesMap[e];if(!n)return;let r=n.childNodes;for(let e=r.length-1;e>=0;e--){let t=r[e];this.remove(t.data)}for(let e=0,r=t.length;e<r;e++){let r=t[e];this.append(r,n.data)}}_setCheckedKeys(e,t=!1,n){let r=this._getAllNodes().sort((e,t)=>e.level-t.level),i=Object.create(null),a=Object.keys(n);r.forEach(e=>e.setChecked(!1,!1));let o=t=>{t.childNodes.forEach(t=>{i[t.data[e]]=!0,t.childNodes?.length&&o(t)})};for(let n=0,s=r.length;n<s;n++){let s=r[n],c=s.data[e].toString();if(!a.includes(c)){s.checked&&!i[c]&&s.setChecked(!1,!1);continue}if(s.childNodes.length&&o(s),s.isLeaf||this.checkStrictly){s.setChecked(!0,!1);continue}if(s.setChecked(!0,!0),t){s.setChecked(!1,!1);let e=function(t){t.childNodes.forEach(t=>{t.isLeaf||t.setChecked(!1,!1),e(t)})};e(s)}}}setCheckedNodes(e,t=!1){let n=this.key,r={};e.forEach(e=>{r[(e||{})[n]]=!0}),this._setCheckedKeys(n,t,r)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;let n=this.key,r={};e.forEach(e=>{r[e]=!0}),this._setCheckedKeys(n,t,r)}setDefaultExpandedKeys(e){e||=[],this.defaultExpandedKeys=e,e.forEach(e=>{let t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)})}setChecked(e,t,n){let r=this.getNode(e);r&&r.setChecked(!!t,n)}getCurrentNode(){return this.currentNode}setCurrentNode(e){let t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){var n;let r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),t&&this.currentNode&&this.currentNode.level>1&&((n=this.currentNode.parent)==null||n.expand(null,!0))}setCurrentNodeKey(e,t=!0){var n;if(this.currentNodeKey=e,Gh(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}let r=this.getNode(e);r&&(this.setCurrentNode(r),t&&this.currentNode&&this.currentNode.level>1&&((n=this.currentNode.parent)==null||n.expand(null,!0)))}},DL=`RootTree`,OL=`NodeInstance`,kL=`TreeNodeMap`,AL=b_(V({name:`ElTreeNodeContent`,props:{node:{type:Object,required:!0},renderContent:Function},setup(e){let t=X(`tree`),n=qn(OL),r=qn(DL);return()=>{let i=e.node,{data:a,store:o}=i;return e.renderContent?e.renderContent(oo,{_self:n,node:i,data:a,store:o}):H(r.ctx.slots,`default`,{node:i,data:a},()=>[oo(RI,{tag:`span`,truncated:!0,class:t.be(`node`,`label`)},()=>[i.label])])}}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue`]]);function jL(e){let t=qn(kL,null),n={treeNodeExpand:t=>{var n;e.node!==t&&((n=e.node)==null||n.collapse())},children:new Set};return t&&t.children.add(n),Hr(()=>{t&&t.children.delete(n),n=null}),Kn(kL,n),{broadcastExpanded:t=>{if(e.accordion)for(let e of n.children)e.treeNodeExpand(t)}}}var ML=Symbol(`dragEvents`);function NL({props:e,ctx:t,el$:n,dropIndicator$:r,store:i}){let a=X(`tree`),o=L({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Kn(ML,{treeNodeDragStart:({event:n,treeNode:r})=>{if(n.dataTransfer){if(T(e.allowDrag)&&!e.allowDrag(r.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed=`move`;try{n.dataTransfer.setData(`text/plain`,``)}catch{}o.value.draggingNode=r,t.emit(`node-drag-start`,r.node,n)}},treeNodeDragOver:({event:i,treeNode:s})=>{if(!i.dataTransfer)return;let c=s,l=o.value.dropNode;l&&l.node.id!==c.node.id&&R_(l.$el,a.is(`drop-inner`));let u=o.value.draggingNode;if(!u||!c)return;let d=!0,f=!0,p=!0,m=!0;T(e.allowDrop)&&(d=e.allowDrop(u.node,c.node,`prev`),m=f=e.allowDrop(u.node,c.node,`inner`),p=e.allowDrop(u.node,c.node,`next`)),i.dataTransfer.dropEffect=f||d||p?`move`:`none`,(d||f||p)&&l?.node.id!==c.node.id&&(l&&t.emit(`node-drag-leave`,u.node,l.node,i),t.emit(`node-drag-enter`,u.node,c.node,i)),d||f||p?o.value.dropNode=c:o.value.dropNode=null,c.node.nextSibling===u.node&&(p=!1),c.node.previousSibling===u.node&&(d=!1),c.node.contains(u.node,!1)&&(f=!1),(u.node===c.node||u.node.contains(c.node))&&(d=!1,f=!1,p=!1);let h=c.$el,g=h.querySelector(`.${a.be(`node`,`content`)}`).getBoundingClientRect(),_=n.value.getBoundingClientRect(),v=n.value.scrollTop,y,b=d?f?.25:p?.45:1:-1/0,x=p?f?.75:d?.55:0:1/0,S=-9999,C=i.clientY-g.top;y=C<g.height*b?`before`:C>g.height*x?`after`:f?`inner`:`none`;let w=h.querySelector(`.${a.be(`node`,`expand-icon`)}`).getBoundingClientRect(),E=r.value;y===`before`?S=w.top-_.top+v:y===`after`&&(S=w.bottom-_.top+v),E.style.top=`${S}px`,E.style.left=`${w.right-_.left}px`,y===`inner`?L_(h,a.is(`drop-inner`)):R_(h,a.is(`drop-inner`)),o.value.showDropIndicator=y===`before`||y===`after`,o.value.allowDrop=o.value.showDropIndicator||m,o.value.dropType=y,t.emit(`node-drag-over`,u.node,c.node,i)},treeNodeDragEnd:e=>{var n,r;let{draggingNode:s,dropType:c,dropNode:l}=o.value;if(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=`move`),s?.node.data&&l){let o={data:s.node.data};c!==`none`&&s.node.remove(),c===`before`?(n=l.node.parent)==null||n.insertBefore(o,l.node):c===`after`?(r=l.node.parent)==null||r.insertAfter(o,l.node):c===`inner`&&l.node.insertChild(o),c!==`none`&&(i.value.registerNode(o),i.value.key&&s.node.eachNode(e=>{var t;(t=i.value.nodesMap[e.data[i.value.key]])==null||t.setChecked(e.checked,!i.value.checkStrictly)})),R_(l.$el,a.is(`drop-inner`)),t.emit(`node-drag-end`,s.node,l.node,c,e),c!==`none`&&t.emit(`node-drop`,s.node,l.node,c,e)}s&&!l&&t.emit(`node-drag-end`,s.node,null,c,e),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}var PL=V({name:`ElTreeNode`,components:{ElCollapseTransition:AE,ElCheckbox:sE,NodeContent:AL,ElIcon:Q_,Loading:xv},props:{node:{type:TL,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:[`node-expand`],setup(e,t){let n=X(`tree`),{broadcastExpanded:r}=jL(e),i=qn(DL),a=L(!1),o=L(!1),s=L(),c=L(),l=L(),u=qn(ML),d=Ga();Kn(OL,d),e.node.expanded&&(a.value=!0,o.value=!0);let f=i.props.props.children||`children`;B(()=>{let t=e.node.data?.[f];return t&&[...t]},()=>{e.node.updateChildren()}),B(()=>e.node.indeterminate,t=>{h(e.node.checked,t)}),B(()=>e.node.checked,t=>{h(t,e.node.indeterminate)}),B(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),B(()=>e.node.expanded,e=>{Mn(()=>a.value=e),e&&(o.value=!0)});let p=e=>vL(i.props.nodeKey,e.data),m=t=>{let n=e.props.class;if(!n)return{};let r;if(T(n)){let{data:e}=t;r=n(e,t)}else r=n;return E(r)?{[r]:!0}:r},h=(t,n)=>{(s.value!==t||c.value!==n)&&i.ctx.emit(`check-change`,e.node.data,t,n),s.value=t,c.value=n},g=t=>{yL(i.store,i.ctx.emit,()=>{if(i?.props?.nodeKey){let t=p(e.node);i.store.value.setCurrentNodeKey(t)}else i.store.value.setCurrentNode(e.node)}),i.currentNode.value=e.node,i.props.expandOnClickNode&&v(),(i.props.checkOnClickNode||e.node.isLeaf&&i.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&y(!e.node.checked),i.ctx.emit(`node-click`,e.node.data,e.node,d,t)},_=t=>{i.instance.vnode.props?.onNodeContextmenu&&(t.stopPropagation(),t.preventDefault()),i.ctx.emit(`node-contextmenu`,t,e.node.data,e.node,d)},v=()=>{e.node.isLeaf||(a.value?(i.ctx.emit(`node-collapse`,e.node.data,e.node,d),e.node.collapse()):e.node.expand(()=>{t.emit(`node-expand`,e.node.data,e.node,d)}))},y=t=>{let n=i?.props.checkStrictly,r=e.node.childNodes;!n&&r.length&&(t=r.some(e=>!e.isEffectivelyChecked)),e.node.setChecked(t,!n),Mn(()=>{let t=i.store.value;i.ctx.emit(`check`,e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})})};return{ns:n,node$:l,tree:i,expanded:a,childNodeRendered:o,oldChecked:s,oldIndeterminate:c,getNodeKey:p,getNodeClass:m,handleSelectChange:h,handleClick:g,handleContextMenu:_,handleExpandIconClick:v,handleCheckChange:y,handleChildNodeExpand:(e,t,n)=>{r(t),i.ctx.emit(`node-expand`,e,t,n)},handleDragStart:t=>{i.props.draggable&&u.treeNodeDragStart({event:t,treeNode:e})},handleDragOver:t=>{t.preventDefault(),i.props.draggable&&u.treeNodeDragOver({event:t,treeNode:{$el:l.value,node:e.node}})},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{i.props.draggable&&u.treeNodeDragEnd(e)},CaretRight:av}}}),FL=[`aria-expanded`,`aria-disabled`,`aria-checked`,`draggable`,`data-key`],IL=[`aria-expanded`];function LL(e,t,n,r,i,a){let o=Yr(`el-icon`),s=Yr(`el-checkbox`),c=Yr(`loading`),l=Yr(`node-content`),u=Yr(`el-tree-node`),d=Yr(`el-collapse-transition`);return Wn((U(),W(`div`,{ref:`node$`,class:F([e.ns.b(`node`),e.ns.is(`expanded`,e.expanded),e.ns.is(`current`,e.node.isCurrent),e.ns.is(`hidden`,!e.node.visible),e.ns.is(`focusable`,!e.node.disabled),e.ns.is(`checked`,!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:`treeitem`,tabindex:`-1`,"aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[2]||=Ms((...t)=>e.handleClick&&e.handleClick(...t),[`stop`]),onContextmenu:t[3]||=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t),onDragstart:t[4]||=Ms((...t)=>e.handleDragStart&&e.handleDragStart(...t),[`stop`]),onDragover:t[5]||=Ms((...t)=>e.handleDragOver&&e.handleDragOver(...t),[`stop`]),onDragend:t[6]||=Ms((...t)=>e.handleDragEnd&&e.handleDragEnd(...t),[`stop`]),onDrop:t[7]||=Ms((...t)=>e.handleDrop&&e.handleDrop(...t),[`stop`])},[K(`div`,{class:F(e.ns.be(`node`,`content`)),style:he({paddingLeft:(e.node.level-1)*e.tree.props.indent+`px`})},[e.tree.props.icon||e.CaretRight?(U(),G(o,{key:0,class:F([e.ns.be(`node`,`expand-icon`),e.ns.is(`leaf`,e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Ms(e.handleExpandIconClick,[`stop`])},{default:z(()=>[(U(),G(Zr(e.tree.props.icon||e.CaretRight)))]),_:1},8,[`class`,`onClick`])):J(`v-if`,!0),e.showCheckbox?(U(),G(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||=Ms(()=>{},[`stop`]),onChange:e.handleCheckChange},null,8,[`model-value`,`indeterminate`,`disabled`,`onChange`])):J(`v-if`,!0),e.node.loading?(U(),G(o,{key:2,class:F([e.ns.be(`node`,`loading-icon`),e.ns.is(`loading`)])},{default:z(()=>[q(c)]),_:1},8,[`class`])):J(`v-if`,!0),q(l,{node:e.node,"render-content":e.renderContent},null,8,[`node`,`render-content`])],6),q(d,null,{default:z(()=>[!e.renderAfterExpand||e.childNodeRendered?Wn((U(),W(`div`,{key:0,class:F(e.ns.be(`node`,`children`)),role:`group`,"aria-expanded":e.expanded,onClick:t[1]||=Ms(()=>{},[`stop`])},[(U(!0),W(va,null,ti(e.node.childNodes,t=>(U(),G(u,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,[`render-content`,`render-after-expand`,`show-checkbox`,`node`,`accordion`,`props`,`onNodeExpand`]))),128))],10,IL)),[[Lo,e.expanded]]):J(`v-if`,!0)]),_:1})],42,FL)),[[Lo,e.node.visible]])}var RL=b_(PL,[[`render`,LL],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue`]]);function zL({el$:e},t){let n=X(`tree`);zr(()=>{i()}),Vr(()=>{var t;(t=e.value)==null||t.querySelectorAll(`input[type=checkbox]`).forEach(e=>{e.setAttribute(`tabindex`,`-1`)})});function r(e,n){let r=t.value.getNode(e[n].dataset.key);return r.canFocus&&r.visible&&(r.parent?.expanded||r.parent?.level===0)}bg(e,`keydown`,t=>{let i=t.target;if(!i.className.includes(n.b(`node`)))return;let a=Gb(t),o=Array.from(e.value.querySelectorAll(`.${n.is(`focusable`)}[role=treeitem]`)),s=o.indexOf(i),c;if([Q.up,Q.down].includes(a)){if(t.preventDefault(),a===Q.up){c=s===-1?0:s===0?o.length-1:s-1;let e=c;for(;!r(o,c);){if(c--,c===e){c=-1;break}c<0&&(c=o.length-1)}}else{c=s===-1?0:s<o.length-1?s+1:0;let e=c;for(;!r(o,c);){if(c++,c===e){c=-1;break}c>=o.length&&(c=0)}}c!==-1&&o[c].focus()}[Q.left,Q.right].includes(a)&&(t.preventDefault(),i.click());let l=i.querySelector(`[type="checkbox"]`);[Q.enter,Q.numpadEnter,Q.space].includes(a)&&l&&(t.preventDefault(),l.click())});let i=()=>{var t;if(!e.value)return;let r=Array.from(e.value.querySelectorAll(`.${n.is(`focusable`)}[role=treeitem]`));Array.from(e.value.querySelectorAll(`input[type=checkbox]`)).forEach(e=>{e.setAttribute(`tabindex`,`-1`)});let i=e.value.querySelectorAll(`.${n.is(`checked`)}[role=treeitem]`);if(i.length){i[0].setAttribute(`tabindex`,`0`);return}(t=r[0])==null||t.setAttribute(`tabindex`,`0`)}}var BL=t_({data:{type:Z(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:{type:Array},defaultExpandedKeys:{type:Array},currentNodeKey:{type:[String,Number]},renderContent:{type:Z(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:Z(Function)},allowDrop:{type:Z(Function)},props:{type:Object,default:()=>({children:`children`,label:`label`,disabled:`disabled`})},lazy:Boolean,highlightCurrent:Boolean,load:{type:Function},filterNodeMethod:{type:Function},accordion:Boolean,indent:{type:Number,default:18},icon:{type:Vv}}),VL=V({name:`ElTree`,components:{ElTreeNode:RL},props:BL,emits:{"check-change":(e,t,n)=>e&&Vh(t)&&Vh(n),"current-change":(e,t)=>!0,"node-click":(e,t,n,r)=>e&&t&&r instanceof Event,"node-contextmenu":(e,t,n,r)=>e instanceof Event&&t&&n,"node-collapse":(e,t,n)=>e&&t,"node-expand":(e,t,n)=>e&&t,check:(e,t)=>e&&t,"node-drag-start":(e,t)=>e&&t,"node-drag-end":(e,t,n,r)=>e&&r,"node-drop":(e,t,n,r)=>e&&t&&r,"node-drag-leave":(e,t,n)=>e&&t&&n,"node-drag-enter":(e,t,n)=>e&&t&&n,"node-drag-over":(e,t,n)=>e&&t&&n},setup(e,t){let{t:n}=Zg(),r=X(`tree`),i=L(new EL({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));i.value.initialize();let a=L(i.value.root),o=L(null),s=L(null),c=L(null),{broadcastExpanded:l}=jL(e),{dragState:u}=NL({props:e,ctx:t,el$:s,dropIndicator$:c,store:i});zL({el$:s},i);let d=Ga(),f=Y(()=>{let e=d?.parent;for(;e;){if(e.type.name===`ElTreeSelect`)return!0;e=e.parent}return!1}),p=Y(()=>{let{childNodes:e}=a.value;return(!e||e.length===0||e.every(({visible:e})=>!e))&&!f.value});B(()=>e.currentNodeKey,e=>{i.value.setCurrentNodeKey(e??null)}),B(()=>e.defaultCheckedKeys,(e,t)=>{oh(e,t)||i.value.setDefaultCheckedKey(e??[])}),B(()=>e.defaultExpandedKeys,e=>{i.value.setDefaultExpandedKeys(e??[])}),B(()=>e.data,e=>{i.value.setData(e)},{deep:!0}),B(()=>e.checkStrictly,e=>{i.value.checkStrictly=e});let m=t=>{if(!e.filterNodeMethod)throw Error(`[Tree] filterNodeMethod is required when filter`);i.value.filter(t)},h=t=>vL(e.nodeKey,t.data),g=t=>{if(!e.nodeKey)throw Error(`[Tree] nodeKey is required in ${t}`)},_=e=>{g(`getNodePath`);let t=i.value.getNode(e);if(!t)return[];let n=[t.data],r=t.parent;for(;r&&r!==a.value;)n.push(r.data),r=r.parent;return n.reverse()},v=(e,t)=>i.value.getCheckedNodes(e,t),y=e=>i.value.getCheckedKeys(e),b=()=>{let e=i.value.getCurrentNode();return e?e.data:null};return Kn(DL,{ctx:t,props:e,store:i,root:a,currentNode:o,instance:d}),Kn(Sy,void 0),{ns:r,store:i,root:a,currentNode:o,dragState:u,el$:s,dropIndicator$:c,isEmpty:p,filter:m,getNodeKey:h,getNodePath:_,getCheckedNodes:v,getCheckedKeys:y,getCurrentNode:b,getCurrentKey:()=>{g(`getCurrentKey`);let t=b();return t?t[e.nodeKey]:null},setCheckedNodes:(e,t)=>{g(`setCheckedNodes`),i.value.setCheckedNodes(e,t)},setCheckedKeys:(e,t)=>{g(`setCheckedKeys`),i.value.setCheckedKeys(e,t)},setChecked:(e,t,n)=>{i.value.setChecked(e,t,n)},getHalfCheckedNodes:()=>i.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>i.value.getHalfCheckedKeys(),setCurrentNode:(e,n=!0)=>{g(`setCurrentNode`),yL(i,t.emit,()=>{l(e),i.value.setUserCurrentNode(e,n)})},setCurrentKey:(e=null,n=!0)=>{g(`setCurrentKey`),yL(i,t.emit,()=>{l(),i.value.setCurrentNodeKey(e,n)})},t:n,getNode:e=>i.value.getNode(e),remove:e=>{i.value.remove(e)},append:(e,t)=>{i.value.append(e,t)},insertBefore:(e,t)=>{i.value.insertBefore(e,t)},insertAfter:(e,t)=>{i.value.insertAfter(e,t)},handleNodeExpand:(e,n,r)=>{l(n),t.emit(`node-expand`,e,n,r)},updateKeyChildren:(e,t)=>{g(`updateKeyChild`),i.value.updateChildren(e,t)}}}});function HL(e,t,n,r,i,a){let o=Yr(`el-tree-node`);return U(),W(`div`,{ref:`el$`,class:F([e.ns.b(),e.ns.is(`dragging`,!!e.dragState.draggingNode),e.ns.is(`drop-not-allow`,!e.dragState.allowDrop),e.ns.is(`drop-inner`,e.dragState.dropType===`inner`),{[e.ns.m(`highlight-current`)]:e.highlightCurrent}]),role:`tree`},[(U(!0),W(va,null,ti(e.root.childNodes,t=>(U(),G(o,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,[`node`,`props`,`accordion`,`render-after-expand`,`show-checkbox`,`render-content`,`onNodeExpand`]))),128)),e.isEmpty?(U(),W(`div`,{key:0,class:F(e.ns.e(`empty-block`))},[H(e.$slots,`empty`,{},()=>[K(`span`,{class:F(e.ns.e(`empty-text`))},I(e.emptyText??e.t(`el.tree.emptyText`)),3)])],2)):J(`v-if`,!0),Wn(K(`div`,{ref:`dropIndicator$`,class:F(e.ns.e(`drop-indicator`))},null,2),[[Lo,e.dragState.showDropIndicator]])],2)}var UL=S_(b_(VL,[[`render`,HL],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue`]])),WL=(e,{attrs:t,emit:n},{select:r,tree:i,key:a})=>{let o=X(`tree-select`);B(()=>e.data,()=>{e.filterable&&Mn(()=>{var e;(e=i.value)==null||e.filter(r.value?.states.inputValue)})},{flush:`post`});let s=e=>{let t=e.at(-1);if(t.expanded&&t.childNodes.at(-1))s([t.childNodes.at(-1)]);else{(i.value.el$?.querySelector(`[data-key="${e.at(-1).key}"]`))?.focus({preventScroll:!0});return}};return zr(()=>{bg(()=>r.value?.$el,`keydown`,async e=>{let t=Gb(e),{dropdownMenuVisible:n}=r.value;[Q.down,Q.up].includes(t)&&n&&(await Mn(),setTimeout(()=>{var e;if(Q.up===t){let e=i.value.store.root.childNodes;s(e);return}(e=r.value.optionsArray[r.value.states.hoveringIndex].$el?.parentNode?.parentNode)==null||e.focus({preventScroll:!0})}))},{capture:!0})}),{...kh(ln(e),Object.keys(UT.props)),...t,class:Y(()=>t.class),style:Y(()=>t.style),"onUpdate:modelValue":e=>n(D_,e),valueKey:a,popperClass:Y(()=>{let t=[o.e(`popper`)];return e.popperClass&&t.push(e.popperClass),t.join(` `)}),filterMethod:(t=``)=>{var n;e.filterMethod?e.filterMethod(t):e.remoteMethod?e.remoteMethod(t):(n=i.value)==null||n.filter(t)}}},GL=V({extends:WT,setup(e,t){let n=WT.setup(e,t);delete n.selectOptionClick;let r=Ga().proxy;return Mn(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),B(()=>t.attrs.visible,e=>{Mn(()=>{n.states.visible=e})},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function KL(e){return e||e===0}function qL(e){return x(e)&&e.length}function JL(e){return x(e)?e:KL(e)?[e]:[]}function YL(e,t,n,r,i){for(let a=0;a<e.length;a++){let o=e[a];if(t(o,a,e,i))return r?r(o,a,e,i):o;{let e=n(o);if(qL(e)){let i=YL(e,t,n,r,o);if(i)return i}}}}function XL(e,t,n,r){for(let i=0;i<e.length;i++){let a=e[i];t(a,i,e,r);let o=n(a);qL(o)&&XL(o,t,n,a)}}var ZL=(e,{attrs:t,slots:n,emit:r},{select:i,tree:a,key:o})=>{B([()=>e.modelValue,a],()=>{e.showCheckbox&&Mn(()=>{let t=a.value;t&&!oh(t.getCheckedKeys(),JL(e.modelValue))&&t.setCheckedKeys(JL(e.modelValue))})},{immediate:!0,deep:!0});let s=Y(()=>({value:o.value,label:`label`,children:`children`,disabled:`disabled`,isLeaf:`isLeaf`,...e.props})),c=(e,t)=>{let n=s.value[e];return T(n)?n(t,a.value?.getNode(c(`value`,t))):t[n]},l=JL(e.modelValue).map(t=>YL(e.data||[],e=>c(`value`,e)===t,e=>c(`children`,e),(e,t,n,r)=>r&&c(`value`,r))).filter(e=>KL(e)),u=Y(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];let t=[];return XL(e.data.concat(e.cacheData),e=>{let n=c(`value`,e);t.push({value:n,currentLabel:c(`label`,e),isDisabled:c(`disabled`,e)})},e=>c(`children`,e)),t}),d=()=>a.value?.getCheckedKeys().filter(e=>{let t=a.value?.getNode(e);return!ch(t)&&Uh(t.childNodes)});return{...kh(ln(e),Object.keys(UL.props)),...t,nodeKey:o,expandOnClickNode:Y(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:Y(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(l):l),renderContent:(t,{node:r,data:i,store:a})=>t(GL,{value:c(`value`,i),label:c(`label`,i),disabled:c(`disabled`,i),visible:r.visible},e.renderContent?()=>e.renderContent(t,{node:r,data:i,store:a}):n.default?()=>n.default({node:r,data:i,store:a}):void 0),filterNodeMethod:(t,n,r)=>e.filterNodeMethod?e.filterNodeMethod(t,n,r):t?new RegExp(MT(t),`i`).test(c(`label`,n)||``):!0,onNodeClick:(n,r,a)=>{var o,s;if((o=t.onNodeClick)==null||o.call(t,n,r,a),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||r.isLeaf)){if(!c(`disabled`,n)){let e=i.value?.states.options.get(c(`value`,n));(s=i.value)==null||s.handleOptionSelect(e)}}else e.expandOnClickNode&&a.proxy.handleExpandIconClick()},onCheck:(n,o)=>{var s;if(!e.showCheckbox)return;let l=c(`value`,n),u={};XL([a.value.store.root],e=>u[e.key]=e,e=>e.childNodes);let f=o.checkedKeys,p=e.multiple?JL(e.modelValue).filter(e=>!(e in u)&&!f.includes(e)):[],m=p.concat(f);if(e.checkStrictly)r(D_,e.multiple?m:m.includes(l)?l:void 0);else if(e.multiple){let e=d();r(D_,p.concat(e))}else{let t=YL([n],e=>!qL(c(`children`,e))&&!c(`disabled`,e),e=>c(`children`,e)),i=t?c(`value`,t):void 0,a=KL(e.modelValue)&&!!YL([n],t=>c(`value`,t)===e.modelValue,e=>c(`children`,e));r(D_,i===e.modelValue||a?void 0:i)}Mn(()=>{var r;let i=JL(e.modelValue);a.value.setCheckedKeys(i),(r=t.onCheck)==null||r.call(t,n,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(s=i.value)==null||s.focus()},onNodeExpand:(n,i,o)=>{var s;(s=t.onNodeExpand)==null||s.call(t,n,i,o),Mn(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&i.checked){let t={},n=a.value.getCheckedKeys();XL([a.value.store.root],e=>t[e.key]=e,e=>e.childNodes);let i=JL(e.modelValue).filter(e=>!(e in t)&&!n.includes(e)),o=d();r(D_,i.concat(o))}})},cacheOptions:u}},QL=V({props:{data:{type:Array,default:()=>[]}},setup(e){let t=qn(AT);return B(()=>e.data,()=>{e.data.forEach(e=>{t.states.cachedOptions.has(e.value)||t.states.cachedOptions.set(e.value,e)});let n=t.selectRef?.querySelectorAll(`input`)||[];$h&&!Array.from(n).includes(document.activeElement)&&t.setSelected()},{flush:`post`,immediate:!0}),()=>void 0}}),$L=S_(b_(V({name:`ElTreeSelect`,inheritAttrs:!1,props:{...FT,...BL,cacheData:{type:Array,default:()=>[]}},setup(e,t){let{slots:n,expose:r}=t,i=L(),a=L(),o=Y(()=>e.nodeKey||e.valueKey||`value`),s=WL(e,t,{select:i,tree:a,key:o}),{cacheOptions:c,...l}=ZL(e,t,{select:i,tree:a,key:o}),u=Ut({});return r(u),zr(()=>{Object.assign(u,{...kh(a.value,[`filter`,`updateKeyChildren`,`getCheckedNodes`,`setCheckedNodes`,`getCheckedKeys`,`setCheckedKeys`,`setChecked`,`getHalfCheckedNodes`,`getHalfCheckedKeys`,`getCurrentKey`,`getCurrentNode`,`setCurrentKey`,`setCurrentNode`,`getNode`,`remove`,`append`,`insertBefore`,`insertAfter`]),...kh(i.value,[`focus`,`blur`,`selectedLabel`]),treeRef:a.value,selectRef:i.value})}),()=>oo(UT,Ut({...s,ref:e=>i.value=e}),{...n,default:()=>[oo(QL,{data:c.value}),oo(UL,Ut({...l,ref:e=>a.value=e}))]})}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue`]])),eR=Symbol(),tR={key:-1,level:-1,data:{}},nR=(e=>(e.KEY=`id`,e.LABEL=`label`,e.CHILDREN=`children`,e.DISABLED=`disabled`,e.CLASS=``,e))(nR||{}),rR=(e=>(e.ADD=`add`,e.DELETE=`delete`,e))(rR||{}),iR={type:Number,default:26},aR=t_({data:{type:Z(Array),default:()=>ly([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Z(Object),default:()=>ly({children:`children`,label:`label`,disabled:`disabled`,value:`id`,class:``})},highlightCurrent:Boolean,showCheckbox:Boolean,defaultCheckedKeys:{type:Z(Array),default:()=>ly([])},checkStrictly:Boolean,defaultExpandedKeys:{type:Z(Array),default:()=>ly([])},indent:{type:Number,default:16},itemSize:iR,icon:{type:Vv},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:Z([String,Number])},accordion:Boolean,filterMethod:{type:Z(Function)},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),oR=t_({node:{type:Z(Object),default:()=>ly(tR)},expanded:Boolean,checked:Boolean,indeterminate:Boolean,showCheckbox:Boolean,disabled:Boolean,current:Boolean,hiddenExpandIcon:Boolean,itemSize:iR}),sR=t_({node:{type:Z(Object),required:!0}}),cR=`node-click`,lR=`node-drop`,uR=`node-expand`,dR=`node-collapse`,fR=`current-change`,pR=`check`,mR=`check-change`,hR=`node-contextmenu`,gR={[cR]:(e,t,n)=>e&&t&&n,[lR]:(e,t,n)=>e&&t&&n,[uR]:(e,t)=>e&&t,[dR]:(e,t)=>e&&t,[fR]:(e,t)=>e&&t,[pR]:(e,t)=>e&&t,[mR]:(e,t)=>e&&Vh(t),[hR]:(e,t,n)=>e&&t&&n},_R={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&Vh(t)};function vR(e,t){let n=L(new Set),r=L(new Set),{emit:i}=Ga();B([()=>t.value,()=>e.defaultCheckedKeys],()=>Mn(()=>{v(e.defaultCheckedKeys)}),{immediate:!0});let a=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;let{levelTreeNodeMap:i,maxLevel:a}=t.value,o=n.value,s=new Set;for(let e=a;e>=1;--e){let t=i.get(e);t&&t.forEach(e=>{let t=e.children,n=!e.isLeaf||e.disabled||o.has(e.key);if(t){let r=!0,i=!1;for(let e of t){let t=e.key;if(e.isEffectivelyChecked||(n=!1),o.has(t))i=!0;else if(s.has(t)){r=!1,i=!0;break}else r=!1}r?o.add(e.key):i?(s.add(e.key),o.delete(e.key)):(o.delete(e.key),s.delete(e.key))}e.isEffectivelyChecked=n})}r.value=s},o=e=>n.value.has(e.key),s=e=>r.value.has(e.key),c=(t,r,i=!0,o=!0)=>{let s=n.value,c=t.children;!e.checkStrictly&&i&&c?.length&&(r=c.some(e=>!e.isEffectivelyChecked));let u=(t,n)=>{s[n?rR.ADD:rR.DELETE](t.key);let r=t.children;!e.checkStrictly&&r&&r.forEach(e=>{(!e.disabled||e.children)&&u(e,n)})};u(t,r),o&&a(),i&&l(t,r)},l=(e,t)=>{let{checkedNodes:n,checkedKeys:r}=m(),{halfCheckedNodes:a,halfCheckedKeys:o}=h();i(pR,e.data,{checkedKeys:r,checkedNodes:n,halfCheckedKeys:o,halfCheckedNodes:a}),i(mR,e.data,t)};function u(e=!1){return m(e).checkedKeys}function d(e=!1){return m(e).checkedNodes}function f(){return h().halfCheckedKeys}function p(){return h().halfCheckedNodes}function m(r=!1){let i=[],a=[];if(t?.value&&e.showCheckbox){let{treeNodeMap:e}=t.value;n.value.forEach(t=>{let n=e.get(t);n&&(!r||r&&n.isLeaf)&&(a.push(t),i.push(n.data))})}return{checkedKeys:a,checkedNodes:i}}function h(){let n=[],i=[];if(t?.value&&e.showCheckbox){let{treeNodeMap:e}=t.value;r.value.forEach(t=>{let r=e.get(t);r&&(i.push(t),n.push(r.data))})}return{halfCheckedNodes:n,halfCheckedKeys:i}}function g(e){n.value.clear(),r.value.clear(),Mn(()=>{v(e)})}function _(n,r){if(t?.value&&e.showCheckbox){let e=t.value.treeNodeMap.get(n);e&&c(e,r,!1)}}function v(n){if(t?.value){let{treeNodeMap:r}=t.value;if(e.showCheckbox&&r&&n?.length>0){for(let e of n){let t=r.get(e);t&&!o(t)&&c(t,!0,!1,!1)}a()}}}return{updateCheckedKeys:a,toggleCheckbox:c,isChecked:o,isIndeterminate:s,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:p,setChecked:_,setCheckedKeys:g}}function yR(e,t){let n=L(new Set([])),r=L(new Set([])),i=Y(()=>T(e.filterMethod));function a(a){if(!i.value)return;let o=new Set,s=r.value,c=n.value,l=[],u=t.value?.treeNodes||[],d=e.filterMethod;c.clear();function f(e){e.forEach(e=>{l.push(e),d?.(a,e.data,e)?l.forEach(e=>{o.add(e.key),e.expanded=!0}):(e.expanded=!1,e.isLeaf&&c.add(e.key));let t=e.children;if(t&&f(t),!e.isLeaf){if(!o.has(e.key))c.add(e.key);else if(t){let n=!0;for(let e of t)if(!c.has(e.key)){n=!1;break}n?s.add(e.key):s.delete(e.key)}}l.pop()})}return f(u),o}function o(e){return r.value.has(e.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:a,isForceHiddenExpandIcon:o}}function bR(e,t){let n=L(new Set),r=L(),i=nn(),a=L(),{isIndeterminate:o,isChecked:s,toggleCheckbox:c,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:p,setCheckedKeys:m}=vR(e,i),{doFilter:h,hiddenNodeKeySet:g,isForceHiddenExpandIcon:_}=yR(e,i),v=Y(()=>e.props?.value||nR.KEY),y=Y(()=>e.props?.children||nR.CHILDREN),b=Y(()=>e.props?.disabled||nR.DISABLED),x=Y(()=>e.props?.label||nR.LABEL),S=Y(()=>{let e=n.value,t=g.value,r=[],a=i.value?.treeNodes||[],o=[];for(let e=a.length-1;e>=0;--e)o.push(a[e]);for(;o.length;){let n=o.pop();if(!t.has(n.key)&&(r.push(n),n.children&&e.has(n.key)))for(let e=n.children.length-1;e>=0;--e)o.push(n.children[e])}return r}),C=Y(()=>S.value.length>0);function w(e){let t=new Map,r=new Map,i=1;function a(e,o=1,s=void 0){var c;let l=[];for(let i of e){let e=D(i),u={level:o,key:e,data:i};u.label=A(i),u.parent=s;let d=E(i);u.disabled=k(i),u.isLeaf=!d||d.length===0,u.expanded=n.value.has(e),d&&d.length&&(u.children=a(d,o+1,u)),l.push(u),t.set(e,u),r.has(o)||r.set(o,[]),(c=r.get(o))==null||c.push(u)}return o>i&&(i=o),l}let o=a(e);return{treeNodeMap:t,levelTreeNodeMap:r,maxLevel:i,treeNodes:o}}function T(e){let t=h(e);t&&(n.value=t)}function E(e){return e[y.value]}function D(e){return e?e[v.value]:``}function k(e){return e[b.value]}function A(e){return e[x.value]}function j(e){n.value.has(e.key)?ie(e):re(e)}function M(e){let t=new Set,r=i.value.treeNodeMap;n.value.forEach(e=>{let t=r.get(e);n.value.delete(t.key),t.expanded=!1}),e.forEach(e=>{let n=r.get(e);for(;n&&!t.has(n.key);)t.add(n.key),n.expanded=!0,n=n.parent}),n.value=t}function ee(n,r){t(cR,n.data,n,r),N(n),e.expandOnClickNode&&j(n),e.showCheckbox&&(e.checkOnClickNode||n.isLeaf&&e.checkOnClickLeaf)&&!n.disabled&&c(n,!s(n),!0)}function te(e,n){t(lR,e.data,e,n)}function N(e){ae(e)||(r.value=e.key,t(fR,e.data,e))}function ne(e,t){c(e,t)}function re(r){let a=n.value;if(i.value&&e.accordion){let{treeNodeMap:e}=i.value;a.forEach(t=>{let n=e.get(t);r&&r.level===n?.level&&(a.delete(t),n.expanded=!1)})}a.add(r.key);let o=ue(r.key);o&&(o.expanded=!0,t(uR,o.data,o))}function ie(e){n.value.delete(e.key);let r=ue(e.key);r&&(r.expanded=!1,t(dR,r.data,r))}function P(e){return!!e.disabled}function ae(e){let t=r.value;return t!==void 0&&t===e.key}function oe(){if(r.value)return i.value?.treeNodeMap.get(r.value)?.data}function se(){return r.value}function ce(e){r.value=e}function le(e){i.value=w(e)}function ue(e){let t=O(e)?D(e):e;return i.value?.treeNodeMap.get(t)}function de(e,t=`auto`){let n=ue(e);n&&a.value&&a.value.scrollToItem(S.value.indexOf(n),t)}function fe(e){var t;(t=a.value)==null||t.scrollTo(e)}return B(()=>e.currentNodeKey,e=>{r.value=e},{immediate:!0}),B(()=>e.defaultExpandedKeys,e=>{n.value=new Set(e)},{immediate:!0}),B(()=>e.data,e=>{le(e)},{immediate:!0}),{tree:i,flattenTree:S,isNotEmpty:C,listRef:a,getKey:D,getChildren:E,toggleExpand:j,toggleCheckbox:c,isChecked:s,isIndeterminate:o,isDisabled:P,isCurrent:ae,isForceHiddenExpandIcon:_,handleNodeClick:ee,handleNodeDrop:te,handleNodeCheck:ne,getCurrentNode:oe,getCurrentKey:se,setCurrentKey:ce,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:p,setCheckedKeys:m,filter:T,setData:le,getNode:ue,expandNode:re,collapseNode:ie,setExpandedKeys:M,scrollToNode:de,scrollTo:fe}}var xR=V({name:`ElTreeNodeContent`,props:sR,setup(e){let t=qn(eR),n=X(`tree`);return()=>{let r=e.node,{data:i}=r;return t?.ctx.slots.default?t.ctx.slots.default({node:r,data:i}):oo(RI,{tag:`span`,truncated:!0,class:n.be(`node`,`label`)},()=>[r?.label])}}}),SR=[`aria-expanded`,`aria-disabled`,`aria-checked`,`data-key`],CR=b_(V({name:`ElTreeNode`,__name:`tree-node`,props:oR,emits:_R,setup(e,{emit:t}){let n=e,r=t,i=qn(eR),a=X(`tree`),o=Y(()=>i?.props.indent??16),s=Y(()=>i?.props.icon??av),c=e=>{let t=i?.props.props.class;if(!t)return{};let n;if(T(t)){let{data:r}=e;n=t(r,e)}else n=t;return E(n)?{[n]:!0}:n},l=e=>{r(`click`,n.node,e)},u=e=>{r(`drop`,n.node,e)},d=()=>{r(`toggle`,n.node)},f=e=>{r(`check`,n.node,e)},p=e=>{i?.instance?.vnode?.props?.onNodeContextmenu&&(e.stopPropagation(),e.preventDefault()),i?.ctx.emit(hR,e,n.node?.data,n.node)};return(e,t)=>(U(),W(`div`,{ref:`node$`,class:F([R(a).b(`node`),R(a).is(`expanded`,e.expanded),R(a).is(`current`,e.current),R(a).is(`focusable`,!e.disabled),R(a).is(`checked`,!e.disabled&&e.checked),c(e.node)]),role:`treeitem`,tabindex:`-1`,"aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":e.node?.key,onClick:Ms(l,[`stop`]),onContextmenu:p,onDragover:t[1]||=Ms(()=>{},[`prevent`]),onDragenter:t[2]||=Ms(()=>{},[`prevent`]),onDrop:Ms(u,[`stop`])},[K(`div`,{class:F(R(a).be(`node`,`content`)),style:he({paddingLeft:`${(e.node.level-1)*o.value}px`,height:e.itemSize+`px`})},[s.value?(U(),G(R(Q_),{key:0,class:F([R(a).is(`leaf`,!!e.node?.isLeaf),R(a).is(`hidden`,e.hiddenExpandIcon),{expanded:!e.node?.isLeaf&&e.expanded},R(a).be(`node`,`expand-icon`)]),onClick:Ms(d,[`stop`])},{default:z(()=>[(U(),G(Zr(s.value)))]),_:1},8,[`class`])):J(`v-if`,!0),e.showCheckbox?(U(),G(R(sE),{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:f,onClick:t[0]||=Ms(()=>{},[`stop`])},null,8,[`model-value`,`indeterminate`,`disabled`])):J(`v-if`,!0),q(R(xR),{node:{...e.node,expanded:e.expanded}},null,8,[`node`])],6)],42,SR))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue`]]),wR=S_(b_(V({name:`ElTreeV2`,__name:`tree`,props:aR,emits:gR,setup(e,{expose:t,emit:n}){let r=e,i=n,a=li(),o=Y(()=>r.itemSize);Kn(eR,{ctx:{emit:i,slots:a},props:r,instance:Ga()}),Kn(Sy,void 0);let{t:s}=Zg(),c=X(`tree`),{flattenTree:l,isNotEmpty:u,listRef:d,toggleExpand:f,isIndeterminate:p,isChecked:m,isDisabled:h,isCurrent:g,isForceHiddenExpandIcon:_,handleNodeClick:v,handleNodeDrop:y,handleNodeCheck:b,toggleCheckbox:x,getCurrentNode:S,getCurrentKey:C,setCurrentKey:w,getCheckedKeys:T,getCheckedNodes:E,getHalfCheckedKeys:D,getHalfCheckedNodes:O,setChecked:k,setCheckedKeys:A,filter:j,setData:M,getNode:ee,expandNode:te,collapseNode:N,setExpandedKeys:ne,scrollToNode:re,scrollTo:ie}=bR(r,i);return t({toggleCheckbox:x,getCurrentNode:S,getCurrentKey:C,setCurrentKey:w,getCheckedKeys:T,getCheckedNodes:E,getHalfCheckedKeys:D,getHalfCheckedNodes:O,setChecked:k,setCheckedKeys:A,filter:j,setData:M,getNode:ee,expandNode:te,collapseNode:N,setExpandedKeys:ne,scrollToNode:re,scrollTo:ie}),(e,t)=>(U(),W(`div`,{class:F([R(c).b(),{[R(c).m(`highlight-current`)]:e.highlightCurrent}]),role:`tree`},[R(u)?(U(),G(R(cj),{key:0,ref_key:`listRef`,ref:d,"class-name":R(c).b(`virtual-list`),data:R(l),total:R(l).length,height:e.height,"item-size":o.value,"perf-mode":e.perfMode,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:z(({data:t,index:n,style:r})=>[(U(),G(CR,{key:t[n].key,style:he(r),node:t[n],expanded:t[n].expanded,"show-checkbox":e.showCheckbox,checked:R(m)(t[n]),indeterminate:R(p)(t[n]),"item-size":o.value,disabled:R(h)(t[n]),current:R(g)(t[n]),"hidden-expand-icon":R(_)(t[n]),onClick:R(v),onToggle:R(f),onCheck:R(b),onDrop:R(y)},null,8,[`style`,`node`,`expanded`,`show-checkbox`,`checked`,`indeterminate`,`item-size`,`disabled`,`current`,`hidden-expand-icon`,`onClick`,`onToggle`,`onCheck`,`onDrop`]))]),_:1},8,[`class-name`,`data`,`total`,`height`,`item-size`,`perf-mode`,`scrollbar-always-on`])):(U(),W(`div`,{key:1,class:F(R(c).e(`empty-block`))},[H(e.$slots,`empty`,{},()=>[K(`span`,{class:F(R(c).e(`empty-text`))},I(e.emptyText??R(s)(`el.tree.emptyText`)),3)])],2))],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue`]])),TR=Symbol(`uploadContextKey`),ER=`ElUpload`,DR=class extends Error{constructor(e,t,n,r){super(e),this.name=`UploadAjaxError`,this.status=t,this.method=n,this.url=r}};function OR(e,t,n){let r;return r=n.response?`${n.response.error||n.response}`:n.responseText?`${n.responseText}`:`fail to ${t.method} ${e} ${n.status}`,new DR(r,n.status,t.method,e)}function kR(e){let t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}var AR=e=>{typeof XMLHttpRequest>`u`&&zg(ER,`XMLHttpRequest is undefined`);let t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener(`progress`,t=>{let n=t;n.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(n)});let r=new FormData;if(e.data)for(let[t,n]of Object.entries(e.data))x(n)&&n.length?r.append(t,...n):r.append(t,n);r.append(e.filename,e.file,e.file.name),t.addEventListener(`error`,()=>{e.onError(OR(n,e,t))}),t.addEventListener(`load`,()=>{if(t.status<200||t.status>=300)return e.onError(OR(n,e,t));e.onSuccess(kR(t))}),t.open(e.method,n,!0),e.withCredentials&&`withCredentials`in t&&(t.withCredentials=!0);let i=e.headers||{};if(i instanceof Headers)i.forEach((e,n)=>t.setRequestHeader(n,e));else for(let[e,n]of Object.entries(i))ch(n)||t.setRequestHeader(e,String(n));return t.send(r),t},jR=[`text`,`picture`,`picture-card`],MR=1,NR=()=>Date.now()+ MR++,PR=t_({action:{type:String,default:`#`},headers:{type:Z(Object)},method:{type:String,default:`post`},data:{type:Z([Object,Function,Promise]),default:()=>ly({})},multiple:Boolean,name:{type:String,default:`file`},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:``},fileList:{type:Z(Array),default:()=>ly([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:jR,default:`text`},httpRequest:{type:Z(Function),default:AR},disabled:{type:Boolean,default:void 0},limit:Number,directory:Boolean}),FR=t_({...PR,beforeUpload:{type:Z(Function),default:p},beforeRemove:{type:Z(Function)},onRemove:{type:Z(Function),default:p},onChange:{type:Z(Function),default:p},onPreview:{type:Z(Function),default:p},onSuccess:{type:Z(Function),default:p},onProgress:{type:Z(Function),default:p},onError:{type:Z(Function),default:p},onExceed:{type:Z(Function),default:p},crossorigin:{type:Z(String)}}),IR=t_({files:{type:Z(Array),default:()=>ly([])},disabled:{type:Boolean,default:void 0},handlePreview:{type:Z(Function),default:p},listType:{type:String,values:jR,default:`text`},crossorigin:{type:Z(String)}}),LR={remove:e=>!!e},RR=[`tabindex`,`aria-disabled`,`onKeydown`],zR=[`src`,`crossorigin`],BR=[`onClick`],VR=[`title`],HR=[`onClick`],UR=[`onClick`],WR=b_(V({name:`ElUploadList`,__name:`upload-list`,props:IR,emits:LR,setup(e,{emit:t}){let n=e,r=t,{t:i}=Zg(),a=X(`upload`),o=X(`icon`),s=X(`list`),c=Dy(),l=L(!1),u=Y(()=>[a.b(`list`),a.bm(`list`,n.listType),a.is(`disabled`,c.value)]),d=e=>{r(`remove`,e)};return(e,t)=>(U(),G(ms,{tag:`ul`,class:F(u.value),name:R(s).b()},{default:z(()=>[(U(!0),W(va,null,ti(e.files,(n,r)=>(U(),W(`li`,{key:n.uid||n.name,class:F([R(a).be(`list`,`item`),R(a).is(n.status),{focusing:l.value}]),tabindex:R(c)?void 0:0,"aria-disabled":R(c),role:`button`,onKeydown:Ps(e=>!R(c)&&d(n),[`delete`]),onFocus:t[0]||=e=>l.value=!0,onBlur:t[1]||=e=>l.value=!1,onClick:t[2]||=e=>l.value=!1},[H(e.$slots,`default`,{file:n,index:r},()=>[e.listType===`picture`||n.status!==`uploading`&&e.listType===`picture-card`?(U(),W(`img`,{key:0,class:F(R(a).be(`list`,`item-thumbnail`)),src:n.url,crossorigin:e.crossorigin,alt:``},null,10,zR)):J(`v-if`,!0),n.status===`uploading`||e.listType!==`picture-card`?(U(),W(`div`,{key:1,class:F(R(a).be(`list`,`item-info`))},[K(`a`,{class:F(R(a).be(`list`,`item-name`)),onClick:Ms(t=>e.handlePreview(n),[`prevent`])},[q(R(Q_),{class:F(R(o).m(`document`))},{default:z(()=>[q(R(_v))]),_:1},8,[`class`]),K(`span`,{class:F(R(a).be(`list`,`item-file-name`)),title:n.name},I(n.name),11,VR)],10,BR),n.status===`uploading`?(U(),G(R(Qk),{key:0,type:e.listType===`picture-card`?`circle`:`line`,"stroke-width":e.listType===`picture-card`?6:2,percentage:Number(n.percentage),style:he(e.listType===`picture-card`?``:`margin-top: 0.5rem`)},null,8,[`type`,`stroke-width`,`percentage`,`style`])):J(`v-if`,!0)],2)):J(`v-if`,!0),K(`label`,{class:F(R(a).be(`list`,`item-status-label`))},[e.listType===`text`?(U(),G(R(Q_),{key:0,class:F([R(o).m(`upload-success`),R(o).m(`circle-check`)])},{default:z(()=>[q(R(lv))]),_:1},8,[`class`])):[`picture-card`,`picture`].includes(e.listType)?(U(),G(R(Q_),{key:1,class:F([R(o).m(`upload-success`),R(o).m(`check`)])},{default:z(()=>[q(R(sv))]),_:1},8,[`class`])):J(`v-if`,!0)],2),R(c)?J(`v-if`,!0):(U(),G(R(Q_),{key:2,class:F(R(o).m(`close`)),onClick:e=>d(n)},{default:z(()=>[q(R(pv))]),_:1},8,[`class`,`onClick`])),J(` Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn`),J(` This is a bug which needs to be fixed `),J(` TODO: Fix the incorrect navigation interaction `),R(c)?J(`v-if`,!0):(U(),W(`i`,{key:3,class:F(R(o).m(`close-tip`))},I(R(i)(`el.upload.deleteTip`)),3)),e.listType===`picture-card`?(U(),W(`span`,{key:4,class:F(R(a).be(`list`,`item-actions`))},[K(`span`,{class:F(R(a).be(`list`,`item-preview`)),onClick:t=>e.handlePreview(n)},[q(R(Q_),{class:F(R(o).m(`zoom-in`))},{default:z(()=>[q(R(zv))]),_:1},8,[`class`])],10,HR),R(c)?J(`v-if`,!0):(U(),W(`span`,{key:0,class:F(R(a).be(`list`,`item-delete`)),onClick:e=>d(n)},[q(R(Q_),{class:F(R(o).m(`delete`))},{default:z(()=>[q(R(gv))]),_:1},8,[`class`])],10,UR))],2)):J(`v-if`,!0)])],42,RR))),128)),H(e.$slots,`append`)]),_:3},8,[`class`,`name`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue`]]),GR=t_({disabled:{type:Boolean,default:void 0},directory:Boolean}),KR={file:e=>x(e)},qR=`ElUploadDrag`,JR=b_(V({name:qR,__name:`upload-dragger`,props:GR,emits:KR,setup(e,{emit:t}){let n=e,r=t;qn(TR)||zg(qR,`usage: <el-upload><el-upload-dragger /></el-upload>`);let i=X(`upload`),a=L(!1),o=Dy(),s=e=>new Promise((t,n)=>e.file(t,n)),c=async e=>{try{if(e.isFile){let t=await s(e);return t.isDirectory=!1,[t]}if(e.isDirectory){let t=e.createReader(),n=()=>new Promise((e,n)=>t.readEntries(e,n)),r=[],i=await n();for(;i.length>0;)r.push(...i),i=await n();let a=r.map(e=>c(e).catch(()=>[]));return Bf(await Promise.all(a))}}catch{return[]}return[]},l=async e=>{if(o.value)return;a.value=!1,e.stopPropagation();let t=Array.from(e.dataTransfer.files),i=e.dataTransfer.items||[];if(n.directory){let e=Array.from(i).map(e=>(e?.webkitGetAsEntry)?.call(e)).filter(e=>e);r(`file`,Bf(await Promise.all(e.map(c))));return}t.forEach((e,t)=>{let n=i[t],r=(n?.webkitGetAsEntry)?.call(n);r&&(e.isDirectory=r.isDirectory)}),r(`file`,t)},u=()=>{o.value||(a.value=!0)},d=e=>{e.currentTarget.contains(e.relatedTarget)||(a.value=!1)};return(e,t)=>(U(),W(`div`,{class:F([R(i).b(`dragger`),R(i).is(`dragover`,a.value)]),onDrop:Ms(l,[`prevent`]),onDragover:Ms(u,[`prevent`]),onDragleave:Ms(d,[`prevent`])},[H(e.$slots,`default`)],34))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue`]]),YR=t_({...PR,beforeUpload:{type:Z(Function),default:p},onRemove:{type:Z(Function),default:p},onStart:{type:Z(Function),default:p},onSuccess:{type:Z(Function),default:p},onProgress:{type:Z(Function),default:p},onError:{type:Z(Function),default:p},onExceed:{type:Z(Function),default:p}}),XR=[`tabindex`,`aria-disabled`,`onKeydown`],ZR=[`name`,`disabled`,`multiple`,`accept`,`webkitdirectory`],QR=b_(V({name:`ElUploadContent`,inheritAttrs:!1,__name:`upload-content`,props:YR,setup(e,{expose:t}){let n=e,r=X(`upload`),i=Dy(),a=nn({}),o=nn(),s=e=>{if(e.length===0)return;let{autoUpload:t,limit:r,fileList:i,multiple:a,onStart:o,onExceed:s}=n;if(r&&i.length+e.length>r){s(e,i);return}a||(e=e.slice(0,1));for(let n of e){let e=n;e.uid=NR(),o(e),t&&c(e)}},c=async e=>{if(o.value.value=``,!n.beforeUpload)return u(e);let t,r={};try{let i=n.data,a=n.beforeUpload(e);r=ee(n.data)?bm(n.data):n.data,t=await a,ee(n.data)&&oh(i,r)&&(r=bm(n.data))}catch{t=!1}if(t===!1){n.onRemove(e);return}let i=e;t instanceof Blob&&(i=t instanceof File?t:new File([t],e.name,{type:e.type})),u(Object.assign(i,{uid:e.uid}),r)},l=async(e,t)=>T(e)?e(t):e,u=async(e,t)=>{let{headers:r,data:i,method:o,withCredentials:s,name:c,action:u,onProgress:d,onSuccess:f,onError:p,httpRequest:m}=n;try{t=await l(t??i,e)}catch{n.onRemove(e);return}let{uid:h}=e,g={headers:r||{},withCredentials:s,file:e,data:t,method:o,filename:c,action:u,onProgress:t=>{d(t,e)},onSuccess:t=>{f(t,e),delete a.value[h]},onError:t=>{p(t,e),delete a.value[h]}},_=m(g);a.value[h]=_,_ instanceof Promise&&_.then(g.onSuccess,g.onError)},d=e=>{let t=e.target.files;t&&s(Array.from(t))},f=()=>{i.value||(o.value.value=``,o.value.click())},p=()=>{f()};return t({abort:e=>{d_(a.value).filter(e?([t])=>String(e.uid)===t:()=>!0).forEach(([e,t])=>{t instanceof XMLHttpRequest&&t.abort(),delete a.value[e]})},upload:c}),(e,t)=>(U(),W(`div`,{class:F([R(r).b(),R(r).m(e.listType),R(r).is(`drag`,e.drag),R(r).is(`disabled`,R(i))]),tabindex:R(i)?void 0:0,"aria-disabled":R(i),role:`button`,onClick:f,onKeydown:Ps(Ms(p,[`self`]),[`enter`,`space`])},[e.drag?(U(),G(JR,{key:0,disabled:R(i),directory:e.directory,onFile:s},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`disabled`,`directory`])):H(e.$slots,`default`,{key:1}),K(`input`,{ref_key:`inputRef`,ref:o,class:F(R(r).e(`input`)),name:e.name,disabled:R(i),multiple:e.multiple,accept:e.accept,webkitdirectory:e.directory,type:`file`,onChange:d,onClick:t[0]||=Ms(()=>{},[`stop`])},null,42,ZR)],42,XR))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue`]]),$R=`ElUpload`,ez=e=>{e.url?.startsWith(`blob:`)&&URL.revokeObjectURL(e.url)},tz=(e,t)=>{let n=Fg(e,`fileList`,void 0,{passive:!0}),r=e=>n.value.find(t=>t.uid===e.uid);function i(e){var n;(n=t.value)==null||n.abort(e)}function a(e=[`ready`,`uploading`,`success`,`fail`]){n.value=n.value.filter(t=>!e.includes(t.status))}function o(e){n.value=n.value.filter(t=>t.uid!==e.uid)}let s=t=>{Mn(()=>e.onChange(t,n.value))},c=(t,i)=>{let a=r(i);a&&(console.error(t),a.status=`fail`,o(a),e.onError(t,a,n.value),s(a))},l=(t,i)=>{let a=r(i);a&&(e.onProgress(t,a,n.value),a.status=`uploading`,a.percentage=Math.round(t.percent))},u=(t,i)=>{let a=r(i);a&&(a.status=`success`,a.response=t,e.onSuccess(t,a,n.value),s(a))},d=t=>{ch(t.uid)&&(t.uid=NR());let r={name:t.name,percentage:0,status:`ready`,size:t.size,raw:t,uid:t.uid};if(e.listType===`picture-card`||e.listType===`picture`)try{r.url=URL.createObjectURL(t)}catch(t){t.message,e.onError(t,r,n.value)}n.value=[...n.value,r],s(r)},f=async t=>{let a=t instanceof File?r(t):t;a||zg($R,`file to be removed not found`);let s=t=>{i(t),o(t),e.onRemove(t,n.value),ez(t)};e.beforeRemove?await e.beforeRemove(a,n.value)!==!1&&s(a):s(a)};function p(){n.value.filter(({status:e})=>e===`ready`).forEach(({raw:e})=>e&&t.value?.upload(e))}return B(()=>e.listType,t=>{t!==`picture-card`&&t!==`picture`||(n.value=n.value.map(t=>{let{raw:r,url:i}=t;if(!i&&r)try{t.url=URL.createObjectURL(r)}catch(r){e.onError(r,t,n.value)}return t}))}),B(n,e=>{for(let t of e)t.uid||=NR(),t.status||=`success`},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:a,handleError:c,handleProgress:l,handleStart:d,handleSuccess:u,handleRemove:f,submit:p,revokeFileObjectURL:ez}},nz=S_(b_(V({name:`ElUpload`,__name:`upload`,props:FR,setup(e,{expose:t}){let n=e,r=Dy(),i=nn(),{abort:a,submit:o,clearFiles:s,uploadFiles:c,handleStart:l,handleError:u,handleRemove:d,handleSuccess:f,handleProgress:p,revokeFileObjectURL:m}=tz(n,i),h=Y(()=>n.listType===`picture-card`),g=Y(()=>({...n,fileList:c.value,onStart:l,onProgress:p,onSuccess:f,onError:u,onRemove:d}));return Hr(()=>{c.value.forEach(m)}),Kn(TR,{accept:fn(n,`accept`)}),t({abort:a,submit:o,clearFiles:s,handleStart:l,handleRemove:d}),(e,t)=>(U(),W(`div`,null,[h.value&&e.showFileList?(U(),G(WR,{key:0,disabled:R(r),"list-type":e.listType,files:R(c),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:R(d)},ni({append:z(()=>[q(QR,za({ref_key:`uploadRef`,ref:i},g.value),{default:z(()=>[e.$slots.trigger?H(e.$slots,`trigger`,{key:0}):J(`v-if`,!0),!e.$slots.trigger&&e.$slots.default?H(e.$slots,`default`,{key:1}):J(`v-if`,!0)]),_:3},16)]),_:2},[e.$slots.file?{name:`default`,fn:z(({file:t,index:n})=>[H(e.$slots,`file`,{file:t,index:n})]),key:`0`}:void 0]),1032,[`disabled`,`list-type`,`files`,`crossorigin`,`handle-preview`,`onRemove`])):J(`v-if`,!0),!h.value||h.value&&!e.showFileList?(U(),G(QR,za({key:1,ref_key:`uploadRef`,ref:i},g.value),{default:z(()=>[e.$slots.trigger?H(e.$slots,`trigger`,{key:0}):J(`v-if`,!0),!e.$slots.trigger&&e.$slots.default?H(e.$slots,`default`,{key:1}):J(`v-if`,!0)]),_:3},16)):J(`v-if`,!0),e.$slots.trigger?H(e.$slots,`default`,{key:2}):J(`v-if`,!0),H(e.$slots,`tip`),!h.value&&e.showFileList?(U(),G(WR,{key:3,disabled:R(r),"list-type":e.listType,files:R(c),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:R(d)},ni({_:2},[e.$slots.file?{name:`default`,fn:z(({file:t,index:n})=>[H(e.$slots,`file`,{file:t,index:n})]),key:`0`}:void 0]),1032,[`disabled`,`list-type`,`files`,`crossorigin`,`handle-preview`,`onRemove`])):J(`v-if`,!0)]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue`]])),rz=t_({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Z([String,Array]),default:`Element Plus`},font:{type:Z(Object)},gap:{type:Z(Array),default:()=>[100,100]},offset:{type:Z(Array)}});function iz(e){return e.replace(/([A-Z])/g,`-$1`).toLowerCase()}function az(e){return Object.keys(e).map(t=>`${iz(t)}: ${e[t]};`).join(` `)}function oz(){return window.devicePixelRatio||1}var sz=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type===`attributes`&&e.target===t&&(n=!0),n},cz={left:[0,.5],start:[0,.5],center:[.5,0],right:[1,-.5],end:[1,-.5]};function lz(e,t,n=1){let r=document.createElement(`canvas`),i=r.getContext(`2d`),a=e*n,o=t*n;return r.setAttribute(`width`,`${a}px`),r.setAttribute(`height`,`${o}px`),i.save(),[i,r,a,o]}function uz(){function e(e,t,n,r,i,a,o,s,c){let[l,u,d,f]=lz(r,i,n),p=0;if(e instanceof HTMLImageElement)l.drawImage(e,0,0,d,f);else{let{color:t,fontSize:r,fontStyle:o,fontWeight:s,fontFamily:u,textAlign:f,textBaseline:m}=a,h=Number(r)*n;l.font=`${o} normal ${s} ${h}px/${i}px ${u}`,l.fillStyle=t,l.textAlign=f,l.textBaseline=m;let g=x(e)?e:[e];if(m!==`top`&&g[0]){let e=l.measureText(g[0]);l.textBaseline=`top`;let t=l.measureText(g[0]);p=e.actualBoundingBoxAscent-t.actualBoundingBoxAscent}g?.forEach((e,t)=>{let[r,i]=cz[f];l.fillText(e??``,d*r+c*i,t*(h+a.fontGap*n))})}let m=Math.PI/180*Number(t),h=Math.max(r,i),[g,_,v]=lz(h,h,n);g.translate(v/2,v/2),g.rotate(m),d>0&&f>0&&g.drawImage(u,-d/2,-f/2);function y(e,t){return[e*Math.cos(m)-t*Math.sin(m),e*Math.sin(m)+t*Math.cos(m)]}let b=0,S=0,C=0,w=0,T=d/2,E=f/2;[[0-T,0-E],[0+T,0-E],[0+T,0+E],[0-T,0+E]].forEach(([e,t])=>{let[n,r]=y(e,t);b=Math.min(b,n),S=Math.max(S,n),C=Math.min(C,r),w=Math.max(w,r)});let D=b+v/2,O=C+v/2,k=S-b,A=w-C,j=o*n,M=s*n,ee=(k+j)*2,te=A+M,[N,ne]=lz(ee,te);function re(e=0,t=0){N.drawImage(_,D,O,k,A,e,t+p,k,A)}return re(),re(k+j,-A/2-M/2),re(k+j,A/2+M/2),[ne.toDataURL(),ee/n,te/n]}return e}var dz=S_(b_(V({name:`ElWatermark`,__name:`watermark`,props:rz,setup(e){let t={position:`relative`},n=e,r=Y(()=>n.font?.fontGap??3),i=Y(()=>n.font?.color??`rgba(0,0,0,.15)`),a=Y(()=>n.font?.fontSize??16),o=Y(()=>n.font?.fontWeight??`normal`),s=Y(()=>n.font?.fontStyle??`normal`),c=Y(()=>n.font?.fontFamily??`sans-serif`),l=Y(()=>n.font?.textAlign??`center`),u=Y(()=>n.font?.textBaseline??`hanging`),d=Y(()=>n.gap[0]),f=Y(()=>n.gap[1]),p=Y(()=>d.value/2),m=Y(()=>f.value/2),h=Y(()=>n.offset?.[0]??p.value),g=Y(()=>n.offset?.[1]??m.value),_=()=>{let e={zIndex:n.zIndex,position:`absolute`,left:0,top:0,width:`100%`,height:`100%`,pointerEvents:`none`,backgroundRepeat:`repeat`},t=h.value-p.value,r=g.value-m.value;return t>0&&(e.left=`${t}px`,e.width=`calc(100% - ${t}px)`,t=0),r>0&&(e.top=`${r}px`,e.height=`calc(100% - ${r}px)`,r=0),e.backgroundPosition=`${t}px ${r}px`,e},v=nn(null),y=nn(),b=L(!1),S=()=>{y.value&&=(y.value.remove(),void 0)},C=(e,t)=>{var n;v.value&&y.value&&(b.value=!0,y.value.setAttribute(`style`,az({..._(),backgroundImage:`url('${e}')`,backgroundSize:`${Math.floor(t)}px`})),(n=v.value)==null||n.append(y.value),setTimeout(()=>{b.value=!1}))},w=e=>{let t=120,i=64,o=0,{image:s,content:l,width:u,height:d,rotate:f}=n;if(!s&&e.measureText){e.font=`${Number(a.value)}px ${c.value}`;let n=x(l)?l:[l],s=0,u=0;n.forEach(t=>{let{width:n,fontBoundingBoxAscent:r,fontBoundingBoxDescent:i,actualBoundingBoxAscent:a,actualBoundingBoxDescent:o}=e.measureText(t),c=Bh(r)?a+o:r+i;n>s&&(s=Math.ceil(n)),c>u&&(u=Math.ceil(c))}),t=s,i=u*n.length+(n.length-1)*r.value;let d=Math.PI/180*Number(f);o=Math.ceil(Math.abs(Math.sin(d)*i)/2),t+=o}return[u??t,d??i,o]},T=uz(),E=()=>{let e=document.createElement(`canvas`).getContext(`2d`),t=n.image,p=n.content,m=n.rotate;if(e){y.value||=document.createElement(`div`);let n=oz(),[h,g,_]=w(e),v=e=>{let[t,p]=T(e||``,m,n,h,g,{color:i.value,fontSize:a.value,fontStyle:s.value,fontWeight:o.value,fontFamily:c.value,fontGap:r.value,textAlign:l.value,textBaseline:u.value},d.value,f.value,_);C(t,p)};if(t){let e=new Image;e.onload=()=>{v(e)},e.onerror=()=>{v(p)},e.crossOrigin=`anonymous`,e.referrerPolicy=`no-referrer`,e.src=t}else v(p)}};return zr(()=>{E()}),B(()=>n,()=>{E()},{deep:!0,flush:`post`}),Hr(()=>{S()}),Tg(v,e=>{b.value||e.forEach(e=>{sz(e,y.value)&&(S(),E())})},{attributes:!0,subtree:!0,childList:!0}),(e,n)=>(U(),W(`div`,{ref_key:`containerRef`,ref:v,style:he([t])},[H(e.$slots,`default`)],4))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/watermark/src/watermark.vue`]])),fz=t_({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:`rgba(0,0,0,0.5)`},pos:{type:Z(Object)},targetAreaClickable:{type:Boolean,default:!0}}),pz=Math.min,mz=Math.max,hz=Math.round,gz=Math.floor,_z=e=>({x:e,y:e}),vz={left:`right`,right:`left`,bottom:`top`,top:`bottom`},yz={start:`end`,end:`start`};function bz(e,t,n){return mz(e,pz(t,n))}function xz(e,t){return typeof e==`function`?e(t):e}function Sz(e){return e.split(`-`)[0]}function Cz(e){return e.split(`-`)[1]}function wz(e){return e===`x`?`y`:`x`}function Tz(e){return e===`y`?`height`:`width`}var Ez=new Set([`top`,`bottom`]);function Dz(e){return Ez.has(Sz(e))?`y`:`x`}function Oz(e){return wz(Dz(e))}function kz(e,t,n){n===void 0&&(n=!1);let r=Cz(e),i=Oz(e),a=Tz(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=Rz(o)),[o,Rz(o)]}function Az(e){let t=Rz(e);return[jz(e),t,jz(t)]}function jz(e){return e.replace(/start|end/g,e=>yz[e])}var Mz=[`left`,`right`],Nz=[`right`,`left`],Pz=[`top`,`bottom`],Fz=[`bottom`,`top`];function Iz(e,t,n){switch(e){case`top`:case`bottom`:return n?t?Nz:Mz:t?Mz:Nz;case`left`:case`right`:return t?Pz:Fz;default:return[]}}function Lz(e,t,n,r){let i=Cz(e),a=Iz(Sz(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(jz)))),a}function Rz(e){return e.replace(/left|right|bottom|top/g,e=>vz[e])}function zz(e){return{top:0,right:0,bottom:0,left:0,...e}}function Bz(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:zz(e)}function Vz(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Hz(e,t,n){let{reference:r,floating:i}=e,a=Dz(t),o=Oz(t),s=Tz(o),c=Sz(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Cz(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var Uz=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Hz(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=Hz(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Wz(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=xz(t,e),p=Bz(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=Vz(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=Vz(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var Gz=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=xz(e,t)||{};if(l==null)return{};let d=Bz(u),f={x:n,y:r},p=Oz(i),m=Tz(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,E=pz(d[_],T),D=pz(d[v],T),O=E,k=C-h[m]-D,A=C/2-h[m]/2+w,j=bz(O,A,k),M=!c.arrow&&Cz(i)!=null&&A!==j&&a.reference[m]/2-(A<O?E:D)-h[m]/2<0,ee=M?A<O?A-O:A-k:0;return{[p]:f[p]+ee,data:{[p]:j,centerOffset:A-j-ee,...M&&{alignmentOffset:ee}},reset:M}}}),Kz=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=xz(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=Sz(r),_=Dz(o),v=Sz(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[Rz(o)]:Az(o)),x=p!==`none`;!d&&x&&b.push(...Lz(o,m,p,y));let S=[o,...b],C=await Wz(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=kz(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==Dz(t))||T.every(e=>Dz(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=Dz(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}},qz=new Set([`left`,`top`]);async function Jz(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Sz(n),s=Cz(n),c=Dz(n)===`y`,l=qz.has(o)?-1:1,u=a&&c?-1:1,d=xz(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var Yz=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await Jz(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},Xz=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=xz(e,t),l={x:n,y:r},u=await Wz(t,c),d=Dz(Sz(i)),f=wz(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=bz(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=bz(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}};function Zz(){return typeof window<`u`}function Qz(e){return tB(e)?(e.nodeName||``).toLowerCase():`#document`}function $z(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function eB(e){return((tB(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function tB(e){return Zz()?e instanceof Node||e instanceof $z(e).Node:!1}function nB(e){return Zz()?e instanceof Element||e instanceof $z(e).Element:!1}function rB(e){return Zz()?e instanceof HTMLElement||e instanceof $z(e).HTMLElement:!1}function iB(e){return!Zz()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof $z(e).ShadowRoot}var aB=new Set([`inline`,`contents`]);function oB(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=yB(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!aB.has(i)}var sB=new Set([`table`,`td`,`th`]);function cB(e){return sB.has(Qz(e))}var lB=[`:popover-open`,`:modal`];function uB(e){return lB.some(t=>{try{return e.matches(t)}catch{return!1}})}var dB=[`transform`,`translate`,`scale`,`rotate`,`perspective`],fB=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],pB=[`paint`,`layout`,`strict`,`content`];function mB(e){let t=gB(),n=nB(e)?yB(e):e;return dB.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||fB.some(e=>(n.willChange||``).includes(e))||pB.some(e=>(n.contain||``).includes(e))}function hB(e){let t=xB(e);for(;rB(t)&&!vB(t);){if(mB(t))return t;if(uB(t))return null;t=xB(t)}return null}function gB(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var _B=new Set([`html`,`body`,`#document`]);function vB(e){return _B.has(Qz(e))}function yB(e){return $z(e).getComputedStyle(e)}function bB(e){return nB(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xB(e){if(Qz(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||iB(e)&&e.host||eB(e);return iB(t)?t.host:t}function SB(e){let t=xB(e);return vB(t)?e.ownerDocument?e.ownerDocument.body:e.body:rB(t)&&oB(t)?t:SB(t)}function CB(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=SB(e),i=r===e.ownerDocument?.body,a=$z(r);if(i){let e=wB(a);return t.concat(a,a.visualViewport||[],oB(r)?r:[],e&&n?CB(e):[])}return t.concat(r,CB(r,[],n))}function wB(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function TB(e){let t=yB(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=rB(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=hz(n)!==a||hz(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function EB(e){return nB(e)?e:e.contextElement}function DB(e){let t=EB(e);if(!rB(t))return _z(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=TB(t),o=(a?hz(n.width):n.width)/r,s=(a?hz(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var OB=_z(0);function kB(e){let t=$z(e);return!gB()||!t.visualViewport?OB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function AB(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$z(e)?!1:t}function jB(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=EB(e),o=_z(1);t&&(r?nB(r)&&(o=DB(r)):o=DB(e));let s=AB(a,n,r)?kB(a):_z(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=$z(a),t=r&&nB(r)?$z(r):r,n=e,i=wB(n);for(;i&&r&&t!==n;){let e=DB(i),t=i.getBoundingClientRect(),r=yB(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=$z(i),i=wB(n)}}return Vz({width:u,height:d,x:c,y:l})}function MB(e,t){let n=bB(e).scrollLeft;return t?t.left+n:jB(eB(e)).left+n}function NB(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-MB(e,n),y:n.top+t.scrollTop}}function PB(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=eB(r),s=t?uB(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=_z(1),u=_z(0),d=rB(r);if((d||!d&&!a)&&((Qz(r)!==`body`||oB(o))&&(c=bB(r)),rB(r))){let e=jB(r);l=DB(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?NB(o,c):_z(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function FB(e){return Array.from(e.getClientRects())}function IB(e){let t=eB(e),n=bB(e),r=e.ownerDocument.body,i=mz(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=mz(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+MB(e),s=-n.scrollTop;return yB(r).direction===`rtl`&&(o+=mz(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var LB=25;function RB(e,t){let n=$z(e),r=eB(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=gB();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=MB(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=LB&&(a-=o)}else l<=LB&&(a+=l);return{width:a,height:o,x:s,y:c}}var zB=new Set([`absolute`,`fixed`]);function BB(e,t){let n=jB(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=rB(e)?DB(e):_z(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function VB(e,t,n){let r;if(t===`viewport`)r=RB(e,n);else if(t===`document`)r=IB(eB(e));else if(nB(t))r=BB(t,n);else{let n=kB(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Vz(r)}function HB(e,t){let n=xB(e);return n===t||!nB(n)||vB(n)?!1:yB(n).position===`fixed`||HB(n,t)}function UB(e,t){let n=t.get(e);if(n)return n;let r=CB(e,[],!1).filter(e=>nB(e)&&Qz(e)!==`body`),i=null,a=yB(e).position===`fixed`,o=a?xB(e):e;for(;nB(o)&&!vB(o);){let t=yB(o),n=mB(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&zB.has(i.position)||oB(o)&&!n&&HB(e,o))?r=r.filter(e=>e!==o):i=t,o=xB(o)}return t.set(e,r),r}function WB(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?uB(t)?[]:UB(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=VB(t,n,i);return e.top=mz(r.top,e.top),e.right=pz(r.right,e.right),e.bottom=pz(r.bottom,e.bottom),e.left=mz(r.left,e.left),e},VB(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function GB(e){let{width:t,height:n}=TB(e);return{width:t,height:n}}function KB(e,t,n){let r=rB(t),i=eB(t),a=n===`fixed`,o=jB(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=_z(0);function l(){c.x=MB(i)}if(r||!r&&!a)if((Qz(t)!==`body`||oB(i))&&(s=bB(t)),r){let e=jB(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?NB(i,s):_z(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function qB(e){return yB(e).position===`static`}function JB(e,t){if(!rB(e)||yB(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return eB(e)===n&&(n=n.ownerDocument.body),n}function YB(e,t){let n=$z(e);if(uB(e))return n;if(!rB(e)){let t=xB(e);for(;t&&!vB(t);){if(nB(t)&&!qB(t))return t;t=xB(t)}return n}let r=JB(e,t);for(;r&&cB(r)&&qB(r);)r=JB(r,t);return r&&vB(r)&&qB(r)&&!mB(r)?n:r||hB(e)||n}var XB=async function(e){let t=this.getOffsetParent||YB,n=this.getDimensions,r=await n(e.floating);return{reference:KB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZB(e){return yB(e).direction===`rtl`}var QB={convertOffsetParentRelativeRectToViewportRelativeRect:PB,getDocumentElement:eB,getClippingRect:WB,getOffsetParent:YB,getElementRects:XB,getClientRects:FB,getDimensions:GB,getScale:DB,isElement:nB,isRTL:ZB};function $B(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eV(e,t){let n=null,r,i=eB(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=gz(d),h=gz(i.clientWidth-(u+f)),g=gz(i.clientHeight-(d+p)),_=gz(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:mz(0,pz(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!$B(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function tV(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=EB(e),u=i||a?[...l?CB(l):[],...CB(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?eV(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?jB(e):null;c&&g();function g(){let t=jB(e);h&&!$B(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var nV=Wz,rV=Yz,iV=Xz,aV=Kz,oV=Gz,sV=(e,t,n)=>{let r=new Map,i={platform:QB,...n},a={...i.platform,_c:r};return Uz(e,t,{...i,platform:a})},cV=(e,t,n,r,i)=>{let a=L(null),o=()=>{let t;return t=E(e.value)?document.querySelector(e.value):T(e.value)?e.value():e.value,t},s=()=>{let e=o();if(!e||!t.value){a.value=null;return}uV(e)||e.scrollIntoView(i.value);let{left:n,top:r,width:s,height:c}=e.getBoundingClientRect();a.value={left:n,top:r,width:s,height:c,radius:0}};zr(()=>{B([t,e],()=>{s()},{immediate:!0}),window.addEventListener(`resize`,s)}),Hr(()=>{window.removeEventListener(`resize`,s)});let c=e=>(x(n.value.offset)?n.value.offset[e]:n.value.offset)??6,l=Y(()=>{if(!a.value)return a.value;let e=c(0),t=c(1),r=n.value?.radius||2;return{left:a.value.left-e,top:a.value.top-t,width:a.value.width+e*2,height:a.value.height+t*2,radius:r}});return{mergedPosInfo:l,triggerTarget:Y(()=>{let e=o();return!r.value||!e||!window.DOMRect?e||void 0:{getBoundingClientRect(){return window.DOMRect.fromRect({width:l.value?.width||0,height:l.value?.height||0,x:l.value?.left||0,y:l.value?.top||0})}}})}},lV=Symbol(`ElTour`);function uV(e){let t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:a,left:o}=e.getBoundingClientRect();return r>=0&&o>=0&&i<=t&&a<=n}var dV=(e,t,n,r,i,a,o,s)=>{let c=L(),l=L(),u=L({}),d={x:c,y:l,placement:r,strategy:i,middlewareData:u},f=Y(()=>{let e=[rV(R(a)),aV(),iV(),fV()];return R(s)&&R(n)&&e.push(oV({element:R(n)})),e}),p=async()=>{if(!$h)return;let n=R(e),a=R(t);if(!n||!a)return;let o=await sV(n,a,{placement:R(r),strategy:R(i),middleware:R(f)});u_(d).forEach(e=>{d[e].value=o[e]})},m=Y(()=>{if(!R(e))return{position:`fixed`,top:`50%`,left:`50%`,transform:`translate3d(-50%, -50%, 0)`,maxWidth:`100vw`,zIndex:R(o)};let{overflow:t}=R(u);return{position:R(i),zIndex:R(o),top:R(l)==null?``:`${R(l)}px`,left:R(c)==null?``:`${R(c)}px`,maxWidth:t?.maxWidth?`${t?.maxWidth}px`:``}}),h=Y(()=>{if(!R(s))return{};let{arrow:e}=R(u);return{left:e?.x==null?``:`${e?.x}px`,top:e?.y==null?``:`${e?.y}px`}}),g;return zr(()=>{let n=R(e),r=R(t);n&&r&&(g=tV(n,r,p)),Xn(()=>{p()})}),Hr(()=>{g&&g()}),{update:p,contentStyle:m,arrowStyle:h}},fV=()=>({name:`overflow`,async fn(e){let t=await nV(e),n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),pV={style:{width:`100%`,height:`100%`}},mV=[`d`],hV=b_(V({name:`ElTourMask`,inheritAttrs:!1,__name:`mask`,props:fz,setup(e){let t=e,{ns:n}=qn(lV),r=Y(()=>t.pos?.radius??2),i=Y(()=>{let e=r.value,t=`a${e},${e} 0 0 1`;return{topRight:`${t} ${e},${e}`,bottomRight:`${t} ${-e},${e}`,bottomLeft:`${t} ${-e},${-e}`,topLeft:`${t} ${e},${-e}`}}),{width:a,height:o}=Lg(),s=Y(()=>{let e=a.value,n=o.value,s=i.value,c=`M${e},0 L0,0 L0,${n} L${e},${n} L${e},0 Z`,l=r.value;return t.pos?`${c} M${t.pos.left+l},${t.pos.top} h${t.pos.width-l*2} ${s.topRight} v${t.pos.height-l*2} ${s.bottomRight} h${-t.pos.width+l*2} ${s.bottomLeft} v${-t.pos.height+l*2} ${s.topLeft} z`:c}),c=Y(()=>({position:`fixed`,left:0,right:0,top:0,bottom:0,zIndex:t.zIndex,pointerEvents:t.pos&&t.targetAreaClickable?`none`:`auto`})),l=Y(()=>({fill:t.fill,pointerEvents:`auto`,cursor:`auto`}));return vO(fn(t,`visible`),{ns:n}),(e,t)=>e.visible?(U(),W(`div`,za({key:0,class:R(n).e(`mask`),style:c.value},e.$attrs),[(U(),W(`svg`,pV,[K(`path`,{class:F(R(n).e(`hollow`)),style:he(l.value),d:s.value},null,14,mV)]))],16)):J(`v-if`,!0)}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tour/src/mask.vue`]]),gV=t_({placement:{type:Z(String),values:[`top-start`,`top-end`,`top`,`bottom-start`,`bottom-end`,`bottom`,`left-start`,`left-end`,`left`,`right-start`,`right-end`,`right`],default:`bottom`},reference:{type:Z(Object),default:null},strategy:{type:Z(String),values:[`absolute`,`fixed`],default:`absolute`},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),_V={close:()=>!0},vV=[`data-side`],yV=b_(V({name:`ElTourContent`,__name:`content`,props:gV,emits:_V,setup(e,{emit:t}){let n=e,r=t,i=L(n.placement),a=L(n.strategy),o=L(null),s=L(null);B(()=>n.placement,()=>{i.value=n.placement});let{contentStyle:c,arrowStyle:l}=dV(fn(n,`reference`),o,s,i,a,fn(n,`offset`),fn(n,`zIndex`),fn(n,`showArrow`)),u=Y(()=>i.value.split(`-`)[0]),{ns:d}=qn(lV),f=()=>{r(`close`)},p=e=>{e.detail.focusReason===`pointer`&&e.preventDefault()};return(e,t)=>(U(),W(`div`,{ref_key:`contentRef`,ref:o,style:he(R(c)),class:F(R(d).e(`content`)),"data-side":u.value,tabindex:`-1`},[q(R(Qb),{loop:``,trapped:``,"focus-start-el":`container`,"focus-trap-el":o.value||void 0,onReleaseRequested:f,onFocusoutPrevented:p},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`focus-trap-el`]),e.showArrow?(U(),W(`span`,{key:0,ref_key:`arrowRef`,ref:s,style:he(R(l)),class:F(R(d).e(`arrow`))},null,6)):J(`v-if`,!0)],14,vV))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tour/src/content.vue`]]),bV=V({name:`ElTourSteps`,props:{current:{type:Number,default:0}},emits:[`update-total`],setup(e,{slots:t,emit:n}){let r=0;return()=>{let i=t.default?.call(t),a=[],o=0;function s(e){x(e)&&e.forEach(e=>{(e?.type||{})?.name===`ElTourStep`&&(a.push(e),o+=1)})}return i.length&&s($v(i[0]?.children)),r!==o&&(r=o,n(`update-total`,o)),a.length?a[e.current]:null}}}),xV=b_(V({name:`ElTour`,inheritAttrs:!1,__name:`tour`,props:t_({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Vv},placement:gV.placement,contentStyle:{type:Z([Object])},mask:{type:Z([Boolean,Object]),default:!0},gap:{type:Z(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Z([Boolean,Object]),default:()=>({block:`center`})},type:{type:Z(String)},appendTo:{type:y_.to.type,default:`body`},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),emits:{[D_]:e=>Vh(e),"update:current":e=>Hh(e),close:e=>Hh(e),finish:()=>!0,change:e=>Hh(e)},setup(e,{emit:t}){let n=e,r=t,i=X(`tour`),a=L(0),o=L(),s=Fg(n,`current`,r,{passive:!0}),c=Y(()=>o.value?.target),l=Y(()=>[i.b(),_.value===`primary`?i.m(`primary`):``]),u=Y(()=>o.value?.placement||n.placement),d=Y(()=>o.value?.contentStyle??n.contentStyle),f=Y(()=>o.value?.mask??n.mask),p=Y(()=>!!f.value&&n.modelValue),m=Y(()=>Vh(f.value)?void 0:f.value),h=Y(()=>!!c.value&&(o.value?.showArrow??n.showArrow)),g=Y(()=>o.value?.scrollIntoViewOptions??n.scrollIntoViewOptions),_=Y(()=>o.value?.type??n.type),{nextZIndex:v}=Gg(),y=v(),b=Y(()=>n.zIndex??y),{mergedPosInfo:x,triggerTarget:S}=cV(c,fn(n,`modelValue`),fn(n,`gap`),f,g);B(()=>n.modelValue,e=>{e||(s.value=0)});let C=()=>{n.closeOnPressEscape&&(r(D_,!1),r(`close`,s.value))},w=e=>{a.value=e},T=li();return Kn(lV,{currentStep:o,current:s,total:a,showClose:fn(n,`showClose`),closeIcon:fn(n,`closeIcon`),mergedType:_,ns:i,slots:T,updateModelValue(e){r(D_,e)},onClose(){r(`close`,s.value)},onFinish(){r(`finish`)},onChange(){r(O_,s.value)}}),(e,t)=>(U(),W(va,null,[q(R(E_),{to:e.appendTo},{default:z(()=>[K(`div`,za({class:l.value},e.$attrs),[q(hV,{visible:p.value,fill:m.value?.color,style:he(m.value?.style),pos:R(x),"z-index":b.value,"target-area-clickable":e.targetAreaClickable},null,8,[`visible`,`fill`,`style`,`pos`,`z-index`,`target-area-clickable`]),e.modelValue?(U(),G(yV,{key:R(s),reference:R(S),placement:u.value,"show-arrow":h.value,"z-index":b.value,style:he(d.value),onClose:C},{default:z(()=>[q(R(bV),{current:R(s),onUpdateTotal:w},{default:z(()=>[H(e.$slots,`default`)]),_:3},8,[`current`])]),_:3},8,[`reference`,`placement`,`show-arrow`,`z-index`,`style`])):J(`v-if`,!0)],16)]),_:3},8,[`to`]),J(` just for IDE `),J(`v-if`,!0)],64))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tour/src/tour.vue`]]),SV=t_({target:{type:Z([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Vv},showArrow:{type:Boolean,default:void 0},placement:gV.placement,mask:{type:Z([Boolean,Object]),default:void 0},contentStyle:{type:Z([Object])},prevButtonProps:{type:Z(Object)},nextButtonProps:{type:Z(Object)},scrollIntoViewOptions:{type:Z([Boolean,Object]),default:void 0},type:{type:Z(String)}}),CV={close:()=>!0},wV=[`aria-label`],TV=b_(V({name:`ElTourStep`,__name:`step`,props:SV,emits:CV,setup(e,{emit:t}){let n=e,r=t,{Close:i}=Hv,{t:a}=Zg(),{currentStep:o,current:s,total:c,showClose:l,closeIcon:u,mergedType:d,ns:f,slots:p,updateModelValue:m,onClose:h,onFinish:g,onChange:_}=qn(lV);B(n,e=>{o.value=e},{immediate:!0});let v=Y(()=>n.showClose??l.value),y=Y(()=>n.closeIcon??u.value??i),b=e=>{if(e)return Sh(e,[`children`,`onClick`])},x=()=>{var e;--s.value,n.prevButtonProps?.onClick&&((e=n.prevButtonProps)==null||e.onClick()),_()},S=()=>{s.value>=c.value-1?C():s.value+=1,n.nextButtonProps?.onClick&&n.nextButtonProps.onClick(),_()},C=()=>{w(),g()},w=()=>{m(!1),h(),r(`close`)},T=e=>{if(!e.target?.isContentEditable)switch(Gb(e)){case Q.left:e.preventDefault(),s.value>0&&x();break;case Q.right:e.preventDefault(),S();break}};return zr(()=>{window.addEventListener(`keydown`,T)}),Hr(()=>{window.removeEventListener(`keydown`,T)}),(e,t)=>(U(),W(va,null,[v.value?(U(),W(`button`,{key:0,"aria-label":R(a)(`el.tour.close`),class:F(R(f).e(`closebtn`)),type:`button`,onClick:w},[q(R(Q_),{class:F(R(f).e(`close`))},{default:z(()=>[(U(),G(Zr(y.value)))]),_:1},8,[`class`])],10,wV)):J(`v-if`,!0),K(`header`,{class:F([R(f).e(`header`),{"show-close":R(l)}])},[H(e.$slots,`header`,{},()=>[K(`span`,{role:`heading`,class:F(R(f).e(`title`))},I(e.title),3)])],2),K(`div`,{class:F(R(f).e(`body`))},[H(e.$slots,`default`,{},()=>[K(`span`,null,I(e.description),1)])],2),K(`footer`,{class:F(R(f).e(`footer`))},[K(`div`,{class:F(R(f).b(`indicators`))},[R(p).indicators?(U(),G(Zr(R(p).indicators),{key:0,current:R(s),total:R(c)},null,8,[`current`,`total`])):(U(!0),W(va,{key:1},ti(R(c),(e,t)=>(U(),W(`span`,{key:e,class:F([R(f).b(`indicator`),R(f).is(`active`,t===R(s))])},null,2))),128))],2),K(`div`,{class:F(R(f).b(`buttons`))},[R(s)>0?(U(),G(R(Gw),za({key:0,size:`small`,type:R(d)},b(e.prevButtonProps),{onClick:x}),{default:z(()=>[Fa(I(e.prevButtonProps?.children??R(a)(`el.tour.previous`)),1)]),_:1},16,[`type`])):J(`v-if`,!0),R(s)<=R(c)-1?(U(),G(R(Gw),za({key:1,size:`small`,type:R(d)===`primary`?`default`:`primary`},b(e.nextButtonProps),{onClick:S}),{default:z(()=>[Fa(I(e.nextButtonProps?.children??(R(s)===R(c)-1?R(a)(`el.tour.finish`):R(a)(`el.tour.next`))),1)]),_:1},16,[`type`])):J(`v-if`,!0)],2)],2)],64))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/tour/src/step.vue`]]),EV=S_(xV,{TourStep:TV}),DV=T_(TV),OV=t_({container:{type:Z([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Z(String),default:`default`},direction:{type:Z(String),default:`vertical`},selectScrollTop:Boolean}),kV={change:e=>E(e),click:(e,t)=>e instanceof MouseEvent&&(E(t)||Bh(t))},AV=Symbol(`anchor`),jV=e=>{if(!$h||e===``)return null;if(E(e))try{return document.querySelector(e)}catch{return null}return e};function MV(e){let t=0,n=(...n)=>{t&&P_(t),t=N_(()=>{e(...n),t=0})};return n.cancel=()=>{P_(t),t=0},n}var NV=b_(V({name:`ElAnchor`,__name:`anchor`,props:OV,emits:kV,setup(e,{expose:t,emit:n}){let r=e,i=n,a=li(),o=L(``),s=L({}),c=L(null),l=L(null),u=L(),d={},f=!1,p=0,m=X(`anchor`),h=Y(()=>[m.b(),r.type===`underline`?m.m(`underline`):``,m.m(r.direction)]),g=e=>{d[e.href]=e.el},_=e=>{delete d[e]},v=e=>{o.value!==e&&(o.value=e,i(O_,e))},y=null,b=``,x=e=>{if(!u.value)return;let t=jV(e);if(!t)return;if(y){if(b===e)return;y()}b=e,f=!0;let n=J_(t,u.value),i=IE(t,n),a=n.scrollHeight-n.clientHeight,o=Math.min(i-r.offset,a);y=q_(u.value,p,o,r.duration,()=>{setTimeout(()=>{f=!1,b=``},20)})},S=e=>{e&&(v(e),x(e))},C=(e,t)=>{i(`click`,e,t),S(t)},w=MV(()=>{u.value&&(p=Y_(u.value));let e=T();f||Bh(e)||v(e)}),T=()=>{if(!u.value)return;let e=Y_(u.value),t=[];for(let e of Object.keys(d)){let n=jV(e);if(!n)continue;let i=IE(n,J_(n,u.value));t.push({top:i-r.offset-r.bound,href:e})}t.sort((e,t)=>e.top-t.top);for(let n=0;n<t.length;n++){let i=t[n],a=t[n+1];if(n===0&&e===0)return r.selectScrollTop?i.href:``;if(i.top<=e&&(!a||a.top>e))return i.href}},E=()=>{let e=jV(r.container);!e||qh(e)?u.value=window:u.value=e};bg(u,`scroll`,w);let D=()=>{Mn(()=>{if(!c.value||!l.value||!o.value){s.value={};return}let e=d[o.value];if(!e){s.value={};return}let t=c.value.getBoundingClientRect(),n=l.value.getBoundingClientRect(),i=e.getBoundingClientRect();r.direction===`horizontal`?s.value={left:`${i.left-t.left}px`,width:`${i.width}px`,opacity:1}:s.value={top:`${i.top-t.top+(i.height-n.height)/2}px`,opacity:1}})};return B(o,D),B(()=>a.default?.call(a),D),zr(()=>{E();let e=decodeURIComponent(window.location.hash);jV(e)?S(e):w()}),B(()=>r.container,()=>{E()}),Kn(AV,{ns:m,direction:r.direction,currentAnchor:o,addLink:g,removeLink:_,handleClick:C}),t({scrollTo:S}),(e,t)=>(U(),W(`div`,{ref_key:`anchorRef`,ref:c,class:F(h.value)},[e.marker?(U(),W(`div`,{key:0,ref_key:`markerRef`,ref:l,class:F(R(m).e(`marker`)),style:he(s.value)},null,6)):J(`v-if`,!0),K(`div`,{class:F(R(m).e(`list`))},[H(e.$slots,`default`)],2)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/anchor/src/anchor.vue`]]),PV=t_({title:String,href:String}),FV=[`href`],IV=b_(V({name:`ElAnchorLink`,__name:`anchor-link`,props:PV,setup(e){let t=e,n=L(null),{ns:r,direction:i,currentAnchor:a,addLink:o,removeLink:s,handleClick:c}=qn(AV),l=Y(()=>[r.e(`link`),r.is(`active`,a.value===t.href)]),u=e=>{c(e,t.href)};return B(()=>t.href,(e,t)=>{Mn(()=>{t&&s(t),e&&o({href:e,el:n.value})})}),zr(()=>{let{href:e}=t;e&&o({href:e,el:n.value})}),Hr(()=>{let{href:e}=t;e&&s(e)}),(e,t)=>(U(),W(`div`,{class:F(R(r).e(`item`))},[K(`a`,{ref_key:`linkRef`,ref:n,class:F(l.value),href:e.href,onClick:u},[H(e.$slots,`default`,{},()=>[Fa(I(e.title),1)])],10,FV),e.$slots[`sub-link`]&&R(i)===`vertical`?(U(),W(`div`,{key:0,class:F(R(r).e(`list`))},[H(e.$slots,`sub-link`)],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/anchor/src/anchor-link.vue`]]),LV=S_(NV,{AnchorLink:IV}),RV=T_(IV),zV={label:`label`,value:`value`,disabled:`disabled`},BV=t_({direction:{type:Z(String),default:`horizontal`},options:{type:Z(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:Z(Object),default:()=>zV},block:Boolean,size:r_,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},id:String,name:String,...dy([`ariaLabel`])}),VV={[D_]:e=>E(e)||Hh(e)||Vh(e),[O_]:e=>E(e)||Hh(e)||Vh(e)},HV=[`id`,`aria-label`,`aria-labelledby`],UV=[`name`,`disabled`,`checked`,`onChange`],WV=S_(b_(V({name:`ElSegmented`,__name:`segmented`,props:BV,emits:VV,setup(e,{emit:t}){let n=e,r=t,i=X(`segmented`),a=by(),o=Ey(),s=Dy(),{formItem:c}=Cy(),{inputId:l,isLabeledByFormItem:u}=wy(n,{formItemContext:c}),d=L(null),f=Eg(),p=Ut({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),m=(e,t)=>{let i=_(t);r(D_,i),r(O_,i),e.target.checked=i===n.modelValue},h=Y(()=>({...zV,...n.props})),g=e=>e,_=e=>O(e)?e[h.value.value]:e,v=e=>O(e)?e[h.value.label]:e,y=e=>!!(s.value||O(e)&&e[h.value.disabled]),b=e=>n.modelValue===_(e),x=e=>n.options.find(t=>_(t)===e),S=e=>[i.e(`item`),i.is(`selected`,b(e)),i.is(`disabled`,y(e))],C=()=>{if(!d.value)return;let e=d.value.querySelector(`.is-selected`),t=d.value.querySelector(`.is-selected input`);if(!e||!t){p.width=0,p.height=0,p.translateX=0,p.translateY=0,p.focusVisible=!1;return}p.isInit=!0,n.direction===`vertical`?(p.height=e.offsetHeight,p.translateY=e.offsetTop):(p.width=e.offsetWidth,p.translateX=e.offsetLeft);try{p.focusVisible=t.matches(`:focus-visible`)}catch{}},w=Y(()=>[i.b(),i.m(o.value),i.is(`block`,n.block)]),T=Y(()=>({width:n.direction===`vertical`?`100%`:`${p.width}px`,height:n.direction===`vertical`?`${p.height}px`:`100%`,transform:n.direction===`vertical`?`translateY(${p.translateY}px)`:`translateX(${p.translateX}px)`,display:p.isInit?`block`:`none`})),E=Y(()=>[i.e(`item-selected`),i.is(`disabled`,y(x(n.modelValue))),i.is(`focus-visible`,p.focusVisible)]),D=Y(()=>n.name||a.value);return jg(d,C),B(f,C),B(()=>n.modelValue,()=>{var e;C(),n.validateEvent&&((e=c?.validate)==null||e.call(c,`change`).catch(e=>void 0))},{flush:`post`}),(e,t)=>e.options.length?(U(),W(`div`,{key:0,id:R(l),ref_key:`segmentedRef`,ref:d,class:F(w.value),role:`radiogroup`,"aria-label":R(u)?void 0:e.ariaLabel||`segmented`,"aria-labelledby":R(u)?R(c).labelId:void 0},[K(`div`,{class:F([R(i).e(`group`),R(i).m(e.direction)])},[K(`div`,{style:he(T.value),class:F(E.value)},null,6),(U(!0),W(va,null,ti(e.options,(t,n)=>(U(),W(`label`,{key:n,class:F(S(t))},[K(`input`,{class:F(R(i).e(`item-input`)),type:`radio`,name:D.value,disabled:y(t),checked:b(t),onChange:e=>m(e,t)},null,42,UV),K(`div`,{class:F(R(i).e(`item-label`))},[H(e.$slots,`default`,{item:g(t)},()=>[Fa(I(v(t)),1)])],2)],2))),128))],2)],10,HV)):J(`v-if`,!0)}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/segmented/src/segmented.vue`]])),GV=(e,t)=>{let n=e.toLowerCase();return(t.label||t.value||``).toLowerCase().includes(n)},KV=(e,t,n)=>{let{selectionEnd:r}=e;if(r===null)return;let i=e.value,a=tp(t),o=-1,s;for(let e=r-1;e>=0;--e){let t=i[e];if(t===n||t===`
`||t===`\r`){o=e;continue}if(a.includes(t)){let n=o===-1?r:o;s={pattern:i.slice(e+1,n),start:e+1,end:n,prefix:t,prefixIndex:e,splitIndex:o,selectionEnd:r};break}}return s},qV=(e,t={debug:!1,useSelectionEnd:!1})=>{let n=e.selectionStart===null?0:e.selectionStart,r=e.selectionEnd===null?0:e.selectionEnd,i=t.useSelectionEnd?r:n,a=`direction.boxSizing.width.height.overflowX.overflowY.borderTopWidth.borderRightWidth.borderBottomWidth.borderLeftWidth.borderStyle.paddingTop.paddingRight.paddingBottom.paddingLeft.fontStyle.fontVariant.fontWeight.fontStretch.fontSize.fontSizeAdjust.lineHeight.fontFamily.textAlign.textTransform.textIndent.textDecoration.letterSpacing.wordSpacing.tabSize.MozTabSize`.split(`.`);if(t.debug){let e=document.querySelector(`#input-textarea-caret-position-mirror-div`);e?.parentNode&&e.parentNode.removeChild(e)}let o=document.createElement(`div`);o.id=`input-textarea-caret-position-mirror-div`,document.body.appendChild(o);let s=o.style,c=window.getComputedStyle(e),l=e.nodeName===`INPUT`;s.whiteSpace=l?`nowrap`:`pre-wrap`,l||(s.wordWrap=`break-word`),s.position=`absolute`,t.debug||(s.visibility=`hidden`),a.forEach(e=>{if(l&&e===`lineHeight`)if(c.boxSizing===`border-box`){let e=Number.parseInt(c.height),t=Number.parseInt(c.paddingTop)+Number.parseInt(c.paddingBottom)+Number.parseInt(c.borderTopWidth)+Number.parseInt(c.borderBottomWidth),n=t+Number.parseInt(c.lineHeight);e>n?s.lineHeight=`${e-t}px`:e===n?s.lineHeight=c.lineHeight:s.lineHeight=`0`}else s.lineHeight=c.height;else s[e]=c[e]}),ty()?e.scrollHeight>Number.parseInt(c.height)&&(s.overflowY=`scroll`):s.overflow=`hidden`,o.textContent=e.value.slice(0,Math.max(0,i)),l&&o.textContent&&(o.textContent=o.textContent.replace(/\s/g,`\xA0`));let u=document.createElement(`span`);u.textContent=e.value.slice(Math.max(0,i))||`.`,u.style.position=`relative`,u.style.left=`${-e.scrollLeft}px`,u.style.top=`${-e.scrollTop}px`,o.appendChild(u);let d={top:u.offsetTop+Number.parseInt(c.borderTopWidth),left:u.offsetLeft+Number.parseInt(c.borderLeftWidth),height:Number.parseInt(c.fontSize)*1.5};return t.debug?u.style.backgroundColor=`#aaa`:document.body.removeChild(o),d.left>=e.clientWidth&&(d.left=e.clientWidth),d},JV=t_({...fy,options:{type:Z(Array),default:()=>[]},prefix:{type:Z([String,Array]),default:`@`,validator:e=>E(e)?e.length===1:e.every(e=>E(e)&&e.length===1)},split:{type:String,default:` `,validator:e=>e.length===1},filterOption:{type:Z([Boolean,Function]),default:()=>GV,validator:e=>e===!1?!0:T(e)},placement:{type:Z(String),default:`bottom`},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Z(Function)},modelValue:String,loading:Boolean,popperClass:uC.popperClass,popperStyle:uC.popperStyle,popperOptions:{type:Z(Object),default:()=>({})},props:{type:Z(Object),default:()=>XV}}),YV={[D_]:e=>E(e),"whole-remove":(e,t)=>E(e)&&E(t),input:e=>E(e),search:(e,t)=>E(e)&&E(t),select:(e,t)=>O(e)&&E(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},XV={value:`value`,label:`label`,disabled:`disabled`},ZV=t_({options:{type:Z(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),QV={select:e=>E(e.value)},$V=[`id`,`aria-disabled`,`aria-selected`,`onMousemove`,`onClick`],eH=b_(V({name:`ElMentionDropdown`,__name:`mention-dropdown`,props:ZV,emits:QV,setup(e,{expose:t,emit:n}){let r=e,i=n,a=X(`mention`),{t:o}=Zg(),s=L(-1),c=L(),l=L(),u=L(),d=(e,t)=>[a.be(`dropdown`,`item`),a.is(`hovering`,s.value===t),a.is(`disabled`,e.disabled||r.disabled)],f=e=>{e.disabled||r.disabled||i(`select`,e)},p=e=>{s.value=e},m=Y(()=>r.disabled||r.options.every(e=>e.disabled)),h=Y(()=>r.options[s.value]),g=()=>{h.value&&i(`select`,h.value)},_=e=>{let{options:t}=r;if(t.length===0||m.value)return;e===`next`?(s.value++,s.value===t.length&&(s.value=0)):e===`prev`&&(s.value--,s.value<0&&(s.value=t.length-1));let n=t[s.value];if(n.disabled){_(e);return}Mn(()=>v(n))},v=e=>{var t,n;let{options:i}=r,o=i.findIndex(t=>t.value===e.value),s=l.value?.[o];if(s){let e=((t=u.value)?.querySelector)?.call(t,`.${a.be(`dropdown`,`wrap`)}`);e&&K_(e,s)}(n=c.value)==null||n.handleScroll()};return B(()=>r.options,()=>{m.value||r.options.length===0?s.value=-1:s.value=0},{immediate:!0}),t({hoveringIndex:s,navigateOptions:_,selectHoverOption:g,hoverOption:h}),(e,t)=>(U(),W(`div`,{ref_key:`dropdownRef`,ref:u,class:F(R(a).b(`dropdown`))},[e.$slots.header?(U(),W(`div`,{key:0,class:F(R(a).be(`dropdown`,`header`))},[H(e.$slots,`header`)],2)):J(`v-if`,!0),Wn(q(R(tb),{id:e.contentId,ref_key:`scrollbarRef`,ref:c,tag:`ul`,"wrap-class":R(a).be(`dropdown`,`wrap`),"view-class":R(a).be(`dropdown`,`list`),role:`listbox`,"aria-label":e.ariaLabel,"aria-orientation":`vertical`},{default:z(()=>[(U(!0),W(va,null,ti(e.options,(t,n)=>(U(),W(`li`,{id:`${e.contentId}-${n}`,ref_for:!0,ref_key:`optionRefs`,ref:l,key:n,class:F(d(t,n)),role:`option`,"aria-disabled":t.disabled||e.disabled||void 0,"aria-selected":s.value===n,onMousemove:e=>p(n),onClick:Ms(e=>f(t),[`stop`])},[H(e.$slots,`label`,{item:t,index:n},()=>[K(`span`,null,I(t.label??t.value),1)])],42,$V))),128))]),_:3},8,[`id`,`wrap-class`,`view-class`,`aria-label`]),[[Lo,e.options.length>0&&!e.loading]]),e.loading?(U(),W(`div`,{key:1,class:F(R(a).be(`dropdown`,`loading`))},[H(e.$slots,`loading`,{},()=>[Fa(I(R(o)(`el.mention.loading`)),1)])],2)):J(`v-if`,!0),e.$slots.footer?(U(),W(`div`,{key:2,class:F(R(a).be(`dropdown`,`footer`))},[H(e.$slots,`footer`)],2)):J(`v-if`,!0)],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/mention/src/mention-dropdown.vue`]]),tH=S_(b_(V({name:`ElMention`,inheritAttrs:!1,__name:`mention`,props:JV,emits:YV,setup(e,{expose:t,emit:n}){let r=e,i=n,a=Y(()=>kh(r,Object.keys(fy))),o=X(`mention`),s=Dy(),c=by(),l=L(),u=L(),d=L(),f=L(!1),p=L(),m=L(),h=Y(()=>r.showArrow?r.placement:`${r.placement}-start`),g=Y(()=>r.showArrow?[`bottom`,`top`]:[`bottom-start`,`top-start`]),_=Y(()=>({...XV,...r.props})),v=e=>{let t={label:e[_.value.label],value:e[_.value.value],disabled:e[_.value.disabled]};return{...e,...t}},y=Y(()=>r.options.map(v)),b=Y(()=>{let{filterOption:e}=r;return!m.value||!e?y.value:y.value.filter(t=>e(m.value.pattern,t))}),x=Y(()=>f.value&&(!!b.value.length||r.loading)),S=Y(()=>`${c.value}-${d.value?.hoveringIndex}`),C=e=>{i(D_,e),i(k_,e),j()},w=e=>{var t,n;if(l.value?.isComposing)return;let a=Gb(e);switch(a){case Q.left:case Q.right:j();break;case Q.up:case Q.down:if(!f.value)return;e.preventDefault(),(t=d.value)==null||t.navigateOptions(a===Q.up?`prev`:`next`);break;case Q.enter:case Q.numpadEnter:if(!f.value){r.type!==`textarea`&&j();return}e.preventDefault(),d.value?.hoverOption?(n=d.value)==null||n.selectHoverOption():f.value=!1;break;case Q.esc:if(!f.value)return;e.preventDefault(),f.value=!1;break;case Q.backspace:if(r.whole&&m.value){let{splitIndex:t,selectionEnd:n,pattern:a,prefixIndex:o,prefix:s}=m.value,c=A();if(!c)return;let l=c.value,u=y.value.find(e=>e.value===a);if((T(r.checkIsWhole)?r.checkIsWhole(a,s):u)&&t!==-1&&t+1===n){e.preventDefault();let n=l.slice(0,o)+l.slice(t+1);i(D_,n),i(k_,n),i(`whole-remove`,a,s);let r=o;Mn(()=>{c.selectionStart=r,c.selectionEnd=r,ee()})}}}},{wrapperRef:E}=Ry(l,{disabled:s,afterFocus(){j()},beforeBlur(e){return u.value?.isFocusInsideContent(e)},afterBlur(){f.value=!1}}),D=()=>{j()},O=e=>r.options.find(t=>e.value===t[_.value.value]),k=e=>{if(!m.value)return;let t=A();if(!t)return;let n=t.value,{split:a}=r,o=n.slice(m.value.end),s=o.startsWith(a),c=`${e.value}${s?``:a}`,l=n.slice(0,m.value.start)+c+o;i(D_,l),i(k_,l),i(`select`,O(e),m.value.prefix);let u=m.value.start+c.length+(s?1:0);Mn(()=>{t.selectionStart=u,t.selectionEnd=u,t.focus(),ee()})},A=()=>r.type===`textarea`?l.value?.textarea:l.value?.input,j=()=>{setTimeout(()=>{M(),ee(),Mn(()=>u.value?.updatePopper())},0)},M=()=>{let e=A();if(!e)return;let t=qV(e),n=e.getBoundingClientRect(),r=E.value.getBoundingClientRect();p.value={position:`absolute`,width:0,height:`${t.height}px`,left:`${t.left+n.left-r.left}px`,top:`${t.top+n.top-r.top}px`}},ee=()=>{let e=A();if(document.activeElement!==e){f.value=!1;return}let{prefix:t,split:n}=r;if(m.value=KV(e,t,n),m.value&&m.value.splitIndex===-1){f.value=!0,i(`search`,m.value.pattern,m.value.prefix);return}f.value=!1};return t({input:l,tooltip:u,dropdownVisible:x}),(e,t)=>(U(),W(`div`,{ref_key:`wrapperRef`,ref:E,class:F(R(o).b())},[q(R(Wy),za(za(a.value,e.$attrs),{ref_key:`elInputRef`,ref:l,"model-value":e.modelValue,disabled:R(s),role:x.value?`combobox`:void 0,"aria-activedescendant":x.value?S.value||``:void 0,"aria-controls":x.value?R(c):void 0,"aria-expanded":x.value||void 0,"aria-label":e.ariaLabel,"aria-autocomplete":x.value?`none`:void 0,"aria-haspopup":x.value?`listbox`:void 0,onInput:C,onKeydown:w,onMousedown:D}),ni({_:2},[ti(e.$slots,(t,n)=>({name:n,fn:z(t=>[H(e.$slots,n,be(Na(t)))])}))]),1040,[`model-value`,`disabled`,`role`,`aria-activedescendant`,`aria-controls`,`aria-expanded`,`aria-label`,`aria-autocomplete`,`aria-haspopup`]),q(R(MC),{ref_key:`tooltipRef`,ref:u,visible:x.value,"popper-class":[R(o).e(`popper`),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,placement:h.value,"fallback-placements":g.value,effect:`light`,pure:``,offset:e.offset,"show-arrow":e.showArrow},{default:z(()=>[K(`div`,{style:he(p.value)},null,4)]),content:z(()=>[q(eH,{ref_key:`dropdownRef`,ref:d,options:b.value,disabled:R(s),loading:e.loading,"content-id":R(c),"aria-label":e.ariaLabel,onSelect:k,onClick:t[0]||=Ms(e=>l.value?.focus(),[`stop`])},ni({_:2},[ti(e.$slots,(t,n)=>({name:n,fn:z(t=>[H(e.$slots,n,be(Na(t)))])}))]),1032,[`options`,`disabled`,`loading`,`content-id`,`aria-label`])]),_:3},8,[`visible`,`popper-class`,`popper-style`,`popper-options`,`placement`,`fallback-placements`,`offset`,`show-arrow`])],2))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/mention/src/mention.vue`]])),nH=t_({layout:{type:String,default:`horizontal`,values:[`horizontal`,`vertical`]},lazy:Boolean}),rH={resizeStart:(e,t)=>!0,resize:(e,t)=>!0,resizeEnd:(e,t)=>!0,collapse:(e,t,n)=>!0},iH=Symbol(`splitterRootContextKey`);function aH(e){let t=L(),{width:n,height:r}=Ng(t);return{containerEl:t,containerSize:Y(()=>e.value===`horizontal`?n.value:r.value)}}function oH(e){return Number(e.slice(0,-1))/100}function sH(e){return Number(e.slice(0,-2))}function cH(e){return E(e)&&e.endsWith(`%`)}function lH(e){return E(e)&&e.endsWith(`px`)}function uH(e,t){let n=Y(()=>e.value.map(e=>e.size)),r=Y(()=>e.value.length),i=L([]);B([n,r,t],()=>{let n=[],a=0;for(let i=0;i<r.value;i+=1){let r=e.value[i]?.size;if(cH(r))n[i]=oH(r);else if(lH(r))n[i]=sH(r)/t.value;else if(r||r===0){let e=Number(r);Number.isNaN(e)||(n[i]=e/t.value)}else a+=1,n[i]=void 0}let o=n.reduce((e,t)=>e+(t||0),0);if(o>1||!a){let e=1/o;n=n.map(t=>t===void 0?0:t*e)}else{let e=(1-o)/a;n=n.map(t=>t===void 0?e:t)}i.value=n});let a=e=>e*t.value;return{percentSizes:i,pxSizes:Y(()=>i.value.map(a))}}function dH(e,t,n,r){let i=e=>e*t.value||0;function a(e,t){return cH(e)?i(oH(e)):lH(e)?sH(e):e??t}let o=L(0),s=L(null),c=[],l=p,u=Y(()=>e.value.map(e=>[e.min,e.max]));B(r,()=>{if(o.value){let e=new MouseEvent(`mouseup`,{bubbles:!0});window.dispatchEvent(e)}});let d=e=>{o.value=0,s.value={index:e,confirmed:!1},c=n.value},f=(n,i)=>{let d=null;if((!s.value||!s.value.confirmed)&&i!==0){if(i>0)d=n,s.value={index:n,confirmed:!0};else for(let e=n;e>=0;--e)if(c[e]>0){d=e,s.value={index:e,confirmed:!0};break}}let f=d??s.value?.index??n,m=[...c],h=f+1,g=a(u.value[f][0],0),_=a(u.value[h][0],0),v=a(u.value[f][1],t.value||0),y=a(u.value[h][1],t.value||0),b=i;m[f]+b<g&&(b=g-m[f]),m[h]-b<_&&(b=m[h]-_),m[f]+b>v&&(b=v-m[f]),m[h]-b>y&&(b=m[h]-y),m[f]+=b,m[h]-=b,o.value=b,l=()=>{e.value.forEach((e,t)=>{e.size=m[t]}),l=p},r.value||l()},m=()=>{r.value&&l(),o.value=0,s.value=null,c=[]},h=[];return{lazyOffset:o,onMoveStart:d,onMoving:f,onMoveEnd:m,movingIndex:s,onCollapse:(t,r)=>{h.length||h.push(...n.value);let i=n.value,a=r===`start`?t:t+1,o=r===`start`?t+1:t,s=i[a],c=i[o];if(s!==0&&c!==0)i[a]=0,i[o]+=s,h[t]=s;else{let e=s+c,n=h[t],r=e-n;i[o]=n,i[a]=r}e.value.forEach((e,t)=>{e.size=i[t]})}}}var fH=b_(V({name:`ElSplitter`,__name:`splitter`,props:nH,emits:rH,setup(e,{emit:t}){let n=X(`splitter`),r=t,i=e,a=fn(i,`layout`),o=fn(i,`lazy`),{containerEl:s,containerSize:c}=aH(a),{removeChild:l,children:u,addChild:d,ChildrenSorter:f}=YT(Ga(),`ElSplitterPanel`);B(u,()=>{g.value=null,u.value.forEach((e,t)=>{e.setIndex(t)})});let{percentSizes:p,pxSizes:m}=uH(u,c),{lazyOffset:h,movingIndex:g,onMoveStart:_,onMoving:v,onMoveEnd:y,onCollapse:b}=dH(u,c,m,o),x=Y(()=>({[n.cssVarBlockName(`bar-offset`)]:o.value?`${h.value}px`:void 0}));return Kn(iH,Ut({panels:u,percentSizes:p,pxSizes:m,layout:a,lazy:o,movingIndex:g,containerSize:c,onMoveStart:e=>{_(e),r(`resizeStart`,e,m.value)},onMoving:(e,t)=>{v(e,t),o.value||r(`resize`,e,m.value)},onMoveEnd:async e=>{y(),await Mn(),r(`resizeEnd`,e,m.value)},onCollapse:(e,t)=>{b(e,t),r(`collapse`,e,t,m.value)},registerPanel:d,unregisterPanel:l})),(e,t)=>(U(),W(`div`,{ref_key:`containerEl`,ref:s,class:F([R(n).b(),R(n).e(a.value)]),style:he(x.value)},[H(e.$slots,`default`),q(R(f)),J(` Prevent iframe touch events from breaking `),R(g)?(U(),W(`div`,{key:0,class:F([R(n).e(`mask`),R(n).e(`mask-${a.value}`)])},null,2)):J(`v-if`,!0)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/splitter/src/splitter.vue`]]);function pH(e){return e&&O(e)?e:{start:!!e,end:!!e}}function mH(e,t,n,r){return!!(e?.collapsible.end&&t>0||n?.collapsible.start&&r===0&&t>0)}var hH=b_(V({name:`ElSplitterBar`,__name:`split-bar`,props:{index:{type:Number,required:!0},layout:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},resizable:{type:Boolean,default:!0},lazy:Boolean,startCollapsible:Boolean,endCollapsible:Boolean},emits:[`moveStart`,`moving`,`moveEnd`,`collapse`],setup(e,{emit:t}){let n=X(`splitter-bar`),r=e,i=t,a=Y(()=>r.layout===`horizontal`),o=Y(()=>a.value?{width:0}:{height:0}),s=Y(()=>({width:a.value?`16px`:`100%`,height:a.value?`100%`:`16px`,cursor:r.resizable?a.value?`ew-resize`:`ns-resize`:`auto`,touchAction:`none`})),c=Y(()=>{let e=n.e(`dragger`);return{[`${e}-horizontal`]:a.value,[`${e}-vertical`]:!a.value,[`${e}-active`]:!!l.value}}),l=L(null),u=e=>{r.resizable&&(l.value=[e.pageX,e.pageY],i(`moveStart`,r.index),window.addEventListener(`mouseup`,m),window.addEventListener(`mousemove`,f))},d=e=>{if(r.resizable&&e.touches.length===1){e.preventDefault();let t=e.touches[0];l.value=[t.pageX,t.pageY],i(`moveStart`,r.index),window.addEventListener(`touchend`,h),window.addEventListener(`touchmove`,p)}},f=e=>{let{pageX:t,pageY:n}=e,o=t-l.value[0],s=n-l.value[1],c=a.value?o:s;i(`moving`,r.index,c)},p=e=>{if(e.touches.length===1){e.preventDefault();let t=e.touches[0],n=t.pageX-l.value[0],o=t.pageY-l.value[1],s=a.value?n:o;i(`moving`,r.index,s)}},m=()=>{l.value=null,window.removeEventListener(`mouseup`,m),window.removeEventListener(`mousemove`,f),i(`moveEnd`,r.index)},h=()=>{l.value=null,window.removeEventListener(`touchend`,h),window.removeEventListener(`touchmove`,p),i(`moveEnd`,r.index)},g=Y(()=>a.value?ev:nv),_=Y(()=>a.value?tv:$_);return(t,r)=>(U(),W(`div`,{class:F([R(n).b()]),style:he(o.value)},[e.startCollapsible?(U(),W(`div`,{key:0,class:F([R(n).e(`collapse-icon`),R(n).e(`${e.layout}-collapse-icon-start`)]),onClick:r[0]||=t=>i(`collapse`,e.index,`start`)},[H(t.$slots,`start-collapsible`,{},()=>[(U(),G(Zr(g.value),{style:{width:`12px`,height:`12px`}}))])],2)):J(`v-if`,!0),K(`div`,{class:F([R(n).e(`dragger`),c.value,R(n).is(`disabled`,!e.resizable),R(n).is(`lazy`,e.resizable&&e.lazy)]),style:he(s.value),onMousedown:u,onTouchstart:d},null,38),e.endCollapsible?(U(),W(`div`,{key:1,class:F([R(n).e(`collapse-icon`),R(n).e(`${e.layout}-collapse-icon-end`)]),onClick:r[1]||=t=>i(`collapse`,e.index,`end`)},[H(t.$slots,`end-collapsible`,{},()=>[(U(),G(Zr(_.value),{style:{width:`12px`,height:`12px`}}))])],2)):J(`v-if`,!0)],6))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-bar.vue`]]),gH=t_({min:{type:[String,Number]},max:{type:[String,Number]},size:{type:[String,Number]},resizable:{type:Boolean,default:!0},collapsible:Boolean}),_H={"update:size":e=>typeof e==`number`||typeof e==`string`},vH=`ElSplitterPanel`,yH=b_(V({name:vH,__name:`split-panel`,props:gH,emits:_H,setup(e,{expose:t,emit:n}){let r=X(`splitter-panel`),i=e,a=n,o=qn(iH);o||zg(vH,`usage: <el-splitter><el-splitter-panel /></el-splitter/>`);let{panels:s,layout:c,lazy:l,containerSize:u,pxSizes:d}=ln(o),{registerPanel:f,unregisterPanel:p,onCollapse:m,onMoveEnd:h,onMoveStart:g,onMoving:_}=o,v=L(),y=Ga(),b=y.uid,x=L(0),S=Y(()=>s.value[x.value]),C=e=>{x.value=e},w=Y(()=>S.value?d.value[x.value]??0:0),T=Y(()=>S.value?d.value[x.value+1]??0:0),E=Y(()=>S.value?s.value[x.value+1]:null),D=Y(()=>E.value?i.resizable&&E.value?.resizable&&(w.value!==0||!i.min)&&(T.value!==0||!E.value.min):!1),O=Y(()=>S.value?x.value!==s.value.length-1:!1),k=Y(()=>mH(S.value,w.value,E.value,T.value)),A=Y(()=>mH(E.value,T.value,S.value,w.value));function j(e){return cH(e)?oH(e)*u.value||0:lH(e)?sH(e):e??0}let M=!1;B(()=>i.size,()=>{if(!M&&S.value){if(!u.value){S.value.size=i.size;return}let e=j(i.size),t=j(i.max),n=j(i.min),r=Math.min(Math.max(e,n||0),t||e);r!==e&&a(`update:size`,r),S.value.size=r}}),B(()=>S.value?.size,e=>{e!==i.size&&(M=!0,a(`update:size`,e),Mn(()=>M=!1))}),B(()=>i.resizable,e=>{S.value&&(S.value.resizable=e)});let ee=Ut({el:v.value,uid:b,getVnode:()=>y.vnode,setIndex:C,...i,collapsible:Y(()=>pH(i.collapsible))});return f(ee),Hr(()=>p(ee)),t({splitterPanelRef:v}),(e,t)=>(U(),W(va,null,[K(`div`,za({ref_key:`panelEl`,ref:v,class:[R(r).b()],style:{flexBasis:`${w.value}px`}},e.$attrs),[H(e.$slots,`default`)],16),O.value?(U(),G(hH,{key:0,index:x.value,layout:R(c),lazy:R(l),resizable:D.value,"start-collapsible":k.value,"end-collapsible":A.value,onMoveStart:R(g),onMoving:R(_),onMoveEnd:R(h),onCollapse:R(m)},{"start-collapsible":z(()=>[H(e.$slots,`start-collapsible`)]),"end-collapsible":z(()=>[H(e.$slots,`end-collapsible`)]),_:3},8,[`index`,`layout`,`lazy`,`resizable`,`start-collapsible`,`end-collapsible`,`onMoveStart`,`onMoving`,`onMoveEnd`,`onCollapse`])):J(`v-if`,!0)],64))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-panel.vue`]]),bH=[Z_,ey,zC,bI,KC,qC,QC,$C,aw,ow,Gw,Kw,Eie,Die,Vie,Hie,wae,TE,Tae,sE,Zie,cE,Dae,zae,Bae,AE,YE,ooe,coe,uoe,doe,foe,poe,moe,ece,rO,oce,sce,_ce,bO,Tce,fle,ple,mle,FO,wue,Tue,Q_,Nue,ck,Wy,lk,Kue,Xue,cde,lde,ude,dde,hde,Lk,Rk,Gk,aC,Qk,_E,oae,aae,rA,oA,sA,tb,UT,WT,Sie,Cj,Dj,Oj,qj,Zj,Qj,iM,uM,dM,xM,IP,LP,yI,II,LI,ET,RI,koe,qI,ZI,QI,MC,hL,UL,$L,wR,nz,dz,EV,DV,LV,RV,WV,tH,S_(fH,{SplitPanel:yH}),T_(yH)],xH=`ElInfiniteScroll`,SH={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},CH=(e,t)=>Object.entries(SH).reduce((n,[r,i])=>{let{type:a,default:o}=i,s=e.getAttribute(`infinite-scroll-${r}`),c=t[s]??s??o;return c=c===`false`?!1:c,c=a(c),n[r]=Number.isNaN(c)?o:c,n},{}),wH=e=>{let{observer:t}=e[xH];t&&(t.disconnect(),delete e[xH].observer)},TH=(e,t)=>{let{container:n,containerEl:r,instance:i,observer:a,lastScrollTop:o}=e[xH],{disabled:s,distance:c}=CH(e,i),{clientHeight:l,scrollHeight:u,scrollTop:d}=r,f=d-o;if(e[xH].lastScrollTop=d,a||s||f<0)return;let p=!1;if(n===e)p=u-(l+d)<=c;else{let{clientTop:t,scrollHeight:n}=e,i=IE(e,r);p=d+l>=i+t+n-c}p&&t.call(i)};function EH(e,t){let{containerEl:n,instance:r}=e[xH],{disabled:i}=CH(e,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):wH(e))}var DH={async mounted(e,t){let{instance:n,value:r}=t;cw({scope:xH,from:`the directive v-infinite-scroll`,replacement:`the el-scrollbar infinite scroll`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/scrollbar#infinite-scroll`},!0),T(r)||zg(xH,`'v-infinite-scroll' binding value must be a function`),await Mn();let{delay:i,immediate:a}=CH(e,n),o=U_(e,!0),s=o===window?document.documentElement:o,c=Ph(TH.bind(null,e,r),i);if(o){if(e[xH]={instance:n,container:o,containerEl:s,delay:i,cb:r,onScroll:c,lastScrollTop:s.scrollTop},a){let t=new MutationObserver(Ph(EH.bind(null,e,r),50));e[xH].observer=t,t.observe(e,{childList:!0,subtree:!0}),EH(e,r)}o.addEventListener(`scroll`,c)}},unmounted(e){if(!e.ElInfiniteScroll)return;let{container:t,onScroll:n}=e[xH];t?.removeEventListener(`scroll`,n),wH(e)},async updated(e){if(!e.ElInfiniteScroll)await Mn();else{let{containerEl:t,cb:n,observer:r}=e[xH];t.clientHeight&&r&&EH(e,n)}}};DH.install=e=>{e.directive(`InfiniteScroll`,DH)};var OH=DH;function kH(e,t){let n,r=L(!1),i=Ut({...e,originalPosition:``,originalOverflow:``,visible:!1});function a(e){i.text=e}function o(){let e=i.parent,t=d.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute(`loading-number`);n=Number.parseInt(n)-1,n?e.setAttribute(`loading-number`,n.toString()):(R_(e,t.bm(`parent`,`relative`)),e.removeAttribute(`loading-number`)),R_(e,t.bm(`parent`,`hidden`))}s(),u.unmount()}function s(){var e;(e=d.$el?.parentNode)==null||e.removeChild(d.$el)}function c(){var t;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(l,400),i.visible=!1,(t=e.closed)==null||t.call(e))}function l(){if(!r.value)return;let e=i.parent;r.value=!1,e.vLoadingAddClassList=void 0,o()}let u=zs(V({name:`ElLoading`,setup(e,{expose:t}){let{ns:n,zIndex:r}=h_(`loading`);return t({ns:n,zIndex:r}),()=>{let e=i.spinner||i.svg,t=oo(`svg`,{class:`circular`,viewBox:i.svgViewBox?i.svgViewBox:`0 0 50 50`,...e?{innerHTML:e}:{}},[oo(`circle`,{class:`path`,cx:`25`,cy:`25`,r:`20`,fill:`none`})]),r=i.text?oo(`p`,{class:n.b(`text`)},[i.text]):void 0;return oo(yo,{name:n.b(`fade`),onAfterLeave:l},{default:z(()=>[Wn(q(`div`,{style:{backgroundColor:i.background||``},class:[n.b(`mask`),i.customClass,n.is(`fullscreen`,i.fullscreen)]},[oo(`div`,{class:n.b(`spinner`)},[t,r])]),[[Lo,i.visible]])])})}}}));Object.assign(u._context,t??{});let d=u.mount(document.createElement(`div`));return{...ln(i),setText:a,removeElLoadingChild:s,close:c,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}var AH=void 0,jH=function(e={},t){if(!$h)return;let n=MH(e);if(n.fullscreen&&AH)return AH;let r=kH({...n,closed:()=>{var e;(e=n.closed)==null||e.call(n),n.fullscreen&&(AH=void 0)}},t??jH._context);NH(n,n.parent,r),PH(n,n.parent,r),n.parent.vLoadingAddClassList=()=>PH(n,n.parent,r);let i=n.parent.getAttribute(`loading-number`);return i=i?`${Number.parseInt(i)+1}`:`1`,n.parent.setAttribute(`loading-number`,i),n.parent.appendChild(r.$el),Mn(()=>r.visible.value=n.visible),n.fullscreen&&(AH=r),r},MH=e=>{let t;return t=E(e.target)?document.querySelector(e.target)??document.body:e.target||document.body,{parent:t===document.body||e.body?document.body:t,background:e.background||``,svg:e.svg||``,svgViewBox:e.svgViewBox||``,spinner:e.spinner||!1,text:e.text||``,fullscreen:t===document.body&&(e.fullscreen??!0),lock:e.lock??!1,customClass:e.customClass||``,visible:e.visible??!0,beforeClose:e.beforeClose,closed:e.closed,target:t}},NH=async(e,t,n)=>{let{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(e.fullscreen)n.originalPosition.value=z_(document.body,`position`),n.originalOverflow.value=z_(document.body,`overflow`),i.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=z_(document.body,`position`),await Mn();for(let t of[`top`,`left`]){let n=t===`top`?`scrollTop`:`scrollLeft`;i[t]=`${e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt(z_(document.body,`margin-${t}`),10)}px`}for(let t of[`height`,`width`])i[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=z_(t,`position`);for(let[e,t]of Object.entries(i))n.$el.style[e]=t},PH=(e,t,n)=>{let r=n.vm.ns||n.vm._.exposed.ns;[`absolute`,`fixed`,`sticky`].includes(n.originalPosition.value)?R_(t,r.bm(`parent`,`relative`)):L_(t,r.bm(`parent`,`relative`)),e.fullscreen&&e.lock?L_(t,r.bm(`parent`,`hidden`)):R_(t,r.bm(`parent`,`hidden`))};jH._context=null;var FH=Symbol(`ElLoading`),IH=e=>`element-loading-${ae(e)}`,LH=(e,t)=>{let n=t.instance,r=e=>O(t.value)?t.value[e]:void 0,i=e=>L(E(e)&&n?.[e]||e),a=t=>i(r(t)||e.getAttribute(IH(t))),o=r(`fullscreen`)??t.modifiers.fullscreen,s={text:a(`text`),svg:a(`svg`),svgViewBox:a(`svgViewBox`),spinner:a(`spinner`),background:a(`background`),customClass:a(`customClass`),fullscreen:o,target:r(`target`)??(o?void 0:e),body:r(`body`)??t.modifiers.body,lock:r(`lock`)??t.modifiers.lock},c=jH(s);c._context=zH._context,e[FH]={options:s,instance:c}},RH=(e,t)=>{for(let n of Object.keys(e))tn(e[n])&&(e[n].value=t[n])},zH={mounted(e,t){t.value&&LH(e,t)},updated(e,t){let n=e[FH];if(!t.value){n?.instance.close(),e[FH]=null;return}n?RH(n.options,O(t.value)?t.value:{text:e.getAttribute(IH(`text`)),svg:e.getAttribute(IH(`svg`)),svgViewBox:e.getAttribute(IH(`svgViewBox`)),spinner:e.getAttribute(IH(`spinner`)),background:e.getAttribute(IH(`background`)),customClass:e.getAttribute(IH(`customClass`))}):LH(e,t)},unmounted(e){var t;(t=e[FH])==null||t.instance.close(),e[FH]=null}};zH._context=null;var BH={install(e){jH._context=e._context,zH._context=e._context,e.directive(`loading`,zH),e.config.globalProperties.$loading=jH},directive:zH,service:jH},VH=[`primary`,`success`,`info`,`warning`,`error`],HH=[`top`,`top-left`,`top-right`,`bottom`,`bottom-left`,`bottom-right`],UH=ly({customClass:``,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:``,message:``,onClose:void 0,showClose:!1,type:`info`,plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:$h?document.body:void 0}),WH=t_({customClass:{type:String,default:UH.customClass},dangerouslyUseHTMLString:{type:Boolean,default:UH.dangerouslyUseHTMLString},duration:{type:Number,default:UH.duration},icon:{type:Vv,default:UH.icon},id:{type:String,default:UH.id},message:{type:Z([String,Object,Function]),default:UH.message},onClose:{type:Z(Function),default:UH.onClose},showClose:{type:Boolean,default:UH.showClose},type:{type:String,values:VH,default:UH.type},plain:{type:Boolean,default:UH.plain},offset:{type:Number,default:UH.offset},placement:{type:String,values:HH,default:UH.placement},zIndex:{type:Number,default:UH.zIndex},grouping:{type:Boolean,default:UH.grouping},repeatNum:{type:Number,default:UH.repeatNum}}),GH={destroy:()=>!0},KH=Wt({}),qH=e=>(KH[e]||(KH[e]=Wt([])),KH[e]),JH=(e,t)=>{let n=KH[t]||[],r=n.findIndex(t=>t.id===e),i=n[r],a;return r>0&&(a=n[r-1]),{current:i,prev:a}},YH=(e,t)=>{let{prev:n}=JH(e,t);return n?n.vm.exposed.bottom.value:0},XH=(e,t,n)=>(KH[n]||[]).findIndex(t=>t.id===e)>0?16:t,ZH=[`id`],QH=[`innerHTML`],$H=b_(V({name:`ElMessage`,__name:`message`,props:WH,emits:GH,setup(e,{expose:t,emit:n}){let{Close:r}=Uv,i=e,a=n,o=L(!1),{ns:s,zIndex:c}=h_(`message`),{currentZIndex:l,nextZIndex:u}=c,d=L(),f=L(!1),p=L(0),m,h=Y(()=>i.type?i.type===`error`?`danger`:i.type:`info`),g=Y(()=>{let e=i.type;return{[s.bm(`icon`,e)]:e&&Wv[e]}}),_=Y(()=>i.icon||Wv[i.type]||``),v=Y(()=>i.placement||`top`),y=Y(()=>YH(i.id,v.value)),b=Y(()=>XH(i.id,i.offset,v.value)+y.value),x=Y(()=>p.value+b.value),S=Y(()=>v.value.includes(`left`)?s.is(`left`):v.value.includes(`right`)?s.is(`right`):s.is(`center`)),C=Y(()=>v.value.startsWith(`top`)?`top`:`bottom`),w=Y(()=>({[C.value]:`${b.value}px`,zIndex:l.value}));function T(){i.duration!==0&&({stop:m}=gg(()=>{D()},i.duration))}function E(){m?.()}function D(){f.value=!1,Mn(()=>{var e;o.value||((e=i.onClose)==null||e.call(i),a(`destroy`))})}function O(e){Gb(e)===Q.esc&&D()}return zr(()=>{T(),u(),f.value=!0}),B(()=>i.repeatNum,()=>{E(),T()}),bg(document,`keydown`,O),jg(d,()=>{p.value=d.value.getBoundingClientRect().height}),t({visible:f,bottom:x,close:D}),(e,t)=>(U(),G(yo,{name:R(s).b(`fade`),onBeforeEnter:t[0]||=e=>o.value=!0,onBeforeLeave:e.onClose,onAfterLeave:t[1]||=t=>e.$emit(`destroy`),persisted:``},{default:z(()=>[Wn(K(`div`,{id:e.id,ref_key:`messageRef`,ref:d,class:F([R(s).b(),{[R(s).m(e.type)]:e.type},R(s).is(`closable`,e.showClose),R(s).is(`plain`,e.plain),R(s).is(`bottom`,C.value===`bottom`),S.value,e.customClass]),style:he(w.value),role:`alert`,onMouseenter:E,onMouseleave:T},[e.repeatNum>1?(U(),G(R($C),{key:0,value:e.repeatNum,type:h.value,class:F(R(s).e(`badge`))},null,8,[`value`,`type`,`class`])):J(`v-if`,!0),_.value?(U(),G(R(Q_),{key:1,class:F([R(s).e(`icon`),g.value])},{default:z(()=>[(U(),G(Zr(_.value)))]),_:1},8,[`class`])):J(`v-if`,!0),H(e.$slots,`default`,{},()=>[e.dangerouslyUseHTMLString?(U(),W(va,{key:1},[J(` Caution here, message could've been compromised, never use user's input as message `),K(`p`,{class:F(R(s).e(`content`)),innerHTML:e.message},null,10,QH)],2112)):(U(),W(`p`,{key:0,class:F(R(s).e(`content`))},I(e.message),3))]),e.showClose?(U(),G(R(Q_),{key:2,class:F(R(s).e(`closeBtn`)),onClick:Ms(D,[`stop`])},{default:z(()=>[q(R(r))]),_:1},8,[`class`])):J(`v-if`,!0)],46,ZH),[[Lo,f.value]])]),_:3},8,[`name`,`onBeforeLeave`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue`]]),eU=1,tU=e=>{if(!e.appendTo)e.appendTo=document.body;else if(E(e.appendTo)){let t=document.querySelector(e.appendTo);Wh(t)||(t=document.body),e.appendTo=t}},nU=e=>{!e.placement&&E(XE.placement)&&XE.placement&&(e.placement=XE.placement),e.placement||=`top`,HH.includes(e.placement)||(`${e.placement}`,e.placement=`top`)},rU=e=>{let t=!e||E(e)||Oa(e)||T(e)?{message:e}:e,n={...UH,...t};return tU(n),nU(n),Vh(XE.grouping)&&!n.grouping&&(n.grouping=XE.grouping),Hh(XE.duration)&&n.duration===3e3&&(n.duration=XE.duration),Hh(XE.offset)&&n.offset===16&&(n.offset=XE.offset),Vh(XE.showClose)&&!n.showClose&&(n.showClose=XE.showClose),Vh(XE.plain)&&!n.plain&&(n.plain=XE.plain),n},iU=e=>{let t=KH[e.props.placement||`top`],n=t.indexOf(e);if(n===-1)return;t.splice(n,1);let{handler:r}=e;r.close()},aU=({appendTo:e,...t},n)=>{let r=`message_${eU++}`,i=t.onClose,a=document.createElement(`div`),o={...t,id:r,onClose:()=>{i?.(),iU(l)},onDestroy:()=>{Rs(null,a)}},s=q($H,o,T(o.message)||Oa(o.message)?{default:T(o.message)?o.message:()=>o.message}:null);s.appContext=n||oU._context,Rs(s,a),e.appendChild(a.firstElementChild);let c=s.component,l={id:r,vnode:s,vm:c,handler:{close:()=>{c.exposed.close()}},props:s.component.props};return l},oU=(e={},t)=>{if(!$h)return{close:()=>void 0};let n=rU(e),r=qH(n.placement||`top`);if(n.grouping&&r.length){let e=r.find(({vnode:e})=>e.props?.message===n.message);if(e)return e.props.repeatNum+=1,e.props.type=n.type,e.handler}if(Hh(XE.max)&&r.length>=XE.max)return{close:()=>void 0};let i=aU(n,t);return r.push(i),i.handler};VH.forEach(e=>{oU[e]=(t={},n)=>oU({...rU(t),type:e},n)});function sU(e){for(let t in KH)if(b(KH,t)){let n=[...KH[t]];for(let t of n)(!e||e===t.props.type)&&t.handler.close()}}function cU(e){KH[e]&&[...KH[e]].forEach(e=>e.handler.close())}oU.closeAll=sU,oU.closeAllByPlacement=cU,oU._context=null;var lU=C_(oU,`$message`),uU=`_trap-focus-children`,dU=[],fU=e=>{if(dU.length===0)return;let t=Gb(e),n=dU[dU.length-1][uU];if(n.length>0&&t===Q.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}let t=e.shiftKey,r=e.target===n[0],i=e.target===n[n.length-1];r&&t&&(e.preventDefault(),n[n.length-1].focus()),i&&!t&&(e.preventDefault(),n[0].focus())}},pU=V({name:`ElMessageBox`,directives:{TrapFocus:{beforeMount(e){e[uU]=jy(e),dU.push(e),dU.length<=1&&document.addEventListener(`keydown`,fU)},updated(e){Mn(()=>{e[uU]=jy(e)})},unmounted(){dU.shift(),dU.length===0&&document.removeEventListener(`keydown`,fU)}}},components:{ElButton:Gw,ElFocusTrap:Qb,ElInput:Wy,ElOverlay:uO,ElIcon:Q_,...Uv},inheritAttrs:!1,props:{buttonSize:{type:String,validator:fM},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:Boolean,container:{type:String,default:`body`},boxType:{type:String,default:``}},emits:[`vanish`,`action`],setup(e,{emit:t}){let{locale:n,zIndex:r,ns:i,size:a}=h_(`message-box`,Y(()=>e.buttonSize)),{t:o}=n,{nextZIndex:s}=r,c=L(!1),l=Ut({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:``,cancelButtonClass:``,confirmButtonText:``,confirmButtonClass:``,cancelButtonType:``,confirmButtonType:`primary`,customClass:``,customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:``,closeIcon:``,inputPattern:null,inputPlaceholder:``,inputType:`text`,inputValue:``,inputValidator:void 0,inputErrorMessage:``,message:``,modalFade:!0,modalClass:``,showCancelButton:!1,showConfirmButton:!0,type:``,title:void 0,showInput:!1,action:``,confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Qt(xv),cancelButtonLoadingIcon:Qt(xv),confirmButtonDisabled:!1,editorErrorMessage:``,validateError:!1,zIndex:s()}),u=Y(()=>{let e=l.type;return{[i.bm(`icon`,e)]:e&&Wv[e]}}),d=by(),f=by(),p=Y(()=>{let e=l.type;return l.icon||e&&Wv[e]||``}),m=Y(()=>!!l.message),h=L(),g=L(),_=L(),v=L(),y=L(),b=Y(()=>l.confirmButtonClass);B(()=>l.inputValue,async t=>{await Mn(),e.boxType===`prompt`&&t&&k()},{immediate:!0}),B(()=>c.value,t=>{t&&(e.boxType!==`prompt`&&(l.autofocus?_.value=y.value?.$el??h.value:_.value=h.value),l.zIndex=s()),e.boxType===`prompt`&&(t?Mn().then(()=>{v.value&&v.value.$el&&(l.autofocus?_.value=A()??h.value:_.value=h.value)}):(l.editorErrorMessage=``,l.validateError=!1))});let{isDragging:x}=mO(h,g,Y(()=>e.draggable),Y(()=>e.overflow));zr(async()=>{await Mn(),e.closeOnHashChange&&window.addEventListener(`hashchange`,S)}),Hr(()=>{e.closeOnHashChange&&window.removeEventListener(`hashchange`,S)});function S(){c.value&&(c.value=!1,Mn(()=>{l.action&&t(`action`,l.action)}))}let C=()=>{e.closeOnClickModal&&O(l.distinguishCancelAndClose?`close`:`cancel`)},w=lO(C),D=e=>{if(l.inputType!==`textarea`)return e.preventDefault(),O(`confirm`)},O=t=>{var n;e.boxType===`prompt`&&t===`confirm`&&!k()||(l.action=t,l.beforeClose?(n=l.beforeClose)==null||n.call(l,t,l,S):S())},k=()=>{if(e.boxType===`prompt`){let e=l.inputPattern;if(e&&!e.test(l.inputValue||``))return l.editorErrorMessage=l.inputErrorMessage||o(`el.messagebox.error`),l.validateError=!0,!1;let t=l.inputValidator;if(T(t)){let e=t(l.inputValue);if(e===!1)return l.editorErrorMessage=l.inputErrorMessage||o(`el.messagebox.error`),l.validateError=!0,!1;if(E(e))return l.editorErrorMessage=e,l.validateError=!0,!1}}return l.editorErrorMessage=``,l.validateError=!1,!0},A=()=>{let e=v.value?.$refs;return e?.input??e?.textarea},j=()=>{O(`close`)},M=()=>{e.closeOnPressEscape&&j()};return e.lockScroll&&vO(c,{ns:i}),{...ln(l),ns:i,overlayEvent:w,visible:c,hasMessage:m,typeClass:u,contentId:d,inputId:f,btnSize:a,iconComponent:p,confirmButtonClasses:b,rootRef:h,focusStartRef:_,headerRef:g,inputRef:v,isDragging:x,confirmRef:y,doClose:S,handleClose:j,onCloseRequested:M,handleWrapperClick:C,handleInputEnter:D,handleAction:O,t:o}}}),mU=[`aria-label`,`aria-describedby`],hU=[`aria-label`],gU=[`id`];function _U(e,t,n,r,i,a){let o=Yr(`el-icon`),s=Yr(`el-input`),c=Yr(`el-button`),l=Yr(`el-focus-trap`),u=Yr(`el-overlay`);return U(),G(yo,{name:`fade-in-linear`,onAfterLeave:t[11]||=t=>e.$emit(`vanish`),persisted:``},{default:z(()=>[Wn(q(u,{"z-index":e.zIndex,"overlay-class":[e.ns.is(`message-box`),e.modalClass],mask:e.modal},{default:z(()=>[K(`div`,{role:`dialog`,"aria-label":e.title,"aria-modal":`true`,"aria-describedby":e.showInput?void 0:e.contentId,class:F(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||=(...t)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...t),onMousedown:t[9]||=(...t)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...t),onMouseup:t[10]||=(...t)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...t)},[q(l,{loop:``,trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:z(()=>[K(`div`,{ref:`rootRef`,class:F([e.ns.b(),e.customClass,e.ns.is(`draggable`,e.draggable),e.ns.is(`dragging`,e.isDragging),{[e.ns.m(`center`)]:e.center}]),style:he(e.customStyle),tabindex:`-1`,onClick:t[7]||=Ms(()=>{},[`stop`])},[e.title!==null&&e.title!==void 0?(U(),W(`div`,{key:0,ref:`headerRef`,class:F([e.ns.e(`header`),{"show-close":e.showClose}])},[K(`div`,{class:F(e.ns.e(`title`))},[e.iconComponent&&e.center?(U(),G(o,{key:0,class:F([e.ns.e(`status`),e.typeClass])},{default:z(()=>[(U(),G(Zr(e.iconComponent)))]),_:1},8,[`class`])):J(`v-if`,!0),K(`span`,null,I(e.title),1)],2),e.showClose?(U(),W(`button`,{key:0,type:`button`,class:F(e.ns.e(`headerbtn`)),"aria-label":e.t(`el.messagebox.close`),onClick:t[0]||=t=>e.handleAction(e.distinguishCancelAndClose?`close`:`cancel`),onKeydown:t[1]||=Ps(Ms(t=>e.handleAction(e.distinguishCancelAndClose?`close`:`cancel`),[`prevent`]),[`enter`])},[q(o,{class:F(e.ns.e(`close`))},{default:z(()=>[(U(),G(Zr(e.closeIcon||`close`)))]),_:1},8,[`class`])],42,hU)):J(`v-if`,!0)],2)):J(`v-if`,!0),K(`div`,{id:e.contentId,class:F(e.ns.e(`content`))},[K(`div`,{class:F(e.ns.e(`container`))},[e.iconComponent&&!e.center&&e.hasMessage?(U(),G(o,{key:0,class:F([e.ns.e(`status`),e.typeClass])},{default:z(()=>[(U(),G(Zr(e.iconComponent)))]),_:1},8,[`class`])):J(`v-if`,!0),e.hasMessage?(U(),W(`div`,{key:1,class:F(e.ns.e(`message`))},[H(e.$slots,`default`,{},()=>[e.dangerouslyUseHTMLString?(U(),G(Zr(e.showInput?`label`:`p`),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,[`for`,`innerHTML`])):(U(),G(Zr(e.showInput?`label`:`p`),{key:0,for:e.showInput?e.inputId:void 0,textContent:I(e.message)},null,8,[`for`,`textContent`]))])],2)):J(`v-if`,!0)],2),Wn(K(`div`,{class:F(e.ns.e(`input`))},[q(s,{id:e.inputId,ref:`inputRef`,modelValue:e.inputValue,"onUpdate:modelValue":t[2]||=t=>e.inputValue=t,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:F({invalid:e.validateError}),onKeydown:Ps(e.handleInputEnter,[`enter`])},null,8,[`id`,`modelValue`,`type`,`placeholder`,`aria-invalid`,`class`,`onKeydown`]),K(`div`,{class:F(e.ns.e(`errormsg`)),style:he({visibility:e.editorErrorMessage?`visible`:`hidden`})},I(e.editorErrorMessage),7)],2),[[Lo,e.showInput]])],10,gU),K(`div`,{class:F(e.ns.e(`btns`))},[e.showCancelButton?(U(),G(c,{key:0,type:e.cancelButtonType===`text`?``:e.cancelButtonType,text:e.cancelButtonType===`text`,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:F([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||=t=>e.handleAction(`cancel`),onKeydown:t[4]||=Ps(Ms(t=>e.handleAction(`cancel`),[`prevent`]),[`enter`])},{default:z(()=>[Fa(I(e.cancelButtonText||e.t(`el.messagebox.cancel`)),1)]),_:1},8,[`type`,`text`,`loading`,`loading-icon`,`class`,`round`,`size`])):J(`v-if`,!0),Wn(q(c,{ref:`confirmRef`,type:e.confirmButtonType===`text`?``:e.confirmButtonType,text:e.confirmButtonType===`text`,loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:F([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||=t=>e.handleAction(`confirm`),onKeydown:t[6]||=Ps(Ms(t=>e.handleAction(`confirm`),[`prevent`]),[`enter`])},{default:z(()=>[Fa(I(e.confirmButtonText||e.t(`el.messagebox.confirm`)),1)]),_:1},8,[`type`,`text`,`loading`,`loading-icon`,`class`,`round`,`disabled`,`size`]),[[Lo,e.showConfirmButton]])],2)],6)]),_:3},8,[`trapped`,`focus-trap-el`,`focus-start-el`,`onReleaseRequested`])],42,mU)]),_:3},8,[`z-index`,`overlay-class`,`mask`]),[[Lo,e.visible]])]),_:3})}var vU=b_(pU,[[`render`,_U],[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue`]]),yU=new Map,bU=e=>{let t=document.body;return e.appendTo&&(E(e.appendTo)&&(t=document.querySelector(e.appendTo)),Wh(e.appendTo)&&(t=e.appendTo),Wh(t)||(t=document.body)),t},xU=(e,t,n=null)=>{let r=q(vU,e,T(e.message)||Oa(e.message)?{default:T(e.message)?e.message:()=>e.message}:null);return r.appContext=n,Rs(r,t),bU(e).appendChild(t.firstElementChild),r.component},SU=()=>document.createElement(`div`),CU=(e,t)=>{let n=SU();e.onVanish=()=>{Rs(null,n),yU.delete(i)},e.onAction=t=>{let n=yU.get(i),a;a=e.showInput?{value:i.inputValue,action:t}:t,e.callback?e.callback(a,r.proxy):t===`cancel`||t===`close`?e.distinguishCancelAndClose&&t!==`cancel`?n.reject(`close`):n.reject(`cancel`):n.resolve(a)};let r=xU(e,n,t),i=r.proxy;for(let t in e)b(e,t)&&!b(i.$props,t)&&(t===`closeIcon`&&O(e[t])?i[t]=Qt(e[t]):i[t]=e[t]);return i.visible=!0,i};function wU(e,t=null){if(!$h)return Promise.reject();let n;return E(e)||Oa(e)?e={message:e}:n=e.callback,new Promise((r,i)=>{let a=CU(e,t??wU._context);yU.set(a,{options:e,callback:n,resolve:r,reject:i})})}var TU=[`alert`,`confirm`,`prompt`],EU={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};TU.forEach(e=>{wU[e]=DU(e)});function DU(e){return(t,n,r,i)=>{let a=``;return O(n)?(r=n,a=``):a=Bh(n)?``:n,wU(Object.assign({title:a,message:t,type:``,...EU[e]},r,{boxType:e}),i)}}wU.close=()=>{yU.forEach((e,t)=>{t.doClose()}),yU.clear()},wU._context=null;var OU=wU;OU.install=e=>{OU._context=e._context,e.config.globalProperties.$msgbox=OU,e.config.globalProperties.$messageBox=OU,e.config.globalProperties.$alert=OU.alert,e.config.globalProperties.$confirm=OU.confirm,e.config.globalProperties.$prompt=OU.prompt};var kU=OU,AU=[`primary`,`success`,`info`,`warning`,`error`],jU=t_({customClass:{type:String,default:``},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Vv},id:{type:String,default:``},message:{type:Z([String,Object,Function]),default:``},offset:{type:Number,default:0},onClick:{type:Z(Function),default:()=>void 0},onClose:{type:Z(Function),required:!0},position:{type:String,values:[`top-right`,`top-left`,`bottom-right`,`bottom-left`],default:`top-right`},showClose:{type:Boolean,default:!0},title:{type:String,default:``},type:{type:String,values:[...AU,``],default:``},zIndex:Number,closeIcon:{type:Vv,default:pv}}),MU={destroy:()=>!0},NU=[`id`],PU=[`textContent`],FU={key:0},IU=[`innerHTML`],LU=b_(V({name:`ElNotification`,__name:`notification`,props:jU,emits:MU,setup(e,{expose:t}){let n=e,{ns:r,zIndex:i}=h_(`notification`),{nextZIndex:a,currentZIndex:o}=i,s=L(!1),c,l=Y(()=>{let e=n.type;return e&&Wv[n.type]?r.m(e):``}),u=Y(()=>n.type&&Wv[n.type]||n.icon),d=Y(()=>n.position.endsWith(`right`)?`right`:`left`),f=Y(()=>n.position.startsWith(`top`)?`top`:`bottom`),p=Y(()=>({[f.value]:`${n.offset}px`,zIndex:n.zIndex??o.value}));function m(){n.duration>0&&({stop:c}=gg(()=>{s.value&&g()},n.duration))}function h(){c?.()}function g(){s.value=!1}function _(e){switch(Gb(e)){case Q.delete:case Q.backspace:h();break;case Q.esc:s.value&&g();break;default:m();break}}return zr(()=>{m(),a(),s.value=!0}),bg(document,`keydown`,_),t({visible:s,close:g}),(e,t)=>(U(),G(yo,{name:R(r).b(`fade`),onBeforeLeave:e.onClose,onAfterLeave:t[1]||=t=>e.$emit(`destroy`),persisted:``},{default:z(()=>[Wn(K(`div`,{id:e.id,class:F([R(r).b(),e.customClass,d.value]),style:he(p.value),role:`alert`,onMouseenter:h,onMouseleave:m,onClick:t[0]||=(...t)=>e.onClick&&e.onClick(...t)},[u.value?(U(),G(R(Q_),{key:0,class:F([R(r).e(`icon`),l.value])},{default:z(()=>[(U(),G(Zr(u.value)))]),_:1},8,[`class`])):J(`v-if`,!0),K(`div`,{class:F(R(r).e(`group`))},[K(`h2`,{class:F(R(r).e(`title`)),textContent:I(e.title)},null,10,PU),Wn(K(`div`,{class:F(R(r).e(`content`)),style:he(e.title?void 0:{margin:0})},[H(e.$slots,`default`,{},()=>[e.dangerouslyUseHTMLString?(U(),W(va,{key:1},[J(` Caution here, message could've been compromised, never use user's input as message `),K(`p`,{innerHTML:e.message},null,8,IU)],2112)):(U(),W(`p`,FU,I(e.message),1))])],6),[[Lo,e.message]]),e.showClose?(U(),G(R(Q_),{key:0,class:F(R(r).e(`closeBtn`)),onClick:Ms(g,[`stop`])},{default:z(()=>[(U(),G(Zr(e.closeIcon)))]),_:1},8,[`class`])):J(`v-if`,!0)],2)],46,NU),[[Lo,s.value]])]),_:3},8,[`name`,`onBeforeLeave`]))}}),[[`__file`,`/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue`]]),RU={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},zU=16,BU=1,VU=function(e={},t){if(!$h)return{close:()=>void 0};(E(e)||Oa(e))&&(e={message:e});let n=e.position||`top-right`,r=e.offset||0;RU[n].forEach(({vm:e})=>{r+=(e.el?.offsetHeight||0)+zU}),r+=zU;let i=`notification_${BU++}`,a=e.onClose,o={...e,offset:r,id:i,onClose:()=>{HU(i,n,a)}},s=document.body;Wh(e.appendTo)?s=e.appendTo:E(e.appendTo)&&(s=document.querySelector(e.appendTo)),Wh(s)||(s=document.body);let c=document.createElement(`div`),l=q(LU,o,T(o.message)?o.message:Oa(o.message)?()=>o.message:null);return l.appContext=Bh(t)?VU._context:t,l.props.onDestroy=()=>{Rs(null,c)},Rs(l,c),RU[n].push({vm:l}),s.appendChild(c.firstElementChild),{close:()=>{l.component.exposed.visible.value=!1}}};AU.forEach(e=>{VU[e]=(t={},n)=>((E(t)||Oa(t))&&(t={message:t}),VU({...t,type:e},n))});function HU(e,t,n){let r=RU[t],i=r.findIndex(({vm:t})=>t.component?.props.id===e);if(i===-1)return;let{vm:a}=r[i];if(!a)return;n?.(a);let o=a.el.offsetHeight,s=t.split(`-`)[0];r.splice(i,1);let c=r.length;if(!(c<1))for(let e=i;e<c;e++){let{el:t,component:n}=r[e].vm,i=Number.parseInt(t.style[s],10)-o-zU;n.props.offset=i}}function UU(){for(let e of Object.values(RU))e.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}function WU(e=`top-right`){let t=RU[e][0]?.vm.component?.props?.offset||0;for(let{vm:n}of RU[e])n.component.props.offset=t,t+=(n.el?.offsetHeight||0)+zU}VU.closeAll=UU,VU.updateOffsets=WU,VU._context=null;var GU=[OH,BH,lU,kU,C_(VU,`$notify`),Wk],KU=v_([...bH,...GU]),qU={name:`zh-cn`,el:{breadcrumb:{label:``},colorpicker:{confirm:``,clear:``,defaultLabel:``,description:` {color} Enter `,alphaLabel:``,alphaDescription:` {alpha},  {color}`,hueLabel:``,hueDescription:` {hue},  {color}`,svLabel:``,svDescription:` {saturation},  {brightness},  {color}`,predefineDescription:` {value} `},datepicker:{now:``,today:``,cancel:``,clear:``,confirm:``,dateTablePrompt:` Enter `,monthTablePrompt:` Enter `,yearTablePrompt:` Enter `,selectedDate:``,selectDate:``,selectTime:``,startDate:``,startTime:``,endDate:``,endTime:``,prevYear:``,nextYear:``,prevMonth:``,nextMonth:``,year:``,month1:`1 `,month2:`2 `,month3:`3 `,month4:`4 `,month5:`5 `,month6:`6 `,month7:`7 `,month8:`8 `,month9:`9 `,month10:`10 `,month11:`11 `,month12:`12 `,weeks:{sun:``,mon:``,tue:``,wed:``,thu:``,fri:``,sat:``},weeksFull:{sun:``,mon:``,tue:``,wed:``,thu:``,fri:``,sat:``},months:{jan:``,feb:``,mar:``,apr:``,may:``,jun:``,jul:``,aug:``,sep:``,oct:``,nov:``,dec:``}},inputNumber:{decrease:``,increase:``},select:{loading:``,noMatch:``,noData:``,placeholder:``},mention:{loading:``},dropdown:{toggleDropdown:``},cascader:{noMatch:``,loading:``,placeholder:``,noData:``},pagination:{goto:``,pagesize:`/`,total:` {total} `,pageClassifier:``,page:``,prev:``,next:``,currentPage:` {pager} `,prevPages:` {pager} `,nextPages:` {pager} `,deprecationWarning:` el-pagination `},dialog:{close:``},drawer:{close:``},messagebox:{title:``,confirm:``,cancel:``,error:`!`,close:``},upload:{deleteTip:` Delete `,delete:``,preview:``,continue:``},slider:{defaultLabel:` {min}  {max}`,defaultRangeStartLabel:``,defaultRangeEndLabel:``},table:{emptyText:``,confirmFilter:``,resetFilter:``,clearFilter:``,sumText:``,selectAllLabel:``,selectRowLabel:``,expandRowLabel:``,collapseRowLabel:``,sortLabel:` {column} `,filterLabel:` {column} `},tag:{close:``},tour:{next:``,previous:``,finish:``,close:``},tree:{emptyText:``},transfer:{noMatch:``,noData:``,titles:[` 1`,` 2`],filterPlaceholder:``,noCheckedFormat:` {total} `,hasCheckedFormat:` {checked}/{total} `},image:{error:``},pageHeader:{title:``},popconfirm:{confirmButtonText:``,cancelButtonText:``},carousel:{leftArrow:``,rightArrow:``,indicator:` {index}`}}},JU=typeof Float32Array<`u`?Float32Array:Array,YU=Math.PI/180;function XU(e){return e*YU}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ZU=s({add:()=>SW,adjoint:()=>sW,clone:()=>eW,copy:()=>tW,create:()=>QU,determinant:()=>cW,equals:()=>DW,exactEquals:()=>EW,frob:()=>xW,fromMat2d:()=>gW,fromMat4:()=>$U,fromQuat:()=>_W,fromRotation:()=>mW,fromScaling:()=>hW,fromTranslation:()=>pW,fromValues:()=>nW,identity:()=>iW,invert:()=>oW,mul:()=>OW,multiply:()=>lW,multiplyScalar:()=>wW,multiplyScalarAndAdd:()=>TW,normalFromMat4:()=>vW,projection:()=>yW,rotate:()=>dW,scale:()=>fW,set:()=>rW,str:()=>bW,sub:()=>kW,subtract:()=>CW,translate:()=>uW,transpose:()=>aW});function QU(){var e=new JU(9);return JU!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function $U(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function eW(e){var t=new JU(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function tW(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function nW(e,t,n,r,i,a,o,s,c){var l=new JU(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=a,l[6]=o,l[7]=s,l[8]=c,l}function rW(e,t,n,r,i,a,o,s,c,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=c,e[8]=l,e}function iW(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function aW(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function oW(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=u*o-s*l,f=-u*a+s*c,p=l*a-o*c,m=n*d+r*f+i*p;return m?(m=1/m,e[0]=d*m,e[1]=(-u*r+i*l)*m,e[2]=(s*r-i*o)*m,e[3]=f*m,e[4]=(u*n-i*c)*m,e[5]=(-s*n+i*a)*m,e[6]=p*m,e[7]=(-l*n+r*c)*m,e[8]=(o*n-r*a)*m,e):null}function sW(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8];return e[0]=o*u-s*l,e[1]=i*l-r*u,e[2]=r*s-i*o,e[3]=s*c-a*u,e[4]=n*u-i*c,e[5]=i*a-n*s,e[6]=a*l-o*c,e[7]=r*c-n*l,e[8]=n*o-r*a,e}function cW(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8];return t*(l*a-o*c)+n*(-l*i+o*s)+r*(c*i-a*s)}function lW(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=n[0],p=n[1],m=n[2],h=n[3],g=n[4],_=n[5],v=n[6],y=n[7],b=n[8];return e[0]=f*r+p*o+m*l,e[1]=f*i+p*s+m*u,e[2]=f*a+p*c+m*d,e[3]=h*r+g*o+_*l,e[4]=h*i+g*s+_*u,e[5]=h*a+g*c+_*d,e[6]=v*r+y*o+b*l,e[7]=v*i+y*s+b*u,e[8]=v*a+y*c+b*d,e}function uW(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=n[0],p=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=f*r+p*o+l,e[7]=f*i+p*s+u,e[8]=f*a+p*c+d,e}function dW(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=Math.sin(n),p=Math.cos(n);return e[0]=p*r+f*o,e[1]=p*i+f*s,e[2]=p*a+f*c,e[3]=p*o-f*r,e[4]=p*s-f*i,e[5]=p*c-f*a,e[6]=l,e[7]=u,e[8]=d,e}function fW(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function pW(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function mW(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function hW(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function gW(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function _W(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,c=i+i,l=n*o,u=r*o,d=r*s,f=i*o,p=i*s,m=i*c,h=a*o,g=a*s,_=a*c;return e[0]=1-d-m,e[3]=u-_,e[6]=f+g,e[1]=u+_,e[4]=1-l-m,e[7]=p-h,e[2]=f-g,e[5]=p+h,e[8]=1-l-d,e}function vW(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,C=i*l-a*c,w=u*h-d*m,T=u*g-f*m,E=u*_-p*m,D=d*g-f*h,O=d*_-p*h,k=f*_-p*g,A=v*k-y*O+b*D+x*E-S*T+C*w;return A?(A=1/A,e[0]=(s*k-c*O+l*D)*A,e[1]=(c*E-o*k-l*T)*A,e[2]=(o*O-s*E+l*w)*A,e[3]=(i*O-r*k-a*D)*A,e[4]=(n*k-i*E+a*T)*A,e[5]=(r*E-n*O-a*w)*A,e[6]=(h*C-g*S+_*x)*A,e[7]=(g*b-m*C-_*y)*A,e[8]=(m*S-h*b+_*v)*A,e):null}function yW(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function bW(e){return`mat3(`+e[0]+`, `+e[1]+`, `+e[2]+`, `+e[3]+`, `+e[4]+`, `+e[5]+`, `+e[6]+`, `+e[7]+`, `+e[8]+`)`}function xW(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function SW(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function CW(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function wW(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function TW(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function EW(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function DW(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],d=t[0],f=t[1],p=t[2],m=t[3],h=t[4],g=t[5],_=t[6],v=t[7],y=t[8];return Math.abs(n-d)<=1e-6*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=1e-6*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-p)<=1e-6*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-m)<=1e-6*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-h)<=1e-6*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-g)<=1e-6*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-_)<=1e-6*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(l-v)<=1e-6*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-y)<=1e-6*Math.max(1,Math.abs(u),Math.abs(y))}var OW=lW,kW=CW,AW=s({add:()=>bG,adjoint:()=>zW,clone:()=>MW,copy:()=>NW,create:()=>jW,determinant:()=>BW,equals:()=>TG,exactEquals:()=>wG,frob:()=>yG,fromQuat:()=>sG,fromQuat2:()=>tG,fromRotation:()=>XW,fromRotationTranslation:()=>eG,fromRotationTranslationScale:()=>aG,fromRotationTranslationScaleOrigin:()=>oG,fromScaling:()=>YW,fromTranslation:()=>JW,fromValues:()=>PW,fromXRotation:()=>ZW,fromYRotation:()=>QW,fromZRotation:()=>$W,frustum:()=>cG,getRotation:()=>iG,getScaling:()=>rG,getTranslation:()=>nG,identity:()=>IW,invert:()=>RW,lookAt:()=>gG,mul:()=>EG,multiply:()=>VW,multiplyScalar:()=>SG,multiplyScalarAndAdd:()=>CG,ortho:()=>mG,orthoNO:()=>pG,orthoZO:()=>hG,perspective:()=>uG,perspectiveFromFieldOfView:()=>fG,perspectiveNO:()=>lG,perspectiveZO:()=>dG,rotate:()=>WW,rotateX:()=>GW,rotateY:()=>KW,rotateZ:()=>qW,scale:()=>UW,set:()=>FW,str:()=>vG,sub:()=>DG,subtract:()=>xG,targetTo:()=>_G,translate:()=>HW,transpose:()=>LW});function jW(){var e=new JU(16);return JU!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function MW(e){var t=new JU(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function NW(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function PW(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){var g=new JU(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=c,g[9]=l,g[10]=u,g[11]=d,g[12]=f,g[13]=p,g[14]=m,g[15]=h,g}function FW(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=c,e[8]=l,e[9]=u,e[10]=d,e[11]=f,e[12]=p,e[13]=m,e[14]=h,e[15]=g,e}function IW(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function LW(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function RW(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,C=i*l-a*c,w=u*h-d*m,T=u*g-f*m,E=u*_-p*m,D=d*g-f*h,O=d*_-p*h,k=f*_-p*g,A=v*k-y*O+b*D+x*E-S*T+C*w;return A?(A=1/A,e[0]=(s*k-c*O+l*D)*A,e[1]=(i*O-r*k-a*D)*A,e[2]=(h*C-g*S+_*x)*A,e[3]=(f*S-d*C-p*x)*A,e[4]=(c*E-o*k-l*T)*A,e[5]=(n*k-i*E+a*T)*A,e[6]=(g*b-m*C-_*y)*A,e[7]=(u*C-f*b+p*y)*A,e[8]=(o*O-s*E+l*w)*A,e[9]=(r*E-n*O-a*w)*A,e[10]=(m*S-h*b+_*v)*A,e[11]=(d*b-u*S-p*v)*A,e[12]=(s*T-o*D-c*w)*A,e[13]=(n*D-r*T+i*w)*A,e[14]=(h*y-m*x-g*v)*A,e[15]=(u*x-d*y+f*v)*A,e):null}function zW(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15];return e[0]=s*(f*_-p*g)-d*(c*_-l*g)+h*(c*p-l*f),e[1]=-(r*(f*_-p*g)-d*(i*_-a*g)+h*(i*p-a*f)),e[2]=r*(c*_-l*g)-s*(i*_-a*g)+h*(i*l-a*c),e[3]=-(r*(c*p-l*f)-s*(i*p-a*f)+d*(i*l-a*c)),e[4]=-(o*(f*_-p*g)-u*(c*_-l*g)+m*(c*p-l*f)),e[5]=n*(f*_-p*g)-u*(i*_-a*g)+m*(i*p-a*f),e[6]=-(n*(c*_-l*g)-o*(i*_-a*g)+m*(i*l-a*c)),e[7]=n*(c*p-l*f)-o*(i*p-a*f)+u*(i*l-a*c),e[8]=o*(d*_-p*h)-u*(s*_-l*h)+m*(s*p-l*d),e[9]=-(n*(d*_-p*h)-u*(r*_-a*h)+m*(r*p-a*d)),e[10]=n*(s*_-l*h)-o*(r*_-a*h)+m*(r*l-a*s),e[11]=-(n*(s*p-l*d)-o*(r*p-a*d)+u*(r*l-a*s)),e[12]=-(o*(d*g-f*h)-u*(s*g-c*h)+m*(s*f-c*d)),e[13]=n*(d*g-f*h)-u*(r*g-i*h)+m*(r*f-i*d),e[14]=-(n*(s*g-c*h)-o*(r*g-i*h)+m*(r*c-i*s)),e[15]=n*(s*f-c*d)-o*(r*f-i*d)+u*(r*c-i*s),e}function BW(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],u=e[9],d=e[10],f=e[11],p=e[12],m=e[13],h=e[14],g=e[15],_=t*o-n*a,v=t*s-r*a,y=t*c-i*a,b=n*s-r*o,x=n*c-i*o,S=r*c-i*s,C=l*m-u*p,w=l*h-d*p,T=l*g-f*p,E=u*h-d*m,D=u*g-f*m;return _*(d*g-f*h)-v*D+y*E+b*T-x*w+S*C}function VW(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],_=t[14],v=t[15],y=n[0],b=n[1],x=n[2],S=n[3];return e[0]=y*r+b*s+x*d+S*h,e[1]=y*i+b*c+x*f+S*g,e[2]=y*a+b*l+x*p+S*_,e[3]=y*o+b*u+x*m+S*v,y=n[4],b=n[5],x=n[6],S=n[7],e[4]=y*r+b*s+x*d+S*h,e[5]=y*i+b*c+x*f+S*g,e[6]=y*a+b*l+x*p+S*_,e[7]=y*o+b*u+x*m+S*v,y=n[8],b=n[9],x=n[10],S=n[11],e[8]=y*r+b*s+x*d+S*h,e[9]=y*i+b*c+x*f+S*g,e[10]=y*a+b*l+x*p+S*_,e[11]=y*o+b*u+x*m+S*v,y=n[12],b=n[13],x=n[14],S=n[15],e[12]=y*r+b*s+x*d+S*h,e[13]=y*i+b*c+x*f+S*g,e[14]=y*a+b*l+x*p+S*_,e[15]=y*o+b*u+x*m+S*v,e}function HW(e,t,n){var r=n[0],i=n[1],a=n[2],o,s,c,l,u,d,f,p,m,h,g,_;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],c=t[2],l=t[3],u=t[4],d=t[5],f=t[6],p=t[7],m=t[8],h=t[9],g=t[10],_=t[11],e[0]=o,e[1]=s,e[2]=c,e[3]=l,e[4]=u,e[5]=d,e[6]=f,e[7]=p,e[8]=m,e[9]=h,e[10]=g,e[11]=_,e[12]=o*r+u*i+m*a+t[12],e[13]=s*r+d*i+h*a+t[13],e[14]=c*r+f*i+g*a+t[14],e[15]=l*r+p*i+_*a+t[15]),e}function UW(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function WW(e,t,n,r){var i=r[0],a=r[1],o=r[2],s=Math.hypot(i,a,o),c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O,k,A,j;return s<1e-6?null:(s=1/s,i*=s,a*=s,o*=s,c=Math.sin(n),l=Math.cos(n),u=1-l,d=t[0],f=t[1],p=t[2],m=t[3],h=t[4],g=t[5],_=t[6],v=t[7],y=t[8],b=t[9],x=t[10],S=t[11],C=i*i*u+l,w=a*i*u+o*c,T=o*i*u-a*c,E=i*a*u-o*c,D=a*a*u+l,O=o*a*u+i*c,k=i*o*u+a*c,A=a*o*u-i*c,j=o*o*u+l,e[0]=d*C+h*w+y*T,e[1]=f*C+g*w+b*T,e[2]=p*C+_*w+x*T,e[3]=m*C+v*w+S*T,e[4]=d*E+h*D+y*O,e[5]=f*E+g*D+b*O,e[6]=p*E+_*D+x*O,e[7]=m*E+v*D+S*O,e[8]=d*k+h*A+y*j,e[9]=f*k+g*A+b*j,e[10]=p*k+_*A+x*j,e[11]=m*k+v*A+S*j,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function GW(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+u*r,e[6]=s*i+d*r,e[7]=c*i+f*r,e[8]=l*i-a*r,e[9]=u*i-o*r,e[10]=d*i-s*r,e[11]=f*i-c*r,e}function KW(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-u*r,e[2]=s*i-d*r,e[3]=c*i-f*r,e[8]=a*r+l*i,e[9]=o*r+u*i,e[10]=s*r+d*i,e[11]=c*r+f*i,e}function qW(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+u*r,e[2]=s*i+d*r,e[3]=c*i+f*r,e[4]=l*i-a*r,e[5]=u*i-o*r,e[6]=d*i-s*r,e[7]=f*i-c*r,e}function JW(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function YW(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function XW(e,t,n){var r=n[0],i=n[1],a=n[2],o=Math.hypot(r,i,a),s,c,l;return o<1e-6?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(t),c=Math.cos(t),l=1-c,e[0]=r*r*l+c,e[1]=i*r*l+a*s,e[2]=a*r*l-i*s,e[3]=0,e[4]=r*i*l-a*s,e[5]=i*i*l+c,e[6]=a*i*l+r*s,e[7]=0,e[8]=r*a*l+i*s,e[9]=i*a*l-r*s,e[10]=a*a*l+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function ZW(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function QW(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $W(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function eG(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,c=i+i,l=a+a,u=r*s,d=r*c,f=r*l,p=i*c,m=i*l,h=a*l,g=o*s,_=o*c,v=o*l;return e[0]=1-(p+h),e[1]=d+v,e[2]=f-_,e[3]=0,e[4]=d-v,e[5]=1-(u+h),e[6]=m+g,e[7]=0,e[8]=f+_,e[9]=m-g,e[10]=1-(u+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function tG(e,t){var n=new JU(3),r=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=r*r+i*i+a*a+o*o;return d>0?(n[0]=(s*o+u*r+c*a-l*i)*2/d,n[1]=(c*o+u*i+l*r-s*a)*2/d,n[2]=(l*o+u*a+s*i-c*r)*2/d):(n[0]=(s*o+u*r+c*a-l*i)*2,n[1]=(c*o+u*i+l*r-s*a)*2,n[2]=(l*o+u*a+s*i-c*r)*2),eG(e,t,n),e}function nG(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function rG(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],c=t[8],l=t[9],u=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,o,s),e[2]=Math.hypot(c,l,u),e}function iG(e,t){var n=new JU(3);rG(n,t);var r=1/n[0],i=1/n[1],a=1/n[2],o=t[0]*r,s=t[1]*i,c=t[2]*a,l=t[4]*r,u=t[5]*i,d=t[6]*a,f=t[8]*r,p=t[9]*i,m=t[10]*a,h=o+u+m,g=0;return h>0?(g=Math.sqrt(h+1)*2,e[3]=.25*g,e[0]=(d-p)/g,e[1]=(f-c)/g,e[2]=(s-l)/g):o>u&&o>m?(g=Math.sqrt(1+o-u-m)*2,e[3]=(d-p)/g,e[0]=.25*g,e[1]=(s+l)/g,e[2]=(f+c)/g):u>m?(g=Math.sqrt(1+u-o-m)*2,e[3]=(f-c)/g,e[0]=(s+l)/g,e[1]=.25*g,e[2]=(d+p)/g):(g=Math.sqrt(1+m-o-u)*2,e[3]=(s-l)/g,e[0]=(f+c)/g,e[1]=(d+p)/g,e[2]=.25*g),e}function aG(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3],c=i+i,l=a+a,u=o+o,d=i*c,f=i*l,p=i*u,m=a*l,h=a*u,g=o*u,_=s*c,v=s*l,y=s*u,b=r[0],x=r[1],S=r[2];return e[0]=(1-(m+g))*b,e[1]=(f+y)*b,e[2]=(p-v)*b,e[3]=0,e[4]=(f-y)*x,e[5]=(1-(d+g))*x,e[6]=(h+_)*x,e[7]=0,e[8]=(p+v)*S,e[9]=(h-_)*S,e[10]=(1-(d+m))*S,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function oG(e,t,n,r,i){var a=t[0],o=t[1],s=t[2],c=t[3],l=a+a,u=o+o,d=s+s,f=a*l,p=a*u,m=a*d,h=o*u,g=o*d,_=s*d,v=c*l,y=c*u,b=c*d,x=r[0],S=r[1],C=r[2],w=i[0],T=i[1],E=i[2],D=(1-(h+_))*x,O=(p+b)*x,k=(m-y)*x,A=(p-b)*S,j=(1-(f+_))*S,M=(g+v)*S,ee=(m+y)*C,te=(g-v)*C,N=(1-(f+h))*C;return e[0]=D,e[1]=O,e[2]=k,e[3]=0,e[4]=A,e[5]=j,e[6]=M,e[7]=0,e[8]=ee,e[9]=te,e[10]=N,e[11]=0,e[12]=n[0]+w-(D*w+A*T+ee*E),e[13]=n[1]+T-(O*w+j*T+te*E),e[14]=n[2]+E-(k*w+M*T+N*E),e[15]=1,e}function sG(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,c=i+i,l=n*o,u=r*o,d=r*s,f=i*o,p=i*s,m=i*c,h=a*o,g=a*s,_=a*c;return e[0]=1-d-m,e[1]=u+_,e[2]=f-g,e[3]=0,e[4]=u-_,e[5]=1-l-m,e[6]=p+h,e[7]=0,e[8]=f+g,e[9]=p-h,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function cG(e,t,n,r,i,a,o){var s=1/(n-t),c=1/(i-r),l=1/(a-o);return e[0]=a*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*c,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*c,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}function lG(e,t,n,r,i){var a=1/Math.tan(t/2),o;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}var uG=lG;function dG(e,t,n,r,i){var a=1/Math.tan(t/2),o;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(r-i),e[10]=i*o,e[14]=i*r*o):(e[10]=-1,e[14]=-r),e}function fG(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+s),l=2/(i+a);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-((o-s)*c*.5),e[9]=(i-a)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function pG(e,t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=(o+a)*l,e[15]=1,e}var mG=pG;function hG(e,t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=a*l,e[15]=1,e}function gG(e,t,n,r){var i,a,o,s,c,l,u,d,f,p,m=t[0],h=t[1],g=t[2],_=r[0],v=r[1],y=r[2],b=n[0],x=n[1],S=n[2];return Math.abs(m-b)<1e-6&&Math.abs(h-x)<1e-6&&Math.abs(g-S)<1e-6?IW(e):(u=m-b,d=h-x,f=g-S,p=1/Math.hypot(u,d,f),u*=p,d*=p,f*=p,i=v*f-y*d,a=y*u-_*f,o=_*d-v*u,p=Math.hypot(i,a,o),p?(p=1/p,i*=p,a*=p,o*=p):(i=0,a=0,o=0),s=d*o-f*a,c=f*i-u*o,l=u*a-d*i,p=Math.hypot(s,c,l),p?(p=1/p,s*=p,c*=p,l*=p):(s=0,c=0,l=0),e[0]=i,e[1]=s,e[2]=u,e[3]=0,e[4]=a,e[5]=c,e[6]=d,e[7]=0,e[8]=o,e[9]=l,e[10]=f,e[11]=0,e[12]=-(i*m+a*h+o*g),e[13]=-(s*m+c*h+l*g),e[14]=-(u*m+d*h+f*g),e[15]=1,e)}function _G(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=r[0],c=r[1],l=r[2],u=i-n[0],d=a-n[1],f=o-n[2],p=u*u+d*d+f*f;p>0&&(p=1/Math.sqrt(p),u*=p,d*=p,f*=p);var m=c*f-l*d,h=l*u-s*f,g=s*d-c*u;return p=m*m+h*h+g*g,p>0&&(p=1/Math.sqrt(p),m*=p,h*=p,g*=p),e[0]=m,e[1]=h,e[2]=g,e[3]=0,e[4]=d*g-f*h,e[5]=f*m-u*g,e[6]=u*h-d*m,e[7]=0,e[8]=u,e[9]=d,e[10]=f,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}function vG(e){return`mat4(`+e[0]+`, `+e[1]+`, `+e[2]+`, `+e[3]+`, `+e[4]+`, `+e[5]+`, `+e[6]+`, `+e[7]+`, `+e[8]+`, `+e[9]+`, `+e[10]+`, `+e[11]+`, `+e[12]+`, `+e[13]+`, `+e[14]+`, `+e[15]+`)`}function yG(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function bG(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function xG(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function SG(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function CG(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function wG(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function TG(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],d=e[9],f=e[10],p=e[11],m=e[12],h=e[13],g=e[14],_=e[15],v=t[0],y=t[1],b=t[2],x=t[3],S=t[4],C=t[5],w=t[6],T=t[7],E=t[8],D=t[9],O=t[10],k=t[11],A=t[12],j=t[13],M=t[14],ee=t[15];return Math.abs(n-v)<=1e-6*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-y)<=1e-6*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-b)<=1e-6*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-x)<=1e-6*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-S)<=1e-6*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-C)<=1e-6*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(c-w)<=1e-6*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(l-T)<=1e-6*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-E)<=1e-6*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(d-D)<=1e-6*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(f-O)<=1e-6*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(p-k)<=1e-6*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(m-A)<=1e-6*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(h-j)<=1e-6*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(g-M)<=1e-6*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(_-ee)<=1e-6*Math.max(1,Math.abs(_),Math.abs(ee))}var EG=VW,DG=xG;function OG(){var e=new JU(3);return JU!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function kG(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function AG(e,t,n){var r=new JU(3);return r[0]=e,r[1]=t,r[2]=n,r}function jG(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function MG(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function NG(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function PG(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function FG(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function IG(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function LG(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function RG(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function zG(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function BG(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function VG(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function HG(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2];return e[0]=i*c-a*s,e[1]=a*o-r*c,e[2]=r*s-i*o,e}function UG(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o||=1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}function WG(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}function GG(e){return e[0]=0,e[1]=0,e[2]=0,e}function KG(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function qG(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2];return Math.abs(n-a)<=1e-6*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=1e-6*Math.max(1,Math.abs(i),Math.abs(s))}var JG=PG,YG=FG,XG=LG,ZG=kG;(function(){var e=OG();return function(t,n,r,i,a,o){var s,c;for(n||=3,r||=0,c=i?Math.min(i*n+r,t.length):t.length,s=r;s<c;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}})();function QG(){var e=new JU(4);return JU!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function $G(e,t,n,r){var i=new JU(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function eK(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function tK(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o,e}function nK(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=QG();return function(t,n,r,i,a,o){var s,c;for(n||=4,r||=0,c=i?Math.min(i*n+r,t.length):t.length,s=r;s<c;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function rK(){var e=new JU(4);return JU!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function iK(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function aK(e,t){var n=Math.acos(t[3])*2,r=Math.sin(n/2);return r>1e-6?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function oK(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],c=n[1],l=n[2],u=n[3];return e[0]=r*u+o*s+i*l-a*c,e[1]=i*u+o*c+a*s-r*l,e[2]=a*u+o*l+r*c-i*s,e[3]=o*u-r*s-i*c-a*l,e}function sK(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3],c=n[0],l=n[1],u=n[2],d=n[3],f,p=i*c+a*l+o*u+s*d,m,h,g;return p<0&&(p=-p,c=-c,l=-l,u=-u,d=-d),1-p>1e-6?(f=Math.acos(p),m=Math.sin(f),h=Math.sin((1-r)*f)/m,g=Math.sin(r*f)/m):(h=1-r,g=r),e[0]=h*i+g*c,e[1]=h*a+g*l,e[2]=h*o+g*u,e[3]=h*s+g*d,e}function cK(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function lK(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(t[i*3+i]-t[a*3+a]-t[o*3+o]+1),e[i]=.5*r,r=.5/r,e[3]=(t[a*3+o]-t[o*3+a])*r,e[a]=(t[a*3+i]+t[i*3+a])*r,e[o]=(t[o*3+i]+t[i*3+o])*r}return e}var uK=$G,dK=tK;(function(){var e=OG(),t=AG(1,0,0),n=AG(0,1,0);return function(r,i,a){var o=VG(i,a);return o<-.999999?(HG(e,t,i),ZG(e)<1e-6&&HG(e,n,i),BG(e,e),iK(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(HG(e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,dK(r,r))}})(),function(){var e=rK(),t=rK();return function(n,r,i,a,o,s){return sK(e,r,o,s),sK(t,i,a,s),sK(n,e,t,2*s*(1-s)),n}}(),function(){var e=QU();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],dK(t,lK(t,e))}}();var fK=o(((e,t)=>{t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t==`object`&&typeof n==`object`){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}})),pK=o(((e,t)=>{var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r=t===`[object Arguments]`;return r||=t!==`[object Array]`&&typeof e==`object`&&!!e&&typeof e.length==`number`&&e.length>=0&&n.call(e.callee)===`[object Function]`,r}})),mK=o(((e,t)=>{var n;if(!Object.keys){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=pK(),o=Object.prototype.propertyIsEnumerable,s=!o.call({toString:null},`toString`),c=o.call(function(){},`prototype`),l=[`toString`,`toLocaleString`,`valueOf`,`hasOwnProperty`,`isPrototypeOf`,`propertyIsEnumerable`,`constructor`],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>`u`)return!1;for(var e in window)try{if(!d[`$`+e]&&r.call(window,e)&&window[e]!==null&&typeof window[e]==`object`)try{u(window[e])}catch{return!0}}catch{return!0}return!1}(),p=function(e){if(typeof window>`u`||!f)return u(e);try{return u(e)}catch{return!1}};n=function(e){var t=typeof e==`object`&&!!e,n=i.call(e)===`[object Function]`,o=a(e),u=t&&i.call(e)===`[object String]`,d=[];if(!t&&!n&&!o)throw TypeError(`Object.keys called on a non-object`);var f=c&&n;if(u&&e.length>0&&!r.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(o&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var g in e)!(f&&g===`prototype`)&&r.call(e,g)&&d.push(String(g));if(s)for(var _=p(e),v=0;v<l.length;++v)!(_&&l[v]===`constructor`)&&r.call(e,l[v])&&d.push(l[v]);return d}}t.exports=n})),hK=o(((e,t)=>{var n=Array.prototype.slice,r=pK(),i=Object.keys,a=i?function(e){return i(e)}:mK(),o=Object.keys;a.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return r(e)?o(n.call(e)):o(e)}):Object.keys=a,Object.keys||a},t.exports=a})),gK=o(((e,t)=>{var n=Object.defineProperty||!1;if(n)try{n({},`a`,{value:1})}catch{n=!1}t.exports=n})),_K=o(((e,t)=>{t.exports=SyntaxError})),vK=o(((e,t)=>{t.exports=TypeError})),yK=o(((e,t)=>{t.exports=Object.getOwnPropertyDescriptor})),bK=o(((e,t)=>{var n=yK();if(n)try{n([],`length`)}catch{n=null}t.exports=n})),xK=o(((e,t)=>{var n=gK(),r=_K(),i=vK(),a=bK();t.exports=function(e,t,o){if(!e||typeof e!=`object`&&typeof e!=`function`)throw new i("`obj` must be an object or a function`");if(typeof t!=`string`&&typeof t!=`symbol`)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!=`boolean`&&arguments[3]!==null)throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!=`boolean`&&arguments[4]!==null)throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!=`boolean`&&arguments[5]!==null)throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!=`boolean`)throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,d=!!a&&a(e,t);if(n)n(e,t,{configurable:l===null&&d?d.configurable:!l,enumerable:s===null&&d?d.enumerable:!s,value:o,writable:c===null&&d?d.writable:!c});else if(u||!s&&!c&&!l)e[t]=o;else throw new r(`This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.`)}})),SK=o(((e,t)=>{var n=gK(),r=function(){return!!n};r.hasArrayLengthDefineBug=function(){if(!n)return null;try{return n([],`length`,{value:1}).length!==1}catch{return!0}},t.exports=r})),CK=o(((e,t)=>{var n=hK(),r=typeof Symbol==`function`&&typeof Symbol(`foo`)==`symbol`,i=Object.prototype.toString,a=Array.prototype.concat,o=xK(),s=function(e){return typeof e==`function`&&i.call(e)===`[object Function]`},c=SK()(),l=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!s(r)||!r())return}c?o(e,t,n,!0):o(e,t,n)},u=function(e,t){var i=arguments.length>2?arguments[2]:{},o=n(t);r&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)l(e,o[s],t[o[s]],i[o[s]])};u.supportsDescriptors=!!c,t.exports=u})),wK=o(((e,t)=>{typeof self<`u`?t.exports=self:typeof window<`u`?t.exports=window:t.exports=Function(`return this`)()})),TK=o(((e,t)=>{var n=wK();t.exports=function(){return typeof global!=`object`||!global||global.Math!==Math||global.Array!==Array?n:global}})),EK=o(((e,t)=>{var n=CK(),r=TK();t.exports=function(){var e=r();if(n.supportsDescriptors){var t=Object.getOwnPropertyDescriptor(e,`globalThis`);(!t||t.configurable&&(t.enumerable||!t.writable||globalThis!==e))&&Object.defineProperty(e,`globalThis`,{configurable:!0,enumerable:!1,value:e,writable:!0})}else (typeof globalThis!=`object`||globalThis!==e)&&(e.globalThis=e);return e}})),DK=o(((e,t)=>{var n=CK(),r=wK(),i=TK(),a=EK(),o=i(),s=function(){return o};n(s,{getPolyfill:i,implementation:r,shim:a}),t.exports=s})),OK=l(fK(),1),kK=(0,l(DK(),1).default)(),AK={vtkObject:()=>null};function jK(e){if(e==null||e.isA)return e;if(!e.vtkClass)return kK.console&&kK.console.error&&kK.console.error(`Invalid VTK object`),null;let t=AK[e.vtkClass];if(!t)return kK.console&&kK.console.error&&kK.console.error(`No vtk class found for Object of type ${e.vtkClass}`),null;let n={...e};Object.keys(n).forEach(e=>{n[e]&&typeof n[e]==`object`&&n[e].vtkClass&&(n[e]=jK(n[e]))});let r=t(n);return r&&r.modified&&r.modified(),r}function MK(e,t){AK[e]=t}jK.register=MK;var NK=class extends Array{push(){for(let e=0;e<arguments.length;e++)this.includes(arguments[e])||super.push(arguments[e]);return this.length}},PK=0,FK=e=>{throw Error(`Named parameter '${e}' is missing`)},IK=Symbol(`void`);function LK(){return PK}var RK={};function zK(){}[`log`,`debug`,`info`,`warn`,`error`,`time`,`timeEnd`,`group`,`groupEnd`].forEach(e=>{RK[e]=zK}),kK.console=console.hasOwnProperty(`log`)?console:RK;var BK={debug:zK,error:kK.console.error||zK,info:kK.console.info||zK,log:kK.console.log||zK,warn:kK.console.warn||zK};function VK(e,t){BK[e]&&(BK[e]=t||zK)}function HK(){BK.log(...arguments)}function UK(){BK.info(...arguments)}function WK(){BK.debug(...arguments)}function GK(){BK.error(...arguments)}function KK(){BK.warn(...arguments)}var qK={};function JK(e){qK[e]||(BK.error(e),qK[e]=!0)}var YK=Object.create(null);YK.Float32Array=Float32Array,YK.Float64Array=Float64Array,YK.Uint8Array=Uint8Array,YK.Int8Array=Int8Array,YK.Uint16Array=Uint16Array,YK.Int16Array=Int16Array,YK.Uint32Array=Uint32Array,YK.Int32Array=Int32Array,YK.Uint8ClampedArray=Uint8ClampedArray;try{YK.BigInt64Array=BigInt64Array,YK.BigUint64Array=BigUint64Array}catch{}function XK(e){var t=[...arguments].slice(1);return new(YK[e]||Float64Array)(...t)}function ZK(e){var t=[...arguments].slice(1);return(YK[e]||Float64Array).from(...t)}function QK(e){return e.charAt(0).toUpperCase()+e.slice(1)}function $K(e){return QK(e[0]===`_`?e.slice(1):e)}function eq(e){return e.charAt(0).toLowerCase()+e.slice(1)}function tq(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,r=[`TB`,`GB`,`MB`,`KB`],i=Number(e),a=`B`;for(;i>n;)i/=n,a=r.pop();return`${i.toFixed(t)} ${a}`}function nq(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:` `,n=[],r=e;for(;r>1e3;)n.push(`000${r%1e3}`.slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(t)}function rq(e){Object.keys(e).forEach(t=>{Array.isArray(e[t])&&(e[t]=[].concat(e[t]))})}function iq(e){return Object.values(YK).some(t=>e instanceof t)}function aq(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}function oq(e,t){return Object.keys(e).find(n=>e[n]===t)}function sq(e){return e&&e.isA?e.getState():e}function cq(e){setTimeout(e,0)}function lq(e,t){let n=performance.now();e.finally(()=>{t(performance.now()-n)})}function uq(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rq(t);let n=[];if(Number.isInteger(t.mtime)||(t.mtime=++PK),!(`classHierarchy`in t))t.classHierarchy=new NK(`vtkObject`);else if(!(t.classHierarchy instanceof NK)){let e=new NK;for(let n=0;n<t.classHierarchy.length;n++)e.push(t.classHierarchy[n]);t.classHierarchy=e}function r(e){n[e]=null}function i(e){function t(){r(e)}return Object.freeze({unsubscribe:t})}return e.isDeleted=()=>!!t.deleted,e.modified=r=>{if(t.deleted){GK(`instance deleted - cannot call any method`);return}r&&r<e.getMTime()||(t.mtime=++PK,n.forEach(t=>t&&t(e)))},e.onModified=e=>{if(t.deleted)return GK(`instance deleted - cannot call any method`),null;let r=n.length;return n.push(e),i(r)},e.getMTime=()=>t.mtime,e.isA=e=>{let n=t.classHierarchy.length;for(;n--;)if(t.classHierarchy[n]===e)return!0;return!1},e.getClassName=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.classHierarchy[t.classHierarchy.length-1-e]},e.set=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1;return Object.keys(n).forEach(o=>{let s=i?null:e[`set${QK(o)}`];s&&Array.isArray(n[o])&&s.length>1?a=s(...n[o])||a:s?a=s(n[o])||a:([`mtime`].indexOf(o)===-1&&!r&&KK(`Warning: Set value to model directly ${o}, ${n[o]}`),a=t[o]!==n[o]||a,t[o]=n[o])}),a},e.get=function(){var e=[...arguments];if(!e.length)return t;let n={};return e.forEach(e=>{n[e]=t[e]}),n},e.getReferenceByName=e=>t[e],e.delete=()=>{Object.keys(t).forEach(e=>delete t[e]),n.forEach((e,t)=>r(t)),t.deleted=!0},e.getState=()=>{if(t.deleted)return null;let n={...t,vtkClass:e.getClassName()};Object.keys(n).forEach(e=>{n[e]===null||n[e]===void 0||e[0]===`_`?delete n[e]:n[e].isA?n[e]=n[e].getState():Array.isArray(n[e])?n[e]=n[e].map(sq):iq(n[e])&&(n[e]=Array.from(n[e]))});let r={};return Object.keys(n).sort().forEach(e=>{r[e]=n[e]}),r.mtime&&delete r.mtime,r},e.shallowCopy=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.getClassName()!==e.getClassName())throw Error(`Cannot ShallowCopy ${n.getClassName()} into ${e.getClassName()}`);let i=n.get(),a=Object.keys(t).sort();Object.keys(i).sort().forEach(e=>{let n=a.indexOf(e);n===-1?r&&WK(`add ${e} in shallowCopy`):a.splice(n,1),t[e]=i[e]}),a.length&&r&&WK(`Untouched keys: ${a.join(`, `)}`),e.modified()},e.toJSON=function(){return e.getState()},e}var dq={object(e,t,n){return function(){return{...t[n.name]}}}};function fq(e,t,n){n.forEach(n=>{if(typeof n==`object`){let r=dq[n.type];r?e[`get${$K(n.name)}`]=r(e,t,n):e[`get${$K(n.name)}`]=()=>t[n.name]}else e[`get${$K(n)}`]=()=>t[n]})}var pq={enum(e,t,n){let r=`_on${$K(n.name)}Changed`;return i=>{if(typeof i==`string`){if(n.enum[i]!==void 0)return t[n.name]===n.enum[i]?!1:(t[n.name]=n.enum[i],e.modified(),!0);throw GK(`Set Enum with invalid argument ${n}, ${i}`),RangeError(`Set Enum with invalid string argument`)}if(typeof i==`number`){if(t[n.name]!==i){if(Object.keys(n.enum).map(e=>n.enum[e]).indexOf(i)!==-1){let a=t[n.name];return t[n.name]=i,t[r]?.(e,t,i,a),e.modified(),!0}throw GK(`Set Enum outside numeric range ${n}, ${i}`),RangeError(`Set Enum outside numeric range`)}return!1}throw GK(`Set Enum with invalid argument (String/Number) ${n}, ${i}`),TypeError(`Set Enum with invalid argument (String/Number)`)}},object(e,t,n){n.params?.length===1&&KK(`Setter of type "object" with a single "param" field is not supported`);let r=`_on${$K(n.name)}Changed`;return function(){var i=[...arguments];let a;if(a=i.length>1&&n.params?.length?n.params.reduce((e,t,n)=>Object.assign(e,{[t]:i[n]}),{}):i[0],!(0,OK.default)(t[n.name],a)){let i=t[n.name];return t[n.name]=a,t[r]?.(e,t,a,i),e.modified(),!0}return!1}}};function mq(e){if(typeof e==`object`){let t=pq[e.type];if(t)return(n,r)=>t(n,r,e);throw GK(`No setter for field ${e}`),TypeError(`No setter for field`)}return function(t,n){let r=`_on${$K(e)}Changed`;return function(i){if(n.deleted)return GK(`instance deleted - cannot call any method`),!1;if(n[e]!==i){let a=n[e.name];return n[e]=i,n[r]?.(t,n,i,a),t.modified(),!0}return!1}}}function hq(e,t,n){n.forEach(n=>{typeof n==`object`?e[`set${$K(n.name)}`]=mq(n)(e,t):e[`set${$K(n)}`]=mq(n)(e,t)})}function gq(e,t,n){fq(e,t,n),hq(e,t,n)}function _q(e,t,n){n.forEach(n=>{e[`get${$K(n)}`]=()=>t[n]?Array.from(t[n]):t[n],e[`get${$K(n)}ByReference`]=()=>t[n]})}function vq(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;n.forEach(n=>{if(t[n]&&r&&t[n].length!==r)throw RangeError(`Invalid initial number of values for array (${n})`);let a=`_on${$K(n)}Changed`;e[`set${$K(n)}`]=function(){if(t.deleted)return GK(`instance deleted - cannot call any method`),!1;let o=[...arguments],s,c=!1;if(o.length===1&&(o[0]==null||o[0].length>=0)&&(o=o[0],c=!0),o==null)s=t[n]!==o;else{if(r&&o.length!==r)if(o.length<r&&i!==void 0)for(o=Array.from(o),c=!1;o.length<r;)o.push(i);else throw RangeError(`Invalid number of values for array setter (${n})`);s=t[n]==null||t[n].length!==o.length;for(let e=0;!s&&e<o.length;++e)s=t[n][e]!==o[e];s&&c&&(o=Array.from(o))}if(s){let r=t[n.name];t[n]=o,t[a]?.(e,t,o,r),e.modified()}return s},e[`set${$K(n)}From`]=e=>{let r=t[n];e.forEach((e,t)=>{r[t]=e})}})}function yq(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;_q(e,t,n),vq(e,t,n,r,i)}function bq(e,t,n){for(let e=0;e<n.length;e++){let r=n[e];t[r]!==void 0&&(t[`_${r}`]=t[r],delete t[r])}}function xq(e,t,n,r){t.inputData?t.inputData=t.inputData.map(jK):t.inputData=[],t.inputConnection?t.inputConnection=t.inputConnection.map(jK):t.inputConnection=[],t.output?t.output=t.output.map(jK):t.output=[],t.inputArrayToProcess?t.inputArrayToProcess=t.inputArrayToProcess.map(jK):t.inputArrayToProcess=[],t.numberOfInputs=n;function i(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(t.deleted){GK(`instance deleted - cannot call any method`);return}if(r>=t.numberOfInputs){GK(`algorithm ${e.getClassName()} only has ${t.numberOfInputs} input ports. To add more input ports, use addInputData()`);return}(t.inputData[r]!==n||t.inputConnection[r])&&(t.inputData[r]=n,t.inputConnection[r]=null,e.modified&&e.modified())}function a(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.inputConnection[e]&&(t.inputData[e]=t.inputConnection[e]()),t.inputData[e]}function o(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(t.deleted){GK(`instance deleted - cannot call any method`);return}if(r>=t.numberOfInputs){let n=`algorithm ${e.getClassName()} only has `;n+=`${t.numberOfInputs}`,n+=` input ports. To add more input ports, use addInputConnection()`,GK(n);return}t.inputData[r]=null,t.inputConnection[r]=n}function s(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.inputConnection[e]}function c(){let e=t.numberOfInputs;for(;e&&!t.inputData[e-1]&&!t.inputConnection[e-1];)e--;return e===t.numberOfInputs&&t.numberOfInputs++,e}function l(e){if(t.deleted){GK(`instance deleted - cannot call any method`);return}o(e,c())}function u(e){if(t.deleted){GK(`instance deleted - cannot call any method`);return}i(e,c())}function d(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.deleted?(GK(`instance deleted - cannot call any method`),null):(e.shouldUpdate()&&e.update(),t.output[n])}e.shouldUpdate=()=>{let n=e.getMTime(),i=1/0,a=r;for(;a--;){if(!t.output[a]||t.output[a].isDeleted())return!0;let e=t.output[a].getMTime();if(e<n)return!0;e<i&&(i=e)}for(a=t.numberOfInputs;a--;)if(t.inputConnection[a]?.filter.shouldUpdate()||e.getInputData(a)?.getMTime()>i)return!0;return!1};function f(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=()=>d(t);return n.filter=e,n}if(t.numberOfInputs){let n=t.numberOfInputs;for(;n--;)t.inputData.push(null),t.inputConnection.push(null);e.setInputData=i,e.setInputConnection=o,e.addInputData=u,e.addInputConnection=l,e.getInputData=a,e.getInputConnection=s}r&&(e.getOutputData=d,e.getOutputPort=f),e.update=()=>{let n=[];if(t.numberOfInputs){let r=0;for(;r<t.numberOfInputs;)n[r]=e.getInputData(r),r++}e.requestData&&!e.isDeleted()&&e.shouldUpdate()&&e.requestData(n,t.output)},e.getNumberOfInputPorts=()=>t.numberOfInputs,e.getNumberOfOutputPorts=()=>r||t.output.length,e.getInputArrayToProcess=e=>{let n=t.inputArrayToProcess[e],r=t.inputData[e];return n&&r?r[`get${n.fieldAssociation}`]().getArray(n.arrayName):null},e.setInputArrayToProcess=function(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:`Scalars`;for(;t.inputArrayToProcess.length<e;)t.inputArrayToProcess.push(null);t.inputArrayToProcess[e]={arrayName:n,fieldAssociation:r,attributeType:i}}}var Sq=Symbol(`Event abort`);function Cq(e,t,n){let r=[],i=e.delete,a=1;function o(e){for(let t=0;t<r.length;++t){let[n]=r[t];if(n===e){r.splice(t,1);return}}}function s(e){function t(){o(e)}return Object.freeze({unsubscribe:t})}function c(){if(t.deleted){GK(`instance deleted - cannot call any method`);return}let n=r.slice();for(let t=0;t<n.length;++t){let[,r,i]=n[t];if(r){if(i<0)setTimeout(()=>r.apply(e,arguments),1-i);else if(r.apply(e,arguments)===Sq)break}}}e[`invoke${$K(n)}`]=c,e[`on${$K(n)}`]=function(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e.apply)return console.error(`Invalid callback for event ${n}`),null;if(t.deleted)return GK(`instance deleted - cannot call any method`),null;let o=a++;return r.push([o,e,i]),r.sort((e,t)=>t[2]-e[2]),s(o)},e.delete=()=>{i(),r.forEach(e=>{let[t]=e;return o(t)})}}function wq(e,t){let n=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n={},r={};return e(r,n,t),Object.freeze(r)};return t&&jK.register(t,n),n}function Tq(){var e=[...arguments];return function(){var t=[...arguments];return e.filter(e=>!!e).map(e=>e(...t))}}function Eq(e){return e&&e.isA&&e.isA(`vtkObject`)}function Dq(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(Eq(e)){if(r.indexOf(e)>=0)return n;r.push(e);let i=t(e);i!==void 0&&n.push(i);let a=e.get();Object.keys(a).forEach(e=>{let i=a[e];Array.isArray(i)?i.forEach(e=>{Dq(e,t,n,r)}):Dq(i,t,n,r)})}return n}function Oq(e,t,n){var r=this;let i,a=function(){var a=[...arguments];let o=r,s=()=>{i=null,n||e.apply(o,a)},c=n&&!i;clearTimeout(i),i=setTimeout(s,t),c&&e.apply(o,a)};return a.cancel=()=>clearTimeout(i),a}function kq(e,t){let n=!1,r=null;function i(){n=!1,r!==null&&(a(...r),r=null)}function a(){var a=[...arguments];if(n){r=a;return}n=!0,e(...a),setTimeout(i,t)}return a}function Aq(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t.keystore=Object.assign(t.keystore||{},n),e.setKey=(e,n)=>{t.keystore[e]=n},e.getKey=e=>t.keystore[e],e.getAllKeys=()=>Object.keys(t.keystore),e.deleteKey=e=>delete t.keystore[e],e.clearKeystore=()=>e.getAllKeys().forEach(e=>delete t.keystore[e])}var jq=1,Mq=`__root__`;function Nq(e,t){Aq(e,t);let n=e.delete;t.proxyId=`${jq++}`,t.ui=JSON.parse(JSON.stringify(t.ui||[])),fq(e,t,[`proxyId`,`proxyGroup`,`proxyName`]),gq(e,t,[`proxyManager`]);let r={},i={};function a(e,t){i[t]||(i[t]=[]);let n=i[t];for(let t=0;t<e.length;t++)n.push(e[t].name),r[e[t].name]=e[t],e[t].children&&e[t].children.length&&a(e[t].children,e[t].name)}a(t.ui,Mq),e.updateUI=n=>{t.ui=JSON.parse(JSON.stringify(n||[])),Object.keys(r).forEach(e=>delete r[e]),Object.keys(i).forEach(e=>delete i[e]),a(t.ui,Mq),e.modified()};function o(){return i[arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mq]}e.updateProxyProperty=(e,t)=>{let n=r[e];n?Object.assign(n,t):r[e]={...t}},e.activate=()=>{if(t.proxyManager){let n=`setActive${$K(e.getProxyGroup().slice(0,-1))}`;t.proxyManager[n]&&t.proxyManager[n](e)}},t.propertyLinkSubscribers={},e.registerPropertyLinkForGC=(e,n)=>{n in t.propertyLinkSubscribers||(t.propertyLinkSubscribers[n]=[]),t.propertyLinkSubscribers[n].push(e)},e.gcPropertyLinks=n=>{let r=t.propertyLinkSubscribers[n]||[];for(;r.length;)r.pop().unbind(e)},t.propertyLinkMap={},e.getPropertyLink=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.propertyLinkMap[e])return t.propertyLinkMap[e];let r=null,i=[],a=0,o=!1;function s(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o)return null;let c=[],l=null;for(a=i.length;a--;){let e=i[a];e.instance===n?l=e:c.push(e)}if(!l)return null;let u=l.instance[`get${$K(l.propertyName)}`]();if(!aq(u,r)||s){for(r=u,o=!0;c.length;){let e=c.pop();e.instance.set({[e.propertyName]:r})}o=!1}return t.propertyLinkMap[e].persistent&&(t.propertyLinkMap[e].value=u),u}function c(e,t){let n=[];for(a=i.length;a--;){let r=i[a];r.instance===e&&(r.propertyName===t||t===void 0)&&(r.subscription.unsubscribe(),n.push(a))}for(;n.length;)i.splice(n.pop(),1)}function l(n,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=n.onModified(s),l=i[0];return i.push({instance:n,propertyName:r,subscription:o}),a&&(t.propertyLinkMap[e].persistent&&t.propertyLinkMap[e].value!==void 0?n.set({[r]:t.propertyLinkMap[e].value}):l&&s(l.instance,!0)),{unsubscribe:()=>c(n,r)}}function u(){for(;i.length;)i.pop().subscription.unsubscribe()}let d={bind:l,unbind:c,unsubscribe:u,persistent:n};return t.propertyLinkMap[e]=d,d};function s(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mq,r=[],i=t.proxyId,a=o(n)||[];for(let t=0;t<a.length;t++){let n=a[t],o=e[`get${$K(n)}`],c={id:i,name:n,value:o?o():void 0},l=s(n);l.length&&(c.children=l),r.push(c)}return r}e.listPropertyNames=()=>s().map(e=>e.name),e.getPropertyByName=e=>s().find(t=>t.name===e),e.getPropertyDomainByName=e=>(r[e]||{}).domain,e.getProxySection=()=>({id:t.proxyId,name:t.proxyGroup,ui:t.ui,properties:s()}),e.delete=()=>{let r=Object.keys(t.propertyLinkMap),i=r.length;for(;i--;)t.propertyLinkMap[r[i]].unsubscribe();Object.keys(t.propertyLinkSubscribers).forEach(e.gcPropertyLinks),n()},e.getState=()=>null;function c(){if(t.links)for(let n=0;n<t.links.length;n++){let{link:r,property:i,persistent:a,updateOnBind:o,type:s}=t.links[n];if(s===`application`){let n=t.proxyManager.getPropertyLink(r,a);e.registerPropertyLinkForGC(n,`application`),n.bind(e,i,o)}}}cq(c)}function Pq(e,t,n){let r=e.delete,i=[],a=Object.keys(n),o=a.length;for(;o--;){let r=a[o],{modelKey:s,property:c,modified:l=!0}=n[r],u=$K(c),d=$K(r);e[`get${d}`]=t[s][`get${u}`],e[`set${d}`]=t[s][`set${u}`],l&&i.push(t[s].onModified(e.modified))}e.delete=()=>{for(;i.length;)i.pop().unsubscribe();r()}}function Fq(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};t.this=e;function i(e){let n=Object.keys(e),r=n.length;for(;r--;){let i=n[r];t[i].set(e[i])}}let a=Object.keys(r),o=a.length;for(;o--;){let s=a[o];t[s]=r[s];let c=n[s];e[`set${$K(s)}`]=n=>{if(n!==t[s]){t[s]=n;let r=c[n];i(r),e.modified()}}}a.length&&fq(e,t,a)}var Iq=10,Lq=40,Rq=800;function zq(e){let t=0,n=0,r=0,i=0;return`detail`in e&&(n=e.detail),`wheelDelta`in e&&(n=-e.wheelDelta/120),`wheelDeltaY`in e&&(n=-e.wheelDeltaY/120),`wheelDeltaX`in e&&(t=-e.wheelDeltaX/120),`axis`in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*Iq,i=n*Iq,`deltaY`in e&&(i=e.deltaY),`deltaX`in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode===1?(r*=Lq,i*=Lq):(r*=Rq,i*=Rq)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n||t,pixelX:r,pixelY:i||r}}var $={algo:xq,capitalize:QK,chain:Tq,debounce:Oq,enumToString:oq,event:Cq,EVENT_ABORT:Sq,formatBytesToProperUnit:tq,formatNumbersWithThousandSeparator:nq,get:fq,getArray:_q,getCurrentGlobalMTime:LK,getStateArrayMapFunc:sq,isVtkObject:Eq,keystore:Aq,measurePromiseExecution:lq,moveToProtected:bq,newInstance:wq,newTypedArray:XK,newTypedArrayFrom:ZK,normalizeWheel:zq,obj:uq,proxy:Nq,proxyPropertyMapping:Pq,proxyPropertyState:Fq,safeArrays:rq,set:hq,setArray:vq,setGet:gq,setGetArray:yq,setImmediate:cq,setLoggerFunction:VK,throttle:kq,traverseInstanceTree:Dq,TYPED_ARRAYS:YK,uncapitalize:eq,VOID:IK,vtkDebugMacro:WK,vtkErrorMacro:GK,vtkInfoMacro:UK,vtkLogMacro:HK,vtkOnceErrorMacro:JK,vtkWarningMacro:KK,objectSetterMap:pq,requiredParam:FK},Bq=Object.freeze({__proto__:null,requiredParam:FK,VOID:IK,setLoggerFunction:VK,vtkLogMacro:HK,vtkInfoMacro:UK,vtkDebugMacro:WK,vtkErrorMacro:GK,vtkWarningMacro:KK,vtkOnceErrorMacro:JK,TYPED_ARRAYS:YK,newTypedArray:XK,newTypedArrayFrom:ZK,capitalize:QK,_capitalize:$K,uncapitalize:eq,formatBytesToProperUnit:tq,formatNumbersWithThousandSeparator:nq,setImmediateVTK:cq,measurePromiseExecution:lq,obj:uq,get:fq,set:hq,setGet:gq,getArray:_q,setArray:vq,setGetArray:yq,moveToProtected:bq,algo:xq,EVENT_ABORT:Sq,event:Cq,newInstance:wq,chain:Tq,isVtkObject:Eq,traverseInstanceTree:Dq,debounce:Oq,throttle:kq,keystore:Aq,proxy:Nq,proxyPropertyMapping:Pq,proxyPropertyState:Fq,normalizeWheel:zq,default:$}),{vtkErrorMacro:Vq}=$,Hq=[`Build`,`Render`];function Uq(e,t){t.classHierarchy.push(`vtkViewNode`);function n(e,n){for(let r=0;r<t.children.length;++r){let i=(n+1+r)%t.children.length;if(t.children[i]===e)return t.children[i]=t.children[n],t.children[n]=e,!0}return!1}e.build=e=>{},e.render=e=>{},e.traverse=n=>{let r=e[n.getTraverseOperation()];if(r){r(n);return}e.apply(n,!0);for(let e=0;e<t.children.length;e++)t.children[e].traverse(n);e.apply(n,!1)},e.apply=(t,n)=>{let r=e[t.getOperation()];r&&r(n,t)},e.getViewNodeFor=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r&&r.renderable===n)return r;if(t.renderable===n)return e;for(let e=0;e<t.children.length;++e){let r=t.children[e].getViewNodeFor(n);if(r)return r}},e.getFirstAncestorOfType=e=>t._parent?t._parent.isA(e)?t._parent:t._parent.getFirstAncestorOfType(e):null,e.getLastAncestorOfType=e=>t._parent?t._parent.getLastAncestorOfType(e)||(t._parent.isA(e)?t._parent:null):null,e.addMissingNode=n=>{if(!n)return;let r=t._renderableChildMap.get(n);if(r!==void 0)return r.setVisited(!0),r;let i=e.createViewNode(n);if(i)return i.setParent(e),i.setVisited(!0),t._renderableChildMap.set(n,i),t.children.push(i),i},e.addMissingNodes=function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r||!r.length)return;let a;for(let o=0;o<r.length;++o){let s=r[o],c=e.addMissingNode(s);i&&c!==void 0&&(a===void 0?a=t.children.lastIndexOf(c):t.children[a]!==c&&n(t.children,c),a++)}},e.addMissingChildren=n=>{if(!(!n||!n.length))for(let r=0;r<n.length;++r){let i=n[r];if(t.children.indexOf(i)===-1){i.setParent(e),t.children.push(i);let n=i.getRenderable();n&&t._renderableChildMap.set(n,i)}i.setVisited(!0)}},e.removeNode=e=>{let n=t.children.findIndex(t=>t===e);if(n<0)return!1;let r=e.getRenderable();return r&&t._renderableChildMap.delete(r),e.delete(),t.children.splice(n,1),!0},e.prepareNodes=()=>{for(let e=0;e<t.children.length;++e)t.children[e].setVisited(!1)},e.setVisited=e=>{t.visited=e},e.removeUnusedNodes=()=>{let e=0;for(let n=0;n<t.children.length;++n){let r=t.children[n];if(r.getVisited())t.children[e++]=r,r.setVisited(!1);else{let e=r.getRenderable();e&&t._renderableChildMap.delete(e),r.delete()}}t.children.length=e},e.createViewNode=e=>{if(!t.myFactory)return Vq(`Cannot create view nodes without my own factory`),null;let n=t.myFactory.createNode(e);return n&&n.setRenderable(e),n};let r=e.delete;e.delete=()=>{for(let e=0;e<t.children.length;e++)t.children[e].delete();r()}}var Wq={renderable:null,myFactory:null,children:[],visited:!1};function Gq(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Wq,n),$.obj(e,t),$.event(e,t,`event`),t._renderableChildMap=new Map,$.get(e,t,[`visited`]),$.setGet(e,t,[`_parent`,`renderable`,`myFactory`]),$.getArray(e,t,[`children`]),$.moveToProtected(e,t,[`parent`]),Uq(e,t)}var Kq={newInstance:$.newInstance(Gq,`vtkViewNode`),extend:Gq,PASS_TYPES:Hq};function qq(e,t){t.overrides||={},t.classHierarchy.push(`vtkViewNodeFactory`),e.createNode=n=>{if(n.isDeleted())return null;let r=0,i=n.getClassName(r++),a=!1,o=Object.keys(t.overrides);for(;i&&!a;)o.indexOf(i)===-1?i=n.getClassName(r++):a=!0;if(!a)return null;let s=t.overrides[i]();return s.setMyFactory(e),s}}var Jq={};function Yq(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Jq,n),$.obj(e,t),qq(e,t)}var Xq={newInstance:$.newInstance(Yq,`vtkViewNodeFactory`),extend:Yq},Zq=Object.create(null);function Qq(e,t){Zq[e]=t}function $q(e,t){t.classHierarchy.push(`vtkOpenGLViewNodeFactory`)}var eJ={};function tJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,eJ,n),t.overrides=Zq,Xq.extend(e,t,n),$q(e,t)}var nJ={newInstance:$.newInstance(tJ,`vtkOpenGLViewNodeFactory`),extend:tJ};function rJ(e,t){t.classHierarchy.push(`vtkOpenGLCamera`),e.buildPass=n=>{n&&(t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t._openGLRenderWindow=t._openGLRenderer.getParent(),t.context=t._openGLRenderWindow.getContext())},e.opaquePass=e=>{if(e){let e=t._openGLRenderer.getTiledSizeAndOrigin();t.context.viewport(e.lowerLeftU,e.lowerLeftV,e.usize,e.vsize),t.context.scissor(e.lowerLeftU,e.lowerLeftV,e.usize,e.vsize)}},e.translucentPass=e.opaquePass,e.zBufferPass=e.opaquePass,e.opaqueZBufferPass=e.opaquePass,e.volumePass=e.opaquePass,e.getKeyMatrices=n=>{if(n!==t.lastRenderer||t._openGLRenderWindow.getMTime()>t.keyMatrixTime.getMTime()||e.getMTime()>t.keyMatrixTime.getMTime()||n.getMTime()>t.keyMatrixTime.getMTime()||t.renderable.getMTime()>t.keyMatrixTime.getMTime()){NW(t.keyMatrices.wcvc,t.renderable.getViewMatrix()),$U(t.keyMatrices.normalMatrix,t.keyMatrices.wcvc),oW(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),LW(t.keyMatrices.wcvc,t.keyMatrices.wcvc);let e=t._openGLRenderer.getAspectRatio();NW(t.keyMatrices.vcpc,t.renderable.getProjectionMatrix(e,-1,1)),LW(t.keyMatrices.vcpc,t.keyMatrices.vcpc),VW(t.keyMatrices.wcpc,t.keyMatrices.vcpc,t.keyMatrices.wcvc),t.keyMatrixTime.modified(),t.lastRenderer=n}return t.keyMatrices}}var iJ={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function aJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,iJ,n),Kq.extend(e,t,n),t.keyMatrixTime={},uq(t.keyMatrixTime),t.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},gq(e,t,[`context`,`keyMatrixTime`]),rJ(e,t)}Qq(`vtkCamera`,wq(aJ));var{vtkDebugMacro:oJ}=Bq;function sJ(e,t){t.classHierarchy.push(`vtkOpenGLRenderer`),e.buildPass=n=>{if(n){if(!t.renderable)return;e.updateLights(),e.prepareNodes(),e.addMissingNode(t.renderable.getActiveCamera()),e.addMissingNodes(t.renderable.getViewPropsWithNestedProps(),!0),e.removeUnusedNodes()}},e.updateLights=()=>{let e=0,n=t.renderable.getLightsByReference();for(let t=0;t<n.length;++t)n[t].getSwitch()>0&&e++;return e||(oJ(`No lights are on, creating one.`),t.renderable.createLight()),e},e.zBufferPass=n=>{if(n){let n=0,r=t.context;t.renderable.getTransparent()||(t.context.clearColor(1,0,0,1),n|=r.COLOR_BUFFER_BIT),t.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,t.context.depthMask(!0));let i=e.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.colorMask(!0,!0,!0,!0),n&&r.clear(n),r.enable(r.DEPTH_TEST)}},e.opaqueZBufferPass=t=>e.zBufferPass(t),e.cameraPass=t=>{t&&e.clear()},e.getAspectRatio=()=>{let e=t._parent.getSizeByReference(),n=t.renderable.getViewportByReference();return e[0]*(n[2]-n[0])/((n[3]-n[1])*e[1])},e.getTiledSizeAndOrigin=()=>{let e=t.renderable.getViewportByReference(),n=[0,0,1,1],r=e[0]-n[0],i=e[1]-n[1],a=t._parent.normalizedDisplayToDisplay(r,i),o=Math.round(a[0]),s=Math.round(a[1]),c=e[2]-n[0],l=e[3]-n[1],u=t._parent.normalizedDisplayToDisplay(c,l),d=Math.round(u[0])-o,f=Math.round(u[1])-s;return d<0&&(d=0),f<0&&(f=0),{usize:d,vsize:f,lowerLeftU:o,lowerLeftV:s}},e.clear=()=>{let n=0,r=t.context;if(!t.renderable.getTransparent()){let e=t.renderable.getBackgroundByReference();r.clearColor(e[0],e[1],e[2],e[3]),n|=r.COLOR_BUFFER_BIT}t.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,r.depthMask(!0)),r.colorMask(!0,!0,!0,!0);let i=e.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n&&r.clear(n),r.enable(r.DEPTH_TEST)},e.releaseGraphicsResources=()=>{t.selector!==null&&t.selector.releaseGraphicsResources(),t.renderable&&t.renderable.getViewProps().forEach(e=>{e.modified()})},e.setOpenGLRenderWindow=n=>{t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))}}var cJ={context:null,_openGLRenderWindow:null,selector:null};function lJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,cJ,n),Kq.extend(e,t,n),fq(e,t,[`shaderCache`]),gq(e,t,[`selector`]),bq(e,t,[`openGLRenderWindow`]),sJ(e,t)}Qq(`vtkRenderer`,wq(lJ,`vtkOpenGLRenderer`));function uJ(e,t){t.classHierarchy.push(`vtkOpenGLActor`),e.buildPass=n=>{if(n){t._openGLRenderWindow=e.getLastAncestorOfType(`vtkOpenGLRenderWindow`),t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t.context=t._openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes(),t.ogltextures=null,t.activeTextures=null;for(let e=0;e<t.children.length;e++){let n=t.children[e];n.isA(`vtkOpenGLTexture`)?(t.ogltextures||=[],t.ogltextures.push(n)):t.oglmapper=n}}},e.traverseZBufferPass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseOpaqueZBufferPass=t=>e.traverseOpaquePass(t),e.traverseOpaquePass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||!t.renderable.getIsOpaque()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseTranslucentPass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.activateTextures=()=>{if(t.ogltextures){t.activeTextures=[];for(let e=0;e<t.ogltextures.length;e++){let n=t.ogltextures[e];n.render(),n.getHandle()&&t.activeTextures.push(n)}}},e.queryPass=(e,n)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.zBufferPass=(t,n)=>e.opaquePass(t,n),e.opaqueZBufferPass=(t,n)=>e.opaquePass(t,n),e.opaquePass=(n,r)=>{if(n)t.context.depthMask(!0),e.activateTextures();else if(t.activeTextures)for(let e=0;e<t.activeTextures.length;e++)t.activeTextures[e].deactivate()},e.translucentPass=(n,r)=>{if(n)t.context.depthMask(t._openGLRenderer.getSelector()&&t.renderable.getNestedPickable()),e.activateTextures();else if(t.activeTextures)for(let e=0;e<t.activeTextures.length;e++)t.activeTextures[e].deactivate()},e.getKeyMatrices=()=>(t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),NW(t.keyMatrices.mcwc,t.renderable.getMatrix()),LW(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.renderable.getIsIdentity()?iW(t.keyMatrices.normalMatrix):($U(t.keyMatrices.normalMatrix,t.keyMatrices.mcwc),oW(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),aW(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix)),t.keyMatrixTime.modified()),t.keyMatrices)}var dJ={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function fJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,dJ,n),Kq.extend(e,t,n),t.keyMatrixTime={},uq(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:iW(new Float64Array(9)),mcwc:IW(new Float64Array(16))},gq(e,t,[`context`]),fq(e,t,[`activeTextures`]),uJ(e,t)}Qq(`vtkActor`,wq(fJ));function pJ(e,t){t.classHierarchy.push(`vtkOpenGLActor2D`),e.buildPass=n=>{if(n){if(!t.renderable)return;t._openGLRenderWindow=e.getLastAncestorOfType(`vtkOpenGLRenderWindow`),t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t.context=t._openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes(),t.ogltextures=null,t.activeTextures=null;for(let e=0;e<t.children.length;e++){let n=t.children[e];n.isA(`vtkOpenGLTexture`)?(t.ogltextures||=[],t.ogltextures.push(n)):t.oglmapper=n}}},e.queryPass=(e,n)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementOverlayActorCount()}},e.traverseOpaquePass=n=>{!t.oglmapper||!t.renderable||!t.renderable.getNestedVisibility()||!t.renderable.getIsOpaque()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseTranslucentPass=n=>{!t.oglmapper||!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseOverlayPass=n=>{!t.oglmapper||!t.renderable||!t.renderable.getNestedVisibility()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable||(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.activateTextures=()=>{if(t.ogltextures){t.activeTextures=[];for(let e=0;e<t.ogltextures.length;e++){let n=t.ogltextures[e];n.render(),n.getHandle()&&t.activeTextures.push(n)}}},e.opaquePass=(n,r)=>{if(n)t.context.depthMask(!0),e.activateTextures();else if(t.activeTextures)for(let e=0;e<t.activeTextures.length;e++)t.activeTextures[e].deactivate()},e.translucentPass=(n,r)=>{if(n)t.context.depthMask(!1),e.activateTextures();else if(t.activeTextures)for(let e=0;e<t.activeTextures.length;e++)t.activeTextures[e].deactivate()},e.overlayPass=(n,r)=>{if(n)t.context.depthMask(!0),e.activateTextures();else if(t.activeTextures)for(let e=0;e<t.activeTextures.length;e++)t.activeTextures[e].deactivate()}}var mJ={context:null,activeTextures:null};function hJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,mJ,n),Kq.extend(e,t,n),gq(e,t,[`context`]),fq(e,t,[`activeTextures`]),pJ(e,t)}Qq(`vtkActor2D`,wq(hJ));function gJ(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _J(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vJ(e){let t,n,r;e.length===2?(t=e===gJ||e===_J?e:yJ,n=e,r=e):(t=gJ,n=(t,n)=>gJ(e(t),n),r=(t,n)=>e(t)-n);function i(e,r,i=0,a=e.length){if(i<a){if(t(r,r)!==0)return a;do{let t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}function a(e,r,i=0,a=e.length){if(i<a){if(t(r,r)!==0)return a;do{let t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}function o(e,t,n=0,a=e.length){let o=i(e,t,n,a-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o}return{left:i,center:o,right:a}}function yJ(){return 0}function bJ(e){return e===null?NaN:+e}var xJ=vJ(gJ);const SJ=xJ.right;xJ.left,vJ(bJ).center;var CJ=SJ,wJ=Math.sqrt(50),TJ=Math.sqrt(10),EJ=Math.sqrt(2);function DJ(e,t,n){let r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/10**i,o=a>=wJ?10:a>=TJ?5:a>=EJ?2:1,s,c,l;return i<0?(l=10**-i/o,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=10**i*o,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?DJ(e,t,n*2):[s,c,l]}function OJ(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[i,a,o]=r?DJ(t,e,n):DJ(e,t,n);if(!(a>=i))return[];let s=a-i+1,c=Array(s);if(r)if(o<0)for(let e=0;e<s;++e)c[e]=(a-e)/-o;else for(let e=0;e<s;++e)c[e]=(a-e)*o;else if(o<0)for(let e=0;e<s;++e)c[e]=(i+e)/-o;else for(let e=0;e<s;++e)c[e]=(i+e)*o;return c}function kJ(e,t,n){return t=+t,e=+e,n=+n,DJ(e,t,n)[2]}function AJ(e,t,n){t=+t,e=+e,n=+n;let r=t<e,i=r?kJ(t,e,n):kJ(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function jJ(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function MJ(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function NJ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function PJ(){}var FJ=.7,IJ=1/FJ,LJ=`\\s*([+-]?\\d+)\\s*`,RJ=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*`,zJ=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,BJ=/^#([0-9a-f]{3,8})$/,VJ=RegExp(`^rgb\\(${LJ},${LJ},${LJ}\\)$`),HJ=RegExp(`^rgb\\(${zJ},${zJ},${zJ}\\)$`),UJ=RegExp(`^rgba\\(${LJ},${LJ},${LJ},${RJ}\\)$`),WJ=RegExp(`^rgba\\(${zJ},${zJ},${zJ},${RJ}\\)$`),GJ=RegExp(`^hsl\\(${RJ},${zJ},${zJ}\\)$`),KJ=RegExp(`^hsla\\(${RJ},${zJ},${zJ},${RJ}\\)$`),qJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MJ(PJ,QJ,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JJ,formatHex:JJ,formatHex8:YJ,formatHsl:XJ,formatRgb:ZJ,toString:ZJ});function JJ(){return this.rgb().formatHex()}function YJ(){return this.rgb().formatHex8()}function XJ(){return dY(this).formatHsl()}function ZJ(){return this.rgb().formatRgb()}function QJ(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=BJ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$J(t):n===3?new rY(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?eY(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?eY(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VJ.exec(e))?new rY(t[1],t[2],t[3],1):(t=HJ.exec(e))?new rY(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=UJ.exec(e))?eY(t[1],t[2],t[3],t[4]):(t=WJ.exec(e))?eY(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GJ.exec(e))?uY(t[1],t[2]/100,t[3]/100,1):(t=KJ.exec(e))?uY(t[1],t[2]/100,t[3]/100,t[4]):qJ.hasOwnProperty(e)?$J(qJ[e]):e===`transparent`?new rY(NaN,NaN,NaN,0):null}function $J(e){return new rY(e>>16&255,e>>8&255,e&255,1)}function eY(e,t,n,r){return r<=0&&(e=t=n=NaN),new rY(e,t,n,r)}function tY(e){return e instanceof PJ||(e=QJ(e)),e?(e=e.rgb(),new rY(e.r,e.g,e.b,e.opacity)):new rY}function nY(e,t,n,r){return arguments.length===1?tY(e):new rY(e,t,n,r??1)}function rY(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}MJ(rY,nY,NJ(PJ,{brighter(e){return e=e==null?IJ:IJ**+e,new rY(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?FJ:FJ**+e,new rY(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rY(cY(this.r),cY(this.g),cY(this.b),sY(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iY,formatHex:iY,formatHex8:aY,formatRgb:oY,toString:oY}));function iY(){return`#${lY(this.r)}${lY(this.g)}${lY(this.b)}`}function aY(){return`#${lY(this.r)}${lY(this.g)}${lY(this.b)}${lY((isNaN(this.opacity)?1:this.opacity)*255)}`}function oY(){let e=sY(this.opacity);return`${e===1?`rgb(`:`rgba(`}${cY(this.r)}, ${cY(this.g)}, ${cY(this.b)}${e===1?`)`:`, ${e})`}`}function sY(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cY(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lY(e){return e=cY(e),(e<16?`0`:``)+e.toString(16)}function uY(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pY(e,t,n,r)}function dY(e){if(e instanceof pY)return new pY(e.h,e.s,e.l,e.opacity);if(e instanceof PJ||(e=QJ(e)),!e)return new pY;if(e instanceof pY)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new pY(o,s,c,e.opacity)}function fY(e,t,n,r){return arguments.length===1?dY(e):new pY(e,t,n,r??1)}function pY(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}MJ(pY,fY,NJ(PJ,{brighter(e){return e=e==null?IJ:IJ**+e,new pY(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?FJ:FJ**+e,new pY(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new rY(gY(e>=240?e-240:e+120,i,r),gY(e,i,r),gY(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pY(mY(this.h),hY(this.s),hY(this.l),sY(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=sY(this.opacity);return`${e===1?`hsl(`:`hsla(`}${mY(this.h)}, ${hY(this.s)*100}%, ${hY(this.l)*100}%${e===1?`)`:`, ${e})`}`}}));function mY(e){return e=(e||0)%360,e<0?e+360:e}function hY(e){return Math.max(0,Math.min(1,e||0))}function gY(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var _Y=e=>()=>e;function vY(e,t){return function(n){return e+n*t}}function yY(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function bY(e){return(e=+e)==1?xY:function(t,n){return n-t?yY(t,n,e):_Y(isNaN(t)?n:t)}}function xY(e,t){var n=t-e;return n?vY(e,n):_Y(isNaN(e)?t:e)}var SY=(function e(t){var n=bY(t);function r(e,t){var r=n((e=nY(e)).r,(t=nY(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=xY(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r})(1);function CY(e,t){t||=[];var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function wY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TY(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=Array(r),a=Array(n),o;for(o=0;o<r;++o)i[o]=PY(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(e){for(o=0;o<r;++o)a[o]=i[o](e);return a}}function EY(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function DY(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function OY(e,t){var n={},r={},i;for(i in(typeof e!=`object`||!e)&&(e={}),(typeof t!=`object`||!t)&&(t={}),t)i in e?n[i]=PY(e[i],t[i]):r[i]=t[i];return function(e){for(i in n)r[i]=n[i](e);return r}}var kY=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AY=new RegExp(kY.source,`g`);function jY(e){return function(){return e}}function MY(e){return function(t){return e(t)+``}}function NY(e,t){var n=kY.lastIndex=AY.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=kY.exec(e))&&(i=AY.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:DY(r,i)})),n=AY.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?MY(c[0].x):jY(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}function PY(e,t){var n=typeof t,r;return t==null||n===`boolean`?_Y(t):(n===`number`?DY:n===`string`?(r=QJ(t))?(t=r,SY):NY:t instanceof QJ?SY:t instanceof Date?EY:wY(t)?CY:Array.isArray(t)?TY:typeof t.valueOf!=`function`&&typeof t.toString!=`function`||isNaN(t)?OY:DY)(e,t)}function FY(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function IY(e){return function(){return e}}function LY(e){return+e}var RY=[0,1];function zY(e){return e}function BY(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:IY(isNaN(t)?NaN:.5)}function VY(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}function HY(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=BY(i,r),a=n(o,a)):(r=BY(r,i),a=n(a,o)),function(e){return a(r(e))}}function UY(e,t,n){var r=Math.min(e.length,t.length)-1,i=Array(r),a=Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=BY(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=CJ(e,t,1,r)-1;return a[n](i[n](t))}}function WY(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function GY(){var e=RY,t=RY,n=PY,r,i,a,o=zY,s,c,l;function u(){var n=Math.min(e.length,t.length);return o!==zY&&(o=VY(e[0],e[n-1])),s=n>2?UY:HY,c=l=null,d}function d(i){return i==null||isNaN(i=+i)?a:(c||=s(e.map(r),t,n))(r(o(i)))}return d.invert=function(n){return o(i((l||=s(t,e.map(r),DY))(n)))},d.domain=function(t){return arguments.length?(e=Array.from(t,LY),u()):e.slice()},d.range=function(e){return arguments.length?(t=Array.from(e),u()):t.slice()},d.rangeRound=function(e){return t=Array.from(e),n=FY,u()},d.clamp=function(e){return arguments.length?(o=e?!0:zY,u()):o!==zY},d.interpolate=function(e){return arguments.length?(n=e,u()):n},d.unknown=function(e){return arguments.length?(a=e,d):a},function(e,t){return r=e,i=t,u()}}function KY(){return GY()(zY,zY)}function qY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString(`en`).replace(/,/g,``):e.toString(10)}function JY(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf(`e`))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function YY(e){return e=JY(Math.abs(e)),e?e[1]:NaN}function XY(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ZY(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var QY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $Y(e){if(!(t=QY.exec(e)))throw Error(`invalid format: `+e);var t;return new eX({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$Y.prototype=eX.prototype;function eX(e){this.fill=e.fill===void 0?` `:e.fill+``,this.align=e.align===void 0?`>`:e.align+``,this.sign=e.sign===void 0?`-`:e.sign+``,this.symbol=e.symbol===void 0?``:e.symbol+``,this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?``:e.type+``}eX.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?`0`:``)+(this.width===void 0?``:Math.max(1,this.width|0))+(this.comma?`,`:``)+(this.precision===void 0?``:`.`+Math.max(0,this.precision|0))+(this.trim?`~`:``)+this.type};function tX(e){out:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case`.`:r=i=n;break;case`0`:r===0&&(r=n),i=n;break;default:if(!+e[n])break out;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var nX;function rX(e,t){var n=JY(e,t);if(!n)return e+``;var r=n[0],i=n[1],a=i-(nX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+Array(a-o+1).join(`0`):a>0?r.slice(0,a)+`.`+r.slice(a):`0.`+Array(1-a).join(`0`)+JY(e,Math.max(0,t+a-1))[0]}function iX(e,t){var n=JY(e,t);if(!n)return e+``;var r=n[0],i=n[1];return i<0?`0.`+Array(-i).join(`0`)+r:r.length>i+1?r.slice(0,i+1)+`.`+r.slice(i+1):r+Array(i-r.length+2).join(`0`)}var aX={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+``,d:qY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iX(e*100,t),r:iX,s:rX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oX(e){return e}var sX=Array.prototype.map,cX=[`y`,`z`,`a`,`f`,`p`,`n`,``,`m`,``,`k`,`M`,`G`,`T`,`P`,`E`,`Z`,`Y`];function lX(e){var t=e.grouping===void 0||e.thousands===void 0?oX:XY(sX.call(e.grouping,Number),e.thousands+``),n=e.currency===void 0?``:e.currency[0]+``,r=e.currency===void 0?``:e.currency[1]+``,i=e.decimal===void 0?`.`:e.decimal+``,a=e.numerals===void 0?oX:ZY(sX.call(e.numerals,String)),o=e.percent===void 0?`%`:e.percent+``,s=e.minus===void 0?``:e.minus+``,c=e.nan===void 0?`NaN`:e.nan+``;function l(e){e=$Y(e);var l=e.fill,u=e.align,d=e.sign,f=e.symbol,p=e.zero,m=e.width,h=e.comma,g=e.precision,_=e.trim,v=e.type;v===`n`?(h=!0,v=`g`):aX[v]||(g===void 0&&(g=12),_=!0,v=`g`),(p||l===`0`&&u===`=`)&&(p=!0,l=`0`,u=`=`);var y=f===`$`?n:f===`#`&&/[boxX]/.test(v)?`0`+v.toLowerCase():``,b=f===`$`?r:/[%p]/.test(v)?o:``,x=aX[v],S=/[defgprs%]/.test(v);g=g===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function C(e){var n=y,r=b,o,f,C;if(v===`c`)r=x(e)+r,e=``;else{e=+e;var w=e<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),g),_&&(e=tX(e)),w&&+e==0&&d!==`+`&&(w=!1),n=(w?d===`(`?d:s:d===`-`||d===`(`?``:d)+n,r=(v===`s`?cX[8+nX/3]:``)+r+(w&&d===`(`?`)`:``),S){for(o=-1,f=e.length;++o<f;)if(C=e.charCodeAt(o),48>C||C>57){r=(C===46?i+e.slice(o+1):e.slice(o))+r,e=e.slice(0,o);break}}}h&&!p&&(e=t(e,1/0));var T=n.length+e.length+r.length,E=T<m?Array(m-T+1).join(l):``;switch(h&&p&&(e=t(E+e,E.length?m-r.length:1/0),E=``),u){case`<`:e=n+e+r+E;break;case`=`:e=n+E+e+r;break;case`^`:e=E.slice(0,T=E.length>>1)+n+e+r+E.slice(T);break;default:e=E+n+e+r;break}return a(e)}return C.toString=function(){return e+``},C}function u(e,t){var n=l((e=$Y(e),e.type=`f`,e)),r=Math.max(-8,Math.min(8,Math.floor(YY(t)/3)))*3,i=10**-r,a=cX[8+r/3];return function(e){return n(i*e)+a}}return{format:l,formatPrefix:u}}var uX,dX,fX;pX({thousands:`,`,grouping:[3],currency:[`$`,``]});function pX(e){return uX=lX(e),dX=uX.format,fX=uX.formatPrefix,uX}function mX(e){return Math.max(0,-YY(Math.abs(e)))}function hX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(YY(t)/3)))*3-YY(Math.abs(e)))}function gX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,YY(t)-YY(e))+1}function _X(e,t,n,r){var i=AJ(e,t,n),a;switch(r=$Y(r??`,f`),r.type){case`s`:var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=hX(i,o))&&(r.precision=a),fX(r,o);case``:case`e`:case`g`:case`p`:case`r`:r.precision==null&&!isNaN(a=gX(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type===`e`));break;case`f`:case`%`:r.precision==null&&!isNaN(a=mX(i))&&(r.precision=a-(r.type===`%`)*2);break}return dX(r)}function vX(e){var t=e.domain;return e.ticks=function(e){var n=t();return OJ(n[0],n[n.length-1],e??10)},e.tickFormat=function(e,n){var r=t();return _X(r[0],r[r.length-1],e??10,n)},e.nice=function(n){n??=10;var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);u-- >0;){if(l=kJ(o,s,n),l===c)return r[i]=o,r[a]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function yX(){var e=KY();return e.copy=function(){return WY(e,yX())},jJ.apply(e,arguments),vX(e)}var bX=o(((e,t)=>{(function(e,t,n){function r(e){var t=this,n=o();t.next=function(){var e=2091639*t.s0+t.c*23283064365386963e-26;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=e|0)},t.c=1,t.s0=n(` `),t.s1=n(` `),t.s2=n(` `),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var n=new r(e),a=t&&t.state,o=n.next;return o.int32=function(){return n.next()*4294967296|0},o.double=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.quick=o,a&&(typeof a==`object`&&i(a,n),o.state=function(){return i(n,{})}),o}function o(){var e=4022871197;return function(t){t=String(t);for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=r*4294967296}return(e>>>0)*23283064365386963e-26}}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.alea=a})(e,typeof t==`object`&&t,typeof define==`function`&&define)})),xX=o(((e,t)=>{(function(e,t,n){function r(e){var t=this,n=``;t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(e|0)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=n.charCodeAt(r)|0,t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);while(e===0);return e},o.int32=n.next,o.quick=o,a&&(typeof a==`object`&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.xor128=a})(e,typeof t==`object`&&t,typeof define==`function`&&define)})),SX=o(((e,t)=>{(function(e,t,n){function r(e){var t=this,n=``;t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(e|0)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=n.charCodeAt(r)|0,r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);while(e===0);return e},o.int32=n.next,o.quick=o,a&&(typeof a==`object`&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.xorwow=a})(e,typeof t==`object`&&t,typeof define==`function`&&define)})),CX=o(((e,t)=>{(function(e,t,n){function r(e){var t=this;t.next=function(){var e=t.x,n=t.i,r=e[n],i;return r^=r>>>7,i=r^r<<24,r=e[n+1&7],i^=r^r>>>10,r=e[n+3&7],i^=r^r>>>3,r=e[n+4&7],i^=r^r<<7,r=e[n+7&7],r^=r<<13,i^=r^r<<9,e[n]=i,t.i=n+1&7,i};function n(e,t){var n,r=[];if(t===(t|0))r[0]=t;else for(t=``+t,n=0;n<t.length;++n)r[n&7]=r[n&7]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&r[n]===0;++n);for(n==8?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}n(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){e??=+new Date;var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);while(e===0);return e},o.int32=n.next,o.quick=o,a&&(a.x&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.xorshift7=a})(e,typeof t==`object`&&t,typeof define==`function`&&define)})),wX=o(((e,t)=>{(function(e,t,n){function r(e){var t=this;t.next=function(){var e=t.w,n=t.X,r=t.i,i,a;return t.w=e=e+1640531527|0,a=n[r+34&127],i=n[r=r+1&127],a^=a<<13,i^=i<<17,a^=a>>>15,i^=i>>>12,a=n[r]=a^i,t.i=r,a+(e^e>>>16)|0};function n(e,t){var n,r,i,a,o,s=[],c=128;for(t===(t|0)?(r=t,t=null):(t+=`\0`,r=0,c=Math.max(c,t.length)),i=0,a=-32;a<c;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),a===0&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,n=s[a&127]^=r+o,i=n==0?i+1:0);for(i>=128&&(s[(t&&t.length||0)&127]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}n(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){e??=+new Date;var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);while(e===0);return e},o.int32=n.next,o.quick=o,a&&(a.X&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.xor4096=a})(e,typeof t==`object`&&t,typeof define==`function`&&define)})),TX=o(((e,t)=>{(function(e,t,n){function r(e){var t=this,n=``;t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=e|0):n+=e;for(var r=0;r<n.length+20;r++)t.b^=n.charCodeAt(r)|0,t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21);while(e===0);return e},o.int32=n.next,o.quick=o,a&&(typeof a==`object`&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:n&&n.amd?n(function(){return a}):this.tychei=a})(e,typeof t==`object`&&t,typeof define==`function`&&define)})),EX=o(((e,t)=>{t.exports={}})),DX=o(((e,t)=>{(function(e,n,r){var i=256,a=6,o=52,s=`random`,c=r.pow(i,a),l=r.pow(2,o),u=l*2,d=i-1,f;function p(e,t,o){var d=[];t=t==1?{entropy:!0}:t||{};var f=_(g(t.entropy?[e,y(n)]:e??v(),3),d),p=new m(d),b=function(){for(var e=p.g(a),t=c,n=0;e<l;)e=(e+n)*i,t*=i,n=p.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return p.g(4)|0},b.quick=function(){return p.g(4)/4294967296},b.double=b,_(y(p.S),n),(t.pass||o||function(e,t,n,i){return i&&(i.S&&h(i,p),e.state=function(){return h(p,{})}),n?(r[s]=e,t):e})(b,f,`global`in t?t.global:this==r,t.state)}function m(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<i;)s[a]=a++;for(a=0;a<i;a++)s[a]=s[o=d&o+e[a%n]+(t=s[a])],s[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=d&a+1],n=n*i+s[d&(s[a]=s[o=d&o+t])+(s[o]=t)];return r.i=a,r.j=o,n})(i)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n=[],r=typeof e,i;if(t&&r==`object`)for(i in e)try{n.push(g(e[i],t-1))}catch{}return n.length?n:r==`string`?e:e+`\0`}function _(e,t){for(var n=e+``,r,i=0;i<n.length;)t[d&i]=d&(r^=t[d&i]*19)+n.charCodeAt(i++);return y(t)}function v(){try{var t;return f&&(t=f.randomBytes)?t=t(i):(t=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(t)),y(t)}catch{var r=e.navigator,a=r&&r.plugins;return[+new Date,e,a,e.screen,y(n)]}}function y(e){return String.fromCharCode.apply(0,e)}if(_(r.random(),n),typeof t==`object`&&t.exports){t.exports=p;try{f=EX()}catch{}}else typeof define==`function`&&define.amd?define(function(){return p}):r[`seed`+s]=p})(typeof self<`u`?self:e,[],Math)})),OX=l(o(((e,t)=>{var n=bX(),r=xX(),i=SX(),a=CX(),o=wX(),s=TX(),c=DX();c.alea=n,c.xor128=r,c.xorwow=i,c.xorshift7=a,c.xor4096=o,c.tychei=s,t.exports=c}))(),1),kX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],AX=[1,0,0,0,1,0,0,0,1],jX=1e-6,{vtkErrorMacro:MX,vtkWarningMacro:NX}=$,PX=0,FX=20;function IX(e){return()=>MX(`vtkMath::${e} - NOT IMPLEMENTED`)}function LX(e,t,n,r){let i;for(let a=0;a<t;a++)i=e[n*t+a],e[n*t+a]=e[r*t+a],e[r*t+a]=i}function RX(e,t,n,r){let i;for(let a=0;a<t;a++)i=e[a*t+n],e[a*t+n]=e[a*t+r],e[a*t+r]=i}function zX(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,t=Array(e);for(let n=0;n<e;++n)t[n]=0;return t}var BX=()=>Math.PI;function VX(e,t){return t>1023?e*2**1023*2**(t-1023):t<-1074?e*2**-1074*2**(t+1074):e*2**t}function HX(e){return e/180*Math.PI}function UX(e){return e*180/Math.PI}var{round:WX,floor:GX,ceil:KX,min:qX,max:JX}=Math;function YX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0;for(let i=t,a=e.length;i<a;i+=n)e[i]<r&&(r=e[i]);return r}function XX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=-1/0;for(let i=t,a=e.length;i<a;i+=n)r<e[i]&&(r=e[i]);return r}function ZX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0,i=-1/0;for(let a=t,o=e.length;a<o;a+=n)e[a]<r&&(r=e[a]),i<e[a]&&(i=e[a]);return[r,i]}var QX=IX(`ceilLog2`),$X=IX(`factorial`);function eZ(e){let t=1;for(;t<e;)t*=2;return t}function tZ(e){return e===eZ(e)}function nZ(e,t){let n=1;for(let r=1;r<=t;++r)n*=(e-r+1)/r;return Math.floor(n)}function rZ(e,t){if(e<t)return 0;let n=zX(t);for(let e=0;e<t;++e)n[e]=e;return n}function iZ(e,t,n){let r=0;for(let i=t-1;i>=0;--i)if(n[i]<e-t+i){let e=n[i]+1;for(;i<t;)n[i++]=e++;r=1;break}return r}function aZ(e){(0,OX.default)(`${e}`,{global:!0}),PX=e}function oZ(){return PX}function sZ(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+((arguments.length>1&&arguments[1]!==void 0?arguments[1]:1)-e)*Math.random()}var cZ=IX(`gaussian`);function lZ(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function uZ(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function dZ(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e}function fZ(e,t){return e[0]*=t,e[1]*=t,e}function pZ(e,t,n,r){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r[2]=e[2]+t[2]*n,r}function mZ(e,t,n,r){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r}function hZ(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gZ(e,t,n){n[0]=e[0]*t[0],n[1]=e[0]*t[1],n[2]=e[0]*t[2],n[3]=e[1]*t[0],n[4]=e[1]*t[1],n[5]=e[1]*t[2],n[6]=e[2]*t[0],n[7]=e[2]*t[1],n[8]=e[2]*t[2]}function _Z(e,t,n){let r=e[1]*t[2]-e[2]*t[1],i=e[2]*t[0]-e[0]*t[2],a=e[0]*t[1]-e[1]*t[0];return n[0]=r,n[1]=i,n[2]=a,n}function vZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;switch(t){case 1:return Math.abs(e);case 2:return Math.sqrt(e[0]*e[0]+e[1]*e[1]);case 3:return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);default:{let n=0;for(let r=0;r<t;r++)n+=e[r]*e[r];return Math.sqrt(n)}}}function yZ(e){let t=vZ(e);return t!==0&&(e[0]/=t,e[1]/=t,e[2]/=t),t}function bZ(e){let t=vZ(e,3);return t!==0&&(e[0]/=t,e[1]/=t,e[2]/=t,e[3]/=t),t}function xZ(e,t,n,r){let i=e[0]*e[0],a=e[1]*e[1],o=e[2]*e[2],s=Math.sqrt(i+a+o),c,l,u;i>a&&i>o?(c=0,l=1,u=2):a>o?(c=1,l=2,u=0):(c=2,l=0,u=1);let d=e[c]/s,f=e[l]/s,p=e[u]/s,m=Math.sqrt(d*d+p*p);if(r!==0){let e=Math.sin(r),i=Math.cos(r);t&&(t[c]=(p*i-d*f*e)/m,t[l]=e*m,t[u]=(-(d*i)-f*p*e)/m),n&&(n[c]=(-(p*e)-d*f*i)/m,n[l]=i*m,n[u]=(d*e-f*p*i)/m)}else t&&(t[c]=p/m,t[l]=0,t[u]=-d/m),n&&(n[c]=-d*f/m,n[l]=m,n[u]=-f*p/m)}function SZ(e,t,n){let r=hZ(t,t);if(r===0)return n[0]=0,n[1]=0,n[2]=0,!1;let i=hZ(e,t)/r;for(let e=0;e<3;e++)n[e]=t[e];return dZ(n,i),!0}function CZ(e,t){return e[0]*t[0]+e[1]*t[1]}function wZ(e,t,n){let r=CZ(t,t);if(r===0)return n[0]=0,n[1]=0,!1;let i=CZ(e,t)/r;for(let e=0;e<2;e++)n[e]=t[e];return fZ(n,i),!0}function TZ(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2])}function EZ(e,t){let n=[0,0,0];return _Z(e,t,n),Math.atan2(vZ(n),hZ(e,t))}function DZ(e,t,n){let r=Math.abs(e-n);return 1/Math.sqrt(2*Math.PI*t)*Math.exp(-(r**2)/(2*t))}function OZ(e,t,n){let r=Math.abs(e-n);return Math.exp(-(r**2)/(2*t))}function kZ(e,t,n){n[0]=e[0]*t[0],n[1]=e[0]*t[1],n[2]=e[1]*t[0],n[3]=e[1]*t[1]}function AZ(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function jZ(e){let t=AZ(e);return t!==0&&(e[0]/=t,e[1]/=t),t}function MZ(){var e=[...arguments];return e.length===2?e[0][0]*e[1][1]-e[1][0]*e[0][1]:e.length===4?e[0]*e[3]-e[1]*e[2]:NaN}function NZ(e,t){let n,r,i,a=[0,0,0];for(let t=0;t<3;t++)i=Math.abs(e[t*3]),(r=Math.abs(e[t*3+1]))>i&&(i=r),(r=Math.abs(e[t*3+2]))>i&&(i=r),a[t]=1/i;i=a[0]*Math.abs(e[0]),n=0,(r=a[1]*Math.abs(e[3]))>=i&&(i=r,n=1),(r=a[2]*Math.abs(e[6]))>=i&&(n=2),n!==0&&(LX(e,3,n,0),a[n]=a[0]),t[0]=n,e[3]/=e[0],e[6]/=e[0],e[4]-=e[3]*e[1],e[7]-=e[6]*e[1],i=a[1]*Math.abs(e[4]),n=1,(r=a[2]*Math.abs(e[7]))>=i&&(n=2,LX(e,3,1,2),a[2]=a[1]),t[1]=n,e[7]/=e[4],e[5]-=e[3]*e[2],e[8]-=e[6]*e[2]+e[7]*e[5],t[2]=2}function PZ(e,t,n){let r=n[t[0]];n[t[0]]=n[0],n[0]=r,r=n[t[1]],n[t[1]]=n[1],n[1]=r-e[3]*n[0],r=n[t[2]],n[t[2]]=n[2],n[2]=r-e[6]*n[0]-e[7]*n[1],n[2]/=e[8],n[1]=(n[1]-e[5]*n[2])/e[4],n[0]=(n[0]-e[1]*n[1]-e[2]*n[2])/e[0]}function FZ(e,t,n){let r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],d=e[8],f=+MZ(s,u,c,d),p=-MZ(o,l,c,d),m=+MZ(o,l,s,u),h=-MZ(i,u,a,d),g=+MZ(r,l,a,d),_=-MZ(r,l,i,u),v=+MZ(i,s,a,c),y=-MZ(r,o,a,c),b=+MZ(r,o,i,s),x=r*f+i*p+a*m,S=f*t[0]+h*t[1]+v*t[2],C=p*t[0]+g*t[1]+y*t[2],w=m*t[0]+_*t[1]+b*t[2];n[0]=S/x,n[1]=C/x,n[2]=w/x}function IZ(e,t,n){let r=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],i=e[3]*t[0]+e[4]*t[1]+e[5]*t[2],a=e[6]*t[0]+e[7]*t[1]+e[8]*t[2];n[0]=r,n[1]=i,n[2]=a}function LZ(e,t,n){let r=[...e],i=[...t];for(let e=0;e<3;e++)n[e]=r[0]*i[e]+r[1]*i[e+3]+r[2]*i[e+6],n[e+3]=r[3]*i[e]+r[4]*i[e+3]+r[5]*i[e+6],n[e+6]=r[6]*i[e]+r[7]*i[e+3]+r[8]*i[e+6]}function RZ(e,t,n,r,i,a,o){r!==i&&MX(`Number of columns of A must match number of rows of B.`);let s=[...e],c=[...t];for(let e=0;e<n;e++)for(let t=0;t<a;t++){o[e*a+t]=0;for(let n=0;n<r;n++)o[e*a+t]+=s[e*r+n]*c[t+a*n]}}function zZ(e,t){let n;n=e[3],t[3]=e[1],t[1]=n,n=e[6],t[6]=e[2],t[2]=n,n=e[7],t[7]=e[5],t[5]=n,t[0]=e[0],t[4]=e[4],t[8]=e[8]}function BZ(e,t){let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],d=+MZ(o,l,s,u),f=-MZ(a,c,s,u),p=+MZ(a,c,o,l),m=-MZ(r,l,i,u),h=+MZ(n,c,i,u),g=-MZ(n,c,r,l),_=+MZ(r,o,i,s),v=-MZ(n,a,i,s),y=+MZ(n,a,r,o),b=n*d+r*f+i*p;b===0&&NX(`Matrix has 0 determinant`),t[0]=d/b,t[3]=f/b,t[6]=p/b,t[1]=m/b,t[4]=h/b,t[7]=g/b,t[2]=_/b,t[5]=v/b,t[8]=y/b}function VZ(e){return e[0]*e[4]*e[8]+e[3]*e[7]*e[2]+e[6]*e[1]*e[5]-e[0]*e[7]*e[5]-e[3]*e[1]*e[8]-e[6]*e[4]*e[2]}function HZ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jX;if(e.length!==t.length)return!1;function r(e,r){return Math.abs(e-t[r])<=n}return e.every(r)}var UZ=HZ;function WZ(e){for(let t=0;t<3;t++)e[t*3]=e[t*3+1]=e[t*3+2]=0,e[t*3+t]=1}function GZ(e,t){for(let n=0;n<e;n++){for(let r=0;r<e;r++)t[n*e+r]=0;t[n*e+n]=1}return t}function KZ(e){return UZ(e,kX,arguments.length>1&&arguments[1]!==void 0?arguments[1]:jX)}function qZ(e){return UZ(e,AX,arguments.length>1&&arguments[1]!==void 0?arguments[1]:jX)}function JZ(e,t){let n=e[0]*e[0],r=e[0]*e[1],i=e[0]*e[2],a=e[0]*e[3],o=e[1]*e[1],s=e[2]*e[2],c=e[3]*e[3],l=e[1]*e[2],u=e[1]*e[3],d=e[2]*e[3],f=o+s+c,p=1/(n+f),m=(n-f)*p;p*=2,t[0]=o*p+m,t[3]=(l+a)*p,t[6]=(u-i)*p,t[1]=(l-a)*p,t[4]=s*p+m,t[7]=(d+r)*p,t[2]=(u+i)*p,t[5]=(d-r)*p,t[8]=c*p+m}function YZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!`${e}`.includes(`e`))return+`${Math.round(`${e}e+${t}`)}e-${t}`;let n=`${e}`.split(`e`),r=``;return+n[1]+t>0&&(r=`+`),+`${Math.round(`${+n[0]}e${r}${+n[1]+t}`)}e-${t}`}function XZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return t[0]=YZ(e[0],n),t[1]=YZ(e[1],n),t[2]=YZ(e[2],n),t}function ZZ(e,t,n,r){let i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b=zX(t),x=zX(t),S=(e,t,n)=>{_=e[t],g=e[n],e[t]=_-h*(g+_*p),e[n]=g+h*(_-g*p)};for(GZ(t,r),c=0;c<t;c++)b[c]=n[c]=e[c+c*t],x[c]=0;for(i=0;i<FX;i++){for(m=0,c=0;c<t-1;c++)for(s=c+1;s<t;s++)m+=Math.abs(e[c*t+s]);if(m===0)break;for(u=i<3?.2*m/(t*t):0,c=0;c<t-1;c++)for(s=c+1;s<t;s++)if(_=100*Math.abs(e[c*t+s]),i>3&&Math.abs(n[c])+_===Math.abs(n[c])&&Math.abs(n[s])+_===Math.abs(n[s]))e[c*t+s]=0;else if(Math.abs(e[c*t+s])>u){for(g=n[s]-n[c],Math.abs(g)+_===Math.abs(g)?f=e[c*t+s]/g:(d=.5*g/e[c*t+s],f=1/(Math.abs(d)+Math.sqrt(1+d*d)),d<0&&(f=-f)),v=1/Math.sqrt(1+f*f),h=f*v,p=h/(1+v),g=f*e[c*t+s],x[c]-=g,x[s]+=g,n[c]-=g,n[s]+=g,e[c*t+s]=0,a=0;a<=c-1;a++)S(e,a*t+c,a*t+s);for(a=c+1;a<=s-1;a++)S(e,c*t+a,a*t+s);for(a=s+1;a<t;a++)S(e,c*t+a,s*t+a);for(a=0;a<t;a++)S(r,a*t+c,a*t+s)}for(c=0;c<t;c++)b[c]+=x[c],n[c]=b[c],x[c]=0}if(i>=FX)return NX(`vtkMath::Jacobi: Error extracting eigenfunctions`),0;for(a=0;a<t-1;a++){for(o=a,y=n[o],i=a+1;i<t;i++)(n[i]>=y||Math.abs(n[i]-y)<1e-12)&&(o=i,y=n[o]);o!==a&&(n[o]=n[a],n[a]=y,RX(r,t,a,o))}let C=(t>>1)+(t&1);for(l=0,i=0;i<t*t;i++)r[i]>=0&&l++;if(l<C)for(i=0;i<t;i++)r[i*t+a]*=-1;return 1}function QZ(e,t){let n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];n[0]=e[0]+e[4]+e[8],n[5]=e[0]-e[4]-e[8],n[10]=-e[0]+e[4]-e[8],n[15]=-e[0]-e[4]+e[8],n[1]=n[4]=e[7]-e[5],n[2]=n[8]=e[2]-e[6],n[3]=n[12]=e[3]-e[1],n[6]=n[9]=e[3]+e[1],n[7]=n[13]=e[2]+e[6],n[11]=n[14]=e[7]+e[5];let r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0];ZZ([...n],4,i,r),t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12]}function $Z(e,t,n){let r=e[0]*t[0],i=e[0]*t[1],a=e[0]*t[2],o=e[0]*t[3],s=e[1]*t[0],c=e[1]*t[1],l=e[1]*t[2],u=e[1]*t[3],d=e[2]*t[0],f=e[2]*t[1],p=e[2]*t[2],m=e[2]*t[3],h=e[3]*t[0],g=e[3]*t[1],_=e[3]*t[2],v=e[3]*t[3];n[0]=r-c-p-v,n[1]=i+s+m-_,n[2]=a-u+d+g,n[3]=o+l-f+h}function eQ(e,t){for(let n=0;n<9;n++)t[n]=e[n];let n=zX(3),r=zX(3),i;for(let e=0;e<3;e++){let r=Math.abs(t[e*3]),a=Math.abs(t[e*3+1]),o=Math.abs(t[e*3+2]);i=a>r?a:r,i=o>i?o:i,n[e]=1,i!==0&&(n[e]/=i)}let a=Math.abs(t[0])*n[0],o=Math.abs(t[3])*n[1],s=Math.abs(t[6])*n[2];r[0]=0,i=a,o>=i&&(i=o,r[0]=1),s>=i&&(r[0]=2),r[0]!==0&&(RX(t,3,r[0],0),n[r[0]]=n[0]);let c=Math.abs(t[4])*n[1],l=Math.abs(t[7])*n[2];r[1]=1,i=c,l>=i&&(r[1]=2,RX(t,3,1,2)),r[2]=2;let u=0;if(VZ(t)<0){u=1;for(let e=0;e<9;e++)t[e]=-t[e]}let d=zX(4);if(QZ(t,d),JZ(d,t),u)for(let e=0;e<9;e++)t[e]=-t[e];r[1]!==1&&RX(t,3,r[1],1),r[0]!==0&&RX(t,3,r[0],0)}function tQ(e,t,n){let r,i,a,o,s,c;if(ZZ([...e],3,t,n),t[0]===t[1]&&t[0]===t[2]){WZ(n);return}for(zZ(n,n),r=0;r<3;r++)if(t[(r+1)%3]===t[(r+2)%3]){for(c=Math.abs(n[r*3]),o=0,i=1;i<3;i++)c<(s=Math.abs(n[r*3+i]))&&(c=s,o=i);o!==r&&(s=t[o],t[o]=t[r],t[r]=s,LX(n,3,r,o)),n[o*3+o]<0&&(n[o*3]=-n[o*3],n[o*3+1]=-n[o*3+1],n[o*3+2]=-n[o*3+2]),i=(o+1)%3,a=(o+2)%3,n[i*3]=0,n[i*3+1]=0,n[i*3+2]=0,n[i*3+i]=1;let e=_Z([n[o*3],n[o*3+1],n[o*3+2]],[n[i*3],n[i*3+1],n[i*3+2]],[]);yZ(e);let l=_Z(e,[n[o*3],n[o*3+1],n[o*3+2]],[]);for(let t=0;t<3;t++)n[a*3+t]=e[t],n[i*3+t]=l[t];zZ(n,n);return}for(c=Math.abs(n[0]),o=0,r=1;r<3;r++)c<(s=Math.abs(n[r*3]))&&(c=s,o=r);if(o!==0){let e=t[o];t[o]=t[0],t[0]=e,LX(n,3,o,0)}if(Math.abs(n[4])<Math.abs(n[7])){let e=t[2];t[2]=t[1],t[1]=e,LX(n,3,1,2)}for(r=0;r<2;r++)n[r*3+r]<0&&(n[r*3]=-n[r*3],n[r*3+1]=-n[r*3+1],n[r*3+2]=-n[r*3+2]);VZ(n)<0&&(n[6]=-n[6],n[7]=-n[7],n[8]=-n[8]),zZ(n,n)}function nQ(e,t,n,r){let i,a=[...e],o=VZ(a);if(o<0)for(i=0;i<9;i++)a[i]=-a[i];eQ(a,t),zZ(a,a),LZ(a,t,r),tQ(r,n,r),LZ(t,r,t),zZ(r,r),o<0&&(n[0]=-n[0],n[1]=-n[1],n[2]=-n[2])}function rQ(e,t,n){let r,i,a,o,s=0,c,l,u,d=zX(n);for(r=0;r<n;r++){for(o=0,i=0;i<n;i++)(u=Math.abs(e[r*n+i]))>o&&(o=u);if(o===0)return NX(`Unable to factor linear system`),0;d[r]=1/o}for(i=0;i<n;i++){for(r=0;r<i;r++){for(c=e[r*n+i],a=0;a<r;a++)c-=e[r*n+a]*e[a*n+i];e[r*n+i]=c}for(o=0,r=i;r<n;r++){for(c=e[r*n+i],a=0;a<i;a++)c-=e[r*n+a]*e[a*n+i];e[r*n+i]=c,(l=d[r]*Math.abs(c))>=o&&(o=l,s=r)}if(i!==s){for(a=0;a<n;a++)l=e[s*n+a],e[s*n+a]=e[i*n+a],e[i*n+a]=l;d[s]=d[i]}if(t[i]=s,Math.abs(e[i*n+i])<=1e-12)return NX(`Unable to factor linear system`),0;if(i!==n-1)for(l=1/e[i*n+i],r=i+1;r<n;r++)e[r*n+i]*=l}return 1}function iQ(e,t,n,r){let i,a,o,s,c;for(o=-1,i=0;i<r;i++){if(s=t[i],c=n[s],n[s]=n[i],o>=0)for(a=o;a<=i-1;a++)c-=e[i*r+a]*n[a];else c!==0&&(o=i);n[i]=c}for(i=r-1;i>=0;i--){for(c=n[i],a=i+1;a<r;a++)c-=e[i*r+a]*n[a];n[i]=c/e[i*r+i]}}function aQ(e,t,n){if(n===2){let n=zX(2),r=MZ(e[0],e[1],e[2],e[3]);return r===0?0:(n[0]=(e[3]*t[0]-e[1]*t[1])/r,n[1]=(-(e[2]*t[0])+e[0]*t[1])/r,t[0]=n[0],t[1]=n[1],1)}if(n===1)return e[0]===0?0:(t[0]/=e[0],1);let r=zX(n);return rQ(e,r,n)===0?0:(iQ(e,r,t,n),1)}function oQ(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,a=r||zX(n),o=i||zX(n);if(rQ(e,a,n)===0)return null;for(let r=0;r<n;r++){for(let e=0;e<n;e++)o[e]=0;o[r]=1,iQ(e,a,o,n);for(let e=0;e<n;e++)t[e*n+r]=o[e]}return t}function sQ(e,t){let n=+Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let n=0;n<t;n++)for(let i=n;i<t;i++)Math.abs(e[n*t+i])>r&&(r=Math.abs(e[n*t+i]));for(let r=0;r<t;r++)Math.abs(e[r*t+r])<n&&(n=Math.abs(e[r*t+r]));return n===0?Number.MAX_VALUE:r/n}function cQ(e,t,n){return ZZ(e,3,t,n)}function lQ(e,t,n,r){if(e<n)return NX(`Insufficient number of samples. Underdetermined.`),0;let i,a,o,s=zX(n*n),c=zX(n),l=zX(n*n);for(o=0;o<e;o++)for(i=0;i<n;i++)for(a=i;a<n;a++)s[i*n+a]+=t[o*n+i]*t[o*n+a];for(i=0;i<n;i++)for(a=0;a<i;a++)s[i*n+a]=s[a*n+i];for(ZZ(s,n,c,l),i=0;i<n;i++)r[i]=l[i*n+n-1];return 1}function uQ(e,t,n,r,i,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0;if(e<n||e<i)return NX(`Insufficient number of samples. Underdetermined.`),0;let s=zX(i),c=1,l,u=0,d,f,p,m=0;if(o){for(f=0;f<i;f++)s[f]=1;for(d=0;d<e;d++)for(f=0;f<i;f++)Math.abs(r[d*i+f])>1e-12&&(c=0,s[f]=0);if(c&&i===1)return NX(`Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()`),lQ(e,t,n,a);if(c)m=1;else for(f=0;f<i;f++)s[f]&&(m=1)}m&&(l=zX(n),u=lQ(e,t,n,l));let h=zX(n*n),g=zX(n*n),_=zX(n*i);for(p=0;p<e;p++)for(d=0;d<n;d++){for(f=d;f<n;f++)h[d*n+f]+=t[p*n+d]*t[p*n+f];for(f=0;f<i;f++)_[d*i+f]+=t[p*n+d]*r[p*i+f]}for(d=0;d<n;d++)for(f=0;f<d;f++)h[d*n+f]=h[f*n+d];let v=oQ(h,g,n);if(v)for(d=0;d<n;d++)for(f=0;f<i;f++)for(a[d*i+f]=0,p=0;p<n;p++)a[d*i+f]+=g[d*n+p]*_[p*i+f];if(m){for(f=0;f<i;f++)if(s[f])for(d=0;d<n;d++)a[d*i+f]=l[d*i]}return m?u&&v:v}function dQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,.5,1];switch(e.length){case 3:return t[0]=parseInt(e[0],16)*17/255,t[1]=parseInt(e[1],16)*17/255,t[2]=parseInt(e[2],16)*17/255,t;case 4:return t[0]=parseInt(e[1],16)*17/255,t[1]=parseInt(e[2],16)*17/255,t[2]=parseInt(e[3],16)*17/255,t;case 6:return t[0]=parseInt(e.substr(0,2),16)/255,t[1]=parseInt(e.substr(2,2),16)/255,t[2]=parseInt(e.substr(4,2),16)/255,t;case 7:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t;case 9:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t[3]=parseInt(e.substr(7,2),16)/255,t;default:return t}}function fQ(e,t){let n,r,[i,a,o]=e,s=1/6,c=i,l=i;a>c?c=a:a<l&&(l=a),o>c?c=o:o<l&&(l=o);let u=c;r=u>0?(c-l)/c:0,r>0?(n=i===c?s*(a-o)/(c-l):a===c?.3333333333333333+s*(o-i)/(c-l):.6666666666666666+s*(i-a)/(c-l),n<0&&(n+=1)):n=0,t[0]=n,t[1]=r,t[2]=u}function pQ(e,t){let[n,r,i]=e,a=1/3,o=1/6,s=2/3,c=5/6,l,u,d;n>o&&n<=a?(u=1,l=(a-n)/o,d=0):n>a&&n<=.5?(u=1,d=(n-a)/o,l=0):n>.5&&n<=s?(d=1,u=(s-n)/o,l=0):n>s&&n<=c?(d=1,l=(n-s)/o,u=0):n>c&&n<=1?(l=1,d=(1-n)/o,u=0):(l=1,u=n/o,d=0),l=r*l+(1-r),u=r*u+(1-r),d=r*d+(1-r),l*=i,u*=i,d*=i,t[0]=l,t[1]=u,t[2]=d}function mQ(e,t){let[n,r,i]=e,a=(n+16)/116,o=r/500+a,s=a-i/200;a**3>.008856?a**=3:a=(a-16/116)/7.787,o**3>.008856?o**=3:o=(o-16/116)/7.787,s**3>.008856?s**=3:s=(s-16/116)/7.787,t[0]=.9505*o,t[1]=1*a,t[2]=1.089*s}function hQ(e,t){let[n,r,i]=e,a=n/.9505,o=r/1,s=i/1.089;a>.008856?a**=1/3:a=7.787*a+16/116,o>.008856?o**=1/3:o=7.787*o+16/116,s>.008856?s**=1/3:s=7.787*s+16/116,t[0]=116*o-16,t[1]=500*(a-o),t[2]=200*(o-s)}function gQ(e,t){let[n,r,i]=e,a=n*3.2406+r*-1.5372+i*-.4986,o=n*-.9689+r*1.8758+i*.0415,s=n*.0557+r*-.204+i*1.057;a>.0031308?a=1.055*a**(1/2.4)-.055:a*=12.92,o>.0031308?o=1.055*o**(1/2.4)-.055:o*=12.92,s>.0031308?s=1.055*s**(1/2.4)-.055:s*=12.92;let c=a;c<o&&(c=o),c<s&&(c=s),c>1&&(a/=c,o/=c,s/=c),a<0&&(a=0),o<0&&(o=0),s<0&&(s=0),t[0]=a,t[1]=o,t[2]=s}function _Q(e,t){let[n,r,i]=e;n>.04045?n=((n+.055)/1.055)**2.4:n/=12.92,r>.04045?r=((r+.055)/1.055)**2.4:r/=12.92,i>.04045?i=((i+.055)/1.055)**2.4:i/=12.92,t[0]=n*.4124+r*.3576+i*.1805,t[1]=n*.2126+r*.7152+i*.0722,t[2]=n*.0193+r*.1192+i*.9505}function vQ(e,t){let n=[0,0,0];_Q(e,n),hQ(n,t)}function yQ(e,t){let n=[0,0,0];mQ(e,n),gQ(n,t)}function bQ(e){return e[0]=1,e[1]=-1,e[2]=1,e[3]=-1,e[4]=1,e[5]=-1,e}function xQ(e){return!(e[1]-e[0]<0)}function SQ(e,t,n){return n[0]=Math.min(e[0],t[0]),n[1]=Math.max(e[0],t[0]),n[2]=Math.min(e[1],t[1]),n[3]=Math.max(e[1],t[1]),n[4]=Math.min(e[2],t[2]),n[5]=Math.max(e[2],t[2]),n}function CQ(e,t,n){return e<t?t:e>n?n:e}function wQ(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,0,0];return r[0]=CQ(e[0],t[0],n[0]),r[1]=CQ(e[1],t[1],n[1]),r[2]=CQ(e[2],t[2],n[2]),r}function TQ(e,t){let n=0;return t[0]!==t[1]&&(n=e<t[0]?t[0]:e>t[1]?t[1]:e,n=(n-t[0])/(t[1]-t[0])),n}var EQ=IX(`GetScalarTypeFittingRange`),DQ=IX(`GetAdjustedScalarRange`);function OQ(e,t){if(!e||!t)return 0;for(let n=0;n<6;n+=2)if(e[n]<t[n]||e[n]>t[n+1]||e[n+1]<t[n]||e[n+1]>t[n+1])return 0;return 1}function kQ(e,t,n){if(!e||!t)return 0;for(let r=0;r<6;r+=2)if(e[r]+n[r/2]<t[r]||e[r]-n[r/2]>t[r+1]||e[r+1]+n[r/2]<t[r]||e[r+1]-n[r/2]>t[r+1])return 0;return 1}function AQ(e,t,n){if(!e||!t||!n)return 0;for(let r=0;r<3;r++)if(e[r]+n[r]<t[2*r]||e[r]-n[r]>t[2*r+1])return 0;return 1}function jQ(e,t,n,r){let i=zX(3),a=zX(3),o=zX(3),s=zX(3),c=zX(3),l=zX(3);for(let r=0;r<3;++r)i[r]=e[r]-t[r],a[r]=t[r]-n[r],o[r]=n[r]-e[r],s[r]=-i[r],c[r]=-a[r],l[r]=-o[r];let u=vZ(s),d=vZ(c),f=vZ(o),p=zX(3);_Z(i,a,p);let m=vZ(p),h=u*d*f/(2*m),g=2*m*m,_=d*d*hZ(i,l)/g,v=f*f*hZ(s,a)/g,y=u*u*hZ(o,c)/g;for(let i=0;i<3;++i)r[i]=_*e[i]+v*t[i]+y*n[i];return h}var Ede=1/0,Dde=-1/0,MQ=e=>!Number.isFinite(e),{isFinite:Ode,isNaN:NQ}=Number,PQ=NQ;function FQ(){return[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE]}function kde(e){let t=-1,n=-1;for(let r=0;r<e.length;r++){let i=Math.abs(e[r]);i>t&&(n=r,t=i)}return n}function IQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,n=Array(t),r=Array(t);for(let e=0;e<t;++e)n[e]=e,r[e]=e;for(let i=t-1;i>0;i--){let a=-1/0,o=0,s=0;for(let c=0;c<=i;++c){let l=n[c];for(let n=0;n<=i;++n){let i=r[n],u=Math.abs(e[l+t*i]);u>a&&(a=u,o=c,s=n)}}[n[i],n[o]]=[n[o],n[i]],[r[i],r[s]]=[r[s],r[i]]}let i=Array(t*t).fill(0);for(let a=0;a<t;++a){let o=n[a]+t*r[a];i[o]=e[o]<0?-1:1}return i}function LQ(e){let t=Math.floor(e*255);return t>15?t.toString(16):`0${t.toString(16)}`}function Ade(e){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:`#`}${e.map(LQ).join(``)}`}function RQ(e){return Math.round(e*255)}function jde(e){return e.length===3?`rgb(${e.map(RQ).join(`, `)})`:`rgba(${RQ(e[0]||0)}, ${RQ(e[1]||0)}, ${RQ(e[2]||0)}, ${e[3]||0})`}var zQ={Pi:BX,ldexp:VX,radiansFromDegrees:HX,degreesFromRadians:UX,round:WX,floor:GX,ceil:KX,ceilLog2:QX,min:qX,max:JX,arrayMin:YX,arrayMax:XX,arrayRange:ZX,isPowerOfTwo:tZ,nearestPowerOfTwo:eZ,factorial:$X,binomial:nZ,beginCombination:rZ,nextCombination:iZ,randomSeed:aZ,getSeed:oZ,random:sZ,gaussian:cZ,add:lZ,subtract:uZ,multiplyScalar:dZ,multiplyScalar2D:fZ,multiplyAccumulate:pZ,multiplyAccumulate2D:mZ,dot:hZ,outer:gZ,cross:_Z,norm:vZ,normalize:yZ,perpendiculars:xZ,projectVector:SZ,projectVector2D:wZ,distance2BetweenPoints:TZ,angleBetweenVectors:EZ,gaussianAmplitude:DZ,gaussianWeight:OZ,dot2D:CZ,outer2D:kZ,norm2D:AZ,normalize2D:jZ,determinant2x2:MZ,LUFactor3x3:NZ,LUSolve3x3:PZ,linearSolve3x3:FZ,multiply3x3_vect3:IZ,multiply3x3_mat3:LZ,multiplyMatrix:RZ,transpose3x3:zZ,invert3x3:BZ,identity3x3:WZ,identity:GZ,isIdentity:KZ,isIdentity3x3:qZ,determinant3x3:VZ,quaternionToMatrix3x3:JZ,areEquals:HZ,areMatricesEqual:UZ,roundNumber:YZ,roundVector:XZ,matrix3x3ToQuaternion:QZ,multiplyQuaternion:$Z,orthogonalize3x3:eQ,diagonalize3x3:tQ,singularValueDecomposition3x3:nQ,solveLinearSystem:aQ,invertMatrix:oQ,luFactorLinearSystem:rQ,luSolveLinearSystem:iQ,estimateMatrixCondition:sQ,jacobi:cQ,jacobiN:ZZ,solveHomogeneousLeastSquares:lQ,solveLeastSquares:uQ,hex2float:dQ,rgb2hsv:fQ,hsv2rgb:pQ,lab2xyz:mQ,xyz2lab:hQ,xyz2rgb:gQ,rgb2xyz:_Q,rgb2lab:vQ,lab2rgb:yQ,uninitializeBounds:bQ,areBoundsInitialized:xQ,computeBoundsFromPoints:SQ,clampValue:CQ,clampVector:wQ,clampAndNormalizeValue:TQ,getScalarTypeFittingRange:EQ,getAdjustedScalarRange:DQ,extentIsWithinOtherExtent:OQ,boundsIsWithinOtherBounds:kQ,pointIsWithinBounds:AQ,solve3PointCircle:jQ,inf:Ede,negInf:Dde,isInf:MQ,isNan:NQ,isNaN:NQ,isFinite:Ode,createUninitializedBounds:FQ,getMajorAxisIndex:kde,getSparseOrthogonalMatrix:IQ,floatToHex2:LQ,floatRGB2HexCode:Ade,float2CssRGBA:jde};function Mde(e,t){t.classHierarchy.push(`vtkImplicitFunction`),e.functionValue=n=>{if(!t.transform)return e.evaluateFunction(n);let r=[];return t.transform.transformPoint(n,r),e.evaluateFunction(r)},e.evaluateFunction=e=>{$.vtkErrorMacro(`not implemented`)}}var Nde={};function BQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Nde,n),$.obj(e,t),$.setGet(e,t,[`transform`]),Mde(e,t)}var Pde={newInstance:$.newInstance(BQ,`vtkImplicitFunction`),extend:BQ},VQ=1e-6,HQ=`coincide`,UQ=`disjoint`;function Fde(e,t,n){return e[0]*(n[0]-t[0])+e[1]*(n[1]-t[1])+e[2]*(n[2]-t[2])}function WQ(e,t,n){let r=n[0]*(e[0]-t[0])+n[1]*(e[1]-t[1])+n[2]*(e[2]-t[2]);return Math.abs(r)}function GQ(e,t,n,r){let i=[];uZ(e,t,i);let a=hZ(n,i);r[0]=e[0]-a*n[0],r[1]=e[1]-a*n[1],r[2]=e[2]-a*n[2]}function KQ(e,t,n){let r=hZ(e,t),i=hZ(t,t);return i===0&&(i=1),n[0]=e[0]-r*t[0]/i,n[1]=e[1]-r*t[1]/i,n[2]=e[2]-r*t[2]/i,n}function qQ(e,t,n,r){let i=[];uZ(e,t,i);let a=hZ(n,i),o=hZ(n,n);o===0?(r[0]=e[0],r[1]=e[1],r[2]=e[2]):(r[0]=e[0]-a*n[0]/o,r[1]=e[1]-a*n[1]/o,r[2]=e[2]-a*n[2]/o)}function JQ(e,t,n,r){let i={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},a=[],o=[];uZ(t,e,a),uZ(n,e,o);let s=hZ(r,o),c=hZ(r,a),l,u;return l=c<0?-c:c,u=s<0?-s*VQ:s*VQ,l<=u?i:(i.t=s/c,i.x[0]=e[0]+i.t*a[0],i.x[1]=e[1]+i.t*a[1],i.x[2]=e[2]+i.t*a[2],i.intersection=!0,i.betweenPoints=i.t>=0&&i.t<=1,i)}function YQ(e,t,n,r){let i={intersection:!1,l0:[],l1:[],error:null},a=[];_Z(t,r,a);let o=a.map(e=>Math.abs(e));if(o[0]+o[1]+o[2]<VQ){let r=[];return uZ(e,n,r),hZ(t,r)===0?i.error=HQ:i.error=UQ,i}let s;s=o[0]>o[1]&&o[0]>o[2]?`x`:o[1]>o[2]?`y`:`z`;let c=[],l=-hZ(t,e),u=-hZ(r,n);switch(s){case`x`:c[0]=0,c[1]=(u*t[2]-l*r[2])/a[0],c[2]=(l*r[1]-u*t[1])/a[0];break;case`y`:c[0]=(l*r[2]-u*t[2])/a[1],c[1]=0,c[2]=(u*t[0]-l*r[0])/a[1];break;case`z`:c[0]=(u*t[1]-l*r[1])/a[2],c[1]=(l*r[0]-u*t[0])/a[2],c[2]=0;break}return i.l0=c,lZ(c,a,i.l1),i.intersection=!0,i}var Ide={evaluate:Fde,distanceToPlane:WQ,projectPoint:GQ,projectVector:KQ,generalizedProjectPoint:qQ,intersectWithLine:JQ,intersectWithPlane:YQ,DISJOINT:UQ,COINCIDE:HQ};function Lde(e,t){t.classHierarchy.push(`vtkPlane`),e.distanceToPlane=e=>WQ(e,t.origin,t.normal),e.projectPoint=(e,n)=>{GQ(e,t.origin,t.normal,n)},e.projectVector=(e,n)=>KQ(e,t.normal,n),e.push=e=>{if(e!==0)for(let n=0;n<3;n++)t.origin[n]+=e*t.normal[n]},e.generalizedProjectPoint=(e,n)=>{qQ(e,t.origin,t.normal,n)},e.evaluateFunction=(e,n,r)=>Array.isArray(e)?t.normal[0]*(e[0]-t.origin[0])+t.normal[1]*(e[1]-t.origin[1])+t.normal[2]*(e[2]-t.origin[2]):t.normal[0]*(e-t.origin[0])+t.normal[1]*(n-t.origin[1])+t.normal[2]*(r-t.origin[2]),e.evaluateGradient=e=>[t.normal[0],t.normal[1],t.normal[2]],e.intersectWithLine=(e,n)=>JQ(e,n,t.origin,t.normal),e.intersectWithPlane=(e,n)=>YQ(e,n,t.origin,t.normal)}var Rde={normal:[0,0,1],origin:[0,0,0]};function XQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Rde,n),Pde.extend(e,t,n),$.setGetArray(e,t,[`normal`,`origin`],3),Lde(e,t)}var ZQ={newInstance:$.newInstance(XQ,`vtkPlane`),extend:XQ,...Ide},QQ=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function $Q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function e$(e){return e?.length>=6&&e[0]<=e[1]&&e[2]<=e[3]&&e[4]<=e[5]}function t$(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function n$(e){return t$(e,QQ)}function r$(e,t,n,r){let[i,a,o,s,c,l]=e;return e[0]=i<t?i:t,e[1]=a>t?a:t,e[2]=o<n?o:n,e[3]=s>n?s:n,e[4]=c<r?c:r,e[5]=l>r?l:r,e}function i$(e,t){if(t.length===0)return e;if(Array.isArray(t[0]))for(let n=0;n<t.length;++n)r$(e,...t[n]);else for(let n=0;n<t.length;n+=3)r$(e,...t.slice(n,n+3));return e}function a$(e,t,n,r,i,a,o){let[s,c,l,u,d,f]=e;return o===void 0?(e[0]=Math.min(t[0],s),e[1]=Math.max(t[1],c),e[2]=Math.min(t[2],l),e[3]=Math.max(t[3],u),e[4]=Math.min(t[4],d),e[5]=Math.max(t[5],f)):(e[0]=Math.min(t,s),e[1]=Math.max(n,c),e[2]=Math.min(r,l),e[3]=Math.max(i,u),e[4]=Math.min(a,d),e[5]=Math.max(o,f)),e}function o$(e,t,n,r){let[i,a,o,s,c,l]=e;return e[0]=t,e[1]=t>a?t:a,e[2]=n,e[3]=n>s?n:s,e[4]=r,e[5]=r>l?r:l,i!==t||o!==n||c!==r}function s$(e,t,n,r){let[i,a,o,s,c,l]=e;return e[0]=t<i?t:i,e[1]=t,e[2]=n<o?n:o,e[3]=n,e[4]=r<c?r:c,e[5]=r,a!==t||s!==n||l!==r}function c$(e,t){return t==null?zde(e):(e[0]-=t,e[1]+=t,e[2]-=t,e[3]+=t,e[4]-=t,e[5]+=t,e)}function zde(e){let t=[0,0,0],n=-1,r=0,i=0;for(let a=0;a<3;++a)i=e[a*2+1]-e[a*2],i>r&&(r=i,n=a),t[a]=i>0?1:0;if(n<0)return c$(e,.5);for(let n=0;n<3;++n)if(!t[n]){let t=.005*r;e[n*2]-=t,e[n*2+1]+=t}return e}function l$(e,t,n,r){return e$(e)?(t>=0?(e[0]*=t,e[1]*=t):(e[0]=t*e[1],e[1]=t*e[0]),n>=0?(e[2]*=n,e[3]*=n):(e[2]=n*e[3],e[3]=n*e[2]),r>=0?(e[4]*=r,e[5]*=r):(e[4]=r*e[5],e[5]=r*e[4]),!0):!1}function u$(e){return[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])]}function Bde(e,t,n,r){if(!e$(e))return!1;let i=u$(e);return e[0]-=i[0],e[1]-=i[0],e[2]-=i[1],e[3]-=i[1],e[4]-=i[2],e[5]-=i[2],l$(e,t,n,r),e[0]+=i[0],e[1]+=i[0],e[2]+=i[1],e[3]+=i[1],e[4]+=i[2],e[5]+=i[2],!0}function d$(e,t){return e[t*2+1]-e[t*2]}function f$(e){return[d$(e,0),d$(e,1),d$(e,2)]}function p$(e){return e.slice(0,2)}function m$(e){return e.slice(2,4)}function h$(e){return e.slice(4,6)}function g$(e){let t=f$(e);return t[0]>t[1]?t[0]>t[2]?t[0]:t[2]:t[1]>t[2]?t[1]:t[2]}function _$(e){if(e$(e)){let t=f$(e);return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}return null}function v$(e){let t=_$(e);return t===null?null:Math.sqrt(t)}function y$(e){return[e[0],e[2],e[4]]}function b$(e){return[e[1],e[3],e[5]]}function x$(e,t){return e<=0&&t>=0||e>=0&&t<=0}function S$(e,t){return t[0]=[e[0],e[2],e[4]],t[1]=[e[0],e[2],e[5]],t[2]=[e[0],e[3],e[4]],t[3]=[e[0],e[3],e[5]],t[4]=[e[1],e[2],e[4]],t[5]=[e[1],e[2],e[5]],t[6]=[e[1],e[3],e[4]],t[7]=[e[1],e[3],e[5]],t}function C$(e,t,n){return t[0]=e[0],t[1]=e[2],t[2]=e[4],n[0]=e[1],n[1]=e[3],n[2]=e[5],t}function w$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=S$(e,[]);for(let e=0;e<r.length;++e)UG(r[e],r[e],t);return n$(n),i$(n,r)}function T$(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t[0]=.5*(e[1]-e[0]),t[1]=.5*(e[3]-e[2]),t[2]=.5*(e[5]-e[4]),t}function E$(e,t,n,r){let i=[].concat(QQ),a=e.getData();for(let e=0;e<a.length;e+=3){let o=[a[e],a[e+1],a[e+2]],s=hZ(o,t);i[0]=Math.min(s,i[0]),i[1]=Math.max(s,i[1]);let c=hZ(o,n);i[2]=Math.min(c,i[2]),i[3]=Math.max(c,i[3]);let l=hZ(o,r);i[4]=Math.min(l,i[4]),i[5]=Math.max(l,i[5])}return i}function D$(e,t,n,r,i){let a=!0,o=[],s=0,c=[],l=[0,0,0];for(let n=0;n<3;n++)t[n]<e[2*n]?(o[n]=1,l[n]=e[2*n],a=!1):t[n]>e[2*n+1]?(o[n]=0,l[n]=e[2*n+1],a=!1):o[n]=2;if(a)return r[0]=t[0],r[1]=t[1],r[2]=t[2],i[0]=0,1;for(let e=0;e<3;e++)o[e]!==2&&n[e]!==0?c[e]=(l[e]-t[e])/n[e]:c[e]=-1;for(let e=0;e<3;e++)c[s]<c[e]&&(s=e);if(c[s]>1||c[s]<0)return 0;i[0]=c[s];for(let i=0;i<3;i++)if(s!==i){if(r[i]=t[i]+c[s]*n[i],r[i]<e[2*i]||r[i]>e[2*i+1])return 0}else r[i]=l[i];return 1}function O$(e,t,n){let r=[],i=0,a=1,o=1;for(let s=4;s<=5;++s){r[2]=e[s];for(let s=2;s<=3;++s){r[1]=e[s];for(let s=0;s<=1;++s)if(r[0]=e[s],i=ZQ.evaluate(n,t,r),o&&=(a=i>=0?1:-1,0),i===0||a>0&&i<0||a<0&&i>0)return 1}}return 0}function k$(e,t){if(!(e$(e)&&e$(t)))return!1;let n=[0,0,0,0,0,0],r;for(let i=0;i<3;i++)if(r=!1,t[i*2]>=e[i*2]&&t[i*2]<=e[i*2+1]?(r=!0,n[i*2]=t[i*2]):e[i*2]>=t[i*2]&&e[i*2]<=t[i*2+1]&&(r=!0,n[i*2]=e[i*2]),t[i*2+1]>=e[i*2]&&t[i*2+1]<=e[i*2+1]?(r=!0,n[i*2+1]=t[2*i+1]):e[i*2+1]>=t[i*2]&&e[i*2+1]<=t[i*2+1]&&(r=!0,n[i*2+1]=e[i*2+1]),!r)return!1;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],!0}function A$(e,t){if(!(e$(e)&&e$(t)))return!1;for(let n=0;n<3;n++)if(!(t[n*2]>=e[n*2]&&t[n*2]<=e[n*2+1])&&!(e[n*2]>=t[n*2]&&e[n*2]<=t[n*2+1])&&!(t[n*2+1]>=e[n*2]&&t[n*2+1]<=e[n*2+1])&&!(e[n*2+1]>=t[n*2]&&e[n*2+1]<=t[n*2+1]))return!1;return!0}function j$(e,t,n,r){return!(t<e[0]||t>e[1]||n<e[2]||n>e[3]||r<e[4]||r>e[5])}function Vde(e,t){return!(!A$(e,t)||!j$(e,...y$(t))||!j$(e,...b$(t)))}function M$(e,t,n){let r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],i=[0,0,0,0,0,0,0,0],a=0;for(let r=0;r<2;r++)for(let o=2;o<4;o++)for(let s=4;s<6;s++){let c=[e[r],e[o],e[s]];i[a++]=ZQ.evaluate(n,t,c)}let o=2;for(;o--&&!(x$(i[r[o][0]],i[r[o][4]])&&x$(i[r[o][1]],i[r[o][5]])&&x$(i[r[o][2]],i[r[o][6]])&&x$(i[r[o][3]],i[r[o][7]])););if(o<0)return!1;let s=Math.sign(n[o]),c=Math.abs((e[o*2+1]-e[o*2])*n[o]),l=s>0?1:0;for(let e=0;e<4;e++){if(c===0)continue;let t=Math.abs(i[r[o][e]])/c;s>0&&t<l&&(l=t),s<0&&t>l&&(l=t)}let u=(1-l)*e[o*2]+l*e[o*2+1];return s>0?e[o*2]=u:e[o*2+1]=u,!0}function N$(e,t){for(let e=0;e<3;++e)t[e]=t[e]<1?1:t[e];let n=t[0]*t[1]*t[2];for(;n>e;){for(let e=0;e<3;++e)t[e]=t[e]>1?t[e]-1:1;n=t[0]*t[1]*t[2]}}function P$(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];t=t<=0?1:t;let i=0,a=[0,0,0],o=-1,s=0,c=f$(e),l=c[0]+c[1]+c[2],u=l*(.001/3);for(let e=0;e<3;++e)c[e]>s&&(o=e,s=c[e]),c[e]>u?(a[e]=1,i++):a[e]=0;let d=y$(e),f=b$(e);if(i<1)return n[0]=1,n[1]=1,n[2]=1,r[0]=d[0]-.5,r[1]=f[0]+.5,r[2]=d[1]-.5,r[3]=f[1]+.5,r[4]=d[2]-.5,r[5]=f[2]+.5,1;let p=t;p/=a[0]?c[0]/l:1,p/=a[1]?c[1]/l:1,p/=a[2]?c[2]/l:1,p**=1/i;for(let e=0;e<3;++e)n[e]=a[e]?Math.floor(p*c[e]/l):1,n[e]=n[e]<1?1:n[e];N$(t,n);let m=.5*c[o]/n[o];for(let e=0;e<3;++e)a[e]?(r[2*e]=d[e],r[2*e+1]=f[e]):(r[2*e]=d[e]-m,r[2*e+1]=f[e]+m);return n[0]*n[1]*n[2]}function F$(e,t){if(e[0]>=t[0]&&e[0]<=t[1]&&e[1]>=t[2]&&e[1]<=t[3]&&e[2]>=t[4]&&e[2]<=t[5])return 0;let n=[0,0,0];return e[0]<t[0]?n[0]=t[0]-e[0]:e[0]>t[1]&&(n[0]=e[0]-t[1]),e[1]<t[2]?n[1]=t[2]-e[1]:e[1]>t[3]&&(n[1]=e[1]-t[3]),e[2]<t[4]?n[2]=t[4]-e[2]:e[2]>t[5]&&(n[2]=e[2]-t[5]),hZ(n,n)}var Hde=class{constructor(e){this.bounds=e,this.bounds||=new Float64Array(QQ)}getBounds(){return this.bounds}equals(e){return $Q(this.bounds,e)}isValid(){return e$(this.bounds)}setBounds(e){return t$(this.bounds,e)}reset(){return n$(this.bounds)}addPoint(){var e=[...arguments];return r$(this.bounds,...e)}addPoints(e){return i$(this.bounds,e)}addBounds(e,t,n,r,i,a){return a$(this.bounds,e,t,n,r,i,a)}setMinPoint(e,t,n){return o$(this.bounds,e,t,n)}setMaxPoint(e,t,n){return s$(this.bounds,e,t,n)}inflate(e){return c$(this.bounds,e)}scale(e,t,n){return l$(this.bounds,e,t,n)}getCenter(){return u$(this.bounds)}getLength(e){return d$(this.bounds,e)}getLengths(){return f$(this.bounds)}getMaxLength(){return g$(this.bounds)}getDiagonalLength(){return v$(this.bounds)}getDiagonalLength2(){return _$(this.bounds)}getMinPoint(){return y$(this.bounds)}getMaxPoint(){return b$(this.bounds)}getXRange(){return p$(this.bounds)}getYRange(){return m$(this.bounds)}getZRange(){return h$(this.bounds)}getCorners(e){return S$(this.bounds,e)}computeCornerPoints(e,t){return C$(this.bounds,e,t)}computeLocalBounds(e,t,n){return E$(this.bounds,e,t,n)}transformBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return w$(this.bounds,e,t)}computeScale3(e){return T$(this.bounds,e)}cutWithPlane(e,t){return M$(this.bounds,e,t)}intersectBox(e,t,n,r){return D$(this.bounds,e,t,n,r)}intersectPlane(e,t){return O$(this.bounds,e,t)}intersect(e){return k$(this.bounds,e)}intersects(e){return A$(this.bounds,e)}containsPoint(e,t,n){return j$(this.bounds,e,t,n)}contains(e){return A$(this.bounds,e)}computeDivisions(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return P$(this.bounds,e,t,n)}distance2ToBounds(e){return F$(e,this.bounds)}};function Ude(e){return new Hde(e&&e.bounds)}var I$={newInstance:Ude,equals:$Q,isValid:e$,setBounds:t$,reset:n$,addPoint:r$,addPoints:i$,addBounds:a$,setMinPoint:o$,setMaxPoint:s$,inflate:c$,scale:l$,scaleAboutCenter:Bde,getCenter:u$,getLength:d$,getLengths:f$,getMaxLength:g$,getDiagonalLength:v$,getDiagonalLength2:_$,getMinPoint:y$,getMaxPoint:b$,getXRange:p$,getYRange:m$,getZRange:h$,getCorners:S$,computeCornerPoints:C$,computeLocalBounds:E$,transformBounds:w$,computeScale3:T$,cutWithPlane:M$,intersectBox:D$,intersectPlane:O$,intersect:k$,intersects:A$,containsPoint:j$,contains:Vde,computeDivisions:P$,clampDivisions:N$,distance2ToBounds:F$,INIT_BOUNDS:QQ},L$={CoordinateSystem:{DISPLAY:0,WORLD:1}},{CoordinateSystem:R$}=L$;function z$(e){return()=>$.vtkErrorMacro(`vtkProp::${e} - NOT IMPLEMENTED`)}function Wde(e,t){t.classHierarchy.push(`vtkProp`),e.getMTime=()=>{let e=t.mtime;for(let n=0;n<t.textures.length;++n){let r=t.textures[n].getMTime();r>e&&(e=r)}return e},e.processSelectorPixelBuffers=(e,t)=>{},e.getNestedProps=()=>null,e.getActors=()=>[],e.getActors2D=()=>[],e.getVolumes=()=>[],e.pick=z$(`pick`),e.hasKey=z$(`hasKey`),e.getNestedVisibility=()=>t.visibility&&(!t._parentProp||t._parentProp.getNestedVisibility()),e.getNestedPickable=()=>t.pickable&&(!t._parentProp||t._parentProp.getNestedPickable()),e.getNestedDragable=()=>t.dragable&&(!t._parentProp||t._parentProp.getNestedDragable()),e.getRedrawMTime=()=>t.mtime,e.setEstimatedRenderTime=e=>{t.estimatedRenderTime=e,t.savedEstimatedRenderTime=e},e.restoreEstimatedRenderTime=()=>{t.estimatedRenderTime=t.savedEstimatedRenderTime},e.addEstimatedRenderTime=e=>{t.estimatedRenderTime+=e},e.setAllocatedRenderTime=e=>{t.allocatedRenderTime=e,t.savedEstimatedRenderTime=t.estimatedRenderTime,t.estimatedRenderTime=0},e.getSupportsSelection=()=>!1,e.getTextures=()=>t.textures,e.hasTexture=e=>t.textures.indexOf(e)!==-1,e.addTexture=n=>{n&&!e.hasTexture(n)&&(t.textures=t.textures.concat(n),e.modified())},e.removeTexture=n=>{let r=t.textures.filter(e=>e!==n);t.textures.length!==r.length&&(t.textures=r,e.modified())},e.removeAllTextures=()=>{t.textures=[],e.modified()},e.setCoordinateSystemToWorld=()=>e.setCoordinateSystem(R$.WORLD),e.setCoordinateSystemToDisplay=()=>e.setCoordinateSystem(R$.DISPLAY)}var Gde={allocatedRenderTime:10,coordinateSystem:R$.WORLD,dragable:!0,estimatedRenderTime:0,paths:null,pickable:!0,renderTimeMultiplier:1,savedEstimatedRenderTime:0,textures:[],useBounds:!0,visibility:!0};function B$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Gde,n),$.obj(e,t),$.get(e,t,[`estimatedRenderTime`,`allocatedRenderTime`]),$.setGet(e,t,[`_parentProp`,`coordinateSystem`,`dragable`,`pickable`,`renderTimeMultiplier`,`useBounds`,`visibility`]),$.moveToProtected(e,t,[`parentProp`]),Wde(e,t)}var V$={newInstance:$.newInstance(B$,`vtkProp`),extend:B$,...L$},Kde=1e-6;function qde(e,t){t.classHierarchy.push(`vtkProp3D`),e.addPosition=n=>{t.position=t.position.map((e,t)=>e+n[t]),e.modified()},e.getOrientationWXYZ=()=>{let e=rK();iG(e,t.rotation);let n=new Float64Array(3);return[UX(aK(n,e)),n[0],n[1],n[2]]},e.getOrientationQuaternion=function(){return iG(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t.rotation)},e.rotateX=n=>{n!==0&&(GW(t.rotation,t.rotation,HX(n)),e.modified())},e.rotateY=n=>{n!==0&&(KW(t.rotation,t.rotation,HX(n)),e.modified())},e.rotateZ=n=>{n!==0&&(qW(t.rotation,t.rotation,HX(n)),e.modified())},e.rotateWXYZ=(n,r,i,a)=>{if(n===0||r===0&&i===0&&a===0)return;let o=HX(n),s=rK();iK(s,[r,i,a],o);let c=new Float64Array(16);sG(c,s),VW(t.rotation,t.rotation,c),e.modified()},e.rotateQuaternion=n=>{if(Math.abs(n[3])>=1-Kde)return;let r=sG(new Float64Array(16),n);VW(t.rotation,t.rotation,r),e.modified()},e.setOrientation=(n,r,i)=>n===t.orientation[0]&&r===t.orientation[1]&&i===t.orientation[2]?!1:(t.orientation=[n,r,i],IW(t.rotation),e.rotateZ(i),e.rotateX(n),e.rotateY(r),e.modified(),!0),e.setOrientationFromQuaternion=n=>{let r=jW();return sG(r,n),UZ(r,t.rotation)?!1:(t.rotation=r,e.modified(),!0)},e.setUserMatrix=n=>UZ(t.userMatrix,n)?!1:(NW(t.userMatrix,n),e.modified(),!0),e.getMatrix=()=>(e.computeMatrix(),t.matrix),e.computeMatrix=()=>{if(e.getMTime()>t.matrixMTime.getMTime()){IW(t.matrix),t.userMatrix&&VW(t.matrix,t.matrix,t.userMatrix),HW(t.matrix,t.matrix,t.origin),HW(t.matrix,t.matrix,t.position),VW(t.matrix,t.matrix,t.rotation),UW(t.matrix,t.matrix,t.scale),HW(t.matrix,t.matrix,[-t.origin[0],-t.origin[1],-t.origin[2]]),LW(t.matrix,t.matrix),t.isIdentity=!0;for(let e=0;e<4;++e)for(let n=0;n<4;++n)(e===n?1:0)!==t.matrix[e+n*4]&&(t.isIdentity=!1);t.matrixMTime.modified()}},e.getBoundsByReference=()=>{if(t.mapper===null)return t.bounds;let n=t.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return t.mapperBounds=n,t.bounds=[...I$.INIT_BOUNDS],t.boundsMTime.modified(),n;if(!t.mapperBounds||!n.every((e,r)=>n[r]===t.mapperBounds[r])||e.getMTime()>t.boundsMTime.getMTime()){$.vtkDebugMacro(`Recomputing bounds...`),t.mapperBounds=n,e.computeMatrix();let r=new Float64Array(16);LW(r,t.matrix),I$.transformBounds(n,r,t.bounds),t.boundsMTime.modified()}return t.bounds},e.getBounds=()=>{let t=e.getBoundsByReference();try{return[...t]}catch{return t}},e.getCenter=()=>I$.getCenter(t.bounds),e.getLength=()=>I$.getLength(t.bounds),e.getXRange=()=>I$.getXRange(t.bounds),e.getYRange=()=>I$.getYRange(t.bounds),e.getZRange=()=>I$.getZRange(t.bounds),e.getUserMatrix=()=>t.userMatrix;function n(){e.computeMatrix()}e.onModified(n),e.getProperty=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.properties[n]??(t.properties[n]=e.makeProperty?.()),t.properties[n]},e.getProperties=()=>(t.properties.length===0&&(t.properties[0]=e.makeProperty?.()),t.properties),e.setProperty=(e,n)=>{let[r,i]=Number.isInteger(e)?[e,n]:[0,e];return t.properties[r]===i?!1:(t.properties[r]=i,!0)},e.getMTime=()=>{let e=t.mtime;return t.properties.forEach(t=>{if(t!==null){let n=t.getMTime();e=n>e?n:e}}),e}}var Jde={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[...I$.INIT_BOUNDS],properties:[],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function H$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Jde,n),V$.extend(e,t,n),t.matrixMTime={},$.obj(t.matrixMTime),$.get(e,t,[`isIdentity`]),$.getArray(e,t,[`orientation`]),$.setGetArray(e,t,[`origin`,`position`,`scale`],3),$.setGet(e,t,[`properties`]),t.matrix=IW(new Float64Array(16)),t.rotation=IW(new Float64Array(16)),t.userMatrix=IW(new Float64Array(16)),t.transform=null,qde(e,t)}var U$={newInstance:$.newInstance(H$,`vtkProp3D`),extend:H$},W$={FLAT:0,GOURAUD:1,PHONG:2},G$={POINTS:0,WIREFRAME:1,SURFACE:2},K$={Shading:W$,Representation:G$,Interpolation:W$},{Representation:q$,Interpolation:J$}=K$;function Y$(e){return()=>$.vtkErrorMacro(`vtkProperty::${e} - NOT IMPLEMENTED`)}function Yde(e,t){t.classHierarchy.push(`vtkProperty`),e.setColor=(n,r,i)=>{Array.isArray(n)?(t.color[0]!==n[0]||t.color[1]!==n[1]||t.color[2]!==n[2])&&(t.color[0]=n[0],t.color[1]=n[1],t.color[2]=n[2],e.modified()):(t.color[0]!==n||t.color[1]!==r||t.color[2]!==i)&&(t.color[0]=n,t.color[1]=r,t.color[2]=i,e.modified()),e.setDiffuseColor(t.color),e.setAmbientColor(t.color),e.setSpecularColor(t.color)},e.computeCompositeColor=Y$(`ComputeCompositeColor`),e.getColor=()=>{let e=0;t.ambient+t.diffuse+t.specular>0&&(e=1/(t.ambient+t.diffuse+t.specular));for(let n=0;n<3;n++)t.color[n]=e*(t.ambient*t.ambientColor[n]+t.diffuse*t.diffuseColor[n]+t.specular*t.specularColor[n]);return[].concat(t.color)},e.setSpecularPower=n=>{let r=1/Math.max(1,n);(t.roughness!==r||t.specularPower!==n)&&(t.specularPower=n,t.roughness=r,e.modified())},e.addShaderVariable=Y$(`AddShaderVariable`),e.setInterpolationToFlat=()=>e.setInterpolation(J$.FLAT),e.setInterpolationToGouraud=()=>e.setInterpolation(J$.GOURAUD),e.setInterpolationToPhong=()=>e.setInterpolation(J$.PHONG),e.getInterpolationAsString=()=>$.enumToString(J$,t.interpolation),e.setRepresentationToWireframe=()=>e.setRepresentation(q$.WIREFRAME),e.setRepresentationToSurface=()=>e.setRepresentation(q$.SURFACE),e.setRepresentationToPoints=()=>e.setRepresentation(q$.POINTS),e.getRepresentationAsString=()=>$.enumToString(q$,t.representation)}var Xde={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,metallic:0,roughness:.6,normalStrength:1,emission:1,baseIOR:1.45,specular:0,specularPower:1,opacity:1,interpolation:J$.GOURAUD,representation:q$.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null,ORMTexture:null,RMTexture:null};function X$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Xde,n),$.obj(e,t),$.setGet(e,t,`lighting.interpolation.ambient.diffuse.metallic.roughness.normalStrength.emission.baseIOR.specular.specularPower.opacity.edgeVisibility.lineWidth.pointSize.backfaceCulling.frontfaceCulling.representation.diffuseTexture.metallicTexture.roughnessTexture.normalTexture.ambientOcclusionTexture.emissionTexture.ORMTexture.RMTexture`.split(`.`)),$.setGetArray(e,t,[`ambientColor`,`specularColor`,`diffuseColor`,`edgeColor`],3),Yde(e,t)}var Z$={newInstance:$.newInstance(X$,`vtkProperty`),extend:X$,...K$};function Zde(e,t){t.classHierarchy.push(`vtkActor`);let n={...e};e.getActors=()=>[e],e.getIsOpaque=()=>{if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.properties[0]||e.getProperty();let n=t.properties[0].getOpacity()>=1;return n&&=!t.texture||!t.texture.isTranslucent(),n&&=!t.mapper||t.mapper.getIsOpaque(),n},e.hasTranslucentPolygonalGeometry=()=>t.mapper===null?!1:(t.properties[0]||e.getProperty(),!e.getIsOpaque()),e.makeProperty=Z$.newInstance,e.getMTime=()=>{let e=n.getMTime();if(t.backfaceProperty!==null){let n=t.backfaceProperty.getMTime();e=n>e?n:e}return e},e.getRedrawMTime=()=>{let e=t.mtime;if(t.mapper!==null){let n=t.mapper.getMTime();e=n>e?n:e,t.mapper.getInput()!==null&&(t.mapper.getInputAlgorithm().update(),n=t.mapper.getInput().getMTime(),e=n>e?n:e)}return e},e.getSupportsSelection=()=>t.mapper?t.mapper.getSupportsSelection():!1,e.processSelectorPixelBuffers=(e,n)=>{t.mapper&&t.mapper.processSelectorPixelBuffers&&t.mapper.processSelectorPixelBuffers(e,n)}}var Qde={mapper:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1};function Q$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Qde,n),U$.extend(e,t,n),t.boundsMTime={},$.obj(t.boundsMTime),$.setGet(e,t,[`backfaceProperty`,`forceOpaque`,`forceTranslucent`,`mapper`]),Zde(e,t)}var $$={newInstance:$.newInstance(Q$,`vtkActor`),extend:Q$},e1={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},t1={VOID:``,CHAR:`Int8Array`,SIGNED_CHAR:`Int8Array`,UNSIGNED_CHAR:`Uint8Array`,UNSIGNED_CHAR_CLAMPED:`Uint8ClampedArray`,SHORT:`Int16Array`,UNSIGNED_SHORT:`Uint16Array`,INT:`Int32Array`,UNSIGNED_INT:`Uint32Array`,FLOAT:`Float32Array`,DOUBLE:`Float64Array`},n1={DefaultDataType:t1.FLOAT,DataTypeByteSize:e1,VtkDataTypes:t1},{vtkErrorMacro:$de}=Bq,{DefaultDataType:efe}=n1,tfe=1e-6;function r1(e,t,n){let r=e.length,i=Number.MAX_VALUE,a=-Number.MAX_VALUE,o,s;for(s=t;s<r;s+=n)if(!Number.isNaN(e[s])){i=e[s],a=i;break}for(;s<r;s+=n)o=e[s],o<i?i=o:o>a&&(a=o);return{min:i,max:a}}function nfe(){let e=Number.MAX_VALUE,t=-Number.MAX_VALUE,n=0,r=0;return{add(i){e>i&&(e=i),t<i&&(t=i),n++,r+=i},get(){return{min:e,max:t,count:n,sum:r,mean:r/n}},getRange(){return{min:e,max:t}}}}function i1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t<0&&n>1){let t=e.length/n,r=new Float64Array(t);for(let i=0,a=0;i<t;++i){for(let t=a+n;a<t;++a)r[i]+=e[a]*e[a];r[i]**=.5}return r1(r,0,1)}return r1(e,t<0?0:t,n)}function a1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e||[];for(;n.length<=t;)n.push(null);return n}function o1(e){return Object.prototype.toString.call(e).slice(8,-1)}function rfe(e){let t=e.getNumberOfComponents(),n=0,r=Array(t);for(let i=0;i<e.getNumberOfTuples();++i){e.getTuple(i,r);let a=vZ(r,t);a>n&&(n=a)}return n}var ife={computeRange:i1,createRangeHelper:nfe,fastComputeRange:r1,getDataType:o1,getMaxNorm:rfe};function afe(e,t){t.classHierarchy.push(`vtkDataArray`);function n(n){if(n<0)return!1;let r=e.getNumberOfComponents(),i=t.values.length/(r>0?r:1);if(n===i)return!0;if(n>i){let e=t.values;return t.values=XK(t.dataType,(n+i)*r),t.values.set(e),!0}return t.size>n*r&&(t.size=n*r,e.dataChange()),!0}e.dataChange=()=>{t.ranges=null,e.modified()},e.allocate=t=>{n(e.getNumberOfTuples()+t)},e.resize=r=>{n(r);let i=r*e.getNumberOfComponents();return t.size===i?!1:(t.size=i,e.dataChange(),!0)},e.initialize=()=>(e.resize(0),e),e.getElementComponentSize=()=>t.values.BYTES_PER_ELEMENT,e.getComponent=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=(n,r,i)=>{i!==t.values[n*t.numberOfComponents+r]&&(t.values[n*t.numberOfComponents+r]=i,e.dataChange())},e.getValue=n=>{let r=n/t.numberOfComponents,i=n%t.numberOfComponents;return e.getComponent(r,i)},e.setValue=(n,r)=>{let i=n/t.numberOfComponents,a=n%t.numberOfComponents;e.setComponent(i,a,r)},e.getData=()=>t.size===t.values.length?t.values:t.values.subarray(0,t.size),e.getRange=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,r=n;r<0&&(r=t.numberOfComponents===1?0:t.numberOfComponents);let i=null;return t.ranges||=a1(t.ranges,t.numberOfComponents),i=t.ranges[r],i?(t.rangeTuple[0]=i.min,t.rangeTuple[1]=i.max,t.rangeTuple):(i=i1(e.getData(),n,t.numberOfComponents),t.ranges[r]=i,t.rangeTuple[0]=i.min,t.rangeTuple[1]=i.max,t.rangeTuple)},e.setRange=(e,n)=>{t.ranges||=a1(t.ranges,t.numberOfComponents);let r={min:e.min,max:e.max};return t.ranges[n]=r,t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple},e.getRanges=function(){if(!(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0]))return structuredClone(t.ranges);let n=[];for(let r=0;r<t.numberOfComponents;r++){let[t,i]=e.getRange(r),a={min:t,max:i};n.push(a)}if(t.numberOfComponents>1){let[t,r]=e.getRange(-1),i={min:t,max:r};n.push(i)}return n},e.setTuple=(e,n)=>{let r=e*t.numberOfComponents;for(let e=0;e<t.numberOfComponents;e++)t.values[r+e]=n[e]},e.setTuples=(e,n)=>{let r=e*t.numberOfComponents,i=Math.min(n.length,t.size-r);for(let e=0;e<i;)t.values[r++]=n[e++]},e.insertTuple=(r,i)=>(t.size<=r*t.numberOfComponents&&(t.size=(r+1)*t.numberOfComponents,n(r+1)),e.setTuple(r,i),r),e.insertTuples=(r,i)=>{let a=r+i.length/t.numberOfComponents;return t.size<a*t.numberOfComponents&&(t.size=a*t.numberOfComponents,n(a)),e.setTuples(r,i),a},e.insertNextTuple=n=>{let r=t.size/t.numberOfComponents;return e.insertTuple(r,n)},e.insertNextTuples=n=>{let r=t.size/t.numberOfComponents;return e.insertTuples(r,n)},e.findTuple=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tfe;for(let r=0;r<t.size;r+=t.numberOfComponents)if(Math.abs(e[0]-t.values[r])<=n){let i=!0;for(let a=1;a<t.numberOfComponents;++a)if(Math.abs(e[a]-t.values[r+a])>n){i=!1;break}if(i)return r/t.numberOfComponents}return-1},e.getTuple=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.numberOfComponents||1,i=e*r;switch(r){case 4:n[3]=t.values[i+3];case 3:n[2]=t.values[i+2];case 2:n[1]=t.values[i+1];case 1:n[0]=t.values[i];break;default:for(let e=r-1;e>=0;--e)n[e]=t.values[i+e]}return n},e.getTuples=(n,r)=>{let i=(n??0)*t.numberOfComponents,a=(r??e.getNumberOfTuples())*t.numberOfComponents,o=e.getData().subarray(i,a);return o.length>0?o:null},e.getTupleLocation=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*t.numberOfComponents},e.getNumberOfComponents=()=>t.numberOfComponents,e.getNumberOfValues=()=>t.size,e.getNumberOfTuples=()=>t.size/t.numberOfComponents,e.getDataType=()=>t.dataType,e.newClone=()=>c1({empty:!0,name:t.name,dataType:t.dataType,numberOfComponents:t.numberOfComponents}),e.getName=()=>(t.name||=(e.modified(),`vtkDataArray${e.getMTime()}`),t.name),e.setData=(n,r)=>{t.values=n,t.size=n.length,t.dataType=o1(n),r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!==0&&(t.numberOfComponents=1),e.dataChange()},e.getState=()=>{if(t.deleted)return null;let n={...t,vtkClass:e.getClassName()};n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach(e=>{n[e]||delete n[e]});let r={};return Object.keys(n).sort().forEach(e=>{r[e]=n[e]}),r.mtime&&delete r.mtime,r},e.deepCopy=n=>{let r=e.getDataType(),i=t.values;e.shallowCopy(n),t.ranges=structuredClone(n.getRanges()),i?.length>=n.getNumberOfValues()&&r===n.getDataType()?(i.set(n.getData()),t.values=i,e.dataChange()):e.setData(n.getData().slice())},e.interpolateTuple=(n,r,i,a,o,s)=>{let c=t.numberOfComponents||1;(c!==r.getNumberOfComponents()||c!==a.getNumberOfComponents())&&$de(`numberOfComponents must match`);let l=r.getTuple(i),u=a.getTuple(o),d=[];switch(d.length=c,c){case 4:d[3]=l[3]+(u[3]-l[3])*s;case 3:d[2]=l[2]+(u[2]-l[2])*s;case 2:d[1]=l[1]+(u[1]-l[1])*s;case 1:d[0]=l[0]+(u[0]-l[0])*s;break;default:for(let e=0;e<c;e++)d[e]=l[e]+(u[e]-l[e])*s}return e.insertTuple(n,d)}}var ofe={name:``,numberOfComponents:1,dataType:efe,rangeTuple:[0,0]};function s1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(t,ofe,n),Array.isArray(n.values)&&n.dataType===void 0&&console.warn(`vtkDataArray.newInstance: no dataType provided, converting to Float32Array`),!t.empty&&!t.values&&!t.size)throw TypeError(`Cannot create vtkDataArray object without: size > 0, values`);if(t.values?Array.isArray(t.values)&&(t.values=ZK(t.dataType,t.values)):t.values=XK(t.dataType,t.size),t.values&&(t.size=t.size??t.values.length,t.dataType=o1(t.values)),uq(e,t),hq(e,t,[`name`,`numberOfComponents`]),t.size%t.numberOfComponents!==0)throw RangeError(`model.size is not a multiple of model.numberOfComponents`);afe(e,t)}var c1=wq(s1,`vtkDataArray`),l1={newInstance:c1,extend:s1,...ife,...n1};function sfe(e,t){t.classHierarchy.push(`vtkAbstractMapper`),e.update=()=>{e.getInputData()},e.addClippingPlane=n=>n.isA(`vtkPlane`)?t.clippingPlanes.includes(n)?!1:(t.clippingPlanes.push(n),e.modified(),!0):!1,e.getNumberOfClippingPlanes=()=>t.clippingPlanes.length,e.removeAllClippingPlanes=()=>t.clippingPlanes.length===0?!1:(t.clippingPlanes.length=0,e.modified(),!0),e.removeClippingPlane=n=>{let r=t.clippingPlanes.indexOf(n);return r===-1?!1:(t.clippingPlanes.splice(r,1),e.modified(),!0)},e.getClippingPlanes=()=>t.clippingPlanes,e.setClippingPlanes=t=>{if(t)if(!Array.isArray(t))e.addClippingPlane(t);else{let n=t.length;for(let r=0;r<n&&r<6;r++)e.addClippingPlane(t[r])}},e.getClippingPlaneInDataCoords=(e,n,r)=>{let i=t.clippingPlanes,a=e;if(i){let e=i.length;if(n>=0&&n<e){let e=i[n],t=e.getNormal(),o=e.getOrigin(),s=t[0],c=t[1],l=t[2],u=-(s*o[0]+c*o[1]+l*o[2]);r[0]=s*a[0]+c*a[4]+l*a[8]+u*a[12],r[1]=s*a[1]+c*a[5]+l*a[9]+u*a[13],r[2]=s*a[2]+c*a[6]+l*a[10]+u*a[14],r[3]=s*a[3]+c*a[7]+l*a[11]+u*a[15];return}}$.vtkErrorMacro(`Clipping plane index ${n} is out of range.`)}}var cfe={clippingPlanes:[]};function lfe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,cfe,n),$.obj(e,t),$.algo(e,t,1,0),t.clippingPlanes||=[],sfe(e,t)}var ufe={extend:lfe};function dfe(e,t){e.getBounds=()=>($.vtkErrorMacro(`vtkAbstractMapper3D.getBounds - NOT IMPLEMENTED`),FQ()),e.getCenter=()=>{let n=e.getBounds();return t.center=I$.isValid(n)?I$.getCenter(n):null,t.center?.slice()},e.getLength=()=>{let t=e.getBounds();return I$.getDiagonalLength(t)}}var ffe=e=>({bounds:[...I$.INIT_BOUNDS],center:[0,0,0],viewSpecificProperties:{},...e});function pfe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ffe(n)),ufe.extend(e,t,n),$.setGet(e,t,[`viewSpecificProperties`]),dfe(e,t)}var u1={extend:pfe},{vtkErrorMacro:d1,vtkWarningMacro:mfe}=$;function hfe(e,t){t.classHierarchy.push(`vtkFieldData`);let n=e.getState;t.arrays&&=t.arrays.map(e=>({data:jK(e.data)})),e.initialize=()=>{e.initializeFields(),e.copyAllOn(),e.clearFieldFlags()},e.initializeFields=()=>{t.arrays=[],t.copyFieldFlags={},e.modified()},e.copyStructure=n=>{e.initializeFields(),t.copyFieldFlags=n.getCopyFieldFlags().map(e=>e),t.arrays=n.getArrays().map(e=>({data:e}))},e.getNumberOfArrays=()=>t.arrays.length,e.getNumberOfActiveArrays=()=>t.arrays.length,e.addArray=n=>{let r=n.getName(),{array:i,index:a}=e.getArrayWithIndex(r);return i==null?(t.arrays=[].concat(t.arrays,{data:n}),t.arrays.length-1):(t.arrays[a]={data:n},a)},e.removeAllArrays=()=>{t.arrays=[]},e.removeArray=n=>{let r=t.arrays.findIndex(e=>e.data.getName()===n);return e.removeArrayByIndex(r)},e.removeArrayByIndex=e=>e!==-1&&e<t.arrays.length?(t.arrays.splice(e,1),!0):!1,e.getArrays=()=>t.arrays.map(e=>e.data),e.getArray=t=>typeof t==`number`?e.getArrayByIndex(t):e.getArrayByName(t),e.getArrayByName=e=>t.arrays.reduce((t,n,r)=>n.data.getName()===e?n.data:t,null),e.getArrayWithIndex=e=>{let n=t.arrays.findIndex(t=>t.data.getName()===e);return{array:n===-1?null:t.arrays[n].data,index:n}},e.getArrayByIndex=e=>e>=0&&e<t.arrays.length?t.arrays[e].data:null,e.hasArray=t=>e.getArrayWithIndex(t).index>=0,e.getArrayName=e=>{let n=t.arrays[e];return n?n.data.getName():``},e.getCopyFieldFlags=()=>t.copyFieldFlags,e.getFlag=e=>t.copyFieldFlags[e],e.passData=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;n.getArrays().forEach(a=>{let o=e.getFlag(a.getName());if(o!==!1&&!(t.doCopyAllOff&&o!==!0)&&a){let t=e.getArrayByName(a.getName());if(t)if(a.getNumberOfComponents()===t.getNumberOfComponents())if(r>-1&&r<a.getNumberOfTuples()){let e=i>-1?i:r;t.insertTuple(e,a.getTuple(r))}else t.insertTuples(0,a.getTuples());else d1(`Unhandled case in passData`);else if(r<0||r>a.getNumberOfTuples())e.addArray(a),n.getAttributes(a).forEach(t=>{e.setAttribute(a,t)});else{let o=a.getNumberOfComponents(),s=a.getNumberOfValues(),c=i>-1?i:r;s<=c*o&&(s=(c+1)*o),t=l1.newInstance({name:a.getName(),dataType:a.getDataType(),numberOfComponents:o,values:$.newTypedArray(a.getDataType(),s),size:0}),t.insertTuple(c,a.getTuple(r)),e.addArray(t),n.getAttributes(a).forEach(n=>{e.setAttribute(t,n)})}}})},e.interpolateData=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5;n.getArrays().forEach(s=>{let c=e.getFlag(s.getName());if(c!==!1&&!(t.doCopyAllOff&&c!==!0)&&s){let t=e.getArrayByName(s.getName());if(t)if(s.getNumberOfComponents()===t.getNumberOfComponents())if(r>-1&&r<s.getNumberOfTuples()){let e=a>-1?a:r;t.interpolateTuple(e,s,r,s,i,o),mfe(`Unexpected case in interpolateData`)}else t.insertTuples(s.getTuples());else d1(`Unhandled case in interpolateData`);else if(r<0||i<0||r>s.getNumberOfTuples())e.addArray(s),n.getAttributes(s).forEach(t=>{e.setAttribute(s,t)});else{let c=s.getNumberOfComponents(),l=s.getNumberOfValues(),u=a>-1?a:r;l<=u*c&&(l=(u+1)*c),t=l1.newInstance({name:s.getName(),dataType:s.getDataType(),numberOfComponents:c,values:$.newTypedArray(s.getDataType(),l),size:0}),t.interpolateTuple(u,s,r,s,i,o),e.addArray(t),n.getAttributes(s).forEach(n=>{e.setAttribute(t,n)})}}})},e.copyFieldOn=e=>{t.copyFieldFlags[e]=!0},e.copyFieldOff=e=>{t.copyFieldFlags[e]=!1},e.copyAllOn=()=>{(!t.doCopyAllOn||t.doCopyAllOff)&&(t.doCopyAllOn=!0,t.doCopyAllOff=!1,e.modified())},e.copyAllOff=()=>{(t.doCopyAllOn||!t.doCopyAllOff)&&(t.doCopyAllOn=!1,t.doCopyAllOff=!0,e.modified())},e.clearFieldFlags=()=>{t.copyFieldFlags={}},e.deepCopy=e=>{t.arrays=e.getArrays().map(e=>{let t=e.newClone();return t.deepCopy(e),{data:t}})},e.copyFlags=e=>e.getCopyFieldFlags().map(e=>e),e.reset=()=>t.arrays.forEach(e=>e.data.reset()),e.getMTime=()=>t.arrays.reduce((e,t)=>t.data.getMTime()>e?t.data.getMTime():e,t.mtime),e.getNumberOfComponents=()=>t.arrays.reduce((e,t)=>e+t.data.getNumberOfComponents(),0),e.getNumberOfTuples=()=>t.arrays.length>0?t.arrays[0].getNumberOfTuples():0,e.getState=()=>{let e=n();return e&&(e.arrays=t.arrays.map(e=>({data:e.data.getState()}))),e}}var gfe={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function f1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,gfe,n),$.obj(e,t),hfe(e,t)}var _fe={newInstance:$.newInstance(f1,`vtkFieldData`),extend:f1},vfe={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},yfe={MAX:0,EXACT:1,NOLIMIT:2},bfe={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},xfe={DUPLICATEPOINT:1,HIDDENPOINT:2},Sfe={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},Cfe=`vtkGhostType`,p1={DEFAULT:0,SINGLE:1,DOUBLE:2},m1={AttributeCopyOperations:Sfe,AttributeLimitTypes:yfe,AttributeTypes:vfe,CellGhostTypes:bfe,DesiredOutputPrecision:p1,PointGhostTypes:xfe,ghostArrayName:Cfe},{AttributeTypes:h1,AttributeCopyOperations:g1}=m1,{vtkWarningMacro:_1}=$;function wfe(e,t){let n=[`Scalars`,`Vectors`,`Normals`,`TCoords`,`Tensors`,`GlobalIds`,`PedigreeIds`];function r(e){let t=n.find(t=>h1[t.toUpperCase()]===e||typeof e!=`number`&&t.toLowerCase()===e.toLowerCase());return t===void 0&&(t=null),t}t.classHierarchy.push(`vtkDataSetAttributes`);let i={...e};e.checkNumberOfComponents=e=>!0,e.setAttribute=(n,i)=>{let a=r(i);if(n&&a.toUpperCase()===`PEDIGREEIDS`&&!n.isA(`vtkDataArray`))return _1(`Cannot set attribute ${a}. The attribute must be a vtkDataArray.`),-1;if(n&&!e.checkNumberOfComponents(n,a))return _1(`Cannot set attribute ${a}. Incorrect number of components.`),-1;if(n){let r=e.addArray(n);t[`active${a}`]=r}else t[`active${a}`]=-1;return e.modified(),t[`active${a}`]},e.getAttributes=t=>n.filter(n=>e[`get${n}`]()===t),e.setActiveAttributeByName=(t,n)=>e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n),e.setActiveAttributeByIndex=(n,i)=>{let a=r(i);if(n>=0&&n<t.arrays.length){if(a.toUpperCase()!==`PEDIGREEIDS`){let t=e.getArrayByIndex(n);if(!t.isA(`vtkDataArray`))return _1(`Cannot set attribute ${a}. Only vtkDataArray subclasses can be set as active attributes.`),-1;if(!e.checkNumberOfComponents(t,a))return _1(`Cannot set attribute ${a}. Incorrect number of components.`),-1}return t[`active${a}`]=n,e.modified(),n}return n===-1&&(t[`active${a}`]=n,e.modified()),-1},e.getActiveAttribute=t=>e[`get${r(t)}`](),e.removeAllArrays=()=>{n.forEach(e=>{t[`active${e}`]=-1}),i.removeAllArrays()},e.removeArrayByIndex=e=>(e!==-1&&n.forEach(n=>{e===t[`active${n}`]?t[`active${n}`]=-1:e<t[`active${n}`]&&--t[`active${n}`]}),i.removeArrayByIndex(e)),n.forEach(n=>{let r=`active${n}`;e[`get${n}`]=()=>e.getArrayByIndex(t[r]),e[`set${n}`]=t=>e.setAttribute(t,n),e[`setActive${n}`]=t=>e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n),e[`copy${n}Off`]=()=>{let e=n.toUpperCase();t.copyAttributeFlags[g1.PASSDATA][h1[e]]=!1},e[`copy${n}On`]=()=>{let e=n.toUpperCase();t.copyAttributeFlags[g1.PASSDATA][h1[e]]=!0}}),e.initializeAttributeCopyFlags=()=>{t.copyAttributeFlags=[],Object.keys(g1).filter(e=>e!==`ALLCOPY`).forEach(e=>{t.copyAttributeFlags[g1[e]]=Object.keys(h1).filter(e=>e!==`NUM_ATTRIBUTES`).reduce((e,t)=>(e[h1[t]]=!0,e),[])}),t.copyAttributeFlags[g1.COPYTUPLE][h1.GLOBALIDS]=!1,t.copyAttributeFlags[g1.INTERPOLATE][h1.GLOBALIDS]=!1,t.copyAttributeFlags[g1.COPYTUPLE][h1.PEDIGREEIDS]=!1},e.initialize=$.chain(e.initialize,e.initializeAttributeCopyFlags),t.dataArrays&&Object.keys(t.dataArrays).length&&Object.keys(t.dataArrays).forEach(n=>{!t.dataArrays[n].ref&&t.dataArrays[n].type===`vtkDataArray`&&e.addArray(l1.newInstance(t.dataArrays[n]))});let a=e.shallowCopy;e.shallowCopy=(e,n)=>{a(e,n),t.arrays=e.getArrays().map(e=>{let t=e.newClone();return t.shallowCopy(e,n),{data:t}})},e.initializeAttributeCopyFlags()}var Tfe={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function v1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Tfe,n),_fe.extend(e,t,n),$.setGet(e,t,[`activeScalars`,`activeNormals`,`activeTCoords`,`activeVectors`,`activeTensors`,`activeGlobalIds`,`activePedigreeIds`]),t.arrays||={},wfe(e,t)}var y1={newInstance:$.newInstance(v1,`vtkDataSetAttributes`),extend:v1,...m1},Efe={FieldDataTypes:{UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},FieldAssociations:{FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7}},b1=[`pointData`,`cellData`,`fieldData`];function Dfe(e,t){t.classHierarchy.push(`vtkDataSet`),b1.forEach(e=>{t[e]?t[e]=jK(t[e]):t[e]=y1.newInstance()}),e.computeBounds=()=>{if(t.modifiedTime&&t.computeTime&&t.modifiedTime>t.computeTime||!t.computeTime){let n=e.getPoints();n?.getNumberOfPoints()?I$.setBounds(t.bounds,n.getBoundsByReference()):t.bounds=zQ.createUninitializedBounds(),t.computeTime=$.getCurrentGlobalMTime()}},e.getLength2=()=>{let t=e.getBoundsByReference();return!t||t.length!==6?0:I$.getDiagonalLength2(t)},e.getLength=()=>Math.sqrt(e.getLength2()),e.getCenter=()=>{let t=e.getBoundsByReference();return!t||t.length!==6?[0,0,0]:I$.getCenter(t)},e.getCellBounds=t=>{let n=e.getCell(t);return n?n.getBounds():zQ.createUninitializedBounds()},e.getBounds=$.chain(()=>e.computeBounds,e.getBounds),e.getBoundsByReference=$.chain(()=>e.computeBounds,e.getBoundsByReference);let n=e.shallowCopy;e.shallowCopy=function(e){n(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1),b1.forEach(n=>{t[n]=y1.newInstance(),t[n].shallowCopy(e.getReferenceByName(n))})};let r=e.getMTime;e.getMTime=()=>b1.reduce((e,n)=>Math.max(e,t[n]?.getMTime()??e),r()),e.initialize=()=>(b1.forEach(e=>t[e]?.initialize()),e)}var Ofe={};function x1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ofe,n),$.obj(e,t),$.setGet(e,t,b1),$.getArray(e,t,[`bounds`],6),Dfe(e,t)}var S1={newInstance:$.newInstance(x1,`vtkDataSet`),extend:x1,...Efe},C1={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9},w1={StructuredType:C1},{StructuredType:T1}=w1;function kfe(e){let t=0;for(let n=0;n<3;++n)e[n*2]<e[n*2+1]&&t++;return e[0]>e[1]||e[2]>e[3]||e[4]>e[5]?T1.EMPTY:t===3?T1.XYZ_GRID:t===2?e[0]===e[1]?T1.YZ_PLANE:e[2]===e[3]?T1.XZ_PLANE:T1.XY_PLANE:t===1?e[0]<e[1]?T1.X_LINE:e[2]<e[3]?T1.Y_LINE:T1.Z_LINE:T1.SINGLE_POINT}var Afe={getDataDescriptionFromExtent:kfe,...w1},{vtkErrorMacro:E1}=$;function jfe(e,t){t.classHierarchy.push(`vtkImageData`),e.setExtent=function(){if(t.deleted)return E1(`instance deleted - cannot call any method`),!1;var n=[...arguments];let r=n.length===1?n[0]:n;if(r.length!==6)return!1;let i=t.extent.some((e,t)=>e!==r[t]);return i&&(t.extent=r.slice(),t.dataDescription=Afe.getDataDescriptionFromExtent(t.extent),e.modified()),i},e.setDimensions=function(){let n,r,i;if(t.deleted){E1(`instance deleted - cannot call any method`);return}if(arguments.length===1){let e=arguments.length<=0?void 0:arguments[0];n=e[0],r=e[1],i=e[2]}else if(arguments.length===3)n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2];else{E1(`Bad dimension specification`);return}e.setExtent(0,n-1,0,r-1,0,i-1)},e.getDimensions=()=>[t.extent[1]-t.extent[0]+1,t.extent[3]-t.extent[2]+1,t.extent[5]-t.extent[4]+1],e.getNumberOfCells=()=>{let t=e.getDimensions(),n=1;for(let e=0;e<3;e++){if(t[e]===0)return 0;t[e]>1&&(n*=t[e]-1)}return n},e.getNumberOfPoints=()=>{let t=e.getDimensions();return t[0]*t[1]*t[2]},e.getPoint=n=>{let r=e.getDimensions();if(r[0]===0||r[1]===0||r[2]===0)return E1(`Requesting a point from an empty image.`),null;let i=new Float64Array(3);switch(t.dataDescription){case C1.EMPTY:return null;case C1.SINGLE_POINT:break;case C1.X_LINE:i[0]=n;break;case C1.Y_LINE:i[1]=n;break;case C1.Z_LINE:i[2]=n;break;case C1.XY_PLANE:i[0]=n%r[0],i[1]=n/r[0];break;case C1.YZ_PLANE:i[1]=n%r[1],i[2]=n/r[1];break;case C1.XZ_PLANE:i[0]=n%r[0],i[2]=n/r[0];break;case C1.XYZ_GRID:i[0]=n%r[0],i[1]=n/r[0]%r[1],i[2]=n/(r[0]*r[1]);break;default:E1(`Invalid dataDescription`);break}let a=[0,0,0];return e.indexToWorld(i,a),a},e.getBounds=()=>e.extentToBounds(e.getSpatialExtent()),e.extentToBounds=e=>I$.transformBounds(e,t.indexToWorld),e.getSpatialExtent=()=>I$.inflate([...t.extent],.5),e.computeTransforms=()=>{JW(t.indexToWorld,t.origin),t.indexToWorld[0]=t.direction[0],t.indexToWorld[1]=t.direction[1],t.indexToWorld[2]=t.direction[2],t.indexToWorld[4]=t.direction[3],t.indexToWorld[5]=t.direction[4],t.indexToWorld[6]=t.direction[5],t.indexToWorld[8]=t.direction[6],t.indexToWorld[9]=t.direction[7],t.indexToWorld[10]=t.direction[8],UW(t.indexToWorld,t.indexToWorld,t.spacing),RW(t.worldToIndex,t.indexToWorld)},e.indexToWorld=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return UG(n,e,t.indexToWorld),n},e.indexToWorldVec3=e.indexToWorld,e.worldToIndex=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return UG(n,e,t.worldToIndex),n},e.worldToIndexVec3=e.worldToIndex,e.indexToWorldBounds=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return I$.transformBounds(e,t.indexToWorld,n)},e.worldToIndexBounds=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return I$.transformBounds(e,t.worldToIndex,n)},t._onOriginChanged=e.computeTransforms,t._onDirectionChanged=e.computeTransforms,t._onSpacingChanged=e.computeTransforms,e.computeTransforms(),e.getCenter=()=>I$.getCenter(e.getBounds()),e.computeHistogram=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=[0,0,0,0,0,0];e.worldToIndexBounds(t,r);let i=[0,0,0],a=[0,0,0];I$.computeCornerPoints(r,i,a),XZ(i,i),XZ(a,a);let o=e.getDimensions();wQ(i,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],i),wQ(a,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],a);let s=o[0],c=o[0]*o[1],l=e.getPointData().getScalars().getData(),u=-1/0,d=1/0,f=0,p=0,m=0;for(let e=i[2];e<=a[2];e++)for(let t=i[1];t<=a[1];t++){let o=i[0]+t*s+e*c;for(let s=i[0];s<=a[0];s++){if(!n||n([s,t,e],r)){let e=l[o];e>u&&(u=e),e<d&&(d=e),f+=e*e,p+=e,m+=1}++o}}let h=m>0?p/m:0,g=m?Math.abs(f/m-h*h):0;return{minimum:d,maximum:u,average:h,variance:g,sigma:Math.sqrt(g),count:m}},e.computeIncrements=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=[],r=t;for(let t=0;t<3;++t)n[t]=r,r*=e[t*2+1]-e[t*2]+1;return n},e.computeOffsetIndex=t=>{let[n,r,i]=t,a=e.getExtent(),o=e.getPointData().getScalars().getNumberOfComponents(),s=e.computeIncrements(a,o);return Math.floor((Math.round(n)-a[0])*s[0]+(Math.round(r)-a[2])*s[1]+(Math.round(i)-a[4])*s[2])},e.getOffsetIndexFromWorld=t=>{let n=e.getExtent(),r=e.worldToIndex(t);for(let e=0;e<3;++e)if(r[e]<n[e*2]||r[e]>n[e*2+1])return E1(`GetScalarPointer: Pixel ${r} is not in memory. Current extent = ${n}`),NaN;return e.computeOffsetIndex(r)},e.getScalarValueFromWorld=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=e.getPointData().getScalars().getNumberOfComponents();if(n<0||n>=r)return E1(`GetScalarPointer: Scalar Component ${n} is not within bounds. Current Scalar numberOfComponents: ${r}`),NaN;let i=e.getOffsetIndexFromWorld(t);return Number.isNaN(i)?i:e.getPointData().getScalars().getComponent(i,n)};let n=e.initialize;e.initialize=()=>(e.set({direction:iW(t.direction),spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:C1.EMPTY}),n())}var Mfe={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:C1.EMPTY};function D1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Mfe,n),S1.extend(e,t,n),t.direction?Array.isArray(t.direction)&&(t.direction=new Float64Array(t.direction.slice(0,9))):t.direction=iW(new Float64Array(9)),t.indexToWorld=new Float64Array(16),t.worldToIndex=new Float64Array(16),$.get(e,t,[`indexToWorld`,`worldToIndex`]),$.setGetArray(e,t,[`origin`,`spacing`],3),$.setGetArray(e,t,[`direction`],9),$.getArray(e,t,[`extent`],6),jfe(e,t)}var O1={newInstance:$.newInstance(D1,`vtkImageData`),extend:D1},Nfe={MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},k1={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4},A1={VectorMode:Nfe,ScalarMappingTarget:k1,Scale:{LINEAR:0,LOG10:1}},j1={ColorMode:{DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},GetArray:{BY_ID:0,BY_NAME:1},ScalarMode:{DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5}},{ScalarMappingTarget:M1,Scale:Pfe,VectorMode:N1}=A1,{VtkDataTypes:P1}=l1,{ColorMode:F1}=j1,{vtkErrorMacro:I1}=$;function Ffe(e){return e}function L1(e){return Math.floor(e*255+.5)}function Ife(e,t){t.classHierarchy.push(`vtkScalarsToColors`),e.setVectorModeToMagnitude=()=>e.setVectorMode(N1.MAGNITUDE),e.setVectorModeToComponent=()=>e.setVectorMode(N1.COMPONENT),e.setVectorModeToRGBColors=()=>e.setVectorMode(N1.RGBCOLORS),e.build=()=>{},e.isOpaque=()=>!0,e.setAnnotations=(n,r)=>{if(!(n&&!r||!n&&r)){if(n&&r&&n.length!==r.length){I1(`Values and annotations do not have the same number of tuples so ignoring`);return}if(t.annotationArray=[],r&&n){let e=r.length;for(let i=0;i<e;i++)t.annotationArray.push({value:n[i],annotation:String(r[i])})}e.updateAnnotatedValueMap(),e.modified()}},e.setAnnotation=(n,r)=>{let i=e.checkForAnnotatedValue(n),a=!1;return i>=0?t.annotationArray[i].annotation!==r&&(t.annotationArray[i].annotation=r,a=!0):(t.annotationArray.push({value:n,annotation:r}),i=t.annotationArray.length-1,a=!0),a&&(e.updateAnnotatedValueMap(),e.modified()),i},e.getNumberOfAnnotatedValues=()=>t.annotationArray.length,e.getAnnotatedValue=e=>e<0||e>=t.annotationArray.length?null:t.annotationArray[e].value,e.getAnnotation=e=>t.annotationArray[e]===void 0?null:t.annotationArray[e].annotation,e.getAnnotatedValueIndex=n=>t.annotationArray.length?e.checkForAnnotatedValue(n):-1,e.removeAnnotation=n=>{let r=e.checkForAnnotatedValue(n),i=r>=0;return i&&(t.annotationArray.splice(r,1),e.updateAnnotatedValueMap(),e.modified()),i},e.resetAnnotations=()=>{t.annotationArray=[],t.annotatedValueMap=[],e.modified()},e.getAnnotationColor=(n,r)=>{if(t.indexedLookup){let t=e.getAnnotatedValueIndex(n);e.getIndexedColor(t,r)}else e.getColor(parseFloat(n),r),r[3]=1},e.checkForAnnotatedValue=t=>e.getAnnotatedValueIndexInternal(t),e.getAnnotatedValueIndexInternal=e=>{if(t.annotatedValueMap[e]!==void 0){let n=t.annotationArray.length;return t.annotatedValueMap[e]%n}return-1},e.getIndexedColor=(e,t)=>{t[0]=0,t[1]=0,t[2]=0,t[3]=0},e.updateAnnotatedValueMap=()=>{t.annotatedValueMap=[];let e=t.annotationArray.length;for(let n=0;n<e;n++)t.annotatedValueMap[t.annotationArray[n].value]=n},e.mapScalars=(t,n,r)=>{let i=t.getNumberOfComponents(),a=null;if(n===F1.DEFAULT&&(t.getDataType()===P1.UNSIGNED_CHAR||t.getDataType()===P1.UNSIGNED_CHAR_CLAMPED)||n===F1.DIRECT_SCALARS&&t)a=e.convertToRGBA(t,i,t.getNumberOfTuples());else{let n={type:`vtkDataArray`,name:`temp`,numberOfComponents:4,dataType:P1.UNSIGNED_CHAR},o=$.newTypedArray(n.dataType,4*t.getNumberOfTuples());n.values=o,n.size=o.length,a=l1.newInstance(n);let s=r;s<0&&i>1?e.mapVectorsThroughTable(t,a,M1.RGBA,-1,-1):(s<0&&(s=0),s>=i&&(s=i-1),e.mapScalarsThroughTable(t,a,M1.RGBA,s))}return a},e.mapVectorsToMagnitude=(e,t,n)=>{let r=e.getNumberOfTuples(),i=e.getNumberOfComponents(),a=t.getData(),o=e.getData();for(let e=0;e<r;e++){let t=0;for(let r=0;r<n;r++)t+=o[e*i+r]*o[e*i+r];a[e]=Math.sqrt(t)}},e.mapVectorsThroughTable=(t,n,r,i,a)=>{let o=e.getVectorMode(),s=a,c=i,l=t.getNumberOfComponents();o===N1.COMPONENT?(c===-1&&(c=e.getVectorComponent()),c<0&&(c=0),c>=l&&(c=l-1)):(s===-1&&(s=e.getVectorSize()),s<=0?(c=0,s=l):(c<0&&(c=0),c>=l&&(c=l-1),c+s>l&&(s=l-c)),o===N1.MAGNITUDE&&(l===1||s===1)&&(o=N1.COMPONENT));let u=0;switch(c>0&&(u=c),o){case N1.COMPONENT:e.mapScalarsThroughTable(t,n,r,u);break;case N1.RGBCOLORS:break;case N1.MAGNITUDE:default:{let i=l1.newInstance({numberOfComponents:1,values:new Float32Array(t.getNumberOfTuples())});e.mapVectorsToMagnitude(t,i,s),e.mapScalarsThroughTable(i,n,r,0);break}}},e.luminanceToRGBA=(e,t,n,r)=>{let i=r(n),a=t.getData(),o=e.getData(),s=a.length,c=0;for(let e=0;e<s;e+=1){let t=r(a[e]);o[c*4]=t,o[c*4+1]=t,o[c*4+2]=t,o[c*4+3]=i,c++}},e.luminanceAlphaToRGBA=(e,t,n,r)=>{let i=t.getData(),a=e.getData(),o=i.length,s=0;for(let e=0;e<o;e+=2){let t=r(i[e]);a[s]=t,a[s+1]=t,a[s+2]=t,a[s+3]=r(i[e+1])*n,s+=4}},e.rGBToRGBA=(e,t,n,r)=>{let i=L1(n),a=t.getData(),o=e.getData(),s=a.length,c=0;for(let e=0;e<s;e+=3)o[c*4]=r(a[e]),o[c*4+1]=r(a[e+1]),o[c*4+2]=r(a[e+2]),o[c*4+3]=i,c++},e.rGBAToRGBA=(e,t,n,r)=>{let i=t.getData(),a=e.getData(),o=i.length,s=0;for(let e=0;e<o;e+=4)a[s*4]=r(i[e]),a[s*4+1]=r(i[e+1]),a[s*4+2]=r(i[e+2]),a[s*4+3]=r(i[e+3])*n,s++},e.convertToRGBA=(n,r,i)=>{let{alpha:a}=t;if(r===4&&a>=1&&n.getDataType()===P1.UNSIGNED_CHAR)return n;let o=l1.newInstance({numberOfComponents:4,empty:!0,size:4*i,dataType:P1.UNSIGNED_CHAR});if(i<=0)return o;a=a>0?a:0,a=a<1?a:1;let s=Ffe;switch((n.getDataType()===P1.FLOAT||n.getDataType()===P1.DOUBLE)&&(s=L1),r){case 1:e.luminanceToRGBA(o,n,a,s);break;case 2:e.luminanceAlphaToRGBA(o,n,s);break;case 3:e.rGBToRGBA(o,n,a,s);break;case 4:e.rGBAToRGBA(o,n,a,s);break;default:return I1(`Cannot convert colors`),null}return o},e.usingLogScale=()=>!1,e.getNumberOfAvailableColors=()=>256*256*256,e.setRange=(t,n)=>e.setMappingRange(t,n),e.getRange=()=>e.getMappingRange(),e.areScalarsOpaque=(n,r,i)=>{if(!n)return e.isOpaque();let a=n.getNumberOfComponents();return r===F1.DEFAULT&&n.getDataType()===P1.UNSIGNED_CHAR||r===F1.DIRECT_SCALARS?a===3||a===1?t.alpha>=1:n.getRange(a-1)[0]===255:!0}}var Lfe={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:N1.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1,scale:Pfe.LINEAR};function R1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Lfe,n),$.obj(e,t),t.mappingRange=[0,255],t.annotationArray=[],t.annotatedValueMap=[],$.setGet(e,t,[`vectorSize`,`vectorComponent`,`vectorMode`,`alpha`,`indexedLookup`]),$.setArray(e,t,[`mappingRange`],2),$.getArray(e,t,[`mappingRange`]),Ife(e,t)}var z1={newInstance:$.newInstance(R1,`vtkScalarsToColors`),extend:R1,...A1},{vtkErrorMacro:B1}=$,V1=0,H1=1,U1=2;function Rfe(e,t){t.classHierarchy.push(`vtkLookupTable`),e.isOpaque=()=>{if(t.opaqueFlagBuildTime.getMTime()<e.getMTime()){let e=!0;t.nanColor[3]<1&&(e=0),t.useBelowRangeColor&&t.belowRangeColor[3]<1&&(e=0),t.useAboveRangeColor&&t.aboveRangeColor[3]<1&&(e=0);for(let n=3;n<t.table.length&&e;n+=4)t.table[n]<255&&(e=!1);t.opaqueFlag=e,t.opaqueFlagBuildTime.modified()}return t.opaqueFlag},e.usingLogScale=()=>!1,e.getNumberOfAvailableColors=()=>t.table.length/4-3,e.linearIndexLookup=(e,t)=>{let n=0,r=Number(e);return r<t.range[0]?n=t.maxIndex+V1+1.5:r>t.range[1]?n=t.maxIndex+H1+1.5:(n=(r+t.shift)*t.scale,n=n<t.maxIndex?n:t.maxIndex),Math.floor(n)},e.linearLookup=(t,n,r)=>{let i=0;i=PQ(t)?Math.floor(r.maxIndex+1.5+U1):e.linearIndexLookup(t,r);let a=4*i;return n.slice(a,a+4)},e.indexedLookupFunction=(n,r,i)=>{let a=e.getAnnotatedValueIndexInternal(n);a===-1&&(a=t.numberOfColors+U1);let o=4*a;return[r[o],r[o+1],r[o+2],r[o+3]]},e.lookupShiftAndScale=(e,t)=>{t.shift=-e[0],t.scale=Number.MAX_VALUE,e[1]>e[0]&&(t.scale=(t.maxIndex+1)/(e[1]-e[0]))},e.mapScalarsThroughTable=(n,r,i,a)=>{let o=e.linearLookup;t.indexedLookup&&(o=e.indexedLookupFunction);let s=e.getMappingRange(),c={maxIndex:e.getNumberOfColors()-1,range:s,shift:0,scale:0};e.lookupShiftAndScale(s,c);let l=e.getAlpha(),u=n.getNumberOfTuples(),d=n.getNumberOfComponents(),f=r.getData(),p=n.getData();if(l>=1){if(i===k1.RGBA)for(let e=0;e<u;e++){let n=o(p[e*d+a],t.table,c);f[e*4]=n[0],f[e*4+1]=n[1],f[e*4+2]=n[2],f[e*4+3]=n[3]}}else if(i===k1.RGBA)for(let e=0;e<u;e++){let n=o(p[e*d+a],t.table,c);f[e*4]=n[0],f[e*4+1]=n[1],f[e*4+2]=n[2],f[e*4+3]=Math.floor(n[3]*l+.5)}},e.forceBuild=()=>{let n=0,r=0,i=0,a=0,o=t.numberOfColors-1;o&&(n=(t.hueRange[1]-t.hueRange[0])/o,r=(t.saturationRange[1]-t.saturationRange[0])/o,i=(t.valueRange[1]-t.valueRange[0])/o,a=(t.alphaRange[1]-t.alphaRange[0])/o),t.table.length=4*o+16;let s=[],c=[];for(let e=0;e<=o;e++)s[0]=t.hueRange[0]+e*n,s[1]=t.saturationRange[0]+e*r,s[2]=t.valueRange[0]+e*i,pQ(s,c),c[3]=t.alphaRange[0]+e*a,t.table[e*4]=c[0]*255+.5,t.table[e*4+1]=c[1]*255+.5,t.table[e*4+2]=c[2]*255+.5,t.table[e*4+3]=c[3]*255+.5;e.buildSpecialColors(),t.buildTime.modified()},e.setTable=n=>{if(Array.isArray(n)){let r=n[0].length;t.numberOfColors=n.length;let i=4-r,a=0;for(let e=0;e<t.numberOfColors;e++)t.table[e*4]=255,t.table[e*4+1]=255,t.table[e*4+2]=255,t.table[e*4+3]=255;for(let e=0;e<n.length;e++){let o=n[e];for(let e=0;e<r;e++)t.table[a++]=o[e];a+=i}return e.buildSpecialColors(),t.insertTime.modified(),e.modified(),!0}if(n.getNumberOfComponents()!==4)return B1(`Expected 4 components for RGBA colors`),!1;if(n.getDataType()!==t1.UNSIGNED_CHAR)return B1(`Expected unsigned char values for RGBA colors`),!1;t.numberOfColors=n.getNumberOfTuples();let r=n.getData();t.table.length=r.length;for(let e=0;e<r.length;e++)t.table[e]=r[e];return e.buildSpecialColors(),t.insertTime.modified(),e.modified(),!0},e.buildSpecialColors=()=>{let{numberOfColors:e}=t,n=t.table,r=(e+V1)*4;t.useBelowRangeColor||e===0?(n[r]=t.belowRangeColor[0]*255+.5,n[r+1]=t.belowRangeColor[1]*255+.5,n[r+2]=t.belowRangeColor[2]*255+.5,n[r+3]=t.belowRangeColor[3]*255+.5):(n[r]=n[0],n[r+1]=n[1],n[r+2]=n[2],n[r+3]=n[3]),r=(e+H1)*4,t.useAboveRangeColor||e===0?(n[r]=t.aboveRangeColor[0]*255+.5,n[r+1]=t.aboveRangeColor[1]*255+.5,n[r+2]=t.aboveRangeColor[2]*255+.5,n[r+3]=t.aboveRangeColor[3]*255+.5):(n[r]=n[4*(e-1)+0],n[r+1]=n[4*(e-1)+1],n[r+2]=n[4*(e-1)+2],n[r+3]=n[4*(e-1)+3]),r=(e+U1)*4,n[r]=t.nanColor[0]*255+.5,n[r+1]=t.nanColor[1]*255+.5,n[r+2]=t.nanColor[2]*255+.5,n[r+3]=t.nanColor[3]*255+.5},e.build=()=>{(t.table.length<1||e.getMTime()>t.buildTime.getMTime()&&t.insertTime.getMTime()<=t.buildTime.getMTime())&&e.forceBuild()},t.table.length>0&&(e.buildSpecialColors(),t.insertTime.modified())}var zfe={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function W1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,zfe,n),z1.extend(e,t,n),t.table||=[],t.buildTime={},$.obj(t.buildTime),t.opaqueFlagBuildTime={},$.obj(t.opaqueFlagBuildTime,{mtime:0}),t.insertTime={},$.obj(t.insertTime,{mtime:0}),$.get(e,t,[`buildTime`]),$.setGet(e,t,[`numberOfColors`,`useAboveRangeColor`,`useBelowRangeColor`]),$.setArray(e,t,[`alphaRange`,`hueRange`,`saturationRange`,`valueRange`],2),$.setArray(e,t,[`nanColor`,`belowRangeColor`,`aboveRangeColor`],4),$.getArray(e,t,[`hueRange`,`saturationRange`,`valueRange`,`alphaRange`,`nanColor`,`belowRangeColor`,`aboveRangeColor`]),Rfe(e,t)}var Bfe={newInstance:$.newInstance(W1,`vtkLookupTable`),extend:W1},G1={Off:0,PolygonOffset:1},K1=G1.PolygonOffset,q1=G1.Off,Vfe=[`VTK_RESOLVE_OFF`,`VTK_RESOLVE_POLYGON_OFFSET`];function Hfe(){return K1}function Ufe(e){let t=K1===e;return K1=e,t}function Wfe(){return q1}function J1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=q1===e;return q1=e,t}function Gfe(){return J1(G1.Off)}function Kfe(){return J1(G1.Off)}function qfe(){return J1(G1.PolygonOffset)}function Jfe(){return Vfe[q1]}var Y1={Resolve:G1,getResolveCoincidentTopologyAsString:Jfe,getResolveCoincidentTopologyPolygonOffsetFaces:Hfe,getResolveCoincidentTopology:Wfe,setResolveCoincidentTopology:J1,setResolveCoincidentTopologyPolygonOffsetFaces:Ufe,setResolveCoincidentTopologyToDefault:Gfe,setResolveCoincidentTopologyToOff:Kfe,setResolveCoincidentTopologyToPolygonOffset:qfe};function X1(e,t,n){n.forEach(n=>{e[`get${n.method}`]=()=>t[n.key],e[`set${n.method}`]=$.objectSetterMap.object(e,t,{name:n.key,params:[`factor`,`offset`]})})}var Z1=[`Polygon`,`Line`,`Point`],Yfe={Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},Q1={modified:()=>void 0};X1(Q1,Yfe,Z1.map(e=>({key:e,method:`ResolveCoincidentTopology${e}OffsetParameters`})));function Xfe(e,t){t.resolveCoincidentTopology===void 0&&(t.resolveCoincidentTopology=!1),$.setGet(e,t,[`resolveCoincidentTopology`]),t.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(Y1).forEach(t=>{e[t]=Y1[t]}),Object.keys(Q1).filter(e=>e!==`modified`).forEach(t=>{e[t]=Q1[t]}),X1(e,t.topologyOffset,Z1.map(e=>({key:e,method:`RelativeCoincidentTopology${e}OffsetParameters`}))),e.getCoincidentTopologyPolygonOffsetParameters=()=>{let t=Q1.getResolveCoincidentTopologyPolygonOffsetParameters(),n=e.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyLineOffsetParameters=()=>{let t=Q1.getResolveCoincidentTopologyLineOffsetParameters(),n=e.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyPointOffsetParameter=()=>{let t=Q1.getResolveCoincidentTopologyPointOffsetParameters(),n=e.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}}}var $1={implementCoincidentTopologyMethods:Xfe,staticOffsetAPI:Q1,otherStaticMethods:Y1,CATEGORIES:Z1,Resolve:G1},e0={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,ID_HIGH24:3,MAX_KNOWN_PASS:3},t0={PassTypes:e0},{FieldAssociations:n0}=S1,{staticOffsetAPI:Zfe,otherStaticMethods:Qfe}=$1,{ColorMode:r0,ScalarMode:i0,GetArray:a0}=j1,{VectorMode:$fe}=A1,{VtkDataTypes:epe}=l1;function o0(e){return()=>$.vtkErrorMacro(`vtkMapper::${e} - NOT IMPLEMENTED`)}function tpe(e,t){let n=e[1]%2==0?1:-1;if(e[0]+=n,e[0]>=t[0]||e[0]<0){let r=e[2]%2==0?1:-1;e[0]-=n,e[1]+=r,(e[1]>=t[1]||e[1]<0)&&(e[1]-=r,e[2]++)}}function npe(e,t){return e[0]+t[0]*(e[1]+t[1]*e[2])}function s0(e,t,n){let r=Math.floor(t),i=r%(2*n[0]),a,o;i<n[0]?(e[0]=i,a=1,o=e[0]===n[0]-1):(e[0]=2*n[0]-1-i,a=-1,o=e[0]===0);let s=Math.floor(r/n[0]),c=s%(2*n[1]),l,u;c<n[1]?(e[1]=c,l=1,u=e[1]===n[1]-1):(e[1]=2*n[1]-1-c,l=-1,u=e[1]===0),e[2]=Math.floor(s/n[1]);let d=t-r;o?u?e[2]+=d:e[1]+=l*d:e[0]+=a*d,e[0]=(e[0]+.5)/n[0],e[1]=(e[1]+.5)/n[1],e[2]=(e[2]+.5)/n[2]}var c0=new WeakMap;function rpe(e,t,n,r,i,a,o){let s=Array(arguments.length);for(let e=0;e<arguments.length;++e){let t=arguments[e];s[e]=t.getMTime?.()??t}let c=s.join(`/`),l=c0.get(e);if(l&&l.stringHash===c)return l.textureCoordinates;let u=(n[1]-n[0])/(i-1),[d,f]=[n[0]-u,n[1]+u],p=d-.5*u,m=1/(f-d+u),h=d,g=(i+1)/(f-d),_=e.getData(),v=e.getNumberOfTuples(),y=e.getNumberOfComponents(),b=t<0||t>=y,x=a[2]<=1?2:3,S=l1.newInstance({numberOfComponents:x,values:new Float32Array(v*x)}),C=S.getData(),w=[0,0,0];s0(w,i+2,a);let T=0,E=0,D=[.5,.5,.5];for(let e=0;e<v;++e){let e;if(b){let t=0;for(let e=0;e<y;++e){let n=Number(_[T+e]);t+=n*n}e=Math.sqrt(t)}else e=Number(_[T+t]);if(r&&(e=Math.log10(e)),T+=y,PQ(e))D[0]=w[0],D[1]=w[1],D[2]=w[2];else if(o){let t=(e-h)*g;t<1?t=0:t>i&&(t=i+1),s0(D,t,a)}else{D[1]=.49;let t=(e-p)*m;t>1e3?D[0]=1e3:t<-1e3?D[0]=-1e3:D[0]=t}for(let e=0;e<x;++e)C[E++]=D[e]}return c0.set(e,{stringHash:c,textureCoordinates:S}),S}function ipe(e,t){t.classHierarchy.push(`vtkMapper`),e.getBounds=()=>{let n=e.getInputData();return n?(t.static||e.update(),t.bounds=n.getBounds()):t.bounds=FQ(),t.bounds},e.setForceCompileOnly=e=>{t.forceCompileOnly=e},e.setSelectionWebGLIdsToVTKIds=e=>{t.selectionWebGLIdsToVTKIds=e},e.createDefaultLookupTable=()=>{t.lookupTable=Bfe.newInstance()},e.getColorModeAsString=()=>$.enumToString(r0,t.colorMode),e.setColorModeToDefault=()=>e.setColorMode(0),e.setColorModeToMapScalars=()=>e.setColorMode(1),e.setColorModeToDirectScalars=()=>e.setColorMode(2),e.getScalarModeAsString=()=>$.enumToString(i0,t.scalarMode),e.setScalarModeToDefault=()=>e.setScalarMode(0),e.setScalarModeToUsePointData=()=>e.setScalarMode(1),e.setScalarModeToUseCellData=()=>e.setScalarMode(2),e.setScalarModeToUsePointFieldData=()=>e.setScalarMode(3),e.setScalarModeToUseCellFieldData=()=>e.setScalarMode(4),e.setScalarModeToUseFieldData=()=>e.setScalarMode(5),e.getAbstractScalars=(e,n,r,i,a)=>{if(!e||!t.scalarVisibility)return{scalars:null,cellFlag:!1};let o=null,s=!1;if(n===i0.DEFAULT)o=e.getPointData().getScalars(),o||(o=e.getCellData().getScalars(),s=!0);else if(n===i0.USE_POINT_DATA)o=e.getPointData().getScalars();else if(n===i0.USE_CELL_DATA)o=e.getCellData().getScalars(),s=!0;else if(n===i0.USE_POINT_FIELD_DATA){let t=e.getPointData();o=r===a0.BY_ID?t.getArrayByIndex(i):t.getArrayByName(a)}else if(n===i0.USE_CELL_FIELD_DATA){let t=e.getCellData();s=!0,o=r===a0.BY_ID?t.getArrayByIndex(i):t.getArrayByName(a)}else if(n===i0.USE_FIELD_DATA){let t=e.getFieldData();o=r===a0.BY_ID?t.getArrayByIndex(i):t.getArrayByName(a)}return{scalars:o,cellFlag:s}},e.mapScalars=(n,r)=>{let{scalars:i,cellFlag:a}=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName);if(t.areScalarsMappedFromCells=a,!i){t.colorCoordinates=null,t.colorTextureMap=null,t.colorMapColors=null;return}let o=`${e.getMTime()}${i.getMTime()}${r}`;if(t.colorBuildString!==o){if(t.useLookupTableScalarRange||e.getLookupTable().setRange(t.scalarRange[0],t.scalarRange[1]),e.canUseTextureMapForColoring(i,a))t.mapScalarsToTexture(i,a,r);else{t.colorCoordinates=null,t.colorTextureMap=null;let n=e.getLookupTable();n&&(n.build(),t.colorMapColors=n.mapScalars(i,t.colorMode,t.fieldDataTupleId))}t.colorBuildString=`${e.getMTime()}${i.getMTime()}${r}`}},t.mapScalarsToTexture=(n,r,i)=>{let a=t.lookupTable.getRange(),o=t.lookupTable.usingLogScale(),s=t.lookupTable.getAlpha(),c=o?[Math.log10(a[0]),Math.log10(a[1])]:a;if(t.colorMapColors=null,t.colorTextureMap==null||e.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getAlpha()!==i){t.lookupTable.setAlpha(i),t.colorTextureMap=null,t.lookupTable.build();let e=t.lookupTable.getNumberOfAvailableColors(),n=2048,a=n**3-3,l=r?a:4094;t.numberOfColorsInRange=Math.min(Math.max(e,2),l);let u=t.numberOfColorsInRange+3,d=t.numberOfColorsInRange+2,f=r?[Math.min(Math.ceil(u/n**0),n),Math.min(Math.ceil(u/n**1),n),Math.min(Math.ceil(u/n**2),n)]:[d,2,1],p=f[0]*f[1]*f[2],m=new Float64Array(p);m.fill(NaN);let h=t.numberOfColorsInRange,g=h+2,_=[0,0,0],v=c[0],y=c[1]-c[0];for(let e=0;e<g;++e){let t=npe(_,f),n=v+y*(e-1)/(h-1);m[t]=o?10**n:n,tpe(_,f)}let b=l1.newInstance({numberOfComponents:1,values:m}),x=t.lookupTable.mapScalars(b,t.colorMode,0);t.colorTextureMap=O1.newInstance(),t.colorTextureMap.setDimensions(f),t.colorTextureMap.getPointData().setScalars(x),t.lookupTable.setAlpha(s)}t.colorCoordinates=rpe(n,t.lookupTable.getVectorMode()===$fe.MAGNITUDE&&n.getNumberOfComponents()>1?-1:t.lookupTable.getVectorComponent(),c,o,t.numberOfColorsInRange,t.colorTextureMap.getDimensions(),r)},e.getIsOpaque=()=>{let n=e.getInputData(),r=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName).scalars;if(!t.scalarVisibility||r==null)return!0;let i=e.getLookupTable();return i?(i.build(),i.areScalarsOpaque(r,t.colorMode,-1)):!0},e.canUseTextureMapForColoring=(e,n)=>n&&t.colorMode!==r0.DIRECT_SCALARS?!0:!(!t.interpolateScalarsBeforeMapping||t.lookupTable&&t.lookupTable.getIndexedLookup()||!e||t.colorMode===r0.DEFAULT&&e.getDataType()===epe.UNSIGNED_CHAR||t.colorMode===r0.DIRECT_SCALARS),e.clearColorArrays=()=>{t.colorMapColors=null,t.colorCoordinates=null,t.colorTextureMap=null},e.getLookupTable=()=>(t.lookupTable||e.createDefaultLookupTable(),t.lookupTable),e.getMTime=()=>{let e=t.mtime;if(t.lookupTable!==null){let n=t.lookupTable.getMTime();e=n>e?n:e}return e},e.getPrimitiveCount=()=>{let t=e.getInputData();return{points:t.getPoints().getNumberOfValues()/3,verts:t.getVerts().getNumberOfValues()-t.getVerts().getNumberOfCells(),lines:t.getLines().getNumberOfValues()-2*t.getLines().getNumberOfCells(),triangles:t.getPolys().getNumberOfValues()-3*t.getPolys().getNumberOfCells()}},e.acquireInvertibleLookupTable=o0(`AcquireInvertibleLookupTable`),e.valueToColor=o0(`ValueToColor`),e.colorToValue=o0(`ColorToValue`),e.useInvertibleColorFor=o0(`UseInvertibleColorFor`),e.clearInvertibleColor=o0(`ClearInvertibleColor`),e.processSelectorPixelBuffers=(e,n)=>{if(!e||!t.selectionWebGLIdsToVTKIds||!t.populateSelectionSettings)return;let r=e.getRawPixelBuffer(e0.ID_LOW24),i=e.getRawPixelBuffer(e0.ID_HIGH24),a=e.getCurrentPass(),o=e.getFieldAssociation(),s=null;o===n0.FIELD_ASSOCIATION_POINTS?s=t.selectionWebGLIdsToVTKIds.points:o===n0.FIELD_ASSOCIATION_CELLS&&(s=t.selectionWebGLIdsToVTKIds.cells),s&&n.forEach(t=>{if(a===e0.ID_LOW24){let n=0;i&&(n+=i[t],n*=256),n+=r[t+2],n*=256,n+=r[t+1],n*=256,n+=r[t];let a=s[n],o=e.getPixelBuffer(e0.ID_LOW24);o[t]=a&255,o[t+1]=(a&65280)>>8,o[t+2]=(a&16711680)>>16}else if(a===e0.ID_HIGH24&&i){let n=0;n+=i[t],n*=256,n+=r[t+2],n*=256,n+=r[t+1],n*=256,n+=r[t];let a=s[n],o=e.getPixelBuffer(e0.ID_HIGH24);o[t]=(a&4278190080)>>24}})}}var ape={colorMapColors:null,areScalarsMappedFromCells:!1,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,populateSelectionSettings:!0,selectionWebGLIdsToVTKIds:null,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,numberOfColorsInRange:0,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,customShaderAttributes:[]};function l0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ape,n),u1.extend(e,t,n),$.get(e,t,[`areScalarsMappedFromCells`,`colorCoordinates`,`colorMapColors`,`colorTextureMap`,`numberOfColorsInRange`,`selectionWebGLIdsToVTKIds`]),$.setGet(e,t,[`colorByArrayName`,`arrayAccessMode`,`colorMode`,`fieldDataTupleId`,`interpolateScalarsBeforeMapping`,`lookupTable`,`populateSelectionSettings`,`renderTime`,`scalarMode`,`scalarVisibility`,`static`,`useLookupTableScalarRange`,`customShaderAttributes`]),$.setGetArray(e,t,[`scalarRange`],2),$1.implementCoincidentTopologyMethods(e,t),ipe(e,t)}var u0={newInstance:$.newInstance(l0,`vtkMapper`),extend:l0,...Zfe,...Qfe,...j1},{isVtkObject:ope}=$;function d0(e){let t=0;return e.filter((e,n)=>n===t?(t+=e+1,!0):!1)}function f0(e){let t=0;for(let n=0;n<e.length;)n+=e[n]+1,t++;return t}var spe={extractCellSizes:d0,getNumberOfCells:f0};function cpe(e,t){t.classHierarchy.push(`vtkCellArray`);let n={...e};e.getNumberOfCells=n=>(t.numberOfCells!==void 0&&!n||(t.cellSizes?t.numberOfCells=t.cellSizes.length:t.numberOfCells=f0(e.getData())),t.numberOfCells),e.getCellSizes=n=>(t.cellSizes!==void 0&&!n||(t.cellSizes=d0(e.getData())),t.cellSizes),e.resize=r=>{let i=e.getNumberOfTuples();n.resize(r);let a=e.getNumberOfTuples();a<i&&(a===0?(t.numberOfCells=0,t.cellSizes=[]):(t.numberOfCells=void 0,t.cellSizes=void 0))},e.setData=e=>{n.setData(e,1),t.numberOfCells=void 0,t.cellSizes=void 0},e.getCell=e=>{let n=e,r=t.values[n++];return t.values.subarray(n,n+r)},e.insertNextCell=n=>{let r;r=ope(n)?n.getPointsIds():n;let i=e.getNumberOfCells();return e.insertNextTuples([r.length,...r]),++t.numberOfCells,t.cellSizes!=null&&t.cellSizes.push(r.length),i},e.getMaxCellSize=()=>e.getCellSizes().reduce((e,t)=>Math.max(e,t),0)}function lpe(e){return{empty:!0,numberOfComponents:1,dataType:t1.UNSIGNED_INT,...e}}function p0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l1.extend(e,t,lpe(n)),cpe(e,t)}var m0={newInstance:$.newInstance(p0,`vtkCellArray`),extend:p0,...spe},{vtkErrorMacro:upe}=$;function dpe(e,t){let n=0;t.classHierarchy.push(`vtkPoints`),e.getNumberOfPoints=e.getNumberOfTuples,e.setNumberOfPoints=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;e.getNumberOfPoints()!==n&&(t.size=n*r,t.values=$.newTypedArray(t.dataType,t.size),e.setNumberOfComponents(r),e.modified())},e.setPoint=function(t){var n=[...arguments].slice(1);e.setTuple(t,n)},e.getPoint=e.getTuple,e.findPoint=e.findTuple,e.insertNextPoint=(t,n,r)=>e.insertNextTuple([t,n,r]),e.insertPoint=(t,n)=>e.insertTuple(t,n);let r=e.getBounds;e.getBounds=()=>(n<t.mtime&&e.computeBounds(),r());let i=e.getBoundsByReference;e.getBoundsByReference=()=>(n<t.mtime&&e.computeBounds(),i()),e.computeBounds=()=>{if(e.getNumberOfComponents()===3){let n=e.getRange(0);t.bounds[0]=n[0],t.bounds[1]=n[1];let r=e.getRange(1);t.bounds[2]=r[0],t.bounds[3]=r[1];let i=e.getRange(2);t.bounds[4]=i[0],t.bounds[5]=i[1]}else if(e.getNumberOfComponents()===2){let n=e.getRange(0);t.bounds[0]=n[0],t.bounds[1]=n[1];let r=e.getRange(1);t.bounds[2]=r[0],t.bounds[3]=r[1],t.bounds[4]=0,t.bounds[5]=0}else upe(`getBounds called on an array with components of ${e.getNumberOfComponents()}`),bQ(t.bounds);n=$.getCurrentGlobalMTime()},e.setNumberOfComponents(t.numberOfComponents<2?3:t.numberOfComponents)}var fpe={empty:!0,numberOfComponents:3,dataType:t1.FLOAT,bounds:[1,-1,1,-1,1,-1]};function h0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,fpe,n),l1.extend(e,t,n),$.getArray(e,t,[`bounds`],6),dpe(e,t)}var g0={newInstance:$.newInstance(h0,`vtkPoints`),extend:h0};function ppe(e,t){t.classHierarchy.push(`vtkCell`),e.initialize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(n){t.pointsIds=n;let r=t.points.getData();r.length!==3*t.pointsIds.length&&(r=$.newTypedArray(e.getDataType(),3*t.pointsIds.length));let i=e.getData();t.pointsIds.forEach((e,t)=>{let n=3*e,a=3*t;r[a]=i[n],r[++a]=i[++n],r[++a]=i[++n]}),t.points.setData(r)}else{t.points=e,t.pointsIds=Array(e.getNumberOfPoints());for(let n=e.getNumberOfPoints()-1;n>=0;--n)t.pointsIds[n]=n}},e.getBounds=()=>t.points.getBounds(),e.getLength2=()=>{let t=I$.getLengths(e.getBounds());return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},e.getParametricDistance=e=>{let t,n=0;for(let r=0;r<3;r++)t=e[r]<0?-e[r]:e[r]>1?e[r]-1:0,t>n&&(n=t);return n},e.getNumberOfPoints=()=>t.points.getNumberOfPoints(),e.deepCopy=e=>{e.initialize(t.points,t.pointsIds)},e.getCellDimension=()=>{},e.intersectWithLine=(e,t,n,r,i,a,o)=>{},e.evaluatePosition=(e,t,n,r,i,a)=>{$.vtkErrorMacro(`vtkCell.evaluatePosition is not implemented.`)}}var mpe={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function _0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,mpe,n),$.obj(e,t),t.points||=g0.newInstance(),$.get(e,t,[`points`,`pointsIds`]),ppe(e,t)}var v0={newInstance:$.newInstance(_0,`vtkCell`),extend:_0};function hpe(e,t){let n=t;for(t>=e.array.length&&(n+=e.array.length);n>e.array.length;)e.array.push({ncells:0,cells:null});e.array.length=n}function gpe(e,t){t.classHierarchy.push(`vtkCellLinks`),e.buildLinks=n=>{let r=n.getPoints().getNumberOfPoints(),i=n.getNumberOfCells(),a=new Uint32Array(r);if(n.isA(`vtkPolyData`)){for(let t=0;t<i;++t){let{cellPointIds:r}=n.getCellPoints(t);r.forEach(t=>{e.incrementLinkCount(t)})}e.allocateLinks(r),t.maxId=r-1;for(let t=0;t<i;++t){let{cellPointIds:r}=n.getCellPoints(t);r.forEach(n=>{e.insertCellReference(n,a[n]++,t)})}}else{for(let t=0;t<i;t++)v0.newInstance().getPointsIds().forEach(t=>{e.incrementLinkCount(t)});e.allocateLinks(r),t.maxId=r-1;for(let t=0;t<i;++t)v0.newInstance().getPointsIds().forEach(n=>{e.insertCellReference(n,a[n]++,t)})}},e.allocate=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;t.array=Array(e).fill().map(()=>({ncells:0,cells:null})),t.extend=n,t.maxId=-1},e.initialize=()=>{t.array=null},e.getLink=e=>t.array[e],e.getNcells=e=>t.array[e].ncells,e.getCells=e=>t.array[e].cells,e.insertNextPoint=e=>{t.array.push({ncells:e,cells:Array(e)}),++t.maxId},e.insertNextCellReference=(e,n)=>{t.array[e].cells[t.array[e].ncells++]=n},e.deletePoint=e=>{t.array[e].ncells=0,t.array[e].cells=null},e.removeCellReference=(e,n)=>{t.array[n].cells=t.array[n].cells.filter(t=>t!==e),t.array[n].ncells=t.array[n].cells.length},e.addCellReference=(e,n)=>{t.array[n].cells[t.array[n].ncells++]=e},e.resizeCellList=(e,n)=>{t.array[e].cells.length=n},e.squeeze=()=>{hpe(t,t.maxId+1)},e.reset=()=>{t.maxId=-1},e.deepCopy=e=>{t.array=[...e.array],t.extend=e.extend,t.maxId=e.maxId},e.incrementLinkCount=e=>{++t.array[e].ncells},e.allocateLinks=e=>{for(let n=0;n<e;++n)t.array[n].cells=Array(t.array[n].ncells)},e.insertCellReference=(e,n,r)=>{t.array[e].cells[n]=r}}var _pe={array:null,maxId:0,extend:0};function y0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,_pe,n),$.obj(e,t),gpe(e,t)}var vpe={newInstance:$.newInstance(y0,`vtkCellLinks`),extend:y0},b0={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},x0=`vtkEmptyCell.vtkVertex.vtkPolyVertex.vtkLine.vtkPolyLine.vtkTriangle.vtkTriangleStrip.vtkPolygon.vtkPixel.vtkQuad.vtkTetra.vtkVoxel.vtkHexahedron.vtkWedge.vtkPyramid.vtkPentagonalPrism.vtkHexagonalPrism.UnknownClass.UnknownClass.UnknownClass.UnknownClass.vtkQuadraticEdge.vtkQuadraticTriangle.vtkQuadraticQuad.vtkQuadraticTetra.vtkQuadraticHexahedron.vtkQuadraticWedge.vtkQuadraticPyramid.vtkBiQuadraticQuad.vtkTriQuadraticHexahedron.vtkQuadraticLinearQuad.vtkQuadraticLinearWedge.vtkBiQuadraticQuadraticWedge.vtkBiQuadraticQuadraticHexahedron.vtkBiQuadraticTriangle.vtkCubicLine.vtkQuadraticPolygon.UnknownClass.UnknownClass.UnknownClass.UnknownClass.vtkConvexPointSet.UnknownClass.UnknownClass.UnknownClass.UnknownClass.UnknownClass.UnknownClass.UnknownClass.UnknownClass.UnknownClass.vtkParametricCurve.vtkParametricSurface.vtkParametricTriSurface.vtkParametricQuadSurface.vtkParametricTetraRegion.vtkParametricHexRegion.UnknownClass.UnknownClass.UnknownClass.vtkHigherOrderEdge.vtkHigherOrderTriangle.vtkHigherOrderQuad.vtkHigherOrderPolygon.vtkHigherOrderTetrahedron.vtkHigherOrderWedge.vtkHigherOrderPyramid.vtkHigherOrderHexahedron`.split(`.`);function ype(e){return e<x0.length?x0[e]:`UnknownClass`}function bpe(e){return x0.findIndex(e)}function xpe(e){return e<b0.VTK_QUADRATIC_EDGE||e===b0.VTK_CONVEX_POINT_SET||e===b0.VTK_POLYHEDRON}function Spe(e){return e===b0.VTK_TRIANGLE_STRIP||e===b0.VTK_POLY_LINE||e===b0.VTK_POLY_VERTEX}var Cpe={getClassNameFromTypeId:ype,getTypeIdFromClassName:bpe,isLinear:xpe,hasSubCells:Spe};function wpe(e,t){t.classHierarchy.push(`vtkCellTypes`),e.allocate=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:512,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;t.size=e>0?e:1,t.extend=n>0?n:1,t.maxId=-1,t.typeArray=new Uint8Array(e),t.locationArray=new Uint32Array(e)},e.insertCell=(e,n,r)=>{t.typeArray[e]=n,t.locationArray[e]=r,e>t.maxId&&(t.maxId=e)},e.insertNextCell=(n,r)=>(e.insertCell(++t.maxId,n,r),t.maxId),e.setCellTypes=(e,n,r)=>{t.size=e,t.typeArray=n,t.locationArray=r,t.maxId=e-1},e.getCellLocation=e=>t.locationArray[e],e.deleteCell=e=>{t.typeArray[e]=b0.VTK_EMPTY_CELL},e.getNumberOfTypes=()=>t.maxId+1,e.isType=t=>{let n=e.getNumberOfTypes();for(let r=0;r<n;++r)if(t===e.getCellType(r))return!0;return!1},e.insertNextType=t=>e.insertNextCell(t,-1),e.getCellType=e=>t.typeArray[e],e.reset=()=>{t.maxId=-1},e.deepCopy=n=>{e.allocate(n.getSize(),n.getExtend()),t.typeArray.set(n.getTypeArray()),t.locationArray.set(n.getLocationArray()),t.maxId=n.getMaxId()}}var Tpe={size:0,maxId:-1,extend:1e3};function S0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Tpe,n),$.obj(e,t),$.get(e,t,[`size`,`maxId`,`extend`]),$.getArray(e,t,[`typeArray`,`locationArray`]),wpe(e,t)}var Epe={newInstance:$.newInstance(S0,`vtkCellTypes`),extend:S0,...Cpe},C0={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2},w0={IntersectionState:C0},{IntersectionState:T0}=w0;function E0(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i={t:Number.MIN_VALUE,distance:0},a=[],o;a[0]=n[0]-t[0],a[1]=n[1]-t[1],a[2]=n[2]-t[2];let s=a[0]*(e[0]-t[0])+a[1]*(e[1]-t[1])+a[2]*(e[2]-t[2]),c=hZ(a,a),l=1e-5*s;return c!==0&&(i.t=s/c),l<0&&(l=-l),-l<c&&c<l||c<=0||i.t<0?o=t:i.t>1?o=n:(o=a,a[0]=t[0]+i.t*a[0],a[1]=t[1]+i.t*a[1],a[2]=t[2]+i.t*a[2]),r&&(r[0]=o[0],r[1]=o[1],r[2]=o[2]),i.distance=TZ(o,e),i}function D0(e,t,n,r,i,a){let o=[],s=[],c=[];i[0]=0,a[0]=0,uZ(t,e,o),uZ(r,n,s),uZ(n,e,c);let l=[hZ(o,o),-hZ(o,s),-hZ(o,s),hZ(s,s)],u=[];if(u[0]=hZ(o,c),u[1]=-hZ(s,c),aQ(l,u,2)===0){let o=Number.MAX_VALUE,s=[e,t,n,r],c=[n,n,e,e],l=[r,r,t,t];a[0],a[0],i[0],i[0],i[0],i[0],a[0],a[0];let u;for(let e=0;e<4;e++)u=E0(s[e],c[e],l[e]),u.distance<o&&(o=u.distance,u.t);return T0.ON_LINE}return i[0]=u[0],a[0]=u[1],i[0]>=0&&i[0]<=1&&a[0]>=0&&a[0]<=1?T0.YES_INTERSECTION:T0.NO_INTERSECTION}var Dpe={distanceToLine:E0,intersection:D0};function Ope(e,t){t.classHierarchy.push(`vtkLine`);function n(e){return e>=0&&e<=1}e.getCellDimension=()=>1,e.intersectWithLine=(e,r,i,a,o)=>{let s={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};o[1]=0,o[2]=0;let c=[],l=[],u=[];t.points.getPoint(0,l),t.points.getPoint(1,u);let d=[],f=[],p=D0(e,r,l,u,d,f);if(s.t=d[0],s.betweenPoints=n(s.t),o[0]=f[0],p===T0.YES_INTERSECTION){for(let t=0;t<3;t++)a[t]=l[t]+o[0]*(u[t]-l[t]),c[t]=e[t]+s.t*(r[t]-e[t]);if(TZ(a,c)<=i*i)return s.intersect=1,s}else{let t;if(s.t<0)return t=E0(e,l,u,a),t.distance<=i*i?(s.t=0,s.intersect=1,s.betweenPoints=!0,s):s;if(s.t>1)return t=E0(r,l,u,a),t.distance<=i*i?(s.t=1,s.intersect=1,s.betweenPoints=!0,s):s;if(o[0]<0)return o[0]=0,t=E0(l,e,r,a),s.t=t.t,t.distance<=i*i&&(s.intersect=1),s;if(o[0]>1)return o[0]=1,t=E0(u,e,r,a),s.t=t.t,t.distance<=i*i&&(s.intersect=1),s}return s},e.evaluateLocation=(e,n,r)=>{let i=[],a=[];t.points.getPoint(0,i),t.points.getPoint(1,a);for(let t=0;t<3;t++)n[t]=i[t]+e[0]*(a[t]-i[t]);r[0]=1-e[0],r[1]=e[0]},e.evaluateOrientation=(e,n,r)=>t.orientations?(sK(n,t.orientations[0],t.orientations[1],e[0]),r[0]=1-e[0],r[1]=e[0],!0):!1}var kpe={orientations:null};function O0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,kpe,n),v0.extend(e,t,n),$.setGet(e,t,[`orientations`]),Ope(e,t)}var k0={newInstance:$.newInstance(O0,`vtkLine`),extend:O0,...Dpe,...w0};function Ape(e,t){t.classHierarchy.push(`vtkPointSet`),t.points?t.points=jK(t.points):t.points=g0.newInstance(),e.getNumberOfPoints=()=>t.points.getNumberOfPoints(),e.getBounds=()=>t.points.getBounds(),e.computeBounds=()=>{e.getBounds()};let n=e.shallowCopy;e.shallowCopy=function(e){n(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1),t.points=g0.newInstance(),t.points.shallowCopy(e.getPoints())};let r=e.getMTime;e.getMTime=()=>{let e=r();return Math.max(e,t.points?.getMTime()??e)};let i=e.initialize;e.initialize=()=>(t.points?.initialize(),i())}var jpe={};function A0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,jpe,n),S1.extend(e,t,n),$.setGet(e,t,[`points`]),Ape(e,t)}var Mpe={newInstance:$.newInstance(A0,`vtkPointSet`),extend:A0};function Npe(e,t){t.classHierarchy.push(`vtkPolyLine`);let n=k0.newInstance();n.getPoints().setNumberOfPoints(2),e.getCellDimension=()=>1,e.intersectWithLine=(r,i,a,o,s,c,l)=>{let u={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null},d=e.getNumberOfPoints()-1,f=Number.MAX_VALUE;for(let e=0;e<d;e++){let d=[0,0,0];n.getPoints().getData().set(t.points.getData().subarray(3*e,3*(e+2)));let p=n.intersectWithLine(a,o,s,c,l);if(p.intersect===1&&p.t<=u.t+s&&p.t>=r&&p.t<=i){u.intersect=1;let t=n.getParametricDistance(d);if(t<f||t===f&&p.t<u.t){u.subId=e,u.t=p.t,f=t;for(let e=0;e<3;e++)c[e],d[e]}}}return u},e.evaluateLocation=(e,r,i,a)=>(n.getPoints().getData().set(t.points.getData().subarray(3*e,3*(e+2))),n.evaluateLocation(r,i,a)),e.evaluateOrientation=(e,r,i,a)=>(t.orientations?n.setOrientations([t.orientations[e],t.orientations[e+1]]):n.setOrientations(null),n.evaluateOrientation(r,i,a)),e.getDistancesToFirstPoint=()=>{let n=t.distancesTime.getMTime();if(n<t.points.getMTime()||n<e.getMTime()){let n=e.getNumberOfPoints();if(t.distances?t.distances.length=n:t.distances=Array(n),n>0){let e=[,,,],r=[,,,],i=0;t.distances[0]=i,t.points.getPoint(0,e);for(let a=1;a<n;++a)t.points.getPoint(a,r),i+=t.distanceFunction(e,r),t.distances[a]=i,jG(e,r)}t.distancesTime.modified()}return t.distances},e.findPointIdAtDistanceFromFirstPoint=t=>{let n=e.getDistancesToFirstPoint();if(n.length<2)return-1;let r=0,i=n.length-1;if(t<n[r]||t>n[i]||n[i]===0)return-1;for(;i-r>1;){let e=Math.floor((r+i)/2);n[e]<=t?r=e:i=e}return r}}var Ppe={orientations:null,distanceFunction:XG};function j0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ppe,n),v0.extend(e,t,n),$.setGet(e,t,[`orientations`,`distanceFunction`]),t.distancesTime={},$.obj(t.distancesTime,{mtime:0}),Npe(e,t)}var Fpe={newInstance:$.newInstance(j0,`vtkPolyLine`),extend:j0};function Ipe(e,t){t.classHierarchy.push(`vtkPriorityQueue`),e.push=(e,n)=>{let r=t.elements.findIndex(t=>t.priority>e);t.elements.splice(r,0,{priority:e,element:n})},e.pop=()=>t.elements.length>0?t.elements.shift().element:null,e.deleteById=e=>{t.elements=t.elements.filter(t=>{let{element:n}=t;return n.id!==e})},e.length=()=>t.elements.length}var Lpe={elements:[]};function M0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Lpe,n),$.obj(e,t),Ipe(e,t)}var Rpe={newInstance:$.newInstance(M0,`vtkPriorityQueue`),extend:M0},zpe=1.1920929e-7,Bpe=1e-8,N0={FAILURE:-1,OUTSIDE:0,INSIDE:1,INTERSECTION:2,ON_LINE:3};function P0(e,t,n,r,i){return(r[e]-n[e])*(i[t]-n[t])-(i[e]-n[e])*(r[t]-n[t])}function Vpe(e,t,n,r){if(e[0]<n[0]||e[0]>n[1]||e[1]<n[2]||e[1]>n[3]||e[2]<n[4]||e[2]>n[5])return N0.OUTSIDE;if(yZ(r)<=1.1920929e-7)return N0.FAILURE;let i=Bpe*((n[1]-n[0])*(n[1]-n[0])+(n[3]-n[2])*(n[3]-n[2])+(n[5]-n[4])*(n[5]-n[4]));i*=i,i=i===0?zpe:i;let a=[],o=[];for(let n=0;n<t.length;){if(a[0]=t[n++],a[1]=t[n++],a[2]=t[n++],TZ(e,a)<=i)return N0.INSIDE;let{distance:r,t:s}=k0.distanceToLine(e,a,o);if(r<=i&&s>0&&s<1)return N0.INSIDE}let s,c;Math.abs(r[0])>Math.abs(r[1])?Math.abs(r[0])>Math.abs(r[2])?(s=1,c=2):(s=0,c=1):Math.abs(r[1])>Math.abs(r[2])?(s=0,c=2):(s=0,c=1);let l=0;for(let n=0;n<t.length;)a[0]=t[n++],a[1]=t[n++],a[2]=t[n++],n<t.length?(o[0]=t[n],o[1]=t[n+1],o[2]=t[n+2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]),a[c]<=e[c]?o[c]>e[c]&&P0(s,c,a,o,e)>0&&++l:o[c]<=e[c]&&P0(s,c,a,o,e)<0&&--l;return l===0?N0.OUTSIDE:N0.INSIDE}function Hpe(e,t,n){let r=e.length,i=[];t.getPoint(e[0],i),n[0]=i[0],n[1]=i[0],n[2]=i[1],n[3]=i[1],n[4]=i[2],n[5]=i[2];for(let a=1;a<r;a++)t.getPoint(e[a],i),I$.addPoint(n,...i);let a=I$.getLengths(n);return hZ(a,a)}function Upe(e,t,n){n.length=3,n[0]=0,n[1]=0,n[2]=0;let r=[],i=[],a=[],o=[],s=[];t.getPoint(e[0],r),t.getPoint(e[1],i);for(let c=2;c<e.length;c++){t.getPoint(e[c],a),uZ(a,i,o),uZ(r,i,s);let l=[0,0,0];_Z(o,s,l),lZ(n,l,n),[i,a]=[a,i]}return yZ(n)}function Wpe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0,0];n[0]=0,n[1]=0,n[2]=0;let r=e.length,i=[];for(let a=0;a<r;a++)t.getPoint(e[a],i),n[0]+=i[0],n[1]+=i[1],n[2]+=i[2];return n[0]/=r,n[1]/=r,n[2]/=r,n}var Gpe={PolygonWithPointIntersectionState:N0,pointInPolygon:Vpe,getBounds:Hpe,getNormal:Upe,computeCentroid:Wpe};function Kpe(e,t){t.classHierarchy.push(`vtkPolygon`);function n(){let e=[0,0,0],n=[0,0,0];t.normal=[0,0,0];let r=[...t.firstPoint.point],i=t.firstPoint;for(let a=0;a<t.pointCount;a++){uZ(i.point,r,e),uZ(i.next.point,r,n);let a=[0,0,0];_Z(e,n,a),lZ(t.normal,a,t.normal),i=i.next}return yZ(t.normal)}function r(e){let n=[0,0,0],r=[0,0,0],i=[0,0,0],a=[0,0,0];uZ(e.point,e.previous.point,n),uZ(e.next.point,e.point,r),uZ(e.previous.point,e.next.point,i),_Z(n,r,a);let o=hZ(a,t.normal);if(o<=0)return-1;let s=vZ(n)+vZ(r)+vZ(i);return s*s/o}function i(e){if(t.pointCount<=3)return!0;let n=e.previous,r=e.next,i=[0,0,0];uZ(r.point,n.point,i);let a=[0,0,0];if(_Z(i,t.normal,a),yZ(a),vZ(a)===0)return!1;let o=ZQ.evaluate(a,n.point,r.next.point),s=o>1e-6?1:o<-1e-6?-1:0,c=s<0?1:0;for(let e=r.next.next;e.id!==n.id;e=e.next){let t=e.previous;o=ZQ.evaluate(a,n.point,e.point);let i=o>1e-6?1:o<-1e-6?-1:0;if(i!==s){if(c||=i<=0?1:0,k0.intersection(n.point,r.point,e.point,t.point,[0],[0])===C0.YES_INTERSECTION)return!1;s=i}}return c===1}function a(e,n){--t.pointCount;let i=e.previous,a=e.next;t.tris=t.tris.concat(e.point),t.tris=t.tris.concat(a.point),t.tris=t.tris.concat(i.point),i.next=a,a.previous=i,n.deleteById(i.id),n.deleteById(a.id);let o=r(i);o>0&&n.push(o,i);let s=r(a);s>0&&n.push(s,a),e.id===t.firstPoint.id&&(t.firstPoint=a)}function o(){n();let e=Rpe.newInstance(),o=t.firstPoint;for(let n=0;n<t.pointCount;n++){let t=r(o);t>0&&e.push(t,o),o=o.next}for(;t.pointCount>2&&e.length()>0;)if(t.pointCount===e.length())a(e.pop(),e);else{let t=e.pop();i(t)&&a(t,e)}return t.pointCount<=2}e.triangulate=()=>t.firstPoint?o():null,e.setPoints=e=>{t.pointCount=e.length,t.firstPoint={id:0,point:e[0],next:null,previous:null};let n=t.firstPoint;for(let r=1;r<t.pointCount;r++)n.next={id:r,point:e[r],next:null,previous:n},n=n.next;t.firstPoint.previous=n,n.next=t.firstPoint},e.getPointArray=()=>t.tris}var qpe={firstPoint:null,pointCount:0,tris:[]};function F0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,qpe,n),$.obj(e,t),Kpe(e,t)}var Jpe={newInstance:$.newInstance(F0,`vtkPolygon`),extend:F0,...Gpe};function I0(e,t,n,r){let i=n[0]-t[0],a=n[1]-t[1],o=n[2]-t[2],s=e[0]-t[0],c=e[1]-t[1],l=e[2]-t[2];r[0]=a*l-o*c,r[1]=o*s-i*l,r[2]=i*c-a*s}function L0(e,t,n,r){I0(e,t,n,r);let i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);i!==0&&(r[0]/=i,r[1]/=i,r[2]/=i)}function R0(e){e[0]=-1,e[1]=1,e[2]=0,e[3]=-1,e[4]=0,e[5]=1}function Ype(e,t,n,r,i,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1e-6,s=!1,c=[],l=[],u=[],d=[],f=[];L0(e,t,n,d),L0(r,i,a,f);let p=-hZ(d,e),m=-hZ(f,r),h=[hZ(f,e)+m,hZ(f,t)+m,hZ(f,n)+m];if(h[0]*h[1]>o&&h[0]*h[2]>o)return{intersect:!1,coplanar:s,pt1:c,pt2:l,surfaceId:u};let g=[hZ(d,r)+p,hZ(d,i)+p,hZ(d,a)+p];if(g[0]*g[1]>o&&g[0]*g[2]>o)return{intersect:!1,coplanar:s,pt1:c,pt2:l,surfaceId:u};if(Math.abs(d[0]-f[0])<1e-9&&Math.abs(d[1]-f[1])<1e-9&&Math.abs(d[2]-f[2])<1e-9&&Math.abs(p-m)<1e-9)return s=!0,{intersect:!1,coplanar:s,pt1:c,pt2:l,surfaceId:u};let _=[e,t,n],v=[r,i,a],y=hZ(d,f),b=(p-m*y)/(y*y-1),x=(m-p*y)/(y*y-1),S=[b*d[0]+x*f[0],b*d[1]+x*f[1],b*d[2]+x*f[2]],C=_Z(d,f,[]);yZ(C);let w=0,T=0,E=[],D=[],O=50,k=50;for(let t=0;t<3;t++){let n=t,i=(t+1)%3,a=ZQ.intersectWithLine(_[n],_[i],r,f);a.intersection&&a.t>0-o&&a.t<1+o&&(a.t<1+o&&a.t>1-o&&(O=w),E[w++]=hZ(a.x,C)-hZ(S,C));let s=ZQ.intersectWithLine(v[n],v[i],e,d);s.intersection&&s.t>0-o&&s.t<1+o&&(s.t<1+o&&s.t>1-o&&(k=T),D[T++]=hZ(s.x,C)-hZ(S,C))}if(w>2){w--;let e=E[2];E[2]=E[O],E[O]=e}if(T>2){T--;let e=D[2];D[2]=D[k],D[k]=e}if(w!==2||T!==2||Number.isNaN(E[0])||Number.isNaN(E[1])||Number.isNaN(D[0])||Number.isNaN(D[1]))return{intersect:!1,coplanar:s,pt1:c,pt2:l,surfaceId:u};if(E[0]>E[1]){let e=E[1];E[1]=E[0],E[0]=e}if(D[0]>D[1]){let e=D[1];D[1]=D[0],D[0]=e}let A,j;return E[1]<D[0]||D[1]<E[0]?{intersect:!1,coplanar:s,pt1:c,pt2:l,surfaceId:u}:(E[0]<D[0]?E[1]<D[1]?(u[0]=2,u[1]=1,A=D[0],j=E[1]):(u[0]=2,u[1]=2,A=D[0],j=D[1]):E[1]<D[1]?(u[0]=1,u[1]=1,A=E[0],j=E[1]):(u[0]=1,u[1]=2,A=E[0],j=D[1]),pZ(S,C,A,c),pZ(S,C,j,l),{intersect:!0,coplanar:s,pt1:c,pt2:l,surfaceId:u})}var Xpe={computeNormalDirection:I0,computeNormal:L0,interpolationDerivs:R0,intersectWithTriangle:Ype};function Zpe(e,t){t.classHierarchy.push(`vtkTriangle`),e.getCellDimension=()=>2,e.intersectWithLine=(n,r,i,a,o)=>{let s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};o[2]=0;let c=[],l=i*i,u=[],d=[],f=[];t.points.getPoint(0,u),t.points.getPoint(1,d),t.points.getPoint(2,f);let p=[],m=[];if(L0(u,d,f,p),p[0]!==0||p[1]!==0||p[2]!==0){let t=ZQ.intersectWithLine(n,r,u,p);if(s.betweenPoints=t.betweenPoints,s.t=t.t,a[0]=t.x[0],a[1]=t.x[1],a[2]=t.x[2],!t.intersection)return o[0]=0,o[1]=0,s.intersect=0,s;let i=e.evaluatePosition(a,c,o,m);if(i.evaluation>=0)return i.dist2<=l?(s.intersect=1,s):(s.intersect=i.evaluation,s)}let h=TZ(u,d),g=TZ(d,f),_=TZ(f,u);t.line||=k0.newInstance(),h>g&&h>_?(t.line.getPoints().setPoint(0,u),t.line.getPoints().setPoint(1,d)):g>_&&g>h?(t.line.getPoints().setPoint(0,d),t.line.getPoints().setPoint(1,f)):(t.line.getPoints().setPoint(0,f),t.line.getPoints().setPoint(1,u));let v=t.line.intersectWithLine(n,r,i,a,o);if(s.betweenPoints=v.betweenPoints,s.t=v.t,v.intersect){let e=[],t=[],n=[];for(let r=0;r<3;r++)e[r]=u[r]-f[r],t[r]=d[r]-f[r],n[r]=a[r]-f[r];return o[0]=hZ(n,e)/_,o[1]=hZ(n,t)/g,s.intersect=1,s}return o[0]=0,o[1]=0,s.intersect=0,s},e.evaluatePosition=(e,n,r,i)=>{let a={subId:0,dist2:0,evaluation:-1},o,s,c=[],l=[],u=[],d=[],f,p=[],m=[],h=[],g=0,_=0,v=[],y,b,x,S=[],C=[],w=[],T=[];a.subId=0,r[2]=0,t.points.getPoint(1,c),t.points.getPoint(2,l),t.points.getPoint(0,u),I0(c,l,u,d),ZQ.generalizedProjectPoint(e,c,d,T);let E=0;for(o=0;o<3;o++)f=d[o]<0?-d[o]:d[o],f>E&&(E=f,_=o);for(s=0,o=0;o<3;o++)o!==_&&(v[s++]=o);for(o=0;o<2;o++)p[o]=T[v[o]]-u[v[o]],m[o]=c[v[o]]-u[v[o]],h[o]=l[v[o]]-u[v[o]];if(g=MZ(m,h),g===0)return r[0]=0,r[1]=0,a.evaluation=-1,a;if(r[0]=MZ(p,h)/g,r[1]=MZ(m,p)/g,i[0]=1-(r[0]+r[1]),i[1]=r[0],i[2]=r[1],i[0]>=0&&i[0]<=1&&i[1]>=0&&i[1]<=1&&i[2]>=0&&i[2]<=1)n&&(a.dist2=TZ(T,e),n[0]=T[0],n[1]=T[1],n[2]=T[2]),a.evaluation=1;else{if(n)if(i[1]<0&&i[2]<0)for(y=TZ(e,u),b=k0.distanceToLine(e,c,u,void 0,C),x=k0.distanceToLine(e,u,l,void 0,w),y<b?(a.dist2=y,S=u):(a.dist2=b,S=C),x<a.dist2&&(a.dist2=x,S=w),o=0;o<3;o++)n[o]=S[o];else if(i[2]<0&&i[0]<0)for(y=TZ(e,c),b=k0.distanceToLine(e,c,u,void 0,C),x=k0.distanceToLine(e,c,l,void 0,w),y<b?(a.dist2=y,S=c):(a.dist2=b,S=C),x<a.dist2&&(a.dist2=x,S=w),o=0;o<3;o++)n[o]=S[o];else if(i[1]<0&&i[0]<0)for(y=TZ(e,l),b=k0.distanceToLine(e,l,u,void 0,C),x=k0.distanceToLine(e,c,l,void 0,w),y<b?(a.dist2=y,S=l):(a.dist2=b,S=C),x<a.dist2&&(a.dist2=x,S=w),o=0;o<3;o++)n[o]=S[o];else i[0]<0?a.dist2=k0.distanceToLine(e,c,l,n).distance:i[1]<0?a.dist2=k0.distanceToLine(e,l,u,n).distance:i[2]<0&&(a.dist2=k0.distanceToLine(e,c,u,n).distance);a.evaluation=0}return a},e.evaluateLocation=(e,n,r)=>{let i=[],a=[],o=[];t.points.getPoint(0,i),t.points.getPoint(1,a),t.points.getPoint(2,o);let s=1-e[0]-e[1];for(let t=0;t<3;t++)n[t]=i[t]*s+a[t]*e[0]+o[t]*e[1];r[0]=s,r[1]=e[0],r[2]=e[1]},e.getParametricDistance=e=>{let t,n=0,r=[];r[0]=e[0],r[1]=e[1],r[2]=1-e[0]-e[1];for(let e=0;e<3;e++)t=r[e]<0?-r[e]:r[e]>1?r[e]-1:0,t>n&&(n=t);return n},e.derivatives=(e,n,r,i,a)=>{let o=t.points.getPoint(0),s=t.points.getPoint(1),c=t.points.getPoint(2),l=[],u=[],d=[],f=[];L0(o,s,c,l),uZ(s,o,u),uZ(c,o,f),_Z(l,u,d);let p=yZ(u);if(p<=0||yZ(d)<=0){for(let e=0;e<i;e++)for(let t=0;t<3;t++)a[e*i+t]=0;return}let m=[0,0],h=[p,0],g=[hZ(f,u),hZ(f,d)],_=[,,,,,,];R0(_);let v=[h[0]-m[0],h[1]-m[1],g[0]-m[0],g[1]-m[1]],y=$.newTypedArray(YK.Float64Array,4);oQ(v,y,2);for(let e=0;e<i;e++){let t=0,n=0;for(let a=0;a<3;a++)t+=_[a]*r[i*a+e],n+=_[3+a]*r[i*a+e];let o=t*y[0]+n*y[1],s=t*y[2]+n*y[3];a[3*e]=o*u[0]+s*d[0],a[3*e+1]=o*u[1]+s*d[1],a[3*e+2]=o*u[2]+s*d[2]}},e.cellBoundary=(e,n,r)=>{let i=n[0]-n[1],a=.5*(1-n[0])-n[1],o=2*n[0]+n[1]-1;return i>=0&&a>=0?(r[0]=t.pointsIds[0],r[1]=t.pointsIds[1]):a<0&&o>=0?(r[0]=t.pointsIds[1],r[1]=t.pointsIds[2]):(r[0]=t.pointsIds[2],r[1]=t.pointsIds[0]),!(n[0]<0||n[1]<0||n[0]>1||n[1]>1||1-n[0]-n[1]<0)}}var Qpe={};function z0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Qpe,n),v0.extend(e,t,n),Zpe(e,t)}var B0={newInstance:$.newInstance(z0,`vtkTriangle`),extend:z0,...Xpe};function V0(){return{intersected:!1,subId:-1,x:[0,0,0],pCoords:[0,0,0],t:-1}}function $pe(e,t){t.classHierarchy.push(`vtkQuad`),e.getCellDimension=()=>2,e.getCellType=()=>b0.VTK_QUAD,e.getNumberOfEdges=()=>4,e.getNumberOfFaces=()=>0,e.intersectWithLine=(e,n,r,i,a)=>{let o={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1},s,c=t.points.getPoint(0,[]),l=t.points.getPoint(1,[]),u=t.points.getPoint(2,[]),d=t.points.getPoint(3,[]),f=TZ(c,u),p=TZ(l,d);if(f===p){let e,n=0,r=0;for(let i=0;i<4;i++)e=t.pointsIds[i],e>n&&(n=e,r=i);s=r===0||r===2?0:1}else s=f<p?0:1;let m=null;t.triangle?m=t.triangle.getPoints():(t.triangle=B0.newInstance(),m=g0.newInstance(),m.setNumberOfPoints(3),t.triangle.initialize(m));let h,g=V0(),_,v=V0(),y,b;switch(s){case 0:m.setPoint(0,...c),m.setPoint(1,...l),m.setPoint(2,...u),h=t.triangle.intersectWithLine(e,n,r,g.x,g.pCoords),m.setPoint(0,...u),m.setPoint(1,...d),m.setPoint(2,...c),_=t.triangle.intersectWithLine(e,n,r,v.x,v.pCoords),y=h.intersect&&_.intersect?h.t<=_.t:h.intersect,b=h.intersect&&_.intersect?_.t<h.t:_.intersect,y?(o=h,i[0]=g.x[0],i[1]=g.x[1],i[2]=g.x[2],a[0]=g.pCoords[0]+g.pCoords[1],a[1]=g.pCoords[1],a[2]=g.pCoords[2]):b&&(o=_,i[0]=v.x[0],i[1]=v.x[1],i[2]=v.x[2],a[0]=1-(v.pCoords[0]+v.pCoords[1]),a[1]=1-v.pCoords[1],a[2]=v.pCoords[2]);break;case 1:m.setPoint(0,...c),m.setPoint(1,...l),m.setPoint(2,...d),h=t.triangle.intersectWithLine(e,n,r,g.x,g.pCoords),m.setPoint(0,...u),m.setPoint(1,...d),m.setPoint(2,...l),_=t.triangle.intersectWithLine(e,n,r,v.x,v.pCoords),y=h.intersect&&_.intersect?h.t<=_.t:h.intersect,b=h.intersect&&_.intersect?_.t<h.t:_.intersect,y?(o=h,i[0]=g.x[0],i[1]=g.x[1],i[2]=g.x[2],a[0]=g.pCoords[0],a[1]=g.pCoords[1],a[2]=g.pCoords[2]):b&&(o=_,i[0]=v.x[0],i[1]=v.x[1],i[2]=v.x[2],a[0]=1-v.pCoords[0],a[1]=1-v.pCoords[1],a[2]=v.pCoords[2]);break}return o},e.interpolationFunctions=(e,t)=>{let n=1-e[0],r=1-e[1];t[0]=n*r,t[1]=e[0]*r,t[2]=e[0]*e[1],t[3]=n*e[1]},e.evaluateLocation=(n,r,i)=>{let a=[];e.interpolationFunctions(n,i),r[0]=0,r[1]=0,r[2]=0;for(let e=0;e<4;e++){t.points.getPoint(e,a);for(let t=0;t<3;t++)r[t]+=a[t]*i[e]}}}var eme={};function H0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,eme,n),v0.extend(e,t,n),$pe(e,t)}var tme={newInstance:$.newInstance(H0,`vtkQuad`),extend:H0},{vtkErrorMacro:U0}=$;function W0(e){return()=>U0(`vtkTriangleStrip.${e} - NOT IMPLEMENTED`)}function nme(e,t){if(!Array.isArray(e)||e.length<3){U0(`decomposeStrip - Invalid points array`);return}let n=e[0],r=e[1];for(let i=0;i<e.length-2;i++){let a=e[i+2];i%2?t.insertNextCell([r,n,a]):t.insertNextCell([n,r,a]),n=r,r=a}}var rme={decomposeStrip:nme};function ime(e,t){t.classHierarchy.push(`vtkTriangleStrip`);let n=e.initialize;e.initialize=(e,r)=>{t.triangle.initialize(e,r),n(e,r)},e.getCellType=()=>b0.VTK_TRIANGLE_STRIP,e.getCellDimension=()=>2,e.getNumberOfEdges=()=>t.pointsIds.length,e.getNumberOfFaces=()=>0,e.evaluatePosition=(e,n,r,i,a)=>{let o=[0,0,0],s=Number.MAX_VALUE,c=0,l=[],u=[],d=[];r[2]=0,u[0]=0,u[1]=0,u[2]=0;let f=t.triangle.getPoints();f.setNumberOfPoints(3);let p=t.triangle.getPointsIds().length;for(let e=0;e<p;e++)a[e]=0;for(let i=0;i<p-2;i++){let a=[];f.getPoint(i,a);let p=[];f.getPoint(i+1,p);let m=[];f.getPoint(i+2,m),f.setData(Float32Array.from([...a,...p,...m]),3);let h=t.triangle.evaluatePosition(e,d,o,l),g=h.dist2;h.evaluation>=0&&(g<s||g===s&&c===0)&&(c=h,n&&(n[0]=d[0],n[1]=d[1],n[2]=d[2]),r[0]=o[0],r[1]=o[1],s=g,u[0]=l[0],u[1]=l[1],u[2]=l[2])}return i[0]=s,a[0]=u[0],a[1]=u[1],a[2]=u[2],c},e.evaluateLocation=(e,n,r,i)=>{let a=[[0,1,2],[1,0,2]],o=e%2,s=t.pointsIds.length;for(let e=0;e<s;e++)i[e]=0;i[e]=1-n[0]-n[1],i[e+1]=n[0],i[e+2]=n[1];let c=[];t.points.getPoint(e+a[o][0],c);let l=[];t.points.getPoint(e+a[o][1],l);let u=[];t.points.getPoint(e+a[o][2],u);for(let t=0;t<3;t++)r[t]=c[t]*i[e]+l[t]*i[e+1]+u[t]*i[e+2]},e.cellBoundary=(e,n,r)=>{let i=[[0,1,2],[1,0,2]],a=e%2,o=t.triangle.getPointsIds();return o[0]=t.pointsIds[i[a][0]],o[1]=t.pointsIds[i[a][1]],o[2]=t.pointsIds[i[a][2]],t.triangle.cellBoundary(0,n,r)},e.getEdge=e=>{let n,r,i=t.pointsIds.length;return e===0?(n=0,r=1):e===i-1?(n=e-1,r=e):(n=e-1,r=e+1),t.line.getPointsIds()[0]=t.pointsIds[n],t.line.getPointsIds()[1]=t.pointsIds[r],t.line.getPoints().setPoint(0,t.points.getPoint(n)),t.line.getPoints().setPoint(1,t.points.getPoint(r)),t.line},e.intersectWithLine=(e,n,r,i,a)=>{let o=t.pointsIds.length-2,s=t.triangle.getPoints();s.setNumberOfPoints(3);for(let c=0;c<o;c++){let o=[];t.points.getPoint(t.pointsIds[c],o);let l=[];t.points.getPoint(t.pointsIds[c+1],l);let u=[];t.points.getPoint(t.pointsIds[c+2],u),s.setData(Float32Array.from([...o,...l,...u]),3);let d=t.triangle.intersectWithLine(e,n,r,i,a);if(d.intersect)return d}return!1},e.triangulate=()=>{let e=t.points.getNumberOfPoints()-2;t.tris=Array(3*e);let n=[[0,1,2],[1,0,2]];for(let r=0;r<e;r++){let e=r%2;for(let i=0;i<3;i++)t.tris[r*3+i]=r+n[e][i]}return!0},e.getPointArray=()=>t.tris,e.derivatives=(e,n,r,i,a)=>{let o=[];t.points.getPoint(e,o);let s=[];t.points.getPoint(e+1,s);let c=[];t.points.getPoint(e+2,c);let l=t.triangle.getPoints();l.setPoint(0,...o),l.setPoint(1,...s),l.setPoint(2,...c),t.triangle.derivatives(0,n,r,i,a)},e.getParametricCenter=e=>(e[0]=.333333,e[1]=.333333,e[2]=0,Math.floor((t.pointsIds.length-2)/2)),e.contour=(e,t,n,r,i,a,o,s,c,l,u)=>W0(`contour`)(),e.clip=(e,t,n,r,i,a,o,s,c,l)=>W0(`clip`)()}var ame={line:null,triangle:null,tris:null};function G0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ame,n),v0.extend(e,t,n),t.line||=k0.newInstance(),t.triangle||=B0.newInstance(),ime(e,t)}var ome={newInstance:$.newInstance(G0,`vtkTriangleStrip`),extend:G0,...rme},K0=[`verts`,`lines`,`polys`,`strips`],{vtkWarningMacro:q0}=$,sme={[b0.VTK_LINE]:k0,[b0.VTK_QUAD]:tme,[b0.VTK_POLY_LINE]:k0,[b0.VTK_TRIANGLE]:B0,[b0.VTK_TRIANGLE_STRIP]:ome,[b0.VTK_POLY_LINE]:Fpe,[b0.VTK_POLYGON]:Jpe};function cme(e,t){t.classHierarchy.push(`vtkPolyData`);function n(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,e=>e.toUpperCase()).replace(/\s+/g,``)}function r(){t.cells=void 0,t.links=void 0}K0.forEach(i=>{e[`getNumberOf${n(i)}`]=()=>t[i].getNumberOfCells(),t[i]?t[i]=jK(t[i]):t[i]=m0.newInstance(),t[`_on${n(i)}Changed`]=r}),e.getNumberOfCells=()=>K0.reduce((e,n)=>e+t[n].getNumberOfCells(),0);let i=e.shallowCopy;e.shallowCopy=function(e){i(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1),K0.forEach(n=>{t[n]=m0.newInstance(),t[n].shallowCopy(e.getReferenceByName(n))})};let a=e.getMTime;e.getMTime=()=>K0.reduce((e,n)=>Math.max(e,t[n]?.getMTime()??e),a());let o=e.initialize;e.initialize=()=>(K0.forEach(e=>t[e]?.initialize()),r(),o()),e.buildCells=()=>{let n=e.getNumberOfVerts(),r=e.getNumberOfLines(),i=e.getNumberOfPolys(),a=e.getNumberOfStrips(),o=n+r+i+a,s=new Uint8Array(o),c=s,l=new Uint32Array(o),u=l;if(n){let e=0;t.verts.getCellSizes().forEach((t,n)=>{u[n]=e,c[n]=t>1?b0.VTK_POLY_VERTEX:b0.VTK_VERTEX,e+=t+1}),u=u.subarray(n),c=c.subarray(n)}if(r){let e=0;t.lines.getCellSizes().forEach((t,n)=>{u[n]=e,c[n]=t>2?b0.VTK_POLY_LINE:b0.VTK_LINE,t===1&&q0(`Building VTK_LINE `,n,` with only one point, but VTK_LINE needs at least two points. Check the input.`),e+=t+1}),u=u.subarray(r),c=c.subarray(r)}if(i){let e=0;t.polys.getCellSizes().forEach((t,n)=>{switch(u[n]=e,t){case 3:c[n]=b0.VTK_TRIANGLE;break;case 4:c[n]=b0.VTK_QUAD;break;default:c[n]=b0.VTK_POLYGON;break}t<3&&q0(`Building VTK_TRIANGLE `,n,` with less than three points, but VTK_TRIANGLE needs at least three points. Check the input.`),e+=t+1}),u+=u.subarray(i),c+=c.subarray(i)}if(a){let e=0;c.fill(b0.VTK_TRIANGLE_STRIP,0,a),t.strips.getCellSizes().forEach((t,n)=>{u[n]=e,e+=t+1})}t.cells=Epe.newInstance(),t.cells.setCellTypes(o,s,l)},e.buildLinks=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;t.cells??e.buildCells(),t.links=vpe.newInstance(),n>0?t.links.allocate(n):t.links.allocate(e.getPoints().getNumberOfPoints()),t.links.buildLinks(e)},e.getCellType=e=>t.cells.getCellType(e),e.getCellPoints=n=>{let r=e.getCellType(n),i=null;switch(r){case b0.VTK_VERTEX:case b0.VTK_POLY_VERTEX:i=t.verts;break;case b0.VTK_LINE:case b0.VTK_POLY_LINE:i=t.lines;break;case b0.VTK_TRIANGLE:case b0.VTK_QUAD:case b0.VTK_POLYGON:i=t.polys;break;case b0.VTK_TRIANGLE_STRIP:i=t.strips;break;default:return i=null,{type:0,cellPointIds:null}}let a=t.cells.getCellLocation(n);return{cellType:r,cellPointIds:i.getCell(a)}},e.getPointCells=e=>t.links.getCells(e),e.getCellEdgeNeighbors=(e,n,r)=>{let i=t.links.getLink(n),a=t.links.getLink(r);return i.cells.filter(t=>t!==e&&a.cells.indexOf(t)!==-1)},e.getCell=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=e.getCellPoints(t),i=n||sme[r.cellType].newInstance();return i.initialize(e.getPoints(),r.cellPointIds),i},e.getMaxCellSize=()=>K0.reduce((e,n)=>Math.max(e,t[n]?.getMaxCellSize?.()??0),0)}var lme={};function J0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,lme,n),Mpe.extend(e,t,n),$.get(e,t,[`cells`,`links`]),$.setGet(e,t,[`verts`,`lines`,`polys`,`strips`]),cme(e,t)}var Y0={newInstance:$.newInstance(J0,`vtkPolyData`),extend:J0};function ume(e,t){t.classHierarchy.push(`vtkTexture`),e.imageLoaded=()=>{t.image.removeEventListener(`load`,e.imageLoaded),t.imageLoaded=!0,e.modified()},e.setJsImageData=n=>{t.jsImageData!==n&&(n!==null&&(e.setInputData(null),e.setInputConnection(null),t.image=null,t.canvas=null,t.imageBitmap=null),t.jsImageData=n,t.imageLoaded=!0,e.modified())},e.setImageBitmap=n=>{t.imageBitmap!==n&&(n!==null&&(e.setInputData(null),e.setInputConnection(null),t.image=null,t.canvas=null,t.jsImageData=null),t.imageBitmap=n,t.imageLoaded=!0,e.modified())},e.setCanvas=n=>{t.canvas!==n&&(n!==null&&(e.setInputData(null),e.setInputConnection(null),t.image=null,t.imageBitmap=null,t.jsImageData=null),t.canvas=n,e.modified())},e.setImage=n=>{t.image!==n&&(n!==null&&(e.setInputData(null),e.setInputConnection(null),t.canvas=null,t.jsImageData=null,t.imageBitmap=null),t.image=n,t.imageLoaded=!1,n.complete?e.imageLoaded():n.addEventListener(`load`,e.imageLoaded),e.modified())},e.getDimensionality=()=>{let n=0,r=0,i=1;if(e.getInputData()){let t=e.getInputData();n=t.getDimensions()[0],r=t.getDimensions()[1],i=t.getDimensions()[2]}return t.jsImageData&&(n=t.jsImageData.width,r=t.jsImageData.height),t.canvas&&(n=t.canvas.width,r=t.canvas.height),t.image&&(n=t.image.width,r=t.image.height),t.imageBitmap&&(n=t.imageBitmap.width,r=t.imageBitmap.height),(n>1)+(r>1)+(i>1)},e.getInputAsJsImageData=()=>{if(!t.imageLoaded||e.getInputData())return null;if(t.jsImageData)return t.jsImageData;if(t.imageBitmap)return t.imageBitmap;if(t.canvas)return t.canvas.getContext(`2d`).getImageData(0,0,t.canvas.width,t.canvas.height);if(t.image){let e=t.image.width,n=t.image.height,r=new OffscreenCanvas(e,n).getContext(`2d`);return r.translate(0,n),r.scale(1,-1),r.drawImage(t.image,0,0,e,n),r.getImageData(0,0,e,n)}return null}}var dme=(e,t,n)=>{let r=e.createShaderModule({code:`
    @group(0) @binding(0) var inputTexture: texture_2d<f32>;
    @group(0) @binding(1) var outputTexture: texture_storage_2d<rgba8unorm, write>;

    @compute @workgroup_size(8, 8)
    fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
      let texelCoord = vec2<i32>(global_id.xy);
      let outputSize = textureDimensions(outputTexture);

      if (texelCoord.x >= i32(outputSize.x) || texelCoord.y >= i32(outputSize.y)) {
        return;
      }

      let inputSize = textureDimensions(inputTexture);
      let scale = vec2<f32>(inputSize) / vec2<f32>(outputSize);

      // Compute the floating-point source coordinate
      let srcCoord = (vec2<f32>(texelCoord) + 0.5) * scale - 0.5;

      // Get integer coordinates for the four surrounding texels
      let x0 = i32(floor(srcCoord.x));
      let x1 = min(x0 + 1, i32(inputSize.x) - 1);
      let y0 = i32(floor(srcCoord.y));
      let y1 = min(y0 + 1, i32(inputSize.y) - 1);

      // Compute the weights
      let wx = srcCoord.x - f32(x0);
      let wy = srcCoord.y - f32(y0);

      // Fetch the four texels
      let c00 = textureLoad(inputTexture, vec2<i32>(x0, y0), 0);
      let c10 = textureLoad(inputTexture, vec2<i32>(x1, y0), 0);
      let c01 = textureLoad(inputTexture, vec2<i32>(x0, y1), 0);
      let c11 = textureLoad(inputTexture, vec2<i32>(x1, y1), 0);

      // Bilinear interpolation
      let color = mix(
        mix(c00, c10, wx),
        mix(c01, c11, wx),
        wy
      );

      textureStore(outputTexture, texelCoord, color);
    }
  `}),i=e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,texture:{sampleType:`float`}},{binding:1,visibility:GPUShaderStage.COMPUTE,storageTexture:{format:`rgba8unorm`,access:`write-only`}},{binding:2,visibility:GPUShaderStage.COMPUTE,sampler:{type:`filtering`}}]}),a=e.createPipelineLayout({bindGroupLayouts:[i]}),o=e.createComputePipeline({label:`ComputeMipmapPipeline`,layout:a,compute:{module:r,entryPoint:`main`}}),s=e.createSampler({magFilter:`linear`,minFilter:`linear`});for(let r=1;r<n;r++){let n=t.createView({baseMipLevel:r-1,mipLevelCount:1}),i=t.createView({baseMipLevel:r,mipLevelCount:1}),a=e.createBindGroup({layout:o.getBindGroupLayout(0),entries:[{binding:0,resource:n},{binding:1,resource:i},{binding:2,resource:s}]}),c=e.createCommandEncoder({label:`MipmapGenerateCommandEncoder`}),l=c.beginComputePass();l.setPipeline(o),l.setBindGroup(0,a);let u=Math.max(1,t.width>>r),d=Math.max(1,t.height>>r),f=Math.ceil(u/8),p=Math.ceil(d/8);l.dispatchWorkgroups(f,p),l.end(),e.queue.submit([c.finish()])}},fme={image:null,canvas:null,jsImageData:null,imageBitmap:null,imageLoaded:!1,repeat:!1,interpolate:!1,edgeClamp:!1,mipLevel:0,resizable:!1};function X0(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,fme,n),$.obj(e,t),$.algo(e,t,6,0),$.get(e,t,[`canvas`,`image`,`jsImageData`,`imageBitmap`,`imageLoaded`,`resizable`]),$.setGet(e,t,[`repeat`,`edgeClamp`,`interpolate`,`mipLevel`]),ume(e,t)}var Z0={newInstance:$.newInstance(X0,`vtkTexture`),extend:X0,generateMipmaps:dme},pme=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],Q0=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],$0=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],e2=[0,1,0,1,0,1,0,1,2,2,2,2],t2=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],n2=new Float64Array(3),r2=new Float64Array(3),i2=new Float64Array(3),a2=new Float64Array(3),o2=new Float64Array(3),s2=new Float64Array(3),c2=new Float64Array(16);function l2(e,t){e.strokeStyle=t.strokeColor,e.lineWidth=t.strokeSize,e.fillStyle=t.fontColor,e.font=`${t.fontStyle} ${t.fontSize}px ${t.fontFamily}`}function u2(e){let t=[],n=[];for(let r=0;r<3;r++){let i=yX().domain([e[r*2],e[r*2+1]]);t[r]=i.ticks(5);let a=i.tickFormat(5);n[r]=t[r].map(a)}return{ticks:t,tickStrings:n}}function mme(e,t){t.classHierarchy.push(`vtkCubeAxesActorHelper`),e.setRenderable=n=>{t.renderable!==n&&(t.renderable=n,t.tmActor.addTexture(t.renderable.getTmTexture()),t.tmActor.setProperty(n.getProperty()),t.tmActor.setParentProp(n),e.modified())},e.createPolyDataForOneLabel=(e,n,r,i,a,o,s)=>{let c=t.renderable.get_tmAtlas().get(e);if(!c)return;let l=t.renderable.getTextPolyData().getPoints().getData(),u=t.lastSize;n2[0]=l[n*3],n2[1]=l[n*3+1],n2[2]=l[n*3+2],UG(i2,n2,r),i2[0]+=.1,UG(r2,i2,i),PG(o2,r2,n2),i2[0]-=.1,i2[1]+=.1,UG(r2,i2,i),PG(s2,r2,n2);for(let e=0;e<3;e++)o2[e]/=.5*.1*u[0],s2[e]/=.5*.1*u[1];let d=s.ptIdx,f=s.cellIdx;n2[0]=l[n*3],n2[1]=l[n*3+1],n2[2]=l[n*3+2],a[0]<-.5?IG(i2,o2,a[0]*o-c.width):a[0]>.5?IG(i2,o2,a[0]*o):IG(i2,o2,a[0]*o-c.width/2),NG(n2,n2,i2),IG(i2,s2,a[1]*o-c.height/2),NG(n2,n2,i2),s.points[d*3]=n2[0],s.points[d*3+1]=n2[1],s.points[d*3+2]=n2[2],s.tcoords[d*2]=c.tcoords[0],s.tcoords[d*2+1]=c.tcoords[1],d++,IG(i2,o2,c.width),NG(n2,n2,i2),s.points[d*3]=n2[0],s.points[d*3+1]=n2[1],s.points[d*3+2]=n2[2],s.tcoords[d*2]=c.tcoords[2],s.tcoords[d*2+1]=c.tcoords[3],d++,IG(i2,s2,c.height),NG(n2,n2,i2),s.points[d*3]=n2[0],s.points[d*3+1]=n2[1],s.points[d*3+2]=n2[2],s.tcoords[d*2]=c.tcoords[4],s.tcoords[d*2+1]=c.tcoords[5],d++,IG(i2,o2,c.width),PG(n2,n2,i2),s.points[d*3]=n2[0],s.points[d*3+1]=n2[1],s.points[d*3+2]=n2[2],s.tcoords[d*2]=c.tcoords[6],s.tcoords[d*2+1]=c.tcoords[7],d++,s.polys[f*4]=3,s.polys[f*4+1]=d-4,s.polys[f*4+2]=d-3,s.polys[f*4+3]=d-2,f++,s.polys[f*4]=3,s.polys[f*4+1]=d-4,s.polys[f*4+2]=d-2,s.polys[f*4+3]=d-1,s.ptIdx+=4,s.cellIdx+=2},e.updateTexturePolyData=()=>{let n=t.camera.getCompositeProjectionMatrix(t.lastAspectRatio,-1,1);LW(n,n);let r=t.renderable.getTextValues().length,i=r*4,a=r*2,o=new Float64Array(i*3),s=new Uint16Array(a*4),c=new Float32Array(i*2);RW(c2,n);let l={ptIdx:0,cellIdx:0,polys:s,points:o,tcoords:c},u=0,d=0,f=0,p=t.renderable.getTextPolyData().getPoints().getData(),m=t.renderable.getTextValues();for(;u<p.length/3;){n2[0]=p[u*3],n2[1]=p[u*3+1],n2[2]=p[u*3+2],UG(i2,n2,n),n2[0]=p[u*3+3],n2[1]=p[u*3+4],n2[2]=p[u*3+5],UG(a2,n2,n),PG(i2,i2,a2);let r=[i2[0],i2[1]];jZ(r),e.createPolyDataForOneLabel(m[d],u,n,c2,r,t.renderable.getAxisTitlePixelOffset(),l),u+=2,d++;for(let i=0;i<t.renderable.getTickCounts()[f];i++)e.createPolyDataForOneLabel(m[d],u,n,c2,r,t.renderable.getTickLabelPixelOffset(),l),u++,d++;f++}let h=l1.newInstance({numberOfComponents:2,values:c,name:`TextureCoordinates`});t.tmPolyData.getPointData().setTCoords(h),t.tmPolyData.getPoints().setData(o,3),t.tmPolyData.getPoints().modified(),t.tmPolyData.getPolys().setData(s,1),t.tmPolyData.getPolys().modified(),t.tmPolyData.modified()},e.updateAPISpecificData=(n,r,i)=>{(t.lastSize[0]!==n[0]||t.lastSize[1]!==n[1])&&(t.lastSize[0]=n[0],t.lastSize[1]=n[1],t.lastAspectRatio=n[0]/n[1],t.forceUpdate=!0),t.camera=r,e.updateTexturePolyData()}}var hme=$.newInstance(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(t,{},n),$.obj(e,t),t.tmPolyData=Y0.newInstance(),t.tmMapper=u0.newInstance(),t.tmMapper.setInputData(t.tmPolyData),t.tmActor=$$.newInstance({parentProp:e}),t.tmActor.setMapper(t.tmMapper),$.setGet(e,t,[`renderable`]),$.get(e,t,[`lastSize`,`lastAspectRatio`,`axisTextStyle`,`tickTextStyle`,`tmActor`,`ticks`]),t.forceUpdate=!1,t.lastRedrawTime={},$.obj(t.lastRedrawTime,{mtime:0}),t.lastRebuildTime={},$.obj(t.lastRebuildTime,{mtime:0}),t.lastSize=[-1,-1],t.lastTickBounds=[],mme(e,t)},`vtkCubeAxesActorHelper`);function gme(e,t){t.classHierarchy.push(`vtkCubeAxesActor`),e.setCamera=n=>{t.camera!==n&&(t.cameraModifiedSub&&=(t.cameraModifiedSub.unsubscribe(),null),t.camera=n,n&&(t.cameraModifiedSub=n.onModified(e.update)),e.update(),e.modified())},e.computeFacesToDraw=()=>{let e=t.camera.getViewMatrix();LW(e,e);let n=!1,r=I$.getDiagonalLength(t.dataBounds),i=Math.sin(t.faceVisibilityAngle*Math.PI/180);for(let a=0;a<6;a++){let o=!1,s=Math.floor(a/2),c=(s+1)%3,l=(s+2)%3;t.dataBounds[c*2]!==t.dataBounds[c*2+1]&&t.dataBounds[l*2]!==t.dataBounds[l*2+1]&&(n2[s]=t.dataBounds[a]-.1*r*pme[a][s],n2[c]=.5*(t.dataBounds[c*2]+t.dataBounds[c*2+1]),n2[l]=.5*(t.dataBounds[l*2]+t.dataBounds[l*2+1]),UG(i2,n2,e),n2[s]=t.dataBounds[a],UG(a2,n2,e),PG(i2,a2,i2),BG(i2,i2),o=i2[2]>i,t.camera.getParallelProjection()||(BG(a2,a2),o=VG(a2,i2)>i)),o!==t.lastFacesToDraw[a]&&(t.lastFacesToDraw[a]=o,n=!0)}return n},e.updatePolyData=(e,n,r)=>{let i=0,a=0;i+=8;let o=0;for(let e=0;e<12;e++)n[e]>0&&o++;if(a+=o,t.gridLines)for(let t=0;t<6;t++)e[t]&&(i+=r[t2[t][0]].length*2+r[t2[t][1]].length*2,a+=r[t2[t][0]].length+r[t2[t][1]].length);let s=new Float64Array(i*3),c=new Uint32Array(a*3),l=0,u=0;for(let e=0;e<2;e++)for(let n=0;n<2;n++)for(let r=0;r<2;r++)s[l*3]=t.dataBounds[r],s[l*3+1]=t.dataBounds[2+n],s[l*3+2]=t.dataBounds[4+e],l++;for(let e=0;e<12;e++)n[e]>0&&(c[u*3]=2,c[u*3+1]=$0[e][0],c[u*3+2]=$0[e][1],u++);if(t.gridLines){for(let n=0;n<6;n++)if(e[n]){let e=Math.floor(n/2),i=r[t2[n][0]];for(let r=0;r<i.length;r++)s[l*3+e]=t.dataBounds[n],s[l*3+t2[n][0]]=i[r],s[l*3+t2[n][1]]=t.dataBounds[t2[n][1]*2],l++,s[l*3+e]=t.dataBounds[n],s[l*3+t2[n][0]]=i[r],s[l*3+t2[n][1]]=t.dataBounds[t2[n][1]*2+1],l++,c[u*3]=2,c[u*3+1]=l-2,c[u*3+2]=l-1,u++;i=r[t2[n][1]];for(let r=0;r<i.length;r++)s[l*3+e]=t.dataBounds[n],s[l*3+t2[n][1]]=i[r],s[l*3+t2[n][0]]=t.dataBounds[t2[n][0]*2],l++,s[l*3+e]=t.dataBounds[n],s[l*3+t2[n][1]]=i[r],s[l*3+t2[n][0]]=t.dataBounds[t2[n][0]*2+1],l++,c[u*3]=2,c[u*3+1]=l-2,c[u*3+2]=l-1,u++}}t.polyData.getPoints().setData(s,3),t.polyData.getPoints().modified(),t.polyData.getLines().setData(c,1),t.polyData.getLines().modified(),t.polyData.modified()},e.updateTextData=(e,n,r,i)=>{let a=0;for(let e=0;e<12;e++)n[e]===1&&(a+=2,a+=r[e2[e]].length);let o=t.polyData.getPoints().getData(),s=new Float64Array(a*3),c=0,l=0,u=0;for(let a=0;a<6;a++)if(e[a])for(let e=0;e<4;e++){let d=Q0[a][e];if(n[d]===1){let e=e2[d],n=$0[d][0]*3,f=$0[d][1]*3;s[c*3]=.5*(o[n]+o[f]),s[c*3+1]=.5*(o[n+1]+o[f+1]),s[c*3+2]=.5*(o[n+2]+o[f+2]),c++;let p=Math.floor(a/2);s[c*3+p]=t.dataBounds[a],s[c*3+t2[a][0]]=.5*(t.dataBounds[t2[a][0]*2]+t.dataBounds[t2[a][0]*2+1]),s[c*3+t2[a][1]]=.5*(t.dataBounds[t2[a][1]*2]+t.dataBounds[t2[a][1]*2+1]),c++,t.textValues[l]=t.axisLabels[e],l++;let m=(e+1)%3,h=(e+2)%3,g=r[e],_=i[e];t.tickCounts[u]=g.length;for(let r=0;r<g.length;r++)s[c*3+e]=g[r],s[c*3+m]=o[n+m],s[c*3+h]=o[n+h],c++,t.textValues[l]=_[r],l++;u++}}t.textPolyData.getPoints().setData(s,3),t.textPolyData.modified()},e.update=()=>{if(!t.camera)return;let n=e.computeFacesToDraw(),r=t.lastFacesToDraw,i=!1;for(let e=0;e<6;e++)t.dataBounds[e]!==t.lastTickBounds[e]&&(i=!0,t.lastTickBounds[e]=t.dataBounds[e]);if(n||i||t.forceUpdate){let n=Array(12).fill(0);for(let e=0;e<6;e++)if(r[e])for(let t=0;t<4;t++)n[Q0[e][t]]++;let a=t.generateTicks(t.dataBounds);e.updatePolyData(r,n,a.ticks),e.updateTextData(r,n,a.ticks,a.tickStrings),(i||t.forceUpdate)&&e.updateTextureAtlas(a.tickStrings)}t.forceUpdate=!1},e.updateTextureAtlas=e=>{t.tmContext.textBaseline=`bottom`,t.tmContext.textAlign=`left`,t._tmAtlas.clear();let n=0,r=1;for(let i=0;i<3;i++){if(!t._tmAtlas.has(t.axisLabels[i])){l2(t.tmContext,t.axisTextStyle);let e=t.tmContext.measureText(t.axisLabels[i]),a={height:e.actualBoundingBoxAscent+2,startingHeight:r,width:e.width+2,textStyle:t.axisTextStyle};t._tmAtlas.set(t.axisLabels[i],a),r+=a.height,n<a.width&&(n=a.width)}l2(t.tmContext,t.tickTextStyle);for(let a=0;a<e[i].length;a++)if(!t._tmAtlas.has(e[i][a])){let o=t.tmContext.measureText(e[i][a]),s={height:o.actualBoundingBoxAscent+2,startingHeight:r,width:o.width+2,textStyle:t.tickTextStyle};t._tmAtlas.set(e[i][a],s),r+=s.height,n<s.width&&(n=s.width)}}n=eZ(n),r=eZ(r),t._tmAtlas.forEach(e=>{e.tcoords=[0,(r-e.startingHeight-e.height)/r,e.width/n,(r-e.startingHeight-e.height)/r,e.width/n,(r-e.startingHeight)/r,0,(r-e.startingHeight)/r]}),t.tmCanvas.width=n,t.tmCanvas.height=r,t.tmContext.textBaseline=`bottom`,t.tmContext.textAlign=`left`,t.tmContext.clearRect(0,0,n,r),t._tmAtlas.forEach((e,n)=>{l2(t.tmContext,e.textStyle),t.tmContext.fillText(n,1,e.startingHeight+e.height-1)}),t.tmTexture.setCanvas(t.tmCanvas),t.tmTexture.modified()},e.onModified(()=>{t.forceUpdate=!0,e.update()}),e.setTickTextStyle=n=>{t.tickTextStyle={...t.tickTextStyle,...n},e.modified()},e.setAxisTextStyle=n=>{t.axisTextStyle={...t.axisTextStyle,...n},e.modified()},e.get_tmAtlas=()=>t._tmAtlas,e.getBounds=()=>(e.update(),I$.setBounds(t.bounds,t.gridActor.getBounds()),I$.scaleAboutCenter(t.bounds,t.boundsScaleFactor,t.boundsScaleFactor,t.boundsScaleFactor),t.bounds);let n=$.chain(e.setProperty,t.gridActor.setProperty);e.setProperty=e=>n(e)[0]}function _me(e,t,n){return{boundsScaleFactor:1.3,camera:null,dataBounds:[...I$.INIT_BOUNDS],faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,tickLabelPixelOffset:12,generateTicks:u2,...n,axisTextStyle:{fontColor:`white`,fontStyle:`normal`,fontSize:18,fontFamily:`serif`,...n?.axisTextStyle},tickTextStyle:{fontColor:`white`,fontStyle:`normal`,fontSize:14,fontFamily:`serif`,...n?.tickTextStyle}}}function d2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$$.extend(e,t,_me(e,t,n)),t.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],t.axisLabels=[`X-Axis`,`Y-Axis`,`Z-Axis`],t.tickCounts=[],t.textValues=[],t.lastTickBounds=[],t.tmCanvas=document.createElement(`canvas`),t.tmContext=t.tmCanvas.getContext(`2d`),t._tmAtlas=new Map,t.tmTexture=Z0.newInstance({resizable:!0}),t.tmTexture.setInterpolate(!1),e.getProperty().setDiffuse(0),e.getProperty().setAmbient(1),t.gridMapper=u0.newInstance(),t.polyData=Y0.newInstance(),t.gridMapper.setInputData(t.polyData),t.gridActor=$$.newInstance(),t.gridActor.setMapper(t.gridMapper),t.gridActor.setProperty(e.getProperty()),t.gridActor.setParentProp(e),t.textPolyData=Y0.newInstance(),$.setGet(e,t,[`axisTitlePixelOffset`,`boundsScaleFactor`,`faceVisibilityAngle`,`gridLines`,`tickLabelPixelOffset`,`generateTicks`]),$.setGetArray(e,t,[`dataBounds`],6),$.setGetArray(e,t,[`axisLabels`],3),$.get(e,t,[`axisTextStyle`,`tickTextStyle`,`camera`,`tmTexture`,`textValues`,`textPolyData`,`tickCounts`,`gridActor`]),gme(e,t)}var f2={newInstance:$.newInstance(d2,`vtkCubeAxesActor`),extend:d2,newCubeAxesActorHelper:hme,defaultGenerateTicks:u2};function vme(e,t){t.classHierarchy.push(`vtkOpenGLCubeAxesActor`),e.buildPass=n=>{n&&(t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t._openGLRenderWindow=t._openGLRenderer.getParent(),t.CubeAxesActorHelper.getRenderable()||t.CubeAxesActorHelper.setRenderable(t.renderable),e.prepareNodes(),e.addMissingNode(t.CubeAxesActorHelper.getTmActor()),e.addMissingNode(t.renderable.getGridActor()),e.removeUnusedNodes())},e.opaquePass=(e,n)=>{if(e){let e=t._openGLRenderer?t._openGLRenderer.getRenderable().getActiveCamera():null,n=t._openGLRenderer.getTiledSizeAndOrigin();t.CubeAxesActorHelper.updateAPISpecificData([n.usize,n.vsize],e,t._openGLRenderWindow.getRenderable())}}}var yme={};function bme(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,yme,n),Kq.extend(e,t,n),t.CubeAxesActorHelper=f2.newCubeAxesActorHelper(),vme(e,t)}Qq(`vtkCubeAxesActor`,wq(bme,`vtkOpenGLCubeAxesActor`));var p2={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2},m2={ObjectType:p2},{ObjectType:h2}=m2,xme={};function Sme(e,t){t.classHierarchy.push(`vtkOpenGLBufferObject`);function n(e){switch(e){case h2.ELEMENT_ARRAY_BUFFER:return t.context.ELEMENT_ARRAY_BUFFER;case h2.TEXTURE_BUFFER:if(`TEXTURE_BUFFER`in t.context)return t.context.TEXTURE_BUFFER;case h2.ARRAY_BUFFER:default:return t.context.ARRAY_BUFFER}}let r=null,i=null,a=!0,o=``;e.getType=()=>r,e.setType=e=>{r=e},e.getHandle=()=>i,e.isReady=()=>a===!1,e.generateBuffer=e=>{let a=n(e);return i===null&&(i=t.context.createBuffer(),r=e),n(r)===a},e.upload=(s,c)=>e.generateBuffer(c)?(t.context.bindBuffer(n(r),i),t.context.bufferData(n(r),s,t.context.STATIC_DRAW),t.allocatedGPUMemoryInBytes=s.length*s.BYTES_PER_ELEMENT,a=!1,!0):(o=`Trying to upload array buffer to incompatible buffer.`,!1),e.bind=()=>i?(t.context.bindBuffer(n(r),i),!0):!1,e.release=()=>i?(t.context.bindBuffer(n(r),null),!0):!1,e.releaseGraphicsResources=()=>{i!==null&&(t.context.bindBuffer(n(r),null),t.context.deleteBuffer(i),i=null,t.allocatedGPUMemoryInBytes=0)},e.setOpenGLRenderWindow=n=>{t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))},e.getError=()=>o}var Cme={objectType:h2.ARRAY_BUFFER,context:null,allocatedGPUMemoryInBytes:0};function g2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Cme,n),$.obj(e,t),$.get(e,t,[`_openGLRenderWindow`,`allocatedGPUMemoryInBytes`]),$.moveToProtected(e,t,[`openGLRenderWindow`]),Sme(e,t)}var _2={newInstance:$.newInstance(g2),extend:g2,...xme,...m2};function wme(e){let t=0,n=0;for(let r=0;r<3;++r){let i=e.getRange(r),a=i[1]-i[0];t+=a*a;let o=.5*(i[1]+i[0]);n+=o*o}let r=t>0&&(Math.abs(n)/t>1e6||Math.abs(Math.log10(t))>3||t===0&&n>1e6);if(r){let t=new Float64Array(3),n=new Float64Array(3);for(let r=0;r<3;++r){let i=e.getRange(r),a=i[1]-i[0];t[r]=.5*(i[1]+i[0]),n[r]=a>0?1/a:1}return{useShiftAndScale:r,coordShift:t,coordScale:n}}return{useShiftAndScale:r,coordShift:new Float32Array([0,0,0]),coordScale:new Float32Array([1,1,1])}}function Tme(e,t){let n=new Float64Array(3);zG(n,t);let r=new Float64Array(16);return aG(r,rK(),e,n),r}var{vtkErrorMacro:v2}=$;function Eme(e,t){return e===null||t===null?!1:!(KG(e,[0,0,0])&&KG(t,[1,1,1]))}function Dme(e,t){t.classHierarchy.push(`vtkOpenGLCellArrayBufferObject`),e.setType(p2.ARRAY_BUFFER),e.createVBO=function(n,r,i,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!n.getData()||!n.getData().length)return t.elementCount=0,0;t.blockSize=3,t.vertexOffset=0,t.normalOffset=0,t.tCoordOffset=0,t.tCoordComponents=0,t.colorComponents=0,t.colorOffset=0,t.customData=[];let s=a.points.getData(),c=null,l=null,u=null,d=a.colors?a.colors.getNumberOfComponents():0,f=a.tcoords?a.tcoords.getNumberOfComponents():0;a.normals&&(t.normalOffset=4*t.blockSize,t.blockSize+=3,c=a.normals.getData()),a.customAttributes&&a.customAttributes.forEach(e=>{e&&(t.customData.push({data:e.getData(),offset:4*t.blockSize,components:e.getNumberOfComponents(),name:e.getName()}),t.blockSize+=e.getNumberOfComponents())}),a.tcoords&&(t.tCoordOffset=4*t.blockSize,t.tCoordComponents=f,t.blockSize+=f,l=a.tcoords.getData()),a.colors?(t.colorComponents=a.colors.getNumberOfComponents(),t.colorOffset=0,u=a.colors.getData(),t.colorBO||=_2.newInstance(),t.colorBO.setOpenGLRenderWindow(t._openGLRenderWindow)):t.colorBO=null,t.stride=4*t.blockSize;let p=0,m=0,h=0,g=0,_=0,v=0,y,b={anythingToPoints(e,t,n,r){for(let i=0;i<e;++i)y(t[n+i],r)},linesToWireframe(e,t,n,r){for(let i=0;i<e-1;++i)y(t[n+i],r),y(t[n+i+1],r)},polysToWireframe(e,t,n,r){if(e>2)for(let i=0;i<e;++i)y(t[n+i],r),y(t[n+(i+1)%e],r)},stripsToWireframe(e,t,n,r){if(e>2){for(let i=0;i<e-1;++i)y(t[n+i],r),y(t[n+i+1],r);for(let i=0;i<e-2;i++)y(t[n+i],r),y(t[n+i+2],r)}},polysToSurface(e,t,n,r){for(let i=0;i<e-2;i++)y(t[n+0],r),y(t[n+i+1],r),y(t[n+i+2],r)},stripsToSurface(e,t,n,r){for(let i=0;i<e-2;i++)y(t[n+i],r),y(t[n+i+1+i%2],r),y(t[n+i+1+(i+1)%2],r)}},x={anythingToPoints(e,t){return e},linesToWireframe(e,t){return e>1?(e-1)*2:0},polysToWireframe(e,t){return e>2?e*2:0},stripsToWireframe(e,t){return e>2?e*4-6:0},polysToSurface(e,t){return e>2?(e-2)*3:0},stripsToSurface(e,t,n){return e>2?(e-2)*3:0}},S=null,C=null;i===G$.POINTS||r===`verts`?(S=b.anythingToPoints,C=x.anythingToPoints):i===G$.WIREFRAME||r===`lines`?(S=b[`${r}ToWireframe`],C=x[`${r}ToWireframe`]):(S=b[`${r}ToSurface`],C=x[`${r}ToSurface`]);let w=n.getData(),T=w.length,E=0;for(let e=0;e<T;)E+=C(w[e],w),e+=w[e]+1;let D=null,O=new Float32Array(E*t.blockSize);u&&(D=new Uint8Array(E*4));let k=0,A=0,{useShiftAndScale:j,coordShift:M,coordScale:ee}=wme(a.points);if(j?e.setCoordShiftAndScale(M,ee):t.coordShiftAndScaleEnabled===!0&&e.setCoordShiftAndScale(null,null),o)if(!o.points&&!o.cells)o.points=new Int32Array(E),o.cells=new Int32Array(E);else{let e=new Int32Array(E+o.points.length);e.set(o.points),o.points=e;let t=new Int32Array(E+o.cells.length);t.set(o.cells),o.cells=t}let te=a.vertexOffset;y=function(e,n){if(o&&(o.points[te]=e,o.cells[te]=v+a.cellOffset),++te,p=e*3,t.coordShiftAndScaleEnabled?(O[k++]=(s[p++]-t.coordShift[0])*t.coordScale[0],O[k++]=(s[p++]-t.coordShift[1])*t.coordScale[1],O[k++]=(s[p++]-t.coordShift[2])*t.coordScale[2]):(O[k++]=s[p++],O[k++]=s[p++],O[k++]=s[p++]),c!==null&&(m=a.haveCellNormals?(v+a.cellOffset)*3:e*3,O[k++]=c[m++],O[k++]=c[m++],O[k++]=c[m++]),t.customData.forEach(t=>{_=e*t.components;for(let e=0;e<t.components;++e)O[k++]=t.data[_++]}),l!==null){h=a.useTCoordsPerCell?n*f:e*f;for(let e=0;e<f;++e)O[k++]=l[h++]}u!==null&&(g=a.haveCellScalars?(v+a.cellOffset)*d:e*d,D[A++]=u[g++],D[A++]=u[g++],D[A++]=u[g++],D[A++]=d===4?u[g++]:255)};for(let e=0;e<T;e+=w[e]+1,v++)S(w[e],w,e+1,v+a.cellOffset);return t.elementCount=E,e.upload(O,p2.ARRAY_BUFFER),t.colorBO&&(t.colorBOStride=4,t.colorBO.upload(D,p2.ARRAY_BUFFER)),v},e.setCoordShiftAndScale=(e,n)=>{if(e!==null&&(e.constructor!==Float64Array||e.length!==3)){v2(`Wrong type for coordShift, expected vec3 or null`);return}if(n!==null&&(n.constructor!==Float64Array||n.length!==3)){v2(`Wrong type for coordScale, expected vec3 or null`);return}(t.coordShift===null||e===null||!qG(e,t.coordShift))&&(t.coordShift=e),(t.coordScale===null||n===null||!qG(n,t.coordScale))&&(t.coordScale=n),t.coordShiftAndScaleEnabled=Eme(t.coordShift,t.coordScale),t.coordShiftAndScaleEnabled?t.inverseShiftAndScaleMatrix=Tme(t.coordShift,t.coordScale):t.inverseShiftAndScaleMatrix=null}}var Ome={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function y2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ome,n),_2.extend(e,t,n),$.setGet(e,t,[`colorBO`,`elementCount`,`stride`,`colorBOStride`,`vertexOffset`,`normalOffset`,`tCoordOffset`,`tCoordComponents`,`colorOffset`,`colorComponents`,`customData`]),$.get(e,t,[`coordShift`,`coordScale`,`coordShiftAndScaleEnabled`,`inverseShiftAndScaleMatrix`]),Dme(e,t)}var kme={newInstance:$.newInstance(y2),extend:y2},{vtkErrorMacro:Ame}=$;function jme(e,t){t.classHierarchy.push(`vtkShader`),e.compile=()=>{let e=t.context.VERTEX_SHADER;if(!t.source||!t.source.length||t.shaderType===`Unknown`)return!1;switch(t.handle!==0&&(t.context.deleteShader(t.handle),t.handle=0),t.shaderType){case`Fragment`:e=t.context.FRAGMENT_SHADER;break;case`Vertex`:default:e=t.context.VERTEX_SHADER;break}if(t.handle=t.context.createShader(e),t.context.shaderSource(t.handle,t.source),t.context.compileShader(t.handle),!t.context.getShaderParameter(t.handle,t.context.COMPILE_STATUS)){let e=t.context.getShaderInfoLog(t.handle);return Ame(`Error compiling shader '${t.source}': ${e}`),t.context.deleteShader(t.handle),t.handle=0,!1}return!0},e.cleanup=()=>{t.shaderType===`Unknown`||t.handle===0||(t.context.deleteShader(t.handle),t.handle=0,t.dirty=!0)}}var Mme={shaderType:`Unknown`,source:``,error:``,handle:0,dirty:!1,context:null};function b2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Mme,n),$.obj(e,t),$.setGet(e,t,[`shaderType`,`source`,`error`,`handle`,`context`]),jme(e,t)}var x2={newInstance:$.newInstance(b2,`vtkShader`),extend:b2},{vtkErrorMacro:S2}=$;function Nme(e,t,n,r){let i=typeof n==`string`?n:n.join(`
`),a=r===!1?t:new RegExp(t,`g`),o=e.replace(a,i);return{replace:o!==i,result:o}}function Pme(e,t){t.classHierarchy.push(`vtkShaderProgram`),e.compileShader=()=>t.vertexShader.compile()?t.fragmentShader.compile()?!e.attachShader(t.vertexShader)||!e.attachShader(t.fragmentShader)?(S2(t.error),0):e.link()?(e.setCompiled(!0),1):(S2(`Links failed: ${t.error}`),0):(S2(t.fragmentShader.getSource().split(`
`).map((e,t)=>`${t}: ${e}`).join(`
`)),S2(t.fragmentShader.getError()),0):(S2(t.vertexShader.getSource().split(`
`).map((e,t)=>`${t}: ${e}`).join(`
`)),S2(t.vertexShader.getError()),0),e.cleanup=()=>{t.shaderType===`Unknown`||t.handle===0||(e.release(),t.vertexShaderHandle!==0&&(t.context.detachShader(t.handle,t.vertexShaderHandle),t.vertexShaderHandle=0),t.fragmentShaderHandle!==0&&(t.context.detachShader(t.handle,t.fragmentShaderHandle),t.fragmentShaderHandle=0),t.context.deleteProgram(t.handle),t.handle=0,e.setCompiled(!1))},e.bind=()=>!t.linked&&!e.link()?!1:(t.context.useProgram(t.handle),e.setBound(!0),!0),e.isBound=()=>!!t.bound,e.release=()=>{t.context.useProgram(null),e.setBound(!1)},e.setContext=e=>{t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.link=()=>t.linked?!0:t.handle===0?(t.error=`Program has not been initialized, and/or does not have shaders.`,!1):(t.uniformLocs={},t.context.linkProgram(t.handle),t.context.getProgramParameter(t.handle,t.context.LINK_STATUS)?(e.setLinked(!0),t.attributeLocs={},!0):(S2(`Error linking shader ${t.context.getProgramInfoLog(t.handle)}`),t.handle=0,!1)),e.setUniformMatrix=(n,r)=>{let i=e.findUniform(n);if(i===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;let a=new Float32Array(r);return t.context.uniformMatrix4fv(i,!1,a),!0},e.setUniformMatrix3x3=(n,r)=>{let i=e.findUniform(n);if(i===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;let a=new Float32Array(r);return t.context.uniformMatrix3fv(i,!1,a),!0},e.setUniformf=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform1f(i,r),!0)},e.setUniformfv=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform1fv(i,r),!0)},e.setUniformi=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform1i(i,r),!0)},e.setUniformiv=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform1iv(i,r),!0)},e.setUniform2f=(n,r,i)=>{let a=e.findUniform(n);if(a===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;if(i===void 0)throw RangeError(`Invalid number of values for array`);return t.context.uniform2f(a,r,i),!0},e.setUniform2fv=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform2fv(i,r),!0)},e.setUniform2i=(n,r,i)=>{let a=e.findUniform(n);if(a===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;if(i===void 0)throw RangeError(`Invalid number of values for array`);return t.context.uniform2i(a,r,i),!0},e.setUniform2iv=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform2iv(i,r),!0)},e.setUniform3f=(n,r,i,a)=>{let o=e.findUniform(n);if(o===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;if(a===void 0)throw RangeError(`Invalid number of values for array`);return t.context.uniform3f(o,r,i,a),!0},e.setUniform3fArray=(n,r)=>{let i=e.findUniform(n);if(i===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;if(!Array.isArray(r)||r.length!==3)throw RangeError(`Invalid number of values for array`);return t.context.uniform3f(i,r[0],r[1],r[2]),!0},e.setUniform3fv=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform3fv(i,r),!0)},e.setUniform3i=function(n){let r=e.findUniform(n);if(r===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;let i=[...arguments].slice(1);if(i.length===1&&Array.isArray(i[0])&&(i=i[0]),i.length!==3)throw RangeError(`Invalid number of values for array`);return t.context.uniform3i(r,i[0],i[1],i[2]),!0},e.setUniform3iv=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform3iv(i,r),!0)},e.setUniform4f=function(n){let r=e.findUniform(n);if(r===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;let i=[...arguments].slice(1);if(i.length===1&&Array.isArray(i[0])&&(i=i[0]),i.length!==4)throw RangeError(`Invalid number of values for array`);return t.context.uniform4f(r,i[0],i[1],i[2],i[3]),!0},e.setUniform4fv=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform4fv(i,r),!0)},e.setUniform4i=function(n){let r=e.findUniform(n);if(r===-1)return t.error=`Could not set uniform ${n} . No such uniform.`,!1;let i=[...arguments].slice(1);if(i.length===1&&Array.isArray(i[0])&&(i=i[0]),i.length!==4)throw RangeError(`Invalid number of values for array`);return t.context.uniform4i(r,i[0],i[1],i[2],i[3]),!0},e.setUniform4iv=(n,r)=>{let i=e.findUniform(n);return i===-1?(t.error=`Could not set uniform ${n} . No such uniform.`,!1):(t.context.uniform4iv(i,r),!0)},e.findUniform=e=>{if(!e||!t.linked)return-1;let n=t.uniformLocs[e];return n===void 0?(n=t.context.getUniformLocation(t.handle,e),n===null?(t.error=`Uniform ${e} not found in current shader program.`,t.uniformLocs[e]=-1,-1):(t.uniformLocs[e]=n,n)):n},e.isUniformUsed=e=>{if(!e)return!1;let n=t.uniformLocs[e];return n===void 0?t.linked?(n=t.context.getUniformLocation(t.handle,e),t.uniformLocs[e]=n,n!==null):(S2(`attempt to find uniform when the shader program is not linked`),!1):n!==null},e.isAttributeUsed=e=>{if(!e)return!1;if(e in t.attributeLocs)return!0;if(!t.linked)return S2(`attempt to find uniform when the shader program is not linked`),!1;let n=t.context.getAttribLocation(t.handle,e);return n===-1?!1:(t.attributeLocs[e]=n,!0)},e.attachShader=n=>{if(n.getHandle()===0)return t.error=`Shader object was not initialized, cannot attach it.`,!1;if(n.getShaderType()===`Unknown`)return t.error=`Shader object is of type Unknown and cannot be used.`,!1;if(t.handle===0){let e=t.context.createProgram();if(e===0)return t.error=`Could not create shader program.`,!1;t.handle=e,t.linked=!1}return n.getShaderType()===`Vertex`&&(t.vertexShaderHandle!==0&&t.context.detachShader(t.handle,t.vertexShaderHandle),t.vertexShaderHandle=n.getHandle()),n.getShaderType()===`Fragment`&&(t.fragmentShaderHandle!==0&&t.context.detachShader(t.handle,t.fragmentShaderHandle),t.fragmentShaderHandle=n.getHandle()),t.context.attachShader(t.handle,n.getHandle()),e.setLinked(!1),!0},e.detachShader=e=>{if(e.getHandle()===0)return t.error=`shader object was not initialized, cannot attach it.`,!1;if(e.getShaderType()===`Unknown`)return t.error=`Shader object is of type Unknown and cannot be used.`,!1;switch(t.handle===0&&(t.error=`This shader program has not been initialized yet.`),e.getShaderType()){case`Vertex`:return t.vertexShaderHandle===e.getHandle()?(t.context.detachShader(t.handle,e.getHandle()),t.vertexShaderHandle=0,t.linked=!1,!0):(t.error=`The supplied shader was not attached to this program.`,!1);case`Fragment`:return t.fragmentShaderHandle===e.getHandle()?(t.context.detachShader(t.handle,e.getHandle()),t.fragmentShaderHandle=0,t.linked=!1,!0):(t.error=`The supplied shader was not attached to this program.`,!1);default:return!1}},e.setContext=e=>{t.context=e,t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.setLastCameraMTime=e=>{t.lastCameraMTime=e}}var Fme={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:``,handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function C2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Fme,n),t.attributesLocs={},t.uniformLocs={},t.vertexShader=x2.newInstance(),t.vertexShader.setShaderType(`Vertex`),t.fragmentShader=x2.newInstance(),t.fragmentShader.setShaderType(`Fragment`),t.geometryShader=x2.newInstance(),t.geometryShader.setShaderType(`Geometry`),$.obj(e,t),$.get(e,t,[`lastCameraMTime`]),$.setGet(e,t,[`error`,`handle`,`compiled`,`bound`,`md5Hash`,`vertexShader`,`fragmentShader`,`geometryShader`,`linked`]),Pme(e,t)}var w2={newInstance:$.newInstance(C2,`vtkShaderProgram`),extend:C2,substitute:Nme};function Ime(e,t){t.classHierarchy.push(`vtkOpenGLVertexArrayObject`),e.exposedMethod=()=>{},e.initialize=()=>{t.instancingExtension=null,t._openGLRenderWindow.getWebgl2()||(t.instancingExtension=t.context.getExtension(`ANGLE_instanced_arrays`)),!t.forceEmulation&&t._openGLRenderWindow&&t._openGLRenderWindow.getWebgl2()?(t.extension=null,t.supported=!0,t.handleVAO=t.context.createVertexArray()):(t.extension=t.context.getExtension(`OES_vertex_array_object`),!t.forceEmulation&&t.extension?(t.supported=!0,t.handleVAO=t.extension.createVertexArrayOES()):t.supported=!1)},e.isReady=()=>t.handleVAO!==0||t.supported===!1,e.bind=()=>{if(e.isReady()||e.initialize(),e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(t.handleVAO):t.context.bindVertexArray(t.handleVAO);else if(e.isReady()){let e=t.context;for(let n=0;n<t.buffers.length;++n){let r=t.buffers[n];t.context.bindBuffer(e.ARRAY_BUFFER,r.buffer);for(let n=0;n<r.attributes.length;++n){let i=r.attributes[n],a=i.isMatrix?i.size:1;for(let n=0;n<a;++n)e.enableVertexAttribArray(i.index+n),e.vertexAttribPointer(i.index+n,i.size,i.type,i.normalize,i.stride,i.offset+i.stride*n/i.size),i.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(i.index+n,1):e.vertexAttribDivisor(i.index+n,1))}}}},e.release=()=>{if(e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(null):t.context.bindVertexArray(null);else if(e.isReady()){let e=t.context;for(let n=0;n<t.buffers.length;++n){let r=t.buffers[n];t.context.bindBuffer(e.ARRAY_BUFFER,r.buffer);for(let n=0;n<r.attributes.length;++n){let i=r.attributes[n],a=i.isMatrix?i.size:1;for(let n=0;n<a;++n)e.enableVertexAttribArray(i.index+n),e.vertexAttribPointer(i.index+n,i.size,i.type,i.normalize,i.stride,i.offset+i.stride*n/i.size),i.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(i.index+n,0):e.vertexAttribDivisor(i.index+n,0)),e.disableVertexAttribArray(i.index+n)}}}},e.shaderProgramChanged=()=>{e.release(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.handleProgram=0},e.releaseGraphicsResources=()=>{e.shaderProgramChanged(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.supported=!0,t.handleProgram=0},e.addAttributeArray=(t,n,r,i,a,o,s,c)=>e.addAttributeArrayWithDivisor(t,n,r,i,a,o,s,c,0,!1),e.addAttributeArrayWithDivisor=(n,r,i,a,o,s,c,l,u,d)=>{if(!n||!n.isBound()||r.getHandle()===0||r.getType()!==p2.ARRAY_BUFFER||(t.handleProgram===0&&(t.handleProgram=n.getHandle()),e.isReady()||e.initialize(),!e.isReady()||t.handleProgram!==n.getHandle()))return!1;let f=t.context,p={};if(p.name=i,p.index=f.getAttribLocation(t.handleProgram,i),p.offset=a,p.stride=o,p.type=s,p.size=c,p.normalize=l,p.isMatrix=d,p.divisor=u,p.Index===-1)return!1;if(r.bind(),f.enableVertexAttribArray(p.index),f.vertexAttribPointer(p.index,p.size,p.type,p.normalize,p.stride,p.offset),u>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(p.index,1):f.vertexAttribDivisor(p.index,1)),p.buffer=r.getHandle(),!t.supported){let e=!1;for(let n=0;n<t.buffers.length;++n){let r=t.buffers[n];if(r.buffer===p.buffer){e=!0;let t=!1;for(let e=0;e<r.attributes.length;++e)r.attributes[e].name===i&&(t=!0,r.attributes[e]=p);t||r.attributes.push(p)}}e||t.buffers.push({buffer:p.buffer,attributes:[p]})}return!0},e.addAttributeMatrixWithDivisor=(n,r,i,a,o,s,c,l,u)=>{let d=e.addAttributeArrayWithDivisor(n,r,i,a,o,s,c,l,u,!0);if(!d)return d;let f=t.context,p=f.getAttribLocation(t.handleProgram,i);for(let e=1;e<c;e++)f.enableVertexAttribArray(p+e),f.vertexAttribPointer(p+e,c,s,l,o,a+o*e/c),u>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(p+e,1):f.vertexAttribDivisor(p+e,1));return!0},e.removeAttributeArray=n=>{if(!e.isReady()||t.handleProgram===0)return!1;if(!t.supported)for(let e=0;e<t.buffers.length;++e){let r=t.buffers[e];for(let i=0;i<r.attributes.length;++i)if(r.attributes[i].name===n)return r.attributes.splice(i,1),r.attributes.length||t.buffers.splice(e,1),!0}return!0},e.setOpenGLRenderWindow=n=>{t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))}}var Lme={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null};function T2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Lme,n),t.buffers=[],$.obj(e,t),$.get(e,t,[`supported`]),$.setGet(e,t,[`forceEmulation`]),Ime(e,t)}var E2={newInstance:$.newInstance(T2,`vtkOpenGLVertexArrayObject`),extend:T2},D2={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6};function Rme(e,t){t.classHierarchy.push(`vtkOpenGLHelper`),e.setOpenGLRenderWindow=e=>{t.context=e.getContext(),t.program.setContext(t.context),t.VAO.setOpenGLRenderWindow(e),t.CABO.setOpenGLRenderWindow(e)},e.releaseGraphicsResources=e=>{t.VAO.releaseGraphicsResources(),t.CABO.releaseGraphicsResources(),t.CABO.setElementCount(0)},e.drawArrays=(n,r,i,a)=>{if(t.CABO.getElementCount()){let o=e.getOpenGLMode(i),s=e.haveWideLines(n,r),c=t.context,l=c.getParameter(c.DEPTH_WRITEMASK);t.pointPicking&&c.depthMask(!1),o===c.LINES&&s?(e.updateShaders(n,r,a),c.drawArraysInstanced(o,0,t.CABO.getElementCount(),2*Math.ceil(r.getProperty().getLineWidth()))):(c.lineWidth(r.getProperty().getLineWidth()),e.updateShaders(n,r,a),c.drawArrays(o,0,t.CABO.getElementCount()),c.lineWidth(1));let u=(o===c.POINTS?1:0)||(o===c.LINES?2:3);return t.pointPicking&&c.depthMask(l),t.CABO.getElementCount()/u}return 0},e.getOpenGLMode=e=>{if(t.pointPicking)return t.context.POINTS;let n=t.primitiveType;return e===G$.POINTS||n===D2.Points?t.context.POINTS:e===G$.WIREFRAME||n===D2.Lines||n===D2.TrisEdges||n===D2.TriStripsEdges?t.context.LINES:t.context.TRIANGLES},e.haveWideLines=(e,n)=>n.getProperty().getLineWidth()>1?!(t.CABO.getOpenGLRenderWindow()&&t.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth()>=n.getProperty().getLineWidth()):!1,e.getNeedToRebuildShaders=(t,n,r)=>!!(r.getNeedToRebuildShaders(e,t,n)||e.getProgram()===0||e.getShaderSourceTime().getMTime()<r.getMTime()||e.getShaderSourceTime().getMTime()<n.getMTime()),e.updateShaders=(n,r,i)=>{if(e.getNeedToRebuildShaders(n,r,i)){let a={Vertex:null,Fragment:null,Geometry:null};i.buildShaders(a,n,r);let o=t.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(a.Vertex,a.Fragment,a.Geometry);o!==e.getProgram()&&(e.setProgram(o),e.getVAO().releaseGraphicsResources()),e.getShaderSourceTime().modified()}else t.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(e.getProgram());e.getVAO().bind(),i.setMapperShaderParameters(e,n,r),i.setPropertyShaderParameters(e,n,r),i.setCameraShaderParameters(e,n,r),i.setLightingShaderParameters(e,n,r),i.invokeShaderCallbacks(e,n,r)},e.setMapperShaderParameters=(n,r,i)=>{if(e.haveWideLines(n,r)){e.getProgram().setUniform2f(`viewportSize`,i.usize,i.vsize);let t=parseFloat(r.getProperty().getLineWidth()),n=t/2;e.getProgram().setUniformf(`lineWidthStepSize`,t/Math.ceil(t)),e.getProgram().setUniformf(`halfLineWidth`,n)}t.primitiveType===D2.Points||r.getProperty().getRepresentation()===G$.POINTS?e.getProgram().setUniformf(`pointSize`,r.getProperty().getPointSize()):t.pointPicking&&e.getProgram().setUniformf(`pointSize`,e.getPointPickingPrimitiveSize())},e.replaceShaderPositionVC=(n,r,i)=>{let a=n.Vertex;a=w2.substitute(a,`//VTK::PositionVC::Dec`,[`//VTK::PositionVC::Dec`,`uniform float pointSize;`]).result,a=w2.substitute(a,`//VTK::PositionVC::Impl`,[`//VTK::PositionVC::Impl`,`  gl_PointSize = pointSize;`],!1).result,e.getOpenGLMode(i.getProperty().getRepresentation())===t.context.LINES&&e.haveWideLines(r,i)&&(a=w2.substitute(a,`//VTK::PositionVC::Dec`,[`//VTK::PositionVC::Dec`,`uniform vec2 viewportSize;`,`uniform float lineWidthStepSize;`,`uniform float halfLineWidth;`]).result,a=w2.substitute(a,`//VTK::PositionVC::Impl`,[`//VTK::PositionVC::Impl`,` if (halfLineWidth > 0.0)`,`   {`,`   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;`,`   vec4 tmpPos = gl_Position;`,`   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;`,`   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];`,`   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];`,`   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);`,`   }`]).result),n.Vertex=a},e.getPointPickingPrimitiveSize=()=>t.primitiveType===D2.Points?2:t.primitiveType===D2.Lines?4:6,e.getAllocatedGPUMemoryInBytes=()=>e.getCABO().getAllocatedGPUMemoryInBytes()}var zme={context:null,program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0,pointPicking:!1};function O2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,zme,n),$.obj(e,t),t.shaderSourceTime={},$.obj(t.shaderSourceTime),t.attributeUpdateTime={},$.obj(t.attributeUpdateTime),$.setGet(e,t,[`program`,`shaderSourceTime`,`VAO`,`attributeUpdateTime`,`CABO`,`primitiveType`,`pointPicking`]),t.program=w2.newInstance(),t.VAO=E2.newInstance(),t.CABO=kme.newInstance(),Rme(e,t)}var k2={newInstance:$.newInstance(O2),extend:O2,primTypes:D2},A2={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},j2={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5},M2={Wrap:A2,Filter:j2},N2=new Float32Array(1),Bme=new Int32Array(N2.buffer);function Vme(e){N2[0]=e;let t=Bme[0],n=t>>16&32768,r=t>>12&2047,i=t>>23&255;return i<103?n:i>142?(n|=31744,n|=(i===255?0:1)&&t&8388607,n):i<113?(r|=2048,n|=(r>>114-i)+(r>>113-i&1),n):(n|=i-112<<10|r>>1,n+=r&1,n)}function Hme(e){let t=(e&32768)>>15,n=(e&31744)>>10,r=e&1023;return n===0?(t?-1:1)*2**-14*(r/2**10):n===31?r?NaN:(t?-1:1)*(1/0):(t?-1:1)*2**(n-15)*(1+r/2**10)}var P2={fromHalf:Hme,toHalf:Vme};function Ume(){try{let e=new Int16Array([0,2**15-1]),t=[1,1],n=document.createElement(`canvas`);n.width=4,n.height=4;let r=n.getContext(`webgl2`);if(!r)return!1;let i=r.getExtension(`EXT_texture_norm16`);if(!i)return!1;let a=`#version 300 es
    void main() {
      gl_PointSize = ${4 .toFixed(1)};
      gl_Position = vec4(0, 0, 0, 1);
    }
  `,o=r.createShader(r.VERTEX_SHADER);if(r.shaderSource(o,a),r.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS))return!1;let s=r.createShader(r.FRAGMENT_SHADER);if(r.shaderSource(s,`#version 300 es
    precision highp float;
    precision highp int;
    precision highp sampler2D;

    uniform sampler2D u_image;

    out vec4 color;

    void main() {
        vec4 intColor = texture(u_image, gl_PointCoord.xy);
        color = vec4(vec3(intColor.rrr), 1);
    }
    `),r.compileShader(s),!r.getShaderParameter(s,r.COMPILE_STATUS))return!1;let c=r.createProgram();if(r.attachShader(c,o),r.attachShader(c,s),r.linkProgram(c),!r.getProgramParameter(c,r.LINK_STATUS))return!1;let l=r.createTexture();r.bindTexture(r.TEXTURE_2D,l),r.texImage2D(r.TEXTURE_2D,0,i.R16_SNORM_EXT,2,1,0,r.RED,r.SHORT,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.useProgram(c),r.drawArrays(r.POINTS,0,1);let u=new Uint8Array(4);r.readPixels(t[0],t[1],1,1,r.RGBA,r.UNSIGNED_BYTE,u);let[d,f,p]=u,m=r.getExtension(`WEBGL_lose_context`);return m&&m.loseContext(),d===f&&f===p&&d!==0}catch{return!1}}var F2;function Wme(){return F2===void 0&&(F2=Ume()),F2}var Gme=l(fK(),1),{Wrap:I2,Filter:L2}=M2,{VtkDataTypes:R2}=l1,{vtkDebugMacro:z2,vtkErrorMacro:B2,vtkWarningMacro:V2,requiredParam:H2}=Bq,{toHalf:Kme}=P2;function qme(e,t){t.classHierarchy.push(`vtkOpenGLTexture`);function n(){return{internalFormat:t.internalFormat,format:t.format,openGLDataType:t.openGLDataType,width:t.width,height:t.height}}e.render=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(n?t._openGLRenderWindow=n:(t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t._openGLRenderWindow=t._openGLRenderer.getLastAncestorOfType(`vtkOpenGLRenderWindow`)),t.context=t._openGLRenderWindow.getContext(),t.renderable.getInterpolate()?(t.generateMipmap?e.setMinificationFilter(L2.LINEAR_MIPMAP_LINEAR):e.setMinificationFilter(L2.LINEAR),e.setMagnificationFilter(L2.LINEAR)):(e.setMinificationFilter(L2.NEAREST),e.setMagnificationFilter(L2.NEAREST)),t.renderable.getRepeat()&&(e.setWrapR(I2.REPEAT),e.setWrapS(I2.REPEAT),e.setWrapT(I2.REPEAT)),t.renderable.getInputData()&&t.renderable.setImage(null),!t.handle||t.renderable.getMTime()>t.textureBuildTime.getMTime()){if(t.renderable.getImageBitmap()!==null&&(t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(L2.LINEAR_MIPMAP_LINEAR)),t.renderable.getImageBitmap()&&t.renderable.getImageLoaded()&&(e.create2DFromImageBitmap(t.renderable.getImageBitmap()),e.activate(),e.sendParameters(),t.textureBuildTime.modified())),t.renderable.getImage()!==null&&(t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(L2.LINEAR_MIPMAP_LINEAR)),t.renderable.getImage()&&t.renderable.getImageLoaded()&&(e.create2DFromImage(t.renderable.getImage()),e.activate(),e.sendParameters(),t.textureBuildTime.modified())),t.renderable.getCanvas()!==null){t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(L2.LINEAR_MIPMAP_LINEAR));let n=t.renderable.getCanvas();e.create2DFromRaw({width:n.width,height:n.height,numComps:4,dataType:R2.UNSIGNED_CHAR,data:n,flip:!0}),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}if(t.renderable.getJsImageData()!==null){let n=t.renderable.getJsImageData();t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(L2.LINEAR_MIPMAP_LINEAR)),e.create2DFromRaw({width:n.width,height:n.height,numComps:4,dataType:R2.UNSIGNED_CHAR,data:n.data,flip:!0}),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}let n=t.renderable.getInputData(0);if(n&&n.getPointData().getScalars()){let r=n.getExtent(),i=n.getPointData().getScalars(),a=[];for(let e=0;e<t.renderable.getNumberOfInputPorts();++e){let n=t.renderable.getInputData(e),r=n?n.getPointData().getScalars().getData():null;r&&a.push(r)}t.renderable.getInterpolate()&&i.getNumberOfComponents()===4&&(t.generateMipmap=!0,e.setMinificationFilter(L2.LINEAR_MIPMAP_LINEAR)),a.length%6==0?e.createCubeFromRaw({width:r[1]-r[0]+1,height:r[3]-r[2]+1,numComps:i.getNumberOfComponents(),dataType:i.getDataType(),data:a}):e.create2DFromRaw({width:r[1]-r[0]+1,height:r[3]-r[2]+1,numComps:i.getNumberOfComponents(),dataType:i.getDataType(),data:i.getData()}),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}}t.handle&&e.activate()};let r=()=>{if(!((t.minificationFilter===L2.LINEAR||t.magnificationFilter===L2.LINEAR)&&!Wme()))return t.oglNorm16Ext};e.destroyTexture=()=>{e.deactivate(),t.context&&t.handle&&t.context.deleteTexture(t.handle),t._prevTexParams=null,t.handle=0,t.numberOfDimensions=0,t.target=0,t.components=0,t.width=0,t.height=0,t.depth=0,e.resetFormatAndType()},e.createTexture=()=>{t.handle||(t.handle=t.context.createTexture(),t.target&&(t.context.bindTexture(t.target,t.handle),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t._openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.bindTexture(t.target,null)))},e.getTextureUnit=()=>t._openGLRenderWindow?t._openGLRenderWindow.getTextureUnitForTexture(e):-1,e.activate=()=>{t._openGLRenderWindow.activateTexture(e),e.bind()},e.deactivate=()=>{t._openGLRenderWindow&&t._openGLRenderWindow.deactivateTexture(e)},e.releaseGraphicsResources=n=>{n&&t.handle&&(n.activateTexture(e),n.deactivateTexture(e),t.context.deleteTexture(t.handle),t._prevTexParams=null,t.handle=0,t.numberOfDimensions=0,t.target=0,t.internalFormat=0,t.format=0,t.openGLDataType=0,t.components=0,t.width=0,t.height=0,t.depth=0,t.allocatedGPUMemoryInBytes=0),t.shaderProgram&&=(t.shaderProgram.releaseGraphicsResources(n),null)},e.bind=()=>{t.context.bindTexture(t.target,t.handle),t.autoParameters&&e.getMTime()>t.sendParametersTime.getMTime()&&e.sendParameters()},e.isBound=()=>{let e=!1;if(t.context&&t.handle){let n=0;switch(t.target){case t.context.TEXTURE_2D:n=t.context.TEXTURE_BINDING_2D;break;default:V2(`impossible case`);break}e=t.context.getIntegerv(n)===t.handle}return e},e.sendParameters=()=>{t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t._openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t._openGLRenderWindow.getWebgl2()&&(t.context.texParameteri(t.target,t.context.TEXTURE_BASE_LEVEL,t.baseLevel),t.context.texParameteri(t.target,t.context.TEXTURE_MAX_LEVEL,t.maxLevel)),t.sendParametersTime.modified()},e.getInternalFormat=(n,r)=>(t._forceInternalFormat||(t.internalFormat=e.getDefaultInternalFormat(n,r)),t.internalFormat||z2(`Unable to find suitable internal format for T=${n} NC= ${r}`),[t.context.R32F,t.context.RG32F,t.context.RGB32F,t.context.RGBA32F].includes(t.internalFormat)&&!t.context.getExtension(`OES_texture_float_linear`)&&V2(`Failed to load OES_texture_float_linear. Texture filtering is not available for *32F internal formats.`),t.internalFormat),e.getDefaultInternalFormat=(n,i)=>{let a=0;return a=t._openGLRenderWindow.getDefaultTextureInternalFormat(n,i,r(),e.useHalfFloat()),a||(a||(z2(`Unsupported internal texture type!`),z2(`Unable to find suitable internal format for T=${n} NC= ${i}`)),a)},e.useHalfFloat=()=>t.enableUseHalfFloat&&t.canUseHalfFloat,e.setInternalFormat=n=>{t._forceInternalFormat=!0,n!==t.internalFormat&&(t.internalFormat=n,e.modified())},e.getFormat=(n,r)=>(t.format=e.getDefaultFormat(n,r),t.format),e.getDefaultFormat=(e,n)=>{if(t._openGLRenderWindow.getWebgl2())switch(n){case 1:return t.context.RED;case 2:return t.context.RG;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}else switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}},e.resetFormatAndType=()=>{t._prevTexParams=null,t.format=0,t.internalFormat=0,t._forceInternalFormat=!1,t.openGLDataType=0},e.getDefaultDataType=n=>{let i=e.useHalfFloat();if(t._openGLRenderWindow.getWebgl2())switch(n){case R2.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case r()&&!i&&R2.SHORT:return t.context.SHORT;case r()&&!i&&R2.UNSIGNED_SHORT:return t.context.UNSIGNED_SHORT;case i&&R2.SHORT:return t.context.HALF_FLOAT;case i&&R2.UNSIGNED_SHORT:return t.context.HALF_FLOAT;case R2.FLOAT:case R2.VOID:default:return t.context.FLOAT}switch(n){case R2.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case R2.FLOAT:case R2.VOID:default:if(t.context.getExtension(`OES_texture_float`)&&t.context.getExtension(`OES_texture_float_linear`))return t.context.FLOAT;{let e=t.context.getExtension(`OES_texture_half_float`);if(e&&t.context.getExtension(`OES_texture_half_float_linear`))return e.HALF_FLOAT_OES}return t.context.UNSIGNED_BYTE}},e.getOpenGLDataType=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(!t.openGLDataType||r)&&(t.openGLDataType=e.getDefaultDataType(n)),t.openGLDataType},e.getShiftAndScale=()=>{let e=0,n=1;switch(t.openGLDataType){case t.context.BYTE:n=127.5,e=n-128;break;case t.context.UNSIGNED_BYTE:n=255,e=0;break;case t.context.SHORT:n=32767.5,e=n-32768;break;case t.context.UNSIGNED_SHORT:n=65536,e=0;break;case t.context.INT:n=2147483647.5,e=n-2147483648;break;case t.context.UNSIGNED_INT:n=4294967295,e=0;break;case t.context.FLOAT:}return{shift:e,scale:n}},e.getOpenGLFilterMode=e=>{switch(e){case L2.NEAREST:return t.context.NEAREST;case L2.LINEAR:return t.context.LINEAR;case L2.NEAREST_MIPMAP_NEAREST:return t.context.NEAREST_MIPMAP_NEAREST;case L2.NEAREST_MIPMAP_LINEAR:return t.context.NEAREST_MIPMAP_LINEAR;case L2.LINEAR_MIPMAP_NEAREST:return t.context.LINEAR_MIPMAP_NEAREST;case L2.LINEAR_MIPMAP_LINEAR:return t.context.LINEAR_MIPMAP_LINEAR;default:return t.context.NEAREST}},e.getOpenGLWrapMode=e=>{switch(e){case I2.CLAMP_TO_EDGE:return t.context.CLAMP_TO_EDGE;case I2.REPEAT:return t.context.REPEAT;case I2.MIRRORED_REPEAT:return t.context.MIRRORED_REPEAT;default:return t.context.CLAMP_TO_EDGE}};function i(e){let[t,n,r,i,a,o]=e;return[n-t+1,i-r+1,o-a+1]}function a(e){let[t,n,r]=i(e);return t*n*r}function o(e,t,n,r,i){let[a,o,s,c,l,u]=n,[d,f]=t,p=d*f,m=i;for(let t=l;t<=u;t++){let n=t*p;for(let t=s;t<=c;t++){let i=n+t*d;for(let t=i+a,n=i+o;t<=n;t++,m++)r[m]=e[t]}}}function s(e,n){let r=new((arguments.length>2&&arguments[2]!==void 0?arguments[2]:null)||e.constructor)(n.reduce((e,t)=>e+a(t),0)),i=[t.width,t.height,t.depth],s=0;return n.forEach(t=>{o(e,i,t,r,s),s+=a(t)}),r}e.updateArrayDataTypeForGL=function(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],a=[],o=t.width*t.height*t.components;r&&(o*=t.depth);let c=!!i.length;if(e!==R2.FLOAT&&t.openGLDataType===t.context.FLOAT)for(let e=0;e<n.length;e++)if(n[e])if(c)a.push(s(n[e],i,Float32Array));else{let t=n[e].length>o?n[e].subarray(0,o):n[e];a.push(new Float32Array(t))}else a.push(null);if(e!==R2.UNSIGNED_CHAR&&t.openGLDataType===t.context.UNSIGNED_BYTE)for(let e=0;e<n.length;e++)if(n[e])if(c)a.push(s(n[e],i,Uint8Array));else{let t=n[e].length>o?n[e].subarray(0,o):n[e];a.push(new Uint8Array(t))}else a.push(null);let l=!1;if(t._openGLRenderWindow.getWebgl2())l=t.openGLDataType===t.context.HALF_FLOAT;else{let e=t.context.getExtension(`OES_texture_half_float`);l=e&&t.openGLDataType===e.HALF_FLOAT_OES}if(l)for(let e=0;e<n.length;e++)if(n[e]){let t=c?s(n[e],i):n[e],r=new Uint16Array(c?t.length:o),l=r.length;for(let e=0;e<l;e++)r[e]=Kme(t[e]);a.push(r)}else a.push(null);if(a.length===0)for(let e=0;e<n.length;e++)a.push(c&&n[e]?s(n[e],i):n[e]);return a};function c(e){if(t._openGLRenderWindow.getWebgl2())return e;let n=[],r=t.width,i=t.height,a=t.components;if(e&&(!tZ(r)||!tZ(i))){let o=t.context.getExtension(`OES_texture_half_float`),s=eZ(r),c=eZ(i),l=s*c*t.components;for(let u=0;u<e.length;u++)if(e[u]!==null){let d=null,f=i/c,p=r/s,m=!1;t.openGLDataType===t.context.FLOAT?d=new Float32Array(l):o&&t.openGLDataType===o.HALF_FLOAT_OES?(d=new Uint16Array(l),m=!0):d=new Uint8Array(l);for(let t=0;t<c;t++){let n=t*s*a,o=t*f,c=Math.floor(o),l=Math.ceil(o);l>=i&&(l=i-1);let h=o-c,g=1-h;c=c*r*a,l=l*r*a;for(let t=0;t<s;t++){let i=t*a,o=t*p,s=Math.floor(o),f=Math.ceil(o);f>=r&&(f=r-1);let _=o-s;s*=a,f*=a;for(let t=0;t<a;t++)m?d[n+i+t]=P2.toHalf(P2.fromHalf(e[u][c+s+t])*g*(1-_)+P2.fromHalf(e[u][c+f+t])*g*_+P2.fromHalf(e[u][l+s+t])*h*(1-_)+P2.fromHalf(e[u][l+f+t])*h*_):d[n+i+t]=e[u][c+s+t]*g*(1-_)+e[u][c+f+t]*g*_+e[u][l+s+t]*h*(1-_)+e[u][l+f+t]*h*_}}n.push(d),t.width=s,t.height=c}else n.push(null)}if(n.length===0)for(let t=0;t<e.length;t++)n.push(e[t]);return n}function l(e){return t._openGLRenderWindow?t.resizable||t.renderable?.getResizable()?!1:t._openGLRenderWindow.getWebgl2()?!(t._openGLRenderWindow.getGLInformations().RENDERER.value.match(/WebKit/gi)&&navigator.platform.match(/Mac/gi)&&r()&&(e===R2.UNSIGNED_SHORT||e===R2.SHORT)):!1:!1}e.create2DFromRaw=function(){let{width:n=H2(`width`),height:i=H2(`height`),numComps:a=H2(`numComps`),dataType:o=H2(`dataType`),data:s=H2(`data`),flip:u=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(e.getOpenGLDataType(o,!0),e.getInternalFormat(o,a),e.getFormat(o,a),!t.internalFormat||!t.format||!t.openGLDataType)return B2(`Failed to determine texture parameters.`),!1;t.target=t.context.TEXTURE_2D,t.components=a,t.width=n,t.height=i,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();let d=[s],f=c(e.updateArrayDataTypeForGL(o,d));return t.context.pixelStorei(t.context.UNPACK_FLIP_Y_WEBGL,u),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),l(o)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),f[0]!=null&&t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,f[0])):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,f[0]),t.generateMipmap&&t.context.generateMipmap(t.target),u&&t.context.pixelStorei(t.context.UNPACK_FLIP_Y_WEBGL,!1),t.allocatedGPUMemoryInBytes=t.width*t.height*t.depth*a*t._openGLRenderWindow.getDefaultTextureByteSize(o,r(),e.useHalfFloat()),e.deactivate(),!0},e.createCubeFromRaw=function(){let{width:n=H2(`width`),height:i=H2(`height`),numComps:a=H2(`numComps`),dataType:o=H2(`dataType`),data:s=H2(`data`)}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(e.getOpenGLDataType(o),e.getInternalFormat(o,a),e.getFormat(o,a),!t.internalFormat||!t.format||!t.openGLDataType)return B2(`Failed to determine texture parameters.`),!1;t.target=t.context.TEXTURE_CUBE_MAP,t.components=a,t.width=n,t.height=i,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),t.maxLevel=s.length/6-1,e.createTexture(),e.bind();let u=c(e.updateArrayDataTypeForGL(o,s)),d=[],f=t.width,p=t.height;for(let e=0;e<u.length;e++){e%6==0&&e!==0&&(f/=2,p/=2),d[e]=XK(o,p*f*t.components);for(let n=0;n<p;++n){let r=n*f*t.components,i=(p-n-1)*f*t.components;d[e].set(u[e].slice(i,i+f*t.components),r)}}t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),l(o)&&t.context.texStorage2D(t.target,6,t.internalFormat,t.width,t.height);for(let e=0;e<6;e++){let n=0,r=t.width,i=t.height;for(;r>=1&&i>=1;){let a=null;n<=t.maxLevel&&(a=d[6*n+e]),l(o)?a!=null&&t.context.texSubImage2D(t.context.TEXTURE_CUBE_MAP_POSITIVE_X+e,n,0,0,r,i,t.format,t.openGLDataType,a):t.context.texImage2D(t.context.TEXTURE_CUBE_MAP_POSITIVE_X+e,n,t.internalFormat,r,i,0,t.format,t.openGLDataType,a),n++,r/=2,i/=2}}return t.allocatedGPUMemoryInBytes=t.width*t.height*t.depth*a*t._openGLRenderWindow.getDefaultTextureByteSize(o,r(),e.useHalfFloat()),e.deactivate(),!0},e.createDepthFromRaw=function(){let{width:n=H2(`width`),height:i=H2(`height`),dataType:a=H2(`dataType`),data:o=H2(`data`)}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.getOpenGLDataType(a),t.format=t.context.DEPTH_COMPONENT,t._openGLRenderWindow.getWebgl2()?a===R2.FLOAT?t.internalFormat=t.context.DEPTH_COMPONENT32F:t.internalFormat=t.context.DEPTH_COMPONENT16:t.internalFormat=t.context.DEPTH_COMPONENT,!t.internalFormat||!t.format||!t.openGLDataType?(B2(`Failed to determine texture parameters.`),!1):(t.target=t.context.TEXTURE_2D,t.components=1,t.width=n,t.height=i,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),l(a)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),o!=null&&t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,o)):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,o),t.generateMipmap&&t.context.generateMipmap(t.target),t.allocatedGPUMemoryInBytes=t.width*t.height*t.depth*t.components*t._openGLRenderWindow.getDefaultTextureByteSize(a,r(),e.useHalfFloat()),e.deactivate(),!0)},e.create2DFromImage=n=>{if(e.getOpenGLDataType(R2.UNSIGNED_CHAR),e.getInternalFormat(R2.UNSIGNED_CHAR,4),e.getFormat(R2.UNSIGNED_CHAR,4),!t.internalFormat||!t.format||!t.openGLDataType)return B2(`Failed to determine texture parameters.`),!1;t.target=t.context.TEXTURE_2D,t.components=4,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();let i=!t._openGLRenderWindow.getWebgl2()&&(!tZ(n.width)||!tZ(n.height)),a=n,o=n.width,s=n.height,c=!0,u=window.chrome;if(i||u){let e=new OffscreenCanvas(eZ(n.width),eZ(n.height));o=e.width,s=e.height;let t=e.getContext(`2d`);t.translate(0,e.height),t.scale(1,-1),t.drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height),a=e,c=!1}return t.width=o,t.height=s,t.context.pixelStorei(t.context.UNPACK_FLIP_Y_WEBGL,c),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),l(R2.UNSIGNED_CHAR)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,a)):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,a),t.generateMipmap&&t.context.generateMipmap(t.target),t.allocatedGPUMemoryInBytes=t.width*t.height*t.depth*t.components*t._openGLRenderWindow.getDefaultTextureByteSize(R2.UNSIGNED_CHAR,r(),e.useHalfFloat()),e.deactivate(),!0},e.create2DFromImageBitmap=n=>(e.getOpenGLDataType(R2.UNSIGNED_CHAR),e.getInternalFormat(R2.UNSIGNED_CHAR,4),e.getFormat(R2.UNSIGNED_CHAR,4),!t.internalFormat||!t.format||!t.openGLDataType?(B2(`Failed to determine texture parameters.`),!1):(t.target=t.context.TEXTURE_2D,t.components=4,t.depth=1,t.numberOfDimensions=2,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.width=n.width,t.height=n.height,l(R2.UNSIGNED_CHAR)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,n)):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,n),t.generateMipmap&&t.context.generateMipmap(t.target),t.allocatedGPUMemoryInBytes=t.width*t.height*t.depth*t.components*t._openGLRenderWindow.getDefaultTextureByteSize(R2.UNSIGNED_CHAR,r(),e.useHalfFloat()),e.deactivate(),!0));function u(e,t,n){let r=Array(n),i=Array(n);for(let a=0;a<n;++a)r[a]=e[a],i[a]=t[a]-e[a]||1;return{scale:i,offset:r}}function d(e,t){for(let n=0;n<e.length;n++){let r=e[n],i=t[n]+r;if(r<-2048||r>2048||i<-2048||i>2048)return!1}return!0}function f(n,r,i,a){e.getOpenGLDataType(n);let o=d(r,i)||a,s=!1;if(t._openGLRenderWindow.getWebgl2())s=t.openGLDataType===t.context.FLOAT&&t.context.getExtension(`OES_texture_float_linear`)===null&&o||t.openGLDataType===t.context.HALF_FLOAT;else{let e=t.context.getExtension(`OES_texture_half_float`);s=e&&t.openGLDataType===e.HALF_FLOAT_OES}t.canUseHalfFloat=s&&o}function p(t,n){let r=t.getNumberOfComponents(),i=t.getDataType(),a=t.getData(),o=Array(r),s=Array(r);for(let e=0;e<r;++e){let[n,r]=t.getRange(e);o[e]=n,s[e]=r}let c=u(o,s,r);return f(i,c.offset,c.scale,n),e.useHalfFloat()||e.getOpenGLDataType(i,!0),{numComps:r,dataType:i,data:a,scaleOffsets:c}}e.create2DFilterableFromRaw=function(){let{width:t=H2(`width`),height:n=H2(`height`),numComps:r=H2(`numComps`),dataType:i=H2(`dataType`),data:a=H2(`data`),preferSizeOverAccuracy:o=!1,ranges:s=void 0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.create2DFilterableFromDataArray({width:t,height:n,dataArray:l1.newInstance({numberOfComponents:r,dataType:i,values:a,ranges:s}),preferSizeOverAccuracy:o})},e.create2DFilterableFromDataArray=function(){let{width:t=H2(`width`),height:n=H2(`height`),dataArray:r=H2(`dataArray`),preferSizeOverAccuracy:i=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{numComps:a,dataType:o,data:s}=p(r,i);e.create2DFromRaw({width:t,height:n,numComps:a,dataType:o,data:s})},e.updateVolumeInfoForGL=(n,i)=>{let a=!1,o=e.useHalfFloat();(!t.volumeInfo?.scale||!t.volumeInfo?.offset)&&(t.volumeInfo={scale:Array(i),offset:Array(i)});for(let e=0;e<i;++e)t.volumeInfo.scale[e]=1,t.volumeInfo.offset[e]=0;if(r()&&!o&&n===R2.SHORT){for(let e=0;e<i;++e)t.volumeInfo.scale[e]=32767;a=!0}if(r()&&!o&&n===R2.UNSIGNED_SHORT){for(let e=0;e<i;++e)t.volumeInfo.scale[e]=65535;a=!0}if(n===R2.UNSIGNED_CHAR){for(let e=0;e<i;++e)t.volumeInfo.scale[e]=255;a=!0}return(n===R2.FLOAT||o&&(n===R2.SHORT||n===R2.UNSIGNED_SHORT))&&(a=!0),a},e.create3DFromRaw=function(){let{width:o=H2(`width`),height:s=H2(`height`),depth:u=H2(`depth`),numComps:d=H2(`numComps`),dataType:f=H2(`dataType`),data:p=H2(`data`),updatedExtents:m=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f,g=p;if(!e.updateVolumeInfoForGL(h,d)&&g){let e=o*s*u,n=structuredClone(t.volumeInfo),r=new Float32Array(e*d);t.volumeInfo.offset=n.offset,t.volumeInfo.scale=n.scale;let i=0,a=n.scale.map(e=>1/e);for(let t=0;t<e;t++)for(let e=0;e<d;e++)r[i]=(g[i]-n.offset[e])*a[e],i++;h=R2.FLOAT,g=r}if(e.getOpenGLDataType(h),e.getInternalFormat(h,d),e.getFormat(h,d),!t.internalFormat||!t.format||!t.openGLDataType)return B2(`Failed to determine texture parameters.`),!1;t.target=t.context.TEXTURE_3D,t.components=d,t.width=o,t.height=s,t.depth=u,t.numberOfDimensions=3,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();let _=m.length>0,v=!_||!(0,Gme.default)(t._prevTexParams,n()),y=[g],b=c(e.updateArrayDataTypeForGL(h,y,!0,v?[]:m));if(t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),v)l(h)?(t.context.texStorage3D(t.target,1,t.internalFormat,t.width,t.height,t.depth),b[0]!=null&&t.context.texSubImage3D(t.target,0,0,0,0,t.width,t.height,t.depth,t.format,t.openGLDataType,b[0])):t.context.texImage3D(t.target,0,t.internalFormat,t.width,t.height,t.depth,0,t.format,t.openGLDataType,b[0]),t._prevTexParams=n();else if(_){let e=b[0],n=0;for(let r=0;r<m.length;r++){let o=m[r],s=i(o),c=a(o),l=new e.constructor(e.buffer,n,c);n+=l.byteLength,t.context.texSubImage3D(t.target,0,o[0],o[2],o[4],s[0],s[1],s[2],t.format,t.openGLDataType,l)}}return t.generateMipmap&&t.context.generateMipmap(t.target),t.allocatedGPUMemoryInBytes=t.width*t.height*t.depth*t.components*t._openGLRenderWindow.getDefaultTextureByteSize(h,r(),e.useHalfFloat()),e.deactivate(),!0},e.create3DFilterableFromRaw=function(){let{width:t=H2(`width`),height:n=H2(`height`),depth:r=H2(`depth`),numComps:i=H2(`numComps`),dataType:a=H2(`dataType`),data:o=H2(`data`),preferSizeOverAccuracy:s=!1,ranges:c=void 0,updatedExtents:l=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.create3DFilterableFromDataArray({width:t,height:n,depth:r,dataArray:l1.newInstance({numberOfComponents:i,dataType:a,values:o,ranges:c}),preferSizeOverAccuracy:s,updatedExtents:l})},e.create3DFilterableFromDataArray=function(){let{width:n=H2(`width`),height:r=H2(`height`),depth:i=H2(`depth`),dataArray:a=H2(`dataArray`),preferSizeOverAccuracy:o=!1,updatedExtents:s=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{numComps:c,dataType:u,data:d,scaleOffsets:f}=p(a,o),m=[],h=[];for(let e=0;e<c;++e)m[e]=0,h[e]=1;if(t.volumeInfo={scale:h,offset:m,dataComputedScale:f.scale,dataComputedOffset:f.offset,width:n,height:r,depth:i},t._openGLRenderWindow.getWebgl2())return e.create3DFromRaw({width:n,height:r,depth:i,numComps:c,dataType:u,data:d,updatedExtents:s});let g=n*r*i,_=structuredClone(f),v=(e,t,n,r,i)=>{e[t]=n},y=R2.UNSIGNED_CHAR;if(u===R2.UNSIGNED_CHAR)for(let e=0;e<c;++e)_.offset[e]=0,_.scale[e]=255;else t.context.getExtension(`OES_texture_float`)&&t.context.getExtension(`OES_texture_float_linear`)?(y=R2.FLOAT,v=(e,t,n,r,i)=>{e[t]=(n-r)/i}):(y=R2.UNSIGNED_CHAR,v=(e,t,n,r,i)=>{e[t]=255*(n-r)/i});if(e.getOpenGLDataType(y),e.getInternalFormat(y,c),e.getFormat(y,c),!t.internalFormat||!t.format||!t.openGLDataType)return B2(`Failed to determine texture parameters.`),!1;t.target=t.context.TEXTURE_2D,t.components=c,t.depth=1,t.numberOfDimensions=2;let b=t.context.getParameter(t.context.MAX_TEXTURE_SIZE);b>4096&&(y===R2.FLOAT||c>=3)&&(b=4096);let x=1,S=1;g>b*b&&(x=Math.ceil(Math.sqrt(g/(b*b))),S=x);let C=Math.sqrt(g)/x;C=eZ(C);let w=Math.floor(C*x/n),T=Math.ceil(i/w),E=eZ(r*T/S);t.width=C,t.height=E,t._openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.volumeInfo.xreps=w,t.volumeInfo.yreps=T,t.volumeInfo.xstride=x,t.volumeInfo.ystride=S,t.volumeInfo.offset=_.offset,t.volumeInfo.scale=_.scale;let D,O=C*E*c;D=y===R2.FLOAT?new Float32Array(O):new Uint8Array(O);let k=0,A=Math.floor(n/x),j=Math.floor(r/S);for(let e=0;e<T;e++){let a=Math.min(w,i-e*w),o=c*(t.width-a*Math.floor(n/x));for(let t=0;t<j;t++){for(let i=0;i<a;i++){let a=c*((e*w+i)*n*r+S*t*n);for(let e=0;e<A;e++)for(let t=0;t<c;t++)v(D,k,d[a+x*e*c+t],_.offset[t],_.scale[t]),k++}k+=o}}return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),l(y)?(t.context.texStorage2D(t.target,1,t.internalFormat,t.width,t.height),D!=null&&t.context.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.openGLDataType,D)):t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,D),e.deactivate(),!0},e.setOpenGLRenderWindow=n=>{t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))},e.getMaximumTextureSize=e=>e&&e.isCurrent()?e.getIntegerv(e.MAX_TEXTURE_SIZE):-1,e.enableUseHalfFloat=e=>{t.enableUseHalfFloat=e}}var Jme={_openGLRenderWindow:null,_forceInternalFormat:!1,_prevTexParams:null,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:I2.CLAMP_TO_EDGE,wrapT:I2.CLAMP_TO_EDGE,wrapR:I2.CLAMP_TO_EDGE,minificationFilter:L2.NEAREST,magnificationFilter:L2.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1,oglNorm16Ext:null,allocatedGPUMemoryInBytes:0,enableUseHalfFloat:!0,canUseHalfFloat:!1};function U2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Jme,n),Kq.extend(e,t,n),t.sendParametersTime={},uq(t.sendParametersTime,{mtime:0}),t.textureBuildTime={},uq(t.textureBuildTime,{mtime:0}),hq(e,t,[`format`,`openGLDataType`]),gq(e,t,[`keyMatrixTime`,`minificationFilter`,`magnificationFilter`,`wrapS`,`wrapT`,`wrapR`,`generateMipmap`,`oglNorm16Ext`]),fq(e,t,[`width`,`height`,`volumeInfo`,`components`,`handle`,`target`,`allocatedGPUMemoryInBytes`]),bq(e,t,[`openGLRenderWindow`]),qme(e,t)}var W2=wq(U2,`vtkOpenGLTexture`),G2={newInstance:W2,extend:U2,...M2};Qq(`vtkTexture`,W2);var K2=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexMC;

// frag position in VC
//VTK::PositionVC::Dec

// optional normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

// Apple Bug
//VTK::PrimID::Dec

// picking support
//VTK::Picking::Dec

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  //VTK::PrimID::Impl

  //VTK::PositionVC::Impl

  //VTK::Light::Impl

  //VTK::Picking::Impl
}
`,q2=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the polydata mappers fragment shader

uniform int PrimitiveIDOffset;

// VC position of this fragment
//VTK::PositionVC::Dec

// optional color passed in from the vertex shader, vertexColor
//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// Depth Peeling Support
//VTK::DepthPeeling::Dec

// clipping plane vars
//VTK::Clip::Dec

// label outline 
//VTK::LabelOutline::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

//VTK::LabelOutlineHelperFunction

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Clip::Impl

  //VTK::Color::Impl

  // Generate the normal if we are not passed in one
  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Light::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;function Yme(e,t){e.replaceShaderCoincidentOffset=(n,r,i)=>{let a=e.getCoincidentParameters(r,i);if(a&&(a.factor!==0||a.offset!==0)){let e=n.Fragment;e=w2.substitute(e,`//VTK::Coincident::Dec`,[`uniform float cfactor;`,`uniform float coffset;`]).result,t.context.getExtension(`EXT_frag_depth`)&&(a.factor===0?e=w2.substitute(e,`//VTK::Depth::Impl`,`gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;`).result:(e=w2.substitute(e,`//VTK::UniformFlow::Impl`,[`float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));`,`//VTK::UniformFlow::Impl`],!1).result,e=w2.substitute(e,`//VTK::Depth::Impl`,`gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;`).result)),t._openGLRenderWindow.getWebgl2()&&(a.factor===0?e=w2.substitute(e,`//VTK::Depth::Impl`,`gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;`).result:(e=w2.substitute(e,`//VTK::UniformFlow::Impl`,[`float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));`,`//VTK::UniformFlow::Impl`],!1).result,e=w2.substitute(e,`//VTK::Depth::Impl`,`gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;`).result)),n.Fragment=e}}}function Xme(e,t){e.applyShaderReplacements=(e,t,n)=>{let r=null;if(t&&(r=t.ShaderReplacements),r)for(let t=0;t<r.length;t++){let i=r[t];if(n&&i.replaceFirst||!n&&!i.replaceFirst){let t=i.shaderType,n=e[t];e[t]=w2.substitute(n,i.originalValue,i.replacementValue,i.replaceAll).result}}},e.buildShaders=(n,r,i)=>{e.getReplacedShaderTemplate(n,r,i),t.lastRenderPassShaderReplacement=t.currentRenderPass?t.currentRenderPass.getShaderReplacement():null,t.lastRenderPassShaderReplacement&&t.lastRenderPassShaderReplacement(n);let a=t.renderable.getViewSpecificProperties().OpenGL;e.applyShaderReplacements(n,a,!0),e.replaceShaderValues(n,r,i),e.applyShaderReplacements(n,a)},e.getReplacedShaderTemplate=(n,r,i)=>{let a=t.renderable.getViewSpecificProperties().OpenGL;e.getShaderTemplate(n,r,i);let o=n.Vertex;if(a){let e=a.VertexShaderCode;e!==void 0&&e!==``&&(o=e)}n.Vertex=o;let s=n.Fragment;if(a){let e=a.FragmentShaderCode;e!==void 0&&e!==``&&(s=e)}n.Fragment=s;let c=n.Geometry;if(a){let e=a.GeometryShaderCode;e!==void 0&&(c=e)}n.Geometry=c}}var J2={implementReplaceShaderCoincidentOffset:Yme,implementBuildShadersWithReplacements:Xme},{FieldAssociations:Y2}=S1,{primTypes:X2}=k2,{Representation:Z2,Shading:Q2}=Z$,{ScalarMode:$2}=u0,{Filter:e4,Wrap:t4}=G2,{vtkErrorMacro:n4}=Bq,Zme={type:`StartEvent`},Qme={type:`EndEvent`},{CoordinateSystem:$me}=V$;function ehe(e){let t=e.getSelector();return t?t.getCurrentPass():e0.MIN_KNOWN_PASS-1}function the(e,t){t.classHierarchy.push(`vtkOpenGLPolyDataMapper`),e.buildPass=n=>{n&&(t.currentRenderPass=null,t.openGLActor=e.getFirstAncestorOfType(`vtkOpenGLActor`),t._openGLRenderer=t.openGLActor.getFirstAncestorOfType(`vtkOpenGLRenderer`),t._openGLRenderWindow=t._openGLRenderer.getLastAncestorOfType(`vtkOpenGLRenderWindow`),t.openGLCamera=t._openGLRenderer.getViewNodeFor(t._openGLRenderer.getRenderable().getActiveCamera(),t.openGLCamera))},e.translucentPass=(n,r)=>{n&&(t.currentRenderPass=r,e.render())},e.zBufferPass=n=>{n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.opaqueZBufferPass=t=>e.zBufferPass(t),e.opaquePass=t=>{t&&e.render()},e.render=()=>{let n=t._openGLRenderWindow.getContext();if(t.context!==n){t.context=n;for(let e=X2.Start;e<X2.End;e++)t.primitives[e].setOpenGLRenderWindow(t._openGLRenderWindow)}let r=t.openGLActor.getRenderable(),i=t._openGLRenderer.getRenderable();e.renderPiece(i,r)},e.getShaderTemplate=(e,t,n)=>{e.Vertex=K2,e.Fragment=q2,e.Geometry=``},e.replaceShaderColor=(e,n,r)=>{let i=e.Vertex,a=e.Geometry,o=e.Fragment,s=t.lastBoundBO.getReferenceByName(`lastLightComplexity`),c=[`uniform float ambient;`,`uniform float diffuse;`,`uniform float specular;`,`uniform float opacityUniform; // the fragment opacity`,`uniform vec3 ambientColorUniform;`,`uniform vec3 diffuseColorUniform;`];s&&(c=c.concat([`uniform vec3 specularColorUniform;`,`uniform float specularPowerUniform;`]));let l=[`vec3 ambientColor;`,`  vec3 diffuseColor;`,`  float opacity;`];s&&(l=l.concat([`  vec3 specularColor;`,`  float specularPower;`])),l=l.concat([`  ambientColor = ambientColorUniform;`,`  diffuseColor = diffuseColorUniform;`,`  opacity = opacityUniform;`]),s&&(l=l.concat([`  specularColor = specularColorUniform;`,`  specularPower = specularPowerUniform;`])),t.lastBoundBO.getCABO().getColorComponents()!==0&&!t.drawingEdges&&(c=c.concat([`varying vec4 vertexColorVSOutput;`]),i=w2.substitute(i,`//VTK::Color::Dec`,[`attribute vec4 scalarColor;`,`varying vec4 vertexColorVSOutput;`]).result,i=w2.substitute(i,`//VTK::Color::Impl`,[`vertexColorVSOutput =  scalarColor;`]).result,a=w2.substitute(a,`//VTK::Color::Dec`,[`in vec4 vertexColorVSOutput[];`,`out vec4 vertexColorGSOutput;`]).result,a=w2.substitute(a,`//VTK::Color::Impl`,[`vertexColorGSOutput = vertexColorVSOutput[i];`]).result),t.lastBoundBO.getCABO().getColorComponents()!==0&&!t.drawingEdges?o=w2.substitute(o,`//VTK::Color::Impl`,l.concat([`  diffuseColor = vertexColorVSOutput.rgb;`,`  ambientColor = vertexColorVSOutput.rgb;`,`  opacity = opacity*vertexColorVSOutput.a;`])).result:(t.renderable.getAreScalarsMappedFromCells()||t.renderable.getInterpolateScalarsBeforeMapping())&&t.renderable.getColorCoordinates()&&!t.drawingEdges?o=w2.substitute(o,`//VTK::Color::Impl`,l.concat([`  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);`,`  diffuseColor = texColor.rgb;`,`  ambientColor = texColor.rgb;`,`  opacity = opacity*texColor.a;`])).result:(r.getBackfaceProperty()&&!t.drawingEdges&&(c=c.concat([`uniform float opacityUniformBF; // the fragment opacity`,`uniform float ambientIntensityBF; // the material ambient`,`uniform float diffuseIntensityBF; // the material diffuse`,`uniform vec3 ambientColorUniformBF; // ambient material color`,`uniform vec3 diffuseColorUniformBF; // diffuse material color`]),s?(c=c.concat([`uniform float specularIntensityBF; // the material specular intensity`,`uniform vec3 specularColorUniformBF; // intensity weighted color`,`uniform float specularPowerUniformBF;`]),l=l.concat([`if (gl_FrontFacing == false) {`,`  ambientColor = ambientIntensityBF * ambientColorUniformBF;`,`  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;`,`  specularColor = specularIntensityBF * specularColorUniformBF;`,`  specularPower = specularPowerUniformBF;`,`  opacity = opacityUniformBF; }`])):l=l.concat([`if (gl_FrontFacing == false) {`,`  ambientColor = ambientIntensityBF * ambientColorUniformBF;`,`  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;`,`  opacity = opacityUniformBF; }`])),t.haveCellScalars&&!t.drawingEdges&&(c=c.concat([`uniform samplerBuffer texture1;`])),o=w2.substitute(o,`//VTK::Color::Impl`,l).result),o=w2.substitute(o,`//VTK::Color::Dec`,c).result,e.Vertex=i,e.Geometry=a,e.Fragment=o},e.replaceShaderLight=(e,n,r)=>{let i=e.Fragment,a=t.lastBoundBO.getReferenceByName(`lastLightComplexity`),o=t.lastBoundBO.getReferenceByName(`lastLightCount`),s=[];switch(a){case 0:i=w2.substitute(i,`//VTK::Light::Impl`,[`  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);`,`  //VTK::Light::Impl`],!1).result;break;case 1:i=w2.substitute(i,`//VTK::Light::Impl`,[`  float df = max(0.0, normalVCVSOutput.z);`,`  float sf = pow(df, specularPower);`,`  vec3 diffuseL = df * diffuseColor;`,`  vec3 specularL = sf * specularColor;`,`  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);`,`  //VTK::Light::Impl`],!1).result;break;case 2:for(let e=0;e<o;++e)s=s.concat([`uniform vec3 lightColor${e};`,`uniform vec3 lightDirectionVC${e}; // normalized`,`uniform vec3 lightHalfAngleVC${e}; // normalized`]);i=w2.substitute(i,`//VTK::Light::Dec`,s).result,s=[`vec3 diffuseL = vec3(0,0,0);`,`  vec3 specularL = vec3(0,0,0);`,`  float df;`];for(let e=0;e<o;++e)s=s.concat([`  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC${e}));`,`  diffuseL += ((df) * lightColor${e});`,`  if (dot(normalVCVSOutput, lightDirectionVC${e}) < 0.0)`,`    {`,`    float sf = sign(df)*pow(max(1e-5,
                                              dot(reflect(lightDirectionVC${e},normalVCVSOutput),
                                                  normalize(-vertexVC.xyz))),
                                         specularPower);`,`    specularL += (sf * lightColor${e});`,`    }`]);s=s.concat([`  diffuseL = diffuseL * diffuseColor;`,`  specularL = specularL * specularColor;`,`  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);`,`  //VTK::Light::Impl`]),i=w2.substitute(i,`//VTK::Light::Impl`,s,!1).result;break;case 3:for(let e=0;e<o;++e)s=s.concat([`uniform vec3 lightColor${e};`,`uniform vec3 lightDirectionVC${e}; // normalized`,`uniform vec3 lightHalfAngleVC${e}; // normalized`,`uniform vec3 lightPositionVC${e};`,`uniform vec3 lightAttenuation${e};`,`uniform float lightConeAngle${e};`,`uniform float lightExponent${e};`,`uniform int lightPositional${e};`]);i=w2.substitute(i,`//VTK::Light::Dec`,s).result,s=[`vec3 diffuseL = vec3(0,0,0);`,`  vec3 specularL = vec3(0,0,0);`,`  vec3 vertLightDirectionVC;`,`  float attenuation;`,`  float df;`];for(let e=0;e<o;++e)s=s.concat([`  attenuation = 1.0;`,`  if (lightPositional${e} == 0)`,`    {`,`      vertLightDirectionVC = lightDirectionVC${e};`,`    }`,`  else`,`    {`,`    vertLightDirectionVC = vertexVC.xyz - lightPositionVC${e};`,`    float distanceVC = length(vertLightDirectionVC);`,`    vertLightDirectionVC = normalize(vertLightDirectionVC);`,`    attenuation = 1.0 /`,`      (lightAttenuation${e}.x`,`       + lightAttenuation${e}.y * distanceVC`,`       + lightAttenuation${e}.z * distanceVC * distanceVC);`,`    // per OpenGL standard cone angle is 90 or less for a spot light`,`    if (lightConeAngle${e} <= 90.0)`,`      {`,`      float coneDot = dot(vertLightDirectionVC, lightDirectionVC${e});`,`      // if inside the cone`,`      if (coneDot >= cos(radians(lightConeAngle${e})))`,`        {`,`        attenuation = attenuation * pow(coneDot, lightExponent${e});`,`        }`,`      else`,`        {`,`        attenuation = 0.0;`,`        }`,`      }`,`    }`,`    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));`,`    diffuseL += ((df) * lightColor${e});`,`    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)`,`      {`,`      float sf = sign(df)*attenuation*pow(max(1e-5,
                                                           dot(reflect(lightDirectionVC${e},
                                                                       normalVCVSOutput),
                                                               normalize(-vertexVC.xyz))),
                                                       specularPower);`,`    specularL += ((sf) * lightColor${e});`,`    }`]);s=s.concat([`  diffuseL = diffuseL * diffuseColor;`,`  specularL = specularL * specularColor;`,`  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);`,`  //VTK::Light::Impl`]),i=w2.substitute(i,`//VTK::Light::Impl`,s,!1).result;break;default:n4(`bad light complexity`)}e.Fragment=i},e.replaceShaderNormal=(e,n,r)=>{if(t.lastBoundBO.getReferenceByName(`lastLightComplexity`)>0){let n=e.Vertex,i=e.Geometry,a=e.Fragment;t.lastBoundBO.getCABO().getNormalOffset()?(n=w2.substitute(n,`//VTK::Normal::Dec`,[`attribute vec3 normalMC;`,`uniform mat3 normalMatrix;`,`varying vec3 normalVCVSOutput;`]).result,n=w2.substitute(n,`//VTK::Normal::Impl`,[`normalVCVSOutput = normalMatrix * normalMC;`]).result,i=w2.substitute(i,`//VTK::Normal::Dec`,[`in vec3 normalVCVSOutput[];`,`out vec3 normalVCGSOutput;`]).result,i=w2.substitute(i,`//VTK::Normal::Impl`,[`normalVCGSOutput = normalVCVSOutput[i];`]).result,a=w2.substitute(a,`//VTK::Normal::Dec`,[`varying vec3 normalVCVSOutput;`]).result,a=w2.substitute(a,`//VTK::Normal::Impl`,[`vec3 normalVCVSOutput = normalize(normalVCVSOutput);`,`  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }`]).result):t.haveCellNormals?(a=w2.substitute(a,`//VTK::Normal::Dec`,[`uniform mat3 normalMatrix;`,`uniform samplerBuffer textureN;`]).result,a=w2.substitute(a,`//VTK::Normal::Impl`,[`vec3 normalVCVSOutput = normalize(normalMatrix *`,`    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);`,`  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }`]).result):t.lastBoundBO.getOpenGLMode(r.getProperty().getRepresentation())===t.context.LINES?(a=w2.substitute(a,`//VTK::UniformFlow::Impl`,[`  vec3 fdx = dFdx(vertexVC.xyz);`,`  vec3 fdy = dFdy(vertexVC.xyz);`,`  //VTK::UniformFlow::Impl`]).result,a=w2.substitute(a,`//VTK::Normal::Impl`,[`vec3 normalVCVSOutput;`,`  if (abs(fdx.x) > 0.0)`,`    { fdx = normalize(fdx); normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }`,`  else { fdy = normalize(fdy); normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}`]).result):(a=w2.substitute(a,`//VTK::Normal::Dec`,[`uniform int cameraParallel;`]).result,a=w2.substitute(a,`//VTK::UniformFlow::Impl`,[`  vec3 fdx = dFdx(vertexVC.xyz);`,`  vec3 fdy = dFdy(vertexVC.xyz);`,`  //VTK::UniformFlow::Impl`]).result,a=w2.substitute(a,`//VTK::Normal::Impl`,[`  fdx = normalize(fdx);`,`  fdy = normalize(fdy);`,`  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));`,`  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }`,`  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }`]).result),e.Vertex=n,e.Geometry=i,e.Fragment=a}},e.replaceShaderPositionVC=(e,n,r)=>{t.lastBoundBO.replaceShaderPositionVC(e,n,r);let i=e.Vertex,a=e.Geometry,o=e.Fragment;t.lastBoundBO.getReferenceByName(`lastLightComplexity`)>0?(i=w2.substitute(i,`//VTK::PositionVC::Dec`,[`varying vec4 vertexVCVSOutput;`]).result,i=w2.substitute(i,`//VTK::PositionVC::Impl`,[`vertexVCVSOutput = MCVCMatrix * vertexMC;`,`  gl_Position = MCPCMatrix * vertexMC;`]).result,i=w2.substitute(i,`//VTK::Camera::Dec`,[`uniform mat4 MCPCMatrix;`,`uniform mat4 MCVCMatrix;`]).result,a=w2.substitute(a,`//VTK::PositionVC::Dec`,[`in vec4 vertexVCVSOutput[];`,`out vec4 vertexVCGSOutput;`]).result,a=w2.substitute(a,`//VTK::PositionVC::Impl`,[`vertexVCGSOutput = vertexVCVSOutput[i];`]).result,o=w2.substitute(o,`//VTK::PositionVC::Dec`,[`varying vec4 vertexVCVSOutput;`]).result,o=w2.substitute(o,`//VTK::PositionVC::Impl`,[`vec4 vertexVC = vertexVCVSOutput;`]).result):(i=w2.substitute(i,`//VTK::Camera::Dec`,[`uniform mat4 MCPCMatrix;`]).result,i=w2.substitute(i,`//VTK::PositionVC::Impl`,[`  gl_Position = MCPCMatrix * vertexMC;`]).result),e.Vertex=i,e.Geometry=a,e.Fragment=o},e.replaceShaderTCoord=(e,n,r)=>{if(t.lastBoundBO.getCABO().getTCoordOffset()){let n=e.Vertex,r=e.Geometry,i=e.Fragment;if(t.drawingEdges)return;n=w2.substitute(n,`//VTK::TCoord::Impl`,`tcoordVCVSOutput = tcoordMC;`).result;let a=t.openGLActor.getActiveTextures(),o=2,s=2;if(a&&a.length>0&&(o=a[0].getComponents(),a[0].getTarget()===t.context.TEXTURE_CUBE_MAP&&(s=3)),t.renderable.getColorTextureMap()&&(o=t.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),s=2),s===2){if(n=w2.substitute(n,`//VTK::TCoord::Dec`,`attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;`).result,r=w2.substitute(r,`//VTK::TCoord::Dec`,[`in vec2 tcoordVCVSOutput[];`,`out vec2 tcoordVCGSOutput;`]).result,r=w2.substitute(r,`//VTK::TCoord::Impl`,`tcoordVCGSOutput = tcoordVCVSOutput[i];`).result,i=w2.substitute(i,`//VTK::TCoord::Dec`,[`varying vec2 tcoordVCVSOutput;`,`uniform sampler2D texture1;`]).result,a&&a.length>=1)switch(o){case 1:i=w2.substitute(i,`//VTK::TCoord::Impl`,[`  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);`,`  ambientColor = ambientColor*tcolor.r;`,`  diffuseColor = diffuseColor*tcolor.r;`]).result;break;case 2:i=w2.substitute(i,`//VTK::TCoord::Impl`,[`  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);`,`  ambientColor = ambientColor*tcolor.r;`,`  diffuseColor = diffuseColor*tcolor.r;`,`  opacity = opacity * tcolor.g;`]).result;break;default:i=w2.substitute(i,`//VTK::TCoord::Impl`,[`  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);`,`  ambientColor = ambientColor*tcolor.rgb;`,`  diffuseColor = diffuseColor*tcolor.rgb;`,`  opacity = opacity * tcolor.a;`]).result}}else switch(n=w2.substitute(n,`//VTK::TCoord::Dec`,`attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;`).result,r=w2.substitute(r,`//VTK::TCoord::Dec`,[`in vec3 tcoordVCVSOutput[];`,`out vec3 tcoordVCGSOutput;`]).result,r=w2.substitute(r,`//VTK::TCoord::Impl`,`tcoordVCGSOutput = tcoordVCVSOutput[i];`).result,i=w2.substitute(i,`//VTK::TCoord::Dec`,[`varying vec3 tcoordVCVSOutput;`,`uniform samplerCube texture1;`]).result,o){case 1:i=w2.substitute(i,`//VTK::TCoord::Impl`,[`  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);`,`  ambientColor = ambientColor*tcolor.r;`,`  diffuseColor = diffuseColor*tcolor.r;`]).result;break;case 2:i=w2.substitute(i,`//VTK::TCoord::Impl`,[`  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);`,`  ambientColor = ambientColor*tcolor.r;`,`  diffuseColor = diffuseColor*tcolor.r;`,`  opacity = opacity * tcolor.g;`]).result;break;default:i=w2.substitute(i,`//VTK::TCoord::Impl`,[`  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);`,`  ambientColor = ambientColor*tcolor.rgb;`,`  diffuseColor = diffuseColor*tcolor.rgb;`,`  opacity = opacity * tcolor.a;`]).result}e.Vertex=n,e.Geometry=r,e.Fragment=i}},e.replaceShaderClip=(e,n,r)=>{let i=e.Vertex,a=e.Fragment;if(t.renderable.getNumberOfClippingPlanes()){let e=t.renderable.getNumberOfClippingPlanes();i=w2.substitute(i,`//VTK::Clip::Dec`,[`uniform int numClipPlanes;`,`uniform vec4 clipPlanes[${e}];`,`varying float clipDistancesVSOutput[${e}];`]).result,i=w2.substitute(i,`//VTK::Clip::Impl`,[`for (int planeNum = 0; planeNum < ${e}; planeNum++)`,`    {`,`    if (planeNum >= numClipPlanes)`,`        {`,`        break;`,`        }`,`    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);`,`    }`]).result,a=w2.substitute(a,`//VTK::Clip::Dec`,[`uniform int numClipPlanes;`,`varying float clipDistancesVSOutput[${e}];`]).result,a=w2.substitute(a,`//VTK::Clip::Impl`,[`for (int planeNum = 0; planeNum < ${e}; planeNum++)`,`    {`,`    if (planeNum >= numClipPlanes)`,`        {`,`        break;`,`        }`,`    if (clipDistancesVSOutput[planeNum] < 0.0) discard;`,`    }`]).result}e.Vertex=i,e.Fragment=a},e.getCoincidentParameters=(e,n)=>{let r={factor:0,offset:0},i=n.getProperty();if(t.renderable.getResolveCoincidentTopology()==G1.PolygonOffset||i.getEdgeVisibility()&&i.getRepresentation()===Z2.SURFACE){let e=t.lastBoundBO.getPrimitiveType();e===X2.Points||i.getRepresentation()===Z2.POINTS?r=t.renderable.getCoincidentTopologyPointOffsetParameter():e===X2.Lines||i.getRepresentation()===Z2.WIREFRAME?r=t.renderable.getCoincidentTopologyLineOffsetParameters():(e===X2.Tris||e===X2.TriStrips)&&(r=t.renderable.getCoincidentTopologyPolygonOffsetParameters()),(e===X2.TrisEdges||e===X2.TriStripsEdges)&&(r=t.renderable.getCoincidentTopologyPolygonOffsetParameters(),r.factor/=2,r.offset/=2)}let a=t._openGLRenderer.getSelector();return a&&a.getFieldAssociation()===Y2.FIELD_ASSOCIATION_POINTS&&(r.offset-=2),r},e.replaceShaderPicking=(e,n,r)=>{let i=e.Fragment,a=e.Vertex;if(i=w2.substitute(i,`//VTK::Picking::Dec`,[`uniform int picking;`,`//VTK::Picking::Dec`]).result,t._openGLRenderer.getSelector()){switch((t.lastSelectionState===e0.ID_LOW24||t.lastSelectionState===e0.ID_HIGH24)&&(a=w2.substitute(a,`//VTK::Picking::Dec`,[`flat out int vertexIDVSOutput;
`,`uniform int VertexIDOffset;
`]).result,a=w2.substitute(a,`//VTK::Picking::Impl`,`  vertexIDVSOutput = gl_VertexID + VertexIDOffset;
`).result,i=w2.substitute(i,`//VTK::Picking::Dec`,`flat in int vertexIDVSOutput;
`).result,i=w2.substitute(i,`//VTK::Picking::Impl`,[`  int idx = vertexIDVSOutput;`,`//VTK::Picking::Impl`]).result),t.lastSelectionState){case e0.ID_LOW24:i=w2.substitute(i,`//VTK::Picking::Impl`,`  gl_FragData[0] = vec4(float(idx%256)/255.0, float((idx/256)%256)/255.0, float((idx/65536)%256)/255.0, 1.0);`).result;break;case e0.ID_HIGH24:i=w2.substitute(i,`//VTK::Picking::Impl`,`  gl_FragData[0] = vec4(float((idx/16777216)%256)/255.0, 0.0, 0.0, 1.0);`).result;break;default:i=w2.substitute(i,`//VTK::Picking::Dec`,`uniform vec3 mapperIndex;`).result,i=w2.substitute(i,`//VTK::Picking::Impl`,`  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];`).result}e.Fragment=i,e.Vertex=a}},e.replaceShaderValues=(n,r,i)=>{if(e.replaceShaderColor(n,r,i),e.replaceShaderNormal(n,r,i),e.replaceShaderLight(n,r,i),e.replaceShaderTCoord(n,r,i),e.replaceShaderPicking(n,r,i),e.replaceShaderClip(n,r,i),e.replaceShaderCoincidentOffset(n,r,i),e.replaceShaderPositionVC(n,r,i),t.haveSeenDepthRequest){let e=n.Fragment;e=w2.substitute(e,`//VTK::ZBuffer::Dec`,`uniform int depthRequest;`).result,e=w2.substitute(e,`//VTK::ZBuffer::Impl`,[`if (depthRequest == 1) {`,`float iz = floor(gl_FragCoord.z*65535.0 + 0.1);`,`float rf = floor(iz/256.0)/255.0;`,`float gf = mod(iz,256.0)/255.0;`,`gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }`]).result,n.Fragment=e}},e.getNeedToRebuildShaders=(e,n,r)=>{let i=0,a=0,o=e.getPrimitiveType(),s=t.currentInput,c=!1,l=s.getPointData().getNormals(),u=s.getCellData().getNormals(),d=r.getProperty().getInterpolation()===Q2.FLAT,f=r.getProperty().getRepresentation(),p=e.getOpenGLMode(f,o);if((p===t.context.TRIANGLES||u&&!l||!d&&l||!d&&p===t.context.LINES)&&(c=!0),r.getProperty().getLighting()&&c){i=0;let e=n.getLightsByReference();for(let t=0;t<e.length;++t){let n=e[t];n.getSwitch()>0&&(a++,i===0&&(i=1)),i===1&&(a>1||n.getIntensity()!==1||!n.lightTypeIsHeadLight())&&(i=2),i<3&&n.getPositional()&&(i=3)}}let m=!1,h=t.lastBoundBO.getReferenceByName(`lastLightComplexity`),g=t.lastBoundBO.getReferenceByName(`lastLightCount`);return(h!==i||g!==a)&&(t.lastBoundBO.set({lastLightComplexity:i},!0),t.lastBoundBO.set({lastLightCount:a},!0),m=!0),(!t.currentRenderPass&&t.lastRenderPassShaderReplacement||t.currentRenderPass&&t.currentRenderPass.getShaderReplacement()!==t.lastRenderPassShaderReplacement)&&(m=!0),t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||e.getShaderSourceTime().getMTime()<t.renderable.getMTime()||e.getShaderSourceTime().getMTime()<t.currentInput.getMTime()||e.getShaderSourceTime().getMTime()<t.selectionStateChanged.getMTime()||m?(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,!0):!1},e.invokeShaderCallbacks=(e,n,r)=>{let i=t.renderable.getViewSpecificProperties().ShadersCallbacks;i&&i.forEach(t=>{t.callback(t.userData,e,n,r)})},e.setMapperShaderParameters=(n,r,i)=>{if(n.getProgram().isUniformUsed(`PrimitiveIDOffset`)&&n.getProgram().setUniformi(`PrimitiveIDOffset`,t.primitiveIDOffset),n.getProgram().isUniformUsed(`VertexIDOffset`)&&n.getProgram().setUniformi(`VertexIDOffset`,t.vertexIDOffset),n.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())){let e=t.lastBoundBO.getReferenceByName(`lastLightComplexity`);n.getProgram().isAttributeUsed(`vertexMC`)&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),`vertexMC`,n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,!1)||n4(`Error setting vertexMC in shader VAO.`)),n.getProgram().isAttributeUsed(`normalMC`)&&n.getCABO().getNormalOffset()&&e>0?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),`normalMC`,n.getCABO().getNormalOffset(),n.getCABO().getStride(),t.context.FLOAT,3,!1)||n4(`Error setting normalMC in shader VAO.`):n.getVAO().removeAttributeArray(`normalMC`),t.renderable.getCustomShaderAttributes().forEach((e,r)=>{n.getProgram().isAttributeUsed(`${e}MC`)&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),`${e}MC`,n.getCABO().getCustomData()[r].offset,n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getCustomData()[r].components,!1)||n4(`Error setting ${e}MC in shader VAO.`))}),n.getProgram().isAttributeUsed(`tcoordMC`)&&n.getCABO().getTCoordOffset()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),`tcoordMC`,n.getCABO().getTCoordOffset(),n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getTCoordComponents(),!1)||n4(`Error setting tcoordMC in shader VAO.`):n.getVAO().removeAttributeArray(`tcoordMC`),n.getProgram().isAttributeUsed(`scalarColor`)&&n.getCABO().getColorComponents()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO().getColorBO(),`scalarColor`,n.getCABO().getColorOffset(),n.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,4,!0)||n4(`Error setting scalarColor in shader VAO.`):n.getVAO().removeAttributeArray(`scalarColor`),n.getAttributeUpdateTime().modified()}if(t.renderable.getNumberOfClippingPlanes()){let e=t.renderable.getNumberOfClippingPlanes(),r=[],a=n.getCABO().getCoordShiftAndScaleEnabled()?n.getCABO().getInverseShiftAndScaleMatrix():null,o=a?NW(t.tmpMat4,i.getMatrix()):i.getMatrix();a&&(LW(o,o),VW(o,o,a),LW(o,o));for(let n=0;n<e;n++){let e=[];t.renderable.getClippingPlaneInDataCoords(o,n,e);for(let t=0;t<4;t++)r.push(e[t])}n.getProgram().setUniformi(`numClipPlanes`,e),n.getProgram().setUniform4fv(`clipPlanes`,r)}t.internalColorTexture&&n.getProgram().isUniformUsed(`texture1`)&&n.getProgram().setUniformi(`texture1`,t.internalColorTexture.getTextureUnit());let a=t.openGLActor.getActiveTextures();if(a)for(let e=0;e<a.length;++e){let t=a[e].getTextureUnit(),r=`texture${t+1}`;n.getProgram().isUniformUsed(r)&&n.getProgram().setUniformi(r,t)}if(t.haveSeenDepthRequest&&n.getProgram().setUniformi(`depthRequest`,t.renderDepth?1:0),n.getProgram().isUniformUsed(`coffset`)){let t=e.getCoincidentParameters(r,i);n.getProgram().setUniformf(`coffset`,t.offset),n.getProgram().isUniformUsed(`cfactor`)&&n.getProgram().setUniformf(`cfactor`,t.factor)}n.setMapperShaderParameters(r,i,t._openGLRenderer.getTiledSizeAndOrigin());let o=t._openGLRenderer.getSelector();n.getProgram().setUniform3fArray(`mapperIndex`,o?o.getPropColorValue():[0,0,0]),n.getProgram().setUniformi(`picking`,o?o.getCurrentPass()+1:0)},e.setLightingShaderParameters=(e,n,r)=>{let i=t.lastBoundBO.getReferenceByName(`lastLightComplexity`);if(i<2)return;let a=e.getProgram(),o=0,s=n.getLightsByReference();for(let e=0;e<s.length;++e){let r=s[e];if(r.getSwitch()>0){let e=r.getColorByReference(),i=r.getIntensity();t.lightColor[0]=e[0]*i,t.lightColor[1]=e[1]*i,t.lightColor[2]=e[2]*i;let s=r.getDirection(),c=n.getActiveCamera().getViewMatrix(),l=[...s];r.lightTypeIsSceneLight()&&(l[0]=c[0]*s[0]+c[1]*s[1]+c[2]*s[2],l[1]=c[4]*s[0]+c[5]*s[1]+c[6]*s[2],l[2]=c[8]*s[0]+c[9]*s[1]+c[10]*s[2],yZ(l)),t.lightDirection[0]=l[0],t.lightDirection[1]=l[1],t.lightDirection[2]=l[2],yZ(t.lightDirection),a.setUniform3fArray(`lightColor${o}`,t.lightColor),a.setUniform3fArray(`lightDirectionVC${o}`,t.lightDirection),o++}}if(i<3)return;let c=n.getActiveCamera().getViewMatrix();LW(c,c),o=0;for(let e=0;e<s.length;++e){let t=s[e];if(t.getSwitch()>0){let e=t.getTransformedPosition(),n=new Float64Array(3);UG(n,e,c),a.setUniform3fArray(`lightAttenuation${o}`,t.getAttenuationValuesByReference()),a.setUniformi(`lightPositional${o}`,t.getPositional()),a.setUniformf(`lightExponent${o}`,t.getExponent()),a.setUniformf(`lightConeAngle${o}`,t.getConeAngle()),a.setUniform3fArray(`lightPositionVC${o}`,[n[0],n[1],n[2]]),o++}}};function n(e,t,n){return t.identity(n),e.reduce((e,n,r)=>r===0?n?t.copy(e,n):t.identity(e):n?t.multiply(e,e,n):e,n)}e.setCameraShaderParameters=(e,r,i)=>{let a=e.getProgram(),o=t.openGLCamera.getKeyMatrices(r),s=r.getActiveCamera(),c=t.openGLCamera.getKeyMatrixTime().getMTime(),l=a.getLastCameraMTime(),u=e.getCABO().getCoordShiftAndScaleEnabled()?e.getCABO().getInverseShiftAndScaleMatrix():null,d=i.getIsIdentity(),f=d?{mcwc:null,normalMatrix:null}:t.openGLActor.getKeyMatrices();if(i.getCoordinateSystem()===$me.DISPLAY){let e=t._openGLRenderer.getTiledSizeAndOrigin();IW(t.tmpMat4),t.tmpMat4[0]=2/e.usize,t.tmpMat4[12]=-1,t.tmpMat4[5]=2/e.vsize,t.tmpMat4[13]=-1,VW(t.tmpMat4,t.tmpMat4,u),a.setUniformMatrix(`MCPCMatrix`,t.tmpMat4)}else a.setUniformMatrix(`MCPCMatrix`,n([o.wcpc,f.mcwc,u],AW,t.tmpMat4));a.isUniformUsed(`MCVCMatrix`)&&a.setUniformMatrix(`MCVCMatrix`,n([o.wcvc,f.mcwc,u],AW,t.tmpMat4)),a.isUniformUsed(`normalMatrix`)&&a.setUniformMatrix3x3(`normalMatrix`,n([o.normalMatrix,f.normalMatrix],ZU,t.tmpMat3)),l!==c&&(a.isUniformUsed(`cameraParallel`)&&a.setUniformi(`cameraParallel`,s.getParallelProjection()),a.setLastCameraMTime(c)),d||a.setLastCameraMTime(0)},e.setPropertyShaderParameters=(e,n,r)=>{let i=e.getProgram(),a=r.getProperty(),o=a.getOpacity(),s=t.drawingEdges?a.getEdgeColorByReference():a.getAmbientColorByReference(),c=t.drawingEdges?a.getEdgeColorByReference():a.getDiffuseColorByReference(),l=t.drawingEdges?1:a.getAmbient(),u=t.drawingEdges?0:a.getDiffuse(),d=t.drawingEdges?0:a.getSpecular(),f=a.getSpecularPower();i.setUniformf(`opacityUniform`,o),i.setUniform3fArray(`ambientColorUniform`,s),i.setUniform3fArray(`diffuseColorUniform`,c),i.setUniformf(`ambient`,l),i.setUniformf(`diffuse`,u);let p=t.lastBoundBO.getReferenceByName(`lastLightComplexity`);if(p<1)return;let m=a.getSpecularColorByReference();if(i.setUniform3fArray(`specularColorUniform`,m),i.setUniformf(`specularPowerUniform`,f),i.setUniformf(`specular`,d),i.isUniformUsed(`ambientIntensityBF`)){if(a=r.getBackfaceProperty(),o=a.getOpacity(),s=a.getAmbientColor(),l=a.getAmbient(),c=a.getDiffuseColor(),u=a.getDiffuse(),m=a.getSpecularColor(),d=a.getSpecular(),i.setUniformf(`ambientIntensityBF`,l),i.setUniformf(`diffuseIntensityBF`,u),i.setUniformf(`opacityUniformBF`,o),i.setUniform3fArray(`ambientColorUniformBF`,s),i.setUniform3fArray(`diffuseColorUniformBF`,c),p<1)return;i.setUniformf(`specularIntensityBF`,d),i.setUniform3fArray(`specularColorUniformBF`,m),i.setUniformf(`specularPowerUniformBF`,f)}},e.updateMaximumPointCellIds=(e,n)=>{let r=t._openGLRenderer.getSelector();if(r){if(t.selectionWebGLIdsToVTKIds?.points?.length){let e=t.selectionWebGLIdsToVTKIds.points.length;r.setMaximumPointId(e-1)}if(t.selectionWebGLIdsToVTKIds?.cells?.length){let e=t.selectionWebGLIdsToVTKIds.cells.length;r.setMaximumCellId(e-1)}r.getFieldAssociation()===Y2.FIELD_ASSOCIATION_POINTS&&(t.pointPicking=!0)}},e.renderPieceStart=(n,r)=>{t.primitiveIDOffset=0,t.vertexIDOffset=0;let i=ehe(t._openGLRenderer);if(t.lastSelectionState!==i&&(t.selectionStateChanged.modified(),t.lastSelectionState=i),t._openGLRenderer.getSelector())switch(i){default:t._openGLRenderer.getSelector().renderProp(r)}e.updateBufferObjects(n,r),t.renderable.getColorTextureMap()&&t.internalColorTexture.activate(),t.lastBoundBO=null},e.renderPieceDraw=(n,r)=>{let i=r.getProperty().getRepresentation(),a=r.getProperty().getEdgeVisibility()&&i===Z2.SURFACE,o=t._openGLRenderer.getSelector(),s=o&&o.getFieldAssociation()===Y2.FIELD_ASSOCIATION_POINTS&&(t.lastSelectionState===e0.ID_LOW24||t.lastSelectionState===e0.ID_HIGH24);for(let o=X2.Start;o<X2.End;o++)t.primitives[o].setPointPicking(s),t.primitives[o].getCABO().getElementCount()&&(t.drawingEdges=a&&(o===X2.TrisEdges||o===X2.TriStripsEdges),(!t.drawingEdges||!(t.renderDepth||t.lastSelectionState>=0))&&(t.lastBoundBO=t.primitives[o],t.primitiveIDOffset+=t.primitives[o].drawArrays(n,r,i,e),t.vertexIDOffset+=t.primitives[o].getCABO().getElementCount()))},e.renderPieceFinish=(e,n)=>{t.LastBoundBO&&t.LastBoundBO.getVAO().release(),t.renderable.getColorTextureMap()&&t.internalColorTexture.deactivate()},e.renderPiece=(n,r)=>{if(e.invokeEvent(Zme),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent(Qme),!t.currentInput){n4(`No input!`);return}if(!t.currentInput.getPoints||!t.currentInput.getPoints().getNumberOfValues())return;let i=t.context,a=r.getProperty().getBackfaceCulling(),o=r.getProperty().getFrontfaceCulling();!a&&!o?t._openGLRenderWindow.disableCullFace():o?(t._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(t._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)},e.updateBufferObjects=(t,n)=>{e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n),e.updateMaximumPointCellIds()},e.getNeedToRebuildBufferObjects=(n,r)=>{let i=t.VBOBuildTime.getMTime();return i<e.getMTime()||i<t.renderable.getMTime()||i<r.getMTime()||i<t.currentInput.getMTime()},e.buildBufferObjects=(e,n)=>{let r=t.currentInput;if(r===null)return;t.renderable.mapScalars(r,1);let i=t.renderable.getColorMapColors();t.haveCellScalars=!1;let a=t.renderable.getScalarMode();t.renderable.getScalarVisibility()&&(a===$2.USE_CELL_DATA||a===$2.USE_CELL_FIELD_DATA||a===$2.USE_FIELD_DATA||!r.getPointData().getScalars())&&a!==$2.USE_POINT_FIELD_DATA&&i&&(t.haveCellScalars=!0);let o=n.getProperty().getInterpolation()===Q2.FLAT?null:r.getPointData().getNormals();o===null&&r.getCellData().getNormals()&&(t.haveCellNormals=!0,o=r.getCellData().getNormals());let s=n.getProperty().getRepresentation(),c=r.getPointData().getTCoords();t.openGLActor.getActiveTextures()||(c=null);let l=!1;if(t.renderable.getColorCoordinates()){c=t.renderable.getColorCoordinates(),l=t.renderable.getAreScalarsMappedFromCells(),t.internalColorTexture||=G2.newInstance({resizable:!0});let e=t.internalColorTexture;e.setMinificationFilter(e4.NEAREST),e.setMagnificationFilter(e4.NEAREST),e.setWrapS(t4.CLAMP_TO_EDGE),e.setWrapT(t4.CLAMP_TO_EDGE),e.setOpenGLRenderWindow(t._openGLRenderWindow);let n=t.renderable.getColorTextureMap(),r=n.getExtent(),i=n.getPointData().getScalars();e.create2DFromRaw({width:r[1]-r[0]+1,height:r[3]-r[2]+1,numComps:i.getNumberOfComponents(),dataType:i.getDataType(),data:i.getData()}),e.activate(),e.sendParameters(),e.deactivate()}let u=`${r.getMTime()}A${s}B${r.getMTime()}C${o?o.getMTime():1}D${i?i.getMTime():1}E${n.getProperty().getEdgeVisibility()}F${c?c.getMTime():1}`;if(t.VBOBuildString!==u){let e={points:r.getPoints(),normals:o,tcoords:c,colors:i,cellOffset:0,vertexOffset:0,useTCoordsPerCell:l,haveCellScalars:t.haveCellScalars,haveCellNormals:t.haveCellNormals,customAttributes:t.renderable.getCustomShaderAttributes().map(e=>r.getPointData().getArrayByName(e))};t.renderable.getPopulateSelectionSettings()&&(t.selectionWebGLIdsToVTKIds={points:null,cells:null});let a=[{inRep:`verts`,cells:r.getVerts()},{inRep:`lines`,cells:r.getLines()},{inRep:`polys`,cells:r.getPolys()},{inRep:`strips`,cells:r.getStrips()},{inRep:`polys`,cells:r.getPolys()},{inRep:`strips`,cells:r.getStrips()}],d=n.getProperty().getEdgeVisibility()&&s===Z2.SURFACE;for(let n=X2.Start;n<X2.End;n++)n!==X2.TrisEdges&&n!==X2.TriStripsEdges?(e.cellOffset+=t.primitives[n].getCABO().createVBO(a[n].cells,a[n].inRep,s,e,t.selectionWebGLIdsToVTKIds),e.vertexOffset+=t.primitives[n].getCABO().getElementCount()):d?t.primitives[n].getCABO().createVBO(a[n].cells,a[n].inRep,Z2.WIREFRAME,{...e,tcoords:null,colors:null,haveCellScalars:!1,haveCellNormals:!1}):t.primitives[n].releaseGraphicsResources();t.renderable.getPopulateSelectionSettings()&&t.renderable.setSelectionWebGLIdsToVTKIds(t.selectionWebGLIdsToVTKIds),t.VBOBuildString=u}t.VBOBuildTime.modified()},e.getAllocatedGPUMemoryInBytes=()=>{let e=0;return t.primitives.forEach(t=>{e+=t.getAllocatedGPUMemoryInBytes()}),e}}var nhe={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastSelectionState:e0.MIN_KNOWN_PASS-1,selectionStateChanged:null,selectionWebGLIdsToVTKIds:null,pointPicking:!1};function rhe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,nhe,n),Kq.extend(e,t,n),J2.implementReplaceShaderCoincidentOffset(e,t,n),J2.implementBuildShadersWithReplacements(e,t,n),t.primitives=[],t.primTypes=X2,t.tmpMat3=iW(new Float64Array(9)),t.tmpMat4=IW(new Float64Array(16));for(let e=X2.Start;e<X2.End;e++)t.primitives[e]=k2.newInstance(),t.primitives[e].setPrimitiveType(e),t.primitives[e].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);gq(e,t,[`context`]),t.VBOBuildTime={},uq(t.VBOBuildTime,{mtime:0}),t.selectionStateChanged={},uq(t.selectionStateChanged,{mtime:0}),the(e,t)}Qq(`vtkMapper`,wq(rhe,`vtkOpenGLPolyDataMapper`));var ihe=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

uniform int PrimitiveIDOffset;

// Texture coordinates
//VTK::TCoord::Dec

// Scalar coloring
//VTK::Color::Dec

// Depth Peeling
//VTK::DepthPeeling::Dec

// picking support
//VTK::Picking::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Color::Impl
  //VTK::TCoord::Impl

  //VTK::DepthPeeling::Impl
  //VTK::Picking::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }
}
`,ahe=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model Coordinates
// WC - WC world coordinates
// VC - View Coordinates
// DC - Display Coordinates

in vec4 vertexWC;

// frag position in VC
//VTK::PositionVC::Dec

// material property values
//VTK::Color::Dec

// Texture coordinates
//VTK::TCoord::Dec

// Apple Bug
//VTK::PrimID::Dec

uniform mat4 WCVCMatrix;  // World to view matrix

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  gl_Position = WCVCMatrix*vertexWC;

  //VTK::TCoord::Impl

  //VTK::Color::Impl

  //VTK::PositionVC::Impl
}
`,r4={BACKGROUND:0,FOREGROUND:1},i4={DisplayLocation:r4},{primTypes:a4}=k2,{Filter:o4,Wrap:s4}=G2,{vtkErrorMacro:c4}=Bq,ohe={type:`StartEvent`},she={type:`EndEvent`};function che(e,t){t.classHierarchy.push(`vtkOpenGLPolyDataMapper2D`),e.buildPass=n=>{n&&(t.openGLActor2D=e.getFirstAncestorOfType(`vtkOpenGLActor2D`),t._openGLRenderer=t.openGLActor2D.getFirstAncestorOfType(`vtkOpenGLRenderer`),t._openGLRenderWindow=t._openGLRenderer.getLastAncestorOfType(`vtkOpenGLRenderWindow`),t.openGLCamera=t._openGLRenderer.getViewNodeFor(t._openGLRenderer.getRenderable().getActiveCamera(),t.openGLCamera))},e.overlayPass=t=>{t&&e.render()},e.getShaderTemplate=(e,t,n)=>{e.Vertex=ahe,e.Fragment=ihe,e.Geometry=``},e.render=()=>{let n=t._openGLRenderWindow.getContext();if(t.context!==n){t.context=n;for(let e=a4.Start;e<a4.End;e++)t.primitives[e].setOpenGLRenderWindow(t._openGLRenderWindow)}let r=t.openGLActor2D.getRenderable(),i=t._openGLRenderer.getRenderable();e.renderPiece(i,r)},e.renderPiece=(n,r)=>{if(e.invokeEvent(ohe),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent(she),!t.currentInput){c4(`No input!`);return}if(!t.currentInput.getPoints||!t.currentInput.getPoints().getNumberOfValues())return;let i=t.context;t._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)},e.renderPieceStart=(n,r)=>{if(t.primitiveIDOffset=0,t._openGLRenderer.getSelector())switch(t._openGLRenderer.getSelector().getCurrentPass()){default:t._openGLRenderer.getSelector().renderProp(r)}t.renderable.getColorTextureMap()&&t.internalColorTexture.activate(),e.updateBufferObjects(n,r),t.lastBoundBO=null},e.getNeedToRebuildShaders=(e,n,r)=>e.getShaderSourceTime().getMTime()<t.renderable.getMTime()||e.getShaderSourceTime().getMTime()<t.currentInput.getMTime(),e.updateBufferObjects=(t,n)=>{e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=(n,r)=>{let i=t.VBOBuildTime.getMTime();return!!(i<e.getMTime()||i<t._openGLRenderWindow.getMTime()||i<t.renderable.getMTime()||i<r.getMTime()||i<t.currentInput.getMTime()||t.renderable.getTransformCoordinate()&&i<n.getMTime())},e.buildBufferObjects=(e,n)=>{let r=t.currentInput;if(r===null)return;t.renderable.mapScalars(r,n.getProperty().getOpacity());let i=t.renderable.getColorMapColors(),a=n.getProperty().getRepresentation(),o=r.getPointData().getTCoords();t.openGLActor2D.getActiveTextures()||(o=null);let s=!1;if(t.renderable.getColorCoordinates()){o=t.renderable.getColorCoordinates(),s=t.renderable.getAreScalarsMappedFromCells(),t.internalColorTexture||=G2.newInstance({resizable:!0});let e=t.internalColorTexture;e.setMinificationFilter(o4.NEAREST),e.setMagnificationFilter(o4.NEAREST),e.setWrapS(s4.CLAMP_TO_EDGE),e.setWrapT(s4.CLAMP_TO_EDGE),e.setOpenGLRenderWindow(t._openGLRenderWindow);let n=t.renderable.getColorTextureMap(),r=n.getExtent(),i=n.getPointData().getScalars();e.create2DFromRaw({width:r[1]-r[0]+1,height:r[3]-r[2]+1,numComps:i.getNumberOfComponents(),dataType:i.getDataType(),data:i.getData()}),e.activate(),e.sendParameters(),e.deactivate()}let c=t.renderable.getTransformCoordinate(),l=e.getRenderWindow().getViews()[0].getViewportSize(e),u=`${r.getMTime()}A${a}B${r.getMTime()}C${i?i.getMTime():1}D${o?o.getMTime():1}E${c?e.getMTime():1}F${l}`;if(t.VBOBuildString!==u){let n=r.getPoints();if(c){let t=g0.newInstance(),r=n.getNumberOfPoints();t.setNumberOfPoints(r);let i=[];for(let a=0;a<r;++a){n.getPoint(a,i),c.setValue(i);let r=c.getComputedDoubleViewportValue(e);t.setPoint(a,r[0],r[1],0)}n=t}let l={points:n,tcoords:o,colors:i,cellOffset:0,useTCoordsPerCell:s,haveCellScalars:t.renderable.getAreScalarsMappedFromCells(),customAttributes:t.renderable.getCustomShaderAttributes().map(e=>r.getPointData().getArrayByName(e))};l.cellOffset+=t.primitives[a4.Points].getCABO().createVBO(r.getVerts(),`verts`,a,l),l.cellOffset+=t.primitives[a4.Lines].getCABO().createVBO(r.getLines(),`lines`,a,l),l.cellOffset+=t.primitives[a4.Tris].getCABO().createVBO(r.getPolys(),`polys`,a,l),l.cellOffset+=t.primitives[a4.TriStrips].getCABO().createVBO(r.getStrips(),`strips`,a,l),t.VBOBuildTime.modified(),t.VBOBuildString=u}},e.renderPieceDraw=(n,r)=>{let i=r.getProperty().getRepresentation();t.context.depthMask(!0);for(let a=a4.Start;a<a4.End;a++)t.primitives[a].getCABO().getElementCount()&&(t.lastBoundBO=t.primitives[a],t.primitiveIDOffset+=t.primitives[a].drawArrays(n,r,i,e))},e.renderPieceFinish=(e,n)=>{t.lastBoundBO&&t.lastBoundBO.getVAO().release(),t.renderable.getColorTextureMap()&&t.internalColorTexture.deactivate()},e.replaceShaderValues=(t,n,r)=>{e.replaceShaderColor(t,n,r),e.replaceShaderTCoord(t,n,r),e.replaceShaderPicking(t,n,r),e.replaceShaderPositionVC(t,n,r)},e.replaceShaderColor=(e,n,r)=>{let i=e.Vertex,a=e.Geometry,o=e.Fragment,s=[`uniform vec3 diffuseColorUniform;`,`uniform float opacityUniform;`],c=[`vec3 diffuseColor = diffuseColorUniform;`,`float opacity = opacityUniform;`];t.lastBoundBO.getCABO().getColorComponents()===0?t.renderable.getAreScalarsMappedFromCells()&&(c=c.concat([`  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);`,`  diffuseColor = texColor.rgb;`,`  opacity = opacity*texColor.a;`])):(s=s.concat([`varying vec4 vertexColorVSOutput;`]),i=w2.substitute(i,`//VTK::Color::Dec`,[`attribute vec4 scalarColor;`,`varying vec4 vertexColorVSOutput;`]).result,i=w2.substitute(i,`//VTK::Color::Impl`,[`vertexColorVSOutput =  scalarColor;`]).result,a=w2.substitute(a,`//VTK::Color::Dec`,[`in vec4 vertexColorVSOutput[];`,`out vec4 vertexColorGSOutput;`]).result,a=w2.substitute(a,`//VTK::Color::Impl`,[`vertexColorGSOutput = vertexColorVSOutput[i];`]).result,o=w2.substitute(o,`//VTK::Color::Impl`,c.concat([`  diffuseColor = vertexColorVSOutput.rgb;`,`  opacity = opacity*vertexColorVSOutput.a;`])).result),c=c.concat([`gl_FragData[0] = vec4(diffuseColor, opacity);`]),o=w2.substitute(o,`//VTK::Color::Dec`,s).result,o=w2.substitute(o,`//VTK::Color::Impl`,c).result,e.Vertex=i,e.Geometry=a,e.Fragment=o},e.replaceShaderTCoord=(e,n,r)=>{if(t.lastBoundBO.getCABO().getTCoordOffset()){let n=e.Vertex,r=e.Geometry,i=e.Fragment,a=t.lastBoundBO.getCABO().getTCoordComponents();a===1?(n=w2.substitute(n,`//VTK::TCoord::Dec`,[`in float tcoordMC;`,`out float tcoordVCVSOutput;`]).result,n=w2.substitute(n,`//VTK::TCoord::Impl`,[`tcoordVCVSOutput = tcoordMC;`]).result,r=w2.substitute(r,`//VTK::TCoord::Dec`,[`in float tcoordVCVSOutput[];
`,`out float tcoordVCGSOutput;`]).result,r=w2.substitute(r,[`//VTK::TCoord::Impl`,`tcoordVCGSOutput = tcoordVCVSOutput[i];`]).result,i=w2.substitute(i,`//VTK::TCoord::Dec`,[`in float tcoordVCVSOutput;`,`uniform sampler2D texture1;`]).result,i=w2.substitute(i,`//VTK::TCoord::Impl`,[`gl_FragData[0] = gl_FragData[0]*texture2D(texture1, vec2(tcoordVCVSOutput,0));`]).result):a===2&&(n=w2.substitute(n,`//VTK::TCoord::Dec`,[`in vec2 tcoordMC;`,`out vec2 tcoordVCVSOutput;`]).result,n=w2.substitute(n,`//VTK::TCoord::Impl`,[`tcoordVCVSOutput = tcoordMC;`]).result,r=w2.substitute(r,`//VTK::TCoord::Dec`,[`in vec2 tcoordVCVSOutput[];
`,`out vec2 tcoordVCGSOutput;`]).result,r=w2.substitute(r,`//VTK::TCoord::Impl`,[`tcoordVCGSOutput = tcoordVCVSOutput[i];`]).result,i=w2.substitute(i,`//VTK::TCoord::Dec`,[`in vec2 tcoordVCVSOutput;`,`uniform sampler2D texture1;`]).result,i=w2.substitute(i,`//VTK::TCoord::Impl`,[`gl_FragData[0] = gl_FragData[0]*texture2D(texture1, tcoordVCVSOutput.st);`]).result),t.renderable.getAreScalarsMappedFromCells()&&(r=w2.substitute(r,`//VTK::PrimID::Impl`,[`gl_PrimitiveID = gl_PrimitiveIDIn;`]).result),e.Vertex=n,e.Geometry=r,e.Fragment=i}},e.replaceShaderPicking=(e,t,n)=>{let r=e.Fragment;r=w2.substitute(r,`//VTK::Picking::Dec`,[`uniform vec3 mapperIndex;`,`uniform int picking;`]).result,r=w2.substitute(r,`//VTK::Picking::Impl`,`  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];`).result,e.Fragment=r},e.replaceShaderPositionVC=(e,n,r)=>{t.lastBoundBO.replaceShaderPositionVC(e,n,r)},e.invokeShaderCallbacks=(e,n,r)=>{let i=t.renderable.getViewSpecificProperties().ShadersCallbacks;i&&i.forEach(t=>{t.callback(t.userData,e,n,r)})},e.setMapperShaderParameters=(e,n,r)=>{if(e.getProgram().isUniformUsed(`PrimitiveIDOffset`)&&e.getProgram().setUniformi(`PrimitiveIDOffset`,t.primitiveIDOffset),e.getProgram().isAttributeUsed(`vertexWC`)&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),`vertexWC`,e.getCABO().getVertexOffset(),e.getCABO().getStride(),t.context.FLOAT,3,!1)||c4(`Error setting vertexWC in shader VAO.`)),e.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())){t.renderable.getCustomShaderAttributes().forEach((n,r)=>{e.getProgram().isAttributeUsed(`${n}MC`)&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),`${n}MC`,e.getCABO().getCustomData()[r].offset,e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getCustomData()[r].components,!1)||c4(`Error setting ${n}MC in shader VAO.`))}),e.getProgram().isAttributeUsed(`tcoordMC`)&&e.getCABO().getTCoordOffset()?e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),`tcoordMC`,e.getCABO().getTCoordOffset(),e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getTCoordComponents(),!1)||c4(`Error setting tcoordMC in shader VAO.`):e.getVAO().removeAttributeArray(`tcoordMC`),e.getProgram().isAttributeUsed(`scalarColor`)&&e.getCABO().getColorComponents()?e.getVAO().addAttributeArray(e.getProgram(),e.getCABO().getColorBO(),`scalarColor`,e.getCABO().getColorOffset(),e.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,4,!0)||c4(`Error setting scalarColor in shader VAO.`):e.getVAO().removeAttributeArray(`scalarColor`),t.internalColorTexture&&e.getProgram().isUniformUsed(`texture1`)&&t.internalColorTexture.getTextureUnit()>-1&&e.getProgram().setUniformi(`texture1`,t.internalColorTexture.getTextureUnit());let i=t.openGLActor2D.getActiveTextures();if(i)for(let t=0;t<i.length;++t){let n=i[t].getTextureUnit(),r=`texture${n+1}`;e.getProgram().isUniformUsed(r)&&e.getProgram().setUniformi(r,n)}e.setMapperShaderParameters(n,r,t._openGLRenderer.getTiledSizeAndOrigin());let a=t._openGLRenderer.getSelector();e.getProgram().setUniform3fArray(`mapperIndex`,a?a.getPropColorValue():[0,0,0]),e.getProgram().setUniformi(`picking`,a?a.getCurrentPass()+1:0)}},e.setPropertyShaderParameters=(e,n,r)=>{let i=t.renderable.getColorMapColors();if(!i||i.getNumberOfComponents()===0){let t=e.getProgram(),n=r.getProperty(),i=n.getOpacity();t.setUniformf(`opacityUniform`,i);let a=n.getColor();t.setUniform3fArray(`diffuseColorUniform`,a)}},e.setLightingShaderParameters=(e,t,n)=>{};function n(e,t,n){return t.identity(n),e.reduce((e,n,r)=>r===0?n?t.copy(e,n):t.identity(e):n?t.multiply(e,e,n):e,n)}e.setCameraShaderParameters=(e,r,i)=>{let a=e.getProgram(),o=e.getCABO().getCoordShiftAndScaleEnabled()?e.getCABO().getInverseShiftAndScaleMatrix():null,s=r.getRenderWindow().getViews()[0].getViewportSize(r),c=r.getViewport(),l=i.getActualPositionCoordinate().getComputedDoubleViewportValue(r),u=[0,0,1,1],d=[0,0,1,1];if(d[0]=c[0]>=u[0]?c[0]:u[0],d[1]=c[1]>=u[1]?c[1]:u[1],d[2]=c[2]<=u[2]?c[2]:u[2],d[3]=c[3]<=u[3]?c[3]:u[3],d[0]>=d[2]||d[1]>=d[3])return;s[0]=WX(s[0]*(d[2]-d[0])/(c[2]-c[0])),s[1]=WX(s[1]*(d[3]-d[1])/(c[3]-c[1]));let f=t._openGLRenderer.getParent().getSize(),p=WX(l[0]-(d[0]-c[0])*f[0]),m=WX(l[1]-(d[1]-c[1])*f[1]),h=-p,g=-p+s[0],_=-m,v=-m+s[1];h===g&&(g=h+1),_===v&&(v=_+1);let y=IW(new Float64Array(16));y[0]=2/(g-h),y[5]=2/(v-_),y[3]=-1*(g+h)/(g-h),y[7]=-1*(v+_)/(v-_),y[10]=0,y[11]=i.getProperty().getDisplayLocation()===r4.FOREGROUND?-1:1,y[15]=1,LW(y,y),a.setUniformMatrix(`WCVCMatrix`,n([y,o],AW,t.tmpMat4))},e.getAllocatedGPUMemoryInBytes=()=>{let e=0;return t.primitives.forEach(t=>{e+=t.getAllocatedGPUMemoryInBytes()}),e}}var lhe={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null};function uhe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,lhe,n),Kq.extend(e,t,n),J2.implementReplaceShaderCoincidentOffset(e,t,n),J2.implementBuildShadersWithReplacements(e,t,n),t.primitives=[],t.primTypes=a4,t.tmpMat4=IW(new Float64Array(16));for(let e=a4.Start;e<a4.End;e++)t.primitives[e]=k2.newInstance(),t.primitives[e].setPrimitiveType(e),t.primitives[e].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);gq(e,t,[`context`]),t.VBOBuildTime={},uq(t.VBOBuildTime,{mtime:0}),che(e,t)}Qq(`vtkMapper2D`,wq(uhe,`vtkOpenGLPolyDataMapper2D`));var l4={Orientation:{HORIZONTAL:`horizontal`,VERTICAL:`vertical`,AUTO:`auto`}},{VectorMode:dhe}=z1,{Orientation:u4}=l4;function d4(e,t,n){e.strokeStyle=t.strokeColor,e.lineWidth=t.strokeSize,e.fillStyle=t.fontColor;let r=t.fontSize??n;e.font=`${t.fontStyle} ${r}px ${t.fontFamily}`}function f4(e,t){return e=>{let n=e.getLastSize(),r=(n[0]/700)**.8,i=(n[1]/700)**.8,a=Math.min(r,i),o=e.getAxisTextStyle(),s=e.getTickTextStyle();Object.assign(o,t.axisTextStyle),Object.assign(s,t.tickTextStyle),o.fontSize===void 0&&(o.fontSize=Math.max(24*a,12)),s.fontSize===void 0&&(e.getLastAspectRatio()>1?s.fontSize=Math.max(20*a,10):s.fontSize=Math.max(16*a,10));let c=e.updateTextureAtlas();e.setTopTitle(!1);let l=e.getBoxSizeByReference(),u=!1;if(u=t.orientation===u4.VERTICAL?!0:t.orientation===u4.HORIZONTAL?!1:e.getLastAspectRatio()>1,u)e.setTickLabelPixelOffset(.3*s.fontSize),c.titleWidth<=c.tickWidth+e.getTickLabelPixelOffset()+.8*s.fontSize?(e.setTopTitle(!0),e.setAxisTitlePixelOffset(.2*s.fontSize),l[0]=2*(c.tickWidth+e.getTickLabelPixelOffset()+.8*s.fontSize)/n[0],e.setBoxPosition([.98-l[0],-.92])):(e.setAxisTitlePixelOffset(.2*s.fontSize),l[0]=2*(c.titleHeight+e.getAxisTitlePixelOffset()+c.tickWidth+e.getTickLabelPixelOffset()+.8*s.fontSize)/n[0],e.setBoxPosition([.99-l[0],-.92])),l[1]=Math.max(1.2,Math.min(1.84/i,1.84));else{e.setAxisTitlePixelOffset(1.2*s.fontSize),e.setTickLabelPixelOffset(.1*s.fontSize);let t=2*(.8*s.fontSize+c.titleHeight+e.getAxisTitlePixelOffset())/n[1],r=2*c.tickWidth/n[0];l[0]=Math.min(1.9,Math.max(1.4,1.4*r*(e.getTicks().length+3))),l[1]=t,e.setBoxPosition([-.5*l[0],-.97])}e.recomputeBarSegments(c)}}function p4(e,t){return e=>{let t=e.getLastTickBounds(),n=yX().domain([t[0],t[1]]),r=n.ticks(5),i=n.tickFormat(5);e.setTicks(r),e.setTickStrings(r.map(i))}}function fhe(e,t){t.classHierarchy.push(`vtkScalarBarActorHelper`),e.setRenderable=n=>{t.renderable!==n&&(t.renderable=n,t.barActor.setProperty(n.getProperty()),t.barActor.setParentProp(n),t.barActor.setCoordinateSystemToDisplay(),t.tmActor.setProperty(n.getProperty()),t.tmActor.setParentProp(n),t.tmActor.setCoordinateSystemToDisplay(),t.generateTicks=n.generateTicks,t.axisTextStyle={...n.getAxisTextStyle()},t.tickTextStyle={...n.getTickTextStyle()},e.modified())},e.updateAPISpecificData=(n,r,i)=>{(t.lastSize[0]!==n[0]||t.lastSize[1]!==n[1])&&(t.lastSize[0]=n[0],t.lastSize[1]=n[1],t.lastAspectRatio=n[0]/n[1],t.forceUpdate=!0);let a=t.renderable.getScalarsToColors();if(!(!a||!t.renderable.getVisibility())&&(t.barMapper.setLookupTable(a),t.camera=r,t.renderWindow=i,t.forceUpdate||Math.max(a.getMTime(),e.getMTime(),t.renderable.getMTime())>t.lastRebuildTime.getMTime())){if(t.lastTickBounds=[...a.getMappingRange()],t.renderable.getGenerateTicks()(e),t.renderable.getAutomated())t.renderable.getAutoLayout()(e);else{t.axisTextStyle={...t.renderable.getAxisTextStyle()},t.tickTextStyle={...t.renderable.getTickTextStyle()},t.barPosition=[...t.renderable.getBarPosition()],t.barSize=[...t.renderable.getBarSize()],t.boxPosition=[...t.renderable.getBoxPosition()],t.boxSize=[...t.renderable.getBoxSize()],t.axisTitlePixelOffset=t.renderable.getAxisTitlePixelOffset(),t.tickLabelPixelOffset=t.renderable.getTickLabelPixelOffset();let n=e.updateTextureAtlas();e.recomputeBarSegments(n)}e.updatePolyDataForLabels(),e.updatePolyDataForBarSegments(),t.lastRebuildTime.modified(),t.forceUpdate=!1}},e.updateTextureAtlas=()=>{t.tmContext.textBaseline=`bottom`,t.tmContext.textAlign=`left`;let n={},r=new Map,i=0,a=1;d4(t.tmContext,t.axisTextStyle,18);let o=t.tmContext.measureText(t.renderable.getAxisLabel()),s={height:o.actualBoundingBoxAscent+2,startingHeight:a,width:o.width+2,textStyle:t.axisTextStyle};r.set(t.renderable.getAxisLabel(),s),a+=s.height,i=s.width,n.titleWidth=s.width,n.titleHeight=s.height,n.tickWidth=0,n.tickHeight=0,d4(t.tmContext,t.tickTextStyle,14);let c=[...e.getTickStrings(),`NaN`,`Below`,`Above`];for(let e=0;e<c.length;e++)r.has(c[e])||(o=t.tmContext.measureText(c[e]),s={height:o.actualBoundingBoxAscent+2,startingHeight:a,width:o.width+2,textStyle:t.tickTextStyle},r.set(c[e],s),a+=s.height,i<s.width&&(i=s.width),n.tickWidth<s.width&&(n.tickWidth=s.width),n.tickHeight<s.height&&(n.tickHeight=s.height));return i=eZ(i),a=eZ(a),r.forEach(e=>{e.tcoords=[0,(a-e.startingHeight-e.height)/a,e.width/i,(a-e.startingHeight-e.height)/a,e.width/i,(a-e.startingHeight)/a,0,(a-e.startingHeight)/a]}),t.tmCanvas.width=i,t.tmCanvas.height=a,t.tmContext.textBaseline=`bottom`,t.tmContext.textAlign=`left`,t.tmContext.clearRect(0,0,i,a),r.forEach((e,n)=>{let r=e.textStyle===t.axisTextStyle?18:14;d4(t.tmContext,e.textStyle,r),t.tmContext.fillText(n,1,e.startingHeight+e.height-1)}),t.tmTexture.setCanvas(t.tmCanvas),t.tmTexture.modified(),t._tmAtlas=r,n},e.computeBarSize=e=>{t.vertical=t.boxSize[1]>t.boxSize[0];let n=2*e.tickHeight/t.lastSize[1],r=[1,1];if(t.vertical){let i=2*(e.tickWidth+t.tickLabelPixelOffset)/t.lastSize[0];if(t.topTitle){let n=2*(e.titleHeight+t.axisTitlePixelOffset)/t.lastSize[1];t.barSize[0]=t.boxSize[0]-i,t.barSize[1]=t.boxSize[1]-n}else{let n=2*(e.titleHeight+t.axisTitlePixelOffset)/t.lastSize[0];t.barSize[0]=t.boxSize[0]-n-i,t.barSize[1]=t.boxSize[1]}t.barPosition[0]=t.boxPosition[0]+i,t.barPosition[1]=t.boxPosition[1],r[1]=n}else{let n=(2*e.tickWidth-8)/t.lastSize[0],i=2*(e.titleHeight+t.axisTitlePixelOffset)/t.lastSize[1];t.barSize[0]=t.boxSize[0],t.barPosition[0]=t.boxPosition[0],t.barSize[1]=t.boxSize[1]-i,t.barPosition[1]=t.boxPosition[1],r[0]=n}return r},e.recomputeBarSegments=n=>{let r=e.computeBarSize(n);t.barSegments=[];let i=[0,0],a=t.vertical?1:0,o=t.vertical?.01:.02;function s(e,n){t.barSegments.push({corners:[[...i],[i[0]+r[0],i[1]],[i[0]+r[0],i[1]+r[1]],[i[0],i[1]+r[1]]],scalars:n,title:e}),i[a]+=r[a]+o}t.renderable.getDrawNanAnnotation()&&t.renderable.getScalarsToColors().getNanColor()&&s(`NaN`,[NaN,NaN,NaN,NaN]),t.renderable.getDrawBelowRangeSwatch()&&t.renderable.getScalarsToColors().getUseBelowRangeColor?.()&&s(`Below`,[-.1,-.1,-.1,-.1]);let c=t.renderable.getScalarsToColors().getUseAboveRangeColor?.();i[a]+=o;let l=r[a];r[a]=c?1-2*o-r[a]-i[a]:1-o-i[a],s(`ticks`,t.vertical?[0,0,.995,.995]:[0,.995,.995,0]),t.renderable.getDrawAboveRangeSwatch()&&c&&(r[a]=l,i[a]+=o,s(`Above`,[1.1,1.1,1.1,1.1]))};let n=new Float64Array(3);e.createPolyDataForOneLabel=(e,r,i,a,o,s)=>{let c=t._tmAtlas.get(e);if(!c)return;let l=s.ptIdx,u=s.cellIdx;n[0]=(.5*r[0]+.5)*t.lastSize[0],n[1]=(.5*r[1]+.5)*t.lastSize[1],n[2]=r[2],n[0]+=o[0],n[1]+=o[1];let d=[],f=a===`vertical`?[1,0]:[0,1];a===`vertical`?(d[0]=c.width,d[1]=-c.height,i[0]===`middle`?n[1]-=c.width/2:i[0]===`right`&&(n[1]-=c.width),i[1]===`middle`?n[0]+=c.height/2:i[1]===`top`&&(n[0]+=c.height)):(d[0]=c.width,d[1]=c.height,i[0]===`middle`?n[0]-=c.width/2:i[0]===`right`&&(n[0]-=c.width),i[1]===`middle`?n[1]-=c.height/2:i[1]===`top`&&(n[1]-=c.height)),s.points[l*3]=n[0],s.points[l*3+1]=n[1],s.points[l*3+2]=n[2],s.tcoords[l*2]=c.tcoords[0],s.tcoords[l*2+1]=c.tcoords[1],l++,n[f[0]]+=d[0],s.points[l*3]=n[0],s.points[l*3+1]=n[1],s.points[l*3+2]=n[2],s.tcoords[l*2]=c.tcoords[2],s.tcoords[l*2+1]=c.tcoords[3],l++,n[f[1]]+=d[1],s.points[l*3]=n[0],s.points[l*3+1]=n[1],s.points[l*3+2]=n[2],s.tcoords[l*2]=c.tcoords[4],s.tcoords[l*2+1]=c.tcoords[5],l++,n[f[0]]-=d[0],s.points[l*3]=n[0],s.points[l*3+1]=n[1],s.points[l*3+2]=n[2],s.tcoords[l*2]=c.tcoords[6],s.tcoords[l*2+1]=c.tcoords[7],l++,s.polys[u*4]=3,s.polys[u*4+1]=l-4,s.polys[u*4+2]=l-3,s.polys[u*4+3]=l-2,u++,s.polys[u*4]=3,s.polys[u*4+1]=l-4,s.polys[u*4+2]=l-2,s.polys[u*4+3]=l-1,s.ptIdx+=4,s.cellIdx+=2};let r=new Float64Array(3);e.updatePolyDataForLabels=()=>{let n=e.getTickStrings().length+t.barSegments.length,i=n*4,a=n*2,o=new Float64Array(i*3),s=new Uint16Array(a*4),c=new Float32Array(i*2),l={ptIdx:0,cellIdx:0,polys:s,points:o,tcoords:c},u=t.vertical?0:1,d=t.vertical?1:0;r[2]=-.99;let f=t.vertical?[`right`,`middle`]:[`middle`,`bottom`],p=[0,1],m=[0,0];t.vertical?(m[0]=-t.tickLabelPixelOffset,t.topTitle?(r[0]=t.boxPosition[0]+.5*t.boxSize[0],r[1]=t.barPosition[1]+t.barSize[1],e.createPolyDataForOneLabel(t.renderable.getAxisLabel(),r,[`middle`,`bottom`],`horizontal`,[0,t.axisTitlePixelOffset],l)):(r[0]=t.barPosition[0]+t.barSize[0],r[1]=t.barPosition[1]+.5*t.barSize[1],e.createPolyDataForOneLabel(t.renderable.getAxisLabel(),r,[`middle`,`top`],`vertical`,[t.axisTitlePixelOffset,0],l)),p=[-1,0]):(m[1]=t.tickLabelPixelOffset,r[0]=t.barPosition[0]+.5*t.barSize[0],r[1]=t.barPosition[1]+t.barSize[1],e.createPolyDataForOneLabel(t.renderable.getAxisLabel(),r,[`middle`,`bottom`],`horizontal`,[0,t.axisTitlePixelOffset],l)),r[u]=t.barPosition[u]+(.5*p[u]+.5)*t.barSize[u],r[d]=t.barPosition[d]+t.barSize[d]*.5;let h=null;for(let n=0;n<t.barSegments.length;n++){let i=t.barSegments[n];i.title===`ticks`?h=i:(r[d]=t.barPosition[d]+.5*t.barSize[d]*(i.corners[2][d]+i.corners[0][d]),e.createPolyDataForOneLabel(i.title,r,f,`horizontal`,m,l))}let g=t.barPosition[d]+t.barSize[d]*h.corners[0][d],_=t.barSize[d]*(h.corners[2][d]-h.corners[0][d]),v=e.getTicks(),y=e.getTickStrings(),b=e.getTickPositions();for(let n=0;n<v.length;n++)r[d]=g+_*(b?b[n]:(v[n]-t.lastTickBounds[0])/(t.lastTickBounds[1]-t.lastTickBounds[0])),e.createPolyDataForOneLabel(y[n],r,f,`horizontal`,m,l);let x=l1.newInstance({numberOfComponents:2,values:c,name:`TextureCoordinates`});t.tmPolyData.getPointData().setTCoords(x),t.tmPolyData.getPoints().setData(o,3),t.tmPolyData.getPoints().modified(),t.tmPolyData.getPolys().setData(s,1),t.tmPolyData.getPolys().modified(),t.tmPolyData.modified()},e.updatePolyDataForBarSegments=()=>{let e=t.renderable.getScalarsToColors(),n=0;t.renderable.getDrawNanAnnotation()&&e.getNanColor()&&(n+=1),t.renderable.getDrawBelowRangeSwatch()&&e.getUseBelowRangeColor?.()&&(n+=1),t.renderable.getDrawAboveRangeSwatch()&&e.getUseAboveRangeColor?.()&&(n+=1);let i=4*(1+n),a=i,o=1;e.getVectorMode()===dhe.COMPONENT&&(o=e.getVectorComponent()+1);let s=new Float64Array(i*3),c=new Uint16Array(a*5),l=new Float32Array(i*o),u=0,d=0;for(let e=0;e<t.barSegments.length;e++){let n=t.barSegments[e];for(let e=0;e<4;e++){r[0]=t.barPosition[0]+n.corners[e][0]*t.barSize[0],r[1]=t.barPosition[1]+n.corners[e][1]*t.barSize[1],s[u*3]=(.5*r[0]+.5)*t.lastSize[0],s[u*3+1]=(.5*r[1]+.5)*t.lastSize[1],s[u*3+2]=r[2];for(let r=0;r<o;r++)l[u*o+r]=t.lastTickBounds[0]+n.scalars[e]*(t.lastTickBounds[1]-t.lastTickBounds[0]);u++}c[d*5]=4,c[d*5+1]=u-4,c[d*5+2]=u-3,c[d*5+3]=u-2,c[d*5+4]=u-1,d++}let f=l1.newInstance({numberOfComponents:o,values:l,name:`Scalars`});t.polyData.getPointData().setScalars(f),t.polyData.getPoints().setData(s,3),t.polyData.getPoints().modified(),t.polyData.getPolys().setData(c,1),t.polyData.getPolys().modified(),t.polyData.modified()}}var phe=$.newInstance(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(t,{},n),$.obj(e,t),$.setGet(e,t,[`axisTitlePixelOffset`,`tickLabelPixelOffset`,`renderable`,`topTitle`,`ticks`,`tickStrings`,`tickPositions`]),$.get(e,t,[`lastSize`,`lastAspectRatio`,`lastTickBounds`,`axisTextStyle`,`tickTextStyle`,`barActor`,`tmActor`]),$.getArray(e,t,[`boxPosition`,`boxSize`]),$.setArray(e,t,[`boxPosition`,`boxSize`],2),t.forceUpdate=!1,t.lastRebuildTime={},$.obj(t.lastRebuildTime,{mtime:0}),t.lastSize=[-1,-1],t.tmCanvas=document.createElement(`canvas`),t.tmContext=t.tmCanvas.getContext(`2d`),t._tmAtlas=new Map,t.barMapper=u0.newInstance(),t.barMapper.setInterpolateScalarsBeforeMapping(!0),t.barMapper.setUseLookupTableScalarRange(!0),t.polyData=Y0.newInstance(),t.barMapper.setInputData(t.polyData),t.barActor=$$.newInstance(),t.barActor.setMapper(t.barMapper),t.tmPolyData=Y0.newInstance(),t.tmMapper=u0.newInstance(),t.tmMapper.setInputData(t.tmPolyData),t.tmTexture=Z0.newInstance({resizable:!0}),t.tmTexture.setInterpolate(!1),t.tmActor=$$.newInstance({parentProp:e}),t.tmActor.setMapper(t.tmMapper),t.tmActor.addTexture(t.tmTexture),t.barPosition=[0,0],t.barSize=[0,0],t.boxPosition=[.88,-.92],t.boxSize=[.1,1.1],t.lastTickBounds=[],fhe(e,t)},`vtkScalarBarActorHelper`);function mhe(e,t){t.classHierarchy.push(`vtkScalarBarActor`),e.setTickTextStyle=n=>{t.tickTextStyle={...t.tickTextStyle,...n},e.modified()},e.setAxisTextStyle=n=>{t.axisTextStyle={...t.axisTextStyle,...n},e.modified()},e.setOrientationToHorizontal=()=>e.setOrientation(u4.HORIZONTAL),e.setOrientationToVertical=()=>e.setOrientation(u4.VERTICAL),e.resetAutoLayoutToDefault=()=>{e.setAutoLayout(f4(e,t))},e.resetGenerateTicksToDefault=()=>{e.setGenerateTicks(p4())}}function hhe(e){return{automated:!0,autoLayout:null,axisLabel:`Scalar Value`,barPosition:[0,0],barSize:[0,0],boxPosition:[.88,-.92],boxSize:[.1,1.1],scalarToColors:null,axisTitlePixelOffset:36,axisTextStyle:{fontColor:`white`,fontStyle:`normal`,fontSize:void 0,fontFamily:`serif`},tickLabelPixelOffset:14,tickTextStyle:{fontColor:`white`,fontStyle:`normal`,fontSize:void 0,fontFamily:`serif`},generateTicks:null,drawNanAnnotation:!0,drawBelowRangeSwatch:!0,drawAboveRangeSwatch:!0,orientation:null,...e}}function m4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,hhe(n)),t.autoLayout||=f4(e,t),t.generateTicks||=p4(),$$.extend(e,t,n),e.getProperty().setDiffuse(0),e.getProperty().setAmbient(1),$.setGet(e,t,[`automated`,`autoLayout`,`axisTitlePixelOffset`,`axisLabel`,`scalarsToColors`,`tickLabelPixelOffset`,`generateTicks`,`drawNanAnnotation`,`drawBelowRangeSwatch`,`drawAboveRangeSwatch`,`orientation`]),$.get(e,t,[`axisTextStyle`,`tickTextStyle`]),$.getArray(e,t,[`barPosition`,`barSize`,`boxPosition`,`boxSize`]),$.setArray(e,t,[`barPosition`,`barSize`,`boxPosition`,`boxSize`],2),mhe(e,t)}var h4={newInstance:$.newInstance(m4,`vtkScalarBarActor`),extend:m4,newScalarBarActorHelper:phe,...l4};function ghe(e,t){t.classHierarchy.push(`vtkOpenGLScalarBarActor`),e.buildPass=n=>{n&&(t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t._openGLRenderWindow=t._openGLRenderer.getParent(),t.scalarBarActorHelper.getRenderable()||t.scalarBarActorHelper.setRenderable(t.renderable),e.prepareNodes(),e.addMissingNode(t.scalarBarActorHelper.getBarActor()),e.addMissingNode(t.scalarBarActorHelper.getTmActor()),e.removeUnusedNodes())},e.opaquePass=(e,n)=>{if(e){let e=t._openGLRenderer?t._openGLRenderer.getRenderable().getActiveCamera():null,n=t._openGLRenderer.getTiledSizeAndOrigin();t.scalarBarActorHelper.updateAPISpecificData([n.usize,n.vsize],e,t._openGLRenderWindow.getRenderable())}}}var _he={};function vhe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,_he,n),Kq.extend(e,t,n),t.scalarBarActorHelper=h4.newScalarBarActorHelper(),ghe(e,t)}Qq(`vtkScalarBarActor`,wq(vhe,`vtkOpenGLScalarBarActor`));var{vtkErrorMacro:g4}=Bq;function yhe(e,t){t.classHierarchy.push(`vtkOpenGLSkybox`),e.buildPass=n=>{if(n){t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t._openGLRenderWindow=t._openGLRenderer.getParent(),t.context=t._openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t._openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t._openGLRenderWindow);let n=t._openGLRenderer.getRenderable();t.openGLCamera=t._openGLRenderer.getViewNodeFor(n.getActiveCamera(),t.openGLCamera)}},e.queryPass=(e,n)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementOpaqueActorCount()}},e.opaquePass=(n,r)=>{if(n&&!t._openGLRenderer.getSelector()){e.updateBufferObjects(),t.context.depthMask(!0),t._openGLRenderWindow.getShaderCache().readyShaderProgram(t.tris.getProgram()),t.openGLTexture.render(t._openGLRenderWindow);let n=t.openGLTexture.getTextureUnit();t.tris.getProgram().setUniformi(`sbtexture`,n);let r=t._openGLRenderer.getRenderable(),i=t.openGLCamera.getKeyMatrices(r),a=new Float64Array(16);if(RW(a,i.wcpc),t.tris.getProgram().setUniformMatrix(`IMCPCMatrix`,a),t.lastFormat===`box`){let e=r.getActiveCamera().getPosition();t.tris.getProgram().setUniform3f(`camPos`,e[0],e[1],e[2])}t.tris.getVAO().bind(),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),t.openGLTexture.deactivate()}},e.updateBufferObjects=()=>{if(!t.tris.getCABO().getElementCount()){let e=new Float32Array(12);for(let t=0;t<4;t++)e[t*3]=t%2*2-1,e[t*3+1]=t>1?1:-1,e[t*3+2]=1;let n=l1.newInstance({numberOfComponents:3,values:e});n.setName(`points`);let r=new Uint16Array(8);r[0]=3,r[1]=0,r[2]=1,r[3]=3,r[4]=3,r[5]=0,r[6]=3,r[7]=2;let i=l1.newInstance({numberOfComponents:1,values:r});t.tris.getCABO().createVBO(i,`polys`,G$.SURFACE,{points:n,cellOffset:0})}t.renderable.getFormat()!==t.lastFormat&&(t.lastFormat=t.renderable.getFormat(),t.lastFormat===`box`&&t.tris.setProgram(t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec3 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = wpos.xyz/wpos.w;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec3 TexCoords;
             uniform samplerCube sbtexture;
             uniform vec3 camPos;
             void main () {
               // skybox looks from inside out
               // which means we have to adjust
               // our tcoords. Otherwise text would
               // be flipped
               vec3 tc = normalize(TexCoords - camPos);
               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))
               {
                 tc = vec3(1.0, 1.0, -1.0) * tc;
               }
               else
               {
                 tc = vec3(-1.0, 1.0, 1.0) * tc;
               }
               gl_FragData[0] = textureCube(sbtexture, tc);
             }`,``)),t.lastFormat===`background`&&t.tris.setProgram(t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec2 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec2 TexCoords;
             uniform sampler2D sbtexture;
             void main () {
               gl_FragData[0] = texture2D(sbtexture, TexCoords);
             }`,``)),t.tris.getShaderSourceTime().modified(),t.tris.getVAO().bind(),t.tris.getVAO().addAttributeArray(t.tris.getProgram(),t.tris.getCABO(),`vertexMC`,t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||g4(`Error setting vertexMC in shader VAO.`));let e=t.renderable.getTextures();e.length||g4(`vtkSkybox requires a texture map`),t.openGLTexture.getRenderable()!==e[0]&&(t.openGLTexture.releaseGraphicsResources(t._openGLRenderWindow),t.openGLTexture.setRenderable(e[0]))}}var bhe={context:null};function xhe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,bhe,n),Kq.extend(e,t,n),t.openGLTexture=G2.newInstance(),t.tris=k2.newInstance(),t.keyMatrixTime={},uq(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:iW(new Float64Array(9)),mcwc:IW(new Float64Array(16))},gq(e,t,[`context`]),fq(e,t,[`activeTextures`]),yhe(e,t)}Qq(`vtkSkybox`,wq(xhe));var{vtkDebugMacro:She}=Bq;function Che(e,t){t.classHierarchy.push(`vtkOpenGLPixelSpaceCallbackMapper`),e.opaquePass=(n,r)=>{t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t._openGLRenderWindow=t._openGLRenderer.getLastAncestorOfType(`vtkOpenGLRenderWindow`);let i=t._openGLRenderer.getAspectRatio(),a=t._openGLRenderer?t._openGLRenderer.getRenderable().getActiveCamera():null,o=t._openGLRenderer.getTiledSizeAndOrigin(),s=null;if(t.renderable.getUseZValues()){let e=r.getZBufferTexture(),n=Math.floor(e.getWidth()),i=Math.floor(e.getHeight()),a=t._openGLRenderWindow.getContext();e.bind();let o=r.getFramebuffer();o?o.saveCurrentBindingsAndBuffers():She(`No framebuffer to save/restore`);let c=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,c),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e.getHandle(),0),a.checkFramebufferStatus(a.FRAMEBUFFER)===a.FRAMEBUFFER_COMPLETE&&(s=new Uint8Array(n*i*4),a.viewport(0,0,n,i),a.readPixels(0,0,n,i,a.RGBA,a.UNSIGNED_BYTE,s)),o&&o.restorePreviousBindingsAndBuffers(),a.deleteFramebuffer(c)}t.renderable.invokeCallback(t.renderable.getInputData(),a,i,o,s)},e.queryPass=(e,n)=>{e&&t.renderable.getUseZValues()&&n.requestDepth()}}var whe={};function The(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,whe,n),Kq.extend(e,t,n),Che(e,t)}Qq(`vtkPixelSpaceCallbackMapper`,wq(The,`vtkOpenGLPixelSpaceCallbackMapper`));var _4=Object.create(null);function v4(e,t){_4[e]=t}function Ehe(e,t){t.classHierarchy.push(`vtkWebGPUViewNodeFactory`)}var Dhe={};function y4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Dhe,n),t.overrides=_4,Xq.extend(e,t,n),Ehe(e,t)}var Ohe={newInstance:$.newInstance(y4,`vtkWebGPUViewNodeFactory`),extend:y4};function khe(e,t){t.classHierarchy.push(`vtkWebGPUCamera`),e.getProjectionMatrix=(e,n,r,i)=>{if(IW(e),t.renderable.getParallelProjection()){let a=t.renderable.getParallelScale(),o=a*n,s=a,c=(i[0]-1)*o,l=(i[0]+1)*o,u=(i[1]-1)*s,d=(i[1]+1)*s,f=1/(l-c),p=1/(d-u);e[0]=2*f,e[5]=2*p,e[10]=1/(r[1]-r[0]),e[12]=(l+c)*f,e[13]=(d+u)*p,e[14]=r[1]/(r[1]-r[0])}else{let a=Math.tan(Math.PI*t.renderable.getViewAngle()/360),o,s;t.renderable.getUseHorizontalViewAngle()===!0?(o=r[0]*a,s=r[0]*a/n):(o=r[0]*a*n,s=r[0]*a);let c=(i[0]-1)*o,l=(i[0]+1)*o,u=(i[1]-1)*s,d=(i[1]+1)*s;e[0]=2*r[0]/(l-c),e[5]=2*r[0]/(d-u),e[12]=(c+l)/(l-c),e[13]=(u+d)/(d-u),e[10]=0,e[14]=r[0],e[11]=-1,e[15]=0}},e.convertToOpenGLDepth=e=>{if(t.renderable.getParallelProjection())return 1-e;let n=t.renderable.getClippingRangeByReference(),r=-n[0]/e;return r=(n[0]+n[1])/(n[1]-n[0])+2*n[0]*n[1]/(r*(n[1]-n[0])),.5*r+.5},e.getKeyMatrices=n=>{let r=n.getRenderable(),i=n.getParent();if(Math.max(i.getMTime(),e.getMTime(),r.getMTime(),t.renderable.getMTime(),n.getStabilizedTime())>t.keyMatrixTime.getMTime()){let r=t.renderable.getViewMatrix();NW(t.keyMatrices.normalMatrix,r),t.keyMatrices.normalMatrix[3]=0,t.keyMatrices.normalMatrix[7]=0,t.keyMatrices.normalMatrix[11]=0,RW(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),LW(t.keyMatrices.wcvc,r);let i=n.getStabilizedCenterByReference();HW(t.keyMatrices.scvc,t.keyMatrices.wcvc,i);let a=n.getAspectRatio(),o=t.renderable.getClippingRangeByReference();e.getProjectionMatrix(t.keyMatrices.vcpc,a,o,t.renderable.getWindowCenterByReference()),VW(t.keyMatrices.scpc,t.keyMatrices.vcpc,t.keyMatrices.scvc),RW(t.keyMatrices.pcsc,t.keyMatrices.scpc),t.keyMatrixTime.modified()}return t.keyMatrices}}var Ahe={keyMatrixTime:null,keyMatrices:null};function jhe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ahe,n),Kq.extend(e,t,n),t.keyMatrixTime={},$.obj(t.keyMatrixTime),t.keyMatrices={normalMatrix:new Float64Array(16),vcpc:new Float64Array(16),pcsc:new Float64Array(16),wcvc:new Float64Array(16),scpc:new Float64Array(16),scvc:new Float64Array(16)},$.setGet(e,t,[`keyMatrixTime`]),khe(e,t)}v4(`vtkCamera`,$.newInstance(jhe));function Mhe(e,t){t.classHierarchy.push(`vtkWebGPUBindGroup`),e.setBindables=n=>{if(t.bindables.length===n.length){let e=!0;for(let r=0;r<t.bindables.length;r++)t.bindables[r]!==n[r]&&(e=!1);if(e)return}t.bindables=n,e.modified()},e.getBindGroupLayout=e=>{let n=[];for(let e=0;e<t.bindables.length;e++){let r=t.bindables[e].getBindGroupLayoutEntry();r.binding=e,n.push(r)}return e.getBindGroupLayout({entries:n})},e.getBindGroup=n=>{let r=e.getMTime();for(let e=0;e<t.bindables.length;e++){let n=t.bindables[e].getBindGroupTime().getMTime();r=n>r?n:r}if(r<t.bindGroupTime.getMTime())return t.bindGroup;let i=[];for(let e=0;e<t.bindables.length;e++){let n=t.bindables[e].getBindGroupEntry();n.binding=e,i.push(n)}return t.bindGroup=n.getHandle().createBindGroup({layout:e.getBindGroupLayout(n),entries:i,label:t.label}),t.bindGroupTime.modified(),t.bindGroup},e.getShaderCode=e=>{let n=[],r=e.getBindGroupLayoutCount(t.label);for(let e=0;e<t.bindables.length;e++)n.push(t.bindables[e].getShaderCode(e,r));return n.join(`
`)}}var Nhe={device:null,handle:null,label:null};function b4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Nhe,n),$.obj(e,t),t.bindables=[],t.bindGroupTime={},$.obj(t.bindGroupTime,{mtime:0}),$.get(e,t,[`bindGroupTime`,`handle`,`sizeInBytes`,`usage`]),$.setGet(e,t,[`label`,`device`,`arrayInformation`]),Mhe(e,t)}var x4={newInstance:$.newInstance(b4),extend:b4};function Phe(e,t){t.classHierarchy.push(`vtkWebGPUShaderModule`),e.initialize=(e,n)=>{t.device=e,t.handle=t.device.getHandle().createShaderModule({code:n.getCode()})}}var Fhe={device:null,handle:null};function S4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Fhe,n),$.obj(e,t),$.get(e,t,[`lastCameraMTime`]),$.setGet(e,t,[`device`,`handle`]),Phe(e,t)}var Ihe={newInstance:$.newInstance(S4,`vtkWebGPUShaderModule`),extend:S4};function Lhe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=Array.isArray(n)?n.join(`
`):n,a=!1;e.search(t)!==-1&&(a=!0);let o=``;r&&(o=`g`);let s=new RegExp(t,o),c=e.replace(s,i);return{replace:a,result:c}}function Rhe(e,t){t.classHierarchy.push(`vtkWebGPUShaderCache`),e.getShaderModule=e=>{let n=e.getType(),r=e.getHash(),i=t._shaderModules.keys();for(let e=0;e<i.length;e++){let a=i[e];if(a.getHash()===r&&a.getType()===n)return t._shaderModules.get(a)}let a=Ihe.newInstance();return a.initialize(t.device,e),t._shaderModules.set(e,a),a}}var zhe={shaderModules:null,device:null,window:null};function C4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,zhe,n),t._shaderModules=new Map,$.obj(e,t),$.setGet(e,t,[`device`,`window`]),Rhe(e,t)}var w4={newInstance:$.newInstance(C4,`vtkWebGPUShaderCache`),extend:C4,substitute:Lhe};function Bhe(e,t){t.classHierarchy.push(`vtkWebGPUPipeline`),e.getShaderDescriptions=()=>t.shaderDescriptions,e.initialize=(e,n)=>{t.pipelineDescription=t.renderEncoder.getPipelineSettings(),t.pipelineDescription.primitive.topology=t.topology,t.pipelineDescription.vertex=t.vertexState,t.pipelineDescription.label=n;let r=[];for(let e=0;e<t.layouts.length;e++)r.push(t.layouts[e].layout);t.pipelineLayout=e.getHandle().createPipelineLayout({bindGroupLayouts:r}),t.pipelineDescription.layout=t.pipelineLayout;for(let n=0;n<t.shaderDescriptions.length;n++){let r=t.shaderDescriptions[n],i=e.getShaderModule(r);r.getType()===`vertex`&&(t.pipelineDescription.vertex.module=i.getHandle(),t.pipelineDescription.vertex.entryPoint=`main`),r.getType()===`fragment`&&(t.pipelineDescription.fragment.module=i.getHandle(),t.pipelineDescription.fragment.entryPoint=`main`)}t.handle=e.getHandle().createRenderPipeline(t.pipelineDescription)},e.getShaderDescription=e=>{for(let n=0;n<t.shaderDescriptions.length;n++)if(t.shaderDescriptions[n].getType()===e)return t.shaderDescriptions[n];return null},e.addBindGroupLayout=e=>{e&&t.layouts.push({layout:e.getBindGroupLayout(t.device),label:e.getLabel()})},e.getBindGroupLayout=e=>t.layouts[e].layout,e.getBindGroupLayoutCount=e=>{for(let n=0;n<t.layouts.length;n++)if(t.layouts[n].label===e)return n;return 0},e.bindVertexInput=(e,t)=>{t.bindBuffers(e)}}var Vhe={handle:null,layouts:null,renderEncoder:null,shaderDescriptions:null,vertexState:null,topology:null,pipelineDescription:null};function T4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Vhe,n),uq(e,t),t.layouts=[],t.shaderDescriptions=[],fq(e,t,[`handle`,`pipelineDescription`]),gq(e,t,[`device`,`renderEncoder`,`topology`,`vertexState`]),Bhe(e,t)}var Hhe={newInstance:wq(T4,`vtkWebGPUPipeline`),extend:T4};function Uhe(e,t){t.classHierarchy.push(`vtkWebGPUShaderDescription`),e.hasOutput=e=>t.outputNames.includes(e),e.addOutput=function(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;t.outputTypes.push(e),t.outputNames.push(n),t.outputInterpolations.push(r)},e.addBuiltinOutput=(e,n)=>{t.builtinOutputTypes.push(e),t.builtinOutputNames.push(n)},e.addBuiltinInput=(e,n)=>{t.builtinInputTypes.push(e),t.builtinInputNames.push(n)},e.replaceShaderCode=(e,n)=>{let r=[],i=[];if(n&&r.push(n.getShaderCode()),e||t.builtinInputNames.length){let n=[];if(n.push(`struct ${t.type}Input\n{`),e){let t=e.getOutputNamesByReference(),r=e.getOutputTypesByReference(),i=e.getOutputInterpolationsByReference();for(let e=0;e<t.length;e++)i[e]===void 0?n.push(`  @location(${e}) ${t[e]} : ${r[e]},`):n.push(`  @location(${e}) @interpolate(${i[e]}) ${t[e]} : ${r[e]},`)}for(let e=0;e<t.builtinInputNames.length;e++)n.push(`  ${t.builtinInputNames[e]} : ${t.builtinInputTypes[e]},`);n.length>1&&(n.push(`};`),i=n,r[r.length-1]+=`,`,r.push(`input: ${t.type}Input`))}if(r.length&&(t.code=w4.substitute(t.code,`//VTK::IOStructs::Input`,r).result),t.outputNames.length+t.builtinOutputNames.length){let e=[`struct ${t.type}Output\n{`];for(let n=0;n<t.outputNames.length;n++)t.outputInterpolations[n]===void 0?e.push(`  @location(${n}) ${t.outputNames[n]} : ${t.outputTypes[n]},`):e.push(`  @location(${n}) @interpolate(${t.outputInterpolations[n]}) ${t.outputNames[n]} : ${t.outputTypes[n]},`);for(let n=0;n<t.builtinOutputNames.length;n++)e.push(`  ${t.builtinOutputNames[n]} : ${t.builtinOutputTypes[n]},`);e.push(`};`),i=i.concat(e),t.code=w4.substitute(t.code,`//VTK::IOStructs::Output`,[`-> ${t.type}Output`]).result}t.code=w4.substitute(t.code,`//VTK::IOStructs::Dec`,i).result}}var Whe={type:null,hash:null,code:null,outputNames:null,outputTypes:null};function E4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Whe,n),t.outputNames=[],t.outputTypes=[],t.outputInterpolations=[],t.builtinOutputNames=[],t.builtinOutputTypes=[],t.builtinInputNames=[],t.builtinInputTypes=[],$.obj(e,t),$.setGet(e,t,[`type`,`hash`,`code`]),$.getArray(e,t,[`outputTypes`,`outputNames`,`outputInterpolations`]),Uhe(e,t)}var D4={newInstance:$.newInstance(E4,`vtkWebGPUShaderDescription`),extend:E4},O4={r8unorm:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:`float`},r8snorm:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1,sampleType:`float`},r8uint:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:`uint`},r8sint:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1,sampleType:`sint`},r16uint:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2,sampleType:`uint`},r16sint:{numComponents:1,nativeType:Int16Array,stride:2,elementSize:2,sampleType:`sint`},r16float:{numComponents:1,nativeType:Float32Array,stride:2,elementSize:2,sampleType:`float`},rg8unorm:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1,sampleType:`float`},rg8snorm:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1,sampleType:`float`},rg8uint:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1,sampleType:`uint`},rg8sint:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1,sampleType:`sint`},r32uint:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:4,sampleType:`uint`},r32sint:{numComponents:1,nativeType:Int32Array,stride:4,elementSize:4,sampleType:`sint`},r32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4,sampleType:`unfilterable-float`},rg16uint:{numComponents:2,nativeType:Uint16Array,stride:4,elementSize:2,sampleType:`uint`},rg16sint:{numComponents:2,nativeType:Int16Array,stride:4,elementSize:2,sampleType:`sint`},rg16float:{numComponents:2,nativeType:Float32Array,stride:4,elementSize:2,sampleType:`float`},rgba8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:`float`},"rgba8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:`float`},rgba8snorm:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1,sampleType:`float`},rgba8uint:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:`uint`},rgba8sint:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1,sampleType:`sint`},bgra8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:`float`},"bgra8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:`float`},rgb9e5ufloat:{numComponents:4,nativeType:Uint32Array,stride:4,sampleType:`float`},rgb10a2unorm:{numComponents:4,nativeType:Uint32Array,stride:4,sampleType:`float`},rg11b10ufloat:{numComponents:4,nativeType:Float32Array,stride:4,sampleType:`float`},rg32uint:{numComponents:2,nativeType:Uint32Array,stride:8,elementSize:4,sampleType:`uint`},rg32sint:{numComponents:2,nativeType:Int32Array,stride:8,elementSize:4,sampleType:`sint`},rg32float:{numComponents:2,nativeType:Float32Array,stride:8,elementSize:4,sampleType:`unfilterable-float`},rgba16uint:{numComponents:4,nativeType:Uint16Array,stride:8,elementSize:2,sampleType:`uint`},rgba16sint:{numComponents:4,nativeType:Int16Array,stride:8,elementSize:2,sampleType:`sint`},rgba16float:{numComponents:4,nativeType:Float32Array,stride:8,elementSize:2,sampleType:`float`},rgba32uint:{numComponents:4,nativeType:Uint32Array,stride:16,elementSize:4,sampleType:`uint`},rgba32sint:{numComponents:4,nativeType:Int32Array,stride:16,elementSize:4,sampleType:`sint`},rgba32float:{numComponents:4,nativeType:Float32Array,stride:16,elementSize:4,sampleType:`unfilterable-float`},stencil8:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:`uint`},depth16unorm:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2,sampleType:`depth`},depth24plus:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:3,sampleType:`depth`},"depth24plus-stencil8":{numComponents:2,nativeType:Uint32Array,stride:4,sampleType:`mixed`},depth32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4,sampleType:`depth`}};function Ghe(e){return!e||e.length<6?0:e in O4?O4[e]:(GK(`unknown format ${e}`),null)}function Khe(e){if(!e||e.length<5)return 0;let t=1;e[e.length-2]===`x`&&(t=Number(e[e.length-1]));let n=t===1?e.length-1:e.length-3,r=Number(e[n]);if(Number.isNaN(r))return GK(`unknown format ${e}`),0;let i=5-r/2;return t*i}function qhe(e){if(!e||e.length<5)return 0;let t=1;return e[e.length-2]===`x`&&(t=Number(e[e.length-1])),t}function Jhe(e){if(!e||e.length<5)return 0;let t;if(e[0]===`f`)t=`Float`;else if(e[0]===`s`)t=`Int`;else if(e[0]===`u`)t=`Uint`;else{GK(`unknown format ${e}`);return}let n=e.split(`x`)[0],r=Number(n[n.length-1]);if(Number.isNaN(r)){GK(`unknown format ${e}`);return}return t+=8*(5-r/2),t+=`Array`,t}function Yhe(e){let t;if(e[0]===`f`||e[1]===`n`)t=`f32`;else if(e[0]===`s`&&e[1]===`i`)t=`i32`;else if(e[0]===`u`&&e[1]===`i`)t=`u32`;else{GK(`unknown format ${e}`);return}let n=1;return e[e.length-2]===`x`&&(n=Number(e[e.length-1])),n===4?`vec4<${t}>`:n===3?`vec3<${t}>`:n===2?`vec2<${t}>`:t}function Xhe(e){if(!e)return 0;let t=1;return e.substring(0,3)===`vec`?t=Number(e[3]):e.substring(0,3)===`mat`&&(t=e[3]*e[5]),t*4}function Zhe(e){if(e){if(e.includes(`f32`))return`Float32Array`;if(e.includes(`i32`))return`Int32Array`;if(e.includes(`u32`))return`Uint32Array`;GK(`unknown format ${e}`)}}var k4={getDetailsFromTextureFormat:Ghe,getByteStrideFromBufferFormat:Khe,getNumberOfComponentsFromBufferFormat:qhe,getNativeTypeFromBufferFormat:Jhe,getShaderTypeFromBufferFormat:Yhe,getByteStrideFromShaderFormat:Xhe,getNativeTypeFromShaderFormat:Zhe};function Qhe(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!t.includes(e[n]))return!1;return!0}function $he(e,t){t.classHierarchy.push(`vtkWebGPUVertexInput`),e.addBuffer=function(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`vertex`,i=n;Array.isArray(i)||(i=[i]);for(let n=0;n<t.inputs.length;n++)if(Qhe(t.inputs[n].names,i)){if(t.inputs[n].buffer===e)return;t.inputs[n].buffer=e;return}t.inputs.push({buffer:e,stepMode:r,names:i}),t.inputs=t.inputs.sort((e,t)=>e.names[0]<t.names[0]?-1:e.names[0]>t.names[0]?1:0)},e.removeBufferIfPresent=e=>{for(let n=0;n<t.inputs.length;n++)t.inputs[n].names.includes(e)&&t.inputs.splice(n,1)},e.getBuffer=e=>{for(let n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return t.inputs[n].buffer;return null},e.hasAttribute=e=>{for(let n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return!0;return!1},e.getAttributeTime=e=>{for(let n=0;n<t.inputs.length;n++)if(t.inputs[n].names.includes(e))return t.inputs[n].buffer.getSourceTime();return 0},e.getShaderCode=()=>{let e=``,n=0;for(let r=0;r<t.inputs.length;r++)for(let i=0;i<t.inputs[r].names.length;i++){let a=t.inputs[r].buffer.getArrayInformation()[i],o=k4.getShaderTypeFromBufferFormat(a.format);n>0&&(e+=`,
`),e=`${e}  @location(${n}) ${t.inputs[r].names[i]} : ${o}`,n++}return e},e.getVertexInputInformation=()=>{let e={};if(t.inputs.length){let n=[],r=0;for(let e=0;e<t.inputs.length;e++){let i=t.inputs[e].buffer,a={arrayStride:i.getStrideInBytes(),stepMode:t.inputs[e].stepMode,attributes:[]},o=i.getArrayInformation();for(let n=0;n<t.inputs[e].names.length;n++)a.attributes.push({shaderLocation:r,offset:o[n].offset,format:o[n].format}),r++;n.push(a)}e.buffers=n}return e},e.bindBuffers=e=>{for(let n=0;n<t.inputs.length;n++)e.setVertexBuffer(n,t.inputs[n].buffer.getHandle());t.indexBuffer&&e.setIndexBuffer(t.indexBuffer.getHandle(),t.indexBuffer.getArrayInformation()[0].format)},e.getReady=()=>{},e.releaseGraphicsResources=()=>{t.created&&(t.inputs=[],t.bindingDescriptions=[],t.attributeDescriptions=[])}}var ege={inputs:null,bindingDescriptions:!1,attributeDescriptions:null,indexBuffer:null};function A4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ege,n),uq(e,t),t.bindingDescriptions=[],t.attributeDescriptions=[],t.inputs=[],gq(e,t,[`created`,`device`,`handle`,`indexBuffer`]),$he(e,t)}var tge={newInstance:wq(A4,`vtkWebGPUVertexInput`),extend:A4},nge=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@vertex
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : vertexOutput;

  // var vertex: vec4<f32> = vertexBC;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  //VTK::Position::Impl

  return output;
}
`,rge=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::RenderEncoder::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : fragmentOutput;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::Light::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  // var computedColor:vec4<f32> = vec4<f32>(1.0,0.5,0.5,1.0);

  //VTK::RenderEncoder::Impl
  return output;
}
`;function ige(e,t){t.classHierarchy.push(`vtkWebGPUSimpleMapper`),e.generateShaderDescriptions=(n,r,i)=>{let a=D4.newInstance({type:`vertex`,hash:n,code:t.vertexShaderTemplate}),o=D4.newInstance({type:`fragment`,hash:n,code:t.fragmentShaderTemplate}),s=r.getShaderDescriptions();s.push(a),s.push(o);let c=t.vertexShaderTemplate+t.fragmentShaderTemplate,l=RegExp(`//VTK::[^:]*::`,`g`),u=c.match(l).filter((e,t,n)=>n.indexOf(e)===t).map(e=>`replaceShader${e.substring(7,e.length-2)}`);for(let e=0;e<u.length;e++){let a=u[e];a!==`replaceShaderIOStructs`&&t.shaderReplacements.has(a)&&t.shaderReplacements.get(a)(n,r,i)}e.replaceShaderIOStructs(n,r,i)},e.replaceShaderIOStructs=(e,t,n)=>{let r=t.getShaderDescription(`vertex`);r.replaceShaderCode(null,n),t.getShaderDescription(`fragment`).replaceShaderCode(r)},e.replaceShaderRenderEncoder=(e,n,r)=>{t.renderEncoder.replaceShaderCode(n)},t.shaderReplacements.set(`replaceShaderRenderEncoder`,e.replaceShaderRenderEncoder),e.replaceShaderRenderer=(e,n,r)=>{if(!t.WebGPURenderer)return;let i=t.WebGPURenderer.getBindGroup().getShaderCode(n),a=n.getShaderDescription(`vertex`),o=a.getCode();o=w4.substitute(o,`//VTK::Renderer::Dec`,[i]).result,a.setCode(o);let s=n.getShaderDescription(`fragment`);o=s.getCode(),o=w4.substitute(o,`//VTK::Renderer::Dec`,[i]).result,s.setCode(o)},t.shaderReplacements.set(`replaceShaderRenderer`,e.replaceShaderRenderer),e.replaceShaderMapper=(e,n,r)=>{let i=t.bindGroup.getShaderCode(n),a=n.getShaderDescription(`vertex`),o=a.getCode();o=w4.substitute(o,`//VTK::Mapper::Dec`,[i]).result,a.setCode(o);let s=n.getShaderDescription(`fragment`);s.addBuiltinInput(`bool`,`@builtin(front_facing) frontFacing`),o=s.getCode(),o=w4.substitute(o,`//VTK::Mapper::Dec`,[i]).result,s.setCode(o)},t.shaderReplacements.set(`replaceShaderMapper`,e.replaceShaderMapper),e.replaceShaderPosition=(e,t,n)=>{let r=t.getShaderDescription(`vertex`);r.addBuiltinOutput(`vec4<f32>`,`@builtin(position) Position`);let i=r.getCode();i=w4.substitute(i,`//VTK::Position::Impl`,[`    output.Position = rendererUBO.SCPCMatrix*vertexBC;`]).result,r.setCode(i)},t.shaderReplacements.set(`replaceShaderPosition`,e.replaceShaderPosition),e.replaceShaderTCoord=(e,t,n)=>{t.getShaderDescription(`vertex`).addOutput(`vec2<f32>`,`tcoordVS`)},t.shaderReplacements.set(`replaceShaderTCoord`,e.replaceShaderTCoord),e.addTextureView=e=>{t.textureViews.includes(e)||t.textureViews.push(e)},e.prepareToDraw=n=>{t.renderEncoder=n,e.updateInput(),e.updateBuffers(),e.updateBindings(),e.updatePipeline()},e.updateInput=()=>{},e.updateBuffers=()=>{},e.updateBindings=()=>{t.bindGroup.setBindables(e.getBindables())},e.computePipelineHash=()=>{},e.registerDrawCallback=n=>{n.registerDrawCallback(t.pipeline,e.draw)},e.prepareAndDraw=n=>{e.prepareToDraw(n),n.setPipeline(t.pipeline),e.draw(n)},e.draw=e=>{let n=e.getBoundPipeline();e.activateBindGroup(t.bindGroup),t.WebGPURenderer&&t.WebGPURenderer.bindUBO(e),n.bindVertexInput(e,t.vertexInput);let r=t.vertexInput.getIndexBuffer();r?e.drawIndexed(r.getIndexCount(),t.numberOfInstances,0,0,0):e.draw(t.numberOfVertices,t.numberOfInstances,0,0)},e.getBindables=()=>{let e=[...t.additionalBindables];t.UBO&&e.push(t.UBO),t.SSBO&&e.push(t.SSBO);for(let n=0;n<t.textureViews.length;n++){e.push(t.textureViews[n]);let r=t.textureViews[n].getSampler();r&&e.push(r)}return e},e.updatePipeline=()=>{e.computePipelineHash(),t.pipeline=t.device.getPipeline(t.pipelineHash),t.pipeline||(t.pipeline=Hhe.newInstance(),t.pipeline.setDevice(t.device),t.WebGPURenderer&&t.pipeline.addBindGroupLayout(t.WebGPURenderer.getBindGroup()),t.pipeline.addBindGroupLayout(t.bindGroup),e.generateShaderDescriptions(t.pipelineHash,t.pipeline,t.vertexInput),t.pipeline.setTopology(t.topology),t.pipeline.setRenderEncoder(t.renderEncoder),t.pipeline.setVertexState(t.vertexInput.getVertexInputInformation()),t.device.createPipeline(t.pipelineHash,t.pipeline))}}var age={additionalBindables:void 0,bindGroup:null,device:null,fragmentShaderTemplate:null,numberOfInstances:1,numberOfVertices:0,pipelineHash:null,shaderReplacements:null,SSBO:null,textureViews:null,topology:`triangle-list`,UBO:null,vertexShaderTemplate:null,WebGPURenderer:null};function j4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,age,n),Kq.extend(e,t,n),t.textureViews=[],t.vertexInput=tge.newInstance(),t.bindGroup=x4.newInstance({label:`mapperBG`}),t.additionalBindables=[],t.fragmentShaderTemplate=t.fragmentShaderTemplate||rge,t.vertexShaderTemplate=t.vertexShaderTemplate||nge,t.shaderReplacements=new Map,$.get(e,t,[`pipeline`,`vertexInput`]),$.setGet(e,t,[`additionalBindables`,`device`,`fragmentShaderTemplate`,`interpolate`,`numberOfInstances`,`numberOfVertices`,`pipelineHash`,`shaderReplacements`,`SSBO`,`textureViews`,`topology`,`UBO`,`vertexShaderTemplate`,`WebGPURenderer`]),ige(e,t)}var M4={newInstance:$.newInstance(j4,`vtkWebGPUSimpleMapper`),extend:j4};function oge(e,t){t.classHierarchy.push(`vtkWebGPUFullScreenQuad`),e.replaceShaderPosition=(e,t,n)=>{let r=t.getShaderDescription(`vertex`);r.addBuiltinOutput(`vec4<f32>`,`@builtin(position) Position`),r.addOutput(`vec4<f32>`,`vertexVC`);let i=r.getCode();i=w4.substitute(i,`//VTK::Position::Impl`,[`output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);`,`output.Position = vec4<f32>(vertexBC, 1.0);`,`output.vertexVC = vec4<f32>(vertexBC, 1);`]).result,r.setCode(i)},t.shaderReplacements.set(`replaceShaderPosition`,e.replaceShaderPosition),e.updateBuffers=()=>{let e=t.device.getBufferManager().getFullScreenQuadBuffer();t.vertexInput.addBuffer(e,[`vertexBC`]),t.numberOfVertices=6}}var sge={};function N4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,sge,n),M4.extend(e,t,n),oge(e,t)}var P4={newInstance:$.newInstance(N4,`vtkWebGPUFullScreenQuad`),extend:N4},F4={BufferUsage:{Verts:0,Lines:1,Triangles:2,Strips:3,LinesFromStrips:4,LinesFromTriangles:5,Points:6,UniformArray:7,PointArray:8,NormalsFromPoints:9,Texture:10,RawVertex:11,Storage:12,Index:13},PrimitiveTypes:{Start:0,Points:0,Lines:1,Triangles:2,TriangleStrips:3,TriangleEdges:4,TriangleStripEdges:5,End:6}},I4=[`getMappedRange`,`mapAsync`,`unmap`];function cge(e,t,n,r){let i=r.byteLength,a=e.createBuffer({size:i,usage:GPUBufferUsage.COPY_SRC,mappedAtCreation:!0}),o=a.getMappedRange(0,i);new Uint8Array(o).set(new Uint8Array(r)),a.unmap();let s=e.createCommandEncoder();s.copyBufferToBuffer(a,0,t,n,i);let c=s.finish();e.queue.submit([c]),a.destroy()}function lge(e,t){t.classHierarchy.push(`vtkWebGPUBuffer`),e.create=(e,n)=>{t.handle=t.device.getHandle().createBuffer({size:e,usage:n,label:t.label}),t.sizeInBytes=e,t.usage=n},e.write=e=>{cge(t.device.getHandle(),t.handle,0,e.buffer)},e.createAndWrite=(e,n)=>{let r=Math.ceil(e.byteLength/4)*4;t.handle=t.device.getHandle().createBuffer({size:r,usage:n,mappedAtCreation:!0,label:t.label}),t.sizeInBytes=r,t.usage=n,new Uint8Array(t.handle.getMappedRange()).set(new Uint8Array(e.buffer)),t.handle.unmap()};for(let n=0;n<I4.length;n++)e[I4[n]]=function(){return t.handle[I4[n]](...arguments)}}var uge={device:null,handle:null,sizeInBytes:0,strideInBytes:0,arrayInformation:null,usage:null,label:null,sourceTime:null};function L4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,uge,n),$.obj(e,t),$.get(e,t,[`handle`,`sizeInBytes`,`usage`]),$.setGet(e,t,[`strideInBytes`,`device`,`arrayInformation`,`label`,`sourceTime`]),lge(e,t)}var R4={newInstance:$.newInstance(L4),extend:L4,...F4},{Representation:z4}=Z$,{PrimitiveTypes:B4}=F4,dge=class{constructor(){this.keys=new Uint32Array(10),this.values=new Uint32Array(10),this.count=0}clear(){this.count=0}has(e){for(let t=0;t<this.count;t++)if(this.keys[t]===e)return!0}get(e){for(let t=0;t<this.count;t++)if(this.keys[t]===e)return this.values[t]}set(e,t){this.count<9&&(this.keys[this.count]=e,this.values[this.count++]=t)}};function fge(e){switch(e){case B4.Points:return`points`;case B4.Lines:return`lines`;case B4.Triangles:case B4.TriangleEdges:return`polys`;case B4.TriangleStripEdges:case B4.TriangleStrips:return`strips`;default:return``}}function V4(e,t,n){let r=e.pointIdToFlatId[t];return r<0&&(r=e.flatId,e.pointIdToFlatId[t]=r,e.flatIdToPointId[e.flatId]=t,e.flatIdToCellId[e.flatId]=n,e.flatId++),r}function pge(e,t,n){let r=e.length;for(let i=0;i<r;i++){let a=e[i];if(n.cellProvokedMap.has(a)){n.ibo[n.iboId++]=n.cellProvokedMap.get(a);for(let o=i+1;o<i+r;o++){a=e[o%r];let i=V4(n,a,t);n.ibo[n.iboId++]=i}return}}for(let i=0;i<r;i++){let a=e[i];if(!n.provokedPointIds[a]){let o=V4(n,a,t);n.provokedPointIds[a]=1,n.cellProvokedMap.set(a,o),n.flatIdToCellId[o]=t,n.ibo[n.iboId++]=o;for(let s=i+1;s<i+r;s++)a=e[s%r],o=V4(n,a,t),n.ibo[n.iboId++]=o;return}}let i=e[0],a=n.flatId;n.cellProvokedMap.set(i,a),n.flatIdToPointId[n.flatId]=i,n.flatIdToCellId[n.flatId]=t,n.flatId++,n.ibo[n.iboId++]=a;for(let o=1;o<r;o++)i=e[o],a=V4(n,i,t),n.ibo[n.iboId++]=a}function mge(e,t,n){let r=e.length;n.iboSize+=r;for(let t=0;t<r;t++){let r=e[t];if(n.cellProvokedMap.has(r))return}for(let t=0;t<r;t++){let r=e[t];if(!n.provokedPointIds[r]){n.provokedPointIds[r]=1,n.cellProvokedMap.set(r,1);return}}n.cellProvokedMap.set(e[0],1),n.extraPoints++}var H4,U4=new Uint32Array(1),W4=new Uint32Array(2),G4=new Uint32Array(3),K4={anythingToPoints(e,t,n,r,i){for(let a=0;a<e;++a)U4[0]=t[n+a],H4(U4,r,i)},linesToWireframe(e,t,n,r,i){for(let a=0;a<e-1;++a)W4[0]=t[n+a],W4[1]=t[n+a+1],H4(W4,r,i)},polysToWireframe(e,t,n,r,i){if(e>2)for(let a=0;a<e;++a)W4[0]=t[n+a],W4[1]=t[n+(a+1)%e],H4(W4,r,i)},stripsToWireframe(e,t,n,r,i){if(e>2){for(let a=0;a<e-1;++a)W4[0]=t[n+a],W4[1]=t[n+a+1],H4(W4,r,i);for(let a=0;a<e-2;a++)W4[0]=t[n+a],W4[1]=t[n+a+2],H4(W4,r,i)}},polysToSurface(e,t,n,r,i){for(let a=0;a<e-2;a++)G4[0]=t[n],G4[1]=t[n+a+1],G4[2]=t[n+a+2],H4(G4,r,i)},stripsToSurface(e,t,n,r,i){for(let a=0;a<e-2;a++)G4[0]=t[n+a],G4[1]=t[n+a+1+a%2],G4[2]=t[n+a+1+(a+1)%2],H4(G4,r,i)}};function hge(e,t){t.classHierarchy.push(`vtkWebGPUIndexBuffer`),e.buildIndexBuffer=e=>{let n=e.cells,r=e.primitiveType,i=e.representation,a=e.cellOffset,o=n.getData(),s=o.length,c=fge(r),l=e.numberOfPoints,u={provokedPointIds:new Uint8Array(l),extraPoints:0,iboSize:0,flatId:0,iboId:0,cellProvokedMap:new dge},d=null;d=i===z4.POINTS||r===B4.Points?K4.anythingToPoints:i===z4.WIREFRAME||r===B4.Lines?K4[`${c}ToWireframe`]:K4[`${c}ToSurface`],H4=mge;let f=a||0;for(let e=0;e<s;)u.cellProvokedMap.clear(),d(o[e],o,e+1,f,u),e+=o[e]+1,f++;l<=65535?u.flatIdToPointId=new Uint16Array(l+u.extraPoints):u.flatIdToPointId=new Uint32Array(l+u.extraPoints),l+u.extraPoints<36863?u.pointIdToFlatId=new Int16Array(l):u.pointIdToFlatId=new Int32Array(l),l+u.extraPoints<=65535?(u.ibo=new Uint16Array(u.iboSize),e.format=`uint16`):(u.ibo=new Uint32Array(u.iboSize),e.format=`uint32`),f<=65535?u.flatIdToCellId=new Uint16Array(l+u.extraPoints):u.flatIdToCellId=new Uint32Array(l+u.extraPoints),u.pointIdToFlatId.fill(-1),u.provokedPointIds.fill(0),H4=pge,f=a||0;for(let e=0;e<s;)u.cellProvokedMap.clear(),d(o[e],o,e+1,f,u),e+=o[e]+1,f++;delete u.provokedPointIds,delete u.pointIdToFlatId,e.nativeArray=u.ibo,t.flatIdToPointId=u.flatIdToPointId,t.flatIdToCellId=u.flatIdToCellId,t.flatSize=u.flatId,t.indexCount=u.iboId}}var gge={flatIdToPointId:null,flatIdToCellId:null,flatSize:0,indexCount:0};function q4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,gge,n),R4.extend(e,t,n),$.setGet(e,t,[`flatIdToPointId`,`flatIdToCellId`,`flatSize`,`indexCount`]),hge(e,t)}var _ge={newInstance:$.newInstance(q4),extend:q4,...F4},{BufferUsage:J4}=F4,{vtkErrorMacro:vge}=Bq,{VtkDataTypes:Y4}=l1,yge={};function bge(e){let t;switch(e.getDataType()){case Y4.UNSIGNED_CHAR:t=`uint8`;break;case Y4.FLOAT:t=`float32`;break;case Y4.UNSIGNED_INT:t=`uint32`;break;case Y4.INT:t=`sint32`;break;case Y4.DOUBLE:t=`float32`;break;case Y4.UNSIGNED_SHORT:t=`uint16`;break;case Y4.SHORT:t=`sin16`;break;default:t=`float32`;break}switch(e.getNumberOfComponents()){case 2:t+=`x2`;break;case 3:t.includes(`32`)||vge(`unsupported x3 type for ${t}`),t+=`x3`;break;case 4:t+=`x4`;break}return t}function X4(e,t,n,r,i){let a={},o=e.getFlatSize();if(!o)return a;let s=[0,0,0,0];i.shift&&(i.shift.length?s=i.shift:s.fill(i.shift));let c=[1,1,1,1];i.scale&&(i.scale.length?c=i.scale:c.fill(i.scale));let l=Object.prototype.hasOwnProperty.call(i,`packExtra`)?i.packExtra:!1,u,d=0,f=XK(r,o*(n+(l?1:0))),p=e.getFlatIdToPointId();i.cellData&&(p=e.getFlatIdToCellId()),n===1?u=function(e){f[d++]=c[0]*t[e]+s[0]}:n===2?u=function(e){f[d++]=c[0]*t[e]+s[0],f[d++]=c[1]*t[e+1]+s[1]}:n===3&&!l?u=function(e){f[d++]=c[0]*t[e]+s[0],f[d++]=c[1]*t[e+1]+s[1],f[d++]=c[2]*t[e+2]+s[2]}:n===3&&l?u=function(e){f[d++]=c[0]*t[e]+s[0],f[d++]=c[1]*t[e+1]+s[1],f[d++]=c[2]*t[e+2]+s[2],f[d++]=c[3]*1+s[3]}:n===4&&(u=function(e){f[d++]=c[0]*t[e]+s[0],f[d++]=c[1]*t[e+1]+s[1],f[d++]=c[2]*t[e+2]+s[2],f[d++]=c[3]*t[e+3]+s[3]});for(let e=0;e<o;e++){let t=n*p[e];u(t)}return a.nativeArray=f,a}function xge(e,t,n,r){let i=[e[r*3]-e[n*3],e[r*3+1]-e[n*3+1],e[r*3+2]-e[n*3+2]],a=[e[t*3]-e[n*3],e[t*3+1]-e[n*3+1],e[t*3+2]-e[n*3+2]],o=[];return _Z(i,a,o),yZ(o),o}function Sge(e,t){let n=t.getData(),r=e.getData();if(!r||!n)return null;let i=new Int8Array(e.getNumberOfCells()*4),a=r.length,o=0;for(let e=0;e<a;){let t=xge(n,r[e+1],r[e+2],r[e+3]);i[o++]=127*t[0],i[o++]=127*t[1],i[o++]=127*t[2],i[o++]=127,e+=r[e]+1}return i}function Cge(e,t){t.classHierarchy.push(`vtkWebGPUBufferManager`);function n(e){e.dataArray&&!e.nativeArray&&(e.nativeArray=e.dataArray.getData());let n,r;if(e.usage===J4.Index&&(n=_ge.newInstance({label:e.label}),n.setDevice(t.device),r=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST,n.buildIndexBuffer(e),n.createAndWrite(e.nativeArray,r),n.setArrayInformation([{format:e.format}])),n||(n=R4.newInstance({label:e.label}),n.setDevice(t.device)),e.usage===J4.UniformArray&&(r=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,n.createAndWrite(e.nativeArray,r)),e.usage===J4.Storage&&(r=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST,n.createAndWrite(e.nativeArray,r)),e.usage===J4.Texture&&(r=GPUBufferUsage.COPY_SRC,n.createAndWrite(e.nativeArray,r)),e.usage===J4.PointArray){r=GPUBufferUsage.VERTEX;let t=k4.getNativeTypeFromBufferFormat(e.format),i=X4(e.indexBuffer,e.dataArray.getData(),e.dataArray.getNumberOfComponents(),t,{packExtra:e.packExtra,shift:e.shift,scale:e.scale,cellData:e.cellData,cellOffset:e.cellOffset});n.createAndWrite(i.nativeArray,r),n.setStrideInBytes(k4.getByteStrideFromBufferFormat(e.format)),n.setArrayInformation([{offset:0,format:e.format,interpolation:e.cellData?`flat`:`perspective`}])}if(e.usage===J4.NormalsFromPoints){r=GPUBufferUsage.VERTEX;let t=k4.getNativeTypeFromBufferFormat(e.format),i=Sge(e.cells,e.dataArray),a=X4(e.indexBuffer,i,4,t,{cellData:!0});n.createAndWrite(a.nativeArray,r),n.setStrideInBytes(k4.getByteStrideFromBufferFormat(e.format)),n.setArrayInformation([{offset:0,format:e.format,interpolation:`flat`}])}return e.usage===J4.RawVertex&&(r=GPUBufferUsage.VERTEX,n.createAndWrite(e.nativeArray,r),n.setStrideInBytes(k4.getByteStrideFromBufferFormat(e.format)),n.setArrayInformation([{offset:0,format:e.format}])),n.setSourceTime(e.time),n}e.hasBuffer=e=>t.device.hasCachedObject(e),e.getBuffer=e=>e.hash?t.device.getCachedObject(e.hash,n,e):n(e),e.getBufferForPointArray=(t,n)=>{let r=bge(t),i={hash:`${t.getMTime()}I${n.getMTime()}${r}`,usage:J4.PointArray,format:r,dataArray:t,indexBuffer:n};return e.getBuffer(i)},e.getFullScreenQuadBuffer=()=>{if(t.fullScreenQuadBuffer)return t.fullScreenQuadBuffer;t.fullScreenQuadBuffer=R4.newInstance(),t.fullScreenQuadBuffer.setDevice(t.device);let e=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,-1,0,1,1,0,-1,1,0]);return t.fullScreenQuadBuffer.createAndWrite(e,GPUBufferUsage.VERTEX),t.fullScreenQuadBuffer.setStrideInBytes(12),t.fullScreenQuadBuffer.setArrayInformation([{offset:0,format:`float32x3`}]),t.fullScreenQuadBuffer}}var wge={device:null,fullScreenQuadBuffer:null};function Z4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,wge,n),uq(e,t),gq(e,t,[`device`]),Cge(e,t)}var Q4={newInstance:wq(Z4),extend:Z4,...yge,...F4},{BufferUsage:Tge}=Q4,{vtkErrorMacro:$4}=$;function Ege(e,t){t.classHierarchy.push(`vtkWebGPUStorageBuffer`),e.addEntry=(e,n)=>{if(t._bufferEntryNames.has(e)){$4(`entry named ${e} already exists`);return}t._bufferEntryNames.set(e,t.bufferEntries.length);let r=k4.getByteStrideFromShaderFormat(n);t.bufferEntries.push({name:e,type:n,sizeInBytes:r,offset:t.sizeInBytes,nativeType:k4.getNativeTypeFromShaderFormat(n)}),t.sizeInBytes+=r},e.send=e=>{if(!t._buffer){let n={nativeArray:t.Float32Array,usage:Tge.Storage,label:t.label};t._buffer=e.getBufferManager().getBuffer(n),t.bindGroupTime.modified(),t._sendTime.modified();return}e.getHandle().queue.writeBuffer(t._buffer.getHandle(),0,t.arrayBuffer,0,t.sizeInBytes*t.numberOfInstances),t._sendTime.modified()},e.createView=e=>{e in t||(t.arrayBuffer||=new ArrayBuffer(t.sizeInBytes*t.numberOfInstances),t[e]=$.newTypedArray(e,t.arrayBuffer))},e.setValue=(n,r,i)=>{let a=t._bufferEntryNames.get(n);if(a===void 0){$4(`entry named ${n} not found in UBO`);return}let o=t.bufferEntries[a];e.createView(o.nativeType);let s=t[o.nativeType];s[(o.offset+r*t.sizeInBytes)/s.BYTES_PER_ELEMENT]=i},e.setArray=(n,r,i)=>{let a=t._bufferEntryNames.get(n);if(a===void 0){$4(`entry named ${n} not found in UBO`);return}let o=t.bufferEntries[a];e.createView(o.nativeType);let s=t[o.nativeType],c=(o.offset+r*t.sizeInBytes)/s.BYTES_PER_ELEMENT;for(let e=0;e<i.length;e++)s[c+e]=i[e]},e.setAllInstancesFromArray=(n,r)=>{let i=t._bufferEntryNames.get(n);if(i===void 0){$4(`entry named ${n} not found in UBO`);return}let a=t.bufferEntries[i];e.createView(a.nativeType);let o=t[a.nativeType],s=r.length/t.numberOfInstances;for(let e=0;e<t.numberOfInstances;e++){let n=(a.offset+e*t.sizeInBytes)/o.BYTES_PER_ELEMENT;for(let t=0;t<s;t++)o[n+t]=r[e*s+t]}},e.setAllInstancesFromArrayColorToFloat=(n,r)=>{let i=t._bufferEntryNames.get(n);if(i===void 0){$4(`entry named ${n} not found in UBO`);return}let a=t.bufferEntries[i];e.createView(a.nativeType);let o=t[a.nativeType],s=r.length/t.numberOfInstances;for(let e=0;e<t.numberOfInstances;e++){let n=(a.offset+e*t.sizeInBytes)/o.BYTES_PER_ELEMENT;for(let t=0;t<s;t++)o[n+t]=r[e*s+t]/255}},e.setAllInstancesFromArray3x3To4x4=(n,r)=>{let i=t._bufferEntryNames.get(n);if(i===void 0){$4(`entry named ${n} not found in UBO`);return}let a=t.bufferEntries[i];e.createView(a.nativeType);let o=t[a.nativeType];for(let e=0;e<t.numberOfInstances;e++){let n=(a.offset+e*t.sizeInBytes)/o.BYTES_PER_ELEMENT;for(let t=0;t<3;t++)for(let i=0;i<3;i++)o[n+t*4+i]=r[e*9+t*3+i]}},e.getSendTime=()=>t._sendTime.getMTime(),e.getShaderCode=(e,n)=>{let r=[`struct ${t.label}StructEntry\n{`];for(let e=0;e<t.bufferEntries.length;e++){let n=t.bufferEntries[e];r.push(`  ${n.name}: ${n.type},`)}return r.push(`
};
struct ${t.label}Struct
{
  values: array<${t.label}StructEntry>,
};
@binding(${e}) @group(${n}) var<storage, read> ${t.label}: ${t.label}Struct;
`),r.join(`
`)},e.getBindGroupEntry=()=>({resource:{buffer:t._buffer.getHandle()}}),e.clearData=()=>{t.numberOfInstances=0,t.sizeInBytes=0,t.bufferEntries=[],t._bufferEntryNames=new Map,t._buffer=null,delete t.arrayBuffer,delete t.Float32Array}}var Dge={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,label:null,numberOfInstances:1};function e3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Dge,n),$.obj(e,t),t._bufferEntryNames=new Map,t.bufferEntries=[],t._sendTime={},$.obj(t._sendTime,{mtime:0}),t.bindGroupTime={},$.obj(t.bindGroupTime,{mtime:0}),t.bindGroupLayoutEntry=t.bindGroupLayoutEntry||{buffer:{type:`read-only-storage`}},$.get(e,t,[`bindGroupTime`]),$.setGet(e,t,[`device`,`bindGroupLayoutEntry`,`label`,`numberOfInstances`,`sizeInBytes`]),Ege(e,t)}var t3={newInstance:$.newInstance(e3,`vtkWebGPUStorageBuffer`),extend:e3},{BufferUsage:Oge}=Q4,{vtkErrorMacro:n3}=$;function kge(e,t){t.classHierarchy.push(`vtkWebGPUUniformBuffer`),e.addEntry=(e,n)=>{if(t._bufferEntryNames.has(e)){n3(`entry named ${e} already exists`);return}t.sortDirty=!0,t._bufferEntryNames.set(e,t.bufferEntries.length),t.bufferEntries.push({name:e,type:n,sizeInBytes:k4.getByteStrideFromShaderFormat(n),offset:-1,nativeType:k4.getNativeTypeFromShaderFormat(n),packed:!1})},e.sortBufferEntries=()=>{if(!t.sortDirty)return;let e=0,n=[],r=4;for(let e=0;e<t.bufferEntries.length;e++){let n=t.bufferEntries[e];n.sizeInBytes%16==0&&(r=Math.max(16,r)),n.sizeInBytes%8==0&&(r=Math.max(8,r))}for(let r=0;r<t.bufferEntries.length;r++){let i=t.bufferEntries[r];i.packed===!1&&i.sizeInBytes%16==0&&(i.packed=!0,i.offset=e,n.push(i),e+=i.sizeInBytes)}for(let r=0;r<t.bufferEntries.length;r++){let i=t.bufferEntries[r];if(i.packed===!1&&i.sizeInBytes===12)for(let r=0;r<t.bufferEntries.length;r++){let a=t.bufferEntries[r];if(a.packed===!1&&a.sizeInBytes===4){i.packed=!0,i.offset=e,n.push(i),e+=i.sizeInBytes,a.packed=!0,a.offset=e,n.push(a),e+=a.sizeInBytes;break}}}for(let r=0;r<t.bufferEntries.length;r++){let i=t.bufferEntries[r];if(!i.packed&&i.sizeInBytes%8==0)for(let a=r+1;a<t.bufferEntries.length;a++){let r=t.bufferEntries[a];if(!r.packed&&r.sizeInBytes%8==0){i.packed=!0,i.offset=e,n.push(i),e+=i.sizeInBytes,r.packed=!0,r.offset=e,n.push(r),e+=r.sizeInBytes;break}}}for(let r=0;r<t.bufferEntries.length;r++){let i=t.bufferEntries[r];if(!i.packed&&i.sizeInBytes%8==0){let r=!1;for(let a=0;!r&&a<t.bufferEntries.length;a++){let o=t.bufferEntries[a];if(!o.packed&&o.sizeInBytes===4)for(let s=a+1;s<t.bufferEntries.length;s++){let a=t.bufferEntries[s];if(!a.packed&&a.sizeInBytes===4){i.packed=!0,i.offset=e,n.push(i),e+=i.sizeInBytes,o.packed=!0,o.offset=e,n.push(o),e+=o.sizeInBytes,a.packed=!0,a.offset=e,n.push(a),e+=a.sizeInBytes,r=!0;break}}}}}for(let r=0;r<t.bufferEntries.length;r++){let i=t.bufferEntries[r];!i.packed&&i.sizeInBytes>4&&(i.packed=!0,i.offset=e,n.push(i),e+=i.sizeInBytes)}for(let r=0;r<t.bufferEntries.length;r++){let i=t.bufferEntries[r];i.packed||(i.packed=!0,i.offset=e,n.push(i),e+=i.sizeInBytes)}t.bufferEntries=n,t._bufferEntryNames.clear();for(let e=0;e<t.bufferEntries.length;e++)t._bufferEntryNames.set(t.bufferEntries[e].name,e);t.sizeInBytes=e,t.sizeInBytes=r*Math.ceil(t.sizeInBytes/r),t.sortDirty=!1},e.sendIfNeeded=e=>{if(!t.UBO){let n={nativeArray:t.Float32Array,usage:Oge.UniformArray,label:t.label};t.UBO=e.getBufferManager().getBuffer(n),t.bindGroupTime.modified(),t.sendDirty=!1}t.sendDirty&&=(e.getHandle().queue.writeBuffer(t.UBO.getHandle(),0,t.arrayBuffer,0,t.sizeInBytes),!1),t.sendTime.modified()},e.createView=e=>{e in t||(t.arrayBuffer||=new ArrayBuffer(t.sizeInBytes),t[e]=$.newTypedArray(e,t.arrayBuffer))},e.setValue=(n,r)=>{e.sortBufferEntries();let i=t._bufferEntryNames.get(n);if(i===void 0){n3(`entry named ${n} not found in UBO`);return}let a=t.bufferEntries[i];e.createView(a.nativeType);let o=t[a.nativeType];a.lastValue!==r&&(o[a.offset/o.BYTES_PER_ELEMENT]=r,t.sendDirty=!0),a.lastValue=r},e.setArray=(n,r)=>{e.sortBufferEntries();let i=t._bufferEntryNames.get(n);if(i===void 0){n3(`entry named ${n} not found in UBO`);return}let a=t.bufferEntries[i];e.createView(a.nativeType);let o=t[a.nativeType],s=!1;for(let e=0;e<r.length;e++)(!a.lastValue||a.lastValue[e]!==r[e])&&(o[a.offset/o.BYTES_PER_ELEMENT+e]=r[e],s=!0);s&&(t.sendDirty=!0,a.lastValue=[...r])},e.getBindGroupEntry=()=>({resource:{buffer:t.UBO.getHandle()}}),e.getSendTime=()=>t.sendTime.getMTime(),e.getShaderCode=(n,r)=>{e.sortBufferEntries();let i=[`struct ${t.label}Struct\n{`];for(let e=0;e<t.bufferEntries.length;e++){let n=t.bufferEntries[e];i.push(`  ${n.name}: ${n.type},`)}return i.push(`};\n@binding(${n}) @group(${r}) var<uniform> ${t.label}: ${t.label}Struct;`),i.join(`
`)}}var Age={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,label:null,bindGroupLayoutEntry:null,bindGroupEntry:null};function r3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Age,n),$.obj(e,t),t._bufferEntryNames=new Map,t.bufferEntries=[],t.bindGroupLayoutEntry=t.bindGroupLayoutEntry||{buffer:{type:`uniform`}},t.sendTime={},$.obj(t.sendTime,{mtime:0}),t.bindGroupTime={},$.obj(t.bindGroupTime,{mtime:0}),t.sendDirty=!0,t.sortDirty=!0,$.get(e,t,[`binding`,`bindGroupTime`]),$.setGet(e,t,[`bindGroupLayoutEntry`,`device`,`label`,`sizeInBytes`]),kge(e,t)}var i3={newInstance:$.newInstance(r3,`vtkWebGPUUniformBuffer`),extend:r3},{vtkDebugMacro:jge}=Bq,a3=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var computedColor: vec4<f32> = mapperUBO.BackgroundColor;

  //VTK::RenderEncoder::Impl
  return output;
}
`,Mge=`
fn vecToRectCoord(dir: vec3<f32>) -> vec2<f32> {
  var tau: f32 = 6.28318530718;
  var pi: f32 = 3.14159265359;
  var out: vec2<f32> = vec2<f32>(0.0);

  out.x = atan2(dir.z, dir.x) / tau;
  out.x += 0.5;

  var phix: f32 = length(vec2(dir.x, dir.z));
  out.y = atan2(dir.y, phix) / pi + 0.5;

  return out;
}

//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var tcoord: vec4<f32> = vec4<f32>(input.vertexVC.xy, -1, 1);
  var V: vec4<f32> = normalize(mapperUBO.FSQMatrix * tcoord); // vec2<f32>((input.tcoordVS.x - 0.5) * 2, -(input.tcoordVS.y - 0.5) * 2);
  // textureSampleLevel gets rid of some ugly artifacts
  var background = textureSampleLevel(EnvironmentTexture, EnvironmentTextureSampler, vecToRectCoord(V.xyz), 0.0);
  var computedColor: vec4<f32> = vec4<f32>(background.rgb, 1);

  //VTK::RenderEncoder::Impl
  return output;
}
`,o3=new Float64Array(16),s3=new Float64Array(16);function Nge(e){return e.getPositional()?e.getConeAngle()>=90?0:2:1}function Pge(e,t){t.classHierarchy.push(`vtkWebGPURenderer`),e.buildPass=n=>{if(n){if(!t.renderable)return;t.camera=t.renderable.getActiveCamera(),e.updateLights(),e.prepareNodes(),e.addMissingNode(t.camera),e.addMissingNodes(t.renderable.getViewPropsWithNestedProps()),e.removeUnusedNodes(),t.webgpuCamera=e.getViewNodeFor(t.camera,t.webgpuCamera),e.updateStabilizedMatrix()}},e.updateStabilizedMatrix=()=>{let e=t.camera.getClippingRange(),n=t.camera.getPositionByReference(),r=t.camera.getDirectionOfProjectionByReference(),i=[],a=[];IG(a,r,.5*(e[0]+e[1])),NG(i,n,a),JG(a,i,t.stabilizedCenter),ZG(a)/(e[1]-e[0])>t.recenterThreshold&&(t.stabilizedCenter=i,t.stabilizedTime.modified())},e.updateLights=()=>{let e=0,n=t.renderable.getLightsByReference();for(let t=0;t<n.length;++t)n[t].getSwitch()>0&&e++;return e||(jge(`No lights are on, creating one.`),t.renderable.createLight()),e},e.updateUBO=()=>{let n=t.UBO.getSendTime();if(t._parent.getMTime()>n||e.getMTime()>n||t.camera.getMTime()>n||t.renderable.getMTime()>n){let n=t.webgpuCamera.getKeyMatrices(e);t.UBO.setArray(`WCVCMatrix`,n.wcvc),t.UBO.setArray(`SCPCMatrix`,n.scpc),t.UBO.setArray(`PCSCMatrix`,n.pcsc),t.UBO.setArray(`SCVCMatrix`,n.scvc),t.UBO.setArray(`VCPCMatrix`,n.vcpc),t.UBO.setArray(`WCVCNormals`,n.normalMatrix),t.UBO.setValue(`LightCount`,t.renderable.getLights().length),t.UBO.setValue(`MaxEnvironmentMipLevel`,t.renderable.getEnvironmentTexture()?.getMipLevel()),t.UBO.setValue(`BackgroundDiffuseStrength`,t.renderable.getEnvironmentTextureDiffuseStrength()),t.UBO.setValue(`BackgroundSpecularStrength`,t.renderable.getEnvironmentTextureSpecularStrength());let r=e.getYInvertedTiledSizeAndOrigin();t.UBO.setArray(`viewportSize`,[r.usize,r.vsize]),t.UBO.setValue(`cameraParallel`,t.camera.getParallelProjection());let i=t._parent.getDevice();t.UBO.sendIfNeeded(i)}},e.updateSSBO=()=>{let n=t.renderable.getLights(),r=t.webgpuCamera.getKeyMatrices(e),i=`${t.renderable.getMTime()}`;for(let e=0;e<n.length;e++)i+=n[e].getMTime();if(i!==t.lightTimeString){let e=new Float32Array(n.length*4),i=new Float32Array(n.length*4),a=new Float32Array(n.length*4),o=new Float32Array(n.length*4);for(let t=0;t<n.length;t++){let s=t*4,c=n[t].getPosition();UG(c,c,r.wcvc),e[s]=c[0],e[s+1]=c[1],e[s+2]=c[2],e[s+3]=0,i[s]=-n[t].getDirection()[0],i[s+1]=-n[t].getDirection()[1],i[s+2]=-n[t].getDirection()[2],i[s+3]=0,a[s]=n[t].getColor()[0],a[s+1]=n[t].getColor()[1],a[s+2]=n[t].getColor()[2],a[s+3]=n[t].getIntensity()*5,o[s]=Nge(n[t]),o[s+1]=Math.cos(HX(n[t].getConeAngle())),o[s+2]=Math.cos(HX(n[t].getConeAngle()+n[t].getConeFalloff())),o[s+3]=0}t.SSBO.clearData(),t.SSBO.setNumberOfInstances(n.length),t.SSBO.addEntry(`LightPos`,`vec4<f32>`),t.SSBO.addEntry(`LightDir`,`vec4<f32>`),t.SSBO.addEntry(`LightColor`,`vec4<f32>`),t.SSBO.addEntry(`LightData`,`vec4<f32>`),t.SSBO.setAllInstancesFromArray(`LightPos`,e),t.SSBO.setAllInstancesFromArray(`LightDir`,i),t.SSBO.setAllInstancesFromArray(`LightColor`,a),t.SSBO.setAllInstancesFromArray(`LightData`,o);let s=t._parent.getDevice();t.SSBO.send(s)}t.lightTimeString=i},e.scissorAndViewport=t=>{let n=e.getYInvertedTiledSizeAndOrigin();t.getHandle().setViewport(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize,0,1),t.getHandle().setScissorRect(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize)},e.bindUBO=e=>{e.activateBindGroup(t.bindGroup)},e.opaquePass=n=>{n?(t.renderEncoder.begin(t._parent.getCommandEncoder()),e.updateUBO(),e.updateSSBO()):(e.scissorAndViewport(t.renderEncoder),e.clear(),t.renderEncoder.end())},e.clear=()=>{if(t.renderable.getTransparent()||t.suppressClear)return;let n=t._parent.getDevice();if(!t.clearFSQ){t.clearFSQ=P4.newInstance(),t.clearFSQ.setDevice(n),t.clearFSQ.setPipelineHash(`clearfsq`),t.clearFSQ.setFragmentShaderTemplate(a3);let e=i3.newInstance({label:`mapperUBO`});e.addEntry(`FSQMatrix`,`mat4x4<f32>`),e.addEntry(`BackgroundColor`,`vec4<f32>`),t.clearFSQ.setUBO(e),t.backgroundTex=t.renderable.getEnvironmentTexture()}if(t.clearFSQ.getPipelineHash()!==`clearfsqwithtexture`&&t.renderable.getUseEnvironmentTextureAsBackground()&&t.backgroundTex?.getImageLoaded()){t.clearFSQ.setFragmentShaderTemplate(Mge);let e=i3.newInstance({label:`mapperUBO`});e.addEntry(`FSQMatrix`,`mat4x4<f32>`),e.addEntry(`BackgroundColor`,`vec4<f32>`),t.clearFSQ.setUBO(e);let r=n.getTextureManager().getTextureForVTKTexture(t.backgroundTex,`EnvironmentTexture`);if(r.getReady()){let e=r.createView(`EnvironmentTexture`);t.clearFSQ.setTextureViews([e]),t.backgroundTexLoaded=!0;let i=t.backgroundTex.getInterpolate()?`linear`:`nearest`;e.addSampler(n,{addressModeU:`repeat`,addressModeV:`clamp-to-edge`,addressModeW:`repeat`,minFilter:i,magFilter:i,mipmapFilter:`linear`})}t.clearFSQ.setPipelineHash(`clearfsqwithtexture`)}else if(t.clearFSQ.getPipelineHash()===`clearfsqwithtexture`&&!t.renderable.getUseEnvironmentTextureAsBackground()){t.clearFSQ=P4.newInstance(),t.clearFSQ.setDevice(n),t.clearFSQ.setPipelineHash(`clearfsq`),t.clearFSQ.setFragmentShaderTemplate(a3);let e=i3.newInstance({label:`mapperUBO`});e.addEntry(`FSQMatrix`,`mat4x4<f32>`),e.addEntry(`BackgroundColor`,`vec4<f32>`),t.clearFSQ.setUBO(e)}let r=t.webgpuCamera.getKeyMatrices(e),i=t.renderable.getBackgroundByReference();t.clearFSQ.getUBO().setArray(`BackgroundColor`,i),LW(s3,r.normalMatrix),EG(o3,r.scvc,r.pcsc),EG(o3,s3,o3),t.clearFSQ.getUBO().setArray(`FSQMatrix`,o3),t.clearFSQ.getUBO().sendIfNeeded(n),t.clearFSQ.prepareAndDraw(t.renderEncoder)},e.translucentPass=n=>{n?t.renderEncoder.begin(t._parent.getCommandEncoder()):(e.scissorAndViewport(t.renderEncoder),t.renderEncoder.end())},e.volumeDepthRangePass=n=>{n?t.renderEncoder.begin(t._parent.getCommandEncoder()):(e.scissorAndViewport(t.renderEncoder),t.renderEncoder.end())},e.getAspectRatio=()=>{let e=t._parent.getSizeByReference(),n=t.renderable.getViewportByReference();return e[0]*(n[2]-n[0])/((n[3]-n[1])*e[1])},e.convertToOpenGLDepth=e=>t.webgpuCamera.convertToOpenGLDepth(e),e.getYInvertedTiledSizeAndOrigin=()=>{let n=e.getTiledSizeAndOrigin();return n.lowerLeftV=t._parent.getSizeByReference()[1]-n.vsize-n.lowerLeftV,n},e.getTiledSizeAndOrigin=()=>{let e=t.renderable.getViewportByReference(),n=[0,0,1,1],r=e[0]-n[0],i=e[1]-n[1],a=t._parent.normalizedDisplayToDisplay(r,i),o=Math.round(a[0]),s=Math.round(a[1]),c=e[2]-n[0],l=e[3]-n[1],u=t._parent.normalizedDisplayToDisplay(c,l),d=Math.round(u[0])-o,f=Math.round(u[1])-s;return d<0&&(d=0),f<0&&(f=0),{usize:d,vsize:f,lowerLeftU:o,lowerLeftV:s}},e.getPropFromID=e=>{for(let n=0;n<t.children.length;n++)if((t.children[n].getPropID?t.children[n].getPropID():-1)===e)return t.children[n];return null},e.getStabilizedTime=()=>t.stabilizedTime.getMTime(),e.releaseGraphicsResources=()=>{t.selector!==null&&t.selector.releaseGraphicsResources()}}var Fge={bindGroup:null,selector:null,renderEncoder:null,recenterThreshold:20,suppressClear:!1,stabilizedCenter:[0,0,0]};function Ige(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Fge,n),Kq.extend(e,t,n),t.UBO=i3.newInstance({label:`rendererUBO`}),t.UBO.addEntry(`WCVCMatrix`,`mat4x4<f32>`),t.UBO.addEntry(`SCPCMatrix`,`mat4x4<f32>`),t.UBO.addEntry(`PCSCMatrix`,`mat4x4<f32>`),t.UBO.addEntry(`SCVCMatrix`,`mat4x4<f32>`),t.UBO.addEntry(`VCPCMatrix`,`mat4x4<f32>`),t.UBO.addEntry(`WCVCNormals`,`mat4x4<f32>`),t.UBO.addEntry(`viewportSize`,`vec2<f32>`),t.UBO.addEntry(`LightCount`,`i32`),t.UBO.addEntry(`MaxEnvironmentMipLevel`,`f32`),t.UBO.addEntry(`BackgroundDiffuseStrength`,`f32`),t.UBO.addEntry(`BackgroundSpecularStrength`,`f32`),t.UBO.addEntry(`cameraParallel`,`u32`),t.SSBO=t3.newInstance({label:`rendererLightSSBO`}),t.lightTimeString=``,t.bindGroup=x4.newInstance({label:`rendererBG`}),t.bindGroup.setBindables([t.UBO,t.SSBO]),t.tmpMat4=IW(new Float64Array(16)),t.stabilizedTime={},uq(t.stabilizedTime,{mtime:0}),fq(e,t,[`bindGroup`,`stabilizedTime`]),_q(e,t,[`stabilizedCenter`]),gq(e,t,[`renderEncoder`,`selector`,`suppressClear`,`UBO`]),Pge(e,t)}v4(`vtkRenderer`,wq(Ige,`vtkWebGPURenderer`));var{CoordinateSystem:c3}=V$;function Lge(e,t){t.classHierarchy.push(`vtkWebGPUActor`),e.buildPass=n=>{n&&(t.WebGPURenderer=e.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getFirstAncestorOfType(`vtkWebGPURenderWindow`),t.propID===void 0&&(t.propID=t.WebGPURenderWindow.getUniquePropID()),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes())},e.traverseOpaquePass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||!t.renderable.getIsOpaque()||t.WebGPURenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children[0]&&t.children[0].traverse(n),e.apply(n,!1))},e.traverseTranslucentPass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t.WebGPURenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children[0]&&t.children[0].traverse(n),e.apply(n,!1))},e.queryPass=(e,n)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.getBufferShift=n=>(e.getKeyMatrices(n),t.bufferShift),e.getKeyMatrices=e=>{if(Math.max(t.renderable.getMTime(),e.getStabilizedTime())>t.keyMatricesTime.getMTime()){t.renderable.computeMatrix();let n=t.renderable.getMatrix();t.bufferShift[0]=n[3],t.bufferShift[1]=n[7],t.bufferShift[2]=n[11];let r=e.getStabilizedCenterByReference();t.renderable.getCoordinateSystem()===c3.WORLD&&(t.bufferShift[0]-=r[0],t.bufferShift[1]-=r[1],t.bufferShift[2]-=r[2]),LW(t.keyMatrices.bcwc,n),t.renderable.getIsIdentity()?IW(t.keyMatrices.normalMatrix):(NW(t.keyMatrices.normalMatrix,t.keyMatrices.bcwc),t.keyMatrices.normalMatrix[3]=0,t.keyMatrices.normalMatrix[7]=0,t.keyMatrices.normalMatrix[11]=0,RW(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),LW(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix)),HW(t.keyMatrices.bcwc,t.keyMatrices.bcwc,[-t.bufferShift[0],-t.bufferShift[1],-t.bufferShift[2]]),t.renderable.getCoordinateSystem()===c3.WORLD?HW(t.keyMatrices.bcsc,t.keyMatrices.bcwc,[-r[0],-r[1],-r[2]]):NW(t.keyMatrices.bcsc,t.keyMatrices.bcwc),t.keyMatricesTime.modified()}return t.keyMatrices}}var Rge={keyMatricesTime:null,keyMatrices:null,propID:void 0,bufferShift:void 0};function zge(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Rge,n),Kq.extend(e,t,n),t.keyMatricesTime={},$.obj(t.keyMatricesTime,{mtime:0}),t.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},$.get(e,t,[`propID`,`keyMatricesTime`]),t.bufferShift=[0,0,0,0],Lge(e,t)}v4(`vtkActor`,$.newInstance(zge));var{CoordinateSystem:l3}=V$;function Bge(e,t){t.classHierarchy.push(`vtkWebGPUActor2D`),e.buildPass=n=>{n&&(t.WebGPURenderer=e.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getFirstAncestorOfType(`vtkWebGPURenderWindow`),t.propID===void 0&&(t.propID=t.WebGPURenderWindow.getUniquePropID()),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes())},e.traverseOpaquePass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||!t.renderable.getIsOpaque()||t.WebGPURenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children[0]&&t.children[0].traverse(n),e.apply(n,!1))},e.traverseTranslucentPass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t.WebGPURenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children[0]&&t.children[0].traverse(n),e.apply(n,!1))},e.queryPass=(e,n)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.getBufferShift=n=>(e.getKeyMatrices(n),t.bufferShift),e.getKeyMatrices=e=>{if(Math.max(t.renderable.getMTime(),e.getStabilizedTime())>t.keyMatricesTime.getMTime()){t.bufferShift[0]=0,t.bufferShift[1]=0,t.bufferShift[2]=0;let n=e.getStabilizedCenterByReference();t.renderable.getCoordinateSystem()===l3.WORLD&&(t.bufferShift[0]-=n[0],t.bufferShift[1]-=n[1],t.bufferShift[2]-=n[2]),IW(t.keyMatrices.bcwc),IW(t.keyMatrices.normalMatrix),HW(t.keyMatrices.bcwc,t.keyMatrices.bcwc,[-t.bufferShift[0],-t.bufferShift[1],-t.bufferShift[2]]),t.renderable.getCoordinateSystem()===l3.WORLD?HW(t.keyMatrices.bcsc,t.keyMatrices.bcwc,[-n[0],-n[1],-n[2]]):NW(t.keyMatrices.bcsc,t.keyMatrices.bcwc),t.keyMatricesTime.modified()}return t.keyMatrices}}var Vge={keyMatricesTime:null,keyMatrices:null,propID:void 0,bufferShift:void 0};function Hge(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Vge,n),Kq.extend(e,t,n),t.keyMatricesTime={},$.obj(t.keyMatricesTime,{mtime:0}),t.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},$.get(e,t,[`propID`,`keyMatricesTime`]),t.bufferShift=[0,0,0,0],Bge(e,t)}v4(`vtkActor2D`,$.newInstance(Hge));function Uge(e,t){t.classHierarchy.push(`vtkWebGPUCubeAxesActor`),e.buildPass=n=>{n&&(t.WebGPURenderer=e.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getParent(),t.CubeAxesActorHelper.getRenderable()||t.CubeAxesActorHelper.setRenderable(t.renderable),e.prepareNodes(),e.addMissingNode(t.CubeAxesActorHelper.getTmActor()),e.addMissingNode(t.renderable.getGridActor()),e.removeUnusedNodes())},e.opaquePass=(e,n)=>{if(e){let e=t.WebGPURenderer?t.WebGPURenderer.getRenderable().getActiveCamera():null,n=t.WebGPURenderer.getTiledSizeAndOrigin();t.CubeAxesActorHelper.updateAPISpecificData([n.usize,n.vsize],e,t.WebGPURenderWindow.getRenderable())}}}var Wge={};function Gge(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Wge,n),Kq.extend(e,t,n),t.CubeAxesActorHelper=f2.newCubeAxesActorHelper(),Uge(e,t)}v4(`vtkCubeAxesActor`,wq(Gge,`vtkWebGPUCubeAxesActor`));var{DisplayLocation:u3}=i4;function Kge(e,t){t.classHierarchy.push(`vtkProperty2D`),e.setDisplayLocationToBackground=()=>e.setDisplayLocation(u3.BACKGROUND),e.setDisplayLocationToForeground=()=>e.setDisplayLocation(u3.FOREGROUND),e.setRepresentationToWireframe=()=>e.setRepresentation(G$.WIREFRAME),e.setRepresentationToSurface=()=>e.setRepresentation(G$.SURFACE),e.setRepresentationToPoints=()=>e.setRepresentation(G$.POINTS),e.getRepresentationAsString=()=>$.enumToString(G$,t.representation)}var qge={color:[1,1,1],opacity:1,pointSize:1,lineWidth:1,representation:G$.SURFACE,displayLocation:u3.FOREGROUND};function d3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,qge,n),$.obj(e,t),$.setGet(e,t,[`opacity`,`lineWidth`,`pointSize`,`displayLocation`,`representation`]),$.setGetArray(e,t,[`color`],3),Kge(e,t)}var Jge={newInstance:$.newInstance(d3,`vtkProperty2D`),extend:d3,...i4},{BufferUsage:f3,PrimitiveTypes:p3}=Q4,{Representation:m3}=Z$,{ScalarMode:h3}=u0,{CoordinateSystem:Yge}=V$,{DisplayLocation:g3}=Jge,Xge=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@vertex
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : vertexOutput;

  var vertex: vec4<f32> = vertexBC;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  //VTK::Position::Impl

  return output;
}
`,Zge=`
struct PBRData {
  diffuse: vec3<f32>,
  specular: vec3<f32>,
}

struct Material {
  ior: f32,
  roughness: f32,
  metallic: f32,
  base: vec3<f32>,
};

struct DirectionalLight {
  direction: vec3<f32>,
  color: vec3<f32>,
};

struct PointLight {
  position: vec3<f32>,
  color: vec3<f32>,
};

struct SpotLight {
  position: vec3<f32>,
  direction: vec3<f32>,
  cones: vec2<f32>,
  color: vec3<f32>,
};

const pi: f32 = 3.14159265359;

// Dot product with the max already in it
fn mdot(a: vec3<f32>, b: vec3<f32>) -> f32 {
  return max(0.0, dot(a, b));
}
// Dot product with a max in it that does not allow for negative values
// Physically based rendering is accurate as long as normals are accurate,
// however this is pretty often not the case. In order to prevent negative
// values from ruining light calculations and creating zones of zero light,
// this remapping is used, which smoothly clamps the dot product between
// zero and one while still maintaining a good amount of accuracy.
fn cdot(a: vec3<f32>, b: vec3<f32>) -> f32 {
  var d: f32 = max(0.0, dot(a, b));
  d = pow((d + 1.0) / 2.0, 2.6);
  return d;
}

// Lambertian diffuse model
fn lambertDiffuse(base: vec3<f32>, N: vec3<f32>, L: vec3<f32>) -> vec3<f32> {
  var NdotL: f32 = mdot(N, L);
  NdotL = pow(NdotL, 1.5);
  return (base/pi)*NdotL;
}

// Yasuhiro Fujii improvement on the Oren-Nayar model
// https://mimosa-pudica.net/improved-oren-nayar.html
// p is surface color, o is roughness
fn fujiiOrenNayar(p: vec3<f32>, o: f32, N: vec3<f32>, L: vec3<f32>, V: vec3<f32>) -> vec3<f32> {
  var invpi: f32 = 0.31830988618; // 1/pi

  var o2 = o*o;
  var NdotL: f32 = mdot(N, L);
  NdotL = pow(NdotL, 1.5); // Less physically accurate, but hides the "seams" between lights better

  var NdotV: f32 = mdot(N, V);
  var LdotV: f32 = mdot(L, V);

  var s: f32 = LdotV - NdotL*NdotV;
  var t: f32 = mix(1.0, max(NdotL, NdotV), step(0.0, s)); // Mix with step is the equivalent of an if statement
  var A: vec3<f32> = 0.5*(o2 / (o2 + 0.33)) + 0.17*p*(o2 / (o2 + 0.13));
  A = invpi*(1 - A);
  var B: f32 = 0.45*(o2 / (o2 + 0.09));
  B = invpi*B;

  return p*NdotL*(A + B*(s/t));
}

// Fresnel portion of BRDF (IOR only, simplified)
fn schlickFresnelIOR(V: vec3<f32>, N: vec3<f32>, ior: f32, k: f32) -> f32 {
  var NdotV: f32 = mdot(V, N);
  var F0: f32 = (pow((ior - 1.0), 2.0) + k*k) / (pow((ior + 1.0), 2.0) + k*k); // This takes into account the roughness, which the other one does not
  return F0 + (1.0 - F0) * pow((1.0-NdotV), 5.0);
}

// Fresnel portion of BRDF (Color ior, better)
fn schlickFresnelRGB(V: vec3<f32>, N: vec3<f32>, F0: vec3<f32>) -> vec3<f32> {
  var NdotV: f32 = mdot(V, N);
  return F0 + (1.0 - F0) * pow((1-NdotV), 5.0);
}

// Normal portion of BRDF
// https://learnopengl.com/PBR/Theory
// Trowbridge-Reitz GGX functions: normal, halfway, roughness^2
fn trGGX(N: vec3<f32>, H: vec3<f32>, a: f32) -> f32 {
  var a2: f32 = a*a;
  var NdotH = mdot(N, H);
  var NdotH2 = NdotH*NdotH;

  var denom: f32 = NdotH2 * (a2 - 1.0) + 1.0;

  return a2 / max((pi*denom*denom), 0.000001);
}

// A VERY bad approximation of anisotropy. Real anisotropic calculations require tangent and bitangent
fn anisotrophicTrGGX(N: vec3<f32>, H: vec3<f32>, O: vec3<f32>, s: f32, a: f32) -> f32 {
  var Op: vec3<f32> = (rendererUBO.WCVCNormals * vec4<f32>(normalize(O) * s, 0.)).xyz;

  var ggx1: f32 = trGGX(N + Op*s, H, a);
  var ggx2: f32 = trGGX(N - Op*s, H, a);
  return (0.5 * ggx1 + 0.5 * ggx2);
}

// Geometry portion of BRDF
fn schlickGGX(N: vec3<f32>, X: vec3<f32>, k: f32) -> f32 {
  var NdotX = cdot(N, X);
  return NdotX / max(0.000001, (NdotX*(1.0-k) + k));
}

fn smithSurfaceRoughness(N: vec3<f32>, V: vec3<f32>, L: vec3<f32>, k: f32) -> f32 {
  var ggx1: f32 = min(1.0, schlickGGX(N, V, k));
  var ggx2: f32 = min(1.0, schlickGGX(N, L, k));
  return ggx1*ggx2;
}

// BRDF Combination
fn cookTorrance(D: f32, F: f32, G: f32, N: vec3<f32>, V: vec3<f32>, L: vec3<f32>) -> f32 {
  var num: f32 = D*F*G;
  var denom: f32 = 4*cdot(V, N)*cdot(L, N);

  return num / max(denom, 0.000001);
}

// Different lighting calculations for different light sources
fn calcDirectionalLight(N: vec3<f32>, V: vec3<f32>, mat: Material, light: DirectionalLight) -> PBRData {
  var L: vec3<f32> = normalize(light.direction); // Light Vector
  var H: vec3<f32> = normalize(L + V); // Halfway Vector

  var alpha = mat.roughness * mat.roughness;
  var k: f32 = alpha * alpha / 2.0;

  var D: f32 = trGGX(N, H, alpha); // Distribution
  // var F: f32 = schlickFresnelIOR(V, N, ior, k); // Fresnel
  var G: f32 = smithSurfaceRoughness(N, V, L, k); // Geometry

  var brdf: f32 = cookTorrance(D, 1.0, G, N, V, L); // Fresnel term is replaced with 1 because it is added later
  var incoming: vec3<f32> = light.color;
  var angle: f32 = mdot(L, N);
  angle = pow(angle, 1.5);

  var specular: vec3<f32> = brdf * incoming * angle;
  // Oren-Nayar gives a clay-like effect when fully rough which some people may not want, so it might be better to give a separate
  // control property for the diffuse vs specular roughness
  var diffuse: vec3<f32> = incoming * fujiiOrenNayar(mat.base, mat.roughness, N, L, V);
  // Stores the specular and diffuse separately to allow for finer post processing
  var out = PBRData(diffuse, specular);

  return out; // Returns angle along with color of light so the final color can be multiplied by angle as well (creates black areas)
}

fn calcPointLight(N: vec3<f32>, V: vec3<f32>, fragPos: vec3<f32>, mat: Material, light: PointLight) -> PBRData {
  var L: vec3<f32> = normalize(light.position - fragPos);
  var H: vec3<f32> = normalize(L + V);
  var dist = distance(light.position, fragPos);

  var alpha = mat.roughness * mat.roughness;
  var k: f32 = alpha * alpha / 2.0;

  var D: f32 = trGGX(N, H, alpha); // Distribution
  var F: f32 = schlickFresnelIOR(V, N, mat.ior, k); // Fresnel
  var G: f32 = smithSurfaceRoughness(N, V, L, k); // Geometry

  var brdf: f32 = cookTorrance(D, 1.0, G, N, V, L);
  var incoming: vec3<f32> = light.color * (1.0 / (dist * dist));
  var angle: f32 = mdot(L, N);
  angle = pow(angle, 1.5); // Smoothing factor makes it less accurate, but reduces ugly "seams" between light sources

  var specular: vec3<f32> = brdf * incoming * angle;
  var diffuse: vec3<f32> = incoming * fujiiOrenNayar(mat.base, mat.roughness, N, L, V);
  // Stores the specular and diffuse separately to allow for finer post processing
  // Could also be done (propably more properly) with a struct
  var out = PBRData(diffuse, specular);

  return out; // Returns angle along with color of light so the final color can be multiplied by angle as well (creates black areas)
}

// For a reason unknown to me, spheres dont seem to behave propperly with head-on spot lights
fn calcSpotLight(N: vec3<f32>, V: vec3<f32>, fragPos: vec3<f32>, mat: Material, light: SpotLight) -> PBRData {
  var L: vec3<f32> = normalize(light.position - fragPos);
  var H: vec3<f32> = normalize(L + V); // Halfway Vector
  var dist = distance(light.position, fragPos);

  var alpha = mat.roughness * mat.roughness;
  var k: f32 = alpha * alpha / 2.0; // could also be pow(alpha + 1.0, 2) / 8

  var D: f32 = trGGX(N, H, alpha); // Distribution
  // var F: f32 = schlickFresnelIOR(V, N, ior, k); // Fresnel
  var G: f32 = smithSurfaceRoughness(N, V, L, k); // Geometry

  var brdf: f32 = cookTorrance(D, 1.0, G, N, V, L);

  var theta: f32 = mdot(normalize(light.direction), L);
  var epsilon: f32 = light.cones.x - light.cones.y;
  var intensity: f32 = (theta - light.cones.y) / epsilon;
  intensity = clamp(intensity, 0.0, 1.0);
  intensity /= dist * dist;

  var incoming: vec3<f32> = light.color * intensity;

  var angle: f32 = mdot(L, N);
  angle = pow(angle, 1.5); // Smoothing factor makes it less accurate, but reduces ugly "seams" between light sources

  var specular: vec3<f32> = brdf * incoming * angle;
  var diffuse: vec3<f32> = incoming * fujiiOrenNayar(mat.base, mat.roughness, N, L, V);

  // Stores the specular and diffuse separately to allow for finer post processing
  // Could also be done (propably more properly) with a struct
  var out = PBRData(diffuse, specular);

  return out; // Returns angle along with color of light so the final color can be multiplied by angle as well (creates black areas)
}

// Environment mapping stuff
// Takes in a vector and converts it to an equivalent coordinate in a rectilinear texture. Should be replaced with cubemaps at some point
fn vecToRectCoord(dir: vec3<f32>) -> vec2<f32> {
  var tau: f32 = 6.28318530718;
  var out: vec2<f32> = vec2<f32>(0.0);

  out.x = atan2(dir.z, dir.x) / tau;
  out.x += 0.5;

  var phix: f32 = length(vec2(dir.x, dir.z));
  out.y = atan2(dir.y, phix) / pi + 0.5;

  return out;
}

//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::TCoord::Dec

// optional surface normal declaration
//VTK::Normal::Dec

//VTK::Select::Dec

//VTK::RenderEncoder::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : fragmentOutput;

  // Temporary ambient, diffuse, and opacity
  var ambientColor: vec4<f32> = mapperUBO.AmbientColor;
  var diffuseColor: vec4<f32> = mapperUBO.DiffuseColor;
  var opacity: f32 = mapperUBO.Opacity;
  var ior: f32 = mapperUBO.BaseIOR;

  // This should be declared somewhere else
  var _diffuseMap: vec4<f32> = vec4<f32>(1.0);
  var _roughnessMap: vec4<f32> = vec4<f32>(1.0);
  var _metallicMap: vec4<f32> = vec4<f32>(1.0);
  var _normalMap: vec4<f32> = vec4<f32>(0.0, 0.0, 1.0, 0.0); // normal map was setting off the normal vector detection in fragment
  var _ambientOcclusionMap: vec4<f32> = vec4<f32>(1.);
  var _emissionMap: vec4<f32> = vec4<f32>(0.);

  //VTK::Color::Impl

  //VTK::TCoord::Impl

  //VTK::Normal::Impl

  var computedColor: vec4<f32> = vec4<f32>(diffuseColor.rgb, 1.0);

  //VTK::Light::Impl

  //VTK::Select::Impl

  // Use texture alpha for transparency
  computedColor.a = mapperUBO.Opacity * _diffuseMap.a;
  if (computedColor.a == 0.0) { discard; };

  //VTK::Position::Impl

  //VTK::RenderEncoder::Impl

  return output;
}
`;function _3(e){return e.indexOf(`edge`)>=0}function Qge(e,t){t.classHierarchy.push(`vtkWebGPUCellArrayMapper`),e.buildPass=n=>{n&&(t.is2D?(t.WebGPUActor=e.getFirstAncestorOfType(`vtkWebGPUActor2D`),t.forceZValue=!0):(t.WebGPUActor=e.getFirstAncestorOfType(`vtkWebGPUActor`),t.forceZValue=!1),t.coordinateSystem=t.WebGPUActor.getRenderable().getCoordinateSystem(),t.useRendererMatrix=t.coordinateSystem!==Yge.DISPLAY,t.WebGPURenderer=t.WebGPUActor.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getParent(),t.device=t.WebGPURenderWindow.getDevice())},e.translucentPass=n=>{n&&(e.prepareToDraw(t.WebGPURenderer.getRenderEncoder()),t.renderEncoder.registerDrawCallback(t.pipeline,e.draw))},e.opaquePass=n=>{n&&(e.prepareToDraw(t.WebGPURenderer.getRenderEncoder()),t.renderEncoder.registerDrawCallback(t.pipeline,e.draw))},e.updateUBO=()=>{let n=t.WebGPUActor.getRenderable().getProperty(),r=t.UBO.getSendTime();if(e.getMTime()<=r&&n.getMTime()<=r&&t.renderable.getMTime()<=r)return;let i=t.WebGPUActor.getKeyMatrices(t.WebGPURenderer);if(t.UBO.setArray(`BCWCMatrix`,i.bcwc),t.UBO.setArray(`BCSCMatrix`,i.bcsc),t.UBO.setArray(`MCWCNormals`,i.normalMatrix),t.is2D){let e=n.getDisplayLocation?.()??g3.BACKGROUND;t.UBO.setValue(`ZValue`,e===g3.FOREGROUND?1:0);let r=n.getColorByReference();t.UBO.setValue(`AmbientIntensity`,1),t.UBO.setArray(`DiffuseColor`,[...r,1]),t.UBO.setValue(`DiffuseIntensity`,0),t.UBO.setValue(`SpecularIntensity`,0)}else t.UBO.setValue(`AmbientIntensity`,n.getAmbient()),t.UBO.setArray(`AmbientColor`,[...n.getAmbientColorByReference(),1]),t.UBO.setValue(`DiffuseIntensity`,n.getDiffuse()),t.UBO.setArray(`DiffuseColor`,[...n.getDiffuseColorByReference(),1]),t.UBO.setValue(`Roughness`,n.getRoughness()),t.UBO.setValue(`BaseIOR`,n.getBaseIOR()),t.UBO.setValue(`Metallic`,n.getMetallic()),t.UBO.setValue(`NormalStrength`,n.getNormalStrength()),t.UBO.setValue(`Emission`,n.getEmission()),t.UBO.setValue(`SpecularIntensity`,n.getSpecular()),n.getSpecularColorByReference()&&t.UBO.setArray(`SpecularColor`,[...n.getSpecularColorByReference(),1]);let a=n.getEdgeColorByReference?.();a&&t.UBO.setArray(`EdgeColor`,[...a,1]),t.UBO.setValue(`LineWidth`,n.getLineWidth()),t.UBO.setValue(`Opacity`,n.getOpacity()),t.UBO.setValue(`PropID`,t.WebGPUActor.getPropID()),t.UBO.sendIfNeeded(t.WebGPURenderWindow.getDevice())},e.haveWideLines=()=>{let e=t.WebGPUActor.getRenderable(),n=e.getProperty().getRepresentation();return e.getProperty().getLineWidth()<=1||t.primitiveType===p3.Verts?!1:t.primitiveType===p3.Triangles||t.primitiveType===p3.TriangleStrips?n===m3.WIREFRAME:!0},e.replaceShaderPosition=(n,r,i)=>{let a=r.getShaderDescription(`vertex`);a.addBuiltinOutput(`vec4<f32>`,`@builtin(position) Position`),a.hasOutput(`vertexVC`)||a.addOutput(`vec4<f32>`,`vertexVC`);let o=a.getCode();t.useRendererMatrix?(o=w4.substitute(o,`//VTK::Position::Impl`,[`    var pCoord: vec4<f32> = rendererUBO.SCPCMatrix*mapperUBO.BCSCMatrix*vertexBC;`,`    output.vertexVC = rendererUBO.SCVCMatrix * mapperUBO.BCSCMatrix * vec4<f32>(vertexBC.xyz, 1.0);`,`//VTK::Position::Impl`]).result,t.forceZValue&&(o=w4.substitute(o,`//VTK::Position::Impl`,[`pCoord = vec4<f32>(pCoord.xyz/pCoord.w, 1.0);`,`pCoord.z = mapperUBO.ZValue;`,`//VTK::Position::Impl`]).result)):(o=w4.substitute(o,`//VTK::Position::Impl`,[`    var pCoord: vec4<f32> = mapperUBO.BCSCMatrix*vertexBC;`,`    pCoord.x = 2.0* pCoord.x / rendererUBO.viewportSize.x - 1.0;`,`    pCoord.y = 2.0* pCoord.y / rendererUBO.viewportSize.y - 1.0;`,`    pCoord.z = 0.5 - 0.5 * pCoord.z;`,`//VTK::Position::Impl`]).result,t.forceZValue&&(o=w4.substitute(o,`//VTK::Position::Impl`,[`    pCoord.z = mapperUBO.ZValue;`,`//VTK::Position::Impl`]).result)),e.haveWideLines()&&(a.addBuiltinInput(`u32`,`@builtin(instance_index) instanceIndex`),o=w4.substitute(o,`//VTK::Position::Impl`,[`    var tmpPos: vec4<f32> = pCoord;`,`    var numSteps: f32 = ceil(mapperUBO.LineWidth - 1.0);`,`    var offset: f32 = (mapperUBO.LineWidth - 1.0) * (f32(input.instanceIndex / 2u) - numSteps/2.0) / numSteps;`,`    var tmpPos2: vec3<f32> = tmpPos.xyz / tmpPos.w;`,`    tmpPos2.x = tmpPos2.x + 2.0 * (f32(input.instanceIndex) % 2.0) * offset / rendererUBO.viewportSize.x;`,`    tmpPos2.y = tmpPos2.y + 2.0 * (f32(input.instanceIndex + 1u) % 2.0) * offset / rendererUBO.viewportSize.y;`,`    tmpPos2.z = min(1.0, tmpPos2.z + 0.00001);`,`    pCoord = vec4<f32>(tmpPos2.xyz * tmpPos.w, tmpPos.w);`,`//VTK::Position::Impl`]).result),o=w4.substitute(o,`//VTK::Position::Impl`,[`    output.Position = pCoord;`]).result,a.setCode(o)},t.shaderReplacements.set(`replaceShaderPosition`,e.replaceShaderPosition),e.replaceShaderNormal=(e,n,r)=>{let i=r.getBuffer(`normalMC`),a=t.WebGPUActor.getRenderable();if(i){let e=n.getShaderDescription(`vertex`);e.hasOutput(`normalVC`)||e.addOutput(`vec3<f32>`,`normalVC`,i.getArrayInformation()[0].interpolation),e.hasOutput(`tangentVC`)||e.addOutput(`vec3<f32>`,`tangentVC`,i.getArrayInformation()[0].interpolation),e.hasOutput(`bitangentVC`)||e.addOutput(`vec3<f32>`,`bitangentVC`,i.getArrayInformation()[0].interpolation);let t=e.getCode();t=w4.substitute(t,`//VTK::Normal::Impl`,[`  output.normalVC = normalize((rendererUBO.WCVCNormals * mapperUBO.MCWCNormals * normalMC).xyz);`,`  var c1: vec3<f32> = cross(output.normalVC, vec3<f32>(0, 0, 1));`,`  var c2: vec3<f32> = cross(output.normalVC, vec3<f32>(0, 1, 0));`,`  var tangent: vec3<f32> = mix(c1, c2, distance(c1, c2));`,`  output.tangentVC = normalize(tangent);`,`  output.bitangentVC = normalize(cross(output.normalVC, tangent));`]).result,e.setCode(t);let r=n.getShaderDescription(`fragment`);t=r.getCode(),t=a.getProperty().getNormalTexture()?w4.substitute(t,`//VTK::Normal::Impl`,[`  var normal: vec3<f32> = input.normalVC;`,`  if (!input.frontFacing) { normal = -normal; }`,`  var tangent: vec3<f32> = input.tangentVC;`,`  var bitangent: vec3<f32> = input.bitangentVC;`,`  var TCVCMatrix: mat3x3<f32> = mat3x3<f32>(`,`    tangent.x, bitangent.x, normal.x,`,`    tangent.y, bitangent.y, normal.y,`,`    tangent.z, bitangent.z, normal.z,`,`  );`,`  var mappedNormal: vec3<f32> = TCVCMatrix * (_normalMap.xyz * 2 - 1);`,`  normal = mix(normal, mappedNormal, mapperUBO.NormalStrength);`,`  normal = normalize(normal);`]).result:w4.substitute(t,`//VTK::Normal::Impl`,[`  var normal: vec3<f32> = input.normalVC;`,`  if (!input.frontFacing) { normal = -normal; }`,`  normal = normalize(normal);`]).result,r.setCode(t)}},t.shaderReplacements.set(`replaceShaderNormal`,e.replaceShaderNormal),e.replaceShaderLight=(e,n,r)=>{if(e.includes(`sel`))return;let i=n.getShaderDescription(`vertex`);i.hasOutput(`vertexVC`)||i.addOutput(`vec4<f32>`,`vertexVC`);let a=t.WebGPURenderer.getRenderable(),o=n.getShaderDescription(`fragment`),s=o.getCode();if(s.includes(`var normal:`)&&t.useRendererMatrix&&!_3(e)&&!t.is2D&&!e.includes(`sel`)){let e=[`  let fragPos = vec3<f32>(input.vertexVC.xyz);`,`  let V = mix(normalize(-fragPos), vec3<f32>(0, 0, 1), f32(rendererUBO.cameraParallel)); // View Vector`,`  let baseColor = _diffuseMap.rgb * diffuseColor.rgb;`,`  let roughness = max(0.000001, mapperUBO.Roughness * _roughnessMap.r);`,`  let metallic = mapperUBO.Metallic * _metallicMap.r;`,`  let alpha = roughness * roughness;`,`  let k = alpha * alpha / 2.0;`,`  var diffuse = vec3<f32>(0.);`,`  var specular = vec3<f32>(0.);`,`  let emission = _emissionMap.rgb * mapperUBO.Emission;`,``,`  // Material struct`,`  let mat = Material(ior, roughness, metallic, baseColor);`,``,`  {`,`    var i = 0;`,`    loop {`,`      if (!(i < rendererUBO.LightCount)) { break; }`,`      switch (i32(rendererLightSSBO.values[i].LightData.x)) {`,`         // Point Light`,`         case 0 {`,`           let color = rendererLightSSBO.values[i].LightColor.rgb * rendererLightSSBO.values[i].LightColor.w;`,`           let pos = (rendererLightSSBO.values[i].LightPos).xyz;`,`           let pointLight = PointLight(pos, color);`,`           let result = calcPointLight(normal, V, fragPos, mat, pointLight);`,`           diffuse += max(vec3<f32>(0), result.diffuse);`,`           specular += max(vec3<f32>(0), result.specular);`,`          }`,`         // Directional light`,`         case 1 {`,`           let dir = normalize((rendererUBO.WCVCNormals * vec4<f32>(normalize(rendererLightSSBO.values[i].LightDir.xyz), 0.)).xyz);`,`           let color = rendererLightSSBO.values[i].LightColor.rgb * rendererLightSSBO.values[i].LightColor.w;`,`           let dirLight = DirectionalLight(dir, color);`,`           let result = calcDirectionalLight(normal, V, mat, dirLight); // diffuseColor.rgb needs to be fixed with a more dynamic diffuse color`,`           diffuse += max(vec3<f32>(0), result.diffuse);`,`           specular += max(vec3<f32>(0), result.specular);`,`         }`,`         // Spot Light`,`         case 2 {`,`           let color = rendererLightSSBO.values[i].LightColor.rgb * rendererLightSSBO.values[i].LightColor.w;`,`           let pos = (rendererLightSSBO.values[i].LightPos).xyz;`,`           let dir = normalize((rendererUBO.WCVCNormals * vec4<f32>(normalize(rendererLightSSBO.values[i].LightDir.xyz), 0.)).xyz);`,`           let cones = vec2<f32>(rendererLightSSBO.values[i].LightData.y, rendererLightSSBO.values[i].LightData.z);`,`           let spotLight = SpotLight(pos, dir, cones, color);`,`           let result = calcSpotLight(normal, V, fragPos, mat, spotLight);`,`           diffuse += max(vec3<f32>(0), result.diffuse);`,`           specular += max(vec3<f32>(0), result.specular);`,`         }`,`         default { continue; }`,`       }`,`      continuing { i++; }`,`    }`,`  }`,`  let fresnel = min(1.0, schlickFresnelIOR(V, normal, ior, k)); // Fresnel`,`  // This could be controlled with its own variable (that isnt base color) for better artistic control`,`  let fresnelMetallic = schlickFresnelRGB(V, normal, baseColor); // Fresnel for metal, takes color into account`,`  let kS = min(vec3<f32>(1.0), mix(vec3<f32>(fresnel), fresnelMetallic, metallic));`,`  let kD = (1.0 - kS) * (1.0 - metallic);`,`  let PBR = mapperUBO.DiffuseIntensity * kD * diffuse + kS * specular;`,`  computedColor = vec4<f32>(PBR + emission, mapperUBO.Opacity);`];a.getEnvironmentTexture()?.getImageLoaded()&&e.push(`  // To get diffuse IBL, the texture is sampled with normals in worldspace`,`  let diffuseIBLCoords = (transpose(rendererUBO.WCVCNormals) * vec4<f32>(normal, 1.)).xyz;`,`  let diffuseCoords = vecToRectCoord(diffuseIBLCoords);`,`  // To get specular IBL, the texture is sampled as the worldspace reflection between the normal and view vectors`,`  // Reflections are first calculated in viewspace, then converted to worldspace to sample the environment`,`  let VreflN = normalize(reflect(-V, normal));`,`  let reflectionIBLCoords = (transpose(rendererUBO.WCVCNormals) * vec4<f32>(VreflN, 1.)).xyz;`,`  let specularCoords = vecToRectCoord(reflectionIBLCoords);`,`  let diffuseIBL = textureSampleLevel(EnvironmentTexture, EnvironmentTextureSampler, diffuseCoords, rendererUBO.MaxEnvironmentMipLevel);`,`  let level = roughness * rendererUBO.MaxEnvironmentMipLevel;`,`  let specularIBL = textureSampleLevel(EnvironmentTexture, EnvironmentTextureSampler, specularCoords, level);`,`  let specularIBLContribution = specularIBL.rgb * rendererUBO.BackgroundSpecularStrength;`,`  computedColor += vec4<f32>(specularIBLContribution * kS, 0);`,`  let diffuseIBLContribution = diffuseIBL.rgb * rendererUBO.BackgroundDiffuseStrength;`,`  computedColor += vec4<f32>(diffuseIBLContribution * baseColor * _ambientOcclusionMap.rgb * kD, 0);`),s=w4.substitute(s,`//VTK::Light::Impl`,e).result,o.setCode(s)}else s=w4.substitute(s,`//VTK::Light::Impl`,[`  let diffuse = diffuseColor.rgb;`,`  let specular = mapperUBO.SpecularColor.rgb * mapperUBO.SpecularColor.a;`,`  computedColor = vec4<f32>(diffuse * _diffuseMap.rgb, mapperUBO.Opacity);`]).result,o.setCode(s)},t.shaderReplacements.set(`replaceShaderLight`,e.replaceShaderLight),e.replaceShaderColor=(e,t,n)=>{if(_3(e)){let e=t.getShaderDescription(`fragment`),n=e.getCode();n=w4.substitute(n,`//VTK::Color::Impl`,[`ambientColor = mapperUBO.EdgeColor;`,`diffuseColor = mapperUBO.EdgeColor;`]).result,e.setCode(n);return}let r=n.getBuffer(`colorVI`);if(!r)return;let i=t.getShaderDescription(`vertex`);i.addOutput(`vec4<f32>`,`color`,r.getArrayInformation()[0].interpolation);let a=i.getCode();a=w4.substitute(a,`//VTK::Color::Impl`,[`  output.color = colorVI;`]).result,i.setCode(a);let o=t.getShaderDescription(`fragment`);a=o.getCode(),a=w4.substitute(a,`//VTK::Color::Impl`,[`ambientColor = input.color;`,`diffuseColor = input.color;`,`opacity = mapperUBO.Opacity * input.color.a;`]).result,o.setCode(a)},t.shaderReplacements.set(`replaceShaderColor`,e.replaceShaderColor),e.replaceShaderTCoord=(e,n,r)=>{if(!r.hasAttribute(`tcoord`))return;let i=n.getShaderDescription(`vertex`),a=r.getBuffer(`tcoord`),o=k4.getNumberOfComponentsFromBufferFormat(a.getArrayInformation()[0].format),s=i.getCode();i.addOutput(`vec${o}<f32>`,`tcoordVS`),s=w4.substitute(s,`//VTK::TCoord::Impl`,[`  output.tcoordVS = tcoord;`]).result,i.setCode(s);let c=n.getShaderDescription(`fragment`);s=c.getCode();let l=t.WebGPUActor.getRenderable(),u=l.getProperty(),d=e=>e?e.getDimensionality()===o:!1,f=[],p=u.getDiffuseTexture?.();(p?.getImageLoaded()||l.getTextures()[0]||t.colorTexture)&&(d(p)||d(l.getTextures()[0])||d(t.colorTexture))&&f.push(`_diffuseMap = textureSample(DiffuseTexture, DiffuseTextureSampler, input.tcoordVS);`);let m=u.getORMTexture?.(),h=u.getRMTexture?.(),g=u.getRoughnessTexture?.(),_=u.getMetallicTexture?.(),v=u.getAmbientOcclusionTexture?.(),y=u.getEmissionTexture?.(),b=u.getNormalTexture?.();m?.getImageLoaded()?d(m)&&f.push(`_ambientOcclusionMap = textureSample(ORMTexture, ORMTextureSampler, input.tcoordVS).rrra;`,`_roughnessMap = textureSample(ORMTexture, ORMTextureSampler, input.tcoordVS).ggga;`,`_metallicMap = textureSample(ORMTexture, ORMTextureSampler, input.tcoordVS).bbba;`):h?.getImageLoaded()?d(h)&&f.push(`_roughnessMap = textureSample(RMTexture, RMTextureSampler, input.tcoordVS).ggga;`,`_metallicMap = textureSample(RMTexture, RMTextureSampler, input.tcoordVS).bbba;`):(g?.getImageLoaded()&&d(g)&&f.push(`_roughnessMap = textureSample(RoughnessTexture, RoughnessTextureSampler, input.tcoordVS).ggga;`),_?.getImageLoaded()&&d(_)&&f.push(`_metallicMap = textureSample(MetallicTexture, MetallicTextureSampler, input.tcoordVS).bbba;`),v?.getImageLoaded()&&d(v)&&f.push(`_ambientOcclusionMap = textureSample(AmbientOcclusionTexture, AmbientOcclusionTextureSampler, input.tcoordVS).rrra;`)),y?.getImageLoaded()&&d(y)&&f.push(`_emissionMap = textureSample(EmissionTexture, EmissionTextureSampler, input.tcoordVS);`),b?.getImageLoaded()&&d(b)&&f.push(`_normalMap = textureSample(NormalTexture, NormalTextureSampler, input.tcoordVS);`),s=w4.substitute(s,`//VTK::TCoord::Impl`,f).result,c.setCode(s)},t.shaderReplacements.set(`replaceShaderTCoord`,e.replaceShaderTCoord),e.replaceShaderSelect=(e,t,n)=>{if(e.includes(`sel`)){let e=t.getShaderDescription(`fragment`),n=e.getCode();n=w4.substitute(n,`//VTK::Select::Impl`,[`  var compositeID: u32 = 0u;`]).result,e.setCode(n)}},t.shaderReplacements.set(`replaceShaderSelect`,e.replaceShaderSelect),e.getUsage=(e,t)=>e===m3.POINTS||t===p3.Points?f3.Verts:t===p3.Lines?f3.Lines:e===m3.WIREFRAME?t===p3.Triangles?f3.LinesFromTriangles:f3.LinesFromStrips:t===p3.Triangles?f3.Triangles:t===p3.TriangleStrips?f3.Strips:t===p3.TriangleEdges?f3.LinesFromTriangles:f3.LinesFromStrips,e.getHashFromUsage=e=>`pt${e}`,e.getTopologyFromUsage=e=>{switch(e){case f3.Triangles:return`triangle-list`;case f3.Verts:return`point-list`;case f3.Lines:default:return`line-list`}},e.buildVertexInput=()=>{let n=t.currentInput,r=t.cellArray,i=t.primitiveType,a=t.WebGPUActor.getRenderable().getProperty().getRepresentation(),o=t.WebGPURenderWindow.getDevice(),s=!1;i===p3.TriangleEdges&&(s=!0,a=m3.WIREFRAME);let c=t.vertexInput,l=n.getPoints(),u=null;if(r?(u=o.getBufferManager().getBuffer({hash:`R${a}P${i}${r.getMTime()}`,usage:f3.Index,cells:r,numberOfPoints:l.getNumberOfPoints(),primitiveType:i,representation:a}),c.setIndexBuffer(u)):c.setIndexBuffer(null),l){let e=t.WebGPUActor.getBufferShift(t.WebGPURenderer);c.addBuffer(o.getBufferManager().getBuffer({hash:`${l.getMTime()}I${u?.getMTime?.()??0}${e.join()}float32x4`,usage:f3.PointArray,format:`float32x4`,dataArray:l,indexBuffer:u,shift:e,packExtra:!0}),[`vertexBC`])}else c.removeBufferIfPresent(`vertexBC`);let d=e.getUsage(a,i);if(t._usesCellNormals=!1,!t.is2D&&(d===f3.Triangles||d===f3.Strips)){let e=n.getPointData().getNormals(),a={format:`snorm8x4`,indexBuffer:u,packExtra:!0,shift:0,scale:127};e?(a.hash=`${e.getMTime()}I${u.getMTime()}snorm8x4`,a.dataArray=e,a.usage=f3.PointArray,c.addBuffer(o.getBufferManager().getBuffer(a),[`normalMC`])):i===p3.Triangles?(t._usesCellNormals=!0,a.hash=`PFN${l.getMTime()}I${u.getMTime()}snorm8x4`,a.dataArray=l,a.cells=r,a.usage=f3.NormalsFromPoints,c.addBuffer(o.getBufferManager().getBuffer(a),[`normalMC`])):c.removeBufferIfPresent(`normalMC`)}else c.removeBufferIfPresent(`normalMC`);let f=!1;if(t.renderable.getScalarVisibility()){let e=t.renderable.getColorMapColors();if(e&&!s){let r=t.renderable.getScalarMode(),i=(r===h3.USE_CELL_DATA||r===h3.USE_CELL_FIELD_DATA||r===h3.USE_FIELD_DATA||!n.getPointData().getScalars())&&r!==h3.USE_POINT_FIELD_DATA&&e;c.addBuffer(o.getBufferManager().getBuffer({usage:f3.PointArray,format:`unorm8x4`,hash:`${i}${e.getMTime()}I${u.getMTime()}unorm8x4`,dataArray:e,indexBuffer:u,cellData:i,cellOffset:0}),[`colorVI`]),f=!0}}f||c.removeBufferIfPresent(`colorVI`);let p=null;p=t.renderable.getInterpolateScalarsBeforeMapping?.()&&t.renderable.getColorCoordinates()?t.renderable.getColorCoordinates():n.getPointData().getTCoords(),p&&!s?c.addBuffer(o.getBufferManager().getBufferForPointArray(p,c.getIndexBuffer()),[`tcoord`]):c.removeBufferIfPresent(`tcoord`)},e.updateTextures=()=>{let e=[],n=[],r=t.renderable.getColorTextureMap?.();r&&!t.colorTexture&&(t.colorTexture=Z0.newInstance({label:`polyDataColor`})),r&&(t.colorTexture.setInputData(r),n.push([`DiffuseTexture`,t.colorTexture]));let i=t.WebGPUActor.getRenderable(),a=t.WebGPURenderer.getRenderable();[[`DiffuseTexture`,i.getProperty().getDiffuseTexture?.()],[`DiffuseTexture`,i.getTextures()[0]],[`DiffuseTexture`,t.colorTexture],[`ORMTexture`,i.getProperty().getORMTexture?.()],[`RMTexture`,i.getProperty().getRMTexture?.()],[`RoughnessTexture`,i.getProperty().getRoughnessTexture?.()],[`MetallicTexture`,i.getProperty().getMetallicTexture?.()],[`NormalTexture`,i.getProperty().getNormalTexture?.()],[`AmbientOcclusionTexture`,i.getProperty().getAmbientOcclusionTexture?.()],[`EmissionTexture`,i.getProperty().getEmissionTexture?.()],[`EnvironmentTexture`,a.getEnvironmentTexture?.()]].forEach(e=>{let[t,r]=e;r&&((r.getInputData()||r.getJsImageData()||r.getCanvas()||r.getImageBitmap())&&n.push([t,r]),r.getImage()&&r.getImageLoaded()&&n.push([t,r]))}),n.forEach(n=>{let[r,i]=n,a=t.device.getTextureManager().getTextureForVTKTexture(i,r);if(!a.getReady())return;let o=!1;for(let n=0;n<t.textures.length;++n)if(t.textures[n]===a){o=!0,e[n]=!0;break}if(!o){e[t.textures.length]=!0;let n=a.createView(r);t.textures.push(a),t.textureViews.push(n);let o=i.getInterpolate()?`linear`:`nearest`,s=null;i.getEdgeClamp()&&i.getRepeat()?s=`mirror-repeat`:i.getEdgeClamp()?s=`clamp-to-edge`:i.getRepeat()&&(s=`repeat`);let c={addressModeU:s,addressModeV:s,addressModeW:s,minFilter:o,magFilter:o};r===`EnvironmentTexture`&&(c={addressModeU:`repeat`,addressModeV:`clamp-to-edge`,addressModeW:`repeat`,minFilter:o,magFilter:o,mipmapFilter:`linear`}),n.addSampler(t.device,c)}});for(let n=t.textures.length-1;n>=0;n--)e[n]||(t.textures.splice(n,1),t.textureViews.splice(n,1))},e.computePipelineHash=()=>{let n=`pd${t.useRendererMatrix?`r`:``}${t.forceZValue?`z`:``}`;if(t.primitiveType===p3.TriangleEdges||t.primitiveType===p3.TriangleStripEdges)n+=`edge`;else{if(t.vertexInput.hasAttribute(`normalMC`)&&(n+=`n`),t.vertexInput.hasAttribute(`colorVI`)&&(n+=`c`),t.vertexInput.hasAttribute(`tcoord`)){let e=t.vertexInput.getBuffer(`tcoord`),r=k4.getNumberOfComponentsFromBufferFormat(e.getArrayInformation()[0].format);n+=`t${r}`}t.textures.length&&(n+=`tx${t.textures.length}`)}t._usesCellNormals&&(n+=`cn`),t.SSBO&&(n+=`ssbo`);let r=e.getHashFromUsage(t.usage);n+=r,n+=t.renderEncoder.getPipelineHash(),t.pipelineHash=n},e.updateBuffers=()=>{t.primitiveType!==p3.TriangleEdges&&t.primitiveType!==p3.TriangleStripEdges&&e.updateTextures();let n=t.WebGPUActor.getRenderable(),r=n.getProperty().getRepresentation();t.usage=e.getUsage(r,t.primitiveType),e.buildVertexInput();let i=t.vertexInput.getBuffer(`vertexBC`);if(e.setNumberOfVertices(i.getSizeInBytes()/i.getStrideInBytes()),e.setTopology(e.getTopologyFromUsage(t.usage)),e.updateUBO(),e.haveWideLines()){let t=n.getProperty();e.setNumberOfInstances(Math.ceil(t.getLineWidth()*2))}else e.setNumberOfInstances(1)}}var $ge={is2D:!1,cellArray:null,currentInput:null,cellOffset:0,primitiveType:0,colorTexture:null,renderEncoder:null,textures:null};function v3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,$ge,n),M4.extend(e,t,n),t.fragmentShaderTemplate=Zge,t.vertexShaderTemplate=Xge,t._tmpMat3=iW(new Float64Array(9)),t._tmpMat4=IW(new Float64Array(16)),t.UBO=i3.newInstance({label:`mapperUBO`}),t.UBO.addEntry(`BCWCMatrix`,`mat4x4<f32>`),t.UBO.addEntry(`BCSCMatrix`,`mat4x4<f32>`),t.UBO.addEntry(`MCWCNormals`,`mat4x4<f32>`),t.UBO.addEntry(`AmbientColor`,`vec4<f32>`),t.UBO.addEntry(`DiffuseColor`,`vec4<f32>`),t.UBO.addEntry(`EdgeColor`,`vec4<f32>`),t.UBO.addEntry(`SpecularColor`,`vec4<f32>`),t.UBO.addEntry(`AmbientIntensity`,`f32`),t.UBO.addEntry(`DiffuseIntensity`,`f32`),t.UBO.addEntry(`Roughness`,`f32`),t.UBO.addEntry(`Metallic`,`f32`),t.UBO.addEntry(`Ambient`,`f32`),t.UBO.addEntry(`Normal`,`f32`),t.UBO.addEntry(`Emission`,`f32`),t.UBO.addEntry(`NormalStrength`,`f32`),t.UBO.addEntry(`BaseIOR`,`f32`),t.UBO.addEntry(`SpecularIntensity`,`f32`),t.UBO.addEntry(`LineWidth`,`f32`),t.UBO.addEntry(`Opacity`,`f32`),t.UBO.addEntry(`ZValue`,`f32`),t.UBO.addEntry(`PropID`,`u32`),t.UBO.addEntry(`ClipNear`,`f32`),t.UBO.addEntry(`ClipFar`,`f32`),t.UBO.addEntry(`Time`,`u32`),gq(e,t,[`cellArray`,`currentInput`,`cellOffset`,`is2D`,`primitiveType`,`renderEncoder`]),t.textures=[],Qge(e,t)}var y3={newInstance:wq(v3,`vtkWebGPUCellArrayMapper`),extend:v3},{PrimitiveTypes:b3}=Q4;function e_e(e,t){t.classHierarchy.push(`vtkWebGPUPolyDataMapper`),e.createCellArrayMapper=()=>y3.newInstance(),e.buildPass=n=>{if(n){t.WebGPUActor=e.getFirstAncestorOfType(`vtkWebGPUActor`),t.renderable.getStatic()||t.renderable.update();let n=t.renderable.getInputData();t.renderable.mapScalars(n,1),e.updateCellArrayMappers(n)}},e.updateCellArrayMappers=n=>{if(!n){GK(`No input!`);return}let r=[n.getVerts(),n.getLines(),n.getPolys(),n.getStrips()],i=[],a=0;for(let o=b3.Points;o<=b3.TriangleStrips;o++)if(r[o].getNumberOfValues()>0){t.primitives[o]||(t.primitives[o]=e.createCellArrayMapper());let s=t.primitives[o];s.setCellArray(r[o]),s.setCurrentInput(n),s.setCellOffset(a),s.setPrimitiveType(o),s.setRenderable(t.renderable),a+=r[o].getNumberOfCells(),i.push(s)}else t.primitives[o]=null;if(t.WebGPUActor.getRenderable().getProperty().getEdgeVisibility()){if(r[b3.Triangles].getNumberOfValues()>0){let a=b3.TriangleEdges;t.primitives[a]||(t.primitives[a]=e.createCellArrayMapper());let o=t.primitives[a];o.setCellArray(r[b3.Triangles]),o.setCurrentInput(n),o.setCellOffset(t.primitives[b3.Triangles].getCellOffset()),o.setPrimitiveType(a),o.setRenderable(t.renderable),i.push(o)}else t.primitives[b3.TriangleEdges]=null;if(r[b3.TriangleStrips].getNumberOfValues()>0){let a=b3.TriangleStripEdges;t.primitives[a]||(t.primitives[a]=e.createCellArrayMapper());let o=t.primitives[a];o.setCellArray(r[b3.TriangleStrips]),o.setCurrentInput(n),o.setCellOffset(t.primitives[b3.TriangleStrips].getCellOffset()),o.setPrimitiveType(a),o.setRenderable(t.renderable),i.push(o)}else t.primitives[b3.TriangleStripEdges]=null}e.prepareNodes(),e.addMissingChildren(i),e.removeUnusedNodes()}}var t_e={primitives:null};function n_e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,t_e,n),Kq.extend(e,t,n),t.primitives=[],e_e(e,t)}v4(`vtkMapper`,wq(n_e,`vtkWebGPUPolyDataMapper`));var{PrimitiveTypes:x3}=Q4;function r_e(e,t){t.classHierarchy.push(`vtkWebGPUPolyDataMapper2D`),e.createCellArrayMapper=()=>y3.newInstance(),e.buildPass=n=>{if(n){t.WebGPUActor=e.getFirstAncestorOfType(`vtkWebGPUActor2D`),t.renderable.getStatic()||t.renderable.update();let n=t.renderable.getInputData();t.renderable.mapScalars(n,1),e.updateCellArrayMappers(n)}},e.updateCellArrayMappers=n=>{let r=[n.getVerts(),n.getLines(),n.getPolys(),n.getStrips()],i=[],a=0;for(let o=x3.Points;o<=x3.Triangles;o++)if(r[o].getNumberOfValues()>0){t.primitives[o]||(t.primitives[o]=e.createCellArrayMapper());let s=t.primitives[o];s.setCellArray(r[o]),s.setCurrentInput(n),s.setCellOffset(a),s.setPrimitiveType(o),s.setRenderable(t.renderable),s.setIs2D(!0),a+=r[o].getNumberOfCells(),i.push(s)}else t.primitives[o]=null;e.prepareNodes(),e.addMissingChildren(i),e.removeUnusedNodes()}}function i_e(e){return{primitives:[],...e}}function a_e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,i_e(n)),Kq.extend(e,t,n),t.primitives=[],r_e(e,t)}v4(`vtkMapper2D`,wq(a_e,`vtkWebGPUPolyDataMapper2D`));function o_e(e,t){t.classHierarchy.push(`vtkWebGPUScalarBarActor`),e.buildPass=n=>{n&&(t.WebGPURenderer=e.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getParent(),t.scalarBarActorHelper.getRenderable()||t.scalarBarActorHelper.setRenderable(t.renderable),e.prepareNodes(),e.addMissingNode(t.scalarBarActorHelper.getBarActor()),e.addMissingNode(t.scalarBarActorHelper.getTmActor()),e.removeUnusedNodes())},e.opaquePass=(e,n)=>{if(e){let e=t.WebGPURenderer?t.WebGPURenderer.getRenderable().getActiveCamera():null,n=t.WebGPURenderer.getTiledSizeAndOrigin();t.scalarBarActorHelper.updateAPISpecificData([n.usize,n.vsize],e,t.WebGPURenderWindow.getRenderable())}}}var s_e={};function c_e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,s_e,n),Kq.extend(e,t,n),t.scalarBarActorHelper=h4.newScalarBarActorHelper(),o_e(e,t)}v4(`vtkScalarBarActor`,wq(c_e,`vtkWebGPUScalarBarActor`));function l_e(e,t){t.classHierarchy.push(`vtkWebGPUSampler`),e.create=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.device=e,t.options.addressModeU=n.addressModeU?n.addressModeU:`clamp-to-edge`,t.options.addressModeV=n.addressModeV?n.addressModeV:`clamp-to-edge`,t.options.addressModeW=n.addressModeW?n.addressModeW:`clamp-to-edge`,t.options.magFilter=n.magFilter?n.magFilter:`nearest`,t.options.minFilter=n.minFilter?n.minFilter:`nearest`,t.options.mipmapFilter=n.mipmapFilter?n.mipmapFilter:`nearest`,t.options.label=t.label,t.handle=t.device.getHandle().createSampler(t.options),t.bindGroupTime.modified()},e.getShaderCode=(e,n)=>`@binding(${e}) @group(${n}) var ${t.label}: sampler;`,e.getBindGroupEntry=()=>({resource:t.handle})}var u_e={device:null,handle:null,label:null,options:null};function S3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,u_e,n),$.obj(e,t),t.options={},t.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,sampler:{}},t.bindGroupTime={},$.obj(t.bindGroupTime,{mtime:0}),$.get(e,t,[`bindGroupTime`,`handle`,`options`]),$.setGet(e,t,[`bindGroupLayoutEntry`,`device`,`label`]),l_e(e,t)}var C3={newInstance:$.newInstance(S3),extend:S3};function d_e(e,t){t.classHierarchy.push(`vtkWebGPUTextureView`),e.create=(e,n)=>{t.texture=e,t.options=n,t.options.dimension=t.options.dimension||`2d`,t.options.label=t.label,t.textureHandle=e.getHandle(),t.handle=t.textureHandle.createView(t.options),t.bindGroupLayoutEntry.texture.viewDimension=t.options.dimension;let r=k4.getDetailsFromTextureFormat(t.texture.getFormat());t.bindGroupLayoutEntry.texture.sampleType=r.sampleType},e.createFromTextureHandle=(e,n)=>{t.texture=null,t.options=n,t.options.dimension=t.options.dimension||`2d`,t.options.label=t.label,t.textureHandle=e,t.handle=t.textureHandle.createView(t.options),t.bindGroupLayoutEntry.texture.viewDimension=t.options.dimension;let r=k4.getDetailsFromTextureFormat(n.format);t.bindGroupLayoutEntry.texture.sampleType=r.sampleType,t.bindGroupTime.modified()},e.getBindGroupEntry=()=>({resource:e.getHandle()}),e.getShaderCode=(e,n)=>{let r=`f32`;t.bindGroupLayoutEntry.texture.sampleType===`sint`?r=`i32`:t.bindGroupLayoutEntry.texture.sampleType===`uint`&&(r=`u32`);let i=`@binding(${e}) @group(${n}) var ${t.label}: texture_${t.options.dimension}<${r}>;`;return t.bindGroupLayoutEntry.texture.sampleType===`depth`&&(i=`@binding(${e}) @group(${n}) var ${t.label}: texture_depth_${t.options.dimension};`),i},e.addSampler=(n,r)=>{let i=C3.newInstance({label:`${t.label}Sampler`});i.create(n,r),e.setSampler(i)},e.getBindGroupTime=()=>(t.texture&&t.texture.getHandle()!==t.textureHandle&&(t.textureHandle=t.texture.getHandle(),t.handle=t.textureHandle.createView(t.options),t.bindGroupTime.modified()),t.bindGroupTime),e.getHandle=()=>(t.texture&&t.texture.getHandle()!==t.textureHandle&&(t.textureHandle=t.texture.getHandle(),t.handle=t.textureHandle.createView(t.options),t.bindGroupTime.modified()),t.handle)}var f_e={texture:null,handle:null,sampler:null,label:null};function w3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,f_e,n),$.obj(e,t),t.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,texture:{sampleType:`float`,viewDimension:`2d`}},t.bindGroupTime={},$.obj(t.bindGroupTime,{mtime:0}),$.get(e,t,[`bindGroupTime`,`texture`]),$.setGet(e,t,[`bindGroupLayoutEntry`,`label`,`sampler`]),d_e(e,t)}var T3={newInstance:$.newInstance(w3),extend:w3};function p_e(e,t){t.classHierarchy.push(`vtkWebGPUTexture`),e.create=(e,n)=>{t.device=e,t.width=n.width,t.height=n.height,t.depth=n.depth?n.depth:1;let r=t.depth===1?`2d`:`3d`;t.format=n.format?n.format:`rgba8unorm`,t.mipLevel=n.mipLevel?n.mipLevel:0,t.usage=n.usage?n.usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST,t.handle=t.device.getHandle().createTexture({size:[t.width,t.height,t.depth],format:t.format,usage:t.usage,label:t.label,dimension:r,mipLevelCount:t.mipLevel+1})},e.assignFromHandle=(e,n,r)=>{t.device=e,t.handle=n,t.width=r.width,t.height=r.height,t.depth=r.depth?r.depth:1,t.format=r.format?r.format:`rgba8unorm`,t.usage=r.usage?r.usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST},e.writeImageData=n=>{let r=[],i=r=>{t.device.getHandle().queue.copyExternalImageToTexture({source:r,flipY:n.flip},{texture:t.handle,premultipliedAlpha:!0,mipLevel:0,origin:{x:0,y:0,z:0}},[r.width,r.height,t.depth]),e.getDimensionality()!==3&&t.mipLevel>0&&Z0.generateMipmaps(t.device.getHandle(),t.handle,t.mipLevel+1),t.ready=!0};if(n.canvas){i(n.canvas);return}if(n.imageBitmap){n.width=n.imageBitmap.width,n.height=n.imageBitmap.height,n.depth=1,n.format=`rgba8unorm`,n.flip=!0,i(n.imageBitmap);return}if(n.jsImageData){n.width=n.jsImageData.width,n.height=n.jsImageData.height,n.depth=1,n.format=`rgba8unorm`,n.flip=!0,i(n.jsImageData);return}if(n.image){n.width=n.image.width,n.height=n.image.height,n.depth=1,n.format=`rgba8unorm`,n.flip=!0,i(n.image);return}let a=k4.getDetailsFromTextureFormat(t.format),o=t.width*a.stride,s=(e,t,n)=>{let r=a.elementSize===2&&a.sampleType===`float`,i=e.BYTES_PER_ELEMENT,o=e.length/(t*n)*i;if(!r&&o%256==0)return[e,o];let s=o/i,c=a.elementSize,l=256*Math.floor((s*c+255)/256),u=l/c,d=$.newTypedArray(r?`Uint16Array`:e.constructor.name,u*t*n),f=t*n;if(r)for(let t=0;t<f;t++){let n=t*s,r=t*u;for(let t=0;t<s;t++)d[r+t]=P2.toHalf(e[n+t])}else if(u===s)d.set(e);else for(let t=0;t<f;t++)d.set(e.subarray(t*s,(t+1)*s),t*u);return[d,l]};n.nativeArray&&(r=n.nativeArray);let c=e.getDimensionality()===3,l=s(r,t.height,c?t.depth:1);o=l[1];let u=l[0];t.device.getHandle().queue.writeTexture({texture:t.handle,mipLevel:0,origin:{x:0,y:0,z:0}},u,{offset:0,bytesPerRow:o,rowsPerImage:t.height},{width:t.width,height:t.height,depthOrArrayLayers:c?t.depth:1}),!c&&t.mipLevel>0&&Z0.generateMipmaps(t.device.getHandle(),t.handle,t.mipLevel+1),t.ready=!0},e.getScale=()=>{let e=k4.getDetailsFromTextureFormat(t.format);return e.elementSize===2&&e.sampleType===`float`?1:255},e.getNumberOfComponents=()=>k4.getDetailsFromTextureFormat(t.format).numComponents,e.getDimensionality=()=>{let e=0;return t.width>1&&e++,t.height>1&&e++,t.depth>1&&e++,e},e.resizeToMatch=e=>{(e.getWidth()!==t.width||e.getHeight()!==t.height||e.getDepth()!==t.depth)&&(t.width=e.getWidth(),t.height=e.getHeight(),t.depth=e.getDepth(),t.handle=t.device.getHandle().createTexture({size:[t.width,t.height,t.depth],format:t.format,usage:t.usage,label:t.label}))},e.resize=function(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;(e!==t.width||n!==t.height||r!==t.depth)&&(t.width=e,t.height=n,t.depth=r,t.handle=t.device.getHandle().createTexture({size:[t.width,t.height,t.depth],format:t.format,usage:t.usage,label:t.label}))},e.createView=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.dimension||=t.depth===1?`2d`:`3d`;let i=T3.newInstance({label:n});return i.create(e,r),i}}var m_e={device:null,handle:null,buffer:null,ready:!1,label:null};function E3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,m_e,n),$.obj(e,t),$.get(e,t,[`handle`,`ready`,`width`,`height`,`depth`,`format`,`usage`]),$.setGet(e,t,[`device`,`label`]),p_e(e,t)}var D3={newInstance:$.newInstance(E3),extend:E3};function h_e(e,t){t.classHierarchy.push(`vtkWebGPUPixelSpaceCallbackMapper`),e.opaquePass=(n,r)=>{t.WebGPURenderer=e.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getParent();let i=t.WebGPURenderer.getAspectRatio(),a=t.WebGPURenderer?t.WebGPURenderer.getRenderable().getActiveCamera():null,o=t.WebGPURenderer.getTiledSizeAndOrigin();t.renderable.getUseZValues(),t.renderable.invokeCallback(t.renderable.getInputData(),a,i,o,null)}}var g_e={};function __e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,g_e,n),Kq.extend(e,t,n),h_e(e,t)}v4(`vtkPixelSpaceCallbackMapper`,$.newInstance(__e,`vtkWebGPUPixelSpaceCallbackMapper`));var{vtkErrorMacro:v_e}=$,y_e=class{constructor(){this.segmentMapping={},this.segments=[null],this.faces=[]}addSegment(e){let t=e[0],n=e[e.length-1];if(t===n||e.length<2)return;let r=this.segmentMapping[t],i=this.segmentMapping[n];if(r!==void 0&&i!==void 0)if(Math.abs(r)===Math.abs(i)){let a=r<i?i:r,o=this.segments[a];if(r>0)for(let t=1;t<e.length-1;t++)o.push(e[t]);else for(let t=1;t<e.length-1;t++)o.unshift(e[e.length-1-t]);this.faces.push(o),this.segments[a]=null,this.segmentMapping[t]=void 0,this.segmentMapping[n]=void 0}else{let t=Math.abs(r),n=Math.abs(i),a=this.segments[t],o=this.segments[n];this.segments[t]=null,this.segments[n]=null,this.segmentMapping[a[0]]=void 0,this.segmentMapping[o[0]]=void 0,this.segmentMapping[a[a.length-1]]=void 0,this.segmentMapping[o[o.length-1]]=void 0,this.addSegment(e),this.addSegment(a),this.addSegment(o)}else if(r!==void 0){if(r>0){let t=this.segments[r];for(let n=1;n<e.length;n++)t.push(e[n]);this.segmentMapping[n]=r}else{let t=this.segments[-r];this.segmentMapping[n]=r;for(let n=1;n<e.length;n++)t.unshift(e[n])}this.segmentMapping[t]=void 0}else if(i!==void 0){if(i>0){let n=this.segments[i];for(let t=1;t<e.length;t++)n.push(e[e.length-1-t]);this.segmentMapping[t]=i}else{let n=this.segments[-i];this.segmentMapping[t]=i;for(let t=1;t<e.length;t++)n.unshift(e[e.length-t-1])}this.segmentMapping[n]=void 0}else{let r=this.segments.length;this.segments.push(e),this.segmentMapping[t]=-r,this.segmentMapping[n]=r}}};function b_e(e,t){t.classHierarchy.push(`vtkClosedPolyLineToSurfaceFilter`),e.requestData=(e,t)=>{let n=e[0];if(!n){v_e(`Invalid or missing input`);return}let r=t[0]?.initialize()||Y0.newInstance();r.shallowCopy(n);let i=new y_e,a=n.getLines().getData(),o=0;for(;o<a.length;){let e=a[o++],t=[];for(let n=0;n<e;n++)t.push(a[o+n]);i.addSegment(t),o+=e}let{faces:s}=i,c=s.length;for(let e=0;e<s.length;e++)c+=s[e].length;let l=new Uint16Array(c);o=0;for(let e=0;e<s.length;e++){let t=s[e];l[o++]=t.length;for(let e=0;e<t.length;e++)l[o++]=t[e]}r.setPolys(m0.newInstance({values:l,name:`faces`})),t[0]=r}}var x_e={};function O3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,x_e,n),$.obj(e,t),$.algo(e,t,1,1),b_e(e,t)}var S_e={newInstance:$.newInstance(O3,`vtkClosedPolyLineToSurfaceFilter`),extend:O3},{vtkErrorMacro:k3}=Bq;function C_e(e){let t=e.getPolys().getData(),n=e.getStrips().getData(),r={cellSize:0,cell:[],done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next(){if(r.polyIdx<t.length){r.cellSize=t[r.polyIdx];let e=r.polyIdx+1,n=e+r.cellSize;r.polyIdx=n;let i=0;for(let a=e;a<n;++a)r.cell[i++]=t[a]}else if(r.stripIdx<n.length){r.cellSize=3,r.remainingStripLength===0&&(r.remainingStripLength=n[r.stripIdx]-2,r.stripIdx+=3);let e=r.stripIdx-2,t=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--;let i=0;for(let a=e;a<t;++a)r.cell[i++]=n[a]}else if(!r.done)r.done=!0;else throw Error(`Iterator is done`)}};return r.next(),r}function w_e(e,t){t.classHierarchy.push(`vtkCutter`);let n={...e};e.getMTime=()=>{let e=n.getMTime();return t.cutFunction&&(e=Math.max(e,t.cutFunction.getMTime())),e};function r(e,n){let r=e.getPoints(),i=r.getData(),a=e.getPointData(),o=r.getNumberOfPoints(),s=[],c=[],l=[],u={},d=a.getNumberOfArrays();for(let e=0;e<d;e++)u[a.getArrayName(e)]=[];(!t.cutScalars||t.cutScalars.length<o)&&(t.cutScalars=new Float32Array(o));let f=0,p=0;for(;f<i.length;)t.cutScalars[p++]=t.cutFunction.evaluateFunction(i[f++],i[f++],i[f++]);let m=[],h=[,,,],g=[,,,],_=[];for(let n=C_e(e);!n.done;n.next()){if(n.cellSize<=2)continue;for(let e=0;e<n.cellSize;)_[e]=t.cutScalars[n.cell[e++]];let e=_[0]>0,r=!0;for(let t=1;t<n.cell.length;t++)if(_[t]>0!==e){r=!1;break}if(r)continue;let o=[];for(let e=0;e<n.cellSize;e++){let r=e+1===n.cellSize?0:e+1,s=_[e]>0;if(_[r]>0===s)continue;let c=e,l=r,u=_[l]-_[c];u<=0&&(c=r,l=e,u*=-1);let f=0;u!==0&&(f=(t.cutValue-_[c])/u);let p=n.cell[c],m=n.cell[l];h[0]=i[p*3],h[1]=i[p*3+1],h[2]=i[p*3+2],g[0]=i[m*3],g[1]=i[m*3+1],g[2]=i[m*3+2];let v=[h[0]+f*(g[0]-h[0]),h[1]+f*(g[1]-h[1]),h[2]+f*(g[2]-h[2])],y={};for(let e=0;e<d;e++){let t=a.getArrayByIndex(e),n=a.getArrayName(e),r=t.getData(),i=t.getNumberOfComponents(),o=Array(i);for(let e=0;e<i;e++){let t=r[i*p+e],n=r[i*m+e];o.push(t+f*(n-t))}y[n]=o}o.push({pointEdge1:p,pointEdge2:m,intersectedPoint:v,intersectedArrays:y,newPointID:-1})}for(let e=0;e<o.length;e++){let t=o[e],n=!1;for(let r=0;r<m.length;r++){let i=m[r],a=t.pointEdge1===i.pointEdge1&&t.pointEdge2===i.pointEdge2,s=t.intersectedPoint[0]===i.intersectedPoint[0]&&t.intersectedPoint[1]===i.intersectedPoint[1]&&t.intersectedPoint[2]===i.intersectedPoint[2];if(a||s){n=!0,o[e].newPointID=m[r].newPointID;break}}n||(s.push(t.intersectedPoint[0]),s.push(t.intersectedPoint[1]),s.push(t.intersectedPoint[2]),Object.keys(t.intersectedArrays).forEach(e=>{u[e].push(...t.intersectedArrays[e])}),o[e].newPointID=s.length/3-1,m.push(o[e]))}let f=o.length;f===2?c.push(f,o[0].newPointID,o[1].newPointID):f>2&&(l.push(f),o.forEach(e=>{l.push(e.newPointID)}))}n.getPoints().setData(ZK(r.getDataType(),s),3);let v=n.getPointData();for(let e=0;e<d;e++){let t=a.getArrayName(e),n=l1.newInstance({name:t,dataType:a.getArrayByIndex(e).getDataType(),values:u[t],numberOfComponents:a.getArrayByIndex(e).getNumberOfComponents()});v.addArray(n)}c.length!==0&&n.getLines().setData(Uint16Array.from(c)),l.length!==0&&n.getPolys().setData(Uint16Array.from(l))}e.requestData=(e,n)=>{let i=e[0];if(!i){k3(`Invalid or missing input`);return}if(!t.cutFunction){k3(`Missing cut function`);return}let a=n[0]?.initialize()||Y0.newInstance();r(i,a),n[0]=a}}var T_e={cutFunction:null,cutScalars:null,cutValue:0};function A3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,T_e,n),uq(e,t),xq(e,t,1,1),gq(e,t,[`cutFunction`,`cutValue`]),w_e(e,t)}var E_e={newInstance:wq(A3,`vtkCutter`),extend:A3},D_e=e=>e,j3=1e-6,M3=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.matrix=IW(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=e?XU:D_e}rotateFromDirections(e,t){let n=new Float64Array(3),r=new Float64Array(3),i=new Float64Array(16);MG(n,e[0],e[1],e[2]),MG(r,t[0],t[1],t[2]),BG(n,n),BG(r,r);let a=VG(n,r);return a>=1?this:(HG(this.tmp,n,r),kG(this.tmp)<j3&&(HG(this.tmp,[1,0,0],e),kG(this.tmp)<j3&&HG(this.tmp,[0,1,0],e)),XW(i,Math.acos(a),this.tmp),VW(this.matrix,this.matrix,i),this)}rotate(e,t){return MG(this.tmp,...t),BG(this.tmp,this.tmp),WW(this.matrix,this.matrix,this.angleConv(e),this.tmp),this}rotateX(e){return GW(this.matrix,this.matrix,this.angleConv(e)),this}rotateY(e){return KW(this.matrix,this.matrix,this.angleConv(e)),this}rotateZ(e){return qW(this.matrix,this.matrix,this.angleConv(e)),this}translate(e,t,n){return MG(this.tmp,e,t,n),HW(this.matrix,this.matrix,this.tmp),this}scale(e,t,n){return MG(this.tmp,e,t,n),UW(this.matrix,this.matrix,this.tmp),this}multiply(e){return VW(this.matrix,this.matrix,e),this}multiply3x3(e){return VW(this.matrix,this.matrix,[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]),this}invert(){return RW(this.matrix,this.matrix),this}identity(){return IW(this.matrix),this}apply(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(UZ(kX,this.matrix))return this;let r=n===-1?e.length:t+n*3;for(let n=t;n<r;n+=3)MG(this.tmp,e[n],e[n+1],e[n+2]),UG(this.tmp,this.tmp,this.matrix),e[n]=this.tmp[0],e[n+1]=this.tmp[1],e[n+2]=this.tmp[2];return this}getMatrix(){return this.matrix}setMatrix(e){return e&&e.length===16&&NW(this.matrix,e),this}};function O_e(){return new M3(!0)}function k_e(){return new M3(!1)}var N3={buildFromDegree:O_e,buildFromRadian:k_e},A_e=[2,0,1,2,2,3,2,4,5,2,6,7,2,0,2,2,1,3,2,4,6,2,5,7,2,0,4,2,1,5,2,2,6,2,3,7],j_e=[4,0,1,3,2,4,4,6,7,5,4,8,10,11,9,4,12,13,15,14,4,16,18,19,17,4,20,21,23,22];function M_e(e,t){t.classHierarchy.push(`vtkCubeSource`),e.requestData=(e,n)=>{let r=n[0]?.initialize()||Y0.newInstance();n[0]=r;let i=$.newTypedArray(t.pointType,72);r.getPoints().setData(i,3);let a=$.newTypedArray(t.pointType,72),o=l1.newInstance({name:`Normals`,values:a,numberOfComponents:3});r.getPointData().setNormals(o);let s=2;t.generate3DTextureCoordinates===!0&&(s=3);let c=$.newTypedArray(t.pointType,24*s),l=l1.newInstance({name:`TextureCoordinates`,values:c,numberOfComponents:s});r.getPointData().setTCoords(l);let u=[0,0,0],d=[0,0,0],f=[0,0],p=0;u[0]=-t.xLength/2,d[0]=-1,d[1]=0,d[2]=0;for(let e=0;e<2;e++){u[1]=-t.yLength/2;for(let n=0;n<2;n++){f[1]=u[1]+.5,u[2]=-t.zLength/2;for(let r=0;r<2;r++)f[0]=(u[2]+.5)*(1-2*e),i[p*3]=u[0],i[p*3+1]=u[1],i[p*3+2]=u[2],a[p*3]=d[0],a[p*3+1]=d[1],a[p*3+2]=d[2],s===2?(c[p*s]=f[0],c[p*s+1]=f[1]):(c[p*s]=2*e-1,c[p*s+1]=2*n-1,c[p*s+2]=2*r-1),p++,u[2]+=t.zLength;u[1]+=t.yLength}u[0]+=t.xLength,d[0]+=2}u[1]=-t.yLength/2,d[1]=-1,d[0]=0,d[2]=0;for(let e=0;e<2;e++){u[0]=-t.xLength/2;for(let n=0;n<2;n++){f[0]=(u[0]+.5)*(2*e-1),u[2]=-t.zLength/2;for(let r=0;r<2;r++)f[1]=(u[2]+.5)*-1,i[p*3]=u[0],i[p*3+1]=u[1],i[p*3+2]=u[2],a[p*3]=d[0],a[p*3+1]=d[1],a[p*3+2]=d[2],s===2?(c[p*s]=f[0],c[p*s+1]=f[1]):(c[p*s]=2*n-1,c[p*s+1]=2*e-1,c[p*s+2]=2*r-1),p++,u[2]+=t.zLength;u[0]+=t.xLength}u[1]+=t.yLength,d[1]+=2}u[2]=-t.zLength/2,d[2]=-1,d[0]=0,d[1]=0;for(let e=0;e<2;e++){u[1]=-t.yLength/2;for(let n=0;n<2;n++){f[1]=u[1]+.5,u[0]=-t.xLength/2;for(let r=0;r<2;r++)f[0]=(u[0]+.5)*(2*e-1),i[p*3]=u[0],i[p*3+1]=u[1],i[p*3+2]=u[2],a[p*3]=d[0],a[p*3+1]=d[1],a[p*3+2]=d[2],s===2?(c[p*s]=f[0],c[p*s+1]=f[1]):(c[p*s]=2*r-1,c[p*s+1]=2*n-1,c[p*s+2]=2*e-1),p++,u[0]+=t.xLength;u[1]+=t.yLength}u[2]+=t.zLength,d[2]+=2}if(t.rotations&&N3.buildFromDegree().rotateX(t.rotations[0]).rotateY(t.rotations[1]).rotateZ(t.rotations[2]).apply(i).apply(a),t.center&&N3.buildFromRadian().translate(...t.center).apply(i),t.matrix){N3.buildFromRadian().setMatrix(t.matrix).apply(i);let e=[t.matrix[0],t.matrix[1],t.matrix[2],0,t.matrix[4],t.matrix[5],t.matrix[6],0,t.matrix[8],t.matrix[9],t.matrix[10],0,0,0,0,1];N3.buildFromRadian().setMatrix(e).apply(a)}t.generateFaces?r.getPolys().deepCopy(t._polys):r.getPolys().initialize(),t.generateLines?(r.getLines().deepCopy(t._lineCells),r.getPointData().setNormals(null)):r.getLines().initialize(),r.modified()},e.setBounds=function(){let t=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))t=arguments.length<=0?void 0:arguments[0];else for(let e=0;e<arguments.length;e++)t.push(e<0||arguments.length<=e?void 0:arguments[e]);t.length===6&&(e.setXLength(t[1]-t[0]),e.setYLength(t[3]-t[2]),e.setZLength(t[5]-t[4]),e.setCenter([(t[0]+t[1])/2,(t[2]+t[3])/2,(t[4]+t[5])/2]))}}var N_e={xLength:1,yLength:1,zLength:1,pointType:`Float64Array`,generate3DTextureCoordinates:!1,generateFaces:!0,generateLines:!1};function P3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,N_e,n),$.obj(e,t),$.setGet(e,t,[`xLength`,`yLength`,`zLength`,`generate3DTextureCoordinates`,`generateFaces`,`generateLines`]),$.setGetArray(e,t,[`center`,`rotations`],3),$.setGetArray(e,t,[`matrix`],16),t._polys=m0.newInstance({values:Uint16Array.from(j_e)}),t._lineCells=m0.newInstance({values:Uint16Array.from(A_e)}),$.moveToProtected(e,t,[`polys`,`lineCells`]),$.algo(e,t,0,1),M_e(e,t)}var P_e={newInstance:$.newInstance(P3,`vtkCubeSource`),extend:P3},{vtkErrorMacro:F3}=$;function F_e(e,t){t.classHierarchy.push(`vtkImageDataOutlineFilter`);let n={...e};e.requestData=(e,n)=>{let r=e[0];if(!r||!r.isA(`vtkImageData`)){F3(`Invalid or missing input`);return}let i=r.getSpatialExtent();if(!i){F3(`Unable to fetch spatial extents of input image.`);return}t._cubeSource.setBounds(i),t._cubeSource.setMatrix(r.getIndexToWorld()),n[0]=t._cubeSource.getOutputData()},e.getMTime=()=>Math.max(n.getMTime(),t._cubeSource.getMTime()),e.setGenerateFaces=t._cubeSource.setGenerateFaces,e.setGenerateLines=t._cubeSource.setGenerateLines,e.getGenerateFaces=t._cubeSource.getGenerateFaces,e.getGenerateLines=t._cubeSource.getGenerateLines}var I_e={};function I3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,I_e,n),$.obj(e,t),$.algo(e,t,1,1),t._cubeSource=P_e.newInstance(),$.moveToProtected(e,t,[`cubeSource`,`tmpOut`]),F_e(e,t)}var L_e={newInstance:$.newInstance(I3,`vtkImageDataOutlineFilter`),extend:I3},{vtkWarningMacro:R_e}=$,L3;function z_e(e,t){t.classHierarchy.push(`vtkAbstractTransform`,`vtkHomogeneousTransform`,`vtkTransform`),e.transformPoint=(e,n)=>(UG(n,e,t.matrix),n),e.transformPoints=(e,n)=>{let r=new Float64Array(3),i=new Float64Array(3);for(let a=0;a<e.length;a+=3)r[0]=e[a],r[1]=e[a+1],r[2]=e[a+2],UG(i,r,t.matrix),n[a]=i[0],n[a+1]=i[1],n[a+2]=i[2];return n},e.preMultiply=()=>{e.setPreMultiplyFlag(!0)},e.postMultiply=()=>{e.setPreMultiplyFlag(!1)},e.transformMatrix=(e,n)=>(t.preMultiplyFlag?VW(n,t.matrix,e):VW(n,e,t.matrix),n),e.transformMatrices=(e,n)=>{let r=new Float64Array(16),i=new Float64Array(16),a=t.preMultiplyFlag?()=>VW(i,t.matrix,r):()=>VW(i,r,t.matrix);for(let t=0;t<e.length;t+=16){for(let n=0;n<16;++n)r[n]=e[t+n];a();for(let e=0;e<16;++e)n[t+e]=i[e]}return n},e.getInverse=()=>L3({matrix:zQ.invertMatrix(Array.from(t.matrix),[],4),preMultiplyFlag:t.preMultiplyFlag}),e.translate=(n,r,i)=>{if(n===0&&r===0&&i===0)return;let a=jW();JW(a,[n,r,i]),t.preMultiplyFlag?VW(t.matrix,t.matrix,a):VW(t.matrix,a,t.matrix),e.modified()},e.rotateWXYZ=(n,r,i,a)=>{if(r===0&&i===0&&a===0){R_e(`No rotation applied, axis is zero vector.`);return}if(n===0)return;let o=zQ.radiansFromDegrees(n),s=rK();iK(s,[r,i,a],o);let c=new Float64Array(16);sG(c,s),t.preMultiplyFlag?VW(t.matrix,t.matrix,c):VW(t.matrix,c,t.matrix),e.modified()},e.rotateX=t=>{e.rotateWXYZ(t,1,0,0)},e.rotateY=t=>{e.rotateWXYZ(t,0,1,0)},e.rotateZ=t=>{e.rotateWXYZ(t,0,0,1)},e.scale=(n,r,i)=>{if(n===1&&r===1&&i===1)return;let a=jW();YW(a,[n,r,i]),t.preMultiplyFlag?VW(t.matrix,t.matrix,a):VW(t.matrix,a,t.matrix),e.modified()},e.transformNormal=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=$U(QU(),t.matrix),a=QU();oW(a,i);let o=QU();return aW(o,a),e.transformVector(n,r,o),zQ.normalize(r),r},e.transformNormals=(n,r)=>{let i=n.getData(),a=r.getData(),o=[0,0,0],s=$U(QU(),t.matrix),c=QU();oW(c,s);let l=QU();aW(l,c);for(let t=0;t<i.length;t+=3)o[0]=i[t],o[1]=i[t+1],o[2]=i[t+2],e.transformVector(o,o,l),zQ.normalize(o),a[t]=o[0],a[t+1]=o[1],a[t+2]=o[2]},e.transformVector=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return WG(n,e,(arguments.length>2&&arguments[2]!==void 0?arguments[2]:null)||$U(QU(),t.matrix)),n},e.transformVectors=(t,n)=>{let r=t.getData(),i=n.getData(),a=[0,0,0];for(let t=0;t<r.length;t+=3)a[0]=r[t],a[1]=r[t+1],a[2]=r[t+2],e.transformVector(a,a),zQ.normalize(a),i[t]=a[0],i[t+1]=a[1],i[t+2]=a[2]},e.transformPointsNormalsVectors=function(t,n,r,i,a,o){let s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,l=t.getNumberOfPoints(),u=s?.length??0,d=new Float64Array(3),f=new Float64Array(3),p=new Float64Array(3),m=new Float64Array(3),h=!1,g=!1,_=!1,v=[];for(let y=0;y<l;y++){if(t.getPoint(y,d),f.set(d),e.transformPoint(d,d),n.setPoint(y,...d),zQ.areEquals(f,d)||(h=!0),a){let t=a.getData(),n=o.getData();d[0]=t[y*3],d[1]=t[y*3+1],d[2]=t[y*3+2],p.set(d),e.transformVector(d,d),n[y*3]=d[0],n[y*3+1]=d[1],n[y*3+2]=d[2],zQ.areEquals(p,d)||(g=!0)}if(r){let t=r.getData(),n=i.getData();d[0]=t[y*3],d[1]=t[y*3+1],d[2]=t[y*3+2],m.set(d),e.transformNormal(d,d),n[y*3]=d[0],n[y*3+1]=d[1],n[y*3+2]=d[2],zQ.areEquals(m,d)||(_=!0)}if(s)for(let t=0;t<u;t++){let n=s[t].getData(),r=c[t].getData();d[0]=n[y*3],d[1]=n[y*3+1],d[2]=n[y*3+2],p.set(d),e.transformVector(d,d),r[y*3]=d[0],r[y*3+1]=d[1],r[y*3+2]=d[2],!zQ.arrayEqual(p,d)&&!v.includes(t)&&v.push(t)}}h&&n.modified(),g&&o.modified(),_&&i.modified(),v.forEach(e=>c[e].modified())}}var B_e={preMultiplyFlag:!1,matrix:[...kX]};function R3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,B_e,n),$.obj(e,t),$.setGet(e,t,[`preMultiplyFlag`]),$.setGetArray(e,t,[`matrix`],16),z_e(e,t)}L3=$.newInstance(R3,`vtkTransform`);var V_e={newInstance:L3,extend:R3};function z3(e,t,n){return e.length>0?`${e.map(e=>e?.getMTime()??`x`).join(`/`)}-${t}-${n}`:`0`}function B3(e,t){return`${t.getMTime()}`}var H_e=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkImageResliceMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model coordinates
// WC - World coordinates
// VC - View coordinates
// DC - Display coordinates
// TC - Texture coordinates

// frag position in VC
//VTK::PositionVC::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// camera and actor matrix values
//VTK::Camera::Dec

void main()
{
  //VTK::PositionVC::Impl

  //VTK::TCoord::Impl

  //VTK::Picking::Impl
}
`,U_e=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkImageResliceMapperFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the gpu image mapper fragment shader

// VC position of this fragment
//VTK::PositionVC::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

// the output of this shader
//VTK::Output::Dec

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  //VTK::TCoord::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`,V3={NEAREST:0,LINEAR:1},W_e={InterpolationType:V3},{vtkErrorMacro:H3}=Bq;function U3(e,t,n){return t.identity(n),e.reduce((e,n,r)=>r===0?n?t.copy(e,n):t.identity(e):n?t.multiply(e,e,n):e,n)}function G_e(e,t){t.classHierarchy.push(`vtkOpenGLImageResliceMapper`);let n=new Map;function r(t,r){if(!r)return;let i=(n.get(r)??0)-1;i<=0?(t.unregisterGraphicsResourceUser(r,e),n.delete(r)):n.set(r,i)}function i(t,r){if(!r)return;let i=n.get(r)??0,a=i+1;n.set(r,a),i<=0&&t.registerGraphicsResourceUser(r,e)}function a(e,t,n){t!==n&&(r(e,t),i(e,n))}function o(t){[...n.keys()].forEach(n=>t.unregisterGraphicsResourceUser(n,e))}e.buildPass=n=>{if(n){t.currentRenderPass=null,t._openGLImageSlice=e.getFirstAncestorOfType(`vtkOpenGLImageSlice`),t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`);let n=t._openGLRenderer.getRenderable();t._openGLCamera=t._openGLRenderer.getViewNodeFor(n.getActiveCamera(),t.openGLCamera);let r=t._openGLRenderWindow;t._openGLRenderWindow=t._openGLRenderer.getLastAncestorOfType(`vtkOpenGLRenderWindow`),r&&!r.isDeleted()&&r!==t._openGLRenderWindow&&o(r),t.context=t._openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t._openGLRenderWindow)}},e.translucentPass=(n,r)=>{n&&(t.currentRenderPass=r,e.render())},e.zBufferPass=n=>{n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.opaqueZBufferPass=t=>e.zBufferPass(t),e.opaquePass=t=>{t&&e.render()},e.getCoincidentParameters=(e,n)=>t.renderable.getResolveCoincidentTopology()==G1.PolygonOffset?t.renderable.getCoincidentTopologyPolygonOffsetParameters():null,e.render=()=>{let n=t._openGLImageSlice.getRenderable(),r=t._openGLRenderer.getRenderable();e.renderPiece(r,n)},e.renderPiece=(n,r)=>{e.invokeEvent({type:`StartEvent`}),t.renderable.update();let i=t.renderable.getNumberOfInputPorts();t.currentValidInputs=[];for(let e=0;e<i;++e){let n=t.renderable.getInputData(e);n&&!n.isDeleted()&&t.currentValidInputs.push({imageData:n,inputIndex:e})}let a=t.currentValidInputs.length;if(a<=0){H3(`No input!`);return}let o=t.currentValidInputs[0].imageData.getPointData().getScalars();t.multiTexturePerVolumeEnabled=a>1,t.numberOfComponents=t.multiTexturePerVolumeEnabled?a:o.getNumberOfComponents(),e.updateResliceGeometry(),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r),e.invokeEvent({type:`EndEvent`})},e.renderPieceStart=(n,r)=>{e.updateBufferObjects(n,r);let i=r.getProperties();t.currentValidInputs.forEach(e=>{let{inputIndex:n}=e,r=i[n].getInterpolationType(),a=t.scalarTextures[n];r===V3.NEAREST?(a.setMinificationFilter(j2.NEAREST),a.setMagnificationFilter(j2.NEAREST)):(a.setMinificationFilter(j2.LINEAR),a.setMagnificationFilter(j2.LINEAR))}),i[t.currentValidInputs[0].inputIndex].getInterpolationType()===V3.NEAREST?(t.colorTexture.setMinificationFilter(j2.NEAREST),t.colorTexture.setMagnificationFilter(j2.NEAREST),t.pwfTexture.setMinificationFilter(j2.NEAREST),t.pwfTexture.setMagnificationFilter(j2.NEAREST)):(t.colorTexture.setMinificationFilter(j2.LINEAR),t.colorTexture.setMagnificationFilter(j2.LINEAR),t.pwfTexture.setMinificationFilter(j2.LINEAR),t.pwfTexture.setMagnificationFilter(j2.LINEAR)),t.lastBoundBO=null},e.renderPieceDraw=(n,r)=>{let i=t.context,a=[...t.scalarTextures,t.colorTexture,t.pwfTexture];a.forEach(e=>e.activate()),e.updateShaders(t.tris,n,r),i.drawArrays(i.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),a.forEach(e=>e.deactivate())},e.renderPieceFinish=(e,t)=>{},e.updateBufferObjects=(t,n)=>{e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=(n,r)=>t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty(t.currentValidInputs[0].inputIndex)?.getMTime()||t.currentValidInputs.some(e=>{let{imageData:n}=e;return t.VBOBuildTime.getMTime()<n.getMTime()})||t.VBOBuildTime.getMTime()<t.resliceGeom.getMTime()||t.scalarTextures.length!==t.currentValidInputs.length||!t.scalarTextures.every(e=>!!e?.getHandle())||!t.colorTexture?.getHandle()||!t.pwfTexture?.getHandle(),e.buildBufferObjects=(e,n)=>{let r=n.getProperties();t.currentValidInputs.forEach((e,n)=>{let{imageData:i}=e,o=i.getPointData().getScalars(),s=t._openGLRenderWindow.getGraphicsResourceForObject(o),c=B3(i,o),l=!s?.oglObject?.getHandle()||s?.hash!==c,u=r[n],d=u.getUpdatedExtents(),f=!!d.length;if(l&&!f){let e=G2.newInstance();e.setOpenGLRenderWindow(t._openGLRenderWindow);let r=i.getDimensions();e.setOglNorm16Ext(t.context.getExtension(`EXT_texture_norm16`)),e.resetFormatAndType(),e.create3DFilterableFromDataArray({width:r[0],height:r[1],depth:r[2],dataArray:o}),t._openGLRenderWindow.setGraphicsResourceForObject(o,e,c),t.scalarTextures[n]=e}else t.scalarTextures[n]=s.oglObject;if(f){u.setUpdatedExtents([]);let e=i.getDimensions();t.scalarTextures[n].create3DFilterableFromDataArray({width:e[0],height:e[1],depth:e[2],dataArray:o,updatedExtents:d})}a(t._openGLRenderWindow,t._scalarTexturesCore[n],o),t._scalarTexturesCore[n]=o});let i=r[t.currentValidInputs[0].inputIndex],o=i.getIndependentComponents(),s=o?t.numberOfComponents:1,c=o?2*s:1,l=[];for(let e=0;e<s;++e)l.push(i.getRGBTransferFunction(e));let u=z3(l,o,s),d=i.getRGBTransferFunction(),f=t._openGLRenderWindow.getGraphicsResourceForObject(d);if(!f?.oglObject?.getHandle()||f?.hash!==u){let e=t.renderable.getColorTextureWidth();e<=0&&(e=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let n=e*c*3,r=new Uint8ClampedArray(n),a=G2.newInstance();if(a.setOpenGLRenderWindow(t._openGLRenderWindow),d){let t=new Float32Array(e*3);for(let n=0;n<s;n++){let a=i.getRGBTransferFunction(n),s=a.getRange();if(a.getTable(s[0],s[1],e,t,1),o)for(let i=0;i<e*3;i++)r[n*e*6+i]=255*t[i],r[n*e*6+i+e*3]=255*t[i];else for(let i=0;i<e*3;i++)r[n*e*3+i]=255*t[i]}a.resetFormatAndType(),a.create2DFromRaw({width:e,height:c,numComps:3,dataType:t1.UNSIGNED_CHAR,data:r})}else{for(let t=0;t<e*3;++t){let n=255*t/((e-1)*3);for(let i=0;i<c;++i)r[i*e*3+t+0]=n,r[i*e*3+t+1]=n,r[i*e*3+t+2]=n}a.resetFormatAndType(),a.create2DFromRaw({width:e,height:1,numComps:3,dataType:t1.UNSIGNED_CHAR,data:r})}d&&t._openGLRenderWindow.setGraphicsResourceForObject(d,a,u),t.colorTexture=a}else t.colorTexture=f.oglObject;a(t._openGLRenderWindow,t._colorTextureCore,d),t._colorTextureCore=d;let p=[];for(let e=0;e<s;++e)p.push(i.getPiecewiseFunction(e));let m=z3(p,o,s),h=i.getPiecewiseFunction(),g=t._openGLRenderWindow.getGraphicsResourceForObject(h);if(!g?.oglObject?.getHandle()||g?.hash!==m){let e=t.renderable.getOpacityTextureWidth();e<=0&&(e=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let n=e*c,r=new Uint8ClampedArray(n),a=G2.newInstance();if(a.setOpenGLRenderWindow(t._openGLRenderWindow),h){let t=new Float32Array(n),r=new Float32Array(e);for(let n=0;n<s;++n){let a=i.getPiecewiseFunction(n);if(a===null)t.fill(1);else{let i=a.getRange();if(a.getTable(i[0],i[1],e,r,1),o)for(let i=0;i<e;i++)t[n*e*2+i]=r[i],t[n*e*2+i+e]=r[i];else for(let n=0;n<e;n++)t[n]=r[n]}}a.resetFormatAndType(),a.create2DFromRaw({width:e,height:c,numComps:1,dataType:t1.FLOAT,data:t})}else r.fill(255),a.resetFormatAndType(),a.create2DFromRaw({width:e,height:c,numComps:1,dataType:t1.UNSIGNED_CHAR,data:r});h&&t._openGLRenderWindow.setGraphicsResourceForObject(h,a,m),t.pwfTexture=a}else t.pwfTexture=g.oglObject;a(t._openGLRenderWindow,t._pwfTextureCore,h),t._pwfTextureCore=h;let _=`${t.resliceGeom.getMTime()}A${t.renderable.getSlabThickness()}`;if(!t.tris.getCABO().getElementCount()||t.VBOBuildString!==_){let e=l1.newInstance({numberOfComponents:3,values:t.resliceGeom.getPoints().getData()});e.setName(`points`);let n=l1.newInstance({numberOfComponents:1,values:t.resliceGeom.getPolys().getData()}),r={points:e,cellOffset:0};if(t.renderable.getSlabThickness()>0){let e=t.resliceGeom.getPointData().getNormals();e?r.normals=e:H3(`Slab mode requested without normals`)}t.tris.getCABO().createVBO(n,`polys`,G$.SURFACE,r)}t.VBOBuildString=_,t.VBOBuildTime.modified()},e.updateShaders=(n,r,i)=>{if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,i)){let a={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(a,r,i);let o=t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(a.Vertex,a.Fragment,a.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,i),e.setCameraShaderParameters(n,r,i),e.setPropertyShaderParameters(n,r,i)},e.setMapperShaderParameters=(n,r,i)=>{let a=n.getProgram(),o=t.currentValidInputs[0].imageData;if(n.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())){t.scalarTextures.forEach((e,t)=>{a.setUniformi(`volumeTexture[${t}]`,e.getTextureUnit())}),a.isAttributeUsed(`vertexWC`)&&(n.getVAO().addAttributeArray(a,n.getCABO(),`vertexWC`,n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||H3(`Error setting vertexWC in shader VAO.`)),a.isAttributeUsed(`normalWC`)&&(n.getVAO().addAttributeArray(a,n.getCABO(),`normalWC`,n.getCABO().getNormalOffset(),n.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||H3(`Error setting normalWC in shader VAO.`)),a.isUniformUsed(`slabThickness`)&&a.setUniformf(`slabThickness`,t.renderable.getSlabThickness()),a.isUniformUsed(`spacing`)&&a.setUniform3fv(`spacing`,o.getSpacing()),a.isUniformUsed(`slabType`)&&a.setUniformi(`slabType`,t.renderable.getSlabType()),a.isUniformUsed(`slabType`)&&a.setUniformi(`slabType`,t.renderable.getSlabType()),a.isUniformUsed(`slabTrapezoid`)&&a.setUniformi(`slabTrapezoid`,t.renderable.getSlabTrapezoidIntegration());let e=n.getCABO().getCoordShiftAndScaleEnabled()?n.getCABO().getInverseShiftAndScaleMatrix():null;if(a.isUniformUsed(`WCTCMatrix`)){let n=o.getDimensions();NW(t.tmpMat4,o.getIndexToWorld()),HW(t.tmpMat4,t.tmpMat4,[-.5,-.5,-.5]),UW(t.tmpMat4,t.tmpMat4,n),RW(t.tmpMat4,t.tmpMat4),e&&VW(t.tmpMat4,t.tmpMat4,e),a.setUniformMatrix(`WCTCMatrix`,t.tmpMat4)}a.isUniformUsed(`vboScaling`)&&a.setUniform3fv(`vboScaling`,n.getCABO().getCoordScale()??[1,1,1]),n.getAttributeUpdateTime().modified()}if(t.haveSeenDepthRequest&&n.getProgram().setUniformi(`depthRequest`,t.renderDepth?1:0),n.getProgram().isUniformUsed(`coffset`)){let t=e.getCoincidentParameters(r,i);n.getProgram().setUniformf(`coffset`,t.offset),n.getProgram().isUniformUsed(`cfactor`)&&n.getProgram().setUniformf(`cfactor`,t.factor)}},e.setCameraShaderParameters=(e,n,r)=>{let i=t._openGLCamera.getKeyMatrices(n),a=t._openGLImageSlice.getKeyMatrices(),o=e.getCABO().getCoordShiftAndScaleEnabled()?e.getCABO().getInverseShiftAndScaleMatrix():null,s=e.getProgram();s.isUniformUsed(`MCPCMatrix`)&&(IW(t.tmpMat4),s.setUniformMatrix(`MCPCMatrix`,U3([i.wcpc,a.mcwc,o],AW,t.tmpMat4))),s.isUniformUsed(`MCVCMatrix`)&&(IW(t.tmpMat4),s.setUniformMatrix(`MCVCMatrix`,U3([i.wcvc,a.mcwc,o],AW,t.tmpMat4)))},e.setPropertyShaderParameters=(e,n,r)=>{let i=e.getProgram(),a=r.getProperty(t.currentValidInputs[0].inputIndex),o=a.getOpacity();i.setUniformf(`opacity`,o);let s=t.numberOfComponents,c=a.getIndependentComponents();if(c)for(let e=0;e<s;++e)i.setUniformf(`mix${e}`,a.getComponentWeight(e));for(let e=0;e<s;e++){let n=t.multiTexturePerVolumeEnabled,r=n?e:0,o=n?0:e,s=t.scalarTextures[r].getVolumeInfo(),l=s.scale[o],u=s.offset[o],d=c?e:0,f=a.getColorWindow(),p=a.getColorLevel(),m=a.getRGBTransferFunction(d);if(m&&a.getUseLookupTableScalarRange()){let e=m.getRange();f=e[1]-e[0],p=.5*(e[1]+e[0])}let h=l/f,g=(u-p)/f+.5;i.setUniformf(`cshift${e}`,g),i.setUniformf(`cscale${e}`,h);let _=1,v=0,y=a.getPiecewiseFunction(d);if(y){let e=y.getRange(),t=e[1]-e[0],n=.5*(e[0]+e[1]);_=l/t,v=(u-n)/t+.5}i.setUniformf(`pwfshift${e}`,v),i.setUniformf(`pwfscale${e}`,_)}let l=t.colorTexture.getTextureUnit();i.setUniformi(`colorTexture1`,l);let u=t.pwfTexture.getTextureUnit();i.setUniformi(`pwfTexture1`,u),i.setUniform4fv(`backgroundColor`,t.renderable.getBackgroundColor())},e.getNeedToRebuildShaders=(e,n,r)=>{let i=r.getProperty(t.currentValidInputs[0].inputIndex).getIndependentComponents(),a=t.renderable.getSlabThickness(),o=t.renderable.getSlabType(),s=t.renderable.getSlabTrapezoidIntegration(),c=!1;return(!t.currentRenderPass&&t.lastRenderPassShaderReplacement||t.currentRenderPass&&t.currentRenderPass.getShaderReplacement()!==t.lastRenderPassShaderReplacement)&&(c=!0),c||t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||t.lastNumberOfComponents!==t.numberOfComponents||t.lastMultiTexturePerVolumeEnabled!==t.multiTexturePerVolumeEnabled||e.getProgram()?.getHandle()===0||t.lastIndependentComponents!==i||t.lastSlabThickness!==a||t.lastSlabType!==o||t.lastSlabTrapezoidIntegration!==s?(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,t.lastNumberOfComponents=t.numberOfComponents,t.lastMultiTexturePerVolumeEnabled=t.multiTexturePerVolumeEnabled,t.lastIndependentComponents=i,t.lastSlabThickness=a,t.lastSlabType=o,t.lastSlabTrapezoidIntegration=s,!0):!1},e.getShaderTemplate=(e,t,n)=>{e.Vertex=H_e,e.Fragment=U_e,e.Geometry=``},e.replaceShaderValues=(n,r,i)=>{if(e.replaceShaderTCoord(n,r,i),e.replaceShaderPositionVC(n,r,i),t.haveSeenDepthRequest){let e=n.Fragment;e=w2.substitute(e,`//VTK::ZBuffer::Dec`,`uniform int depthRequest;`).result,e=w2.substitute(e,`//VTK::ZBuffer::Impl`,[`if (depthRequest == 1) {`,`float iz = floor(gl_FragCoord.z*65535.0 + 0.1);`,`float rf = floor(iz/256.0)/255.0;`,`float gf = mod(iz,256.0)/255.0;`,`gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }`]).result,n.Fragment=e}e.replaceShaderCoincidentOffset(n,r,i)},e.replaceShaderTCoord=(e,n,r)=>{let i=e.Vertex,a=e.Geometry,o=e.Fragment,s=[`uniform mat4 WCTCMatrix;`,`out vec3 fragTexCoord;`],c=t.renderable.getSlabThickness();i=w2.substitute(i,`//VTK::TCoord::Dec`,s).result,i=w2.substitute(i,`//VTK::TCoord::Impl`,[`fragTexCoord = (WCTCMatrix * vertexWC).xyz;`]).result;let l=t.numberOfComponents,u=r.getProperty(t.currentValidInputs[0].inputIndex).getIndependentComponents(),d=[`in vec3 fragTexCoord;`,`uniform highp sampler3D volumeTexture[${t.scalarTextures.length}];`,`uniform mat4 WCTCMatrix;`,`uniform float cshift0;`,`uniform float cscale0;`,`uniform float pwfshift0;`,`uniform float pwfscale0;`,`uniform sampler2D colorTexture1;`,`uniform sampler2D pwfTexture1;`,`uniform float opacity;`,`uniform vec4 backgroundColor;`];if(d.push(`vec4 rawSampleTexture(vec3 pos) {`),!t.multiTexturePerVolumeEnabled)d.push(`return texture(volumeTexture[0], pos);`,`}`);else{d.push(`vec4 rawSample;`);for(let e=0;e<t.scalarTextures.length;++e)d.push(`rawSample[${e}] = texture(volumeTexture[${e}], pos)[0];`);d.push(`return rawSample;`,`}`)}if(u){for(let e=1;e<l;e++)d=d.concat([`uniform float cshift${e};`,`uniform float cscale${e};`,`uniform float pwfshift${e};`,`uniform float pwfscale${e};`]);switch(l){case 1:d=d.concat([`uniform float mix0;`,`#define height0 0.5`]);break;case 2:d=d.concat([`uniform float mix0;`,`uniform float mix1;`,`#define height0 0.25`,`#define height1 0.75`]);break;case 3:d=d.concat([`uniform float mix0;`,`uniform float mix1;`,`uniform float mix2;`,`#define height0 0.17`,`#define height1 0.5`,`#define height2 0.83`]);break;case 4:d=d.concat([`uniform float mix0;`,`uniform float mix1;`,`uniform float mix2;`,`uniform float mix3;`,`#define height0 0.125`,`#define height1 0.375`,`#define height2 0.625`,`#define height3 0.875`]);break;default:H3(`Unsupported number of independent coordinates.`)}}c>0&&(d=d.concat([`uniform vec3 spacing;`,`uniform float slabThickness;`,`uniform int slabType;`,`uniform int slabTrapezoid;`,`uniform vec3 vboScaling;`]),d=d.concat([`vec4 compositeValue(vec4 currVal, vec4 valToComp, int trapezoid)`,`{`,`  vec4 retVal = vec4(1.0);`,`  if (slabType == 0) // min`,`  {`,`    retVal = min(currVal, valToComp);`,`  }`,`  else if (slabType == 1) // max`,`  {`,`    retVal = max(currVal, valToComp);`,`  }`,`  else if (slabType == 3) // sum`,`  {`,`    retVal = currVal + (trapezoid > 0 ? 0.5 * valToComp : valToComp); `,`  }`,`  else // mean`,`  {`,`    retVal = currVal + (trapezoid > 0 ? 0.5 * valToComp : valToComp); `,`  }`,`  return retVal;`,`}`])),o=w2.substitute(o,`//VTK::TCoord::Dec`,d).result;let f=[`if (any(greaterThan(fragTexCoord, vec3(1.0))) || any(lessThan(fragTexCoord, vec3(0.0))))`,`{`,`  // set the background color and exit`,`  gl_FragData[0] = backgroundColor;`,`  return;`,`}`,`vec4 tvalue = rawSampleTexture(fragTexCoord);`];if(c>0&&(f=f.concat([`// Get the first and last samples`,`int numSlices = 1;`,`float scaling = min(min(spacing.x, spacing.y), spacing.z) * 0.5;`,`vec3 normalxspacing = scaling * normalWCVSOutput;`,`float distTraveled = length(normalxspacing);`,`int trapezoid = 0;`,`while (distTraveled < slabThickness * 0.5)`,`{`,`  distTraveled += length(normalxspacing);`,`  float fnumSlices = float(numSlices);`,`  if (distTraveled > slabThickness * 0.5)`,`  {`,`    // Before stepping outside the slab, sample at the boundaries`,`    normalxspacing = normalWCVSOutput * slabThickness * 0.5 / fnumSlices;`,`    trapezoid = slabTrapezoid;`,`  }`,`  vec3 fragTCoordNeg = (WCTCMatrix * vec4(vertexWCVSOutput.xyz - fnumSlices * normalxspacing * vboScaling, 1.0)).xyz;`,`  if (!any(greaterThan(fragTCoordNeg, vec3(1.0))) && !any(lessThan(fragTCoordNeg, vec3(0.0))))`,`  {`,`    vec4 newVal = rawSampleTexture(fragTCoordNeg);`,`    tvalue = compositeValue(tvalue, newVal, trapezoid);`,`    numSlices += 1;`,`  }`,`  vec3 fragTCoordPos = (WCTCMatrix * vec4(vertexWCVSOutput.xyz + fnumSlices * normalxspacing * vboScaling, 1.0)).xyz;`,`  if (!any(greaterThan(fragTCoordNeg, vec3(1.0))) && !any(lessThan(fragTCoordNeg, vec3(0.0))))`,`  {`,`    vec4 newVal = rawSampleTexture(fragTCoordPos);`,`    tvalue = compositeValue(tvalue, newVal, trapezoid);`,`    numSlices += 1;`,`  }`,`}`,`// Finally, if slab type is *mean*, divide the sum by the numSlices`,`if (slabType == 2)`,`{`,`  tvalue = tvalue / float(numSlices);`,`}`])),u){let e=[`r`,`g`,`b`,`a`];for(let t=0;t<l;++t)f=f.concat([`vec3 tcolor${t} = texture2D(colorTexture1, vec2(tvalue.${e[t]} * cscale${t} + cshift${t}, height${t})).rgb;`,`float compWeight${t} = mix${t} * texture2D(pwfTexture1, vec2(tvalue.${e[t]} * pwfscale${t} + pwfshift${t}, height${t})).r;`]);switch(l){case 1:f=f.concat([`gl_FragData[0] = vec4(tcolor0.rgb, compWeight0 * opacity);`]);break;case 2:f=f.concat([`float weightSum = compWeight0 + compWeight1;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);`]);break;case 3:f=f.concat([`float weightSum = compWeight0 + compWeight1 + compWeight2;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);`]);break;case 4:f=f.concat([`float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);`]);break;default:H3(`Unsupported number of independent coordinates.`)}}else switch(l){case 1:f=f.concat([`// Dependent components`,`float intensity = tvalue.r;`,`vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;`,`float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;`,`gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);`]);break;case 2:f=f.concat([`float intensity = tvalue.r*cscale0 + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tvalue.g + pwfshift0);`]);break;case 3:f=f.concat([`vec4 tcolor = cscale0*tvalue + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);`]);break;default:f=f.concat([`vec4 tcolor = cscale0*tvalue + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);`])}o=w2.substitute(o,`//VTK::TCoord::Impl`,f).result,e.Vertex=i,e.Fragment=o,e.Geometry=a},e.replaceShaderPositionVC=(n,r,i)=>{let a=n.Vertex,o=n.Geometry,s=n.Fragment,c=t.renderable.getSlabThickness(),l=[`attribute vec4 vertexWC;`];l=l.concat([`//${e.getMTime()}${t.resliceGeomUpdateString}`]),c>0&&(l=l.concat([`attribute vec3 normalWC;`,`varying vec3 normalWCVSOutput;`,`varying vec4 vertexWCVSOutput;`])),a=w2.substitute(a,`//VTK::PositionVC::Dec`,l).result;let u=[`gl_Position = MCPCMatrix * vertexWC;`];c>0&&(u=u.concat([`normalWCVSOutput = normalWC;`,`vertexWCVSOutput = vertexWC;`])),a=w2.substitute(a,`//VTK::PositionVC::Impl`,u).result,a=w2.substitute(a,`//VTK::Camera::Dec`,[`uniform mat4 MCPCMatrix;`,`uniform mat4 MCVCMatrix;`]).result;let d=[];c>0&&(d=d.concat([`varying vec3 normalWCVSOutput;`,`varying vec4 vertexWCVSOutput;`])),s=w2.substitute(s,`//VTK::PositionVC::Dec`,d).result,n.Vertex=a,n.Geometry=o,n.Fragment=s};function s(e){zQ.normalize(e);let t=[0,0,0];for(let n=0;n<3;++n){GG(t),t[n]=1;let r=zQ.dot(e,t);if(r<-.999999||r>.999999)return[!0,n]}return[!1,2]}e.updateResliceGeometry=()=>{let e=``,n=t.currentValidInputs[0].imageData,r=n?.getBounds(),i=!0,a=2,o=t.renderable.getSlicePolyData(),c=t.renderable.getSlicePlane();if(o)e=e.concat(`PolyData${o.getMTime()}`);else if(c){e=e.concat(`Plane${c.getMTime()}`);let t=QU();n&&(e=e.concat(`Image${n.getMTime()}`),rW(t,...n.getDirection()),oW(t,t));let r=[...c.getNormal()];WG(r,r,t),[i,a]=s(r)}else{let i=ZQ.newInstance();i.setNormal(0,0,1);let a=[0,1,0,1,0,1];n&&(a=r),i.setOrigin(a[0],a[2],.5*(a[5]+a[4])),t.renderable.setSlicePlane(i),e=e.concat(`Plane${c?.getMTime()}`),n&&(e=e.concat(`Image${n.getMTime()}`))}if(!t.resliceGeom||t.resliceGeomUpdateString!==e){if(o)t.resliceGeom||=Y0.newInstance(),t.resliceGeom.getPoints().setData(o.getPoints().getData(),3),t.resliceGeom.getPolys().setData(o.getPolys().getData(),1),t.resliceGeom.getPointData().setNormals(o.getPointData().getNormals());else if(c)if(i){let e=new Float32Array(12),r=n.worldToIndex(c.getOrigin(),[0,0,0]),i=[(a+1)%3,(a+2)%3].sort(),o=n.getSpatialExtent(),s=0;for(let t=0;t<2;++t)for(let n=0;n<2;++n)e[s+a]=r[a],e[s+i[0]]=o[2*i[0]+n],e[s+i[1]]=o[2*i[1]+t],s+=3;t.transform.setMatrix(n.getIndexToWorld()),t.transform.transformPoints(e,e);let l=new Uint16Array(8);l[0]=3,l[1]=0,l[2]=1,l[3]=3,l[4]=3,l[5]=0,l[6]=3,l[7]=2;let u=c.getNormal();zQ.normalize(u);let d=new Float32Array(12);for(let e=0;e<4;++e)d[3*e]=u[0],d[3*e+1]=u[1],d[3*e+2]=u[2];t.resliceGeom||=Y0.newInstance(),t.resliceGeom.getPoints().setData(e,3),t.resliceGeom.getPolys().setData(l,1);let f=l1.newInstance({numberOfComponents:3,values:d,name:`Normals`});t.resliceGeom.getPointData().setNormals(f)}else{t.outlineFilter.setInputData(n),t.cutter.setInputConnection(t.outlineFilter.getOutputPort()),t.cutter.setCutFunction(c),t.lineToSurfaceFilter.setInputConnection(t.cutter.getOutputPort()),t.lineToSurfaceFilter.update(),t.resliceGeom||=Y0.newInstance();let e=t.lineToSurfaceFilter.getOutputData();t.resliceGeom.getPoints().setData(e.getPoints().getData(),3),t.resliceGeom.getPolys().setData(e.getPolys().getData(),1),t.resliceGeom.getPointData().setNormals(e.getPointData().getNormals());let r=c.getNormal(),i=t.resliceGeom.getNumberOfPoints();zQ.normalize(r);let a=new Float32Array(i*3);for(let e=0;e<i;++e)a[3*e]=r[0],a[3*e+1]=r[1],a[3*e+2]=r[2];let o=l1.newInstance({numberOfComponents:3,values:a,name:`Normals`});t.resliceGeom.getPointData().setNormals(o)}else H3(`Something went wrong.`,`A default slice plane should have been created in the beginning of`,`updateResliceGeometry.`);t.resliceGeomUpdateString=e,t.resliceGeom?.modified()}},e.setScalarTextures=e=>{t.scalarTextures=[...e],t._externalOpenGLTexture=!0},e.delete=Tq(()=>{t._openGLRenderWindow&&o(t._openGLRenderWindow)},e.delete)}var K_e={VBOBuildTime:{},VBOBuildString:null,haveSeenDepthRequest:!1,lastHaveSeenDepthRequest:!1,lastIndependentComponents:!1,lastNumberOfComponents:0,lastMultiTexturePerVolumeEnabled:!1,lastSlabThickness:0,lastSlabTrapezoidIntegration:0,lastSlabType:-1,scalarTextures:[],_scalarTexturesCore:[],colorTexture:null,_colorTextureCore:null,pwfTexture:null,_pwfTextureCore:null,_externalOpenGLTexture:!1,resliceGeom:null,resliceGeomUpdateString:null,tris:null};function q_e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,K_e,n),Kq.extend(e,t,n),J2.implementReplaceShaderCoincidentOffset(e,t,n),J2.implementBuildShadersWithReplacements(e,t,n),t.tris=k2.newInstance(),t.scalarTextures=[],t.colorTexture=null,t.pwfTexture=null,t.VBOBuildTime={},uq(t.VBOBuildTime),t.tmpMat4=IW(new Float64Array(16)),t.outlineFilter=L_e.newInstance(),t.outlineFilter.setGenerateFaces(!0),t.outlineFilter.setGenerateLines(!1),t.cubePolyData=Y0.newInstance(),t.cutter=E_e.newInstance(),t.lineToSurfaceFilter=S_e.newInstance(),t.transform=V_e.newInstance(),fq(e,t,[`scalarTextures`]),G_e(e,t)}Qq(`vtkImageResliceMapper`,wq(q_e,`vtkOpenGLImageResliceMapper`));var W3={SlicingMode:{NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5}},{vtkErrorMacro:G3}=Bq,{SlicingMode:K3}=W3;function J_e(e){let t=e.split(`
`),n=[];for(let e=0;e<t.length;++e){let r=t[e].trim();r.length>0&&n.push(r)}return n}function Y_e(e,t){t.classHierarchy.push(`vtkOpenGLImageMapper`);function n(n){t.openGLTexture.releaseGraphicsResources(n),[t._colorTransferFunc,t._pwFunc,t._labelOutlineThicknessArray,t._labelOutlineOpacity].forEach(t=>n.unregisterGraphicsResourceUser(t,e))}e.buildPass=r=>{if(r){t.currentRenderPass=null,t.openGLImageSlice=e.getFirstAncestorOfType(`vtkOpenGLImageSlice`),t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`);let r=t._openGLRenderWindow;t._openGLRenderWindow=t._openGLRenderer.getLastAncestorOfType(`vtkOpenGLRenderWindow`),r&&!r.isDeleted()&&r!==t._openGLRenderWindow&&n(r),t.context=t._openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t._openGLRenderWindow);let i=t._openGLRenderer.getRenderable();t.openGLCamera=t._openGLRenderer.getViewNodeFor(i.getActiveCamera(),t.openGLCamera),t.renderable.isA(`vtkImageMapper`)&&t.renderable.getSliceAtFocalPoint()&&t.renderable.setSliceFromCamera(i.getActiveCamera())}},e.translucentPass=(n,r)=>{n&&(t.currentRenderPass=r,e.render())},e.zBufferPass=n=>{n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.opaqueZBufferPass=t=>e.zBufferPass(t),e.opaquePass=t=>{t&&e.render()},e.getCoincidentParameters=(e,n)=>t.renderable.getResolveCoincidentTopology()==G1.PolygonOffset?t.renderable.getCoincidentTopologyPolygonOffsetParameters():null,e.render=()=>{let n=t.openGLImageSlice.getRenderable(),r=t._openGLRenderer.getRenderable();e.renderPiece(r,n)},e.getShaderTemplate=(e,t,n)=>{e.Vertex=K2,e.Fragment=q2,e.Geometry=``},e.replaceShaderValues=(n,r,i)=>{let a=n.Vertex,o=n.Fragment;a=w2.substitute(a,`//VTK::Camera::Dec`,[`uniform mat4 MCPCMatrix;`]).result,a=w2.substitute(a,`//VTK::PositionVC::Impl`,[`  gl_Position = MCPCMatrix * vertexMC;`]).result,a=w2.substitute(a,`//VTK::TCoord::Impl`,`tcoordVCVSOutput = tcoordMC;`).result,a=w2.substitute(a,`//VTK::TCoord::Dec`,`attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;`).result;let s=t.openGLTexture.getComponents(),c=i.getProperty().getIndependentComponents(),l=[`varying vec2 tcoordVCVSOutput;`,`uniform float cshift0;`,`uniform float cscale0;`,`uniform float pwfshift0;`,`uniform float pwfscale0;`,`uniform sampler2D texture1;`,`uniform sampler2D colorTexture1;`,`uniform sampler2D pwfTexture1;`,`uniform float opacity;`];if(i.getProperty().getUseLabelOutline()&&(l=l.concat([`uniform sampler2D labelOutlineTexture1;`,`uniform sampler2D labelOutlineOpacityTexture1;`])),c){for(let e=1;e<s;e++)l=l.concat([`uniform float cshift${e};`,`uniform float cscale${e};`,`uniform float pwfshift${e};`,`uniform float pwfscale${e};`]);switch(s){case 1:l=l.concat([`uniform float mix0;`,`#define height0 0.5`]);break;case 2:l=l.concat([`uniform float mix0;`,`uniform float mix1;`,`#define height0 0.25`,`#define height1 0.75`]);break;case 3:l=l.concat([`uniform float mix0;`,`uniform float mix1;`,`uniform float mix2;`,`#define height0 0.17`,`#define height1 0.5`,`#define height2 0.83`]);break;case 4:l=l.concat([`uniform float mix0;`,`uniform float mix1;`,`uniform float mix2;`,`uniform float mix3;`,`#define height0 0.125`,`#define height1 0.375`,`#define height2 0.625`,`#define height3 0.875`]);break;default:G3(`Unsupported number of independent coordinates.`)}}if(o=w2.substitute(o,`//VTK::TCoord::Dec`,l).result,i.getProperty().getUseLabelOutline()===!0&&(o=w2.substitute(o,`//VTK::LabelOutline::Dec`,[`uniform float vpWidth;`,`uniform float vpHeight;`,`uniform float vpOffsetX;`,`uniform float vpOffsetY;`,`uniform mat4 PCWCMatrix;`,`uniform mat4 vWCtoIDX;`,`uniform ivec3 imageDimensions;`,`uniform int sliceAxis;`]).result,o=w2.substitute(o,`//VTK::ImageLabelOutlineOn`,`#define vtkImageLabelOutlineOn`).result,o=w2.substitute(o,`//VTK::LabelOutlineHelperFunction`,[`#ifdef vtkImageLabelOutlineOn`,`vec3 fragCoordToIndexSpace(vec4 fragCoord) {`,`  vec4 pcPos = vec4(`,`    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,`,`    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,`,`    (fragCoord.z - 0.5) * 2.0,`,`    1.0);`,``,`  vec4 worldCoord = PCWCMatrix * pcPos;`,`  vec4 vertex = (worldCoord/worldCoord.w);`,``,`  vec3 index = (vWCtoIDX * vertex).xyz;`,``,`  // half voxel fix for labelmapOutline`,`  return (index + vec3(0.5)) / vec3(imageDimensions);`,`}`,`vec2 getSliceCoords(vec3 coord, int axis) {`,`  if (axis == 0) return coord.yz;`,`  if (axis == 1) return coord.xz;`,`  if (axis == 2) return coord.xy;`,`}`,`#endif`]).result),c){let e=[`r`,`g`,`b`,`a`],t=[`vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);`];for(let n=0;n<s;n++)t=t.concat([`vec3 tcolor${n} = mix${n} * texture2D(colorTexture1, vec2(tvalue.${e[n]} * cscale${n} + cshift${n}, height${n})).rgb;`,`float compWeight${n} = mix${n} * texture2D(pwfTexture1, vec2(tvalue.${e[n]} * pwfscale${n} + pwfshift${n}, height${n})).r;`]);switch(s){case 1:t=t.concat([`gl_FragData[0] = vec4(tcolor0.rgb, opacity);`]);break;case 2:t=t.concat([`float weightSum = compWeight0 + compWeight1;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);`]);break;case 3:t=t.concat([`float weightSum = compWeight0 + compWeight1 + compWeight2;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);`]);break;case 4:t=t.concat([`float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);`]);break;default:G3(`Unsupported number of independent coordinates.`)}o=w2.substitute(o,`//VTK::TCoord::Impl`,t).result}else switch(s){case 1:o=w2.substitute(o,`//VTK::TCoord::Impl`,[...J_e(`
                #ifdef vtkImageLabelOutlineOn
                  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord);
                  float centerValue = texture2D(texture1, getSliceCoords(centerPosIS, sliceAxis)).r;
                  bool pixelOnBorder = false;
                  vec3 tColor = texture2D(colorTexture1, vec2(centerValue * cscale0 + cshift0, 0.5)).rgb;
                  float scalarOpacity = texture2D(pwfTexture1, vec2(centerValue * pwfscale0 + pwfshift0, 0.5)).r;
                  float opacityToUse = scalarOpacity * opacity;
                  int segmentIndex = int(centerValue * 255.0);
                  float textureCoordinate = float(segmentIndex - 1) / 1024.0;
                  float textureValue = texture2D(labelOutlineTexture1, vec2(textureCoordinate, 0.5)).r;
                  float outlineOpacity = texture2D(labelOutlineOpacityTexture1, vec2(textureCoordinate, 0.5)).r;
                  int actualThickness = int(textureValue * 255.0);

                  if (segmentIndex == 0){
                    gl_FragData[0] = vec4(0.0, 0.0, 0.0, 0.0);
                    return;
                  }

                  for (int i = -actualThickness; i <= actualThickness; i++) {
                    for (int j = -actualThickness; j <= actualThickness; j++) {
                      if (i == 0 || j == 0) {
                        continue;
                      }
                      vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
                        gl_FragCoord.y + float(j),
                        gl_FragCoord.z, gl_FragCoord.w);
                      vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
                      float value = texture2D(texture1, getSliceCoords(neighborPosIS, sliceAxis)).r;
                      if (value != centerValue) {
                        pixelOnBorder = true;
                        break;
                      }
                    }
                    if (pixelOnBorder == true) {
                      break;
                    }
                  }
                  if (pixelOnBorder == true) {
                    gl_FragData[0] = vec4(tColor, outlineOpacity);
                  }
                  else {
                    gl_FragData[0] = vec4(tColor, opacityToUse);
                  }
                #else
                  float intensity = texture2D(texture1, tcoordVCVSOutput).r;
                  vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;
                  float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;
                  gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);
                #endif
                `)]).result;break;case 2:o=w2.substitute(o,`//VTK::TCoord::Impl`,[`vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);`,`float intensity = tcolor.r*cscale0 + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);`]).result;break;case 3:o=w2.substitute(o,`//VTK::TCoord::Impl`,[`vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);`]).result;break;default:o=w2.substitute(o,`//VTK::TCoord::Impl`,[`vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);`]).result}t.haveSeenDepthRequest&&(o=w2.substitute(o,`//VTK::ZBuffer::Dec`,`uniform int depthRequest;`).result,o=w2.substitute(o,`//VTK::ZBuffer::Impl`,[`if (depthRequest == 1) {`,`float iz = floor(gl_FragCoord.z*65535.0 + 0.1);`,`float rf = floor(iz/256.0)/255.0;`,`float gf = mod(iz,256.0)/255.0;`,`gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }`]).result),n.Vertex=a,n.Fragment=o,e.replaceShaderClip(n,r,i),e.replaceShaderCoincidentOffset(n,r,i)},e.replaceShaderClip=(e,n,r)=>{let i=e.Vertex,a=e.Fragment;if(t.renderable.getNumberOfClippingPlanes()){let e=t.renderable.getNumberOfClippingPlanes();e>6&&(GK(`OpenGL has a limit of 6 clipping planes`),e=6),i=w2.substitute(i,`//VTK::Clip::Dec`,[`uniform int numClipPlanes;`,`uniform vec4 clipPlanes[6];`,`varying float clipDistancesVSOutput[6];`]).result,i=w2.substitute(i,`//VTK::Clip::Impl`,[`for (int planeNum = 0; planeNum < 6; planeNum++)`,`    {`,`    if (planeNum >= numClipPlanes)`,`        {`,`        break;`,`        }`,`    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);`,`    }`]).result,a=w2.substitute(a,`//VTK::Clip::Dec`,[`uniform int numClipPlanes;`,`varying float clipDistancesVSOutput[6];`]).result,a=w2.substitute(a,`//VTK::Clip::Impl`,[`for (int planeNum = 0; planeNum < 6; planeNum++)`,`    {`,`    if (planeNum >= numClipPlanes)`,`        {`,`        break;`,`        }`,`    if (clipDistancesVSOutput[planeNum] < 0.0) discard;`,`    }`]).result}e.Vertex=i,e.Fragment=a},e.getNeedToRebuildShaders=(e,n,r)=>{let i=t.openGLTexture.getComponents(),a=r.getProperty().getIndependentComponents(),o=!1;return(!t.currentRenderPass&&t.lastRenderPassShaderReplacement||t.currentRenderPass&&t.currentRenderPass.getShaderReplacement()!==t.lastRenderPassShaderReplacement)&&(o=!0),o||t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||e.getProgram()?.getHandle()===0||e.getShaderSourceTime().getMTime()<t.renderable.getMTime()||e.getShaderSourceTime().getMTime()<t.currentInput.getMTime()||e.getShaderSourceTime().getMTime()<r.getProperty().getMTime()||t.lastTextureComponents!==i||t.lastIndependentComponents!==a?(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,t.lastTextureComponents=i,t.lastIndependentComponents=a,!0):!1},e.updateShaders=(n,r,i)=>{if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,i)){let a={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(a,r,i);let o=t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(a.Vertex,a.Fragment,a.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,i),e.setCameraShaderParameters(n,r,i),e.setPropertyShaderParameters(n,r,i)},e.setMapperShaderParameters=(n,r,i)=>{n.getCABO().getElementCount()&&(t.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed(`vertexMC`)&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),`vertexMC`,n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||G3(`Error setting vertexMC in shader VAO.`)),n.getProgram().isAttributeUsed(`tcoordMC`)&&n.getCABO().getTCoordOffset()&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),`tcoordMC`,n.getCABO().getTCoordOffset(),n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getTCoordComponents(),t.context.FALSE)||G3(`Error setting tcoordMC in shader VAO.`)),n.getAttributeUpdateTime().modified());let a=t.openGLTexture.getTextureUnit();n.getProgram().setUniformi(`texture1`,a);let o=t.openGLTexture.getComponents(),s=i.getProperty().getIndependentComponents();if(s)for(let e=0;e<o;e++)n.getProgram().setUniformf(`mix${e}`,i.getProperty().getComponentWeight(e));let c=t.openGLTexture.getShiftAndScale();for(let e=0;e<o;e++){let t=i.getProperty().getColorWindow(),r=i.getProperty().getColorLevel(),a=s?e:0,o=i.getProperty().getRGBTransferFunction(a);if(o&&i.getProperty().getUseLookupTableScalarRange()){let e=o.getRange();t=e[1]-e[0],r=.5*(e[1]+e[0])}let l=c.scale/t,u=(c.shift-r)/t+.5;n.getProgram().setUniformf(`cshift${e}`,u),n.getProgram().setUniformf(`cscale${e}`,l)}for(let e=0;e<o;e++){let t=1,r=0,a=s?e:0,o=i.getProperty().getPiecewiseFunction(a);if(o){let e=o.getRange(),n=e[1]-e[0],i=.5*(e[0]+e[1]);t=c.scale/n,r=(c.shift-i)/n+.5}n.getProgram().setUniformf(`pwfshift${e}`,r),n.getProgram().setUniformf(`pwfscale${e}`,t)}if(t.haveSeenDepthRequest&&n.getProgram().setUniformi(`depthRequest`,t.renderDepth?1:0),n.getProgram().isUniformUsed(`coffset`)){let t=e.getCoincidentParameters(r,i);n.getProgram().setUniformf(`coffset`,t.offset),n.getProgram().isUniformUsed(`cfactor`)&&n.getProgram().setUniformf(`cfactor`,t.factor)}let l=t.colorTexture.getTextureUnit();n.getProgram().setUniformi(`colorTexture1`,l);let u=t.pwfTexture.getTextureUnit();if(n.getProgram().setUniformi(`pwfTexture1`,u),i.getProperty().getUseLabelOutline()){let e=t.labelOutlineThicknessTexture.getTextureUnit();n.getProgram().setUniformi(`labelOutlineTexture1`,e);let r=t.labelOutlineOpacityTexture.getTextureUnit();n.getProgram().setUniformi(`labelOutlineOpacityTexture1`,r)}if(t.renderable.getNumberOfClippingPlanes()){let e=t.renderable.getNumberOfClippingPlanes();e>6&&(GK(`OpenGL has a limit of 6 clipping planes`),e=6);let r=n.getCABO().getCoordShiftAndScaleEnabled()?n.getCABO().getInverseShiftAndScaleMatrix():null,a=r?NW(t.imagematinv,i.getMatrix()):i.getMatrix();r&&(LW(a,a),VW(a,a,r),LW(a,a)),LW(t.imagemat,t.currentInput.getIndexToWorld()),VW(t.imagematinv,a,t.imagemat);let o=[];for(let n=0;n<e;n++){let e=[];t.renderable.getClippingPlaneInDataCoords(t.imagematinv,n,e);for(let t=0;t<4;t++)o.push(e[t])}n.getProgram().setUniformi(`numClipPlanes`,e),n.getProgram().setUniform4fv(`clipPlanes`,o)}},e.setCameraShaderParameters=(n,r,i)=>{let a=n.getProgram(),o=t.openGLImageSlice.getKeyMatrices(),s=t.currentInput,c=s.getIndexToWorld();VW(t.imagemat,o.mcwc,c);let l=t.openGLCamera.getKeyMatrices(r);if(VW(t.imagemat,l.wcpc,t.imagemat),n.getCABO().getCoordShiftAndScaleEnabled()){let e=n.getCABO().getInverseShiftAndScaleMatrix();VW(t.imagemat,t.imagemat,e)}if(a.setUniformMatrix(`MCPCMatrix`,t.imagemat),i.getProperty().getUseLabelOutline()===!0){let n=s.getWorldToIndex(),i=s.getDimensions(),o=t.renderable.getClosestIJKAxis().ijkMode;o===K3.NONE&&(o=K3.K),a.setUniform3i(`imageDimensions`,i[0],i[1],i[2]),a.setUniformi(`sliceAxis`,o),a.setUniformMatrix(`vWCtoIDX`,n);let c=t.openGLCamera.getKeyMatrices(r);RW(t.projectionToWorld,c.wcpc),t.openGLCamera.getKeyMatrices(r),a.setUniformMatrix(`PCWCMatrix`,t.projectionToWorld);let l=e.getRenderTargetSize();a.setUniformf(`vpWidth`,l[0]),a.setUniformf(`vpHeight`,l[1]);let u=e.getRenderTargetOffset();a.setUniformf(`vpOffsetX`,u[0]/l[0]),a.setUniformf(`vpOffsetY`,u[1]/l[1])}},e.setPropertyShaderParameters=(e,t,n)=>{let r=e.getProgram(),i=n.getProperty().getOpacity();r.setUniformf(`opacity`,i)},e.renderPieceStart=(n,r)=>{e.updateBufferObjects(n,r),t.lastBoundBO=null},e.renderPieceDraw=(n,r)=>{let i=t.context;t.openGLTexture.activate(),t.colorTexture.activate(),r.getProperty().getUseLabelOutline()&&(t.labelOutlineThicknessTexture.activate(),t.labelOutlineOpacityTexture.activate()),t.pwfTexture.activate(),t.tris.getCABO().getElementCount()&&(e.updateShaders(t.tris,n,r),i.drawArrays(i.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release()),t.openGLTexture.deactivate(),t.colorTexture.deactivate(),r.getProperty().getUseLabelOutline()&&(t.labelOutlineThicknessTexture.deactivate(),t.labelOutlineOpacityTexture.deactivate()),t.pwfTexture.deactivate()},e.renderPieceFinish=(e,t)=>{},e.renderPiece=(n,r)=>{if(e.invokeEvent({type:`StartEvent`}),t.renderable.update(),t.currentInput=t.renderable.getCurrentImage(),e.invokeEvent({type:`EndEvent`}),!t.currentInput){G3(`No input!`);return}e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)},e.updateBufferObjects=(t,n)=>{e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=(n,r)=>t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()||!t.openGLTexture?.getHandle()||!t.colorTexture?.getHandle()||r.getProperty().getUseLabelOutline()&&(!t.labelOutlineThicknessTexture?.getHandle()||!t.labelOutlineOpacityTexture?.getHandle())||!t.pwfTexture?.getHandle(),e.buildBufferObjects=(n,r)=>{let i=t.currentInput;if(!i)return;let a=i.getPointData()&&i.getPointData().getScalars();if(!a)return;let o=a.getDataType(),s=a.getNumberOfComponents(),c=r.getProperty(),l=c.getInterpolationType(),u=c.getIndependentComponents(),d=u?s:1,f=u?2*d:1,p=[];for(let e=0;e<d;++e)p.push(c.getRGBTransferFunction(e));let m=z3(p,u,d),h=c.getRGBTransferFunction(),g=t._openGLRenderWindow.getGraphicsResourceForObject(h);if(!g?.oglObject?.getHandle()||g?.hash!==m){t.colorTexture=G2.newInstance({resizable:!0}),t.colorTexture.setOpenGLRenderWindow(t._openGLRenderWindow);let n=t.renderable.getColorTextureWidth();n<=0&&(n=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let r=n*f*3,i=new Uint8ClampedArray(r);if(l===V3.NEAREST?(t.colorTexture.setMinificationFilter(j2.NEAREST),t.colorTexture.setMagnificationFilter(j2.NEAREST)):(t.colorTexture.setMinificationFilter(j2.LINEAR),t.colorTexture.setMagnificationFilter(j2.LINEAR)),h){let e=new Float32Array(n*3);for(let t=0;t<d;t++){let r=c.getRGBTransferFunction(t),a=r.getRange();if(r.getTable(a[0],a[1],n,e,1),u)for(let r=0;r<n*3;r++)i[t*n*6+r]=255*e[r],i[t*n*6+r+n*3]=255*e[r];else for(let r=0;r<n*3;r++)i[t*n*6+r]=255*e[r]}t.colorTexture.resetFormatAndType(),t.colorTexture.create2DFromRaw({width:n,height:f,numComps:3,dataType:t1.UNSIGNED_CHAR,data:i})}else{for(let e=0;e<n*3;++e)i[e]=255*e/((n-1)*3),i[e+1]=255*e/((n-1)*3),i[e+2]=255*e/((n-1)*3);t.colorTexture.create2DFromRaw({width:n,height:1,numComps:3,dataType:t1.UNSIGNED_CHAR,data:i})}h&&(t._openGLRenderWindow.setGraphicsResourceForObject(h,t.colorTexture,m),h!==t._colorTransferFunc&&(t._openGLRenderWindow.registerGraphicsResourceUser(h,e),t._openGLRenderWindow.unregisterGraphicsResourceUser(t._colorTransferFunc,e)),t._colorTransferFunc=h)}else t.colorTexture=g.oglObject;let _=[];for(let e=0;e<d;++e)_.push(c.getPiecewiseFunction(e));let v=z3(_,u,d),y=c.getPiecewiseFunction(),b=t._openGLRenderWindow.getGraphicsResourceForObject(y);if(!b?.oglObject?.getHandle()||b?.hash!==v){let n=t.renderable.getOpacityTextureWidth();n<=0&&(n=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let r=n*f,i=new Uint8ClampedArray(r);if(t.pwfTexture=G2.newInstance({resizable:!0}),t.pwfTexture.setOpenGLRenderWindow(t._openGLRenderWindow),l===V3.NEAREST?(t.pwfTexture.setMinificationFilter(j2.NEAREST),t.pwfTexture.setMagnificationFilter(j2.NEAREST)):(t.pwfTexture.setMinificationFilter(j2.LINEAR),t.pwfTexture.setMagnificationFilter(j2.LINEAR)),y){let e=new Float32Array(r),i=new Float32Array(n);for(let t=0;t<d;++t){let r=c.getPiecewiseFunction(t);if(r===null)e.fill(1);else{let a=r.getRange();if(r.getTable(a[0],a[1],n,i,1),u)for(let r=0;r<n;r++)e[t*n*2+r]=i[r],e[t*n*2+r+n]=i[r];else for(let r=0;r<n;r++)e[t*n*2+r]=i[r]}}t.pwfTexture.resetFormatAndType(),t.pwfTexture.create2DFromRaw({width:n,height:f,numComps:1,dataType:t1.FLOAT,data:e})}else i.fill(255),t.pwfTexture.create2DFromRaw({width:n,height:1,numComps:1,dataType:t1.UNSIGNED_CHAR,data:i});y&&(t._openGLRenderWindow.setGraphicsResourceForObject(y,t.pwfTexture,v),y!==t._pwFunc&&(t._openGLRenderWindow.registerGraphicsResourceUser(y,e),t._openGLRenderWindow.unregisterGraphicsResourceUser(t._pwFunc,e)),t._pwFunc=y)}else t.pwfTexture=b.oglObject;r.getProperty().getUseLabelOutline()&&(e.updatelabelOutlineThicknessTexture(r),e.updateLabelOutlineOpacityTexture(r));let{ijkMode:x}=t.renderable.getClosestIJKAxis(),S=t.renderable.getSlice();x!==t.renderable.getSlicingMode()&&(S=t.renderable.getSliceAtPosition(S));let C=t.renderable.isA(`vtkImageArrayMapper`)?t.renderable.getSubSlice():Math.round(S),w=i.getExtent(),T;x===K3.I&&(T=C-w[0]),x===K3.J&&(T=C-w[2]),(x===K3.K||x===K3.NONE)&&(T=C-w[4]);let E=`${S}A${i.getMTime()}A${a.getMTime()}B${e.getMTime()}C${t.renderable.getSlicingMode()}D${r.getProperty().getInterpolationType()}`;if(t.VBOBuildString!==E){let e=i.getDimensions();t.openGLTexture||=G2.newInstance({resizable:!0}),t.openGLTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.openGLTexture.setOglNorm16Ext(t.context.getExtension(`EXT_texture_norm16`)),l===V3.NEAREST?(new Set([1,3,4]).has(s)&&o===t1.UNSIGNED_CHAR&&!u&&t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(j2.NEAREST),t.openGLTexture.setMagnificationFilter(j2.NEAREST)):(s===4&&o===t1.UNSIGNED_CHAR&&!u?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(j2.LINEAR_MIPMAP_LINEAR)):t.openGLTexture.setMinificationFilter(j2.LINEAR),t.openGLTexture.setMagnificationFilter(j2.LINEAR)),t.openGLTexture.setWrapS(A2.CLAMP_TO_EDGE),t.openGLTexture.setWrapT(A2.CLAMP_TO_EDGE);let n=e[0]*e[1]*s,r=new Float32Array(12),c=new Float32Array(8);for(let e=0;e<4;e++)c[e*2]=e%2?1:0,c[e*2+1]=e>1?1:0;let d=[K3.X,K3.Y,K3.Z].includes(t.renderable.getSlicingMode())?S:C,f=i.getSpatialExtent(),p=a.getData(),m=null;if(x===K3.I){m=new p.constructor(e[2]*e[1]*s);let t=0;for(let n=0;n<e[2];n++)for(let r=0;r<e[1];r++){let i=(T+r*e[0]+n*e[0]*e[1])*s;t=(n*e[1]+r)*s;let a=i+s;for(;i<a;)m[t++]=p[i++]}e[0]=e[1],e[1]=e[2],r[0]=d,r[1]=f[2],r[2]=f[4],r[3]=d,r[4]=f[3],r[5]=f[4],r[6]=d,r[7]=f[2],r[8]=f[5],r[9]=d,r[10]=f[3],r[11]=f[5]}else if(x===K3.J){m=new p.constructor(e[2]*e[0]*s);let t=0;for(let n=0;n<e[2];n++)for(let r=0;r<e[0];r++){let i=(r+T*e[0]+n*e[0]*e[1])*s;t=(n*e[0]+r)*s;let a=i+s;for(;i<a;)m[t++]=p[i++]}e[1]=e[2],r[0]=f[0],r[1]=d,r[2]=f[4],r[3]=f[1],r[4]=d,r[5]=f[4],r[6]=f[0],r[7]=d,r[8]=f[5],r[9]=f[1],r[10]=d,r[11]=f[5]}else x===K3.K||x===K3.NONE?(m=p.subarray(T*n,(T+1)*n),r[0]=f[0],r[1]=f[2],r[2]=d,r[3]=f[1],r[4]=f[2],r[5]=d,r[6]=f[0],r[7]=f[3],r[8]=d,r[9]=f[1],r[10]=f[3],r[11]=d):G3(`Reformat slicing not yet supported.`);let h=a.getRanges();t.openGLTexture.resetFormatAndType(),t.openGLTexture.create2DFilterableFromRaw({width:e[0],height:e[1],numComps:s,dataType:a.getDataType(),data:m,preferSizeOverAccuracy:!!t.renderable.getPreferSizeOverAccuracy?.(),ranges:h}),t.openGLTexture.activate(),t.openGLTexture.sendParameters(),t.openGLTexture.deactivate();let g=l1.newInstance({numberOfComponents:3,values:r});g.setName(`points`);let _=l1.newInstance({numberOfComponents:2,values:c});_.setName(`tcoords`);let v=new Uint16Array(8);v[0]=3,v[1]=0,v[2]=1,v[3]=3,v[4]=3,v[5]=0,v[6]=3,v[7]=2;let y=l1.newInstance({numberOfComponents:1,values:v});t.tris.getCABO().createVBO(y,`polys`,G$.SURFACE,{points:g,tcoords:_,cellOffset:0}),t.VBOBuildTime.modified(),t.VBOBuildString=E}},e.updateLabelOutlineOpacityTexture=n=>{let r=n.getProperty().getLabelOutlineOpacity();typeof r==`number`&&(r=t._cachedLabelOutlineOpacityObj?.[0]===r?t._cachedLabelOutlineOpacityObj:[r],t._cachedLabelOutlineOpacityObj=r);let i=t._openGLRenderWindow.getGraphicsResourceForObject(r),a=`${r.join(`-`)}`;if(!i?.oglObject?.getHandle()||i?.hash!==a){let n=t.renderable.getLabelOutlineTextureWidth();n<=0&&(n=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let i=n*1,o=new Float32Array(i);for(let e=0;e<n;++e)o[e]=r[e]??r[0];t.labelOutlineOpacityTexture=G2.newInstance({resizable:!1}),t.labelOutlineOpacityTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.labelOutlineOpacityTexture.resetFormatAndType(),t.labelOutlineOpacityTexture.setMinificationFilter(j2.NEAREST),t.labelOutlineOpacityTexture.setMagnificationFilter(j2.NEAREST),t.labelOutlineOpacityTexture.create2DFromRaw({width:n,height:1,numComps:1,dataType:t1.FLOAT,data:o}),r&&(t._openGLRenderWindow.setGraphicsResourceForObject(r,t.labelOutlineOpacityTexture,a),r!==t._labelOutlineOpacity&&(t._openGLRenderWindow.registerGraphicsResourceUser(r,e),t._openGLRenderWindow.unregisterGraphicsResourceUser(t._labelOutlineOpacity,e)),t._labelOutlineOpacity=r)}else t.labelOutlineOpacityTexture=i.oglObject},e.updatelabelOutlineThicknessTexture=n=>{let r=n.getProperty().getLabelOutlineThicknessByReference(),i=t._openGLRenderWindow.getGraphicsResourceForObject(r),a=`${r.join(`-`)}`;if(!i?.oglObject?.getHandle()||i?.hash!==a){let n=t.renderable.getLabelOutlineTextureWidth();n<=0&&(n=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let i=n*1,o=new Uint8Array(i);for(let e=0;e<n;++e)o[e]=r[e]===void 0?r[0]:r[e];t.labelOutlineThicknessTexture=G2.newInstance({resizable:!1}),t.labelOutlineThicknessTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.labelOutlineThicknessTexture.resetFormatAndType(),t.labelOutlineThicknessTexture.setMinificationFilter(j2.NEAREST),t.labelOutlineThicknessTexture.setMagnificationFilter(j2.NEAREST),t.labelOutlineThicknessTexture.create2DFromRaw({width:n,height:1,numComps:1,dataType:t1.UNSIGNED_CHAR,data:o}),r&&(t._openGLRenderWindow.setGraphicsResourceForObject(r,t.labelOutlineThicknessTexture,a),r!==t._labelOutlineThicknessArray&&(t._openGLRenderWindow.registerGraphicsResourceUser(r,e),t._openGLRenderWindow.unregisterGraphicsResourceUser(t._labelOutlineThicknessArray,e)),t._labelOutlineThicknessArray=r)}else t.labelOutlineThicknessTexture=i.oglObject},e.getRenderTargetSize=()=>{if(t._useSmallViewport)return[t._smallViewportWidth,t._smallViewportHeight];let{usize:e,vsize:n}=t._openGLRenderer.getTiledSizeAndOrigin();return[e,n]},e.getRenderTargetOffset=()=>{let{lowerLeftU:e,lowerLeftV:n}=t._openGLRenderer.getTiledSizeAndOrigin();return[e,n]},e.delete=Tq(()=>{t._openGLRenderWindow&&n(t._openGLRenderWindow)},e.delete)}var X_e={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,imagematinv:null,colorTexture:null,pwfTexture:null,labelOutlineThicknessTexture:null,labelOutlineOpacityTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function Z_e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,X_e,n),Kq.extend(e,t,n),J2.implementReplaceShaderCoincidentOffset(e,t,n),J2.implementBuildShadersWithReplacements(e,t,n),t.tris=k2.newInstance(),t.imagemat=IW(new Float64Array(16)),t.imagematinv=IW(new Float64Array(16)),t.projectionToWorld=IW(new Float64Array(16)),t.idxToView=IW(new Float64Array(16)),t.idxNormalMatrix=iW(new Float64Array(9)),t.modelToView=IW(new Float64Array(16)),t.projectionToView=IW(new Float64Array(16)),gq(e,t,[]),t.VBOBuildTime={},uq(t.VBOBuildTime),Y_e(e,t)}Qq(`vtkAbstractImageMapper`,wq(Z_e,`vtkOpenGLImageMapper`));var q3={MAX:0,MIN:1,AVERAGE:2},{vtkErrorMacro:J3}=$;function Q_e(e,t){t.classHierarchy.push(`vtkOpenGLImageCPRMapper`);function n(n){[t._scalars,t._colorTransferFunc,t._pwFunc].forEach(t=>n.unregisterGraphicsResourceUser(t,e))}e.buildPass=r=>{if(r){t.currentRenderPass=null,t.openGLImageSlice=e.getFirstAncestorOfType(`vtkOpenGLImageSlice`),t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`);let r=t._openGLRenderWindow;t._openGLRenderWindow=t._openGLRenderer.getLastAncestorOfType(`vtkOpenGLRenderWindow`),r&&!r.isDeleted()&&r!==t._openGLRenderWindow&&n(r),t.context=t._openGLRenderWindow.getContext(),t.openGLCamera=t._openGLRenderer.getViewNodeFor(t._openGLRenderer.getRenderable().getActiveCamera(),t.openGLCamera),t.tris.setOpenGLRenderWindow(t._openGLRenderWindow)}},e.opaquePass=(n,r)=>{n&&(t.currentRenderPass=r,e.render())},e.opaqueZBufferPass=n=>{n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.getCoincidentParameters=(e,n)=>t.renderable.getResolveCoincidentTopology()===G1.PolygonOffset?t.renderable.getCoincidentTopologyPolygonOffsetParameters():null,e.render=()=>{let n=t.openGLImageSlice.getRenderable(),r=t._openGLRenderer.getRenderable();e.renderPiece(r,n)},e.renderPiece=(n,r)=>{e.invokeEvent({type:`StartEvent`}),t.renderable.update(),e.invokeEvent({type:`EndEvent`}),t.renderable.preRenderCheck()&&(t.currentImageDataInput=t.renderable.getInputData(0),t.currentCenterlineInput=t.renderable.getOrientedCenterline(),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r))},e.renderPieceStart=(t,n)=>{e.updateBufferObjects(t,n)},e.renderPieceDraw=(n,r)=>{let i=t.context;t.volumeTexture.activate(),t.colorTexture.activate(),t.pwfTexture.activate(),t.tris.getCABO().getElementCount()&&(e.updateShaders(t.tris,n,r),i.drawArrays(i.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release()),t.volumeTexture.deactivate(),t.colorTexture.deactivate(),t.pwfTexture.deactivate()},e.renderPieceFinish=(e,t)=>{},e.updateBufferObjects=(n,r)=>{e.getNeedToRebuildBufferObjects(n,r)&&e.buildBufferObjects(n,r),r.getProperty().getInterpolationType()===V3.NEAREST?(t.volumeTexture.setMinificationFilter(j2.NEAREST),t.volumeTexture.setMagnificationFilter(j2.NEAREST),t.colorTexture.setMinificationFilter(j2.NEAREST),t.colorTexture.setMagnificationFilter(j2.NEAREST),t.pwfTexture.setMinificationFilter(j2.NEAREST),t.pwfTexture.setMagnificationFilter(j2.NEAREST)):(t.volumeTexture.setMinificationFilter(j2.LINEAR),t.volumeTexture.setMagnificationFilter(j2.LINEAR),t.colorTexture.setMinificationFilter(j2.LINEAR),t.colorTexture.setMagnificationFilter(j2.LINEAR),t.pwfTexture.setMinificationFilter(j2.LINEAR),t.pwfTexture.setMagnificationFilter(j2.LINEAR))},e.getNeedToRebuildBufferObjects=(n,r)=>{let i=t.VBOBuildTime.getMTime();return i<e.getMTime()||i<t.renderable.getMTime()||i<r.getMTime()||i<t.currentImageDataInput.getMTime()||i<t.currentCenterlineInput.getMTime()||!t.volumeTexture?.getHandle()},e.buildBufferObjects=(n,r)=>{let i=t.currentImageDataInput,a=t.currentCenterlineInput,o=r.getProperty(),s=i?.getPointData()?.getScalars();if(!s)return;let c=t._openGLRenderWindow.getGraphicsResourceForObject(s),l=B3(i,s),u=!c?.oglObject?.getHandle()||c?.hash!==l,d=o.getUpdatedExtents(),f=!!d.length;if(u){t.volumeTexture=G2.newInstance(),t.volumeTexture.setOpenGLRenderWindow(t._openGLRenderWindow);let n=i.getDimensions();t.volumeTexture.setOglNorm16Ext(t.context.getExtension(`EXT_texture_norm16`)),t.volumeTexture.resetFormatAndType(),t.volumeTexture.create3DFilterableFromDataArray({width:n[0],height:n[1],depth:n[2],dataArray:s,preferSizeOverAccuracy:t.renderable.getPreferSizeOverAccuracy()}),t._openGLRenderWindow.setGraphicsResourceForObject(s,t.volumeTexture,l),s!==t._scalars&&(t._openGLRenderWindow.registerGraphicsResourceUser(s,e),t._openGLRenderWindow.unregisterGraphicsResourceUser(t._scalars,e)),t._scalars=s}else t.volumeTexture=c.oglObject;if(f){o.setUpdatedExtents([]);let e=i.getDimensions();t.volumeTexture.create3DFilterableFromDataArray({width:e[0],height:e[1],depth:e[2],dataArray:s,updatedExtents:d})}let p=s.getNumberOfComponents(),m=r.getProperty(),h=m.getIndependentComponents(),g=h?p:1,_=h?2*g:1,v=[];for(let e=0;e<g;++e)v.push(m.getRGBTransferFunction(e));let y=z3(v,h,g),b=m.getRGBTransferFunction(),x=t._openGLRenderWindow.getGraphicsResourceForObject(b);if(!x?.oglObject?.getHandle()||x?.hash!==y){let n=t.renderable.getColorTextureWidth();n<=0&&(n=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let r=n*_*3,i=new Uint8ClampedArray(r);if(t.colorTexture=G2.newInstance(),t.colorTexture.setOpenGLRenderWindow(t._openGLRenderWindow),b){let e=new Float32Array(n*3);for(let t=0;t<g;t++){let r=m.getRGBTransferFunction(t),a=r.getRange();if(r.getTable(a[0],a[1],n,e,1),h)for(let r=0;r<n*3;r++)i[t*n*6+r]=255*e[r],i[t*n*6+r+n*3]=255*e[r];else for(let r=0;r<n*3;r++)i[t*n*6+r]=255*e[r]}t.colorTexture.resetFormatAndType(),t.colorTexture.create2DFromRaw({width:n,height:_,numComps:3,dataType:t1.UNSIGNED_CHAR,data:i})}else{for(let e=0;e<n*3;++e)i[e]=255*e/((n-1)*3),i[e+1]=255*e/((n-1)*3),i[e+2]=255*e/((n-1)*3);t.colorTexture.resetFormatAndType(),t.colorTexture.create2DFromRaw({width:n,height:1,numComps:3,dataType:t1.UNSIGNED_CHAR,data:i})}b&&(t._openGLRenderWindow.setGraphicsResourceForObject(b,t.colorTexture,y),b!==t._colorTransferFunc&&(t._openGLRenderWindow.registerGraphicsResourceUser(b,e),t._openGLRenderWindow.unregisterGraphicsResourceUser(t._colorTransferFunc,e)),t._colorTransferFunc=b)}else t.colorTexture=x.oglObject;let S=[];for(let e=0;e<g;++e)S.push(m.getPiecewiseFunction(e));let C=z3(S,h,g),w=m.getPiecewiseFunction(),T=t._openGLRenderWindow.getGraphicsResourceForObject(w);if(!T?.oglObject?.getHandle()||T?.hash!==C){let n=t.renderable.getOpacityTextureWidth();n<=0&&(n=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let r=n*_,i=new Uint8ClampedArray(r);if(t.pwfTexture=G2.newInstance(),t.pwfTexture.setOpenGLRenderWindow(t._openGLRenderWindow),w){let e=new Float32Array(r),i=new Float32Array(n);for(let t=0;t<g;++t){let r=m.getPiecewiseFunction(t);if(r===null)e.fill(1);else{let a=r.getRange();if(r.getTable(a[0],a[1],n,i,1),h)for(let r=0;r<n;r++)e[t*n*2+r]=i[r],e[t*n*2+r+n]=i[r];else for(let r=0;r<n;r++)e[t*n*2+r]=i[r]}}t.pwfTexture.resetFormatAndType(),t.pwfTexture.create2DFromRaw({width:n,height:_,numComps:1,dataType:t1.FLOAT,data:e})}else i.fill(255),t.pwfTexture.resetFormatAndType(),t.pwfTexture.create2DFromRaw({width:n,height:1,numComps:1,dataType:t1.UNSIGNED_CHAR,data:i});w&&(t._openGLRenderWindow.setGraphicsResourceForObject(w,t.pwfTexture,C),w!==t._pwFunc&&(t._openGLRenderWindow.registerGraphicsResourceUser(w,e),t._openGLRenderWindow.unregisterGraphicsResourceUser(t._pwFunc,e)),t._pwFunc=w)}else t.pwfTexture=T.oglObject;if(t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<a.getMTime()){let e=a.getNumberOfPoints(),n=e<=1?0:e-1,r=a.getDistancesToFirstPoint(),i=t.renderable.getHeight(),o=4*n,s=new Float32Array(3*o),c=t.renderable.getWidth();for(let e=0,t=0;e<n;++e)s.set([0,i-r[e],0],t),t+=3,s.set([c,i-r[e],0],t),t+=3,s.set([c,i-r[e+1],0],t),t+=3,s.set([0,i-r[e+1],0],t),t+=3;let l=l1.newInstance({numberOfComponents:3,values:s});l.setName(`points`);let u=new Uint16Array(5*n);for(let e=0,t=0,r=0;e<n;++e)u.set([4,r+3,r+2,r+1,r],t),t+=5,r+=4;let d=l1.newInstance({numberOfComponents:1,values:u}),f=a.getPoints(),p=new Float32Array(3*o),m=[,,,],h=[,,,];for(let e=0,t=0;e<n;++e)f.getPoint(e,m),f.getPoint(e+1,h),p.set(m,t),t+=3,p.set(m,t),t+=3,p.set(h,t),t+=3,p.set(h,t),t+=3;let g=l1.newInstance({numberOfComponents:3,values:p,name:`centerlinePosition`}),_=new Float32Array(o);for(let e=0,t=0;e<n;++e)_.set([0,1,3,2],t),t+=4;let v=[g,l1.newInstance({numberOfComponents:1,values:_,name:`quadIndex`})];if(!t.renderable.getUseUniformOrientation()){let e=t.renderable.getOrientedCenterline().getOrientations()??[],r=new Float32Array(4*o),i=new Float32Array(4*o);for(let t=0;t<n;++t){let n=e[t],a=e[t+1];for(let e=0;e<4;++e){let o=4*(e+4*t);r.set(n,o),i.set(a,o)}}let a=l1.newInstance({numberOfComponents:4,values:r,name:`centerlineTopOrientation`}),s=l1.newInstance({numberOfComponents:4,values:i,name:`centerlineBotOrientation`});v.push(a,s)}t.tris.getCABO().createVBO(d,`polys`,G$.SURFACE,{points:l,customAttributes:v}),t.VBOBuildTime.modified()}},e.getNeedToRebuildShaders=(e,n,r)=>{let i=t.volumeTexture.getComponents(),a=r.getProperty().getIndependentComponents(),o=!!t.renderable.getCenterPoint(),s=t.renderable.getUseUniformOrientation(),c=t.renderable.isProjectionEnabled()&&t.renderable.getProjectionMode();return e.getProgram()===0||t.lastUseCenterPoint!==o||t.lastUseUniformOrientation!==s||t.lastProjectionMode!==c||t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||t.lastTextureComponents!==i||t.lastIndependentComponents!==a?(t.lastUseCenterPoint=o,t.lastUseUniformOrientation=s,t.lastProjectionMode=c,t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,t.lastTextureComponents=i,t.lastIndependentComponents=a,!0):!1},e.buildShaders=(t,n,r)=>{e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.replaceShaderValues=(n,r,i)=>{let a=n.Vertex,o=n.Fragment,s=[`vec3 applyQuaternionToVec(vec4 q, vec3 v) {`,`  float uvx = q.y * v.z - q.z * v.y;`,`  float uvy = q.z * v.x - q.x * v.z;`,`  float uvz = q.x * v.y - q.y * v.x;`,`  float uuvx = q.y * uvz - q.z * uvy;`,`  float uuvy = q.z * uvx - q.x * uvz;`,`  float uuvz = q.x * uvy - q.y * uvx;`,`  float w2 = q.w * 2.0;`,`  uvx *= w2;`,`  uvy *= w2;`,`  uvz *= w2;`,`  uuvx *= 2.0;`,`  uuvy *= 2.0;`,`  uuvz *= 2.0;`,`  return vec3(v.x + uvx + uuvx, v.y + uvy + uuvy, v.z + uvz + uuvz);`,`}`];a=w2.substitute(a,`//VTK::Camera::Dec`,[`uniform mat4 MCPCMatrix;`]).result,a=w2.substitute(a,`//VTK::PositionVC::Impl`,[`  gl_Position = MCPCMatrix * vertexMC;`]).result;let c=[`attribute vec3 centerlinePosition;`,`attribute float quadIndex;`,`uniform float width;`,`out vec2 quadOffsetVSOutput;`,`out vec3 centerlinePosVSOutput;`],l=t.renderable.isProjectionEnabled(),u=t.renderable.getUseUniformOrientation();u?(c.push(`out vec3 samplingDirVSOutput;`,`uniform vec4 centerlineOrientation;`,`uniform vec3 tangentDirection;`,...s),l&&c.push(`out vec3 projectionDirVSOutput;`,`uniform vec3 bitangentDirection;`)):c.push(`out vec4 centerlineTopOrientationVSOutput;`,`out vec4 centerlineBotOrientationVSOutput;`,`attribute vec4 centerlineTopOrientation;`,`attribute vec4 centerlineBotOrientation;`),a=w2.substitute(a,`//VTK::Color::Dec`,c).result;let d=[`quadOffsetVSOutput = vec2(width * (mod(quadIndex, 2.0) == 0.0 ? -0.5 : 0.5), quadIndex > 1.0 ? 0.0 : 1.0);`,`centerlinePosVSOutput = centerlinePosition;`];u?(d.push(`samplingDirVSOutput = applyQuaternionToVec(centerlineOrientation, tangentDirection);`),l&&d.push(`projectionDirVSOutput = applyQuaternionToVec(centerlineOrientation, bitangentDirection);`)):d.push(`centerlineTopOrientationVSOutput = centerlineTopOrientation;`,`centerlineBotOrientationVSOutput = centerlineBotOrientation;`),a=w2.substitute(a,`//VTK::Color::Impl`,d).result;let f=t.volumeTexture.getComponents(),p=i.getProperty().getIndependentComponents(),m=[`uniform mat4 MCTCMatrix; // Model coordinates to texture coordinates`,`in vec2 quadOffsetVSOutput;`,`in vec3 centerlinePosVSOutput;`,`uniform highp sampler3D volumeTexture;`,`uniform sampler2D colorTexture1;`,`uniform sampler2D pwfTexture1;`,`uniform float opacity;`,`uniform vec4 backgroundColor;`,`uniform float cshift0;`,`uniform float cscale0;`,`uniform float pwfshift0;`,`uniform float pwfscale0;`];l&&m.push(`uniform vec3 volumeSizeMC;`,`uniform int projectionSlabNumberOfSamples;`,`uniform float projectionConstantOffset;`,`uniform float projectionStepLength;`),u?(m.push(`in vec3 samplingDirVSOutput;`),l&&m.push(`in vec3 projectionDirVSOutput;`)):(m.push(`uniform vec3 tangentDirection;`,`in vec4 centerlineTopOrientationVSOutput;`,`in vec4 centerlineBotOrientationVSOutput;`,...s),l&&m.push(`uniform vec3 bitangentDirection;`));let h=t.renderable.getCenterPoint();if(h&&m.push(`uniform vec3 globalCenterPoint;`),p){for(let e=1;e<f;e++)m=m.concat([`uniform float cshift${e};`,`uniform float cscale${e};`,`uniform float pwfshift${e};`,`uniform float pwfscale${e};`]);switch(f){case 1:m=m.concat([`uniform float mix0;`,`#define height0 0.5`]);break;case 2:m=m.concat([`uniform float mix0;`,`uniform float mix1;`,`#define height0 0.25`,`#define height1 0.75`]);break;case 3:m=m.concat([`uniform float mix0;`,`uniform float mix1;`,`uniform float mix2;`,`#define height0 0.17`,`#define height1 0.5`,`#define height2 0.83`]);break;case 4:m=m.concat([`uniform float mix0;`,`uniform float mix1;`,`uniform float mix2;`,`uniform float mix3;`,`#define height0 0.125`,`#define height1 0.375`,`#define height2 0.625`,`#define height3 0.875`]);break;default:J3(`Unsupported number of independent coordinates.`)}}o=w2.substitute(o,`//VTK::TCoord::Dec`,m).result;let g=[];if(u?(g.push(`vec3 samplingDirection = samplingDirVSOutput;`),l&&g.push(`vec3 projectionDirection = projectionDirVSOutput;`)):(g.push(`vec4 q0 = centerlineBotOrientationVSOutput;`,`vec4 q1 = centerlineTopOrientationVSOutput;`,`float qCosAngle = dot(q0, q1);`,`vec4 interpolatedOrientation;`,`if (qCosAngle > 0.999 || qCosAngle < -0.999) {`,`  // Use LERP instead of SLERP when the two quaternions are close or opposite`,`  interpolatedOrientation = normalize(mix(q0, q1, quadOffsetVSOutput.y));`,`} else {`,`  float omega = acos(qCosAngle);`,`  interpolatedOrientation = normalize(sin((1.0 - quadOffsetVSOutput.y) * omega) * q0 + sin(quadOffsetVSOutput.y * omega) * q1);`,`}`,`vec3 samplingDirection = applyQuaternionToVec(interpolatedOrientation, tangentDirection);`),l&&g.push(`vec3 projectionDirection = applyQuaternionToVec(interpolatedOrientation, bitangentDirection);`)),h?g.push(`float baseOffset = dot(samplingDirection, globalCenterPoint - centerlinePosVSOutput);`,`float horizontalOffset = quadOffsetVSOutput.x + baseOffset;`):g.push(`float horizontalOffset = quadOffsetVSOutput.x;`),g.push(`vec3 volumePosMC = centerlinePosVSOutput + horizontalOffset * samplingDirection;`,`vec3 volumePosTC = (MCTCMatrix * vec4(volumePosMC, 1.0)).xyz;`,`if (any(lessThan(volumePosTC, vec3(0.0))) || any(greaterThan(volumePosTC, vec3(1.0))))`,`{`,`  // set the background color and exit`,`  gl_FragData[0] = backgroundColor;`,`  return;`,`}`),l){let e=t.renderable.getProjectionMode();switch(e){case q3.MIN:g.push(`const vec4 initialProjectionTextureValue = vec4(1.0);`);break;case q3.MAX:case q3.AVERAGE:default:g.push(`const vec4 initialProjectionTextureValue = vec4(0.0);`);break}switch(g.push(`vec3 projectionScaledDirection = projectionDirection / volumeSizeMC;`,`vec3 projectionStep = projectionStepLength * projectionScaledDirection;`,`vec3 projectionStartPosition = volumePosTC + projectionConstantOffset * projectionScaledDirection;`,`vec4 tvalue = initialProjectionTextureValue;`,`for (int projectionSampleIdx = 0; projectionSampleIdx < projectionSlabNumberOfSamples; ++projectionSampleIdx) {`,`  vec3 projectionSamplePosition = projectionStartPosition + float(projectionSampleIdx) * projectionStep;`,`  vec4 sampledTextureValue = texture(volumeTexture, projectionSamplePosition);`),e){case q3.MAX:g.push(`  tvalue = max(tvalue, sampledTextureValue);`);break;case q3.MIN:g.push(`  tvalue = min(tvalue, sampledTextureValue);`);break;case q3.AVERAGE:default:g.push(`  tvalue = tvalue + sampledTextureValue;`);break}g.push(`}`),e===q3.AVERAGE&&g.push(`tvalue = tvalue / float(projectionSlabNumberOfSamples);`)}else g.push(`vec4 tvalue = texture(volumeTexture, volumePosTC);`);if(p){let e=[`r`,`g`,`b`,`a`];for(let t=0;t<f;++t)g=g.concat([`vec3 tcolor${t} = mix${t} * texture2D(colorTexture1, vec2(tvalue.${e[t]} * cscale${t} + cshift${t}, height${t})).rgb;`,`float compWeight${t} = mix${t} * texture2D(pwfTexture1, vec2(tvalue.${e[t]} * pwfscale${t} + pwfshift${t}, height${t})).r;`]);switch(f){case 1:g=g.concat([`gl_FragData[0] = vec4(tcolor0.rgb, compWeight0 * opacity);`]);break;case 2:g=g.concat([`float weightSum = compWeight0 + compWeight1;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);`]);break;case 3:g=g.concat([`float weightSum = compWeight0 + compWeight1 + compWeight2;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);`]);break;case 4:g=g.concat([`float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;`,`gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);`]);break;default:J3(`Unsupported number of independent coordinates.`)}}else switch(f){case 1:g=g.concat([`// Dependent components`,`float intensity = tvalue.r;`,`vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;`,`float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;`,`gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);`]);break;case 2:g=g.concat([`float intensity = tvalue.r*cscale0 + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tvalue.g + pwfshift0);`]);break;case 3:g=g.concat([`vec4 tcolor = cscale0*tvalue + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);`]);break;default:g=g.concat([`vec4 tcolor = cscale0*tvalue + cshift0;`,`gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,`,`  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);`])}o=w2.substitute(o,`//VTK::TCoord::Impl`,g).result,t.haveSeenDepthRequest&&(o=w2.substitute(o,`//VTK::ZBuffer::Dec`,`uniform int depthRequest;`).result,o=w2.substitute(o,`//VTK::ZBuffer::Impl`,[`if (depthRequest == 1) {`,`float iz = floor(gl_FragCoord.z*65535.0 + 0.1);`,`float rf = floor(iz/256.0)/255.0;`,`float gf = mod(iz,256.0)/255.0;`,`gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }`]).result),n.Vertex=a,n.Fragment=o,e.replaceShaderClip(n,r,i),e.replaceShaderCoincidentOffset(n,r,i)},e.replaceShaderClip=(e,n,r)=>{let i=e.Vertex,a=e.Fragment;if(t.renderable.getNumberOfClippingPlanes()){let e=t.renderable.getNumberOfClippingPlanes();e>6&&($.vtkErrorMacro(`OpenGL has a limit of 6 clipping planes`),e=6),i=w2.substitute(i,`//VTK::Clip::Dec`,[`uniform int numClipPlanes;`,`uniform vec4 clipPlanes[6];`,`varying float clipDistancesVSOutput[6];`]).result,i=w2.substitute(i,`//VTK::Clip::Impl`,[`for (int planeNum = 0; planeNum < 6; planeNum++)`,`    {`,`    if (planeNum >= numClipPlanes)`,`        {`,`        break;`,`        }`,`    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);`,`    }`]).result,a=w2.substitute(a,`//VTK::Clip::Dec`,[`uniform int numClipPlanes;`,`varying float clipDistancesVSOutput[6];`]).result,a=w2.substitute(a,`//VTK::Clip::Impl`,[`for (int planeNum = 0; planeNum < 6; planeNum++)`,`    {`,`    if (planeNum >= numClipPlanes)`,`        {`,`        break;`,`        }`,`    if (clipDistancesVSOutput[planeNum] < 0.0) discard;`,`    }`]).result}e.Vertex=i,e.Fragment=a},e.getShaderTemplate=(e,t,n)=>{e.Vertex=K2,e.Fragment=q2,e.Geometry=``},e.setMapperShaderParameters=(n,r,i)=>{let a=n.getProgram(),o=n.getCABO();o.getElementCount()&&(t.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(a.isAttributeUsed(`vertexMC`)&&(n.getVAO().addAttributeArray(a,o,`vertexMC`,o.getVertexOffset(),o.getStride(),t.context.FLOAT,3,t.context.FALSE)||J3(`Error setting vertexMC in shader VAO.`)),n.getCABO().getCustomData().forEach(e=>{e&&a.isAttributeUsed(e.name)&&!n.getVAO().addAttributeArray(a,o,e.name,e.offset,o.getStride(),t.context.FLOAT,e.components,t.context.FALSE)&&J3(`Error setting ${e.name} in shader VAO.`)}),n.getAttributeUpdateTime().modified());let s=t.volumeTexture.getTextureUnit();if(a.setUniformi(`volumeTexture`,s),a.setUniformf(`width`,t.renderable.getWidth()),n.getProgram().setUniform4fv(`backgroundColor`,t.renderable.getBackgroundColor()),a.isUniformUsed(`tangentDirection`)){let e=t.renderable.getTangentDirection();n.getProgram().setUniform3fArray(`tangentDirection`,e)}if(a.isUniformUsed(`bitangentDirection`)){let e=t.renderable.getBitangentDirection();n.getProgram().setUniform3fArray(`bitangentDirection`,e)}if(a.isUniformUsed(`centerlineOrientation`)){let e=t.renderable.getUniformOrientation();n.getProgram().setUniform4fv(`centerlineOrientation`,e)}if(a.isUniformUsed(`globalCenterPoint`)){let e=t.renderable.getCenterPoint();a.setUniform3fArray(`globalCenterPoint`,e)}if(t.renderable.isProjectionEnabled()){let e=t.currentImageDataInput,n=e.getSpacing(),r=e.getDimensions(),i=t.renderable.getProjectionSlabThickness(),o=t.renderable.getProjectionSlabNumberOfSamples(),s=YG([],n,r);a.setUniform3fArray(`volumeSizeMC`,s),a.setUniformi(`projectionSlabNumberOfSamples`,o);let c=-.5*i;a.setUniformf(`projectionConstantOffset`,c);let l=i/(o-1);a.setUniformf(`projectionStepLength`,l)}let c=t.currentImageDataInput,l=c.getWorldToIndex(),u=YW(new Float32Array(16),zG([],c.getDimensions())),d=EG(u,u,l);if(a.setUniformMatrix(`MCTCMatrix`,d),t.haveSeenDepthRequest&&n.getProgram().setUniformi(`depthRequest`,t.renderDepth?1:0),t.renderable.getNumberOfClippingPlanes()){let e=t.renderable.getNumberOfClippingPlanes();e>6&&($.vtkErrorMacro(`OpenGL has a limit of 6 clipping planes`),e=6);let n=o.getCoordShiftAndScaleEnabled()?o.getInverseShiftAndScaleMatrix():null,r=n?NW(t.imagematinv,i.getMatrix()):i.getMatrix();n&&(LW(r,r),VW(r,r,n),LW(r,r)),LW(t.imagemat,t.currentImageDataInput.getIndexToWorld()),VW(t.imagematinv,r,t.imagemat);let s=[];for(let n=0;n<e;n++){let e=[];t.renderable.getClippingPlaneInDataCoords(t.imagematinv,n,e);for(let t=0;t<4;t++)s.push(e[t])}a.setUniformi(`numClipPlanes`,e),a.setUniform4fv(`clipPlanes`,s)}if(a.isUniformUsed(`coffset`)){let t=e.getCoincidentParameters(r,i);a.setUniformf(`coffset`,t.offset),a.isUniformUsed(`cfactor`)&&a.setUniformf(`cfactor`,t.factor)}},e.setCameraShaderParameters=(e,n,r)=>{let i=t.openGLImageSlice.getKeyMatrices().mcwc,a=t.openGLCamera.getKeyMatrices(n).wcpc;if(VW(t.imagemat,a,i),e.getCABO().getCoordShiftAndScaleEnabled()){let n=e.getCABO().getInverseShiftAndScaleMatrix();VW(t.imagemat,t.imagemat,n)}e.getProgram().setUniformMatrix(`MCPCMatrix`,t.imagemat)},e.setPropertyShaderParameters=(e,n,r)=>{let i=e.getProgram(),a=r.getProperty(),o=a.getOpacity();i.setUniformf(`opacity`,o);let s=t.volumeTexture.getComponents(),c=a.getIndependentComponents();if(c)for(let e=0;e<s;++e)i.setUniformf(`mix${e}`,a.getComponentWeight(e));let l=t.volumeTexture.getVolumeInfo();for(let e=0;e<s;e++){let t=a.getColorWindow(),n=a.getColorLevel(),r=c?e:0,o=a.getRGBTransferFunction(r);if(o&&a.getUseLookupTableScalarRange()){let e=o.getRange();t=e[1]-e[0],n=.5*(e[1]+e[0])}let s=l.scale[e]/t,u=(l.offset[e]-n)/t+.5;i.setUniformf(`cshift${e}`,u),i.setUniformf(`cscale${e}`,s)}let u=t.colorTexture.getTextureUnit();i.setUniformi(`colorTexture1`,u);for(let e=0;e<s;e++){let t=1,n=0,r=c?e:0,o=a.getPiecewiseFunction(r);if(o){let r=o.getRange(),i=r[1]-r[0],a=.5*(r[0]+r[1]);t=l.scale[e]/i,n=(l.offset[e]-a)/i+.5}i.setUniformf(`pwfshift${e}`,n),i.setUniformf(`pwfscale${e}`,t)}let d=t.pwfTexture.getTextureUnit();i.setUniformi(`pwfTexture1`,d)},e.updateShaders=(n,r,i)=>{if(e.getNeedToRebuildShaders(n,r,i)){let a={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(a,r,i);let o=t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(a.Vertex,a.Fragment,a.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,i),e.setCameraShaderParameters(n,r,i),e.setPropertyShaderParameters(n,r,i)},e.delete=$.chain(()=>{t._openGLRenderWindow&&n(t._openGLRenderWindow)},e.delete)}var $_e={currentRenderPass:null,volumeTexture:null,colorTexture:null,pwfTexture:null,tris:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0,lastIndependentComponents:0,imagemat:null,imagematinv:null};function eve(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,$_e,n),Kq.extend(e,t,n),J2.implementReplaceShaderCoincidentOffset(e,t,n),$.algo(e,t,2,0),t.tris=k2.newInstance(),t.volumeTexture=null,t.colorTexture=null,t.pwfTexture=null,t.imagemat=IW(new Float64Array(16)),t.imagematinv=IW(new Float64Array(16)),t.VBOBuildTime={},$.obj(t.VBOBuildTime,{mtime:0}),Q_e(e,t)}Qq(`vtkImageCPRMapper`,$.newInstance(eve,`vtkOpenGLImageCPRMapper`));function tve(e,t){t.classHierarchy.push(`vtkOpenGLImageSlice`),e.buildPass=n=>{if(!(!t.renderable||!t.renderable.getVisibility())&&n){if(!t.renderable)return;t._openGLRenderWindow=e.getLastAncestorOfType(`vtkOpenGLRenderWindow`),t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t.context=t._openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverseZBufferPass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children.forEach(e=>{e.traverse(n)}),e.apply(n,!1))},e.traverseOpaqueZBufferPass=t=>e.traverseOpaquePass(t),e.traverseOpaquePass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||!t.renderable.getIsOpaque()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children.forEach(e=>{e.traverse(n)}),e.apply(n,!1))},e.traverseTranslucentPass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children.forEach(e=>{e.traverse(n)}),e.apply(n,!1))},e.queryPass=(e,n)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.zBufferPass=(t,n)=>e.opaquePass(t,n),e.opaqueZBufferPass=(t,n)=>e.opaquePass(t,n),e.opaquePass=(e,n)=>{e&&t.context.depthMask(!0)},e.translucentPass=(e,n)=>{t.context.depthMask(!e)},e.getKeyMatrices=()=>(t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(NW(t.keyMatrices.mcwc,t.renderable.getMatrix()),LW(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.keyMatrixTime.modified()),t.keyMatrices)}var nve={context:null,keyMatrixTime:null,keyMatrices:null};function rve(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,nve,n),Kq.extend(e,t,n),t.keyMatrixTime={},uq(t.keyMatrixTime,{mtime:0}),t.keyMatrices={mcwc:IW(new Float64Array(16))},gq(e,t,[`context`]),tve(e,t)}Qq(`vtkImageSlice`,wq(rve,`vtkOpenGLImageSlice`));function ive(e,t){t.classHierarchy.push(`vtkOpenGLVolume`),e.buildPass=n=>{!t.renderable||!t.renderable.getVisibility()||n&&(t._openGLRenderWindow=e.getLastAncestorOfType(`vtkOpenGLRenderWindow`),t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`),t.context=t._openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes())},e.queryPass=(e,n)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementVolumeCount()}},e.traverseVolumePass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||t._openGLRenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children[0].traverse(n),e.apply(n,!1))},e.volumePass=e=>{!t.renderable||!t.renderable.getVisibility()||t.context.depthMask(!e)},e.getKeyMatrices=()=>(t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),NW(t.MCWCMatrix,t.renderable.getMatrix()),LW(t.MCWCMatrix,t.MCWCMatrix),t.renderable.getIsIdentity()?iW(t.normalMatrix):($U(t.normalMatrix,t.MCWCMatrix),oW(t.normalMatrix,t.normalMatrix),aW(t.normalMatrix,t.normalMatrix)),t.keyMatrixTime.modified()),{mcwc:t.MCWCMatrix,normalMatrix:t.normalMatrix})}var ave={};function ove(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ave,n),Kq.extend(e,t,n),t.keyMatrixTime={},uq(t.keyMatrixTime,{mtime:0}),t.normalMatrix=new Float64Array(9),t.MCWCMatrix=new Float64Array(16),gq(e,t,[`context`]),ive(e,t)}Qq(`vtkVolume`,wq(ove,`vtkOpenGLVolume`));function sve(e,t){t.classHierarchy.push(`vtkFramebuffer`),e.getBothMode=()=>t.context.FRAMEBUFFER,e.saveCurrentBindingsAndBuffers=t=>{let n=t===void 0?e.getBothMode():t;e.saveCurrentBindings(n),e.saveCurrentBuffers(n)},e.saveCurrentBindings=e=>{if(!t.context){GK(`you must set the OpenGLRenderWindow before calling saveCurrentBindings`);return}t.previousDrawBinding=t.context.getParameter(t.context.FRAMEBUFFER_BINDING),t.previousActiveFramebuffer=t._openGLRenderWindow.getActiveFramebuffer()},e.saveCurrentBuffers=e=>{},e.restorePreviousBindingsAndBuffers=t=>{let n=t===void 0?e.getBothMode():t;e.restorePreviousBindings(n),e.restorePreviousBuffers(n)},e.restorePreviousBindings=e=>{if(!t.context){GK(`you must set the OpenGLRenderWindow before calling restorePreviousBindings`);return}let n=t.context;n.bindFramebuffer(n.FRAMEBUFFER,t.previousDrawBinding),t._openGLRenderWindow.setActiveFramebuffer(t.previousActiveFramebuffer)},e.restorePreviousBuffers=e=>{},e.bind=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;n===null&&(n=t.context.FRAMEBUFFER),t.context.bindFramebuffer(n,t.glFramebuffer);for(let e=0;e<t.colorBuffers.length;e++)t.colorBuffers[e].bind();t._openGLRenderWindow.setActiveFramebuffer(e)},e.create=(e,n)=>{if(!t.context){GK(`you must set the OpenGLRenderWindow before calling create`);return}t.glFramebuffer=t.context.createFramebuffer(),t.glFramebuffer.width=e,t.glFramebuffer.height=n},e.setColorBuffer=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=t.context;if(!r){GK(`you must set the OpenGLRenderWindow before calling setColorBuffer`);return}let i=r.COLOR_ATTACHMENT0;if(n>0)if(t._openGLRenderWindow.getWebgl2())i+=n;else{GK(`Using multiple framebuffer attachments requires WebGL 2`);return}t.colorBuffers[n]=e,r.framebufferTexture2D(r.FRAMEBUFFER,i,r.TEXTURE_2D,e.getHandle(),0)},e.removeColorBuffer=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=t.context;if(!n){GK(`you must set the OpenGLRenderWindow before calling removeColorBuffer`);return}let r=n.COLOR_ATTACHMENT0;if(e>0)if(t._openGLRenderWindow.getWebgl2())r+=e;else{GK(`Using multiple framebuffer attachments requires WebGL 2`);return}n.framebufferTexture2D(n.FRAMEBUFFER,r,n.TEXTURE_2D,null,0),t.colorBuffers=t.colorBuffers.splice(e,1)},e.setDepthBuffer=e=>{if(!t.context){GK(`you must set the OpenGLRenderWindow before calling setDepthBuffer`);return}if(t._openGLRenderWindow.getWebgl2()){let n=t.context;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,e.getHandle(),0)}else GK(`Attaching depth buffer textures to fbo requires WebGL 2`)},e.removeDepthBuffer=()=>{if(!t.context){GK(`you must set the OpenGLRenderWindow before calling removeDepthBuffer`);return}if(t._openGLRenderWindow.getWebgl2()){let e=t.context;e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,null,0)}else GK(`Attaching depth buffer textures to framebuffers requires WebGL 2`)},e.getGLFramebuffer=()=>t.glFramebuffer,e.setOpenGLRenderWindow=n=>{t._openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t._openGLRenderWindow=n,t.context=null,n&&(t.context=t._openGLRenderWindow.getContext()))},e.releaseGraphicsResources=()=>{t.glFramebuffer&&t.context.deleteFramebuffer(t.glFramebuffer)},e.getSize=()=>t.glFramebuffer==null?null:[t.glFramebuffer.width,t.glFramebuffer.height],e.populateFramebuffer=()=>{if(!t.context){GK(`you must set the OpenGLRenderWindow before calling populateFrameBuffer`);return}e.bind();let n=t.context,r=G2.newInstance();r.setOpenGLRenderWindow(t._openGLRenderWindow),r.setMinificationFilter(j2.LINEAR),r.setMagnificationFilter(j2.LINEAR),r.create2DFromRaw({width:t.glFramebuffer.width,height:t.glFramebuffer.height,numComps:4,dataType:t1.UNSIGNED_CHAR,data:null}),e.setColorBuffer(r),t.depthTexture=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,t.depthTexture),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,t.glFramebuffer.width,t.glFramebuffer.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,t.depthTexture)},e.getColorTexture=()=>t.colorBuffers[0]}var cve={glFramebuffer:null,colorBuffers:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function Y3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,cve,n),uq(e,t),t.colorBuffers&&GK(`you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead.`),t.colorBuffers=[],_q(e,t,[`colorBuffers`]),sve(e,t)}var X3={newInstance:wq(Y3,`vtkFramebuffer`),extend:Y3},Z3={NEAREST:0,LINEAR:1,FAST_LINEAR:2},Q3={FRACTIONAL:0,PROPORTIONAL:1},$3={DEFAULT:0,ADDITIVE:1,COLORIZE:2,CUSTOM:3},e6={InterpolationType:Z3,OpacityMode:Q3,ColorMixPreset:$3,FilterMode:{OFF:0,NORMALIZED:1,RAW:2}},t6={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4,RADON_TRANSFORM_BLEND:5,LABELMAP_EDGE_PROJECTION_BLEND:6},lve={BlendMode:t6},uve=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;

varying vec3 vertexVCVSOutput;
uniform mat4 PCVCMatrix;

uniform float dcxmin;
uniform float dcxmax;
uniform float dcymin;
uniform float dcymax;

void main()
{
  // dcsmall is the device coords reduced to the
  // x y area covered by the volume
  vec4 dcsmall = vec4(
    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),
    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),
    vertexDC.z,
    vertexDC.w);
  vec4 vcpos = PCVCMatrix * dcsmall;
  vertexVCVSOutput = vcpos.xyz/vcpos.w;
  gl_Position = dcsmall;
}
`,dve=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the volume mappers fragment shader

const float infinity = 3.402823466e38;

// the output of this shader
//VTK::Output::Dec

in vec3 vertexVCVSOutput;

// From Sources\\Rendering\\Core\\VolumeProperty\\Constants.js
#define COMPOSITE_BLEND 0
#define MAXIMUM_INTENSITY_BLEND 1
#define MINIMUM_INTENSITY_BLEND 2
#define AVERAGE_INTENSITY_BLEND 3
#define ADDITIVE_INTENSITY_BLEND 4
#define RADON_TRANSFORM_BLEND 5
#define LABELMAP_EDGE_PROJECTION_BLEND 6

#define vtkNumberOfLights //VTK::NumberOfLights
#define vtkMaxLaoKernelSize //VTK::MaxLaoKernelSize
#define vtkNumberOfComponents //VTK::NumberOfComponents
#define vtkBlendMode //VTK::BlendMode
#define vtkMaximumNumberOfSamples //VTK::MaximumNumberOfSamples

//VTK::EnabledColorFunctions

//VTK::EnabledLightings

//VTK::EnabledMultiTexturePerVolume

//VTK::EnabledGradientOpacity

//VTK::EnabledIndependentComponents

//VTK::vtkProportionalComponents

//VTK::vtkForceNearestComponents

uniform int twoSidedLighting;

#if vtkMaxLaoKernelSize > 0
  vec2 kernelSample[vtkMaxLaoKernelSize];
#endif

// Textures
#ifdef EnabledMultiTexturePerVolume
  #define vtkNumberOfVolumeTextures vtkNumberOfComponents
#else
  #define vtkNumberOfVolumeTextures 1
#endif
uniform highp sampler3D volumeTexture[vtkNumberOfVolumeTextures];
uniform sampler2D colorTexture;
uniform sampler2D opacityTexture;
uniform sampler2D jtexture;
uniform sampler2D labelOutlineThicknessTexture;

struct Volume {
  // ---- Volume geometry settings ----

  vec3 originVC;          // in VC
  vec3 spacing;           // in VC per IC
  vec3 inverseSpacing;    // 1/spacing
  ivec3 dimensions;       // in IC
  vec3 inverseDimensions; // 1/vec3(dimensions)
  mat3 vecISToVCMatrix;   // convert from IS to VC without translation
  mat3 vecVCToISMatrix;   // convert from VC to IS without translation
  mat4 PCWCMatrix;
  mat4 worldToIndex;
  float diagonalLength; // in VC, this is: length(size)

  // ---- Texture settings ----

  // Texture shift and scale
  vec4 colorTextureScale;
  vec4 colorTextureShift;
  vec4 opacityTextureScale;
  vec4 opacityTextureShift;

  // The heights defined below are the locations for the up to four components
  // of the transfer functions. The transfer functions have a height of (2 *
  // numberOfComponents) pixels so the values are computed to hit the middle of
  // the two rows for that component
  vec4 transferFunctionsSampleHeight;

  // ---- Mode specific settings ----

  // Independent component default preset settings per component
  vec4 independentComponentMix;

  // Additive / average blending mode settings
  vec4 ipScalarRangeMin;
  vec4 ipScalarRangeMax;

  // ---- Rendering settings ----

  // Lighting
  float ambient;
  float diffuse;
  float specular;
  float specularPower;
  int computeNormalFromOpacity;

  // Gradient opacity
  vec4 gradientOpacityScale;
  vec4 gradientOpacityShift;
  vec4 gradientOpacityMin;
  vec4 gradientOpacityMax;

  // Volume shadow
  float volumetricScatteringBlending;
  float globalIlluminationReach;
  float anisotropy;
  float anisotropySquared;

  // LAO
  int kernelSize;
  int kernelRadius;

  // Label outline
  float outlineOpacity;
};
uniform Volume volume;

struct Light {
  vec3 color;
  vec3 positionVC;
  vec3 directionVC; // normalized
  vec3 halfAngleVC;
  vec3 attenuation;
  float exponent;
  float coneAngle;
  int isPositional;
};
#if vtkNumberOfLights > 0
  uniform Light lights[vtkNumberOfLights];
#endif

uniform float vpWidth;
uniform float vpHeight;
uniform float vpOffsetX;
uniform float vpOffsetY;

// Bitmasks for label outline
const int MAX_SEGMENT_INDEX = 256; // Define as per expected maximum
#define MAX_SEGMENTS 256
#define UINT_SIZE 32
// We add UINT_SIZE - 1, as we want the ceil of the division instead of the
// floor
#define BITMASK_SIZE ((MAX_SEGMENTS + UINT_SIZE - 1) / UINT_SIZE)
uint labelOutlineBitmasks[BITMASK_SIZE];

// Set the corresponding bit in the bitmask
void setLabelOutlineBit(int segmentIndex) {
  int arrayIndex = segmentIndex / UINT_SIZE;
  int bitIndex = segmentIndex % UINT_SIZE;
  labelOutlineBitmasks[arrayIndex] |= 1u << bitIndex;
}

// Check if a bit is set in the bitmask
bool isLabelOutlineBitSet(int segmentIndex) {
  int arrayIndex = segmentIndex / UINT_SIZE;
  int bitIndex = segmentIndex % UINT_SIZE;
  return ((labelOutlineBitmasks[arrayIndex] & (1u << bitIndex)) != 0u);
}

// if you want to see the raw tiled
// data in webgl1 uncomment the following line
// #define debugtile

// camera values
uniform float camThick;
uniform float camNear;
uniform float camFar;
uniform int cameraParallel;

//VTK::ClipPlane::Dec

// A random number between 0 and 1 that only depends on the fragment
// It uses the jtexture, so this random seed repeats by blocks of 32 fragments
// in screen space
float fragmentSeed;

// sample texture is global
uniform float sampleDistance;
uniform float volumeShadowSampleDistance;

// declaration for intermixed geometry
//VTK::ZBuffer::Dec

//=======================================================================
// global and custom variables (a temporary section before photorealistics
// rendering module is complete)
vec3 rayDirVC;

#define INV4PI 0.0796
#define EPSILON 0.001
#define PI 3.1415
#define PI2 9.8696

vec4 rawSampleTexture(vec3 pos) {
  #ifdef EnabledMultiTexturePerVolume
    vec4 rawSample;
    rawSample[0] = texture(volumeTexture[0], pos)[0];
  #if vtkNumberOfComponents > 1
    rawSample[1] = texture(volumeTexture[1], pos)[0];
  #endif
  #if vtkNumberOfComponents > 2
    rawSample[2] = texture(volumeTexture[2], pos)[0];
  #endif
  #if vtkNumberOfComponents > 3
    rawSample[3] = texture(volumeTexture[3], pos)[0];
  #endif
    return rawSample;
  #else
    return texture(volumeTexture[0], pos);
  #endif
}

vec4 rawFetchTexture(ivec3 pos) {
  #ifdef EnabledMultiTexturePerVolume
    vec4 rawSample;
    #if vtkNumberOfComponents > 0
      rawSample[0] = texelFetch(volumeTexture[0], pos, 0)[0];
    #endif
    #if vtkNumberOfComponents > 1
      rawSample[1] = texelFetch(volumeTexture[1], pos, 0)[0];
    #endif
    #if vtkNumberOfComponents > 2
      rawSample[2] = texelFetch(volumeTexture[2], pos, 0)[0];
    #endif
    #if vtkNumberOfComponents > 3
      rawSample[3] = texelFetch(volumeTexture[3], pos, 0)[0];
    #endif
    return rawSample;
  #else
    return texelFetch(volumeTexture[0], pos, 0);
  #endif
}

vec4 getTextureValue(vec3 pos) {
  vec4 tmp = rawSampleTexture(pos);

  // Force nearest
  #if defined(vtkComponent0ForceNearest) || \\
      defined(vtkComponent1ForceNearest) || \\
      defined(vtkComponent2ForceNearest) || \\
      defined(vtkComponent3ForceNearest)
    vec3 nearestPos = (floor(pos * vec3(volume.dimensions)) + 0.5) *
                      volume.inverseDimensions;
    vec4 nearestValue = rawSampleTexture(nearestPos);
    #ifdef vtkComponent0ForceNearest
      tmp[0] = nearestValue[0];
    #endif
    #ifdef vtkComponent1ForceNearest
      tmp[1] = nearestValue[1];
    #endif
    #ifdef vtkComponent2ForceNearest
      tmp[2] = nearestValue[2];
    #endif
    #ifdef vtkComponent3ForceNearest
      tmp[3] = nearestValue[3];
    #endif
  #endif

  // Set alpha when using dependent components
  #ifndef EnabledIndependentComponents
    #if vtkNumberOfComponents == 1
      tmp.a = tmp.r;
    #endif
    #if vtkNumberOfComponents == 2
      tmp.a = tmp.g;
    #endif
    #if vtkNumberOfComponents == 3
      tmp.a = length(tmp.rgb);
    #endif
  #endif

  return tmp;
}

// \`height\` is usually \`volume.transferFunctionsSampleHeight[component]\`
// when using independent component and \`0.5\` otherwise. Don't move the if
// statement in these function, as the callers usually already knows if it is
// using independent component or not
float getOpacityFromTexture(float scalar, int component, float height) {
  float scaledScalar = scalar * volume.opacityTextureScale[component] +
                       volume.opacityTextureShift[component];
  return texture2D(opacityTexture, vec2(scaledScalar, height)).r;
}
vec3 getColorFromTexture(float scalar, int component, float height) {
  float scaledScalar = scalar * volume.colorTextureScale[component] +
                       volume.colorTextureShift[component];
  return texture2D(colorTexture, vec2(scaledScalar, height)).rgb;
}

//=======================================================================
// transformation between VC and IS space

// convert vector position from idx to vc
vec3 posIStoVC(vec3 posIS) {
  return volume.vecISToVCMatrix * posIS + volume.originVC;
}

// convert vector position from vc to idx
vec3 posVCtoIS(vec3 posVC) {
  return volume.vecVCToISMatrix * (posVC - volume.originVC);
}

// Rotate vector to view coordinate
vec3 vecISToVC(vec3 dirIS) {
  return volume.vecISToVCMatrix * dirIS;
}

// Rotate vector to idx coordinate
vec3 vecVCToIS(vec3 dirVC) {
  return volume.vecVCToISMatrix * dirVC;
}

//=======================================================================
// Given a normal compute the gradient opacity factors
float computeGradientOpacityFactor(float normalMag, int component) {
  float goscale = volume.gradientOpacityScale[component];
  float goshift = volume.gradientOpacityShift[component];
  float gomin = volume.gradientOpacityMin[component];
  float gomax = volume.gradientOpacityMax[component];
  return clamp(normalMag * goscale + goshift, gomin, gomax);
}

#ifdef vtkClippingPlanesOn
  bool isPointClipped(vec3 posVC) {
    for (int i = 0; i < clip_numPlanes; ++i) {
      if (dot(vec3(vClipPlaneOrigins[i] - posVC), vClipPlaneNormals[i]) > 0.0) {
        return true;
      }
    }
    return false;
  }
#endif

//=======================================================================
// compute the normal and gradient magnitude for a position, uses forward
// difference

// The output normal is in VC
vec4 computeDensityNormal(vec3 opacityUCoords[2], float opacityTextureHeight,
                          float gradientOpacity, int component) {
  // Pass the scalars through the opacity functions
  vec4 opacityG;
  opacityG.x += getOpacityFromTexture(opacityUCoords[0].x, component,
                                      opacityTextureHeight);
  opacityG.y += getOpacityFromTexture(opacityUCoords[0].y, component,
                                      opacityTextureHeight);
  opacityG.z += getOpacityFromTexture(opacityUCoords[0].z, component,
                                      opacityTextureHeight);
  opacityG.x -= getOpacityFromTexture(opacityUCoords[1].x, component,
                                      opacityTextureHeight);
  opacityG.y -= getOpacityFromTexture(opacityUCoords[1].y, component,
                                      opacityTextureHeight);
  opacityG.z -= getOpacityFromTexture(opacityUCoords[1].z, component,
                                      opacityTextureHeight);

  // Divide by spacing and convert to VC
  opacityG.xyz *= gradientOpacity * volume.inverseSpacing;
  opacityG.w = length(opacityG.xyz);
  if (opacityG.w == 0.0) {
    return vec4(0.0);
  }

  // Normalize
  opacityG.xyz = normalize(vecISToVC(opacityG.xyz));

  return opacityG;
}

// The output normal is in VC
vec4 computeNormalForDensity(vec3 posIS, out vec3 scalarInterp[2],
                             const int opacityComponent) {
  vec3 offsetedPosIS;
  for (int axis = 0; axis < 3; ++axis) {
    // Positive direction
    offsetedPosIS = posIS;
    offsetedPosIS[axis] += volume.inverseDimensions[axis];
    scalarInterp[0][axis] =
        getTextureValue(offsetedPosIS)[opacityComponent];
    #ifdef vtkClippingPlanesOn
      if (isPointClipped(posIStoVC(offsetedPosIS))) {
        scalarInterp[0][axis] = 0.0;
      }
    #endif

    // Negative direction
    offsetedPosIS = posIS;
    offsetedPosIS[axis] -= volume.inverseDimensions[axis];
    scalarInterp[1][axis] =
        getTextureValue(offsetedPosIS)[opacityComponent];
    #ifdef vtkClippingPlanesOn
      if (isPointClipped(posIStoVC(offsetedPosIS))) {
        scalarInterp[1][axis] = 0.0;
      }
    #endif
  }

  vec4 result;
  result.xyz = (scalarInterp[0] - scalarInterp[1]) * volume.inverseSpacing;
  result.w = length(result.xyz);
  if (result.w == 0.0) {
    return vec4(0.0);
  }
  result.xyz = normalize(vecISToVC(result.xyz));
  return result;
}

vec4 fragCoordToPCPos(vec4 fragCoord) {
  return vec4((fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,
              (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,
              (fragCoord.z - 0.5) * 2.0, 1.0);
}

vec4 pcPosToWorldCoord(vec4 pcPos) {
  return volume.PCWCMatrix * pcPos;
}

vec3 fragCoordToIndexSpace(vec4 fragCoord) {
  vec4 pcPos = fragCoordToPCPos(fragCoord);
  vec4 worldCoord = pcPosToWorldCoord(pcPos);
  vec4 vertex = (worldCoord / worldCoord.w);

  vec3 index = (volume.worldToIndex * vertex).xyz;

  // half voxel fix for labelmapOutline
  return (index + vec3(0.5)) * volume.inverseDimensions;
}

vec3 fragCoordToWorld(vec4 fragCoord) {
  vec4 pcPos = fragCoordToPCPos(fragCoord);
  vec4 worldCoord = pcPosToWorldCoord(pcPos);
  return worldCoord.xyz;
}

//=======================================================================
// Compute the normals and gradient magnitudes for a position for independent
// components The output normals are in VC
mat4 computeMat4Normal(vec3 posIS, vec4 tValue) {
  vec3 xvec = vec3(volume.inverseDimensions.x, 0.0, 0.0);
  vec3 yvec = vec3(0.0, volume.inverseDimensions.y, 0.0);
  vec3 zvec = vec3(0.0, 0.0, volume.inverseDimensions.z);

  vec4 distX = getTextureValue(posIS + xvec) - getTextureValue(posIS - xvec);
  vec4 distY = getTextureValue(posIS + yvec) - getTextureValue(posIS - yvec);
  vec4 distZ = getTextureValue(posIS + zvec) - getTextureValue(posIS - zvec);

  // divide by spacing
  distX *= 0.5 * volume.inverseSpacing.x;
  distY *= 0.5 * volume.inverseSpacing.y;
  distZ *= 0.5 * volume.inverseSpacing.z;

  mat4 result;

  // optionally compute the 1st component
  #if vtkNumberOfComponents > 0 && !defined(vtkComponent0Proportional)
    {
      const int component = 0;
      vec3 normal = vec3(distX[component], distY[component], distZ[component]);
      float normalLength = length(normal);
      if (normalLength > 0.0) {
        normal = normalize(vecISToVC(normal));
      }
      result[component] = vec4(normal, normalLength);
    }
  #endif

  // optionally compute the 2nd component
  #if vtkNumberOfComponents > 1 && !defined(vtkComponent1Proportional)
    {
      const int component = 1;
      vec3 normal = vec3(distX[component], distY[component], distZ[component]);
      float normalLength = length(normal);
      if (normalLength > 0.0) {
        normal = normalize(vecISToVC(normal));
      }
      result[component] = vec4(normal, normalLength);
    }
  #endif

  // optionally compute the 3rd component
  #if vtkNumberOfComponents > 2 && !defined(vtkComponent2Proportional)
    {
      const int component = 2;
      vec3 normal = vec3(distX[component], distY[component], distZ[component]);
      float normalLength = length(normal);
      if (normalLength > 0.0) {
        normal = normalize(vecISToVC(normal));
      }
      result[component] = vec4(normal, normalLength);
    }
  #endif

  // optionally compute the 4th component
  #if vtkNumberOfComponents > 3 && !defined(vtkComponent3Proportional)
    {
      const int component = 3;
      vec3 normal = vec3(distX[component], distY[component], distZ[component]);
      float normalLength = length(normal);
      if (normalLength > 0.0) {
        normal = normalize(vecISToVC(normal));
      }
      result[component] = vec4(normal, normalLength);
    }
  #endif

  return result;
}

//=======================================================================
// global shadow - secondary ray

// henyey greenstein phase function
float phaseFunction(float cos_angle) {
  // divide by 2.0 instead of 4pi to increase intensity
  float anisotropy = volume.anisotropy;
  if (abs(anisotropy) <= EPSILON) {
    // isotropic scatter returns 0.5 instead of 1/4pi to increase intensity
    return 0.5;
  }
  float anisotropy2 = volume.anisotropySquared;
  return ((1.0 - anisotropy2) /
          pow(1.0 + anisotropy2 - 2.0 * anisotropy * cos_angle, 1.5)) /
         2.0;
}

// Compute the two intersection distances of the ray with the volume in VC
// The entry point is \`rayOriginVC + distanceMin * rayDirVC\` and the exit point
// is \`rayOriginVC + distanceMax * rayDirVC\` If distanceMin < distanceMax, the
// volume is not intersected The ray origin is inside the box when distanceMin <
// 0.0 < distanceMax
vec2 rayIntersectVolumeDistances(vec3 rayOriginVC, vec3 rayDirVC) {
  // Compute origin and direction in IS
  vec3 rayOriginIS = posVCtoIS(rayOriginVC);
  vec3 rayDirIS = vecVCToIS(rayDirVC);
  // Don't check for infinity as the min/max combination afterward will always
  // find an intersection before infinity
  vec3 invDir = 1.0 / rayDirIS;

  // We have: bound = origin + t * dir
  // So: t = (1/dir) * (bound - origin)
  vec3 distancesTo0 = invDir * (vec3(0.0) - rayOriginIS);
  vec3 distancesTo1 = invDir * (vec3(1.0) - rayOriginIS);
  // Min and max distances to plane intersection per plane
  vec3 dMinPerAxis = min(distancesTo0, distancesTo1);
  vec3 dMaxPerAxis = max(distancesTo0, distancesTo1);
  // Overall first and last intersection
  float distanceMin = max(dMinPerAxis.x, max(dMinPerAxis.y, dMinPerAxis.z));
  float distanceMax = min(dMaxPerAxis.x, min(dMaxPerAxis.y, dMaxPerAxis.z));
  return vec2(distanceMin, distanceMax);
}

//=======================================================================
// local ambient occlusion
#if vtkMaxLaoKernelSize > 0

  // Return a random point on the unit sphere
  vec3 sampleDirectionUniform(int rayIndex) {
    // Each ray of each fragment should be different, two sources of randomness
    // are used. Only depends on ray index
    vec2 rayRandomness = kernelSample[rayIndex];
    // Only depends on fragment
    float fragmentRandomness = fragmentSeed;
    // Merge both source of randomness in a single uniform random variable using
    // the formula (x+y < 1 ? x+y : x+y-1). The simpler formula (x+y)/2 doesn't
    // result in a uniform distribution
    vec2 mergedRandom = rayRandomness + vec2(fragmentRandomness);
    mergedRandom -= vec2(greaterThanEqual(mergedRandom, vec2(1.0)));

    // Insipred by:
    // https://karthikkaranth.me/blog/generating-random-points-in-a-sphere/#better-choice-of-spherical-coordinates
    float u = mergedRandom[0];
    float v = mergedRandom[1];
    float theta = u * 2.0 * PI;
    float phi = acos(2.0 * v - 1.0);
    float sinTheta = sin(theta);
    float cosTheta = cos(theta);
    float sinPhi = sin(phi);
    float cosPhi = cos(phi);
    return vec3(sinPhi * cosTheta, sinPhi * sinTheta, cosPhi);
  }

  float computeLAO(vec3 posVC, vec4 normalVC, float originalOpacity) {
    // apply LAO only at selected locations, otherwise return full brightness
    if (normalVC.w <= 0.0 || originalOpacity <= 0.05) {
      return 1.0;
    }

    #ifdef EnabledGradientOpacity
      float gradientOpacityFactor = computeGradientOpacityFactor(normalVC.w, 0);
    #endif

    float visibilitySum = 0.0;
    float weightSum = 0.0;
    for (int i = 0; i < volume.kernelSize; i++) {
      // Only sample on an hemisphere around the normalVC.xyz axis, so
      // normalDotRay should be negative
      vec3 rayDirectionVC = sampleDirectionUniform(i);
      float normalDotRay = dot(normalVC.xyz, rayDirectionVC);
      if (normalDotRay > 0.0) {
        // Flip rayDirectionVC when it is in the wrong hemisphere
        rayDirectionVC = -rayDirectionVC;
        normalDotRay = -normalDotRay;
      }

      vec3 currPosIS = posVCtoIS(posVC);
      float visibility = 1.0;
      vec3 randomDirStepIS = vecVCToIS(rayDirectionVC * sampleDistance);
      for (int j = 0; j < volume.kernelRadius; j++) {
        currPosIS += randomDirStepIS;
        // If out of the volume, we are done
        if (any(lessThan(currPosIS, vec3(0.0))) ||
            any(greaterThan(currPosIS, vec3(1.0)))) {
          break;
        }
        float opacity = getOpacityFromTexture(getTextureValue(currPosIS).r, 0, 0.5);
        #ifdef EnabledGradientOpacity
          opacity *= gradientOpacityFactor;
        #endif
        visibility *= 1.0 - opacity;
        // If visibility is less than EPSILON, consider it to be 0
        if (visibility < EPSILON) {
          visibility = 0.0;
          break;
        }
      }
      float rayWeight = -normalDotRay;
      visibilitySum += visibility * rayWeight;
      weightSum += rayWeight;
    }

    // If no sample, LAO factor is one
    if (weightSum == 0.0) {
      return 1.0;
    }

    // LAO factor is the average visibility:
    // - visibility low => ambient low
    // - visibility high => ambient high
    float lao = visibilitySum / weightSum;

    // Reduce variance by clamping
    return clamp(lao, 0.3, 1.0);
  }
#endif

//=======================================================================
// Volume shadows
#if vtkNumberOfLights > 0

  // Non-memoised version
  float computeVolumeShadowWithoutCache(vec3 posVC, vec3 lightDirNormVC) {
    // modify sample distance with a random number between 1.5 and 3.0
    float rayStepLength =
        volumeShadowSampleDistance * mix(1.5, 3.0, fragmentSeed);

    // in case the first sample near surface has a very tiled light ray, we need
    // to offset start position
    vec3 initialPosVC = posVC + rayStepLength * lightDirNormVC;

    #ifdef vtkClippingPlanesOn
      float clippingPlanesMaxDistance = infinity;
      for (int i = 0; i < clip_numPlanes; ++i) {
        // Find distance of intersection with the plane
        // Points are clipped when:
        // dot(planeOrigin - (rayOrigin + distance * rayDirection), planeNormal) > 0
        // This is equivalent to:
        // dot(planeOrigin - rayOrigin, planeNormal) - distance * dot(rayDirection,
        // planeNormal) > 0.0
        // We precompute the dot products, so we clip ray points when:
        // dotOrigin - distance * dotDirection > 0.0
        float dotOrigin =
            dot(vClipPlaneOrigins[i] - initialPosVC, vClipPlaneNormals[i]);
        if (dotOrigin > 0.0) {
          // The initialPosVC is clipped by this plane
          return 1.0;
        }
        float dotDirection = dot(lightDirNormVC, vClipPlaneNormals[i]);
        if (dotDirection < 0.0) {
          // We only hit the plane if dotDirection is negative, as (distance is
          // positive)
          float intersectionDistance =
              dotOrigin / dotDirection; // negative divided by negative => positive
          clippingPlanesMaxDistance =
              min(clippingPlanesMaxDistance, intersectionDistance);
        }
      }
    #endif

    vec2 intersectionDistances =
        rayIntersectVolumeDistances(initialPosVC, lightDirNormVC);

    if (intersectionDistances[1] <= intersectionDistances[0] ||
        intersectionDistances[1] <= 0.0) {
      // Volume not hit or behind the ray
      return 1.0;
    }

    // When globalIlluminationReach is 0, no sample at all
    // When globalIlluminationReach is 1, the ray will go through the whole
    // volume
    float maxTravelDistance = mix(0.0, volume.diagonalLength,
                                  volume.globalIlluminationReach);
    float startDistance = max(intersectionDistances[0], 0.0);
    float endDistance = min(intersectionDistances[1], startDistance + maxTravelDistance);
    #ifdef vtkClippingPlanesOn
      endDistance = min(endDistance, clippingPlanesMaxDistance);
    #endif
    if (endDistance - startDistance < 0.0) {
      return 1.0;
    }

    // These two variables are used to compute posIS, without having to call
    // VCtoIS at each step
    vec3 initialPosIS = posVCtoIS(initialPosVC);
    // The light dir is scaled and rotated, but not translated, as it is a
    // vector (w = 0)
    vec3 scaledLightDirIS = vecVCToIS(lightDirNormVC);

    float shadow = 1.0;
    for (float currentDistance = startDistance; currentDistance <= endDistance;
          currentDistance += rayStepLength) {
      vec3 posIS = initialPosIS + currentDistance * scaledLightDirIS;
      vec4 scalar = getTextureValue(posIS);
      float opacity = getOpacityFromTexture(scalar.r, 0, 0.5);
      #if defined(EnabledGradientOpacity) && !defined(EnabledIndependentComponents)
        vec3 scalarInterp[2];
        vec4 normal = computeNormalForDensity(posIS, scalarInterp, 3);
        float opacityFactor = computeGradientOpacityFactor(normal.w, 0);
        opacity *= opacityFactor;
      #endif
      shadow *= 1.0 - opacity;

      // Early termination if shadow coeff is near 0.0
      if (shadow < EPSILON) {
        return 0.0;
      }
    }
    return shadow;
  }

  // Some cache for volume shadows
  struct {
    vec3 posVC;
    float shadow;
  } cachedShadows[vtkNumberOfLights];

  // Memoised version
  float computeVolumeShadow(vec3 posVC, vec3 lightDirNormVC, int lightIdx) {
    if (posVC == cachedShadows[lightIdx].posVC) {
      return cachedShadows[lightIdx].shadow;
    }
    float shadow = computeVolumeShadowWithoutCache(posVC, lightDirNormVC);
    cachedShadows[lightIdx].posVC = posVC;
    cachedShadows[lightIdx].shadow = shadow;
    return shadow;
  }

#endif

//=======================================================================
// surface light contribution
#if vtkNumberOfLights > 0
  vec3 applyLighting(vec3 tColor, vec4 normalVC) {
    vec3 diffuse = vec3(0.0, 0.0, 0.0);
    vec3 specular = vec3(0.0, 0.0, 0.0);
    for (int lightIdx = 0; lightIdx < vtkNumberOfLights; lightIdx++) {
      float df = dot(normalVC.xyz, lights[lightIdx].directionVC);
      if (df > 0.0) {
        diffuse += df * lights[lightIdx].color;
        float sf = dot(normalVC.xyz, -lights[lightIdx].halfAngleVC);
        if (sf > 0.0) {
          specular += pow(sf, volume.specularPower) * lights[lightIdx].color;
        }
      }
    }
    return tColor * (diffuse * volume.diffuse + volume.ambient) +
          specular * volume.specular;
  }

  vec3 applySurfaceShadowLighting(vec3 tColor, float alpha, vec3 posVC,
                                  vec4 normalVC) {
    // everything in VC
    vec3 diffuse = vec3(0.0);
    vec3 specular = vec3(0.0);
    for (int ligthIdx = 0; ligthIdx < vtkNumberOfLights; ligthIdx++) {
      vec3 vertLightDirection;
      float attenuation;
      if (lights[ligthIdx].isPositional == 1) {
        vertLightDirection = posVC - lights[ligthIdx].positionVC;
        float lightDistance = length(vertLightDirection);
        // Normalize with precomputed length
        vertLightDirection = vertLightDirection / lightDistance;
        // Base attenuation
        vec3 attenuationPolynom = lights[ligthIdx].attenuation;
        attenuation =
            1.0 / (attenuationPolynom[0] +
                  lightDistance * (attenuationPolynom[1] +
                                    lightDistance * attenuationPolynom[2]));
        // Cone attenuation
        float coneDot = dot(vertLightDirection, lights[ligthIdx].directionVC);
        // Per OpenGL standard cone angle is 90 or less for a spot light
        if (lights[ligthIdx].coneAngle <= 90.0) {
          if (coneDot >= cos(radians(lights[ligthIdx].coneAngle))) {
            // Inside the cone
            attenuation *= pow(coneDot, lights[ligthIdx].exponent);
          } else {
            // Outside the cone
            attenuation = 0.0;
          }
        }
      } else {
        vertLightDirection = lights[ligthIdx].directionVC;
        attenuation = 1.0;
      }

      float ndotL = dot(normalVC.xyz, vertLightDirection);
      if (ndotL < 0.0 && twoSidedLighting == 1) {
        ndotL = -ndotL;
      }
      if (ndotL > 0.0) {
        // Diffuse
        diffuse += ndotL * attenuation * lights[ligthIdx].color;
        // Specular
        float vdotR =
            dot(-rayDirVC, normalize(vertLightDirection - 2.0 * ndotL * normalVC.xyz));
        if (vdotR > 0.0) {
          specular += pow(vdotR, volume.specularPower) * attenuation *
                      lights[ligthIdx].color;
        }
      }
    }
    #if vtkMaxLaoKernelSize > 0
      float laoFactor = computeLAO(posVC, normalVC, alpha);
    #else
      const float laoFactor = 1.0;
    #endif
    return tColor * (diffuse * volume.diffuse +
                    volume.ambient * laoFactor) +
          specular * volume.specular;
  }

  vec3 applyVolumeShadowLighting(vec3 tColor, vec3 posVC) {
    // Here we have no effect of cones and no attenuation
    vec3 diffuse = vec3(0.0);
    for (int lightIdx = 0; lightIdx < vtkNumberOfLights; lightIdx++) {
      vec3 lightDirVC = lights[lightIdx].isPositional == 1
                            ? normalize(lights[lightIdx].positionVC - posVC)
                            : -lights[lightIdx].directionVC;
      float shadowCoeff = computeVolumeShadow(posVC, lightDirVC, lightIdx);
      float phaseAttenuation = phaseFunction(dot(rayDirVC, lightDirVC));
      diffuse += phaseAttenuation * shadowCoeff * lights[lightIdx].color;
    }
    return tColor * (diffuse * volume.diffuse + volume.ambient);
  }
#endif

// LAO of surface shadows and volume shadows only work with dependent components
vec3 applyAllLightning(vec3 tColor, float alpha, vec3 posVC,
                       vec4 surfaceNormalVC) {
  #if vtkNumberOfLights > 0
    // 0 <= volCoeff < EPSILON => only surface shadows
    // EPSILON <= volCoeff < 1 - EPSILON => mix of surface and volume shadows
    // 1 - EPSILON <= volCoeff => only volume shadows
    float volCoeff = volume.volumetricScatteringBlending *
                    (1.0 - alpha / 2.0) *
                    (1.0 - atan(surfaceNormalVC.w) * INV4PI);

    // Compute surface lighting if needed
    vec3 surfaceShadedColor = tColor;
    #ifdef EnableSurfaceLighting
      if (volCoeff < 1.0 - EPSILON) {
        surfaceShadedColor =
            applySurfaceShadowLighting(tColor, alpha, posVC, surfaceNormalVC);
      }
    #endif

    // Compute volume lighting if needed
    vec3 volumeShadedColor = tColor;
    #ifdef EnableVolumeLighting
      if (volCoeff >= EPSILON) {
        volumeShadedColor = applyVolumeShadowLighting(tColor, posVC);
      }
    #endif

    // Return the right mix
    if (volCoeff < EPSILON) {
      // Surface shadows
      return surfaceShadedColor;
    }
    if (volCoeff >= 1.0 - EPSILON) {
      // Volume shadows
      return volumeShadedColor;
    }
    // Mix of surface and volume shadows
    return mix(surfaceShadedColor, volumeShadedColor, volCoeff);
  #endif
  return tColor;
}

vec4 getColorForLabelOutline() {
  vec3 centerPosIS =
      fragCoordToIndexSpace(gl_FragCoord); // pos in texture space
  vec4 centerValue = getTextureValue(centerPosIS);
  bool pixelOnBorder = false;
  vec4 tColor = vec4(getColorFromTexture(centerValue.r, 0, 0.5),
                     getOpacityFromTexture(centerValue.r, 0, 0.5));

  int segmentIndex = int(centerValue.r * 255.0);

  // Use texture sampling for outlineThickness
  float textureCoordinate = float(segmentIndex - 1) / 1024.0;
  float textureValue =
      texture2D(labelOutlineThicknessTexture, vec2(textureCoordinate, 0.5)).r;
  int actualThickness = int(textureValue * 255.0);

  // If it is the background (segment index 0), we should quickly bail out.
  // Previously, this was determined by tColor.a, which was incorrect as it
  // prevented the outline from appearing when the fill is 0.
  if (segmentIndex == 0) {
    return vec4(0, 0, 0, 0);
  }

  // Only perform outline check on fragments rendering voxels that aren't
  // invisible. Saves a bunch of needless checks on the background.
  // TODO define epsilon when building shader?
  for (int i = -actualThickness; i <= actualThickness; i++) {
    for (int j = -actualThickness; j <= actualThickness; j++) {
      if (i == 0 || j == 0) {
        continue;
      }

      vec4 neighborPixelCoord =
          vec4(gl_FragCoord.x + float(i), gl_FragCoord.y + float(j),
               gl_FragCoord.z, gl_FragCoord.w);

      vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
      vec4 value = getTextureValue(neighborPosIS);

      // If any of my neighbours are not the same value as I
      // am, this means I am on the border of the segment.
      // We can break the loops
      if (any(notEqual(value, centerValue))) {
        pixelOnBorder = true;
        break;
      }
    }

    if (pixelOnBorder == true) {
      break;
    }
  }

  // If I am on the border, I am displayed at full opacity
  if (pixelOnBorder == true) {
    tColor.a = volume.outlineOpacity;
  }

  return tColor;
}

vec4 getColorForAdditivePreset(vec4 tValue, vec3 posVC, vec3 posIS) {
  // compute normals
  mat4 normalMat = computeMat4Normal(posIS, tValue);
  vec4 normalLights[2];
  normalLights[0] = normalMat[0];
  normalLights[1] = normalMat[1];
  #if vtkNumberOfLights > 0
    if (volume.computeNormalFromOpacity == 1) {
      for (int component = 0; component < 2; ++component) {
        vec3 scalarInterp[2];
        float height = volume.transferFunctionsSampleHeight[component];
        computeNormalForDensity(posIS, scalarInterp, component);
        normalLights[component] =
            computeDensityNormal(scalarInterp, height, 1.0, component);
      }
    }
  #endif

  // compute opacities
  float opacities[2];
  opacities[0] = getOpacityFromTexture(
      tValue[0], 0, volume.transferFunctionsSampleHeight[0]);
  opacities[1] = getOpacityFromTexture(
      tValue[1], 1, volume.transferFunctionsSampleHeight[1]);
  #ifdef EnabledGradientOpacity
    for (int component = 0; component < 2; ++component) {
      opacities[component] *=
          computeGradientOpacityFactor(normalMat[component].a, component);
    }
  #endif
  float opacitySum = opacities[0] + opacities[1];
  if (opacitySum <= 0.0) {
    return vec4(0.0);
  }

  // mix the colors and opacities
  vec3 colors[2];
  for (int component = 0; component < 2; ++component) {
    float sampleHeight = volume.transferFunctionsSampleHeight[component];
    vec3 color = getColorFromTexture(tValue[component], component, sampleHeight);
    color = applyAllLightning(color, opacities[component], posVC,
                              normalLights[component]);
    colors[component] = color;
  }
  vec3 mixedColor =
      (opacities[0] * colors[0] + opacities[1] * colors[1]) / opacitySum;
  return vec4(mixedColor, min(1.0, opacitySum));
}

vec4 getColorForColorizePreset(vec4 tValue, vec3 posVC, vec3 posIS) {
  // compute normals
  mat4 normalMat = computeMat4Normal(posIS, tValue);
  vec4 normalLight = normalMat[0];
  #if vtkNumberOfLights > 0
    if (volume.computeNormalFromOpacity == 1) {
      vec3 scalarInterp[2];
      float height = volume.transferFunctionsSampleHeight[0];
      computeNormalForDensity(posIS, scalarInterp, 0);
      normalLight = computeDensityNormal(scalarInterp, height, 1.0, 0);
    }
  #endif

  // compute opacities
  float opacity = getOpacityFromTexture(
      tValue[0], 0, volume.transferFunctionsSampleHeight[0]);
  #ifdef EnabledGradientOpacity
    opacity *= computeGradientOpacityFactor(normalMat[0].a, 0);
  #endif

  // colorizing component
  vec3 colorizingColor = getColorFromTexture(
      tValue[0], 1, volume.transferFunctionsSampleHeight[1]);
  float colorizingOpacity = getOpacityFromTexture(
      tValue[1], 1, volume.transferFunctionsSampleHeight[1]);

  // mix the colors and opacities
  vec3 color =
      getColorFromTexture(tValue[0], 0,
                          volume.transferFunctionsSampleHeight[0]) *
      mix(vec3(1.0), colorizingColor, colorizingOpacity);
  color = applyAllLightning(color, opacity, posVC, normalLight);
  return vec4(color, opacity);
}

vec4 getColorForDefaultIndependentPreset(vec4 tValue, vec3 posIS) {

  // compute the normal vectors as needed
  #if defined(EnabledGradientOpacity) || vtkNumberOfLights > 0
    mat4 normalMat = computeMat4Normal(posIS, tValue);
  #endif

  // process color and opacity for each component
  // initial value of alpha is determined by wether the first component is
  // proportional or not
  #if defined(vtkComponent0Proportional)
    // when it is proportional, it starts at 1 (neutral for multiplications)
    float alpha = 1.0;
  #else
    // when it is not proportional, it starts at 0 (neutral for additions)
    float alpha = 0.0;
  #endif

  vec3 mixedColor = vec3(0.0);
  #if vtkNumberOfComponents > 0
    {
      const int component = 0;
      vec3 color = getColorFromTexture(
          tValue[component], component,
          volume.transferFunctionsSampleHeight[component]);
      float opacity = getOpacityFromTexture(
          tValue[component], component,
          volume.transferFunctionsSampleHeight[component]);
      #if !defined(vtkComponent0Proportional)
        float alphaContribution = volume.independentComponentMix[component] * opacity;
        #ifdef EnabledGradientOpacity
          alphaContribution *= computeGradientOpacityFactor(normalMat[component].a, component);
        #endif
        alpha += alphaContribution;
        #if vtkNumberOfLights > 0
          color = applyLighting(color, normalMat[component]);
        #endif
      #else
        color *= opacity;
        alpha *= mix(opacity, 1.0,
                    (1.0 - volume.independentComponentMix[component]));
      #endif
      mixedColor += volume.independentComponentMix[component] * color;
    }
  #endif
  #if vtkNumberOfComponents > 1
    {
      const int component = 1;
      vec3 color = getColorFromTexture(
          tValue[component], component,
          volume.transferFunctionsSampleHeight[component]);
      float opacity = getOpacityFromTexture(
          tValue[component], component,
          volume.transferFunctionsSampleHeight[component]);
      #if !defined(vtkComponent1Proportional)
        float alphaContribution = volume.independentComponentMix[component] * opacity;
        #ifdef EnabledGradientOpacity
          alphaContribution *= computeGradientOpacityFactor(normalMat[component].a, component);
        #endif
        alpha += alphaContribution;
        #if vtkNumberOfLights > 0
          color = applyLighting(color, normalMat[component]);
        #endif
      #else
        color *= opacity;
        alpha *= mix(opacity, 1.0,
                    (1.0 - volume.independentComponentMix[component]));
      #endif
      mixedColor += volume.independentComponentMix[component] * color;
    }
  #endif
  #if vtkNumberOfComponents > 2
    {
      const int component = 2;
      vec3 color = getColorFromTexture(
          tValue[component], component,
          volume.transferFunctionsSampleHeight[component]);
      float opacity = getOpacityFromTexture(
          tValue[component], component,
          volume.transferFunctionsSampleHeight[component]);
      #if !defined(vtkComponent2Proportional)
        float alphaContribution = volume.independentComponentMix[component] * opacity;
        #ifdef EnabledGradientOpacity
          alphaContribution *= computeGradientOpacityFactor(normalMat[component].a, component);
        #endif
        alpha += alphaContribution;
        #if vtkNumberOfLights > 0
          color = applyLighting(color, normalMat[component]);
        #endif
      #else
        color *= opacity;
        alpha *= mix(opacity, 1.0,
                    (1.0 - volume.independentComponentMix[component]));
      #endif
      mixedColor += volume.independentComponentMix[component] * color;
    }
  #endif
  #if vtkNumberOfComponents > 3
    {
      const int component = 3;
      vec3 color = getColorFromTexture(
          tValue[component], component,
          volume.transferFunctionsSampleHeight[component]);
      float opacity = getOpacityFromTexture(
          tValue[component], component,
          volume.transferFunctionsSampleHeight[component]);
      #if !defined(vtkComponent3Proportional)
        float alphaContribution = volume.independentComponentMix[component] * opacity;
        #ifdef EnabledGradientOpacity
          alphaContribution *= computeGradientOpacityFactor(normalMat[component].a, component);
        #endif
        alpha += alphaContribution;
        #if vtkNumberOfLights > 0
          color = applyLighting(color, normalMat[component]);
        #endif
      #else
        color *= opacity;
        alpha *= mix(opacity, 1.0,
                    (1.0 - volume.independentComponentMix[component]));
      #endif
      mixedColor += volume.independentComponentMix[component] * color;
    }
  #endif

  return vec4(mixedColor, alpha);
}

vec4 getColorForDependentComponents(vec4 tValue, vec3 posVC, vec3 posIS) {
  #if defined(EnabledGradientOpacity) || vtkNumberOfLights > 0
    // use component 3 of the opacity texture as getTextureValue() sets alpha to
    // the opacity value
    vec3 scalarInterp[2];
    vec4 normal0 = computeNormalForDensity(posIS, scalarInterp, 3);
    float gradientOpacity = computeGradientOpacityFactor(normal0.a, 0);
  #endif

  // get color and opacity
  #if vtkNumberOfComponents == 1
    vec3 tColor = getColorFromTexture(tValue.r, 0, 0.5);
    float alpha = getOpacityFromTexture(tValue.r, 0, 0.5);
  #endif
  #if vtkNumberOfComponents == 2
    vec3 tColor = vec3(tValue.r * volume.colorTextureScale[0] +
                  volume.colorTextureShift[0]);
    float alpha = getOpacityFromTexture(tValue.a, 1, 0.5);
  #endif
  #if vtkNumberOfComponents == 3
      vec3 tColor = tValue.rgb * volume.colorTextureScale.rgb +
              volume.colorTextureShift.rgb;
      float alpha = getOpacityFromTexture(tValue.a, 0, 0.5);
  #endif
  #if vtkNumberOfComponents == 4
      vec3 tColor = tValue.rgb * volume.colorTextureScale.rgb +
              volume.colorTextureShift.rgb;
      float alpha = getOpacityFromTexture(tValue.a, 3, 0.5);
  #endif

  // Apply gradient opacity
  #if defined(EnabledGradientOpacity)
    alpha *= gradientOpacity;
  #endif

  #if vtkNumberOfComponents == 1
    if (alpha < EPSILON) {
      return vec4(0.0);
    }
  #endif

  // lighting
  #if vtkNumberOfLights > 0
    vec4 normalLight;
    if (volume.computeNormalFromOpacity == 1) {
      if (normal0[3] != 0.0) {
        normalLight =
            computeDensityNormal(scalarInterp, 0.5, gradientOpacity, 0);
        if (normalLight[3] == 0.0) {
          normalLight = normal0;
        }
      }
    } else {
      normalLight = normal0;
    }
    tColor = applyAllLightning(tColor, alpha, posVC, normalLight);
  #endif

  return vec4(tColor, alpha);
}

vec4 getColorForValue(vec4 tValue, vec3 posVC, vec3 posIS) {
  #ifdef EnableColorForValueFunctionId0
    return getColorForDependentComponents(tValue, posVC, posIS);
  #endif

  #ifdef EnableColorForValueFunctionId1
    return getColorForAdditivePreset(tValue, posVC, posIS);
  #endif

  #ifdef EnableColorForValueFunctionId2
    return getColorForColorizePreset(tValue, posVC, posIS);
  #endif

  #ifdef EnableColorForValueFunctionId3
    /*
      * Mix the color information from all the independent components to get a
      * single rgba output. See other shader functions like
      * \`getColorForAdditivePreset\` to learn how to create a custom color mix.
      * The custom color mix should return a value, but if it doesn't, it will
      * fallback on the default shading
      */
    //VTK::CustomColorMix
  #endif

  #if defined(EnableColorForValueFunctionId4) || defined(EnableColorForValueFunctionId3)
    return getColorForDefaultIndependentPreset(tValue, posIS);
  #endif

  #ifdef EnableColorForValueFunctionId5
    return getColorForLabelOutline();
  #endif
}

bool valueWithinScalarRange(vec4 val) {
  #if vtkNumberOfComponents > 1 && !defined(EnabledIndependentComponents)
    return false;
  #endif
  vec4 rangeMin = volume.ipScalarRangeMin;
  vec4 rangeMax = volume.ipScalarRangeMax;
  for (int component = 0; component < vtkNumberOfComponents; ++component) {
    if (val[component] < rangeMin[component] ||
        rangeMax[component] < val[component]) {
      return false;
    }
  }
  return true;
}

#if vtkBlendMode == LABELMAP_EDGE_PROJECTION_BLEND
  bool checkOnEdgeForNeighbor(int xFragmentOffset, int yFragmentOffset,
                              int segmentIndex, vec3 stepIS) {
    vec3 volumeDimensions = vec3(volume.dimensions);
    vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(xFragmentOffset),
                                  gl_FragCoord.y + float(yFragmentOffset),
                                  gl_FragCoord.z, gl_FragCoord.w);
    vec3 originalNeighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);

    vec3 neighborPosIS = originalNeighborPosIS;
    for (int k = 0; k < vtkMaximumNumberOfSamples / 2; ++k) {
      ivec3 texCoord = ivec3(neighborPosIS * volumeDimensions);
      vec4 texValue = rawFetchTexture(texCoord);
      if (int(texValue.g) == segmentIndex) {
        // not on edge
        return false;
      }
      neighborPosIS += stepIS;
    }

    neighborPosIS = originalNeighborPosIS;
    for (int k = 0; k < vtkMaximumNumberOfSamples / 2; ++k) {
      ivec3 texCoord = ivec3(neighborPosIS * volumeDimensions);
      vec4 texValue = rawFetchTexture(texCoord);
      if (int(texValue.g) == segmentIndex) {
        // not on edge
        return false;
      }
      neighborPosIS -= stepIS;
    }

    // onedge
    float sampleHeight = volume.transferFunctionsSampleHeight[1];
    vec3 tColorSegment =
        getColorFromTexture(float(segmentIndex), 1, sampleHeight);
    float pwfValueSegment =
        getOpacityFromTexture(float(segmentIndex), 1, sampleHeight);
    gl_FragData[0] = vec4(tColorSegment, pwfValueSegment);
    return true;
  }
#endif

vec4 getColorAtPos(vec3 posVC) {
  vec3 posIS = posVCtoIS(posVC);
  vec4 texValue = getTextureValue(posIS);
  return getColorForValue(texValue, posVC, posIS);
}

//=======================================================================
// Apply the specified blend mode operation along the ray's path.
//
void applyBlend(vec3 rayOriginVC, vec3 rayDirVC, float minDistance,
                float maxDistance) {
  // start slightly inside and apply some jitter
  vec3 stepVC = rayDirVC * sampleDistance;
  float raySteps = (maxDistance - minDistance) / sampleDistance;

  // Avoid 0.0 jitter
  float jitter = 0.01 + 0.99 * fragmentSeed;

  #if vtkBlendMode == COMPOSITE_BLEND
    // now map through opacity and color
    vec3 firstPosVC = rayOriginVC + minDistance * rayDirVC;
    vec4 firstColor = getColorAtPos(firstPosVC);

    // handle very thin volumes
    if (raySteps <= 1.0) {
      firstColor.a = 1.0 - pow(1.0 - firstColor.a, raySteps);
      gl_FragData[0] = firstColor;
      return;
    }

    // first color only counts for \`jitter\` factor of the step
    firstColor.a = 1.0 - pow(1.0 - firstColor.a, jitter);
    vec4 color = vec4(firstColor.rgb * firstColor.a, firstColor.a);
    vec3 posVC = firstPosVC + jitter * stepVC;
    float stepsTraveled = jitter;

    for (int i = 0; i < vtkMaximumNumberOfSamples; ++i) {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) {
        break;
      }
      vec4 tColor = getColorAtPos(posVC);

      color = color + vec4(tColor.rgb * tColor.a, tColor.a) * (1.0 - color.a);
      stepsTraveled++;
      posVC += stepVC;
      if (color.a > 0.99) {
        color.a = 1.0;
        break;
      }
    }

    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0) {
      vec3 endPosVC = rayOriginVC + maxDistance * rayDirVC;
      vec4 tColor = getColorAtPos(endPosVC);
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);

      float mix = (1.0 - color.a);
      color = color + vec4(tColor.rgb * tColor.a, tColor.a) * mix;
    }

    gl_FragData[0] = vec4(color.rgb / color.a, color.a);
  #endif

  #if vtkBlendMode == MAXIMUM_INTENSITY_BLEND ||                                 \\
      vtkBlendMode == MINIMUM_INTENSITY_BLEND
    // Find maximum/minimum intensity along the ray.

    // Define the operation we will use (min or max)
    #if vtkBlendMode == MAXIMUM_INTENSITY_BLEND
      #define OP max
    #else
      #define OP min
    #endif

    vec3 posVC = rayOriginVC + minDistance * rayDirVC;
    float stepsTraveled = 0.0;

    // Find a value to initialize the selected variables
    vec4 selectedValue;
    vec3 selectedPosVC;
    vec3 selectedPosIS;
    {
      vec3 posIS = posVCtoIS(posVC);
      selectedValue = getTextureValue(posIS);
      selectedPosVC = posVC;
      selectedPosIS = posIS;
    }

    // If the clipping range is shorter than the sample distance
    // we can skip the sampling loop along the ray.
    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(selectedValue, selectedPosVC, selectedPosIS);
      return;
    }

    posVC += jitter * stepVC;
    stepsTraveled += jitter;

    // Sample along the ray until vtkMaximumNumberOfSamples,
    // ending slightly inside the total distance
    for (int i = 0; i < vtkMaximumNumberOfSamples; ++i) {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) {
        break;
      }

      // Get selected values
      vec3 posIS = posVCtoIS(posVC);
      vec4 previousSelectedValue = selectedValue;
      vec4 currentValue = getTextureValue(posIS);
      selectedValue = OP(selectedValue, currentValue);
      if (previousSelectedValue != selectedValue) {
        selectedPosVC = posVC;
        selectedPosIS = posIS;
      }

      // Otherwise, continue along the ray
      stepsTraveled++;
      posVC += stepVC;
    }

    // Perform the last step along the ray using the
    // residual distance
    posVC = rayOriginVC + maxDistance * rayDirVC;
    {
      vec3 posIS = posVCtoIS(posVC);
      vec4 previousSelectedValue = selectedValue;
      vec4 currentValue = getTextureValue(posIS);
      selectedValue = OP(selectedValue, currentValue);
      if (previousSelectedValue != selectedValue) {
        selectedPosVC = posVC;
        selectedPosIS = posIS;
      }
    }

    gl_FragData[0] = getColorForValue(selectedValue, selectedPosVC, selectedPosIS);
  #endif

  #if vtkBlendMode == ADDITIVE_INTENSITY_BLEND ||                                \\
      vtkBlendMode == AVERAGE_INTENSITY_BLEND
    vec4 sum = vec4(0.);
    #if vtkBlendMode == AVERAGE_INTENSITY_BLEND
      float totalWeight = 0.0;
    #endif
    vec3 posVC = rayOriginVC + minDistance * rayDirVC;
    float stepsTraveled = 0.0;

    vec3 posIS = posVCtoIS(posVC);
    vec4 value = getTextureValue(posIS);

    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(value * raySteps, posVC, posIS);
      return;
    }

    if (valueWithinScalarRange(value)) {
      sum += value * jitter;
      #if vtkBlendMode == AVERAGE_INTENSITY_BLEND
        totalWeight += jitter;
      #endif
    }
    posVC += jitter * stepVC;
    stepsTraveled += jitter;

    // Sample along the ray until vtkMaximumNumberOfSamples,
    // ending slightly inside the total distance
    for (int i = 0; i < vtkMaximumNumberOfSamples; ++i) {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) {
        break;
      }

      posIS = posVCtoIS(posVC);
      value = getTextureValue(posIS);
      // One can control the scalar range by setting the AverageIPScalarRange to
      // disregard scalar values, not in the range of interest, from the average
      // computation. Notes:
      // - We are comparing all values in the texture to see if any of them
      //   are outside of the scalar range. In the future we might want to allow
      //   scalar ranges for each component.
      if (valueWithinScalarRange(value)) {
        sum += value;
        #if vtkBlendMode == AVERAGE_INTENSITY_BLEND
          totalWeight++;
        #endif
      }

      stepsTraveled++;
      posVC += stepVC;
    }

    // Perform the last step along the ray using the
    // residual distance
    posVC = rayOriginVC + maxDistance * rayDirVC;
    posIS = posVCtoIS(posVC);
    value = getTextureValue(posIS);
    if (valueWithinScalarRange(value)) {
      sum += value;
      #if vtkBlendMode == AVERAGE_INTENSITY_BLEND
        totalWeight += raySteps - stepsTraveled;
      #endif
    }

    #if vtkBlendMode == AVERAGE_INTENSITY_BLEND
      sum /= vec4(totalWeight, totalWeight, totalWeight, 1.0);
    #endif

    gl_FragData[0] = getColorForValue(sum, posVC, posIS);
  #endif

  #if vtkBlendMode == RADON_TRANSFORM_BLEND
    float normalizedRayIntensity = 1.0;
    vec3 posVC = rayOriginVC + minDistance * rayDirVC;
    float stepsTraveled = 0.0;

    // handle very thin volumes
    if (raySteps <= 1.0) {
      vec3 posIS = posVCtoIS(posVC);
      vec4 tValue = getTextureValue(posIS);
      normalizedRayIntensity -= raySteps * sampleDistance *
                                getOpacityFromTexture(tValue.r, 0, 0.5);
      gl_FragData[0] =
          vec4(getColorFromTexture(normalizedRayIntensity, 0, 0.5), 1.0);
      return;
    }

    posVC += jitter * stepVC;
    stepsTraveled += jitter;

    for (int i = 0; i < vtkMaximumNumberOfSamples; ++i) {
      if (stepsTraveled + 1.0 >= raySteps) {
        break;
      }

      vec3 posIS = posVCtoIS(posVC);
      vec4 value = getTextureValue(posIS);
      // Convert scalar value to normalizedRayIntensity coefficient and
      // accumulate normalizedRayIntensity
      normalizedRayIntensity -=
          sampleDistance * getOpacityFromTexture(value.r, 0, 0.5);

      posVC += stepVC;
      stepsTraveled++;
    }

    // map normalizedRayIntensity to color
    gl_FragData[0] =
        vec4(getColorFromTexture(normalizedRayIntensity, 0, 0.5), 1.0);
  #endif

  #if vtkBlendMode == LABELMAP_EDGE_PROJECTION_BLEND
    // Only works with a single volume
    vec3 posVC = rayOriginVC + minDistance * rayDirVC;
    float stepsTraveled = 0.0;
    vec3 posIS = posVCtoIS(posVC);
    vec4 tValue = getTextureValue(posIS);
    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(tValue, posVC, posIS);
      return;
    }

    vec3 stepIS = vecVCToIS(stepVC);
    vec4 value = tValue;
    posIS += jitter * stepIS;
    stepsTraveled += jitter;
    vec3 maxPosIS = posIS; // Store the position of the max value
    int segmentIndex = int(value.g);
    bool originalPosHasSeenNonZero = false;

    if (segmentIndex != 0) {
      // Tried using the segment index in an boolean array but reading
      // from the array by dynamic indexing was horrondously slow
      // so use bit masking instead and assign 1 to the bit corresponding to the
      // segment index and later check if the bit is set via bit operations
      setLabelOutlineBit(segmentIndex);
    }

    // Sample along the ray until vtkMaximumNumberOfSamples,
    // ending slightly inside the total distance
    for (int i = 0; i < vtkMaximumNumberOfSamples; ++i) {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) {
        break;
      }

      // compute the scalar
      tValue = getTextureValue(posIS);
      segmentIndex = int(tValue.g);

      if (segmentIndex != 0) {
        originalPosHasSeenNonZero = true;
        setLabelOutlineBit(segmentIndex);
      }

      if (tValue.r > value.r) {
        value = tValue;   // Update the max value
        maxPosIS = posIS; // Update the position where max occurred
      }

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = posVCtoIS(rayOriginVC + maxDistance * rayDirVC);
    tValue = getTextureValue(posIS);

    if (tValue.r > value.r) {
      value = tValue;   // Update the max value
      maxPosIS = posIS; // Update the position where max occurred
    }

    // If we have not seen any non-zero segments, we can return early
    // and grab color from the actual center value first component (image)
    if (!originalPosHasSeenNonZero) {
      vec3 maxPosVC = posIStoVC(maxPosIS);
      gl_FragData[0] = getColorForValue(value, maxPosVC, maxPosIS);
      return;
    }

    vec3 neighborRayStepsIS = stepIS;
    float neighborRaySteps = raySteps;
    bool shouldLookInAllNeighbors = false;

    vec3 volumeSpacings = volume.spacing;
    float minVoxelSpacing =
        min(volumeSpacings[0], min(volumeSpacings[1], volumeSpacings[2]));
    vec4 base =
        vec4(gl_FragCoord.x, gl_FragCoord.y, gl_FragCoord.z, gl_FragCoord.w);

    vec4 baseXPlus = vec4(gl_FragCoord.x + 1.0, gl_FragCoord.y, gl_FragCoord.z,
                          gl_FragCoord.w);
    vec4 baseYPlus = vec4(gl_FragCoord.x, gl_FragCoord.y + 1.0, gl_FragCoord.z,
                          gl_FragCoord.w);

    vec3 baseWorld = fragCoordToWorld(base);
    vec3 baseXPlusWorld = fragCoordToWorld(baseXPlus);
    vec3 baseYPlusWorld = fragCoordToWorld(baseYPlus);

    float XPlusDiff = length(baseXPlusWorld - baseWorld);
    float YPlusDiff = length(baseYPlusWorld - baseWorld);

    float minFragSpacingWorld = min(XPlusDiff, YPlusDiff);

    for (int s = 1; s < MAX_SEGMENT_INDEX; s++) {
      // bail out quickly if the segment index has not
      // been seen by the center segment
      if (!isLabelOutlineBitSet(s)) {
        continue;
      }

      // Use texture sampling for outlineThickness so that we can have
      // per segment thickness
      float textureCoordinate = float(s - 1) / 1024.0;
      float textureValue =
          texture2D(labelOutlineThicknessTexture, vec2(textureCoordinate, 0.5)).r;

      int actualThickness = int(textureValue * 255.0);

      // check the extreme points in the neighborhood since there is a better
      // chance of finding the edge there, so that we can bail out
      // faster if we find the edge
      bool onEdge = checkOnEdgeForNeighbor(-actualThickness, -actualThickness, s,
                                          stepIS) ||
                    checkOnEdgeForNeighbor(actualThickness, actualThickness, s,
                                          stepIS) ||
                    checkOnEdgeForNeighbor(actualThickness, -actualThickness, s,
                                          stepIS) ||
                    checkOnEdgeForNeighbor(-actualThickness, +actualThickness, s,
                                          stepIS);

      if (onEdge) {
        return;
      }

      // since the next step is computationally expensive, we need to perform
      // some optimizations to avoid it if possible. One of the optimizations
      // is to check the whether the minimum of the voxel spacing is greater than
      // the 2 * the thickness of the outline segment. If that is the case
      // then we can safely skip the next step since we can be sure that the
      // the previous 4 checks on the extreme points would caught the entirety
      // of the all the fragments inside. i.e., this happens when we zoom out,
      if (minVoxelSpacing >
          (2.0 * float(actualThickness) - 1.0) * minFragSpacingWorld) {
        continue;
      }

      // Loop through the rest, skipping the processed extremes and the center
      for (int i = -actualThickness; i <= actualThickness; i++) {
        for (int j = -actualThickness; j <= actualThickness; j++) {
          if (i == 0 && j == 0)
            continue; // Skip the center
          if (abs(i) == actualThickness && abs(j) == actualThickness)
            continue; // Skip corners
          if (checkOnEdgeForNeighbor(i, j, s, stepIS)) {
            return;
          }
        }
      }
    }

    float sampleHeight = volume.transferFunctionsSampleHeight[0];
    vec3 tColor0 = getColorFromTexture(value.r, 0, sampleHeight);
    float pwfValue0 = getOpacityFromTexture(value.r, 0, sampleHeight);
    gl_FragData[0] = vec4(tColor0, pwfValue0);
  #endif
}

//=======================================================================
// given a
// - ray direction (rayDir)
// - starting point (vertexVCVSOutput)
// - bounding planes of the volume
// - optionally depth buffer values
// - far clipping plane
// compute the start/end distances of the ray we need to cast
vec2 computeRayDistances(vec3 rayOriginVC, vec3 rayDirVC) {
  vec2 dists = rayIntersectVolumeDistances(rayOriginVC, rayDirVC);

  //VTK::ClipPlane::Impl

  // do not go behind front clipping plane
  dists.x = max(0.0, dists.x);

  // do not go PAST far clipping plane
  float farDist = -camThick / rayDirVC.z;
  dists.y = min(farDist, dists.y);

  // Do not go past the zbuffer value if set
  // This is used for intermixing opaque geometry
  //VTK::ZBuffer::Impl

  return dists;
}

float getFragmentSeed() {
  // This first noise has a diagonal pattern
  float firstNoise =
      fract(sin(dot(gl_FragCoord.xy, vec2(12.9898, 78.233))) * 43758.5453);
  // This second noise is made out of blocks of CPU generated noise
  float secondNoise = texture2D(jtexture, gl_FragCoord.xy / 32.0).r;
  // Combine the two sources of noise in a way that the distribution is uniform
  // in [0,1[
  float noiseSum = firstNoise + secondNoise;
  return noiseSum < 1.0 ? noiseSum : noiseSum - 1.0;
}

void main() {
  fragmentSeed = getFragmentSeed();

  if (cameraParallel == 1) {
    // Camera is parallel, so the rayDir is just the direction of the camera.
    rayDirVC = vec3(0.0, 0.0, -1.0);
  } else {
    // camera is at 0,0,0 so rayDir for perspective is just the vc coord
    rayDirVC = normalize(vertexVCVSOutput);
  }

  vec3 rayOriginVC = vertexVCVSOutput;
  vec2 rayStartEndDistancesVC = computeRayDistances(rayOriginVC, rayDirVC);
  if (rayStartEndDistancesVC[1] <= rayStartEndDistancesVC[0] ||
      rayStartEndDistancesVC[1] <= 0.0) {
    // Volume not hit or behind the ray
    discard;
  }

  // Perform the blending operation along the ray
  applyBlend(rayOriginVC, rayDirVC, rayStartEndDistancesVC[0], rayStartEndDistancesVC[1]);
}
`,fve=l(fK(),1),{vtkWarningMacro:pve,vtkErrorMacro:n6}=Bq,mve={idxToView:IW(new Float64Array(16)),vecISToVCMatrix:iW(new Float64Array(9)),modelToView:IW(new Float64Array(16)),projectionToView:IW(new Float64Array(16)),projectionToWorld:IW(new Float64Array(16))};function hve(e,t){t.classHierarchy.push(`vtkOpenGLVolumeMapper`);function n(e,t){let n=e.getIndependentComponents(),r=e.getColorMixPreset();return n&&t>=2||!!r}function r(e){return e.getUseLabelOutline()||t.renderable.getBlendMode()===t6.LABELMAP_EDGE_PROJECTION_BLEND}let i=new Map;function a(t,n){if(!n)return;let r=(i.get(n)??0)-1;r<=0?(t.unregisterGraphicsResourceUser(n,e),i.delete(n)):i.set(n,r)}function o(t,n){if(!n)return;let r=i.get(n)??0,a=r+1;i.set(n,a),r<=0&&t.registerGraphicsResourceUser(n,e)}function s(e,t,n){t!==n&&(a(e,t),o(e,n))}function c(t){[...i.keys()].forEach(n=>t.unregisterGraphicsResourceUser(n,e))}e.buildPass=()=>{t.zBufferTexture=null},e.zBufferPass=(e,n)=>{if(e){let e=n.getZBufferTexture();e!==t.zBufferTexture&&(t.zBufferTexture=e)}},e.opaqueZBufferPass=(t,n)=>e.zBufferPass(t,n),e.volumePass=(n,r)=>{if(n){let n=t._openGLRenderWindow;t._openGLRenderWindow=e.getLastAncestorOfType(`vtkOpenGLRenderWindow`),n&&!n.isDeleted()&&n!==t._openGLRenderWindow&&c(n),t.context=t._openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t._openGLRenderWindow),t.jitterTexture.setOpenGLRenderWindow(t._openGLRenderWindow),t.framebuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.openGLVolume=e.getFirstAncestorOfType(`vtkOpenGLVolume`);let r=t.openGLVolume.getRenderable();t._openGLRenderer=e.getFirstAncestorOfType(`vtkOpenGLRenderer`);let i=t._openGLRenderer.getRenderable();t.openGLCamera=t._openGLRenderer.getViewNodeFor(i.getActiveCamera(),t.openGLCamera),e.renderPiece(i,r)}},e.getShaderTemplate=(e,t,n)=>{e.Vertex=uve,e.Fragment=dve,e.Geometry=``},e.replaceShaderValues=(e,n,r)=>{let i=e.Fragment;i=w2.substitute(i,`//VTK::EnabledColorFunctions`,`#define EnableColorForValueFunctionId${t.previousState.colorForValueFunctionId}`).result;let a=[];t.previousState.surfaceLightingEnabled&&a.push(`Surface`),t.previousState.volumeLightingEnabled&&a.push(`Volume`),i=w2.substitute(i,`//VTK::EnabledLightings`,a.map(e=>`#define Enable${e}Lighting`)).result,t.previousState.multiTexturePerVolumeEnabled&&(i=w2.substitute(i,`//VTK::EnabledMultiTexturePerVolume`,`#define EnabledMultiTexturePerVolume`).result),t.previousState.useIndependentComponents&&(i=w2.substitute(i,`//VTK::EnabledIndependentComponents`,`#define EnabledIndependentComponents`).result),t.previousState.gradientOpacityEnabled&&(i=w2.substitute(i,`//VTK::EnabledGradientOpacity`,`#define EnabledGradientOpacity`).result),i=w2.substitute(i,`//VTK::vtkProportionalComponents`,t.previousState.proportionalComponents.map(e=>`#define vtkComponent${e}Proportional`).join(`
`)).result,i=w2.substitute(i,`//VTK::vtkForceNearestComponents`,t.previousState.forceNearestComponents.map(e=>`#define vtkComponent${e}ForceNearest`).join(`
`)).result,t.previousState.hasZBufferTexture&&(i=w2.substitute(i,`//VTK::ZBuffer::Dec`,[`uniform sampler2D zBufferTexture;`,`uniform float vpZWidth;`,`uniform float vpZHeight;`]).result,i=w2.substitute(i,`//VTK::ZBuffer::Impl`,[`vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpZWidth, gl_FragCoord.y/vpZHeight));`,`float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;`,`zdepth = zdepth * 2.0 - 1.0;`,`if (cameraParallel == 0) {`,`zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;}`,`else {`,`zdepth = (zdepth + 1.0) * 0.5 * (camFar - camNear);}
`,`zdepth = -zdepth/rayDirVC.z;`,`dists.y = min(zdepth,dists.y);`]).result),i=w2.substitute(i,`//VTK::BlendMode`,`${t.previousState.blendMode}`).result,i=w2.substitute(i,`//VTK::NumberOfLights`,`${t.previousState.numberOfLights}`).result,i=w2.substitute(i,`//VTK::MaxLaoKernelSize`,`${t.previousState.maxLaoKernelSize}`).result,i=w2.substitute(i,`//VTK::NumberOfComponents`,`${t.previousState.numberOfComponents}`).result,i=w2.substitute(i,`//VTK::MaximumNumberOfSamples`,`${t.previousState.maximumNumberOfSamples}`).result,e.Fragment=i;let o=t.previousState.numberOfClippingPlanes;o>0&&(i=w2.substitute(i,`//VTK::ClipPlane::Dec`,[`uniform vec3 vClipPlaneNormals[6];`,`uniform float vClipPlaneDistances[6];`,`uniform vec3 vClipPlaneOrigins[6];`,`uniform int clip_numPlanes;`,`//VTK::ClipPlane::Dec`,`#define vtkClippingPlanesOn`],!1).result,i=w2.substitute(i,`//VTK::ClipPlane::Impl`,[`for(int i = 0; i < ${o}; i++) {`,`  float rayDirRatio = dot(rayDirVC, vClipPlaneNormals[i]);`,`  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];`,`  if (rayDirRatio == 0.0)`,`  {`,`    if (equationResult < 0.0) dists.x = dists.y;`,`    continue;`,`  }`,`  float result = -1.0 * equationResult / rayDirRatio;`,`  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);`,`  else dists.x = max(dists.x, result);`,`}`,`//VTK::ClipPlane::Impl`],!1).result),e.Fragment=i},e.getNeedToRebuildShaders=(n,i,a)=>{let o=!!t.zBufferTexture,s=t.currentValidInputs.length,c=t.numberOfLights,l=t.numberOfComponents,u=t.useIndependentComponents,d=a.getProperties(),f=t.currentValidInputs[0],p=d[f.inputIndex],m=s>1,h=f.imageData.getBounds(),g=I$.getDiagonalLength(h),_=Math.ceil(g/e.getCurrentSampleDistance(i));_>t.renderable.getMaximumSamplesPerRay()&&pve(`The number of steps required ${_} is larger than the specified maximum number of steps ${t.renderable.getMaximumSamplesPerRay()}.\nPlease either change the volumeMapper sampleDistance or its maximum number of samples.`);let v=u?l:1,y=!1;for(let e=0;e<v;++e)if(p.getUseGradientOpacity(e)){y=!0;break}let b=0,x=p.getLAOKernelSize();x>b&&p.getLocalAmbientOcclusion()&&p.getAmbient()>0&&(b=x);let S=t.renderable.getClippingPlanes().length,C=t.renderable.getViewSpecificProperties().OpenGL?.ShaderReplacements,w=t.currentRenderPass?.getShaderReplacement(),T=t.renderable.getBlendMode(),E=(()=>{if(T!==t6.LABELMAP_EDGE_PROJECTION_BLEND&&r(p))return 5;if(u)switch(p.getColorMixPreset()){case $3.ADDITIVE:return 1;case $3.COLORIZE:return 2;case $3.CUSTOM:return 3;default:return 4}return 0})(),D=p.getVolumetricScatteringBlending()<1,O=p.getVolumetricScatteringBlending()>0,k=!1;for(let e=0;e<l;++e)if(p.getForceNearestInterpolation(e)){k=!0;break}let A=[],j=[];for(let e=0;e<l;e++)p.getOpacityMode(e)===Q3.PROPORTIONAL&&A.push(e),p.getForceNearestInterpolation(e)&&j.push(e);let M={numberOfComponents:l,useIndependentComponents:u,proportionalComponents:A,forceNearestComponents:j,blendMode:T,numberOfLights:c,numberOfValidInputs:s,maximumNumberOfSamples:_,hasZBufferTexture:o,maxLaoKernelSize:b,numberOfClippingPlanes:S,mapperShaderReplacements:C,renderPassShaderReplacements:w,colorForValueFunctionId:E,surfaceLightingEnabled:D,volumeLightingEnabled:O,forceNearestInterpolationEnabled:k,multiTexturePerVolumeEnabled:m,gradientOpacityEnabled:y};return n.getProgram()?.getHandle()===0||!t.previousState||!(0,fve.default)(t.previousState,M)?(t.previousState=M,!0):!1},e.updateShaders=(n,r,i)=>{if(e.getNeedToRebuildShaders(n,r,i)){let a={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(a,r,i);let o=t._openGLRenderWindow.getShaderCache().readyShaderProgramArray(a.Vertex,a.Fragment,a.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,i),e.setCameraShaderParameters(n,r,i),e.setPropertyShaderParameters(n,r,i),e.getClippingPlaneShaderParameters(n,r,i)},e.setMapperShaderParameters=(n,r,i)=>{let a=n.getProgram();n.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(a.isAttributeUsed(`vertexDC`)&&(n.getVAO().addAttributeArray(a,n.getCABO(),`vertexDC`,n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||n6(`Error setting vertexDC in shader VAO.`)),n.getAttributeUpdateTime().modified());let o=e.getCurrentSampleDistance(r);a.setUniformf(`sampleDistance`,o);let s=o*t.renderable.getVolumeShadowSamplingDistFactor();a.setUniformf(`volumeShadowSampleDistance`,s),t.scalarTextures.forEach((e,t)=>{a.setUniformi(`volumeTexture[${t}]`,e.getTextureUnit())});let c=i.getProperties()[t.currentValidInputs[0].inputIndex].getIpScalarRange(),l=new Float32Array(4),u=new Float32Array(4),d=(e,t,n)=>{t?.dataComputedScale?.length&&(l[e]=c[0]*t.dataComputedScale[n]+t.dataComputedOffset[n],u[e]=c[1]*t.dataComputedScale[n]+t.dataComputedOffset[n],l[e]=(l[e]-t.offset[n])/t.scale[n],u[e]=(u[e]-t.offset[n])/t.scale[n])};if(t.previousState.multiTexturePerVolumeEnabled)t.scalarTextures.forEach((e,t)=>{d(t,e.getVolumeInfo(),0)});else{let e=t.scalarTextures[0].getVolumeInfo();for(let t=0;t<4;++t)d(t,e,t)}let f=`volume`;if(a.setUniform4f(`${f}.ipScalarRangeMin`,l[0],l[1],l[2],l[3]),a.setUniform4f(`${f}.ipScalarRangeMax`,u[0],u[1],u[2],u[3]),t.zBufferTexture!==null){a.setUniformi(`zBufferTexture`,t.zBufferTexture.getTextureUnit());let e=t._useSmallViewport?[t._smallViewportWidth,t._smallViewportHeight]:t._openGLRenderWindow.getFramebufferSize();a.setUniformf(`vpZWidth`,e[0]),a.setUniformf(`vpZHeight`,e[1])}},e.setCameraShaderParameters=(n,i,a)=>{let{idxToView:o,vecISToVCMatrix:s,modelToView:c,projectionToView:l,projectionToWorld:u}=mve,d=t.openGLCamera.getKeyMatrices(i),f=t.openGLVolume.getKeyMatrices();VW(c,d.wcvc,f.mcwc);let p=n.getProgram(),m=t.openGLCamera.getRenderable(),h=m.getParallelProjection(),g=m.getClippingRange();p.setUniformf(`camThick`,g[1]-g[0]),p.setUniformf(`camNear`,g[0]),p.setUniformf(`camFar`,g[1]),p.setUniformi(`cameraParallel`,h);let _=t.currentValidInputs[0],v=_.imageData.getBounds(),y=I$.getCorners(v,[]).map(e=>(UG(e,e,c),h||IG(e,e,-g[0]/(e[2]*kG(e))),UG(e,e,d.vcpc),e)),b=I$.addPoints([...I$.INIT_BOUNDS],y);p.setUniformf(`dcxmin`,b[0]),p.setUniformf(`dcxmax`,b[1]),p.setUniformf(`dcymin`,b[2]),p.setUniformf(`dcymax`,b[3]);let x=e.getRenderTargetSize();p.setUniformf(`vpWidth`,x[0]),p.setUniformf(`vpHeight`,x[1]);let S=e.getRenderTargetOffset();p.setUniformf(`vpOffsetX`,S[0]/x[0]),p.setUniformf(`vpOffsetY`,S[1]/x[1]),RW(l,d.vcpc),p.setUniformMatrix(`PCVCMatrix`,l),p.setUniformi(`twoSidedLighting`,i.getTwoSidedLighting());let C=Array(2*t.previousState.maxLaoKernelSize);for(let e=0;e<t.previousState.maxLaoKernelSize;e++)C[e*2]=Math.random(),C[e*2+1]=Math.random();if(p.setUniform2fv(`kernelSample`,C),t.numberOfLights>0){let e=0;i.getLights().forEach(t=>{if(t.getSwitch()>0){let n=`lights[${e}]`,r=IG([],t.getColor(),t.getIntensity());p.setUniform3fv(`${n}.color`,r);let i=t.getTransformedPosition();UG(i,i,c),p.setUniform3fv(`${n}.positionVC`,i);let a=[...t.getDirection()];WG(a,a,d.normalMatrix),BG(a,a),p.setUniform3fv(`${n}.directionVC`,a);let o=[-.5*a[0],-.5*a[1],-.5*(a[2]-1)];p.setUniform3fv(`${n}.halfAngleVC`,o);let s=t.getAttenuationValues();p.setUniform3fv(`${n}.attenuation`,s);let l=t.getExponent();p.setUniformf(`${n}.exponent`,l);let u=t.getConeAngle();p.setUniformf(`${n}.coneAngle`,u);let f=t.getPositional();p.setUniformi(`${n}.isPositional`,f),e++}})}let w=`volume`,T=a.getProperties()[_.inputIndex],E=_.imageData,D=E.getSpatialExtent(),O=E.getSpacing(),k=E.getDimensions(),A=E.getIndexToWorld(),j=E.getWorldToIndex(),M=E.getDirectionByReference();VW(o,c,A),p.setUniform3fv(`${w}.spacing`,O);let ee=zG([],O);p.setUniform3fv(`${w}.inverseSpacing`,ee),p.setUniform3iv(`${w}.dimensions`,k),p.setUniform3fv(`${w}.inverseDimensions`,zG([],k)),p.setUniformMatrix(`${w}.worldToIndex`,j),s.fill(0);let te=FG(new Float64Array(3),k,O);s[0]=te[0],s[4]=te[1],s[8]=te[2],lW(s,M,s),lW(s,f.normalMatrix,s),lW(s,d.normalMatrix,s),p.setUniformMatrix3x3(`${w}.vecISToVCMatrix`,s),p.setUniformMatrix3x3(`${w}.vecVCToISMatrix`,oW(new Float32Array(9),s));let N=AG(D[0],D[2],D[4]),ne=UG(new Float64Array(3),N,o);p.setUniform3fv(`${w}.originVC`,ne);let re=kG(te);if(p.setUniformf(`${w}.diagonalLength`,re),r(T)){let e=m.getDistance();m.setClippingRange(e,e+.1),RW(u,t.openGLCamera.getKeyMatrices(i).wcpc),m.setClippingRange(g[0],g[1]),t.openGLCamera.getKeyMatrices(i),p.setUniformMatrix(`${w}.PCWCMatrix`,u)}if(T.getVolumetricScatteringBlending()>0&&(p.setUniformf(`${w}.globalIlluminationReach`,T.getGlobalIlluminationReach()),p.setUniformf(`${w}.volumetricScatteringBlending`,T.getVolumetricScatteringBlending()),p.setUniformf(`${w}.anisotropy`,T.getAnisotropy()),p.setUniformf(`${w}.anisotropySquared`,T.getAnisotropy()**2)),T.getLocalAmbientOcclusion()&&T.getAmbient()>0){let e=T.getLAOKernelSize();p.setUniformi(`${w}.kernelSize`,e);let t=T.getLAOKernelRadius();p.setUniformi(`${w}.kernelRadius`,t)}else p.setUniformi(`${w}.kernelSize`,0)},e.setPropertyShaderParameters=(e,n,r)=>{let i=e.getProgram();i.setUniformi(`jtexture`,t.jitterTexture.getTextureUnit());let a=r.getProperties();i.setUniformi(`labelOutlineThicknessTexture`,t.labelOutlineThicknessTexture.getTextureUnit()),i.setUniformi(`opacityTexture`,t.opacityTexture.getTextureUnit()),i.setUniformi(`colorTexture`,t.colorTexture.getTextureUnit());let o=`volume`,s=a[t.currentValidInputs[0].inputIndex],c=t.previousState.numberOfComponents,l=t.previousState.useIndependentComponents;if(l){let e=new Float32Array(4);for(let t=0;t<c;t++)e[t]=s.getComponentWeight(t);i.setUniform4fv(`${o}.independentComponentMix`,e);let t=new Float32Array(4),n=1/c;for(let e=0;e<c;++e)t[e]=(e+.5)*n;i.setUniform4fv(`${o}.transferFunctionsSampleHeight`,t)}let u=t.colorForValueFunctionId;i.setUniformi(`${o}.colorForValueFunctionId`,u);let d=s.getComputeNormalFromOpacity();i.setUniformi(`${o}.computeNormalFromOpacity`,d);let f=new Float32Array(4),p=new Float32Array(4),m=new Float32Array(4),h=new Float32Array(4);for(let e=0;e<c;e++){let n=t.previousState.multiTexturePerVolumeEnabled,r=n?e:0,i=n?0:e,a=t.scalarTextures[r].getVolumeInfo(),o=l?e:0,c=a.scale[i],u=s.getRGBTransferFunction(o).getRange();f[e]=c/(u[1]-u[0]),p[e]=(a.offset[i]-u[0])/(u[1]-u[0]);let d=s.getScalarOpacity(o).getRange();m[e]=c/(d[1]-d[0]),h[e]=(a.offset[i]-d[0])/(d[1]-d[0])}if(i.setUniform4fv(`${o}.colorTextureScale`,f),i.setUniform4fv(`${o}.colorTextureShift`,p),i.setUniform4fv(`${o}.opacityTextureScale`,m),i.setUniform4fv(`${o}.opacityTextureShift`,h),t.previousState.gradientOpacityEnabled){let e=[,,,,],n=[,,,,],r=[,,,,],a=[,,,,];if(l)for(let i=0;i<c;++i){let o=t.previousState.multiTexturePerVolumeEnabled,c=o?i:0,l=o?0:i,u=t.scalarTextures[c].getVolumeInfo().scale[l];if(s.getUseGradientOpacity(i)){let t=[s.getGradientOpacityMinimumOpacity(i),s.getGradientOpacityMaximumOpacity(i)],o=[s.getGradientOpacityMinimumValue(i),s.getGradientOpacityMaximumValue(i)];r[i]=t[0],a[i]=t[1],e[i]=u*(t[1]-t[0])/(o[1]-o[0]),n[i]=-o[0]*(t[1]-t[0])/(o[1]-o[0])+t[0]}else r[i]=1,a[i]=1,e[i]=0,n[i]=1}else{let i=c-1,o=t.previousState.multiTexturePerVolumeEnabled,l=o?i:0,u=o?0:i,d=t.scalarTextures[l].getVolumeInfo().scale[u],f=[s.getGradientOpacityMinimumOpacity(0),s.getGradientOpacityMaximumOpacity(0)],p=[s.getGradientOpacityMinimumValue(0),s.getGradientOpacityMaximumValue(0)];r[0]=f[0],a[0]=f[1],e[0]=d*(f[1]-f[0])/(p[1]-p[0]),n[0]=-p[0]*(f[1]-f[0])/(p[1]-p[0])+f[0]}i.setUniform4f(`${o}.gradientOpacityScale`,e),i.setUniform4f(`${o}.gradientOpacityShift`,n),i.setUniform4f(`${o}.gradientOpacityMin`,r),i.setUniform4f(`${o}.gradientOpacityMax`,a)}let g=s.getLabelOutlineOpacity();if(i.setUniformf(`${o}.outlineOpacity`,g),t.numberOfLights>0){i.setUniformf(`${o}.ambient`,s.getAmbient()),i.setUniformf(`${o}.diffuse`,s.getDiffuse()),i.setUniformf(`${o}.specular`,s.getSpecular());let e=s.getSpecularPower();i.setUniformf(`${o}.specularPower`,e===0?1:e)}},e.getClippingPlaneShaderParameters=(e,n,r)=>{if(t.renderable.getClippingPlanes().length>0){let r=t.openGLCamera.getKeyMatrices(n),i=[],a=[],o=[],s=t.renderable.getClippingPlanes(),c=s.length;for(let e=0;e<c;++e){let t=s[e].getNormal(),n=s[e].getOrigin();WG(t,t,r.normalMatrix),UG(n,n,r.wcvc);let c=-1*VG(n,t);i.push(t[0]),i.push(t[1]),i.push(t[2]),a.push(c),o.push(n[0]),o.push(n[1]),o.push(n[2])}let l=e.getProgram();l.setUniform3fv(`vClipPlaneNormals`,i),l.setUniformfv(`vClipPlaneDistances`,a),l.setUniform3fv(`vClipPlaneOrigins`,o),l.setUniformi(`clip_numPlanes`,c)}},e.delete=Tq(()=>{t._animationRateSubscription&&=(t._animationRateSubscription.unsubscribe(),null)},()=>{t._openGLRenderWindow&&c(t._openGLRenderWindow)},e.delete),e.getRenderTargetSize=()=>{if(t._useSmallViewport)return[t._smallViewportWidth,t._smallViewportHeight];let{usize:e,vsize:n}=t._openGLRenderer.getTiledSizeAndOrigin();return[e,n]},e.getRenderTargetOffset=()=>{let{lowerLeftU:e,lowerLeftV:n}=t._openGLRenderer.getTiledSizeAndOrigin();return[e,n]},e.getCurrentSampleDistance=e=>{let n=e.getVTKWindow().getInteractor(),r=t.renderable.getSampleDistance();return n.isAnimating()?r*t.renderable.getInteractionSampleDistanceFactor():r},e.renderPieceStart=(n,r)=>{let i=n.getVTKWindow().getInteractor();if(t._lastScale||=t.renderable.getInitialInteractionScale(),t._useSmallViewport=!1,i.isAnimating()&&t._lastScale>1.5&&(t._useSmallViewport=!0),t._animationRateSubscription||=i.onAnimationFrameRateUpdate(()=>{if(t.renderable.getAutoAdjustSampleDistances()){let e=i.getRecentAnimationFrameRate(),n=i.getDesiredUpdateRate()/e;(n>1.15||n<.85)&&(t._lastScale*=n),t._lastScale>400&&(t._lastScale=400),t._lastScale<1.5&&(t._lastScale=1.5)}else t._lastScale=t.renderable.getImageSampleDistance()*t.renderable.getImageSampleDistance()}),t._useSmallViewport){let e=t._openGLRenderWindow.getFramebufferSize(),n=1/Math.sqrt(t._lastScale);if(t._smallViewportWidth=Math.ceil(n*e[0]),t._smallViewportHeight=Math.ceil(n*e[1]),t._smallViewportHeight>e[1]&&(t._smallViewportHeight=e[1]),t._smallViewportWidth>e[0]&&(t._smallViewportWidth=e[0]),t.framebuffer.saveCurrentBindingsAndBuffers(),t.framebuffer.getGLFramebuffer()===null)t.framebuffer.create(e[0],e[1]),t.framebuffer.populateFramebuffer();else{let n=t.framebuffer.getSize();(!n||n[0]!==e[0]||n[1]!==e[1])&&(t.framebuffer.create(e[0],e[1]),t.framebuffer.populateFramebuffer())}t.framebuffer.bind();let r=t.context;r.clearColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clear(r.COLOR_BUFFER_BIT),r.viewport(0,0,t._smallViewportWidth,t._smallViewportHeight),t.fvp=[t._smallViewportWidth/e[0],t._smallViewportHeight/e[1]]}t.context.disable(t.context.DEPTH_TEST),e.updateBufferObjects(n,r);let a=r.getProperties();t.currentValidInputs.forEach(e=>{let{inputIndex:n}=e,r=a[n].getInterpolationType(),i=t.scalarTextures[n];r===Z3.NEAREST?(i.setMinificationFilter(j2.NEAREST),i.setMagnificationFilter(j2.NEAREST)):(i.setMinificationFilter(j2.LINEAR),i.setMagnificationFilter(j2.LINEAR))}),t.zBufferTexture!==null&&t.zBufferTexture.activate()},e.renderPieceDraw=(n,r)=>{let i=t.context,a=[...t.scalarTextures,t.colorTexture,t.opacityTexture,t.labelOutlineThicknessTexture,t.jitterTexture];a.forEach(e=>e.activate()),e.updateShaders(t.tris,n,r),i.drawArrays(i.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),a.forEach(e=>e.deactivate())},e.renderPieceFinish=(e,n)=>{if(t.zBufferTexture!==null&&t.zBufferTexture.deactivate(),t._useSmallViewport){if(t.framebuffer.restorePreviousBindingsAndBuffers(),t.copyShader===null){t.copyShader=t._openGLRenderWindow.getShaderCache().readyShaderProgramArray([`//VTK::System::Dec`,`attribute vec4 vertexDC;`,`uniform vec2 tfactor;`,`varying vec2 tcoord;`,`void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }`].join(`
`),[`//VTK::System::Dec`,`//VTK::Output::Dec`,`uniform sampler2D texture1;`,`varying vec2 tcoord;`,`void main() { gl_FragData[0] = texture2D(texture1,tcoord); }`].join(`
`),``);let e=t.copyShader;t.copyVAO=E2.newInstance(),t.copyVAO.setOpenGLRenderWindow(t._openGLRenderWindow),t.tris.getCABO().bind(),t.copyVAO.addAttributeArray(e,t.tris.getCABO(),`vertexDC`,t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||n6(`Error setting vertexDC in copy shader VAO.`)}else t._openGLRenderWindow.getShaderCache().readyShaderProgram(t.copyShader);let e=t._openGLRenderWindow.getFramebufferSize();t.context.viewport(0,0,e[0],e[1]);let n=t.framebuffer.getColorTexture();n.activate(),t.copyShader.setUniformi(`texture`,n.getTextureUnit()),t.copyShader.setUniform2f(`tfactor`,t.fvp[0],t.fvp[1]);let r=t.context;r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),n.deactivate(),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA)}},e.renderPiece=(r,i)=>{e.invokeEvent({type:`StartEvent`}),t.renderable.update();let a=t.renderable.getNumberOfInputPorts();t.currentValidInputs=[];for(let e=0;e<a;++e){let n=t.renderable.getInputData(e);n&&!n.isDeleted()&&t.currentValidInputs.push({imageData:n,inputIndex:e})}let o=0;if(t.currentValidInputs.length>0){let e=i.getProperties(),a=t.currentValidInputs[0],s=a.imageData.getPointData().getScalars(),c=e[a.inputIndex];c.getShade()&&t.renderable.getBlendMode()===t6.COMPOSITE_BLEND&&r.getLights().forEach(e=>{e.getSwitch()>0&&o++});let l=t.currentValidInputs.length;t.numberOfComponents=l>1?l:s.getNumberOfComponents(),t.useIndependentComponents=n(c,t.numberOfComponents)}o!==t.numberOfLights&&(t.numberOfLights=o,e.modified()),e.invokeEvent({type:`EndEvent`}),t.currentValidInputs.length!==0&&(e.renderPieceStart(r,i),e.renderPieceDraw(r,i),e.renderPieceFinish(r,i))},e.updateBufferObjects=(t,n)=>{e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=(n,r)=>t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty(t.currentValidInputs[0].inputIndex)?.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.currentValidInputs.some(e=>{let{imageData:n}=e;return t.VBOBuildTime.getMTime()<n.getMTime()})||t.scalarTextures.length!==t.currentValidInputs.length||!t.scalarTextures.every(e=>!!e?.getHandle())||!t.colorTexture?.getHandle()||!t.opacityTexture?.getHandle()||!t.labelOutlineThicknessTexture?.getHandle()||!t.jitterTexture?.getHandle(),e.buildBufferObjects=(n,r)=>{if(!t.jitterTexture.getHandle()){let e=new Float32Array(1024);for(let t=0;t<1024;++t)e[t]=Math.random();t.jitterTexture.setMinificationFilter(j2.NEAREST),t.jitterTexture.setMagnificationFilter(j2.NEAREST),t.jitterTexture.create2DFromRaw({width:32,height:32,numComps:1,dataType:t1.FLOAT,data:e})}let i=r.getProperties(),a=i[t.currentValidInputs[0].inputIndex],o=t.numberOfComponents,c=t.useIndependentComponents,l=c?o:1,u=[];for(let e=0;e<l;++e)u.push(a.getScalarOpacity(e));let d=z3(u,c,l),f=a.getScalarOpacity(),p=t._openGLRenderWindow.getGraphicsResourceForObject(f);if(!p?.oglObject?.getHandle()||p.hash!==d){let r=G2.newInstance();r.setOpenGLRenderWindow(t._openGLRenderWindow);let i=t.renderable.getOpacityTextureWidth();i<=0&&(i=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let o=i*2*l,s=new Float32Array(o),c=new Float32Array(i);for(let t=0;t<l;++t){let r=a.getScalarOpacity(t),o=e.getCurrentSampleDistance(n)/a.getScalarOpacityUnitDistance(t),l=r.getRange();r.getTable(l[0],l[1],i,c,1);for(let e=0;e<i;++e)s[t*i*2+e]=1-(1-c[e])**o,s[t*i*2+e+i]=s[t*i*2+e]}if(r.resetFormatAndType(),r.setMinificationFilter(j2.LINEAR),r.setMagnificationFilter(j2.LINEAR),t._openGLRenderWindow.getWebgl2()||t.context.getExtension(`OES_texture_float`)&&t.context.getExtension(`OES_texture_float_linear`))r.create2DFromRaw({width:i,height:2*l,numComps:1,dataType:t1.FLOAT,data:s});else{let e=new Uint8ClampedArray(o);for(let t=0;t<o;++t)e[t]=255*s[t];r.create2DFromRaw({width:i,height:2*l,numComps:1,dataType:t1.UNSIGNED_CHAR,data:e})}f&&t._openGLRenderWindow.setGraphicsResourceForObject(f,r,d),t.opacityTexture=r}else t.opacityTexture=p.oglObject;s(t._openGLRenderWindow,t._opacityTextureCore,f),t._opacityTextureCore=f;let m=[];for(let e=0;e<l;++e)m.push(a.getRGBTransferFunction(e));let h=z3(m,c,l),g=a.getRGBTransferFunction(),_=t._openGLRenderWindow.getGraphicsResourceForObject(g);if(!_?.oglObject?.getHandle()||_?.hash!==h){let e=G2.newInstance();e.setOpenGLRenderWindow(t._openGLRenderWindow);let n=t.renderable.getColorTextureWidth();n<=0&&(n=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let r=n*2*l*3,i=new Uint8ClampedArray(r),o=new Float32Array(n*3);for(let e=0;e<l;++e){let t=a.getRGBTransferFunction(e),r=t.getRange();t.getTable(r[0],r[1],n,o,1);for(let t=0;t<n*3;++t)i[e*n*6+t]=255*o[t],i[e*n*6+t+n*3]=255*o[t]}e.resetFormatAndType(),e.setMinificationFilter(j2.LINEAR),e.setMagnificationFilter(j2.LINEAR),e.create2DFromRaw({width:n,height:2*l,numComps:3,dataType:t1.UNSIGNED_CHAR,data:i}),t._openGLRenderWindow.setGraphicsResourceForObject(g,e,h),t.colorTexture=e}else t.colorTexture=_.oglObject;s(t._openGLRenderWindow,t._colorTextureCore,g),t._colorTextureCore=g,t.currentValidInputs.forEach((e,n)=>{let{imageData:r,inputIndex:a}=e,o=i[a],c=r.getPointData().getScalars(),l=t._openGLRenderWindow.getGraphicsResourceForObject(c),u=B3(r,c),d=!l?.oglObject?.getHandle()||l?.hash!==u,f=o.getUpdatedExtents(),p=!!f.length;if(d&&!p){let e=G2.newInstance();e.setOpenGLRenderWindow(t._openGLRenderWindow);let i=r.getDimensions();e.setOglNorm16Ext(t.context.getExtension(`EXT_texture_norm16`)),e.resetFormatAndType(),e.create3DFilterableFromDataArray({width:i[0],height:i[1],depth:i[2],dataArray:c,preferSizeOverAccuracy:o.getPreferSizeOverAccuracy()}),t._openGLRenderWindow.setGraphicsResourceForObject(c,e,u),t.scalarTextures[n]=e}else t.scalarTextures[n]=l.oglObject;if(p){o.setUpdatedExtents([]);let e=r.getDimensions();t.scalarTextures[n].create3DFilterableFromDataArray({width:e[0],height:e[1],depth:e[2],dataArray:c,updatedExtents:f})}s(t._openGLRenderWindow,t._scalarTexturesCore[n],c),t._scalarTexturesCore[n]=c});let v=a.getLabelOutlineThickness(),y=t._openGLRenderWindow.getGraphicsResourceForObject(v),b=v.join(`-`);if(!y?.oglObject?.getHandle()||y?.hash!==b){let e=G2.newInstance();e.setOpenGLRenderWindow(t._openGLRenderWindow);let n=t.renderable.getLabelOutlineTextureWidth();n<=0&&(n=t.context.getParameter(t.context.MAX_TEXTURE_SIZE));let r=n*1,i=new Uint8Array(r);for(let e=0;e<n;++e)i[e]=v[e]===void 0?v[0]:v[e];e.resetFormatAndType(),e.setMinificationFilter(j2.NEAREST),e.setMagnificationFilter(j2.NEAREST),e.create2DFromRaw({width:n,height:1,numComps:1,dataType:t1.UNSIGNED_CHAR,data:i}),v&&t._openGLRenderWindow.setGraphicsResourceForObject(v,e,b),t.labelOutlineThicknessTexture=e}else t.labelOutlineThicknessTexture=y.oglObject;if(s(t._openGLRenderWindow,t._labelOutlineThicknessTextureCore,v),t._labelOutlineThicknessTextureCore=v,!t.tris.getCABO().getElementCount()){let e=new Float32Array(12);for(let t=0;t<4;t++)e[t*3]=t%2*2-1,e[t*3+1]=t>1?1:-1,e[t*3+2]=-1;let n=new Uint16Array(8);n[0]=3,n[1]=0,n[2]=1,n[3]=3,n[4]=3,n[5]=0,n[6]=3,n[7]=2;let r=l1.newInstance({numberOfComponents:3,values:e});r.setName(`points`);let i=l1.newInstance({numberOfComponents:1,values:n});t.tris.getCABO().createVBO(i,`polys`,G$.SURFACE,{points:r,cellOffset:0})}t.VBOBuildTime.modified()}}var gve={context:null,VBOBuildTime:null,scalarTextures:[],_scalarTexturesCore:[],opacityTexture:null,_opacityTextureCore:null,colorTexture:null,_colorTextureCore:null,labelOutlineThicknessTexture:null,_labelOutlineThicknessTextureCore:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,fullViewportTime:1,idxToView:null,vecISToVCMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function _ve(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,gve,n),Kq.extend(e,t,n),J2.implementBuildShadersWithReplacements(e,t,n),t.VBOBuildTime={},uq(t.VBOBuildTime,{mtime:0}),t.tris=k2.newInstance(),t.jitterTexture=G2.newInstance(),t.jitterTexture.setWrapS(A2.REPEAT),t.jitterTexture.setWrapT(A2.REPEAT),t.framebuffer=X3.newInstance(),gq(e,t,[`context`]),hve(e,t)}Qq(`vtkVolumeMapper`,wq(_ve,`vtkOpenGLVolumeMapper`));var{SlicingMode:r6}=W3,vve=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::Image::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  //VTK::Image::Sample

  // var computedColor: vec4<f32> = vec4<f32>(1.0,0.7, 0.5, 1.0);

//VTK::RenderEncoder::Impl

  return output;
}
`;function yve(e,t,n){if(t.apply(e)){let t=e.getIndependentComponents();return`${e.getMTime()}-${t}-${n}`}return`0`}var i6=new Float64Array(16),a6=new Float64Array(16),o6=new Float64Array(16),s6=new Float64Array(4),c6=new Float64Array(4);function bve(e,t){t.classHierarchy.push(`vtkWebGPUImageMapper`),e.buildPass=n=>{if(n){t.WebGPUImageSlice=e.getFirstAncestorOfType(`vtkWebGPUImageSlice`),t.WebGPURenderer=t.WebGPUImageSlice.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getParent(),t.device=t.WebGPURenderWindow.getDevice();let n=t.WebGPURenderer.getRenderable();t.renderable.getSliceAtFocalPoint()&&t.renderable.setSliceFromCamera(n.getActiveCamera())}},e.translucentPass=t=>{t&&e.render()},e.opaquePass=t=>{t&&e.render()},e.render=()=>{t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.prepareToDraw(t.WebGPURenderer.getRenderEncoder()),t.renderEncoder.registerDrawCallback(t.pipeline,e.draw)},e.computePipelineHash=()=>{let e=t.currentInput.getExtent();e[0]===e[1]||e[2]===e[3]||e[4]===e[5]?(t.dimensions=2,t.pipelineHash=`img2`):(t.dimensions=3,t.pipelineHash=`img3`)},e.updateUBO=()=>{let n=t.UBO.getSendTime(),r=t.WebGPUImageSlice.getRenderable(),i=r.getMapper();if(e.getMTime()>n||t.renderable.getMTime()>n||r.getProperty().getMTime()>n){let e=i.getInputData(),n=t.WebGPURenderer.getStabilizedCenterByReference();IW(i6),HW(i6,i6,n),LW(a6,r.getMatrix()),RW(a6,a6),VW(i6,a6,i6),VW(i6,e.getWorldToIndex(),i6),RW(o6,i6),JW(a6,[.5,.5,.5]),VW(i6,a6,i6);let a=e.getDimensions();IW(a6),UW(a6,a6,[1/a[0],1/a[1],1/a[2]]),VW(i6,a6,i6),t.UBO.setArray(`SCTCMatrix`,i6);let o=t.currentInput.getExtent(),{ijkMode:s}=t.renderable.getClosestIJKAxis(),c=t.renderable.getSlice();s!==t.renderable.getSlicingMode()&&(c=t.renderable.getSliceAtPosition(c));let l=2,u=0,d=1;s===r6.I?(l=0,u=1,d=2):s===r6.J&&(l=1,u=2,d=0),s6[l]=c,s6[u]=o[u*2]-.5,s6[d]=o[d*2]-.5,s6[3]=1,nK(s6,s6,o6),t.UBO.setArray(`Origin`,s6),c6[l]=c,c6[u]=o[u*2+1]+.5,c6[d]=o[d*2]-.5,c6[3]=1,nK(c6,c6,o6),eK(c6,c6,s6),c6[3]=1,t.UBO.setArray(`Axis1`,c6),c6[l]=c,c6[u]=o[u*2]-.5,c6[d]=o[d*2+1]+.5,c6[3]=1,nK(c6,c6,o6),eK(c6,c6,s6),c6[3]=1,t.UBO.setArray(`Axis2`,c6);let f=[1,1,1,1],p=[0,0,0,0],m=t.textureViews[0],h=m.getTexture().getScale(),g=m.getTexture().getNumberOfComponents();for(let e=0;e<g;e++){let t=r.getProperty().getColorWindow(),n=r.getProperty().getColorLevel(),i=r.getProperty().getRGBTransferFunction(0);if(i){let e=i.getRange();t=e[1]-e[0],n=.5*(e[1]+e[0])}f[e]=h/t,p[e]=-n/t+.5}t.UBO.setArray(`cScale`,f),t.UBO.setArray(`cShift`,p),t.UBO.sendIfNeeded(t.device)}},e.updateLUTImage=()=>{let n=t.WebGPUImageSlice.getRenderable().getProperty();e.getTextureViews()[0].getTexture().getNumberOfComponents();let r=yve(n,n.getRGBTransferFunction,1);if(t.colorTextureString!==r){t.numRows=1;let e=new Uint8ClampedArray(t.numRows*2*t.rowLength*4),i=n.getRGBTransferFunction();if(i){let r=new Float32Array(t.rowLength*3);for(let a=0;a<1;a++){i=n.getRGBTransferFunction(a);let o=i.getRange();i.getTable(o[0],o[1],t.rowLength,r,1);for(let n=0;n<t.rowLength;n++){let i=a*t.rowLength*8+n*4;e[i]=255*r[n*3],e[i+1]=255*r[n*3+1],e[i+2]=255*r[n*3+2],e[i+3]=255;for(let n=0;n<4;n++)e[i+t.rowLength*4+n]=e[i+n]}}}else for(let n=0;n<t.rowLength;++n){let r=255*n/(t.rowLength-1);e[n*4]=r,e[n*4+1]=r,e[n*4+2]=r,e[n*4+3]=255;for(let r=0;r<4;r++)e[n*4+t.rowLength*4+r]=e[n*4+r]}{let n={nativeArray:e,width:t.rowLength,height:t.numRows*2,depth:1,format:`rgba8unorm`},r=t.device.getTextureManager().getTexture(n).createView(`tfunTexture`);t.textureViews[1]=r}t.colorTextureString=r}};let n=e.updateBuffers;e.updateBuffers=()=>{n();let r=t.device.getTextureManager().getTextureForImageData(t.currentInput),i=t.textureViews;(!i[0]||i[0].getTexture()!==r)&&(i[0]=r.createView(`imgTexture`)),e.updateLUTImage(),e.updateUBO();let a=t.WebGPUImageSlice.getRenderable().getProperty().getInterpolationType()===V3.NEAREST?`nearest`:`linear`;(!t.clampSampler||a!==t.clampSampler.getOptions().minFilter)&&(t.clampSampler=C3.newInstance({label:`clampSampler`}),t.clampSampler.create(t.device,{minFilter:a,magFilter:a}),t.additionalBindables=[t.clampSampler])};let r=e.getShaderReplacements();e.replaceShaderPosition=(e,n,r)=>{let i=n.getShaderDescription(`vertex`);i.addBuiltinOutput(`vec4<f32>`,`@builtin(position) Position`);let a=i.getCode(),o=[`var pos: vec4<f32> = mapperUBO.Origin +`,`   (vertexBC.x * 0.5 + 0.5) * mapperUBO.Axis1 + (vertexBC.y * 0.5 + 0.5) * mapperUBO.Axis2;`,`pos.w = 1.0;`];t.dimensions===2?o.push(`var tcoord : vec2<f32> = (mapperUBO.SCTCMatrix * pos).xy;`):o.push(`var tcoord : vec3<f32> = (mapperUBO.SCTCMatrix * pos).xyz;`),o.push(`output.tcoordVS = tcoord;`,`output.Position = rendererUBO.SCPCMatrix * pos;`),a=w4.substitute(a,`//VTK::Position::Impl`,o).result,i.setCode(a)},r.set(`replaceShaderPosition`,e.replaceShaderPosition),e.replaceShaderTCoord=(e,n,r)=>{let i=n.getShaderDescription(`vertex`);t.dimensions===2?i.addOutput(`vec2<f32>`,`tcoordVS`):i.addOutput(`vec3<f32>`,`tcoordVS`)},r.set(`replaceShaderTCoord`,e.replaceShaderTCoord),e.replaceShaderImage=(e,n,r)=>{let i=n.getShaderDescription(`fragment`),a=i.getCode();a=(t.dimensions,w4.substitute(a,`//VTK::Image::Sample`,[`    var computedColor: vec4<f32> =`,`      textureSampleLevel(imgTexture, clampSampler, input.tcoordVS, 0.0);`,`//VTK::Image::Sample`]).result),a=w4.substitute(a,`//VTK::Image::Sample`,[`    var coord: vec2<f32> =`,`      vec2<f32>(computedColor.r * mapperUBO.cScale.r + mapperUBO.cShift.r, 0.5);`,`    computedColor = textureSampleLevel(tfunTexture, clampSampler, coord, 0.0);`]).result,i.setCode(a)},r.set(`replaceShaderImage`,e.replaceShaderImage)}var xve={rowLength:1024};function Sve(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,xve,n),P4.extend(e,t,n),e.setFragmentShaderTemplate(vve),t.UBO=i3.newInstance({label:`mapperUBO`}),t.UBO.addEntry(`SCTCMatrix`,`mat4x4<f32>`),t.UBO.addEntry(`Origin`,`vec4<f32>`),t.UBO.addEntry(`Axis2`,`vec4<f32>`),t.UBO.addEntry(`Axis1`,`vec4<f32>`),t.UBO.addEntry(`cScale`,`vec4<f32>`),t.UBO.addEntry(`cShift`,`vec4<f32>`),t.lutBuildTime={},uq(t.lutBuildTime,{mtime:0}),t.imagemat=IW(new Float64Array(16)),t.imagematinv=IW(new Float64Array(16)),t.VBOBuildTime={},uq(t.VBOBuildTime),bve(e,t)}v4(`vtkImageMapper`,wq(Sve,`vtkWebGPUImageMapper`));function Cve(e,t){t.classHierarchy.push(`vtkWebGPUImageSlice`),e.buildPass=n=>{if(!(!t.renderable||!t.renderable.getVisibility())&&n){if(!t.renderable)return;t.WebGPURenderer=e.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getFirstAncestorOfType(`vtkWebGPURenderWindow`),t.propID===void 0&&(t.propID=t.WebGPURenderWindow.getUniquePropID()),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverseOpaquePass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||!t.renderable.getIsOpaque()||t.WebGPURenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children.forEach(e=>{e.traverse(n)}),e.apply(n,!1))},e.traverseTranslucentPass=n=>{!t.renderable||!t.renderable.getNestedVisibility()||t.renderable.getIsOpaque()||t.WebGPURenderer.getSelector()&&!t.renderable.getNestedPickable()||(e.apply(n,!0),t.children.forEach(e=>{e.traverse(n)}),e.apply(n,!1))},e.queryPass=(e,n)=>{if(e){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?n.incrementOpaqueActorCount():n.incrementTranslucentActorCount()}},e.getBufferShift=n=>(e.getKeyMatrices(n),t.bufferShift),e.getKeyMatrices=e=>{if(Math.max(t.renderable.getMTime(),e.getStabilizedTime())>t.keyMatricesTime.getMTime()){t.renderable.computeMatrix();let n=t.renderable.getMatrix(),r=e.getStabilizedCenterByReference();t.bufferShift[0]=n[3]-r[0],t.bufferShift[1]=n[7]-r[1],t.bufferShift[2]=n[11]-r[2],LW(t.keyMatrices.bcwc,n),t.renderable.getIsIdentity()?IW(t.keyMatrices.normalMatrix):(NW(t.keyMatrices.normalMatrix,t.keyMatrices.bcwc),t.keyMatrices.normalMatrix[3]=0,t.keyMatrices.normalMatrix[7]=0,t.keyMatrices.normalMatrix[11]=0,RW(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),LW(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix)),HW(t.keyMatrices.bcwc,t.keyMatrices.bcwc,[-t.bufferShift[0],-t.bufferShift[1],-t.bufferShift[2]]),HW(t.keyMatrices.bcsc,t.keyMatrices.bcwc,[-r[0],-r[1],-r[2]]),t.keyMatricesTime.modified()}return t.keyMatrices}}var wve={bufferShift:void 0,keyMatrixTime:null,keyMatrices:null,propID:void 0};function Tve(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,wve,n),Kq.extend(e,t,n),t.keyMatricesTime={},uq(t.keyMatricesTime,{mtime:0}),t.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},t.keyMatrixTime={},uq(t.keyMatrixTime,{mtime:0}),t.keyMatrices={mcwc:IW(new Float64Array(16))},t.bufferShift=[0,0,0,0],fq(e,t,[`propID`,`keyMatricesTime`]),Cve(e,t)}v4(`vtkImageSlice`,wq(Tve,`vtkWebGPUImageSlice`));function Eve(e,t){t.classHierarchy.push(`vtkWebGPUVolume`),e.buildPass=n=>{!t.renderable||!t.renderable.getVisibility()||n&&(t.WebGPURenderer=e.getFirstAncestorOfType(`vtkWebGPURenderer`),t.WebGPURenderWindow=t.WebGPURenderer.getFirstAncestorOfType(`vtkWebGPURenderWindow`),t.propID===void 0&&(t.propID=t.WebGPURenderWindow.getUniquePropID()),t.renderable.getMapper().update())},e.queryPass=(n,r)=>{if(n){if(!t.renderable||!t.renderable.getVisibility())return;let n=t.renderable.getMapper().getBounds();if(!n||n.length!==6||n[0]>n[1])return;r.addVolume(e)}};let n=new Float64Array(3),r=new Float64Array(3);e.getBoundingCubePoints=(e,i)=>{let a=t.renderable.getMapper().getInputData();if(!a)return;let o=a.getExtent(),s=t.renderable.getMatrix(),c=0;for(let t=4;t<6;t++){n[2]=o[t];for(let t=2;t<4;t++){n[1]=o[t];for(let t=0;t<2;t++){n[0]=o[t],a.indexToWorld(n,r);let l=i+c*3;e[l++]=s[0]*r[0]+s[1]*r[1]+s[2]*r[2]+s[3],e[l++]=s[4]*r[0]+s[5]*r[1]+s[6]*r[2]+s[7],e[l++]=s[8]*r[0]+s[9]*r[1]+s[10]*r[2]+s[11],c++}}}},e.getKeyMatrices=e=>{if(Math.max(t.renderable.getMTime(),e.getStabilizedTime())>t.keyMatricesTime.getMTime()){t.renderable.computeMatrix();let n=t.renderable.getMatrix(),r=e.getStabilizedCenterByReference();LW(t.keyMatrices.bcwc,n),HW(t.keyMatrices.bcsc,t.keyMatrices.bcwc,[-r[0],-r[1],-r[2]]),t.keyMatricesTime.modified()}return t.keyMatrices}}var Dve={propID:void 0,keyMatricesTime:null};function Ove(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Dve,n),Kq.extend(e,t,n),t.keyMatricesTime={},$.obj(t.keyMatricesTime,{mtime:0}),t.keyMatrices={bcwc:new Float64Array(16),bcsc:new Float64Array(16)},$.get(e,t,[`propID`,`keyMatricesTime`]),Eve(e,t)}v4(`vtkVolume`,$.newInstance(Ove,`vtkWebGPUVolume`));var{vtkDebugMacro:l6}=$;function kve(e,t){t.classHierarchy.push(`vtkCamera`);let n=new Float64Array(3),r=new Float64Array([0,0,-1]),i=new Float64Array([0,1,0]),a=IW(new Float64Array(16)),o=IW(new Float64Array(16)),s=new Float64Array(3),c=new Float64Array(3),l=new Float64Array(3),u=IW(new Float64Array(16)),d=IW(new Float64Array(16)),f=new Float64Array(3),p=new Float64Array(3);function m(){t.viewPlaneNormal[0]=-t.directionOfProjection[0],t.viewPlaneNormal[1]=-t.directionOfProjection[1],t.viewPlaneNormal[2]=-t.directionOfProjection[2]}e.orthogonalizeViewUp=()=>{let n=e.getViewMatrix();t.viewUp[0]=n[4],t.viewUp[1]=n[5],t.viewUp[2]=n[6],e.modified()},e.setPosition=(n,r,i)=>{n===t.position[0]&&r===t.position[1]&&i===t.position[2]||(t.position[0]=n,t.position[1]=r,t.position[2]=i,e.computeDistance(),e.modified())},e.setFocalPoint=(n,r,i)=>{n===t.focalPoint[0]&&r===t.focalPoint[1]&&i===t.focalPoint[2]||(t.focalPoint[0]=n,t.focalPoint[1]=r,t.focalPoint[2]=i,e.computeDistance(),e.modified())},e.setDistance=n=>{if(t.distance===n)return;t.distance=n,t.distance<1e-20&&(t.distance=1e-20,l6(`Distance is set to minimum.`));let r=t.directionOfProjection;t.focalPoint[0]=t.position[0]+r[0]*t.distance,t.focalPoint[1]=t.position[1]+r[1]*t.distance,t.focalPoint[2]=t.position[2]+r[2]*t.distance,e.modified()},e.computeDistance=()=>{let e=t.focalPoint[0]-t.position[0],n=t.focalPoint[1]-t.position[1],r=t.focalPoint[2]-t.position[2];if(t.distance=Math.sqrt(e*e+n*n+r*r),t.distance<1e-20){t.distance=1e-20,l6(`Distance is set to minimum.`);let e=t.directionOfProjection;t.focalPoint[0]=t.position[0]+e[0]*t.distance,t.focalPoint[1]=t.position[1]+e[1]*t.distance,t.focalPoint[2]=t.position[2]+e[2]*t.distance}t.directionOfProjection[0]=e/t.distance,t.directionOfProjection[1]=n/t.distance,t.directionOfProjection[2]=r/t.distance,m()},e.dolly=n=>{if(n<=0)return;let r=t.distance/n;e.setPosition(t.focalPoint[0]-r*t.directionOfProjection[0],t.focalPoint[1]-r*t.directionOfProjection[1],t.focalPoint[2]-r*t.directionOfProjection[2])},e.roll=n=>{let r=t.position,i=t.focalPoint,a=t.viewUp,o=new Float64Array([a[0],a[1],a[2],0]);IW(u);let s=new Float64Array([i[0]-r[0],i[1]-r[1],i[2]-r[2]]);WW(u,u,HX(n),s),nK(o,o,u),t.viewUp[0]=o[0],t.viewUp[1]=o[1],t.viewUp[2]=o[2],e.modified()},e.azimuth=n=>{let r=t.focalPoint;IW(d),HW(d,d,r),WW(d,d,HX(n),t.viewUp),HW(d,d,[-r[0],-r[1],-r[2]]),UG(f,t.position,d),e.setPosition(f[0],f[1],f[2])},e.yaw=n=>{let r=t.position;IW(d),HW(d,d,r),WW(d,d,HX(n),t.viewUp),HW(d,d,[-r[0],-r[1],-r[2]]),UG(p,t.focalPoint,d),e.setFocalPoint(p[0],p[1],p[2])},e.elevation=n=>{let r=t.focalPoint,i=e.getViewMatrix(),a=[-i[0],-i[1],-i[2]];IW(d),HW(d,d,r),WW(d,d,HX(n),a),HW(d,d,[-r[0],-r[1],-r[2]]),UG(f,t.position,d),e.setPosition(f[0],f[1],f[2])},e.pitch=n=>{let r=t.position,i=e.getViewMatrix(),a=[i[0],i[1],i[2]];IW(d),HW(d,d,r),WW(d,d,HX(n),a),HW(d,d,[-r[0],-r[1],-r[2]]),UG(p,t.focalPoint,d),e.setFocalPoint(...p)},e.zoom=n=>{n<=0||(t.parallelProjection?t.parallelScale/=n:t.viewAngle/=n,e.modified())},e.translate=(n,r,i)=>{let a=[n,r,i];lZ(t.position,a,t.position),lZ(t.focalPoint,a,t.focalPoint),e.computeDistance(),e.modified()},e.applyTransform=n=>{let r=[...t.viewUp,1],i=[],a=[],o=[];r[0]+=t.position[0],r[1]+=t.position[1],r[2]+=t.position[2],nK(i,[...t.position,1],n),nK(a,[...t.focalPoint,1],n),nK(o,r,n),o[0]-=i[0],o[1]-=i[1],o[2]-=i[2],e.setPosition(...i.slice(0,3)),e.setFocalPoint(...a.slice(0,3)),e.setViewUp(...o.slice(0,3))},e.getThickness=()=>t.clippingRange[1]-t.clippingRange[0],e.setThickness=n=>{let r=n;r<1e-20&&(r=1e-20,l6(`Thickness is set to minimum.`)),e.setClippingRange(t.clippingRange[0],t.clippingRange[0]+r)},e.setThicknessFromFocalPoint=n=>{let r=n;r<1e-20&&(r=1e-20,l6(`Thickness is set to minimum.`)),e.setClippingRange(t.distance-r/2,t.distance+r/2)},e.setRoll=e=>{},e.getRoll=()=>{},e.setObliqueAngles=(e,t)=>{},e.getOrientation=()=>{},e.getOrientationWXYZ=()=>{},e.getFrustumPlanes=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Float64Array(24),r=[[1,0,0,1],[-1,0,0,1],[0,1,0,1],[0,-1,0,1],[0,0,1,1],[0,0,-1,1]],i=e.getCompositeProjectionMatrix(t,-1,1);for(let e=0;e<6;e++)nK(r[e],r[e],i),bZ(r[e]),n[4*e+0]=r[e][0],n[4*e+1]=r[e][1],n[4*e+2]=r[e][2],n[4*e+3]=r[e][3];return n},e.getCameraLightTransformMatrix=e=>(NW(e,t.cameraLightTransform),e),e.computeCameraLightTransform=()=>{NW(a,e.getViewMatrix()),RW(a,a),YW(o,[t.distance,t.distance,t.distance]),VW(a,a,o),IW(t.cameraLightTransform),HW(t.cameraLightTransform,a,[0,0,-1])},e.deepCopy=e=>{},e.physicalOrientationToWorldDirection=e=>{let t=uK(e[0],e[1],e[2],e[3]),n=rK(),r=uK(0,0,1,0);return cK(n,t),oK(r,t,r),oK(r,r,n),[r[0],r[1],r[2]]},e.getPhysicalToWorldMatrix=t=>{e.getWorldToPhysicalMatrix(t),RW(t,t)},e.getWorldToPhysicalMatrix=e=>{IW(e);let n=[3];_Z(t.physicalViewNorth,t.physicalViewUp,n),e[0]=n[0],e[1]=n[1],e[2]=n[2],e[4]=t.physicalViewUp[0],e[5]=t.physicalViewUp[1],e[6]=t.physicalViewUp[2],e[8]=-t.physicalViewNorth[0],e[9]=-t.physicalViewNorth[1],e[10]=-t.physicalViewNorth[2],LW(e,e),MG(s,1/t.physicalScale,1/t.physicalScale,1/t.physicalScale),UW(e,e,s),HW(e,e,t.physicalTranslation)},e.computeViewParametersFromViewMatrix=o=>{RW(a,o),UG(s,n,a),e.computeDistance();let u=t.distance;e.setPosition(s[0],s[1],s[2]),UG(c,r,a),PG(c,c,s),BG(c,c),e.setDirectionOfProjection(c[0],c[1],c[2]),UG(l,i,a),PG(l,l,s),BG(l,l),e.setViewUp(l[0],l[1],l[2]),e.setDistance(u)},e.computeViewParametersFromPhysicalMatrix=t=>{e.getWorldToPhysicalMatrix(a),VW(a,t,a),e.computeViewParametersFromViewMatrix(a)},e.setModelTransformMatrix=e=>{t.modelTransformMatrix=e},e.getModelTransformMatrix=()=>t.modelTransformMatrix,e.setViewMatrix=n=>{t.viewMatrix=n,t.viewMatrix&&(NW(a,t.viewMatrix),e.computeViewParametersFromViewMatrix(a),LW(t.viewMatrix,t.viewMatrix))},e.getViewMatrix=()=>{if(t.viewMatrix)return t.modelTransformMatrix?(VW(a,t.viewMatrix,t.modelTransformMatrix),a):t.viewMatrix;gG(a,t.position,t.focalPoint,t.viewUp),LW(a,a);let e=new Float64Array(16);return t.modelTransformMatrix?VW(e,a,t.modelTransformMatrix):NW(e,a),e},e.setProjectionMatrix=e=>{t.projectionMatrix=e},e.getProjectionMatrix=(e,n,r)=>{let i=new Float64Array(16);if(IW(i),t.projectionMatrix){let e=1/t.physicalScale;return MG(s,e,e,e),NW(i,t.projectionMatrix),UW(i,i,s),LW(i,i),i}IW(a);let o=t.clippingRange[1]-t.clippingRange[0],c=[t.clippingRange[0]+(n+1)*o/2,t.clippingRange[0]+(r+1)*o/2];if(t.parallelProjection){let n=t.parallelScale*e,r=t.parallelScale;mG(a,(t.windowCenter[0]-1)*n,(t.windowCenter[0]+1)*n,(t.windowCenter[1]-1)*r,(t.windowCenter[1]+1)*r,c[0],c[1]),LW(a,a)}else if(t.useOffAxisProjection)throw Error(`Off-Axis projection is not supported at this time`);else{let n=Math.tan(HX(t.viewAngle)/2),r,i;t.useHorizontalViewAngle===!0?(r=t.clippingRange[0]*n,i=t.clippingRange[0]*n/e):(r=t.clippingRange[0]*n*e,i=t.clippingRange[0]*n);let o=(t.windowCenter[0]-1)*r,s=(t.windowCenter[0]+1)*r,l=(t.windowCenter[1]-1)*i,u=(t.windowCenter[1]+1)*i,d=c[0],f=c[1];a[0]=2*d/(s-o),a[5]=2*d/(u-l),a[2]=(o+s)/(s-o),a[6]=(l+u)/(u-l),a[10]=-(d+f)/(f-d),a[14]=-1,a[11]=-2*d*f/(f-d),a[15]=0}return NW(i,a),i},e.getCompositeProjectionMatrix=(t,n,r)=>{let i=e.getViewMatrix(),a=e.getProjectionMatrix(t,n,r);return VW(a,i,a),a},e.setDirectionOfProjection=(e,n,r)=>{if(t.directionOfProjection[0]===e&&t.directionOfProjection[1]===n&&t.directionOfProjection[2]===r)return;t.directionOfProjection[0]=e,t.directionOfProjection[1]=n,t.directionOfProjection[2]=r;let i=t.directionOfProjection;t.focalPoint[0]=t.position[0]+i[0]*t.distance,t.focalPoint[1]=t.position[1]+i[1]*t.distance,t.focalPoint[2]=t.position[2]+i[2]*t.distance,m()},e.setDeviceAngles=(n,r,i,a)=>{let o=[3];_Z(t.physicalViewNorth,t.physicalViewUp,o);let s=IW(new Float64Array(16));WW(s,s,HX(n),t.physicalViewUp),WW(s,s,HX(r),o),WW(s,s,HX(i),t.physicalViewNorth),WW(s,s,HX(-a),t.physicalViewUp);let c=new Float64Array([-t.physicalViewUp[0],-t.physicalViewUp[1],-t.physicalViewUp[2]]),l=new Float64Array(t.physicalViewNorth);UG(c,c,s),UG(l,l,s),e.setDirectionOfProjection(c[0],c[1],c[2]),e.setViewUp(l[0],l[1],l[2]),e.modified()},e.setOrientationWXYZ=(t,n,r,i)=>{let a=IW(new Float64Array(16));if(t!==0&&(n!==0||r!==0||i!==0)){let e=HX(t),o=rK();iK(o,[n,r,i],e),sG(a,o)}let o=new Float64Array(3);UG(o,[0,0,-1],a);let s=new Float64Array(3);UG(s,[0,1,0],a),e.setDirectionOfProjection(...o),e.setViewUp(...s),e.modified()},e.computeClippingRange=e=>{let n=null,r=null;n=t.viewPlaneNormal,r=t.position;let i=-n[0],a=-n[1],o=-n[2],s=-(i*r[0]+a*r[1]+o*r[2]),c=[i*e[0]+a*e[2]+o*e[4]+s,1e-18];for(let t=0;t<2;t++)for(let n=0;n<2;n++)for(let r=0;r<2;r++){let l=i*e[r]+a*e[2+n]+o*e[4+t]+s;c[0]=l<c[0]?l:c[0],c[1]=l>c[1]?l:c[1]}return c}}var Ave={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,modelTransformMatrix:null,cameraLightTransform:jW(),physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function u6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ave,n),$.obj(e,t),$.get(e,t,[`distance`]),$.setGet(e,t,[`parallelProjection`,`useHorizontalViewAngle`,`viewAngle`,`parallelScale`,`useOffAxisProjection`,`freezeFocalPoint`,`physicalScale`]),$.getArray(e,t,[`directionOfProjection`,`viewPlaneNormal`,`position`,`focalPoint`]),$.setGetArray(e,t,[`clippingRange`,`windowCenter`],2),$.setGetArray(e,t,[`viewUp`,`screenBottomLeft`,`screenBottomRight`,`screenTopRight`,`physicalTranslation`,`physicalViewUp`,`physicalViewNorth`],3),kve(e,t)}var jve={newInstance:$.newInstance(u6,`vtkCamera`),extend:u6},Mve=[`HeadLight`,`CameraLight`,`SceneLight`];function Nve(e,t){t.classHierarchy.push(`vtkLight`);let n=new Float64Array(3);e.getTransformedPosition=()=>(t.transformMatrix?UG(n,t.position,t.transformMatrix):MG(n,t.position[0],t.position[1],t.position[2]),n),e.getTransformedFocalPoint=()=>(t.transformMatrix?UG(n,t.focalPoint,t.transformMatrix):MG(n,t.focalPoint[0],t.focalPoint[1],t.focalPoint[2]),n),e.getDirection=()=>(t.directionMTime<t.mtime&&(JG(t.direction,t.focalPoint,t.position),yZ(t.direction),t.directionMTime=t.mtime),t.direction),e.setDirection=e=>{let n=new Float64Array(3);JG(n,t.position,e),t.focalPoint=n},e.setDirectionAngle=(t,n)=>{let r=HX(t),i=HX(n);e.setPosition(Math.cos(r)*Math.sin(i),Math.sin(r),Math.cos(r)*Math.cos(i)),e.setFocalPoint(0,0,0),e.setPositional(0)},e.setLightTypeToHeadLight=()=>{e.setLightType(`HeadLight`)},e.setLightTypeToCameraLight=()=>{e.setLightType(`CameraLight`)},e.setLightTypeToSceneLight=()=>{e.setTransformMatrix(null),e.setLightType(`SceneLight`)},e.lightTypeIsHeadLight=()=>t.lightType===`HeadLight`,e.lightTypeIsSceneLight=()=>t.lightType===`SceneLight`,e.lightTypeIsCameraLight=()=>t.lightType===`CameraLight`}var Pve={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,coneFalloff:5,attenuationValues:[1,0,0],transformMatrix:null,lightType:`SceneLight`,shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function d6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Pve,n),$.obj(e,t),$.setGet(e,t,[`intensity`,`switch`,`positional`,`exponent`,`coneAngle`,`coneFalloff`,`transformMatrix`,`lightType`,`shadowAttenuation`,`attenuationValues`]),$.setGetArray(e,t,[`color`,`position`,`focalPoint`,`attenuationValues`],3),Nve(e,t)}var Fve={newInstance:$.newInstance(d6,`vtkLight`),extend:d6,LIGHT_TYPES:Mve},{vtkErrorMacro:f6}=$;function Ive(e){return()=>f6(`vtkViewport::${e} - NOT IMPLEMENTED`)}function Lve(e,t){t.classHierarchy.push(`vtkViewport`),e.getViewProps=()=>t.props,e.hasViewProp=e=>t.props.includes(e),e.addViewProp=n=>{n&&!e.hasViewProp(n)&&t.props.push(n)},e.removeViewProp=e=>{let n=t.props.filter(t=>t!==e);t.props.length!==n.length&&(t.props=n)},e.removeAllViewProps=()=>{t.props=[]};function n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t.push(e);let r=e.getNestedProps();if(r&&r.length)for(let e=0;e<r.length;e++)n(r[e],t);return t}e.getViewPropsWithNestedProps=()=>{let e=[];t.actors2D=[];for(let r=0;r<t.props.length;r++){let i=t.props[r].getActors2D();i&&(!Array.isArray(i)||i.length>0)?t.actors2D=t.actors2D.concat(i):n(t.props[r],e)}return t.actors2D.sort((e,t)=>e.getLayerNumber()-t.getLayerNumber()),e=e.concat(t.actors2D),e},e.addActor2D=e.addViewProp,e.removeActor2D=t=>{e.removeViewProp(t)},e.getActors2D=()=>(t.actors2D=[],t.props.forEach(e=>{t.actors2D=t.actors2D.concat(e.getActors2D())}),t.actors2D),e.displayToView=()=>f6(`call displayToView on your view instead`),e.viewToDisplay=()=>f6(`callviewtodisplay on your view instead`),e.getSize=()=>f6(`call getSize on your View instead`),e.normalizedDisplayToProjection=(t,n,r)=>{let i=e.normalizedDisplayToNormalizedViewport(t,n,r);return e.normalizedViewportToProjection(i[0],i[1],i[2])},e.normalizedDisplayToNormalizedViewport=(e,n,r)=>{let i=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[(e-t.viewport[0])/i[0],(n-t.viewport[1])/i[1],r]},e.normalizedViewportToProjection=(e,t,n)=>[e*2-1,t*2-1,n*2-1],e.projectionToNormalizedDisplay=(t,n,r)=>{let i=e.projectionToNormalizedViewport(t,n,r);return e.normalizedViewportToNormalizedDisplay(i[0],i[1],i[2])},e.normalizedViewportToNormalizedDisplay=(e,n,r)=>{let i=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[e*i[0]+t.viewport[0],n*i[1]+t.viewport[1],r]},e.projectionToNormalizedViewport=(e,t,n)=>[(e+1)*.5,(t+1)*.5,(n+1)*.5],e.PickPropFrom=Ive(`PickPropFrom`)}var Rve={background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function p6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Rve,n),$.obj(e,t),$.event(e,t,`event`),$.setGetArray(e,t,[`viewport`],4),$.setGetArray(e,t,[`background`,`background2`],3),Lve(e,t)}var zve={newInstance:$.newInstance(p6,`vtkViewport`),extend:p6},{vtkDebugMacro:m6,vtkErrorMacro:h6,vtkWarningMacro:Bve}=Bq;function g6(e){return()=>h6(`vtkRenderer::${e} - NOT IMPLEMENTED`)}function Vve(e,t){t.classHierarchy.push(`vtkRenderer`);let n={type:`ComputeVisiblePropBoundsEvent`,renderer:e},r={type:`ResetCameraClippingRangeEvent`,renderer:e},i={type:`ResetCameraEvent`,renderer:e};e.updateCamera=()=>(t.activeCamera||(m6(`No cameras are on, creating one.`),e.getActiveCameraAndResetIfCreated()),t.activeCamera.render(e),!0),e.updateLightsGeometryToFollowCamera=()=>{let n=e.getActiveCameraAndResetIfCreated();t.lights.forEach(e=>{e.lightTypeIsSceneLight()||(e.lightTypeIsHeadLight()?(e.setPositionFrom(n.getPositionByReference()),e.setFocalPointFrom(n.getFocalPointByReference()),e.modified(n.getMTime())):e.lightTypeIsCameraLight()?e.setTransformMatrix(n.getCameraLightTransformMatrix(jW())):h6(`light has unknown light type`,e.get()))})},e.updateLightGeometry=()=>t.lightFollowCamera?e.updateLightsGeometryToFollowCamera():!0,e.allocateTime=g6(`allocateTime`),e.updateGeometry=g6(`updateGeometry`),e.getVTKWindow=()=>t._renderWindow,e.setLayer=n=>{m6(e.getClassName(),e,`setting Layer to `,n),t.layer!==n&&(t.layer=n,e.modified()),e.setPreserveColorBuffer(!!n)},e.setActiveCamera=n=>t.activeCamera===n?!1:(t.activeCamera=n,e.modified(),e.invokeEvent({type:`ActiveCameraEvent`,camera:n}),!0),e.makeCamera=()=>{let t=jve.newInstance();return e.invokeEvent({type:`CreateCameraEvent`,camera:t}),t},e.getActiveCamera=()=>(t.activeCamera||=e.makeCamera(),t.activeCamera),e.getActiveCameraAndResetIfCreated=()=>(t.activeCamera||(e.getActiveCamera(),e.resetCamera()),t.activeCamera),e.getActors=()=>(t.actors=[],t.props.forEach(e=>{t.actors=t.actors.concat(e.getActors())}),t.actors),e.addActor=e.addViewProp,e.removeActor=n=>{t.actors=t.actors.filter(e=>e!==n),e.removeViewProp(n),e.modified()},e.removeAllActors=()=>{e.getActors().forEach(t=>{e.removeViewProp(t)}),t.actors=[],e.modified()},e.getVolumes=()=>(t.volumes=[],t.props.forEach(e=>{t.volumes=t.volumes.concat(e.getVolumes())}),t.volumes),e.addVolume=e.addViewProp,e.removeVolume=n=>{t.volumes=t.volumes.filter(e=>e!==n),e.removeViewProp(n),e.modified()},e.removeAllVolumes=()=>{e.getVolumes().forEach(t=>{e.removeViewProp(t)}),t.volumes=[],e.modified()},e.hasLight=e=>t.lights.includes(e),e.addLight=n=>{n&&!e.hasLight(n)&&(t.lights.push(n),e.modified())},e.removeLight=n=>{t.lights=t.lights.filter(e=>e!==n),e.modified()},e.removeAllLights=()=>{t.lights=[],e.modified()},e.setLightCollection=n=>{t.lights=n,e.modified()},e.makeLight=Fve.newInstance,e.createLight=()=>{t.automaticLightCreation&&(t._createdLight&&=(e.removeLight(t._createdLight),t._createdLight.delete(),null),t._createdLight=e.makeLight(),e.addLight(t._createdLight),t._createdLight.setLightTypeToHeadLight(),t._createdLight.setPosition(e.getActiveCamera().getPosition()),t._createdLight.setFocalPoint(e.getActiveCamera().getFocalPoint()))},e.normalizedDisplayToWorld=(t,n,r,i)=>{let a=e.normalizedDisplayToProjection(t,n,r);return a=e.projectionToView(a[0],a[1],a[2],i),e.viewToWorld(a[0],a[1],a[2])},e.worldToNormalizedDisplay=(t,n,r,i)=>{let a=e.worldToView(t,n,r);return a=e.viewToProjection(a[0],a[1],a[2],i),e.projectionToNormalizedDisplay(a[0],a[1],a[2])},e.viewToWorld=(e,n,r)=>{if(t.activeCamera===null)return h6(`ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0`),[0,0,0];let i=t.activeCamera.getViewMatrix();RW(i,i),LW(i,i);let a=new Float64Array([e,n,r]);return UG(a,a,i),a},e.projectionToView=(e,n,r,i)=>{if(t.activeCamera===null)return h6(`ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0`),[0,0,0];let a=t.activeCamera.getProjectionMatrix(i,-1,1);RW(a,a),LW(a,a);let o=new Float64Array([e,n,r]);return UG(o,o,a),o},e.worldToView=(e,n,r)=>{if(t.activeCamera===null)return h6(`WorldToView: no active camera, cannot compute view to world, returning 0,0,0`),[0,0,0];let i=t.activeCamera.getViewMatrix();LW(i,i);let a=new Float64Array([e,n,r]);return UG(a,a,i),a},e.viewToProjection=(e,n,r,i)=>{if(t.activeCamera===null)return h6(`ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0`),[0,0,0];let a=t.activeCamera.getProjectionMatrix(i,-1,1);LW(a,a);let o=new Float64Array([e,n,r]);return UG(o,o,a),o},e.computeVisiblePropBounds=()=>{t.allBounds[0]=I$.INIT_BOUNDS[0],t.allBounds[1]=I$.INIT_BOUNDS[1],t.allBounds[2]=I$.INIT_BOUNDS[2],t.allBounds[3]=I$.INIT_BOUNDS[3],t.allBounds[4]=I$.INIT_BOUNDS[4],t.allBounds[5]=I$.INIT_BOUNDS[5];let r=!0;e.invokeEvent(n);for(let e=0;e<t.props.length;++e){let n=t.props[e];if(n.getVisibility()&&n.getUseBounds()){let e=n.getBounds();e&&xQ(e)&&(r=!1,e[0]<t.allBounds[0]&&(t.allBounds[0]=e[0]),e[1]>t.allBounds[1]&&(t.allBounds[1]=e[1]),e[2]<t.allBounds[2]&&(t.allBounds[2]=e[2]),e[3]>t.allBounds[3]&&(t.allBounds[3]=e[3]),e[4]<t.allBounds[4]&&(t.allBounds[4]=e[4]),e[5]>t.allBounds[5]&&(t.allBounds[5]=e[5]))}}return r&&(bQ(t.allBounds),m6(`Can't compute bounds, no 3D props are visible`)),t.allBounds},e.resetCamera=function(){let n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||e.computeVisiblePropBounds(),r=[0,0,0];if(!xQ(n))return m6(`Cannot reset camera!`),!1;let a=null;if(e.getActiveCamera())a=t.activeCamera.getViewPlaneNormal();else return h6(`Trying to reset non-existent camera`),!1;t.activeCamera.setViewAngle(30),r[0]=(n[0]+n[1])/2,r[1]=(n[2]+n[3])/2,r[2]=(n[4]+n[5])/2;let o=n[1]-n[0],s=n[3]-n[2],c=n[5]-n[4];o*=o,s*=s,c*=c;let l=o+s+c;l=l===0?1:l,l=Math.sqrt(l)*.5;let u=HX(t.activeCamera.getViewAngle()),d=l,f=l/Math.sin(u*.5),p=t.activeCamera.getViewUp();return Math.abs(hZ(p,a))>.999&&(Bve(`Resetting view-up since view plane normal is parallel`),t.activeCamera.setViewUp(-p[2],p[0],p[1])),t.activeCamera.setFocalPoint(r[0],r[1],r[2]),t.activeCamera.setPosition(r[0]+f*a[0],r[1]+f*a[1],r[2]+f*a[2]),e.resetCameraClippingRange(n),t.activeCamera.setParallelScale(d),t.activeCamera.setPhysicalScale(l),t.activeCamera.setPhysicalTranslation(-r[0],-r[1],-r[2]),e.invokeEvent(i),!0},e.resetCameraClippingRange=function(){let n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||e.computeVisiblePropBounds();if(!xQ(n))return m6(`Cannot reset camera clipping range!`),!1;if(e.getActiveCameraAndResetIfCreated(),!t.activeCamera)return h6(`Trying to reset clipping range of non-existent camera`),!1;let i=t.activeCamera.computeClippingRange(n),a=0;if(t.activeCamera.getParallelProjection())a=.2*t.activeCamera.getParallelScale();else{let e=HX(t.activeCamera.getViewAngle());a=.2*Math.tan(e/2)*i[1]}return i[1]-i[0]<a&&(a=a-i[1]+i[0],i[1]+=a/2,i[0]-=a/2),i[0]<0&&(i[0]=0),i[0]=.99*i[0]-(i[1]-i[0])*t.clippingRangeExpansion,i[1]=1.01*i[1]+(i[1]-i[0])*t.clippingRangeExpansion,i[0]=i[0]>=i[1]?.01*i[1]:i[0],t.nearClippingPlaneTolerance||=.01,i[0]<t.nearClippingPlaneTolerance*i[1]&&(i[0]=t.nearClippingPlaneTolerance*i[1]),t.activeCamera.setClippingRange(i[0],i[1]),e.invokeEvent(r),!1},e.setRenderWindow=e=>{e!==t._renderWindow&&(t._vtkWindow=e,t._renderWindow=e)},e.visibleActorCount=()=>t.props.filter(e=>e.getVisibility()).length,e.visibleVolumeCount=e.visibleActorCount,e.getMTime=()=>{let e=t.mtime,n=t.activeCamera?t.activeCamera.getMTime():0;n>e&&(e=n);let r=t._createdLight?t._createdLight.getMTime():0;return r>e&&(e=r),e},e.getTransparent=()=>!!t.preserveColorBuffer,e.isActiveCameraCreated=()=>!!t.activeCamera}var Hve={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:FQ(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,environmentTexture:null,environmentTextureDiffuseStrength:1,environmentTextureSpecularStrength:1,useEnvironmentTextureAsBackground:!1,pass:0};function _6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(Object.assign(t,Hve,n),zve.extend(e,t,n),t.background||=[0,0,0,1];t.background.length<3;)t.background.push(0);t.background.length===3&&t.background.push(1),fq(e,t,[`_renderWindow`,`allocatedRenderTime`,`timeFactor`,`lastRenderTimeInSeconds`,`numberOfPropsRendered`,`lastRenderingUsedDepthPeeling`,`selector`]),gq(e,t,[`twoSidedLighting`,`lightFollowCamera`,`automaticLightCreation`,`erase`,`draw`,`nearClippingPlaneTolerance`,`clippingRangeExpansion`,`backingStore`,`interactive`,`layer`,`preserveColorBuffer`,`preserveDepthBuffer`,`useDepthPeeling`,`occlusionRatio`,`maximumNumberOfPeels`,`delegate`,`backgroundTexture`,`texturedBackground`,`environmentTexture`,`environmentTextureDiffuseStrength`,`environmentTextureSpecularStrength`,`useEnvironmentTextureAsBackground`,`useShadows`,`pass`]),_q(e,t,[`actors`,`volumes`,`lights`]),yq(e,t,[`background`],4,1),bq(e,t,[`renderWindow`]),Vve(e,t)}var v6={newInstance:wq(_6,`vtkRenderer`),extend:_6},Uve=`WebGL`,y6=Object.create(null);function b6(e,t){y6[e]=t}function Wve(){return Object.keys(y6)}function x6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return y6[e]&&y6[e](t)}function Gve(e,t){t.classHierarchy.push(`vtkRenderWindow`),e.addRenderer=n=>{e.hasRenderer(n)||(n.setRenderWindow(e),t.renderers.push(n),e.modified())},e.removeRenderer=n=>{t.renderers=t.renderers.filter(e=>e!==n),e.modified()},e.hasRenderer=e=>t.renderers.indexOf(e)!==-1,e.newAPISpecificView=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x6(e||t.defaultViewAPI,n)},e.addView=n=>{e.hasView(n)||(n.setRenderable(e),t._views.push(n),e.modified())},e.removeView=n=>{t._views=t._views.filter(e=>e!==n),e.modified()},e.hasView=e=>t._views.indexOf(e)!==-1,e.preRender=()=>{t.renderers.forEach(e=>{e.isActiveCameraCreated()||e.resetCamera()})},e.render=()=>{e.preRender(),t.interactor?t.interactor.render():t._views.forEach(e=>e.traverseAllPasses())},e.getStatistics=()=>{let e={propCount:0,invisiblePropCount:0,gpuMemoryMB:0};return t._views.forEach(t=>{t.getGraphicsMemoryInfo&&(e.gpuMemoryMB+=t.getGraphicsMemoryInfo()/1e6)}),t.renderers.forEach(n=>{let r=n.getViewProps(),i=t._views[0].getViewNodeFor(n);r.forEach(t=>{if(t.getVisibility()){e.propCount+=1;let n=t.getMapper&&t.getMapper();if(n&&n.getPrimitiveCount){let t=i.getViewNodeFor(n);if(t){t.getAllocatedGPUMemoryInBytes&&(e.gpuMemoryMB+=t.getAllocatedGPUMemoryInBytes()/1e6);let r=n.getPrimitiveCount();Object.keys(r).forEach(t=>{e[t]||(e[t]=0),e[t]+=r[t]})}}}else e.invisiblePropCount+=1})}),e.str=Object.keys(e).map(t=>`${t}: ${e[t]}`).join(`
`),e},e.captureImages=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`image/png`,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $.setImmediate(e.render),t._views.map(e=>e.captureNextImage?e.captureNextImage(n,r):void 0).filter(e=>!!e)},e.addRenderWindow=n=>t.childRenderWindows.includes(n)?!1:(t.childRenderWindows.push(n),e.modified(),!0),e.removeRenderWindow=n=>{let r=t.childRenderWindows.findIndex(e=>e===n);return r<0?!1:(t.childRenderWindows.splice(r,1),e.modified(),!0)}}var Kve={defaultViewAPI:Uve,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1,childRenderWindows:[]};function S6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Kve,n),$.obj(e,t),$.setGet(e,t,[`interactor`,`numberOfLayers`,`_views`,`defaultViewAPI`]),$.get(e,t,[`neverRendered`]),$.getArray(e,t,[`renderers`,`childRenderWindows`]),$.moveToProtected(e,t,[`views`]),$.event(e,t,`completion`),Gve(e,t)}var qve={newInstance:$.newInstance(S6,`vtkRenderWindow`),extend:S6,registerViewConstructor:b6,listViewAPIs:Wve,newAPISpecificView:x6},C6={Unknown:0,LeftController:1,RightController:2},w6={Unknown:0,Trigger:1,TrackPad:2,Grip:3,Thumbstick:4,A:5,B:6,ApplicationMenu:7},T6={Device:C6,Input:w6,Axis:{Unknown:0,TouchpadX:1,TouchpadY:2,ThumbstickX:3,ThumbstickY:4},MouseButton:{LeftButton:1,MiddleButton:2,RightButton:3}},{Device:E6,Input:D6}=T6,{vtkWarningMacro:O6,vtkErrorMacro:k6,normalizeWheel:Jve,vtkOnceErrorMacro:Yve}=$,A6={ctrlKey:!1,altKey:!1,shiftKey:!1},j6={"xr-standard":[D6.Trigger,D6.Grip,D6.TrackPad,D6.Thumbstick,D6.A,D6.B]},M6=`StartAnimation.Animation.EndAnimation.PointerEnter.PointerLeave.MouseEnter.MouseLeave.StartMouseMove.MouseMove.EndMouseMove.LeftButtonPress.LeftButtonRelease.MiddleButtonPress.MiddleButtonRelease.RightButtonPress.RightButtonRelease.KeyPress.KeyDown.KeyUp.StartMouseWheel.MouseWheel.EndMouseWheel.StartPinch.Pinch.EndPinch.StartPan.Pan.EndPan.StartRotate.Rotate.EndRotate.Button3D.Move3D.StartPointerLock.EndPointerLock.StartInteraction.Interaction.EndInteraction.AnimationFrameRateUpdate`.split(`.`);function N6(e){e.cancelable&&e.preventDefault()}function P6(e){let t=Object.create(null);return e.forEach(e=>{let{pointerId:n,position:r}=e;t[n]=r}),t}function Xve(e,t){t.classHierarchy.push(`vtkRenderWindowInteractor`);let n={...e},r=new Set,i=new Map,a=1;e.start=()=>{!t.initialized&&(e.initialize(),!t.initialized)||e.startEventLoop()},e.setRenderWindow=e=>{k6(`you want to call setView(view) instead of setRenderWindow on a vtk.js interactor`)},e.setInteractorStyle=n=>{t.interactorStyle!==n&&(t.interactorStyle!=null&&t.interactorStyle.setInteractor(null),t.interactorStyle=n,t.interactorStyle!=null&&t.interactorStyle.getInteractor()!==e&&t.interactorStyle.setInteractor(e))},e.initialize=()=>{t.initialized=!0,e.enable(),e.render()},e.enable=()=>e.setEnabled(!0),e.disable=()=>e.setEnabled(!1),e.startEventLoop=()=>O6(`empty event loop`);function o(n,r){t._forcedRenderer||(t.currentRenderer=e.findPokedRenderer(n,r))}e.getCurrentRenderer=()=>(t.currentRenderer||o(0,0),t.currentRenderer);function s(e){let n=t._view.getCanvas(),r=n.getBoundingClientRect(),a=n.width/r.width,s=n.height/r.height,c={x:a*(e.clientX-r.left),y:s*(r.height-e.clientY+r.top),z:0,movementX:a*e.movementX,movementY:s*e.movementY};return(i.size<=1||!t.currentRenderer)&&o(c.x,c.y),c}let c=t._getScreenEventPositionFor||s;function l(e){return{controlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey}}function u(e){let t=l(e);return{key:e.key,keyCode:e.charCode,...t}}function d(e){return e.pointerType||``}let f=()=>{if(t.container===null)return;let{container:n}=t;n.addEventListener(`contextmenu`,N6),n.addEventListener(`wheel`,e.handleWheel),n.addEventListener(`DOMMouseScroll`,e.handleWheel),n.addEventListener(`pointerenter`,e.handlePointerEnter),n.addEventListener(`pointerleave`,e.handlePointerLeave),n.addEventListener(`pointermove`,e.handlePointerMove,{passive:!1}),n.addEventListener(`pointerdown`,e.handlePointerDown,{passive:!1}),n.addEventListener(`pointerup`,e.handlePointerUp),n.addEventListener(`pointercancel`,e.handlePointerCancel),n.addEventListener(`keypress`,e.handleKeyPress),n.addEventListener(`keydown`,e.handleKeyDown),document.addEventListener(`keyup`,e.handleKeyUp),document.addEventListener(`pointerlockchange`,e.handlePointerLockChange),n.tabIndex=0,n.style.touchAction=`none`,n.style.userSelect=`none`,n.style.webkitTapHighlightColor=`rgba(0,0,0,0)`};e.bindEvents=e=>{e!==null&&n.setContainer(e)&&f()};let p=()=>{clearTimeout(t.moveTimeoutID),clearTimeout(t.wheelTimeoutID),t.moveTimeoutID=0,t.wheelTimeoutID=0,a=1;let{container:n}=t;n&&(n.removeEventListener(`contextmenu`,N6),n.removeEventListener(`wheel`,e.handleWheel),n.removeEventListener(`DOMMouseScroll`,e.handleWheel),n.removeEventListener(`pointerenter`,e.handlePointerEnter),n.removeEventListener(`pointerleave`,e.handlePointerLeave),n.removeEventListener(`pointermove`,e.handlePointerMove,{passive:!1}),n.removeEventListener(`pointerdown`,e.handlePointerDown,{passive:!1}),n.removeEventListener(`pointerup`,e.handlePointerUp),n.removeEventListener(`pointercancel`,e.handlePointerCancel),n.removeEventListener(`keypress`,e.handleKeyPress),n.removeEventListener(`keydown`,e.handleKeyDown)),document.removeEventListener(`keyup`,e.handleKeyUp),document.removeEventListener(`pointerlockchange`,e.handlePointerLockChange),i.clear()};e.unbindEvents=()=>{p(),n.setContainer(null)},e.handleKeyPress=t=>{let n=u(t);e.keyPressEvent(n)},e.handleKeyDown=t=>{let n=u(t);e.keyDownEvent(n)},e.handleKeyUp=t=>{let n=u(t);e.keyUpEvent(n)},e.handlePointerEnter=t=>{let n={...l(t),position:c(t),deviceType:d(t)};e.pointerEnterEvent(n),n.deviceType===`mouse`&&e.mouseEnterEvent(n)},e.handlePointerLeave=t=>{let n={...l(t),position:c(t),deviceType:d(t)};e.pointerLeaveEvent(n),n.deviceType===`mouse`&&e.mouseLeaveEvent(n)},e.handlePointerDown=n=>{if(!(n.button>2||e.isPointerLocked()))switch(t.preventDefaultOnPointerDown&&N6(n),n.target.hasPointerCapture(n.pointerId)&&n.target.releasePointerCapture(n.pointerId),t.container.setPointerCapture(n.pointerId),i.has(n.pointerId)&&O6(`[RenderWindowInteractor] duplicate pointerId detected`),i.set(n.pointerId,{pointerId:n.pointerId,position:c(n)}),n.pointerType){case`pen`:case`touch`:e.handleTouchStart(n);break;case`mouse`:default:e.handleMouseDown(n);break}},e.handlePointerUp=n=>{if(i.has(n.pointerId))switch(t.preventDefaultOnPointerUp&&N6(n),i.delete(n.pointerId),t.container.releasePointerCapture(n.pointerId),n.pointerType){case`pen`:case`touch`:e.handleTouchEnd(n);break;case`mouse`:default:e.handleMouseUp(n);break}},e.handlePointerCancel=t=>{if(i.has(t.pointerId))switch(i.delete(t.pointerId),t.pointerType){case`pen`:case`touch`:e.handleTouchEnd(t);break;case`mouse`:default:e.handleMouseUp(t);break}},e.handlePointerMove=t=>{if(i.has(t.pointerId)){let e=i.get(t.pointerId);e.position=c(t)}switch(t.pointerType){case`pen`:case`touch`:e.handleTouchMove(t);break;case`mouse`:default:e.handleMouseMove(t);break}},e.handleMouseDown=t=>{let n={...l(t),position:c(t),deviceType:d(t)};switch(t.button){case 0:e.leftButtonPressEvent(n);break;case 1:e.middleButtonPressEvent(n);break;case 2:e.rightButtonPressEvent(n);break;default:k6(`Unknown mouse button pressed: ${t.button}`);break}},e.requestPointerLock=()=>{t.container&&t.container.requestPointerLock()},e.exitPointerLock=()=>document.exitPointerLock?.(),e.isPointerLocked=()=>!!t.container&&document.pointerLockElement===t.container,e.handlePointerLockChange=()=>{e.isPointerLocked()?e.startPointerLockEvent():e.endPointerLockEvent()};function m(){t._view&&t.enabled&&t.enableRender&&(t.inRender=!0,t._view.traverseAllPasses(),t.inRender=!1),e.invokeRenderEvent()}e.requestAnimation=n=>{if(n===void 0){k6(`undefined requester, can not start animating`);return}if(r.has(n)){O6(`requester is already registered for animating`);return}r.add(n),!t.animationRequest&&r.size===1&&!t.xrAnimation&&(t._animationStartTime=Date.now(),t._animationFrameCount=0,t.animationRequest=requestAnimationFrame(e.handleAnimation),e.startAnimationEvent())},e.extendAnimation=n=>{let i=Date.now()+n;t._animationExtendedEnd=Math.max(t._animationExtendedEnd,i),!t.animationRequest&&r.size===0&&!t.xrAnimation&&(t._animationStartTime=Date.now(),t._animationFrameCount=0,t.animationRequest=requestAnimationFrame(e.handleAnimation),e.startAnimationEvent())},e.isAnimating=()=>t.xrAnimation||t.animationRequest!==null,e.cancelAnimation=function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r.has(n)){i||O6(`${n&&n.getClassName?n.getClassName():n} did not request an animation`);return}r.delete(n),t.animationRequest&&r.size===0&&Date.now()>t._animationExtendedEnd&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null,e.endAnimationEvent(),e.render())},e.switchToXRAnimation=()=>{t.animationRequest&&=(cancelAnimationFrame(t.animationRequest),null),t.xrAnimation=!0},e.returnFromXRAnimation=()=>{t.xrAnimation=!1,r.size!==0&&(t.recentAnimationFrameRate=10,t.animationRequest=requestAnimationFrame(e.handleAnimation))},e.updateXRGamepads=(n,r,i)=>{n.inputSources.forEach(n=>{let a=n.gripSpace==null?null:r.getPose(n.gripSpace,i),o=n.gripSpace==null?null:r.getPose(n.targetRaySpace,i),s=n.gamepad,c=n.handedness;if(s){s.index in t.lastGamepadValues||(t.lastGamepadValues[s.index]={left:{buttons:{}},right:{buttons:{}},none:{buttons:{}}});for(let r=0;r<s.buttons.length;++r)r in t.lastGamepadValues[s.index][c].buttons||(t.lastGamepadValues[s.index][c].buttons[r]=!1),t.lastGamepadValues[s.index][c].buttons[r]!==s.buttons[r].pressed&&a!=null&&(e.button3DEvent({gamepad:s,position:a.transform.position,orientation:a.transform.orientation,targetPosition:o.transform.position,targetOrientation:o.transform.orientation,pressed:s.buttons[r].pressed,device:n.handedness===`left`?E6.LeftController:E6.RightController,input:j6[s.mapping]&&j6[s.mapping][r]?j6[s.mapping][r]:D6.Trigger}),t.lastGamepadValues[s.index][c].buttons[r]=s.buttons[r].pressed),t.lastGamepadValues[s.index][c].buttons[r]&&a!=null&&e.move3DEvent({gamepad:s,position:a.transform.position,orientation:a.transform.orientation,targetPosition:o.transform.position,targetOrientation:o.transform.orientation,device:n.handedness===`left`?E6.LeftController:E6.RightController})}})},e.handleMouseMove=n=>{let r={...l(n),position:c(n),deviceType:d(n)};t.moveTimeoutID===0?e.startMouseMoveEvent(r):(e.mouseMoveEvent(r),clearTimeout(t.moveTimeoutID)),t.moveTimeoutID=setTimeout(()=>{e.endMouseMoveEvent(),t.moveTimeoutID=0},200)},e.handleAnimation=()=>{let n=Date.now();t._animationFrameCount++,n-t._animationStartTime>1e3&&t._animationFrameCount>1&&(t.recentAnimationFrameRate=1e3*(t._animationFrameCount-1)/(n-t._animationStartTime),t.lastFrameTime=1/t.recentAnimationFrameRate,e.animationFrameRateUpdateEvent(),t._animationStartTime=n,t._animationFrameCount=1),e.animationEvent(),m(),r.size>0||Date.now()<t._animationExtendedEnd?t.animationRequest=requestAnimationFrame(e.handleAnimation):(cancelAnimationFrame(t.animationRequest),t.animationRequest=null,e.endAnimationEvent(),e.render())},e.handleWheel=n=>{N6(n);let r={...Jve(n),...l(n),position:c(n),deviceType:d(n)};t.wheelTimeoutID===0&&(a=Math.abs(r.spinY)>=.3?Math.abs(r.spinY):1),r.spinY/=a,t.wheelTimeoutID===0?(e.startMouseWheelEvent(r),e.mouseWheelEvent(r)):(e.mouseWheelEvent(r),clearTimeout(t.wheelTimeoutID)),t.mouseScrollDebounceByPass?(e.extendAnimation(600),e.endMouseWheelEvent(),t.wheelTimeoutID=0):t.wheelTimeoutID=setTimeout(()=>{e.extendAnimation(600),e.endMouseWheelEvent(),t.wheelTimeoutID=0},200)},e.handleMouseUp=t=>{let n={...l(t),position:c(t),deviceType:d(t)};switch(t.button){case 0:e.leftButtonReleaseEvent(n);break;case 1:e.middleButtonReleaseEvent(n);break;case 2:e.rightButtonReleaseEvent(n);break;default:k6(`Unknown mouse button released: ${t.button}`);break}},e.handleTouchStart=n=>{let r=[...i.values()];if(t.recognizeGestures&&r.length>1){let t=P6(i);if(r.length===2){let t={...l(A6),position:r[0].position,deviceType:d(n)};e.leftButtonReleaseEvent(t)}e.recognizeGesture(`TouchStart`,t)}else if(r.length===1){let t={...l(A6),position:c(n),deviceType:d(n)};e.leftButtonPressEvent(t)}},e.handleTouchMove=n=>{let r=[...i.values()];if(t.recognizeGestures&&r.length>1){let t=P6(i);e.recognizeGesture(`TouchMove`,t)}else if(r.length===1){let t={...l(A6),position:r[0].position,deviceType:d(n)};e.mouseMoveEvent(t)}},e.handleTouchEnd=n=>{let r=[...i.values()];if(t.recognizeGestures)if(r.length===0){let t={...l(A6),position:c(n),deviceType:d(n)};e.leftButtonReleaseEvent(t)}else if(r.length===1){let t=P6(i);e.recognizeGesture(`TouchEnd`,t);let a={...l(A6),position:r[0].position,deviceType:d(n)};e.leftButtonPressEvent(a)}else{let t=P6(i);e.recognizeGesture(`TouchMove`,t)}else if(r.length===1){let t={...l(A6),position:r[0].position,deviceType:d(n)};e.leftButtonReleaseEvent(t)}},e.setView=n=>{t._view!==n&&(t._view=n,t._view.getRenderable().setInteractor(e),e.modified())},e.getFirstRenderer=()=>t._view?.getRenderable()?.getRenderersByReference()?.[0],e.findPokedRenderer=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!t._view)return null;let r=t._view?.getRenderable()?.getRenderers();if(!r||r.length===0)return null;r.sort((e,t)=>e.getLayer()-t.getLayer());let i=null,a=null,o=null,s=r.length;for(;s--;){let c=r[s];if(t._view.isInViewport(e,n,c)&&c.getInteractive()){o=c;break}i===null&&c.getInteractive()&&(i=c),a===null&&t._view.isInViewport(e,n,c)&&(a=c)}return o===null&&(o=i),o===null&&(o=a),o??=r[0],o},e.render=()=>{!e.isAnimating()&&!t.inRender&&m()},M6.forEach(n=>{let r=n.charAt(0).toLowerCase()+n.slice(1);e[`${r}Event`]=r=>{if(!t.enabled)return;if(!e.getCurrentRenderer()){Yve(`
          Can not forward events without a current renderer on the interactor.
        `);return}let i={type:n,pokedRenderer:t.currentRenderer,firstRenderer:e.getFirstRenderer(),...r};e[`invoke${n}`](i)}}),e.recognizeGesture=(n,r)=>{if(Object.keys(r).length>2)return;if(t.startingEventPositions||={},n===`TouchStart`){Object.keys(r).forEach(e=>{t.startingEventPositions[e]=r[e]}),t.currentGesture=`Start`;return}if(n===`TouchEnd`){t.currentGesture===`Pinch`&&(e.render(),e.endPinchEvent()),t.currentGesture===`Rotate`&&(e.render(),e.endRotateEvent()),t.currentGesture===`Pan`&&(e.render(),e.endPanEvent()),t.currentGesture=`Start`,t.startingEventPositions={};return}let i=0,a=[],o=[];Object.keys(r).forEach(e=>{a[i]=r[e],o[i]=t.startingEventPositions[e],i++});let s=Math.sqrt((o[0].x-o[1].x)*(o[0].x-o[1].x)+(o[0].y-o[1].y)*(o[0].y-o[1].y)),c=Math.sqrt((a[0].x-a[1].x)*(a[0].x-a[1].x)+(a[0].y-a[1].y)*(a[0].y-a[1].y)),l=UX(Math.atan2(o[1].y-o[0].y,o[1].x-o[0].x)),u=UX(Math.atan2(a[1].y-a[0].y,a[1].x-a[0].x)),d=u-l;u=u+180>=360?u-180:u+180,l=l+180>=360?l-180:l+180,Math.abs(u-l)<Math.abs(d)&&(d=u-l);let f=[];if(f[0]=(a[0].x-o[0].x+a[1].x-o[1].x)/2,f[1]=(a[0].y-o[0].y+a[1].y-o[1].y)/2,n===`TouchMove`)if(t.currentGesture===`Start`){let n=.01*Math.sqrt(t.container.clientWidth*t.container.clientWidth+t.container.clientHeight*t.container.clientHeight);n<15&&(n=15);let i=Math.abs(c-s),a=c*3.1415926*Math.abs(d)/360,o=Math.sqrt(f[0]*f[0]+f[1]*f[1]);if(i>n&&i>a&&i>o){t.currentGesture=`Pinch`;let n={scale:1,touches:r};e.startPinchEvent(n)}else if(a>n&&a>o){t.currentGesture=`Rotate`;let n={rotation:0,touches:r};e.startRotateEvent(n)}else if(o>n){t.currentGesture=`Pan`;let n={translation:[0,0],touches:r};e.startPanEvent(n)}}else{if(t.currentGesture===`Rotate`){let t={rotation:d,touches:r};e.rotateEvent(t)}if(t.currentGesture===`Pinch`){let t={scale:c/s,touches:r};e.pinchEvent(t)}if(t.currentGesture===`Pan`){let t={translation:f,touches:r};e.panEvent(t)}}},e.handleVisibilityChange=()=>{t._animationStartTime=Date.now(),t._animationFrameCount=0},e.setCurrentRenderer=e=>{t._forcedRenderer=!!e,t.currentRenderer=e},e.setContainer=e=>{p();let t=n.setContainer(e??null);return t&&f(),t},e.delete=()=>{for(;r.size;)e.cancelAnimation(r.values().next().value);document.hidden!==void 0&&document.removeEventListener(`visibilitychange`,e.handleVisibilityChange),t.container&&e.setContainer(null),n.delete()},document.hidden!==void 0&&document.addEventListener(`visibilitychange`,e.handleVisibilityChange,!1)}var Zve={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,recognizeGestures:!0,currentGesture:`Start`,animationRequest:null,lastFrameTime:.1,recentAnimationFrameRate:10,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{},preventDefaultOnPointerDown:!1,preventDefaultOnPointerUp:!1,mouseScrollDebounceByPass:!1};function F6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Zve,n),$.obj(e,t),t._animationExtendedEnd=0,$.event(e,t,`RenderEvent`),M6.forEach(n=>$.event(e,t,n)),$.get(e,t,[`initialized`,`interactorStyle`,`lastFrameTime`,`recentAnimationFrameRate`,`_view`]),$.setGet(e,t,[`container`,`lightFollowCamera`,`enabled`,`enableRender`,`recognizeGestures`,`desiredUpdateRate`,`stillUpdateRate`,`picker`,`preventDefaultOnPointerDown`,`preventDefaultOnPointerUp`,`mouseScrollDebounceByPass`]),$.moveToProtected(e,t,[`view`]),Xve(e,t)}var I6={newInstance:$.newInstance(F6,`vtkRenderWindowInteractor`),extend:F6,handledEvents:M6,...T6},{vtkErrorMacro:Qve,VOID:$ve}=$;function eye(e,t,n,r){return e.getRenderWindow().getViews()[0].worldToDisplay(t,n,r,e)}function tye(e,t,n,r){return e.getRenderWindow().getViews()[0].displayToWorld(t,n,r,e)}var nye={computeWorldToDisplay:eye,computeDisplayToWorld:tye};function rye(e,t){t.classHierarchy.push(`vtkInteractorObserver`);let n={...e};function r(){for(;t.subscribedEvents.length;)t.subscribedEvents.pop().unsubscribe()}function i(){I6.handledEvents.forEach(n=>{e[`handle${n}`]&&t.subscribedEvents.push(t._interactor[`on${n}`](r=>t.processEvents?e[`handle${n}`](r):$ve,t.priority))})}e.setInteractor=n=>{n!==t._interactor&&(r(),t._interactor=n,n&&t.enabled&&i(),e.modified())},e.setEnabled=n=>{n!==t.enabled&&(r(),n&&(t._interactor?i():Qve(`
          The interactor must be set before subscribing to events
        `)),t.enabled=n,e.modified())},e.computeDisplayToWorld=(e,n,r,i)=>e?t._interactor.getView().displayToWorld(n,r,i,e):null,e.computeWorldToDisplay=(e,n,r,i)=>e?t._interactor.getView().worldToDisplay(n,r,i,e):null,e.setPriority=e=>{n.setPriority(e)&&t._interactor&&(r(),i())}}var iye={enabled:!0,priority:0,processEvents:!0,subscribedEvents:[]};function L6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,iye,n),$.obj(e,t),$.event(e,t,`InteractionEvent`),$.event(e,t,`StartInteractionEvent`),$.event(e,t,`EndInteractionEvent`),$.get(e,t,[`_interactor`,`enabled`]),$.setGet(e,t,[`priority`,`processEvents`]),$.moveToProtected(e,t,[`interactor`]),rye(e,t)}var aye={newInstance:$.newInstance(L6,`vtkInteractorObserver`),extend:L6,...nye},R6={States:{IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025}},{States:z6}=R6,B6={Rotate:z6.IS_ROTATE,Pan:z6.IS_PAN,Spin:z6.IS_SPIN,Dolly:z6.IS_DOLLY,CameraPose:z6.IS_CAMERA_POSE,WindowLevel:z6.IS_WINDOW_LEVEL,Slice:z6.IS_SLICE};function oye(e,t){t.classHierarchy.push(`vtkInteractorStyle`),Object.keys(B6).forEach(n=>{$.event(e,t,`Start${n}Event`),e[`start${n}`]=()=>{t.state===z6.IS_NONE&&(t.state=B6[n],t._interactor.requestAnimation(e),e.invokeStartInteractionEvent({type:`StartInteractionEvent`}),e[`invokeStart${n}Event`]({type:`Start${n}Event`}))},$.event(e,t,`End${n}Event`),e[`end${n}`]=()=>{t.state===B6[n]&&(t.state=z6.IS_NONE,t._interactor.cancelAnimation(e),e.invokeEndInteractionEvent({type:`EndInteractionEvent`}),e[`invokeEnd${n}Event`]({type:`End${n}Event`}),t._interactor.render())}}),t.getRenderer=e=>t.focusedRenderer||e.pokedRenderer,e.handleKeyPress=e=>{let n=t._interactor,r=null;switch(e.key){case`r`:case`R`:t.getRenderer(e).resetCamera(),n.render();break;case`w`:case`W`:r=t.getRenderer(e).getActors(),r.forEach(e=>{let t=e.getProperty();t.setRepresentationToWireframe&&t.setRepresentationToWireframe()}),n.render();break;case`s`:case`S`:r=t.getRenderer(e).getActors(),r.forEach(e=>{let t=e.getProperty();t.setRepresentationToSurface&&t.setRepresentationToSurface()}),n.render();break;case`v`:case`V`:r=t.getRenderer(e).getActors(),r.forEach(e=>{let t=e.getProperty();t.setRepresentationToPoints&&t.setRepresentationToPoints()}),n.render();break}}}var sye={state:z6.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function V6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,sye,n),aye.extend(e,t,n),$.setGet(e,t,[`focusedRenderer`]),oye(e,t)}var cye={newInstance:$.newInstance(V6,`vtkInteractorStyle`),extend:V6,...R6},{States:H6}=R6;function lye(e,t){t.classHierarchy.push(`vtkInteractorStyleTrackballCamera`),e.handleMouseMove=n=>{let r=n.position,i=t.getRenderer(n);switch(t.state){case H6.IS_ROTATE:e.handleMouseRotate(i,r),e.invokeInteractionEvent({type:`InteractionEvent`});break;case H6.IS_PAN:e.handleMousePan(i,r),e.invokeInteractionEvent({type:`InteractionEvent`});break;case H6.IS_DOLLY:e.handleMouseDolly(i,r),e.invokeInteractionEvent({type:`InteractionEvent`});break;case H6.IS_SPIN:e.handleMouseSpin(i,r),e.invokeInteractionEvent({type:`InteractionEvent`});break}t.previousPosition=r},e.handleButton3D=n=>{if(n&&n.pressed&&n.device===C6.RightController&&(n.input===w6.Trigger||n.input===w6.TrackPad)){e.startCameraPose();return}n&&!n.pressed&&n.device===C6.RightController&&(n.input===w6.Trigger||n.input===w6.TrackPad)&&t.state===H6.IS_CAMERA_POSE&&e.endCameraPose()},e.handleMove3D=n=>{switch(t.state){case H6.IS_CAMERA_POSE:e.updateCameraPose(n);break}},e.updateCameraPose=e=>{let n=t.getRenderer(e).getActiveCamera(),r=n.getPhysicalTranslation(),i=.5*.05*n.getPhysicalScale(),a=n.physicalOrientationToWorldDirection([e.orientation.x,e.orientation.y,e.orientation.z,e.orientation.w]);n.setPhysicalTranslation(r[0]+a[0]*i,r[1]+a[1]*i,r[2]+a[2]*i)},e.handleLeftButtonPress=n=>{t.previousPosition=n.position,n.shiftKey?n.controlKey||n.altKey?e.startDolly():e.startPan():n.controlKey||n.altKey?e.startSpin():e.startRotate()},e.handleLeftButtonRelease=()=>{switch(t.state){case H6.IS_DOLLY:e.endDolly();break;case H6.IS_PAN:e.endPan();break;case H6.IS_SPIN:e.endSpin();break;case H6.IS_ROTATE:e.endRotate();break}},e.handleStartMouseWheel=()=>{e.startDolly()},e.handleEndMouseWheel=()=>{e.endDolly()},e.handleStartPinch=n=>{t.previousScale=n.scale,e.startDolly()},e.handleEndPinch=()=>{e.endDolly()},e.handleStartRotate=n=>{t.previousRotation=n.rotation,e.startRotate()},e.handleEndRotate=()=>{e.endRotate()},e.handleStartPan=n=>{t.previousTranslation=n.translation,e.startPan()},e.handleEndPan=()=>{e.endPan()},e.handlePinch=n=>{e.dollyByFactor(t.getRenderer(n),n.scale/t.previousScale),t.previousScale=n.scale},e.handlePan=n=>{let r=t.getRenderer(n).getActiveCamera(),i=r.getFocalPoint();i=e.computeWorldToDisplay(t.getRenderer(n),i[0],i[1],i[2]);let a=i[2],o=n.translation,s=t.previousTranslation,c=e.computeDisplayToWorld(t.getRenderer(n),i[0]+o[0]-s[0],i[1]+o[1]-s[1],a),l=e.computeDisplayToWorld(t.getRenderer(n),i[0],i[1],a),u=[];u[0]=l[0]-c[0],u[1]=l[1]-c[1],u[2]=l[2]-c[2],i=r.getFocalPoint();let d=r.getPosition();r.setFocalPoint(u[0]+i[0],u[1]+i[1],u[2]+i[2]),r.setPosition(u[0]+d[0],u[1]+d[1],u[2]+d[2]),t._interactor.getLightFollowCamera()&&t.getRenderer(n).updateLightsGeometryToFollowCamera(),r.orthogonalizeViewUp(),t.previousTranslation=n.translation},e.handleRotate=e=>{let n=t.getRenderer(e).getActiveCamera();n.roll(e.rotation-t.previousRotation),n.orthogonalizeViewUp(),t.previousRotation=e.rotation},e.handleMouseRotate=(e,n)=>{if(!t.previousPosition)return;let r=t._interactor,i=n.x-t.previousPosition.x,a=n.y-t.previousPosition.y,o=r.getView().getViewportSize(e),s=-.1,c=-.1;o[0]&&o[1]&&(s=-20/o[1],c=-20/o[0]);let l=i*c*t.motionFactor,u=a*s*t.motionFactor,d=e.getActiveCamera();!Number.isNaN(l)&&!Number.isNaN(u)&&(d.azimuth(l),d.elevation(u),d.orthogonalizeViewUp()),t.autoAdjustCameraClippingRange&&e.resetCameraClippingRange(),r.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()},e.handleMouseSpin=(e,n)=>{if(!t.previousPosition)return;let r=t._interactor,i=e.getActiveCamera(),a=r.getView().getViewportCenter(e),o=UX(Math.atan2(t.previousPosition.y-a[1],t.previousPosition.x-a[0])),s=UX(Math.atan2(n.y-a[1],n.x-a[0]))-o;Number.isNaN(s)||(i.roll(s),i.orthogonalizeViewUp())},e.handleMousePan=(n,r)=>{if(!t.previousPosition)return;let i=n.getActiveCamera(),a=i.getFocalPoint();a=e.computeWorldToDisplay(n,a[0],a[1],a[2]);let o=a[2],s=e.computeDisplayToWorld(n,r.x,r.y,o),c=e.computeDisplayToWorld(n,t.previousPosition.x,t.previousPosition.y,o),l=[];l[0]=c[0]-s[0],l[1]=c[1]-s[1],l[2]=c[2]-s[2],a=i.getFocalPoint();let u=i.getPosition();i.setFocalPoint(l[0]+a[0],l[1]+a[1],l[2]+a[2]),i.setPosition(l[0]+u[0],l[1]+u[1],l[2]+u[2]),t._interactor.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera()},e.handleMouseDolly=(n,r)=>{if(!t.previousPosition)return;let i=r.y-t.previousPosition.y,a=t._interactor.getView().getViewportCenter(n),o=t.motionFactor*i/a[1];e.dollyByFactor(n,1.1**o)},e.handleMouseWheel=n=>{let r=1-n.spinY/t.zoomFactor;e.dollyByFactor(t.getRenderer(n),r)},e.dollyByFactor=(e,n)=>{if(Number.isNaN(n))return;let r=e.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/n):(r.dolly(n),t.autoAdjustCameraClippingRange&&e.resetCameraClippingRange()),t._interactor.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()}}var uye={motionFactor:10,zoomFactor:10};function U6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,uye,n),cye.extend(e,t,n),$.setGet(e,t,[`motionFactor`,`zoomFactor`]),lye(e,t)}var W6={newInstance:$.newInstance(U6,`vtkInteractorStyleTrackballCamera`),extend:U6};function dye(e){return e}function G6(e){if(e===null||e===`null`)return null;if(e===`true`)return!0;if(e===`false`)return!1;if(!(e===void 0||e===`undefined`))return e[0]===`[`&&e[e.length-1]===`]`?e.substring(1,e.length-1).split(`,`).map(e=>G6(e.trim())):e===``||Number.isNaN(Number(e))?e:Number(e)}function fye(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location.search,n={},r=e?G6:dye;return new URLSearchParams(t).forEach((e,t)=>{t&&(n[t]=e?r(e):!0)}),n}var pye={toNativeType:G6,extractURLParameters:fye};function mye(e,t){t.classHierarchy.push(`vtkRenderPass`),e.getOperation=()=>t.currentOperation,e.setCurrentOperation=e=>{t.currentOperation=e,t.currentTraverseOperation=`traverse${$.capitalize(t.currentOperation)}`},e.getTraverseOperation=()=>t.currentTraverseOperation,e.traverse=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;t.deleted||(t._currentParent=r,t.preDelegateOperations.forEach(t=>{e.setCurrentOperation(t),n.traverse(e)}),t.delegates.forEach(t=>{t.traverse(n,e)}),t.postDelegateOperations.forEach(t=>{e.setCurrentOperation(t),n.traverse(e)}))}}var hye={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function K6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,hye,n),$.obj(e,t),$.get(e,t,[`currentOperation`]),$.setGet(e,t,[`delegates`,`_currentParent`,`preDelegateOperations`,`postDelegateOperations`]),$.moveToProtected(e,t,[`currentParent`]),mye(e,t)}var q6={newInstance:$.newInstance(K6,`vtkRenderPass`),extend:K6},{Representation:gye}=Z$,{vtkErrorMacro:J6}=$;function _ye(e){e.Fragment=w2.substitute(e.Fragment,`//VTK::RenderPassFragmentShader::Impl`,`
      float weight = gl_FragData[0].a * pow(max(1.1 - gl_FragCoord.z, 0.0), 2.0);
      gl_FragData[0] = vec4(gl_FragData[0].rgb*weight, gl_FragData[0].a);
      gl_FragData[1].r = weight;
    `,!1).result}var vye=`//VTK::System::Dec

in vec2 tcoord;

uniform sampler2D translucentRTexture;
uniform sampler2D translucentRGBATexture;

// the output of this shader
//VTK::Output::Dec

void main()
{
  vec4 t1Color = texture(translucentRGBATexture, tcoord);
  float t2Color = texture(translucentRTexture, tcoord).r;
  gl_FragData[0] = vec4(t1Color.rgb/max(t2Color,0.01), 1.0 - t1Color.a);
}
`;function yye(e,t){t.classHierarchy.push(`vtkOpenGLOrderIndependentTranslucentPass`),e.createVertexBuffer=()=>{let e=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),n=new Float32Array([0,0,1,0,0,1,1,1]),r=new Uint16Array([4,0,1,3,2]),i=l1.newInstance({numberOfComponents:3,values:e});i.setName(`points`);let a=l1.newInstance({numberOfComponents:2,values:n});a.setName(`tcoords`);let o=l1.newInstance({numberOfComponents:1,values:r});t.tris.getCABO().createVBO(o,`polys`,gye.SURFACE,{points:i,tcoords:a,cellOffset:0}),t.VBOBuildTime.modified()},e.createFramebuffer=e=>{let n=e.getSize(),r=e.getContext();t.framebuffer=X3.newInstance(),t.framebuffer.setOpenGLRenderWindow(e),t.framebuffer.create(...n),t.framebuffer.saveCurrentBindingsAndBuffers(),t.framebuffer.bind(),t.translucentRGBATexture=G2.newInstance(),t.translucentRGBATexture.setInternalFormat(r.RGBA16F),t.translucentRGBATexture.setFormat(r.RGBA),t.translucentRGBATexture.setOpenGLDataType(r.HALF_FLOAT),t.translucentRGBATexture.setOpenGLRenderWindow(e),t.translucentRGBATexture.create2DFromRaw({width:n[0],height:n[1],numComps:4,dataType:`Float32Array`,data:null}),t.translucentRTexture=G2.newInstance(),t.translucentRTexture.setInternalFormat(r.R16F),t.translucentRTexture.setFormat(r.RED),t.translucentRTexture.setOpenGLDataType(r.HALF_FLOAT),t.translucentRTexture.setOpenGLRenderWindow(e),t.translucentRTexture.create2DFromRaw({width:n[0],height:n[1],numComps:1,dataType:`Float32Array`,data:null}),t.translucentZTexture=G2.newInstance(),t.translucentZTexture.setOpenGLRenderWindow(e),t.translucentZTexture.createDepthFromRaw({width:n[0],height:n[1],dataType:`Float32Array`,data:null}),t.framebuffer.setColorBuffer(t.translucentRGBATexture,0),t.framebuffer.setColorBuffer(t.translucentRTexture,1),t.framebuffer.setDepthBuffer(t.translucentZTexture)},e.createCopyShader=e=>{t.copyShader=e.getShaderCache().readyShaderProgramArray([`//VTK::System::Dec`,`attribute vec4 vertexDC;`,`attribute vec2 tcoordTC;`,`varying vec2 tcoord;`,`void main() { tcoord = tcoordTC; gl_Position = vertexDC; }`].join(`
`),vye,``)},e.createVBO=n=>{let r=n.getContext();t.tris.setOpenGLRenderWindow(n),e.createVertexBuffer();let i=t.copyShader;t.tris.getCABO().bind(),t.copyVAO.addAttributeArray(i,t.tris.getCABO(),`vertexDC`,t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),r.FLOAT,3,r.FALSE)||J6(`Error setting vertexDC in copy shader VAO.`),t.copyVAO.addAttributeArray(i,t.tris.getCABO(),`tcoordTC`,t.tris.getCABO().getTCoordOffset(),t.tris.getCABO().getStride(),r.FLOAT,2,r.FALSE)||J6(`Error setting vertexDC in copy shader VAO.`)},e.traverse=(n,r,i)=>{if(t.deleted)return;let a=n.getSize(),o=n.getContext();if(t._supported=!1,r.getSelector()||!o||!n.getWebgl2()||!o.getExtension(`EXT_color_buffer_half_float`)&&!o.getExtension(`EXT_color_buffer_float`)){e.setCurrentOperation(`translucentPass`),r.traverse(e);return}if(t._supported=!0,t.framebuffer===null)e.createFramebuffer(n);else{let r=t.framebuffer.getSize();r===null||r[0]!==a[0]||r[1]!==a[1]?(t.framebuffer.releaseGraphicsResources(),t.translucentRGBATexture.releaseGraphicsResources(n),t.translucentRTexture.releaseGraphicsResources(n),t.translucentZTexture.releaseGraphicsResources(n),e.createFramebuffer(n)):(t.framebuffer.saveCurrentBindingsAndBuffers(),t.framebuffer.bind())}o.drawBuffers([o.COLOR_ATTACHMENT0]),o.clearBufferfv(o.COLOR,0,[0,0,0,0]),o.clearBufferfv(o.DEPTH,0,[1]),o.colorMask(!1,!1,!1,!1),i.getOpaqueActorCount()>0&&(i.setCurrentOperation(`opaqueZBufferPass`),r.traverse(i)),o.colorMask(!0,!0,!0,!0),o.drawBuffers([o.COLOR_ATTACHMENT0,o.COLOR_ATTACHMENT1]),o.viewport(0,0,a[0],a[1]),o.scissor(0,0,a[0],a[1]),o.clearBufferfv(o.COLOR,0,[0,0,0,1]),o.clearBufferfv(o.COLOR,1,[0,0,0,0]),o.enable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFuncSeparate(o.ONE,o.ONE,o.ZERO,o.ONE_MINUS_SRC_ALPHA),e.setCurrentOperation(`translucentPass`),r.traverse(e),o.drawBuffers([o.NONE]),t.framebuffer.restorePreviousBindingsAndBuffers(),t.copyShader===null?e.createCopyShader(n):n.getShaderCache().readyShaderProgram(t.copyShader),t.copyVAO||(t.copyVAO=E2.newInstance(),t.copyVAO.setOpenGLRenderWindow(n)),t.copyVAO.bind(),t.VBOBuildTime.getMTime()<e.getMTime()&&e.createVBO(n),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),o.depthMask(!1),o.depthFunc(o.ALWAYS),o.viewport(0,0,a[0],a[1]),o.scissor(0,0,a[0],a[1]),t.translucentRGBATexture.activate(),t.copyShader.setUniformi(`translucentRGBATexture`,t.translucentRGBATexture.getTextureUnit()),t.translucentRTexture.activate(),t.copyShader.setUniformi(`translucentRTexture`,t.translucentRTexture.getTextureUnit()),o.drawArrays(o.TRIANGLES,0,t.tris.getCABO().getElementCount()),o.depthMask(!0),o.depthFunc(o.LEQUAL),t.translucentRGBATexture.deactivate(),t.translucentRTexture.deactivate();let s=r.getTiledSizeAndOrigin();o.scissor(s.lowerLeftU,s.lowerLeftV,s.usize,s.vsize),o.viewport(s.lowerLeftU,s.lowerLeftV,s.usize,s.vsize)},e.getShaderReplacement=()=>t._supported?_ye:null,e.releaseGraphicsResources=n=>{t.framebuffer&&=(t.framebuffer.releaseGraphicsResources(n),null),t.translucentRGBATexture&&=(t.translucentRGBATexture.releaseGraphicsResources(n),null),t.translucentRTexture&&=(t.translucentRTexture.releaseGraphicsResources(n),null),t.translucentZTexture&&=(t.translucentZTexture.releaseGraphicsResources(n),null),t.copyVAO&&=(t.copyVAO.releaseGraphicsResources(n),null),t.copyShader&&=(t.copyShader.releaseGraphicsResources(n),null),t.tris&&=(t.tris.releaseGraphicsResources(n),null),e.modified()}}var bye={framebuffer:null,copyShader:null,tris:null};function Y6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,bye,n),q6.extend(e,t,n),t.VBOBuildTime={},$.obj(t.VBOBuildTime,{mtime:0}),t.tris=k2.newInstance(),$.get(e,t,[`framebuffer`]),yye(e,t)}var xye={newInstance:$.newInstance(Y6,`vtkOpenGLOrderIndependentTranslucentPass`),extend:Y6};function Sye(e,t){t.classHierarchy.push(`vtkForwardPass`),e.traverse=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(t.deleted)return;t._currentParent=r,e.setCurrentOperation(`buildPass`),n.traverse(e);let i=n.getRenderable().getNumberOfLayers(),a=n.getRenderable().getRenderersByReference();for(let r=0;r<i;r++)for(let i=0;i<a.length;i++){let o=a[i],s=n.getViewNodeFor(o);if(o.getDraw()&&o.getLayer()===r){if(t.opaqueActorCount=0,t.translucentActorCount=0,t.volumeCount=0,t.overlayActorCount=0,e.setCurrentOperation(`queryPass`),s.traverse(e),(t.opaqueActorCount>0||t.translucentActorCount>0)&&t.volumeCount>0||t.depthRequested){let r=n.getFramebufferSize();t.framebuffer===null&&(t.framebuffer=X3.newInstance()),t.framebuffer.setOpenGLRenderWindow(n),t.framebuffer.saveCurrentBindingsAndBuffers();let i=t.framebuffer.getSize();(i===null||i[0]!==r[0]||i[1]!==r[1])&&(t.framebuffer.create(r[0],r[1]),t.framebuffer.populateFramebuffer()),t.framebuffer.bind(),e.setCurrentOperation(`zBufferPass`),s.traverse(e),t.framebuffer.restorePreviousBindingsAndBuffers(),t.depthRequested=!1}e.setCurrentOperation(`cameraPass`),s.traverse(e),t.opaqueActorCount>0&&(e.setCurrentOperation(`opaquePass`),s.traverse(e)),t.translucentActorCount>0&&(t.translucentPass||=xye.newInstance(),t.translucentPass.traverse(n,s,e)),t.volumeCount>0&&(e.setCurrentOperation(`volumePass`),s.traverse(e)),t.overlayActorCount>0&&(e.setCurrentOperation(`overlayPass`),s.traverse(e))}}},e.getZBufferTexture=()=>t.framebuffer?t.framebuffer.getColorTexture():null,e.requestDepth=()=>{t.depthRequested=!0},e.incrementOpaqueActorCount=()=>t.opaqueActorCount++,e.incrementTranslucentActorCount=()=>t.translucentActorCount++,e.incrementVolumeCount=()=>t.volumeCount++,e.incrementOverlayActorCount=()=>t.overlayActorCount++}var Cye={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,overlayActorCount:0,framebuffer:null,depthRequested:!1};function X6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Cye,n),q6.extend(e,t,n),$.get(e,t,[`framebuffer`,`opaqueActorCount`,`translucentActorCount`,`volumeCount`]),Sye(e,t)}var wye={newInstance:$.newInstance(X6,`vtkForwardPass`),extend:X6},{FieldAssociations:Tye}=S1;function Eye(e,t){t.classHierarchy.push(`vtkHardwareSelector`),e.getSourceDataAsync=async(e,t,n,r,i)=>{},e.selectAsync=async(t,n,r,i,a)=>{let o=await e.getSourceDataAsync(t,n,r,i,a);return o?o.generateSelection(n,r,i,a):[]}}var Dye={fieldAssociation:Tye.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function Z6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Dye,n),$.obj(e,t),$.setGet(e,t,[`fieldAssociation`,`captureZValues`]),Eye(e,t)}var Q6={newInstance:$.newInstance(Z6,`vtkHardwareSelector`),extend:Z6},Oye={SelectionContent:{GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},SelectionField:{CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5}};function kye(e,t){t.classHierarchy.push(`vtkSelectionNode`),e.getBounds=()=>t.points.getBounds()}var Aye={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function $6(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Aye,n),$.obj(e,t),t.properties={},$.setGet(e,t,[`contentType`,`fieldType`,`properties`,`selectionList`]),kye(e,t)}var e8={newInstance:$.newInstance($6,`vtkSelectionNode`),extend:$6,...Oye},{PassTypes:t8}=t0,{SelectionContent:jye,SelectionField:n8}=e8,{FieldAssociations:r8}=S1,{vtkErrorMacro:i8}=$,a8=1;function o8(e){return`${e.propID} ${e.compositeID}`}function s8(e,t,n,r){return n?n[(t*(r[2]-r[0]+1)+e)*4+3]:0}function c8(e,t,n,r){if(!n)return 0;let i=(t*(r[2]-r[0]+1)+e)*4,a=n[i],o=n[i+1];return(n[i+2]*256+o)*256+a}function l8(e,t){let n=t;return n<<=24,n|=e,n}function u8(e,t,n,r){let i=n<0?0:n;if(i===0){if(r[0]=t[0],r[1]=t[1],t[0]<e.area[0]||t[0]>e.area[2]||t[1]<e.area[1]||t[1]>e.area[3])return null;let n=[t[0]-e.area[0],t[1]-e.area[1]],i=c8(n[0],n[1],e.pixBuffer[t8.ACTOR_PASS],e.area);if(i<=0||i-a8>=e.props.length)return null;let a={};a.valid=!0,a.propID=i-a8,a.prop=e.props[a.propID];let o=c8(n[0],n[1],e.pixBuffer[t8.COMPOSITE_INDEX_PASS],e.area);if((o<0||o>16777215)&&(o=0),a.compositeID=o-a8,e.captureZValues){let r=(n[1]*(e.area[2]-e.area[0]+1)+n[0])*4;a.zValue=(256*e.zBuffer[r]+e.zBuffer[r+1])/65535,a.displayPosition=t}return e.pixBuffer[t8.ID_LOW24]&&s8(n[0],n[1],e.pixBuffer[t8.ID_LOW24],e.area)===0||(a.attributeID=l8(c8(n[0],n[1],e.pixBuffer[t8.ID_LOW24],e.area),c8(n[0],n[1],e.pixBuffer[t8.ID_HIGH24],e.area))),a}let a=[t[0],t[1]],o=[0,0],s=u8(e,t,0,r);if(s&&s.valid)return s;for(let t=1;t<i;++t){for(let n=a[1]>t?a[1]-t:0;n<=a[1]+t;++n)if(o[1]=n,a[0]>=t&&(o[0]=a[0]-t,s=u8(e,o,0,r),s&&s.valid)||(o[0]=a[0]+t,s=u8(e,o,0,r),s&&s.valid))return s;for(let n=a[0]>=t?a[0]-(t-1):0;n<=a[0]+(t-1);++n)if(o[0]=n,a[1]>=t&&(o[1]=a[1]-t,s=u8(e,o,0,r),s&&s.valid)||(o[1]=a[1]+t,s=u8(e,o,0,r),s&&s.valid))return s}return r[0]=t[0],r[1]=t[1],null}function d8(e,t,n,r,i){let a=[],o=0;return t.forEach((t,s)=>{let c=e8.newInstance();switch(c.setContentType(jye.INDICES),e){case r8.FIELD_ASSOCIATION_CELLS:c.setFieldType(n8.CELL);break;case r8.FIELD_ASSOCIATION_POINTS:c.setFieldType(n8.POINT);break;default:i8(`Unknown field association`)}c.getProperties().propID=t.info.propID,c.getProperties().prop=t.info.prop,c.getProperties().compositeID=t.info.compositeID,c.getProperties().attributeID=t.info.attributeID,c.getProperties().pixelCount=t.pixelCount,n&&(c.getProperties().displayPosition=[t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue],c.getProperties().worldPosition=i.displayToWorld(t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue,r)),c.setSelectionList(t.attributeIDs),a[o]=c,o++}),a}function Mye(e,t,n,r,i){let a=Math.floor(t),o=Math.floor(n),s=Math.floor(r),c=Math.floor(i),l=new Map,u=[0,0];for(let t=o;t<=c;t++)for(let n=a;n<=s;n++){let r=u8(e,[n,t],0,u);if(r&&r.valid){let t=o8(r);if(!l.has(t))l.set(t,{info:r,pixelCount:1,attributeIDs:[r.attributeID]});else{let n=l.get(t);n.pixelCount++,e.captureZValues&&r.zValue<n.info.zValue&&(n.info=r),n.attributeIDs.indexOf(r.attributeID)===-1&&n.attributeIDs.push(r.attributeID)}}}return d8(e.fieldAssociation,l,e.captureZValues,e.renderer,e.openGLRenderWindow)}function Nye(e,t){t.classHierarchy.push(`vtkOpenGLHardwareSelector`),e.releasePixBuffers=()=>{t.rawPixBuffer=[],t.pixBuffer=[],t.zBuffer=null},e.beginSelection=()=>{t._openGLRenderer=t._openGLRenderWindow.getViewNodeFor(t._renderer,t._openGLRenderer),t.maxAttributeId=0;let n=t._openGLRenderWindow.getSize();if(!t.framebuffer)t.framebuffer=X3.newInstance(),t.framebuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.framebuffer.saveCurrentBindingsAndBuffers(),t.framebuffer.create(n[0],n[1]),t.framebuffer.populateFramebuffer();else{t.framebuffer.setOpenGLRenderWindow(t._openGLRenderWindow),t.framebuffer.saveCurrentBindingsAndBuffers();let e=t.framebuffer.getSize();!e||e[0]!==n[0]||e[1]!==n[1]?(t.framebuffer.create(n[0],n[1]),t.framebuffer.populateFramebuffer()):t.framebuffer.bind()}if(t._openGLRenderer.clear(),t._openGLRenderer.setSelector(e),t.hitProps={},t.propPixels={},t.props=[],e.releasePixBuffers(),t.fieldAssociation===r8.FIELD_ASSOCIATION_POINTS){let e=t._openGLRenderWindow.getContext(),n=e.isEnabled(e.BLEND);e.disable(e.BLEND),t._openGLRenderWindow.traverseAllPasses(),n&&e.enable(e.BLEND)}},e.endSelection=()=>{t.hitProps={},t._openGLRenderer.setSelector(null),t.framebuffer.restorePreviousBindingsAndBuffers()},e.preCapturePass=()=>{let e=t._openGLRenderWindow.getContext();t.originalBlending=e.isEnabled(e.BLEND),e.disable(e.BLEND)},e.postCapturePass=()=>{let e=t._openGLRenderWindow.getContext();t.originalBlending&&e.enable(e.BLEND)},e.select=()=>{let n=null;return e.captureBuffers()&&(n=e.generateSelection(t.area[0],t.area[1],t.area[2],t.area[3]),e.releasePixBuffers()),n},e.getSourceDataAsync=async(n,r,i,a,o)=>{if(t._renderer=n,r===void 0){let n=t._openGLRenderWindow.getSize();e.setArea(0,0,n[0]-1,n[1]-1)}else e.setArea(r,i,a,o);if(!e.captureBuffers())return!1;let s={area:[...t.area],pixBuffer:[...t.pixBuffer],captureZValues:t.captureZValues,zBuffer:t.zBuffer,props:[...t.props],fieldAssociation:t.fieldAssociation,renderer:n,openGLRenderWindow:t._openGLRenderWindow};return s.generateSelection=function(){return Mye(s,...arguments)},s},e.captureBuffers=()=>{if(!t._renderer||!t._openGLRenderWindow)return i8(`Renderer and view must be set before calling Select.`),!1;t._openGLRenderer=t._openGLRenderWindow.getViewNodeFor(t._renderer,t._openGLRenderer),t._openGLRenderWindow.getRenderable().preRender(),e.invokeEvent({type:`StartEvent`}),t.originalBackground=t._renderer.getBackgroundByReference(),t._renderer.setBackground(0,0,0,0);let n=t._openGLRenderWindow.getRenderPasses();e.beginSelection();let r=[];for(t.currentPass=t8.MIN_KNOWN_PASS;t.currentPass<=t8.MAX_KNOWN_PASS;t.currentPass++)e.passRequired(t.currentPass)&&(e.preCapturePass(t.currentPass),t.captureZValues&&t.currentPass===t8.ACTOR_PASS&&typeof n[0].requestDepth==`function`&&typeof n[0].getFramebuffer==`function`&&n[0].requestDepth(),t._openGLRenderWindow.traverseAllPasses(),e.postCapturePass(t.currentPass),e.savePixelBuffer(t.currentPass),r.push(t.currentPass));return r.forEach(n=>{t.currentPass=n,e.processPixelBuffers()}),t.currentPass=t8.MAX_KNOWN_PASS,e.endSelection(),t._renderer.setBackground(t.originalBackground),e.invokeEvent({type:`EndEvent`}),!0},e.processPixelBuffers=()=>{t.props.forEach((n,r)=>{e.isPropHit(r)&&n.processSelectorPixelBuffers(e,t.propPixels[r])})},e.passRequired=e=>{if(e===t8.ID_HIGH24){if(t.fieldAssociation===r8.FIELD_ASSOCIATION_POINTS)return t.maximumPointId>16777215;if(t.fieldAssociation===r8.FIELD_ASSOCIATION_CELLS)return t.maximumCellId>16777215}return!0},e.savePixelBuffer=n=>{if(t.pixBuffer[n]=t._openGLRenderWindow.getPixelData(t.area[0],t.area[1],t.area[2],t.area[3]),!t.rawPixBuffer[n]){let e=(t.area[2]-t.area[0]+1)*(t.area[3]-t.area[1]+1)*4;t.rawPixBuffer[n]=new Uint8Array(e),t.rawPixBuffer[n].set(t.pixBuffer[n])}if(n===t8.ACTOR_PASS){if(t.captureZValues){let e=t._openGLRenderWindow.getRenderPasses();if(typeof e[0].requestDepth==`function`&&typeof e[0].getFramebuffer==`function`){let n=e[0].getFramebuffer();n.saveCurrentBindingsAndBuffers(),n.bind(),t.zBuffer=t._openGLRenderWindow.getPixelData(t.area[0],t.area[1],t.area[2],t.area[3]),n.restorePreviousBindingsAndBuffers()}}e.buildPropHitList(t.rawPixBuffer[n])}},e.buildPropHitList=e=>{let n=0;for(let r=0;r<=t.area[3]-t.area[1];r++)for(let i=0;i<=t.area[2]-t.area[0];i++){let a=c8(i,r,e,t.area);a>0&&(a--,a in t.hitProps||(t.hitProps[a]=!0,t.propPixels[a]=[]),t.propPixels[a].push(n*4)),++n}},e.renderProp=n=>{t.currentPass===t8.ACTOR_PASS&&(e.setPropColorValueFromInt(t.props.length+a8),t.props.push(n))},e.renderCompositeIndex=n=>{t.currentPass===t8.COMPOSITE_INDEX_PASS&&e.setPropColorValueFromInt(n+a8)},e.renderAttributeId=e=>{e<0||(t.maxAttributeId=e>t.maxAttributeId?e:t.maxAttributeId)},e.passTypeToString=e=>$.enumToString(t8,e),e.isPropHit=e=>!!t.hitProps[e],e.setPropColorValueFromInt=e=>{t.propColorValue[0]=e%256/255,t.propColorValue[1]=Math.floor(e/256)%256/255,t.propColorValue[2]=Math.floor(e/65536)%256/255},e.getPixelInformation=(n,r,i)=>{let a=r<0?0:r;if(console.log(`getPixelInformation called`,a),a===0){if(i[0]=n[0],i[1]=n[1],n[0]<t.area[0]||n[0]>t.area[2]||n[1]<t.area[1]||n[1]>t.area[3])return null;console.log(n),console.log(t.area);let e=[n[0]-t.area[0],n[1]-t.area[1]];console.log(`adjusted displayPosition`,e);let r=c8(e[0],e[1],t.pixBuffer[t8.ACTOR_PASS],t.area);if(console.log(`actorid`,r),r<=0||r-a8>=t.props.length)return null;let a={};a.valid=!0,a.propID=r-a8,a.prop=t.props[a.propID];let o=c8(e[0],e[1],t.pixBuffer[t8.COMPOSITE_INDEX_PASS],t.area);if((o<0||o>16777215)&&(o=0),a.compositeID=o-a8,t.captureZValues){let r=(e[1]*(t.area[2]-t.area[0]+1)+e[0])*4;a.zValue=(256*t.zBuffer[r]+t.zBuffer[r+1])/65535,a.displayPosition=n}return t.pixBuffer[t8.ID_LOW24]&&s8(e[0],e[1],t.pixBuffer[t8.ID_LOW24],t.area)===0||(a.attributeID=l8(c8(e[0],e[1],t.pixBuffer[t8.ID_LOW24],t.area),c8(e[0],e[1],t.pixBuffer[t8.ID_HIGH24],t.area))),a}let o=[n[0],n[1]],s=[0,0],c=e.getPixelInformation(n,0,i);if(c&&c.valid)return c;for(let t=1;t<a;++t){for(let n=o[1]>t?o[1]-t:0;n<=o[1]+t;++n)if(s[1]=n,o[0]>=t&&(s[0]=o[0]-t,c=e.getPixelInformation(s,0,i),c&&c.valid)||(s[0]=o[0]+t,c=e.getPixelInformation(s,0,i),c&&c.valid))return c;for(let n=o[0]>=t?o[0]-(t-1):0;n<=o[0]+(t-1);++n)if(s[0]=n,o[1]>=t&&(s[1]=o[1]-t,c=e.getPixelInformation(s,0,i),c&&c.valid)||(s[1]=o[1]+t,c=e.getPixelInformation(s,0,i),c&&c.valid))return c}return i[0]=n[0],i[1]=n[1],null},e.generateSelection=(n,r,i,a)=>{let o=Math.floor(n),s=Math.floor(r),c=Math.floor(i),l=Math.floor(a),u=new Map,d=[0,0];for(let n=s;n<=l;n++)for(let r=o;r<=c;r++){let i=[r,n],a=e.getPixelInformation(i,0,d);if(a&&a.valid){let e=o8(a);if(!u.has(e))u.set(e,{info:a,pixelCount:1,attributeIDs:[a.attributeID]});else{let n=u.get(e);n.pixelCount++,t.captureZValues&&a.zValue<n.info.zValue&&(n.info=a),n.attributeIDs.indexOf(a.attributeID)===-1&&n.attributeIDs.push(a.attributeID)}}}return d8(t.fieldAssociation,u,t.captureZValues,t._renderer,t._openGLRenderWindow)},e.getRawPixelBuffer=e=>t.rawPixBuffer[e],e.getPixelBuffer=e=>t.pixBuffer[e],e.attach=(e,n)=>{t._openGLRenderWindow=e,t._renderer=n};let n=e.setArea;e.setArea=function(){return n(...arguments)?(t.area[0]=Math.floor(t.area[0]),t.area[1]=Math.floor(t.area[1]),t.area[2]=Math.floor(t.area[2]),t.area[3]=Math.floor(t.area[3]),!0):!1}}var Pye={area:void 0,currentPass:-1,propColorValue:null,props:null,maximumPointId:0,maximumCellId:0,idOffset:1};function f8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Pye,n),Q6.extend(e,t,n),t.propColorValue=[0,0,0],t.props=[],t.area||=[0,0,0,0],$.setGetArray(e,t,[`area`],4),$.setGet(e,t,[`_renderer`,`currentPass`,`_openGLRenderWindow`,`maximumPointId`,`maximumCellId`]),$.setGetArray(e,t,[`propColorValue`],3),$.moveToProtected(e,t,[`renderer`,`openGLRenderWindow`]),$.event(e,t,`event`),Nye(e,t)}var p8={newInstance:$.newInstance(f8,`vtkOpenGLHardwareSelector`),extend:f8,...t0},Fye=l(o(((e,t)=>{(function(n){if(typeof e==`object`)t.exports=n();else if(typeof define==`function`&&define.amd)define(n);else{var r;try{r=window}catch{r=self}r.SparkMD5=n()}})(function(e){var t=[`0`,`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`a`,`b`,`c`,`d`,`e`,`f`];function n(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n+=(r&i|~r&a)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,a+=(n&r|~n&i)+t[1]-389564586|0,a=(a<<12|a>>>20)+n|0,i+=(a&n|~a&r)+t[2]+606105819|0,i=(i<<17|i>>>15)+a|0,r+=(i&a|~i&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&a)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,a+=(n&r|~n&i)+t[5]+1200080426|0,a=(a<<12|a>>>20)+n|0,i+=(a&n|~a&r)+t[6]-1473231341|0,i=(i<<17|i>>>15)+a|0,r+=(i&a|~i&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&a)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,a+=(n&r|~n&i)+t[9]-1958414417|0,a=(a<<12|a>>>20)+n|0,i+=(a&n|~a&r)+t[10]-42063|0,i=(i<<17|i>>>15)+a|0,r+=(i&a|~i&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&a)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,a+=(n&r|~n&i)+t[13]-40341101|0,a=(a<<12|a>>>20)+n|0,i+=(a&n|~a&r)+t[14]-1502002290|0,i=(i<<17|i>>>15)+a|0,r+=(i&a|~i&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+i|0,n+=(r&a|i&~a)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,a+=(n&i|r&~i)+t[6]-1069501632|0,a=(a<<9|a>>>23)+n|0,i+=(a&r|n&~r)+t[11]+643717713|0,i=(i<<14|i>>>18)+a|0,r+=(i&n|a&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+i|0,n+=(r&a|i&~a)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,a+=(n&i|r&~i)+t[10]+38016083|0,a=(a<<9|a>>>23)+n|0,i+=(a&r|n&~r)+t[15]-660478335|0,i=(i<<14|i>>>18)+a|0,r+=(i&n|a&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+i|0,n+=(r&a|i&~a)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,a+=(n&i|r&~i)+t[14]-1019803690|0,a=(a<<9|a>>>23)+n|0,i+=(a&r|n&~r)+t[3]-187363961|0,i=(i<<14|i>>>18)+a|0,r+=(i&n|a&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+i|0,n+=(r&a|i&~a)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,a+=(n&i|r&~i)+t[2]-51403784|0,a=(a<<9|a>>>23)+n|0,i+=(a&r|n&~r)+t[7]+1735328473|0,i=(i<<14|i>>>18)+a|0,r+=(i&n|a&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+i|0,n+=(r^i^a)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,a+=(n^r^i)+t[8]-2022574463|0,a=(a<<11|a>>>21)+n|0,i+=(a^n^r)+t[11]+1839030562|0,i=(i<<16|i>>>16)+a|0,r+=(i^a^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^a)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,a+=(n^r^i)+t[4]+1272893353|0,a=(a<<11|a>>>21)+n|0,i+=(a^n^r)+t[7]-155497632|0,i=(i<<16|i>>>16)+a|0,r+=(i^a^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^a)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,a+=(n^r^i)+t[0]-358537222|0,a=(a<<11|a>>>21)+n|0,i+=(a^n^r)+t[3]-722521979|0,i=(i<<16|i>>>16)+a|0,r+=(i^a^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^a)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,a+=(n^r^i)+t[12]-421815835|0,a=(a<<11|a>>>21)+n|0,i+=(a^n^r)+t[15]+530742520|0,i=(i<<16|i>>>16)+a|0,r+=(i^a^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+i|0,n+=(i^(r|~a))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,a+=(r^(n|~i))+t[7]+1126891415|0,a=(a<<10|a>>>22)+n|0,i+=(n^(a|~r))+t[14]-1416354905|0,i=(i<<15|i>>>17)+a|0,r+=(a^(i|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~a))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,a+=(r^(n|~i))+t[3]-1894986606|0,a=(a<<10|a>>>22)+n|0,i+=(n^(a|~r))+t[10]-1051523|0,i=(i<<15|i>>>17)+a|0,r+=(a^(i|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~a))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,a+=(r^(n|~i))+t[15]-30611744|0,a=(a<<10|a>>>22)+n|0,i+=(n^(a|~r))+t[6]-1560198380|0,i=(i<<15|i>>>17)+a|0,r+=(a^(i|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~a))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,a+=(r^(n|~i))+t[11]-1120210379|0,a=(a<<10|a>>>22)+n|0,i+=(n^(a|~r))+t[2]+718787259|0,i=(i<<15|i>>>17)+a|0,r+=(a^(i|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=a+e[3]|0}function r(e){var t=[],n;for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}function i(e){var t=[],n;for(n=0;n<64;n+=4)t[n>>2]=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24);return t}function a(e){var t=e.length,i=[1732584193,-271733879,-1732584194,271733878],a,o,s,c,l,u;for(a=64;a<=t;a+=64)n(i,r(e.substring(a-64,a)));for(e=e.substring(a-64),o=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<o;a+=1)s[a>>2]|=e.charCodeAt(a)<<(a%4<<3);if(s[a>>2]|=128<<(a%4<<3),a>55)for(n(i,s),a=0;a<16;a+=1)s[a]=0;return c=t*8,c=c.toString(16).match(/(.*?)(.{0,8})$/),l=parseInt(c[2],16),u=parseInt(c[1],16)||0,s[14]=l,s[15]=u,n(i,s),i}function o(e){var t=e.length,r=[1732584193,-271733879,-1732584194,271733878],a,o,s,c,l,u;for(a=64;a<=t;a+=64)n(r,i(e.subarray(a-64,a)));for(e=a-64<t?e.subarray(a-64):new Uint8Array,o=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<o;a+=1)s[a>>2]|=e[a]<<(a%4<<3);if(s[a>>2]|=128<<(a%4<<3),a>55)for(n(r,s),a=0;a<16;a+=1)s[a]=0;return c=t*8,c=c.toString(16).match(/(.*?)(.{0,8})$/),l=parseInt(c[2],16),u=parseInt(c[1],16)||0,s[14]=l,s[15]=u,n(r,s),r}function s(e){var n=``,r;for(r=0;r<4;r+=1)n+=t[e>>r*8+4&15]+t[e>>r*8&15];return n}function c(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join(``)}c(a(`hello`)),typeof ArrayBuffer<`u`&&!ArrayBuffer.prototype.slice&&(function(){function t(e,t){return e=e|0||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i=this.byteLength,a=t(n,i),o=i,s,c,l,u;return r!==e&&(o=t(r,i)),a>o?new ArrayBuffer(0):(s=o-a,c=new ArrayBuffer(s),l=new Uint8Array(c),u=new Uint8Array(this,a,s),l.set(u),c)}})();function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var n=e.length,r=new ArrayBuffer(n),i=new Uint8Array(r),a;for(a=0;a<n;a+=1)i[a]=e.charCodeAt(a);return t?i:r}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function p(e){var t=[],n=e.length,r;for(r=0;r<n-1;r+=2)t.push(parseInt(e.substr(r,2),16));return String.fromCharCode.apply(String,t)}function m(){this.reset()}return m.prototype.append=function(e){return this.appendBinary(l(e)),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t=this._buff.length,i;for(i=64;i<=t;i+=64)n(this._hash,r(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},m.prototype.end=function(e){var t=this._buff,n=t.length,r,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a;for(r=0;r<n;r+=1)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);return this._finish(i,n),a=c(this._hash),e&&(a=p(a)),this.reset(),a},m.prototype.reset=function(){return this._buff=``,this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(e,t){var r=t,i,a,o;if(e[r>>2]|=128<<(r%4<<3),r>55)for(n(this._hash,e),r=0;r<16;r+=1)e[r]=0;i=this._length*8,i=i.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=a,e[15]=o,n(this._hash,e)},m.hash=function(e,t){return m.hashBinary(l(e),t)},m.hashBinary=function(e,t){var n=c(a(e));return t?p(n):n},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t=f(this._buff.buffer,e,!0),r=t.length,a;for(this._length+=e.byteLength,a=64;a<=r;a+=64)n(this._hash,i(t.subarray(a-64,a)));return this._buff=a-64<r?new Uint8Array(t.buffer.slice(a-64)):new Uint8Array,this},m.ArrayBuffer.prototype.end=function(e){var t=this._buff,n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i,a;for(i=0;i<n;i+=1)r[i>>2]|=t[i]<<(i%4<<3);return this._finish(r,n),a=c(this._hash),e&&(a=p(a)),this.reset(),a},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array,this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var e=m.prototype.getState.call(this);return e.buff=d(e.buff),e},m.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),m.prototype.setState.call(this,e)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(e,t){var n=c(o(new Uint8Array(e)));return t?p(n):n},m})}))(),1),Iye=[`lastShaderProgramBound`,`context`,`_openGLRenderWindow`];function Lye(e,t){t.classHierarchy.push(`vtkShaderCache`),e.replaceShaderValues=(e,n,r)=>{let i=n;r.length>0&&(i=w2.substitute(i,`VSOut`,`GSOut`).result);let a=t._openGLRenderWindow.getWebgl2(),o=`
`,s=`#version 100
`;a?s=`#version 300 es
#define attribute in
#define textureCube texture
#define texture2D texture
#define textureCubeLod textureLod
#define texture2DLod textureLod
`:(t.context.getExtension(`OES_standard_derivatives`),t.context.getExtension(`EXT_frag_depth`)&&(o=`#extension GL_EXT_frag_depth : enable
`),t.context.getExtension(`EXT_shader_texture_lod`)&&(o+=`#extension GL_EXT_shader_texture_lod : enable
#define textureCubeLod textureCubeLodEXT
#define texture2DLod texture2DLodEXT`)),i=w2.substitute(i,`//VTK::System::Dec`,[`${s}\n`,a?``:`#extension GL_OES_standard_derivatives : enable
`,o,`#ifdef GL_FRAGMENT_PRECISION_HIGH`,`precision highp float;`,`precision highp int;`,`#else`,`precision mediump float;`,`precision mediump int;`,`#endif`]).result;let c=w2.substitute(e,`//VTK::System::Dec`,[`${s}\n`,`#ifdef GL_FRAGMENT_PRECISION_HIGH`,`precision highp float;`,`precision highp int;`,`#else`,`precision mediump float;`,`precision mediump int;`,`#endif`]).result;if(a){c=w2.substitute(c,`varying`,`out`).result,i=w2.substitute(i,`varying`,`in`).result;let e=``,t=0;for(;i.includes(`gl_FragData[${t}]`);)i=w2.substitute(i,`gl_FragData\\[${t}\\]`,`fragOutput${t}`).result,e+=`layout(location = ${t}) out vec4 fragOutput${t};\n`,t++;i=w2.substitute(i,`//VTK::Output::Dec`,e).result}let l=w2.substitute(r,`//VTK::System::Dec`,s).result;return{VSSource:c,FSSource:i,GSSource:l}},e.readyShaderProgramArray=(t,n,r)=>{let i=e.replaceShaderValues(t,n,r),a=e.getShaderProgram(i.VSSource,i.FSSource,i.GSSource);return e.readyShaderProgram(a)},e.readyShaderProgram=t=>!t||!t.getCompiled()&&!t.compileShader()||!e.bindShaderProgram(t)?null:t,e.getShaderProgram=(e,n,r)=>{let i=`${e}${n}${r}`,a=Fye.default.hash(i);if(!(a in t.shaderPrograms)){let i=w2.newInstance();return i.setContext(t.context),i.getVertexShader().setSource(e),i.getFragmentShader().setSource(n),r&&i.getGeometryShader().setSource(r),i.setMd5Hash(a),t.shaderPrograms[a]=i,i}return t.shaderPrograms[a]},e.releaseGraphicsResources=n=>{e.releaseCurrentShaderProgram(),Object.keys(t.shaderPrograms).map(e=>t.shaderPrograms[e]).forEach(e=>e.cleanup()),t.shaderPrograms={}},e.releaseCurrentShaderProgram=()=>{t.lastShaderProgramBound&&=(t.lastShaderProgramBound.cleanup(),null)},e.bindShaderProgram=e=>t.lastShaderProgramBound===e?1:(t.lastShaderProgramBound&&t.lastShaderProgramBound.release(),e.bind(),t.lastShaderProgramBound=e,1)}var Rye={lastShaderProgramBound:null,shaderPrograms:null,context:null};function m8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Rye,n),t.shaderPrograms={},$.obj(e,t),$.setGet(e,t,Iye),$.moveToProtected(e,t,[`openGLRenderWindow`]),Lye(e,t)}var zye={newInstance:$.newInstance(m8,`vtkShaderCache`),extend:m8},{vtkErrorMacro:Bye}=$;function Vye(e,t){t.classHierarchy.push(`vtkOpenGLTextureUnitManager`),e.deleteTable=()=>{for(let e=0;e<t.numberOfTextureUnits;++e)t.textureUnits[e]===!0&&Bye(`some texture units  were not properly released`);t.textureUnits=[],t.numberOfTextureUnits=0},e.setContext=n=>{if(t.context!==n){if(t.context!==0&&e.deleteTable(),t.context=n,t.context){t.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);for(let e=0;e<t.numberOfTextureUnits;++e)t.textureUnits[e]=!1}e.modified()}},e.allocate=()=>{for(let n=0;n<t.numberOfTextureUnits;n++)if(!e.isAllocated(n))return t.textureUnits[n]=!0,n;return-1},e.allocateUnit=n=>e.isAllocated(n)?-1:(t.textureUnits[n]=!0,n),e.isAllocated=e=>t.textureUnits[e],e.free=e=>{t.textureUnits[e]=!1},e.freeAll=()=>{for(let e=0;e<t.numberOfTextureUnits;++e)t.textureUnits[e]=!1}}var Hye={context:null,numberOfTextureUnits:0,textureUnits:0};function h8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Hye,n),$.obj(e,t),t.textureUnits=[],$.get(e,t,[`numberOfTextureUnits`]),$.setGet(e,t,[`context`]),Vye(e,t)}var Uye={newInstance:$.newInstance(h8,`vtkOpenGLTextureUnitManager`),extend:h8};function Wye(e,t){t.classHierarchy.push(`vtkRenderWindowViewNode`),e.getViewNodeFactory=()=>null,e.getAspectRatio=()=>t.size[0]/t.size[1],e.getAspectRatioForRenderer=e=>{let n=e.getViewportByReference();return t.size[0]*(n[2]-n[0])/((n[3]-n[1])*t.size[1])},e.isInViewport=(t,n,r)=>{let i=r.getViewportByReference(),a=e.getFramebufferSize();return i[0]*a[0]<=t&&i[2]*a[0]>=t&&i[1]*a[1]<=n&&i[3]*a[1]>=n},e.getViewportSize=t=>{let n=t.getViewportByReference(),r=e.getFramebufferSize();return[(n[2]-n[0])*r[0],(n[3]-n[1])*r[1]]},e.getViewportCenter=t=>{let n=e.getViewportSize(t);return[n[0]*.5,n[1]*.5]},e.displayToNormalizedDisplay=(t,n,r)=>{let i=e.getFramebufferSize();return[t/i[0],n/i[1],r]},e.normalizedDisplayToDisplay=(t,n,r)=>{let i=e.getFramebufferSize();return[t*i[0],n*i[1],r]},e.worldToView=(e,t,n,r)=>r.worldToView(e,t,n),e.viewToWorld=(e,t,n,r)=>r.viewToWorld(e,t,n),e.worldToDisplay=(t,n,r,i)=>{let a=i.worldToView(t,n,r),o=e.getViewportSize(i),s=i.viewToProjection(a[0],a[1],a[2],o[0]/o[1]),c=i.projectionToNormalizedDisplay(s[0],s[1],s[2]);return e.normalizedDisplayToDisplay(c[0],c[1],c[2])},e.displayToWorld=(t,n,r,i)=>{let a=e.displayToNormalizedDisplay(t,n,r),o=i.normalizedDisplayToProjection(a[0],a[1],a[2]),s=e.getViewportSize(i),c=i.projectionToView(o[0],o[1],o[2],s[0]/s[1]);return i.viewToWorld(c[0],c[1],c[2])},e.normalizedDisplayToViewport=(t,n,r,i)=>{let a=i.getViewportByReference();a=e.normalizedDisplayToDisplay(a[0],a[1],0);let o=e.normalizedDisplayToDisplay(t,n,r);return[o[0]-a[0]-.5,o[1]-a[1]-.5,r]},e.viewportToNormalizedViewport=(t,n,r,i)=>{let a=e.getViewportSize(i);return a&&a[0]!==0&&a[1]!==0?[t/(a[0]-1),n/(a[1]-1),r]:[t,n,r]},e.normalizedViewportToViewport=(t,n,r,i)=>{let a=e.getViewportSize(i);return[t*(a[0]-1),n*(a[1]-1),r]},e.displayToLocalDisplay=(t,n,r)=>[t,e.getFramebufferSize()[1]-n-1,r],e.viewportToNormalizedDisplay=(t,n,r,i)=>{let a=i.getViewportByReference();a=e.normalizedDisplayToDisplay(a[0],a[1],0);let o=t+a[0]+.5,s=n+a[1]+.5;return e.displayToNormalizedDisplay(o,s,r)},e.getComputedDevicePixelRatio=()=>t.size[0]/e.getContainerSize()[0],e.getContainerSize=()=>{$.vtkErrorMacro(`not implemented`)},e.getPixelData=(e,t,n,r)=>{$.vtkErrorMacro(`not implemented`)},e.createSelector=()=>{$.vtkErrorMacro(`not implemented`)}}var Gye={size:void 0,selector:void 0};function g8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Gye,n),t.size||=[300,300],$.getArray(e,t,[`size`],2),$.get(e,t,[`selector`]),Kq.extend(e,t,n),Wye(e,t)}var _8={newInstance:$.newInstance(g8,`vtkRenderWindowViewNode`),extend:g8};function Kye(){let e=new Map,t={apply(t,n,r){return e.has(r[0])?e.get(r[0]):t.apply(n,r)}};function n(t){return{apply(n,r,i){return e.set(t,i[0]),n.apply(r,i)}}}let r=Object.create(null);return r.getParameter=(e,n,r,i)=>new Proxy(i.bind(e),t),r.depthMask=(e,t,r,i)=>new Proxy(i.bind(e),n(e.DEPTH_WRITEMASK)),{get(e,t,n){if(t===`__getUnderlyingContext`)return()=>e;let i=Reflect.get(e,t,e);i instanceof Function&&(i=i.bind(e));let a=r[t];return a?a(e,t,n,i):i}}}var{vtkDebugMacro:v8,vtkErrorMacro:y8}=$,qye={position:`absolute`,top:0,left:0,width:`100%`,height:`100%`},Jye=`activateTexture.deactivateTexture.disableCullFace.enableCullFace.get3DContext.getActiveFramebuffer.getContext.getDefaultTextureByteSize.getDefaultTextureInternalFormat.getDefaultToWebgl2.getGLInformations.getGraphicsMemoryInfo.getGraphicsResourceForObject.getHardwareMaximumLineWidth.getPixelData.getShaderCache.getTextureUnitForTexture.getTextureUnitManager.getWebgl2.makeCurrent.releaseGraphicsResources.registerGraphicsResourceUser.unregisterGraphicsResourceUser.restoreContext.setActiveFramebuffer.setContext.setDefaultToWebgl2.setGraphicsResourceForObject`.split(`.`);function b8(e,t,n){let r=e.createFramebuffer(),i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,t,2,2,0,t,n,null),e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0);let a=e.checkFramebufferStatus(e.FRAMEBUFFER);return e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),a===e.FRAMEBUFFER_COMPLETE}var x8=0,S8=[];function Yye(){x8++,S8.forEach(e=>e(x8))}function Xye(){x8--,S8.forEach(e=>e(x8))}function C8(e){e.preventDefault()}function Zye(e,t){t.classHierarchy.push(`vtkOpenGLRenderWindow`);let n;function r(){return n||=Kye(),n}e.getViewNodeFactory=()=>t.myFactory,t.canvas.addEventListener(`webglcontextlost`,C8,!1),t.canvas.addEventListener(`webglcontextrestored`,e.restoreContext,!1);let i=[0,0];function a(){t.renderable&&(t.size[0]!==i[0]||t.size[1]!==i[1])&&(i[0]=t.size[0],i[1]=t.size[1],t.canvas.setAttribute(`width`,t.size[0]),t.canvas.setAttribute(`height`,t.size[1])),t.viewStream&&t.viewStream.setSize(t.size[0],t.size[1]),t.canvas.style.display=t.useOffScreen?`none`:`block`,t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:`none`),t.containerSize=null}e.onModified(a),e.buildPass=n=>{if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getRenderersByReference()),e.addMissingNodes(t.renderable.getChildRenderWindowsByReference()),e.removeUnusedNodes(),e.initialize(),t.children.forEach(t=>{t.setOpenGLRenderWindow?.(e)})}},e.initialize=()=>{if(!t.initialized){if(t.rootOpenGLRenderWindow=e.getLastAncestorOfType(`vtkOpenGLRenderWindow`),t.rootOpenGLRenderWindow)t.context2D=e.get2DContext();else{t.context=e.get3DContext(),e.resizeFromChildRenderWindows(),t.context&&Yye(),t.textureUnitManager=Uye.newInstance(),t.textureUnitManager.setContext(t.context),t.shaderCache.setContext(t.context);let n=t.context;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.depthFunc(n.LEQUAL),n.enable(n.BLEND)}t.initialized=!0}},e.makeCurrent=()=>{t.context.makeCurrent()},e.setContainer=n=>{t.el&&t.el!==n&&(t.canvas.parentNode!==t.el&&y8(`Error: canvas parent node does not match container`),t.el.removeChild(t.canvas),t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)),t.el!==n&&(t.el=n,t.el&&(t.el.appendChild(t.canvas),t.useBackgroundImage&&t.el.appendChild(t.bgImage)),e.modified())},e.getContainer=()=>t.el,e.getContainerSize=()=>{if(!t.containerSize&&t.el){let{width:e,height:n}=t.el.getBoundingClientRect();t.containerSize=[e,n]}return t.containerSize||t.size},e.getFramebufferSize=()=>t.activeFramebuffer?.getSize()||t.size,e.getPixelData=(e,n,r,i)=>{let a=new Uint8Array((r-e+1)*(i-n+1)*4);return t.context.readPixels(e,n,r-e+1,i-n+1,t.context.RGBA,t.context.UNSIGNED_BYTE,a),a},e.get3DContext=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,powerPreference:`high-performance`},n=null,i=typeof WebGL2RenderingContext<`u`;return t.webgl2=!1,t.defaultToWebgl2&&i&&(n=t.canvas.getContext(`webgl2`,e),n&&(t.webgl2=!0,v8(`using webgl2`))),n||=(v8(`using webgl1`),t.canvas.getContext(`webgl`,e)||t.canvas.getContext(`experimental-webgl`,e)),new Proxy(n,r())},e.get2DContext=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.canvas.getContext(`2d`,e)},e.restoreContext=()=>{let t=q6.newInstance();t.setCurrentOperation(`Release`),t.traverse(e,null)},e.activateTexture=n=>{let r=t._textureResourceIds.get(n);if(r!==void 0){t.context.activeTexture(t.context.TEXTURE0+r);return}let i=e.getTextureUnitManager().allocate();if(i<0){y8(`Hardware does not support the number of textures defined.`);return}t._textureResourceIds.set(n,i),t.context.activeTexture(t.context.TEXTURE0+i)},e.deactivateTexture=n=>{let r=t._textureResourceIds.get(n);r!==void 0&&(e.getTextureUnitManager().free(r),t._textureResourceIds.delete(n))},e.getTextureUnitForTexture=e=>{let n=t._textureResourceIds.get(e);return n===void 0?-1:n},e.getDefaultTextureByteSize=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.webgl2)switch(e){case t1.CHAR:case t1.SIGNED_CHAR:case t1.UNSIGNED_CHAR:return 1;case n:case r:case t1.UNSIGNED_SHORT:case t1.SHORT:case t1.VOID:return 2;default:return 4}return 1},e.getDefaultTextureInternalFormat=function(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.webgl2)switch(e){case t1.UNSIGNED_CHAR:switch(n){case 1:return t.context.R8;case 2:return t.context.RG8;case 3:return t.context.RGB8;case 4:default:return t.context.RGBA8}case r&&!i&&t1.UNSIGNED_SHORT:switch(n){case 1:return r.R16_EXT;case 2:return r.RG16_EXT;case 3:return r.RGB16_EXT;case 4:default:return r.RGBA16_EXT}case r&&!i&&t1.SHORT:switch(n){case 1:return r.R16_SNORM_EXT;case 2:return r.RG16_SNORM_EXT;case 3:return r.RGB16_SNORM_EXT;case 4:default:return r.RGBA16_SNORM_EXT}case t1.UNSIGNED_SHORT:case t1.SHORT:case t1.FLOAT:default:switch(n){case 1:return i?t.context.R16F:t.context.R32F;case 2:return i?t.context.RG16F:t.context.RG32F;case 3:return i?t.context.RGB16F:t.context.RGB32F;case 4:default:return i?t.context.RGBA16F:t.context.RGBA32F}}switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:default:return t.context.RGBA}},e.setBackgroundImage=e=>{t.bgImage.src=e.src},e.setUseBackgroundImage=e=>{t.useBackgroundImage=e,t.useBackgroundImage&&!t.el.contains(t.bgImage)?t.el.appendChild(t.bgImage):!t.useBackgroundImage&&t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)};function o(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.imageFormat,r=document.createElement(`canvas`),i=r.getContext(`2d`);r.width=t.canvas.width,r.height=t.canvas.height,i.drawImage(t.canvas,0,0);let a=t.canvas.getBoundingClientRect();t.renderable.getRenderers().forEach(e=>{e.getViewProps().forEach(e=>{if(e.getContainer){let t=e.getContainer().getElementsByTagName(`canvas`);for(let e=0;e<t.length;e++){let n=t[e],r=n.getBoundingClientRect(),o=r.x-a.x,s=r.y-a.y;i.drawImage(n,o,s)}}})});let o=r.toDataURL(n);r.remove(),e.invokeImageReady(o)}e.captureNextImage=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`image/png`,{resetCamera:r=!1,size:i=null,scale:a=1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.deleted)return null;t.imageFormat=n;let o=t.notifyStartCaptureImage;return t.notifyStartCaptureImage=!0,t._screenshot={size:i||a!==1?i||t.size.map(e=>e*a):null},new Promise((n,i)=>{let a=e.onImageReady(i=>{if(t._screenshot.size===null)t.notifyStartCaptureImage=o,a.unsubscribe(),t._screenshot.placeHolder&&(t.size=t._screenshot.originalSize,e.modified(),t._screenshot.cameras&&t._screenshot.cameras.forEach(e=>{let{restoreParamsFn:t,arg:n}=e;return t(n)}),e.traverseAllPasses(),t.el.removeChild(t._screenshot.placeHolder),t._screenshot.placeHolder.remove(),t._screenshot=null),n(i);else{let n=document.createElement(`img`);if(n.style=qye,n.src=i,t._screenshot.placeHolder=t.el.appendChild(n),t.canvas.style.display=`none`,t._screenshot.originalSize=t.size,t.size=t._screenshot.size,t.rootOpenGLRenderWindow?.resizeFromChildRenderWindows(),t._screenshot.size=null,e.modified(),r){let e=r!==!0;t._screenshot.cameras=t.renderable.getRenderers().map(t=>{let n=t.getActiveCamera(),i=n.get(`focalPoint`,`position`,`parallelScale`);return{resetCameraArgs:e?{renderer:t}:void 0,resetCameraFn:e?r:t.resetCamera,restoreParamsFn:n.set,arg:JSON.parse(JSON.stringify(i))}}),t._screenshot.cameras.forEach(e=>{let{resetCameraFn:t,resetCameraArgs:n}=e;return t(n)})}e.traverseAllPasses()}})})};let s;e.getHardwareMaximumLineWidth=()=>{if(s!=null)return s;let t=e.get3DContext(),n=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE);return s=n[1],n[1]},e.getGLInformations=()=>{if(t._glInformation)return t._glInformation;let n=e.get3DContext(),r=n.getExtension(`OES_texture_float`),i=n.getExtension(`OES_texture_half_float`),a=n.getExtension(`WEBGL_debug_renderer_info`),o=n.getExtension(`WEBGL_draw_buffers`),s=n.getExtension(`EXT_texture_filter_anisotropic`)||n.getExtension(`WEBKIT_EXT_texture_filter_anisotropic`),c=[[`Max Vertex Attributes`,`MAX_VERTEX_ATTRIBS`,n.getParameter(n.MAX_VERTEX_ATTRIBS)],[`Max Varying Vectors`,`MAX_VARYING_VECTORS`,n.getParameter(n.MAX_VARYING_VECTORS)],[`Max Vertex Uniform Vectors`,`MAX_VERTEX_UNIFORM_VECTORS`,n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS)],[`Max Fragment Uniform Vectors`,`MAX_FRAGMENT_UNIFORM_VECTORS`,n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS)],[`Max Fragment Texture Image Units`,`MAX_TEXTURE_IMAGE_UNITS`,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)],[`Max Vertex Texture Image Units`,`MAX_VERTEX_TEXTURE_IMAGE_UNITS`,n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],[`Max Combined Texture Image Units`,`MAX_COMBINED_TEXTURE_IMAGE_UNITS`,n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],[`Max 2D Texture Size`,`MAX_TEXTURE_SIZE`,n.getParameter(n.MAX_TEXTURE_SIZE)],[`Max Cube Texture Size`,`MAX_CUBE_MAP_TEXTURE_SIZE`,n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE)],[`Max Texture Anisotropy`,`MAX_TEXTURE_MAX_ANISOTROPY_EXT`,s&&n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],[`Point Size Range`,`ALIASED_POINT_SIZE_RANGE`,n.getParameter(n.ALIASED_POINT_SIZE_RANGE).join(` - `)],[`Line Width Range`,`ALIASED_LINE_WIDTH_RANGE`,n.getParameter(n.ALIASED_LINE_WIDTH_RANGE).join(` - `)],[`Max Viewport Dimensions`,`MAX_VIEWPORT_DIMS`,n.getParameter(n.MAX_VIEWPORT_DIMS).join(` - `)],[`Max Renderbuffer Size`,`MAX_RENDERBUFFER_SIZE`,n.getParameter(n.MAX_RENDERBUFFER_SIZE)],[`Framebuffer Red Bits`,`RED_BITS`,n.getParameter(n.RED_BITS)],[`Framebuffer Green Bits`,`GREEN_BITS`,n.getParameter(n.GREEN_BITS)],[`Framebuffer Blue Bits`,`BLUE_BITS`,n.getParameter(n.BLUE_BITS)],[`Framebuffer Alpha Bits`,`ALPHA_BITS`,n.getParameter(n.ALPHA_BITS)],[`Framebuffer Depth Bits`,`DEPTH_BITS`,n.getParameter(n.DEPTH_BITS)],[`Framebuffer Stencil Bits`,`STENCIL_BITS`,n.getParameter(n.STENCIL_BITS)],[`Framebuffer Subpixel Bits`,`SUBPIXEL_BITS`,n.getParameter(n.SUBPIXEL_BITS)],[`MSAA Samples`,`SAMPLES`,n.getParameter(n.SAMPLES)],[`MSAA Sample Buffers`,`SAMPLE_BUFFERS`,n.getParameter(n.SAMPLE_BUFFERS)],[`Supported Formats for UByte Render Targets     `,`UNSIGNED_BYTE RENDER TARGET FORMATS`,[r&&b8(n,n.RGBA,n.UNSIGNED_BYTE)?`RGBA`:``,r&&b8(n,n.RGB,n.UNSIGNED_BYTE)?`RGB`:``,r&&b8(n,n.LUMINANCE,n.UNSIGNED_BYTE)?`LUMINANCE`:``,r&&b8(n,n.ALPHA,n.UNSIGNED_BYTE)?`ALPHA`:``,r&&b8(n,n.LUMINANCE_ALPHA,n.UNSIGNED_BYTE)?`LUMINANCE_ALPHA`:``].join(` `)],[`Supported Formats for Half Float Render Targets`,`HALF FLOAT RENDER TARGET FORMATS`,[i&&b8(n,n.RGBA,i.HALF_FLOAT_OES)?`RGBA`:``,i&&b8(n,n.RGB,i.HALF_FLOAT_OES)?`RGB`:``,i&&b8(n,n.LUMINANCE,i.HALF_FLOAT_OES)?`LUMINANCE`:``,i&&b8(n,n.ALPHA,i.HALF_FLOAT_OES)?`ALPHA`:``,i&&b8(n,n.LUMINANCE_ALPHA,i.HALF_FLOAT_OES)?`LUMINANCE_ALPHA`:``].join(` `)],[`Supported Formats for Full Float Render Targets`,`FLOAT RENDER TARGET FORMATS`,[r&&b8(n,n.RGBA,n.FLOAT)?`RGBA`:``,r&&b8(n,n.RGB,n.FLOAT)?`RGB`:``,r&&b8(n,n.LUMINANCE,n.FLOAT)?`LUMINANCE`:``,r&&b8(n,n.ALPHA,n.FLOAT)?`ALPHA`:``,r&&b8(n,n.LUMINANCE_ALPHA,n.FLOAT)?`LUMINANCE_ALPHA`:``].join(` `)],[`Max Multiple Render Targets Buffers`,`MAX_DRAW_BUFFERS_WEBGL`,o?n.getParameter(o.MAX_DRAW_BUFFERS_WEBGL):0],[`High Float Precision in Vertex Shader`,`HIGH_FLOAT VERTEX_SHADER`,[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMax,`</sup>)`].join(``)],[`Medium Float Precision in Vertex Shader`,`MEDIUM_FLOAT VERTEX_SHADER`,[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMax,`</sup>)`].join(``)],[`Low Float Precision in Vertex Shader`,`LOW_FLOAT VERTEX_SHADER`,[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMax,`</sup>)`].join(``)],[`High Float Precision in Fragment Shader`,`HIGH_FLOAT FRAGMENT_SHADER`,[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMax,`</sup>)`].join(``)],[`Medium Float Precision in Fragment Shader`,`MEDIUM_FLOAT FRAGMENT_SHADER`,[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMax,`</sup>)`].join(``)],[`Low Float Precision in Fragment Shader`,`LOW_FLOAT FRAGMENT_SHADER`,[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMax,`</sup>)`].join(``)],[`High Int Precision in Vertex Shader`,`HIGH_INT VERTEX_SHADER`,[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMax,`</sup>)`].join(``)],[`Medium Int Precision in Vertex Shader`,`MEDIUM_INT VERTEX_SHADER`,[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMax,`</sup>)`].join(``)],[`Low Int Precision in Vertex Shader`,`LOW_INT VERTEX_SHADER`,[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMax,`</sup>)`].join(``)],[`High Int Precision in Fragment Shader`,`HIGH_INT FRAGMENT_SHADER`,[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMax,`</sup>)`].join(``)],[`Medium Int Precision in Fragment Shader`,`MEDIUM_INT FRAGMENT_SHADER`,[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMax,`</sup>)`].join(``)],[`Low Int Precision in Fragment Shader`,`LOW_INT FRAGMENT_SHADER`,[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).precision,` (-2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMin,`</sup> - 2<sup>`,n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMax,`</sup>)`].join(``)],[`Supported Extensions`,`EXTENSIONS`,n.getSupportedExtensions().join(`<br/>					    `)],[`WebGL Renderer`,`RENDERER`,n.getParameter(n.RENDERER)],[`WebGL Vendor`,`VENDOR`,n.getParameter(n.VENDOR)],[`WebGL Version`,`VERSION`,n.getParameter(n.VERSION)],[`Shading Language Version`,`SHADING_LANGUAGE_VERSION`,n.getParameter(n.SHADING_LANGUAGE_VERSION)],[`Unmasked Renderer`,`UNMASKED_RENDERER`,a&&n.getParameter(a.UNMASKED_RENDERER_WEBGL)],[`Unmasked Vendor`,`UNMASKED_VENDOR`,a&&n.getParameter(a.UNMASKED_VENDOR_WEBGL)],[`WebGL Version`,`WEBGL_VERSION`,t.webgl2?2:1]],l={};for(;c.length;){let[e,t,n]=c.pop();t&&(l[t]={label:e,value:n})}return t._glInformation=l,l},e.traverseAllPasses=()=>{if(t.renderPasses)for(let n=0;n<t.renderPasses.length;++n)t.renderPasses[n].traverse(e,null);e.copyParentContent(),t.notifyStartCaptureImage&&o();let n=t.renderable.getChildRenderWindowsByReference();for(let t=0;t<n.length;++t)e.getViewNodeFor(n[t])?.traverseAllPasses()},e.copyParentContent=()=>{let e=t.rootOpenGLRenderWindow;if(!e||!t.context2D||t.children.some(e=>!!e.getSelector?.()))return;let n=e.getCanvas(),r=t.canvas;t.context2D.drawImage(n,0,n.height-r.height,r.width,r.height,0,0,r.width,r.height)},e.resizeFromChildRenderWindows=()=>{let n=t.renderable.getChildRenderWindowsByReference();if(n.length>0){let t=[0,0];for(let r=0;r<n.length;++r){let i=e.getViewNodeFor(n[r])?.getSize();i&&(t[0]=i[0]>t[0]?i[0]:t[0],t[1]=i[1]>t[1]?i[1]:t[1])}e.setSize(...t)}},e.disableCullFace=()=>{t.cullFaceEnabled&&=(t.context.disable(t.context.CULL_FACE),!1)},e.enableCullFace=()=>{t.cullFaceEnabled||=(t.context.enable(t.context.CULL_FACE),!0)},e.setViewStream=n=>{if(t.viewStream===n)return!1;if(t.subscription&&=(t.subscription.unsubscribe(),null),t.viewStream=n,t.viewStream){let n=t.renderable.getRenderers()[0];n.getBackgroundByReference()[3]=0,e.setUseBackgroundImage(!0),t.subscription=t.viewStream.onImageReady(t=>e.setBackgroundImage(t.image)),t.viewStream.setSize(t.size[0],t.size[1]),t.viewStream.invalidateCache(),t.viewStream.render(),e.modified()}return!0},e.createSelector=()=>{let t=p8.newInstance();return t.setOpenGLRenderWindow(e),t};function c(){t.canvas.removeEventListener(`webglcontextlost`,C8),t.canvas.removeEventListener(`webglcontextrestored`,e.restoreContext)}e.delete=$.chain(()=>{t.context&&Xye(),e.setContainer(),e.setViewStream()},c,e.delete),e.setActiveFramebuffer=e=>{t.activeFramebuffer=e};let l=e.setSize;e.setSize=(t,n)=>{let r=l(t,n);return r&&e.invokeWindowResizeEvent({width:t,height:n}),r},e.registerGraphicsResourceUser=(n,r)=>{t._graphicsResources.has(n)||e.setGraphicsResourceForObject(n,null,null),t._graphicsResources.get(n)?.users.add(r)},e.unregisterGraphicsResourceUser=(n,r)=>{let i=t._graphicsResources.get(n);i&&(i.users.delete(r),i.users.size||(i.oglObject?.releaseGraphicsResources(e),t._graphicsResources.delete(n)))},e.getGraphicsResourceForObject=e=>t._graphicsResources.get(e),e.setGraphicsResourceForObject=(n,r,i)=>{if(!n)return;let a=t._graphicsResources.get(n);a?.oglObject?.releaseGraphicsResources(e),t._graphicsResources.set(n,{coreObject:n,oglObject:r,hash:i,users:a?.users??new Set})},e.getGraphicsMemoryInfo=()=>{let e=0;return t._graphicsResources.forEach(t=>{let{oglObject:n}=t;e+=n.getAllocatedGPUMemoryInBytes()}),e},e.releaseGraphicsResources=()=>{t.shaderCache!==null&&t.shaderCache.releaseGraphicsResources(e),t._graphicsResources.forEach(t=>{let{oglObject:n}=t;n.releaseGraphicsResources(e)}),t._graphicsResources.clear(),t.textureUnitManager!==null&&t.textureUnitManager.freeAll(),t.renderable.getRenderersByReference().forEach(t=>{e.getViewNodeFor(t)?.releaseGraphicsResources()})};let u={...e};Jye.forEach(n=>{e[n]=function(){return t.rootOpenGLRenderWindow?t.rootOpenGLRenderWindow[n](...arguments):u[n](...arguments)}})}var Qye={cullFaceEnabled:!1,shaderCache:null,initialized:!1,context:null,context2D:null,canvas:null,cursorVisibility:!0,cursor:`pointer`,textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,activeFramebuffer:null,imageFormat:`image/png`,useOffScreen:!1,useBackgroundImage:!1};function $ye(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Qye,n),_8.extend(e,t,n),t.canvas||(t.canvas=document.createElement(`canvas`),t.canvas.style.width=`100%`),t.selector||(t.selector=p8.newInstance(),t.selector.setOpenGLRenderWindow(e)),t.bgImage=new Image,t.bgImage.style.position=`absolute`,t.bgImage.style.left=`0`,t.bgImage.style.top=`0`,t.bgImage.style.width=`100%`,t.bgImage.style.height=`100%`,t.bgImage.style.zIndex=`-1`,t._textureResourceIds=new Map,t._graphicsResources=new Map,t._glInformation=null,t.myFactory=nJ.newInstance(),t.shaderCache=zye.newInstance(),t.shaderCache.setOpenGLRenderWindow(e),t.renderPasses[0]=wye.newInstance(),$.get(e,t,[`shaderCache`,`textureUnitManager`,`webgl2`,`useBackgroundImage`,`activeFramebuffer`,`rootOpenGLRenderWindow`]),$.setGet(e,t,[`initialized`,`context`,`context2D`,`canvas`,`renderPasses`,`notifyStartCaptureImage`,`defaultToWebgl2`,`cursor`,`useOffScreen`]),$.setGetArray(e,t,[`size`],2),$.event(e,t,`imageReady`),$.event(e,t,`windowResizeEvent`),Zye(e,t)}var w8=$.newInstance($ye,`vtkOpenGLRenderWindow`);b6(`WebGL`,w8),Qq(`vtkRenderWindow`,w8);var T8=[`setBindGroup`,`setIndexBuffer`,`setVertexBuffer`,`draw`,`drawIndexed`];function ebe(e,t){t.classHierarchy.push(`vtkWebGPURenderEncoder`),e.begin=e=>{t.drawCallbacks=[],t.handle=e.beginRenderPass(t.description),t.label&&t.handle.pushDebugGroup(t.label)},e.end=()=>{for(let n=0;n<t.drawCallbacks.length;n++){let r=t.drawCallbacks[n],i=r.pipeline;e.setPipeline(i);for(let t=0;t<r.callbacks.length;t++)r.callbacks[t](e)}t.label&&t.handle.popDebugGroup(),t.handle.end(),t.boundPipeline=null},e.setPipeline=e=>{if(t.boundPipeline===e)return;t.handle.setPipeline(e.getHandle());let n=e.getPipelineDescription();if(t.colorTextureViews.length!==n.fragment.targets.length)console.log(`mismatched attachment counts on pipeline ${n.fragment.targets.length} while encoder has ${t.colorTextureViews.length}`),console.trace();else for(let e=0;e<t.colorTextureViews.length;e++){let r=t.colorTextureViews[e].getTexture()?.getFormat();r&&r!==n.fragment.targets[e].format&&(console.log(`mismatched attachments for attachment ${e} on pipeline ${n.fragment.targets[e].format} while encoder has ${r}`),console.trace())}if(!t.depthTextureView!=!(`depthStencil`in n))console.log(`mismatched depth attachments`),console.trace();else if(t.depthTextureView){let e=t.depthTextureView.getTexture()?.getFormat();e&&e!==n.depthStencil.format&&(console.log(`mismatched depth attachments on pipeline ${n.depthStencil.format} while encoder has ${e}`),console.trace())}t.boundPipeline=e},e.replaceShaderCode=e=>{t.replaceShaderCodeFunction(e)},e.setColorTextureView=(e,n)=>{t.colorTextureViews[e]!==n&&(t.colorTextureViews[e]=n)},e.activateBindGroup=e=>{let n=t.boundPipeline.getDevice(),r=t.boundPipeline.getBindGroupLayoutCount(e.getLabel());t.handle.setBindGroup(r,e.getBindGroup(n));let i=n.getBindGroupLayoutDescription(e.getBindGroupLayout(n)),a=n.getBindGroupLayoutDescription(t.boundPipeline.getBindGroupLayout(r));i!==a&&(console.log(`renderEncoder ${t.pipelineHash} mismatched bind group layouts bind group has\n${i}\n versus pipeline\n${a}\n`),console.trace())},e.attachTextureViews=()=>{for(let e=0;e<t.colorTextureViews.length;e++)t.description.colorAttachments[e]?t.description.colorAttachments[e].view=t.colorTextureViews[e].getHandle():t.description.colorAttachments[e]={view:t.colorTextureViews[e].getHandle()};t.depthTextureView&&(t.description.depthStencilAttachment.view=t.depthTextureView.getHandle())},e.registerDrawCallback=(e,n)=>{for(let r=0;r<t.drawCallbacks.length;r++)if(t.drawCallbacks[r].pipeline===e){t.drawCallbacks[r].callbacks.push(n);return}t.drawCallbacks.push({pipeline:e,callbacks:[n]})};for(let n=0;n<T8.length;n++)e[T8[n]]=function(){return t.handle[T8[n]](...arguments)}}var tbe={description:null,handle:null,boundPipeline:null,pipelineHash:null,pipelineSettings:null,replaceShaderCodeFunction:null,depthTextureView:null,label:null};function E8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,tbe,n),uq(e,t),t.description={colorAttachments:[{view:void 0,loadOp:`load`,storeOp:`store`}],depthStencilAttachment:{view:void 0,depthLoadOp:`clear`,depthClearValue:0,depthStoreOp:`store`}},t.replaceShaderCodeFunction=e=>{let t=e.getShaderDescription(`fragment`);t.addOutput(`vec4<f32>`,`outColor`);let n=t.getCode();n=w4.substitute(n,`//VTK::RenderEncoder::Impl`,[`output.outColor = computedColor;`]).result,t.setCode(n)},t.pipelineSettings={primitive:{cullMode:`none`},depthStencil:{depthWriteEnabled:!0,depthCompare:`greater-equal`,format:`depth32float`},fragment:{targets:[{format:`rgba16float`,blend:{color:{srcFactor:`src-alpha`,dstFactor:`one-minus-src-alpha`},alpha:{srcFactor:`one`,dstFactor:`one-minus-src-alpha`}}}]}},t.colorTextureViews=[],fq(e,t,[`boundPipeline`,`colorTextureViews`]),gq(e,t,[`depthTextureView`,`description`,`handle`,`label`,`pipelineHash`,`pipelineSettings`,`replaceShaderCodeFunction`]),ebe(e,t)}var D8={newInstance:wq(E8,`vtkWebGPURenderEncoder`),extend:E8};function nbe(e,t){t.classHierarchy.push(`vtkWebGPUOpaquePass`),e.traverse=(n,r)=>{if(t.deleted)return;t._currentParent=r;let i=r.getDevice();if(t.renderEncoder)t.colorTexture.resize(r.getCanvas().width,r.getCanvas().height),t.depthTexture.resize(r.getCanvas().width,r.getCanvas().height);else{e.createRenderEncoder(),t.colorTexture=D3.newInstance({label:`opaquePassColor`}),t.colorTexture.create(i,{width:r.getCanvas().width,height:r.getCanvas().height,format:`rgba16float`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC});let n=t.colorTexture.createView(`opaquePassColorTexture`);t.renderEncoder.setColorTextureView(0,n),t.depthFormat=`depth32float`,t.depthTexture=D3.newInstance({label:`opaquePassDepth`}),t.depthTexture.create(i,{width:r.getCanvas().width,height:r.getCanvas().height,format:t.depthFormat,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC});let a=t.depthTexture.createView(`opaquePassDepthTexture`);t.renderEncoder.setDepthTextureView(a)}t.renderEncoder.attachTextureViews(),e.setCurrentOperation(`opaquePass`),n.setRenderEncoder(t.renderEncoder),n.traverse(e)},e.getColorTextureView=()=>t.renderEncoder.getColorTextureViews()[0],e.getDepthTextureView=()=>t.renderEncoder.getDepthTextureView(),e.createRenderEncoder=()=>{t.renderEncoder=D8.newInstance({label:`OpaquePass`}),t.renderEncoder.setPipelineHash(`op`)}}var rbe={renderEncoder:null,colorTexture:null,depthTexture:null};function O8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,rbe,n),q6.extend(e,t,n),$.get(e,t,[`colorTexture`,`depthTexture`]),nbe(e,t)}var ibe={newInstance:$.newInstance(O8,`vtkWebGPUOpaquePass`),extend:O8},abe=`
//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var tcoord: vec2<i32> = vec2<i32>(i32(input.fragPos.x), i32(input.fragPos.y));
  var reveal: f32 = textureLoad(oitpAccumTexture, tcoord, 0).r;
  if (reveal == 1.0) { discard; }
  var tcolor: vec4<f32> = textureLoad(oitpColorTexture, tcoord, 0);
  var total: f32 = max(tcolor.a, 0.01);
  var computedColor: vec4<f32> = vec4<f32>(tcolor.r/total, tcolor.g/total, tcolor.b/total, 1.0 - reveal);

  //VTK::RenderEncoder::Impl
  return output;
}
`;function obe(e,t){t.classHierarchy.push(`vtkWebGPUOrderIndependentTranslucentPass`),e.traverse=(n,r)=>{if(t.deleted)return;t._currentParent=r;let i=r.getDevice();if(t.translucentRenderEncoder)t.translucentColorTexture.resizeToMatch(t.colorTextureView.getTexture()),t.translucentAccumulateTexture.resizeToMatch(t.colorTextureView.getTexture());else{e.createRenderEncoder(),e.createFinalEncoder(),t.translucentColorTexture=D3.newInstance({label:`translucentPassColor`}),t.translucentColorTexture.create(i,{width:r.getCanvas().width,height:r.getCanvas().height,format:`rgba16float`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING});let n=t.translucentColorTexture.createView(`oitpColorTexture`);t.translucentRenderEncoder.setColorTextureView(0,n),t.translucentAccumulateTexture=D3.newInstance({label:`translucentPassAccumulate`}),t.translucentAccumulateTexture.create(i,{width:r.getCanvas().width,height:r.getCanvas().height,format:`r16float`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING});let a=t.translucentAccumulateTexture.createView(`oitpAccumTexture`);t.translucentRenderEncoder.setColorTextureView(1,a),t.fullScreenQuad=P4.newInstance(),t.fullScreenQuad.setDevice(r.getDevice()),t.fullScreenQuad.setPipelineHash(`oitpfsq`),t.fullScreenQuad.setTextureViews(t.translucentRenderEncoder.getColorTextureViews()),t.fullScreenQuad.setFragmentShaderTemplate(abe)}t.translucentRenderEncoder.setDepthTextureView(t.depthTextureView),t.translucentRenderEncoder.attachTextureViews(),e.setCurrentOperation(`translucentPass`),n.setRenderEncoder(t.translucentRenderEncoder),n.traverse(e),e.finalPass(r,n)},e.finalPass=(e,n)=>{t.translucentFinalEncoder.setColorTextureView(0,t.colorTextureView),t.translucentFinalEncoder.attachTextureViews(),t.translucentFinalEncoder.begin(e.getCommandEncoder()),n.scissorAndViewport(t.translucentFinalEncoder),t.fullScreenQuad.prepareAndDraw(t.translucentFinalEncoder),t.translucentFinalEncoder.end()},e.getTextures=()=>[t.translucentColorTexture,t.translucentAccumulateTexture],e.createRenderEncoder=()=>{t.translucentRenderEncoder=D8.newInstance({label:`translucentRender`});let e=t.translucentRenderEncoder.getDescription();e.colorAttachments=[{view:void 0,clearValue:[0,0,0,0],loadOp:`clear`,storeOp:`store`},{view:void 0,clearValue:[1,0,0,0],loadOp:`clear`,storeOp:`store`}],e.depthStencilAttachment={view:void 0,depthLoadOp:`load`,depthStoreOp:`store`},t.translucentRenderEncoder.setReplaceShaderCodeFunction(e=>{let t=e.getShaderDescription(`fragment`);t.addOutput(`vec4<f32>`,`outColor`),t.addOutput(`f32`,`outAccum`),t.addBuiltinInput(`vec4<f32>`,`@builtin(position) fragPos`);let n=t.getCode();n=w4.substitute(n,`//VTK::RenderEncoder::Impl`,[`var w: f32 = computedColor.a * pow(0.1 + input.fragPos.z, 2.0);`,`output.outColor = vec4<f32>(computedColor.rgb*w, w);`,`output.outAccum = computedColor.a;`]).result,t.setCode(n)}),t.translucentRenderEncoder.setPipelineHash(`oitpr`),t.translucentRenderEncoder.setPipelineSettings({primitive:{cullMode:`none`},depthStencil:{depthWriteEnabled:!1,depthCompare:`greater`,format:`depth32float`},fragment:{targets:[{format:`rgba16float`,blend:{color:{srcFactor:`one`,dstFactor:`one`},alpha:{srcFactor:`one`,dstFactor:`one`}}},{format:`r16float`,blend:{color:{srcFactor:`zero`,dstFactor:`one-minus-src`},alpha:{srcFactor:`one`,dstFactor:`one-minus-src-alpha`}}}]}})},e.createFinalEncoder=()=>{t.translucentFinalEncoder=D8.newInstance({label:`translucentFinal`}),t.translucentFinalEncoder.setDescription({colorAttachments:[{view:null,loadOp:`load`,storeOp:`store`}]}),t.translucentFinalEncoder.setReplaceShaderCodeFunction(e=>{let t=e.getShaderDescription(`fragment`);t.addOutput(`vec4<f32>`,`outColor`),t.addBuiltinInput(`vec4<f32>`,`@builtin(position) fragPos`);let n=t.getCode();n=w4.substitute(n,`//VTK::RenderEncoder::Impl`,[`output.outColor = vec4<f32>(computedColor.rgb, computedColor.a);`]).result,t.setCode(n)}),t.translucentFinalEncoder.setPipelineHash(`oitpf`),t.translucentFinalEncoder.setPipelineSettings({primitive:{cullMode:`none`},fragment:{targets:[{format:`rgba16float`,blend:{color:{srcFactor:`src-alpha`,dstFactor:`one-minus-src-alpha`},alpha:{srcFactor:`one`,dstFactor:`one-minus-src-alpha`}}}]}})}}var sbe={colorTextureView:null,depthTextureView:null};function k8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,sbe,n),q6.extend(e,t,n),$.setGet(e,t,[`colorTextureView`,`depthTextureView`]),obe(e,t)}var cbe={newInstance:$.newInstance(k8,`vtkWebGPUOrderIndependentTranslucentPass`),extend:k8},lbe=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::Volume::TraverseDec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

fn getTextureValue(vTex: texture_3d<f32>, tpos: vec4<f32>) -> f32
{
  // todo multicomponent support
  return textureSampleLevel(vTex, clampSampler, tpos.xyz, 0.0).r;
}

fn getGradient(vTex: texture_3d<f32>, tpos: vec4<f32>, vNum: i32, scalar: f32) -> vec4<f32>
{
  var result: vec4<f32>;

  var tstep: vec4<f32> = volumeSSBO.values[vNum].tstep;
  result.x = getTextureValue(vTex, tpos + vec4<f32>(tstep.x, 0.0, 0.0, 1.0)) - scalar;
  result.y = getTextureValue(vTex, tpos + vec4<f32>(0.0, tstep.y, 0.0, 1.0)) - scalar;
  result.z = getTextureValue(vTex, tpos + vec4<f32>(0.0, 0.0, tstep.z, 1.0)) - scalar;
  result.w = 0.0;

  // divide by spacing as that is our delta
  result = result / volumeSSBO.values[vNum].spacing;
  // now we have a gradient in unit tcoords

  var grad: f32 = length(result.xyz);
  if (grad > 0.0)
  {
    // rotate to View Coords, needed for lighting and shading
    var nMat: mat4x4<f32> = rendererUBO.SCVCMatrix * volumeSSBO.values[vNum].planeNormals;
    result = nMat * result;
    result = result / length(result);
  }

  // store gradient magnitude in .w
  result.w = grad;

  return result;
}

fn processVolume(vTex: texture_3d<f32>, vNum: i32, cNum: i32, posSC: vec4<f32>, tfunRows: f32) -> vec4<f32>
{
  var outColor: vec4<f32> = vec4<f32>(0.0, 0.0, 0.0, 0.0);

  // convert to tcoords and reject if outside the volume
  var tpos: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*posSC;
  if (tpos.x < 0.0 || tpos.y < 0.0 || tpos.z < 0.0 ||
      tpos.x > 1.0 || tpos.y > 1.0 || tpos.z > 1.0) { return outColor; }

  var scalar: f32 = getTextureValue(vTex, tpos);

  var coord: vec2<f32> =
    vec2<f32>(scalar * componentSSBO.values[cNum].cScale + componentSSBO.values[cNum].cShift,
      (0.5 + 2.0 * f32(vNum)) / tfunRows);
  var color: vec4<f32> = textureSampleLevel(tfunTexture, clampSampler, coord, 0.0);

  var gofactor: f32 = 1.0;
  var normal: vec4<f32> = vec4<f32>(0.0,0.0,0.0,0.0);
  if (componentSSBO.values[cNum].gomin <  1.0 || volumeSSBO.values[vNum].shade[0] > 0.0)
  {
    normal = getGradient(vTex, tpos, vNum, scalar);
    if (componentSSBO.values[cNum].gomin <  1.0)
    {
      gofactor = clamp(normal.a*componentSSBO.values[cNum].goScale + componentSSBO.values[cNum].goShift,
      componentSSBO.values[cNum].gomin, componentSSBO.values[cNum].gomax);
    }
  }

  coord.x = (scalar * componentSSBO.values[cNum].oScale + componentSSBO.values[cNum].oShift);
  var opacity: f32 = textureSampleLevel(ofunTexture, clampSampler, coord, 0.0).r;

  if (volumeSSBO.values[vNum].shade[0] > 0.0)
  {
    color = color*abs(normal.z);
  }

  outColor = vec4<f32>(color.rgb, gofactor * opacity);

  return outColor;
}

// adjust the start and end point of a raycast such that it intersects the unit cube.
// This function is used to take a raycast starting point and step vector
// and numSteps and return the startijng and ending steps for intersecting the
// unit cube. Recall for a 3D texture, the unit cube is the range of texture coordsinates
// that have valid values. So this funtion can be used to take a ray in texture coordinates
// and bound it to intersecting the texture.
//
fn adjustBounds(tpos: vec4<f32>, tstep: vec4<f32>, numSteps: f32) -> vec2<f32>
{
  var result: vec2<f32> = vec2<f32>(0.0, numSteps);
  var tpos2: vec4<f32> = tpos + tstep*numSteps;

  // move tpos to the start of the volume
  var adjust: f32 =
    min(
      max(tpos.x/tstep.x, (tpos.x - 1.0)/tstep.x),
      min(
        max((tpos.y - 1.0)/tstep.y, tpos.y/tstep.y),
        max((tpos.z - 1.0)/tstep.z, tpos.z/tstep.z)));
  if (adjust < 0.0)
  {
    result.x = result.x - adjust;
  }

  // adjust length to the end
  adjust =
    max(
      min(tpos2.x/tstep.x, (tpos2.x - 1.0)/tstep.x),
      max(
        min((tpos2.y - 1.0)/tstep.y, tpos2.y/tstep.y),
        min((tpos2.z - 1.0)/tstep.z, tpos2.z/tstep.z)));
  if (adjust > 0.0)
  {
    result.y = result.y - adjust;
  }

  return result;
}

fn getSimpleColor(scalar: f32, vNum: i32, cNum: i32) -> vec4<f32>
{
  // how many rows (tfuns) do we have in our tfunTexture
  var tfunRows: f32 = f32(textureDimensions(tfunTexture).y);

  var coord: vec2<f32> =
    vec2<f32>(scalar * componentSSBO.values[cNum].cScale + componentSSBO.values[cNum].cShift,
      (0.5 + 2.0 * f32(vNum)) / tfunRows);
  var color: vec4<f32> = textureSampleLevel(tfunTexture, clampSampler, coord, 0.0);
  coord.x = (scalar * componentSSBO.values[cNum].oScale + componentSSBO.values[cNum].oShift);
  var opacity: f32 = textureSampleLevel(ofunTexture, clampSampler, coord, 0.0).r;
  return vec4<f32>(color.rgb, opacity);
}

fn traverseMax(vTex: texture_3d<f32>, vNum: i32, cNum: i32, rayLengthSC: f32, minPosSC: vec4<f32>, rayStepSC: vec4<f32>)
{
  // convert to tcoords and reject if outside the volume
  var numSteps: f32 = rayLengthSC/mapperUBO.SampleDistance;
  var tpos: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*minPosSC;
  var tpos2: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*(minPosSC + rayStepSC);
  var tstep: vec4<f32> = tpos2 - tpos;

  var rayBounds: vec2<f32> = adjustBounds(tpos, tstep, numSteps);

  // did we hit anything
  if (rayBounds.x >= rayBounds.y)
  {
    traverseVals[vNum] = vec4<f32>(0.0,0.0,0.0,0.0);
    return;
  }

  tpos = tpos + tstep*rayBounds.x;
  var curDist: f32 = rayBounds.x;
  var maxVal: f32 = -1.0e37;
  loop
  {
    var scalar: f32 = getTextureValue(vTex, tpos);
    if (scalar > maxVal)
    {
      maxVal = scalar;
    }

    // increment position
    curDist = curDist + 1.0;
    tpos = tpos + tstep;

    // check if we have reached a terminating condition
    if (curDist > rayBounds.y) { break; }
  }

  // process to get the color and opacity
  traverseVals[vNum] = getSimpleColor(maxVal, vNum, cNum);
}

fn traverseMin(vTex: texture_3d<f32>, vNum: i32, cNum: i32, rayLengthSC: f32, minPosSC: vec4<f32>, rayStepSC: vec4<f32>)
{
  // convert to tcoords and reject if outside the volume
  var numSteps: f32 = rayLengthSC/mapperUBO.SampleDistance;
  var tpos: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*minPosSC;
  var tpos2: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*(minPosSC + rayStepSC);
  var tstep: vec4<f32> = tpos2 - tpos;

  var rayBounds: vec2<f32> = adjustBounds(tpos, tstep, numSteps);

  // did we hit anything
  if (rayBounds.x >= rayBounds.y)
  {
    traverseVals[vNum] = vec4<f32>(0.0,0.0,0.0,0.0);
    return;
  }

  tpos = tpos + tstep*rayBounds.x;
  var curDist: f32 = rayBounds.x;
  var minVal: f32 = 1.0e37;
  loop
  {
    var scalar: f32 = getTextureValue(vTex, tpos);
    if (scalar < minVal)
    {
      minVal = scalar;
    }

    // increment position
    curDist = curDist + 1.0;
    tpos = tpos + tstep;

    // check if we have reached a terminating condition
    if (curDist > rayBounds.y) { break; }
  }

  // process to get the color and opacity
  traverseVals[vNum] = getSimpleColor(minVal, vNum, cNum);
}

fn traverseAverage(vTex: texture_3d<f32>, vNum: i32, cNum: i32, rayLengthSC: f32, minPosSC: vec4<f32>, rayStepSC: vec4<f32>)
{
  // convert to tcoords and reject if outside the volume
  var numSteps: f32 = rayLengthSC/mapperUBO.SampleDistance;
  var tpos: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*minPosSC;
  var tpos2: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*(minPosSC + rayStepSC);
  var tstep: vec4<f32> = tpos2 - tpos;

  var rayBounds: vec2<f32> = adjustBounds(tpos, tstep, numSteps);

  // did we hit anything
  if (rayBounds.x >= rayBounds.y)
  {
    traverseVals[vNum] = vec4<f32>(0.0,0.0,0.0,0.0);
    return;
  }

  let ipRange: vec4<f32> = volumeSSBO.values[vNum].ipScalarRange;
  tpos = tpos + tstep*rayBounds.x;
  var curDist: f32 = rayBounds.x;
  var avgVal: f32 = 0.0;
  var sampleCount: f32 = 0.0;
  loop
  {
    var sample: f32 = getTextureValue(vTex, tpos);
    // right now leave filtering off until WebGL changes get merged
    // if (ipRange.z == 0.0 || sample >= ipRange.x && sample <= ipRange.y)
    // {
      avgVal = avgVal + sample;
      sampleCount = sampleCount + 1.0;
    // }

    // increment position
    curDist = curDist + 1.0;
    tpos = tpos + tstep;

    // check if we have reached a terminating condition
    if (curDist > rayBounds.y) { break; }
  }

  if (sampleCount <= 0.0)
  {
    traverseVals[vNum] = vec4<f32>(0.0,0.0,0.0,0.0);
  }

  // process to get the color and opacity
  traverseVals[vNum] = getSimpleColor(avgVal/sampleCount, vNum, cNum);
}

fn traverseAdditive(vTex: texture_3d<f32>, vNum: i32, cNum: i32, rayLengthSC: f32, minPosSC: vec4<f32>, rayStepSC: vec4<f32>)
{
  // convert to tcoords and reject if outside the volume
  var numSteps: f32 = rayLengthSC/mapperUBO.SampleDistance;
  var tpos: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*minPosSC;
  var tpos2: vec4<f32> = volumeSSBO.values[vNum].SCTCMatrix*(minPosSC + rayStepSC);
  var tstep: vec4<f32> = tpos2 - tpos;

  var rayBounds: vec2<f32> = adjustBounds(tpos, tstep, numSteps);

  // did we hit anything
  if (rayBounds.x >= rayBounds.y)
  {
    traverseVals[vNum] = vec4<f32>(0.0,0.0,0.0,0.0);
    return;
  }

  let ipRange: vec4<f32> = volumeSSBO.values[vNum].ipScalarRange;
  tpos = tpos + tstep*rayBounds.x;
  var curDist: f32 = rayBounds.x;
  var sumVal: f32 = 0.0;
  loop
  {
    var sample: f32 = getTextureValue(vTex, tpos);
    // right now leave filtering off until WebGL changes get merged
    // if (ipRange.z == 0.0 || sample >= ipRange.x && sample <= ipRange.y)
    // {
      sumVal = sumVal + sample;
    // }

    // increment position
    curDist = curDist + 1.0;
    tpos = tpos + tstep;

    // check if we have reached a terminating condition
    if (curDist > rayBounds.y) { break; }
  }

  // process to get the color and opacity
  traverseVals[vNum] = getSimpleColor(sumVal, vNum, cNum);
}

fn composite(rayLengthSC: f32, minPosSC: vec4<f32>, rayStepSC: vec4<f32>) -> vec4<f32>
{
  // initial ray position is at the beginning
  var rayPosSC: vec4<f32> = minPosSC;

  // how many rows (tfuns) do we have in our tfunTexture
  var tfunRows: f32 = f32(textureDimensions(tfunTexture).y);

  var curDist: f32 = 0.0;
  var computedColor: vec4<f32> = vec4<f32>(0.0, 0.0, 0.0, 0.0);
  var sampleColor: vec4<f32>;
//VTK::Volume::TraverseCalls

  loop
  {
    // for each volume, sample and accumulate color
//VTK::Volume::CompositeCalls

    // increment position
    curDist = curDist + mapperUBO.SampleDistance;
    rayPosSC = rayPosSC + rayStepSC;

    // check if we have reached a terminating condition
    if (curDist > rayLengthSC) { break; }
    if (computedColor.a > 0.98) { break; }
  }
  return computedColor;
}

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var rayMax: f32 = textureSampleLevel(maxTexture, clampSampler, input.tcoordVS, 0.0).r;
  var rayMin: f32 = textureSampleLevel(minTexture, clampSampler, input.tcoordVS, 0.0).r;

  // discard empty rays
  if (rayMax <= rayMin) { discard; }
  else
  {
    // compute start and end ray positions in view coordinates
    var minPosSC: vec4<f32> = rendererUBO.PCSCMatrix*vec4<f32>(2.0 * input.tcoordVS.x - 1.0, 1.0 - 2.0 * input.tcoordVS.y, rayMax, 1.0);
    minPosSC = minPosSC * (1.0 / minPosSC.w);
    var maxPosSC: vec4<f32> = rendererUBO.PCSCMatrix*vec4<f32>(2.0 * input.tcoordVS.x - 1.0, 1.0 - 2.0 * input.tcoordVS.y, rayMin, 1.0);
    maxPosSC = maxPosSC * (1.0 / maxPosSC.w);

    var rayLengthSC: f32 = distance(minPosSC.xyz, maxPosSC.xyz);
    var rayStepSC: vec4<f32> = (maxPosSC - minPosSC)*(mapperUBO.SampleDistance/rayLengthSC);
    rayStepSC.w = 0.0;

    var computedColor: vec4<f32>;

//VTK::Volume::Loop

//VTK::RenderEncoder::Impl
  }

  return output;
}
`,A8=new Float64Array(16),j8=new Float64Array(16);function ube(e,t){t.classHierarchy.push(`vtkWebGPUVolumePassFSQ`),e.replaceShaderPosition=(e,t,n)=>{let r=t.getShaderDescription(`vertex`);r.addBuiltinOutput(`vec4<f32>`,`@builtin(position) Position`);let i=r.getCode();i=w4.substitute(i,`//VTK::Position::Impl`,[`output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);`,`output.Position = vec4<f32>(vertexBC, 1.0);`]).result,r.setCode(i),t.getShaderDescription(`fragment`).addBuiltinInput(`vec4<f32>`,`@builtin(position) fragPos`)},t.shaderReplacements.set(`replaceShaderPosition`,e.replaceShaderPosition),e.replaceShaderVolume=(e,n,r)=>{let i=n.getShaderDescription(`fragment`),a=i.getCode(),o=[],s=[];for(let e=0;e<t.volumes.length;e++)t.volumes[e].getRenderable().getMapper().getBlendMode()===t6.COMPOSITE_BLEND?(o.push(`    sampleColor = processVolume(volTexture${e}, ${e}, ${t.rowStarts[e]}, rayPosSC, tfunRows);`),o.push(`    computedColor = vec4<f32>(
          sampleColor.a * sampleColor.rgb * (1.0 - computedColor.a) + computedColor.rgb,
          (1.0 - computedColor.a)*sampleColor.a + computedColor.a);`)):(s.push(`  sampleColor = traverseVals[${e}];`),s.push(`  computedColor = vec4<f32>(
          sampleColor.a * sampleColor.rgb * (1.0 - computedColor.a) + computedColor.rgb,
          (1.0 - computedColor.a)*sampleColor.a + computedColor.a);`));a=w4.substitute(a,`//VTK::Volume::CompositeCalls`,o).result,a=w4.substitute(a,`//VTK::Volume::TraverseCalls`,s).result,a=w4.substitute(a,`//VTK::Volume::TraverseDec`,[`var<private> traverseVals: array<vec4<f32>,${t.volumes.length}>;`]).result;let c=!1;for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable().getMapper().getBlendMode();n===t6.COMPOSITE_BLEND?c=!0:n===t6.MAXIMUM_INTENSITY_BLEND?a=w4.substitute(a,`//VTK::Volume::Loop`,[`    traverseMax(volTexture${e}, ${e}, ${e}, rayLengthSC, minPosSC, rayStepSC);`,`    computedColor = traverseVals[${e}];`,`//VTK::Volume::Loop`]).result:n===t6.MINIMUM_INTENSITY_BLEND?a=w4.substitute(a,`//VTK::Volume::Loop`,[`    traverseMin(volTexture${e}, ${e}, ${e}, rayLengthSC, minPosSC, rayStepSC);`,`    computedColor = traverseVals[${e}];`,`//VTK::Volume::Loop`]).result:n===t6.AVERAGE_INTENSITY_BLEND?a=w4.substitute(a,`//VTK::Volume::Loop`,[`    traverseAverage(volTexture${e}, ${e}, ${e}, rayLengthSC, minPosSC, rayStepSC);`,`    computedColor = traverseVals[${e}];`,`//VTK::Volume::Loop`]).result:n===t6.ADDITIVE_INTENSITY_BLEND&&(a=w4.substitute(a,`//VTK::Volume::Loop`,[`    traverseAdditive(volTexture${e}, ${e}, ${e}, rayLengthSC, minPosSC, rayStepSC);`,`    computedColor = traverseVals[${e}];`,`//VTK::Volume::Loop`]).result)}c&&(a=w4.substitute(a,`//VTK::Volume::Loop`,[`    computedColor = composite(rayLengthSC, minPosSC, rayStepSC);`]).result),i.setCode(a)},t.shaderReplacements.set(`replaceShaderVolume`,e.replaceShaderVolume),e.updateLUTImage=n=>{let r=e.getMTime();for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable(),i=n.getMapper().getInputData();r=Math.max(r,n.getMTime(),i.getMTime())}if(r<t.lutBuildTime.getMTime())return;t.numRows=0,t.rowStarts=[];for(let e=0;e<t.volumes.length;e++){t.rowStarts.push(t.numRows);let n=t.volumes[e].getRenderable(),r=n.getMapper(),i=n.getProperty(),a=r.getInputData(),o=(a.getPointData()&&a.getPointData().getScalars()).getNumberOfComponents(),s=i.getIndependentComponents()?o:1;t.numRows+=s}let i=new Uint8ClampedArray(t.numRows*2*t.rowLength*4),a=new Float32Array(t.numRows*2*t.rowLength),o=0,s=new Float32Array(t.rowLength*3),c=t.rowLength;for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable(),r=n.getMapper(),l=n.getProperty(),u=r.getInputData(),d=(u.getPointData()&&u.getPointData().getScalars()).getNumberOfComponents(),f=l.getIndependentComponents()?d:1;for(let e=0;e<f;++e){let n=l.getRGBTransferFunction(e),r=n.getRange();n.getTable(r[0],r[1],c,s,1);let u=o*c*4;for(let e=0;e<c;++e){i[u+e*4]=255*s[e*3],i[u+e*4+1]=255*s[e*3+1],i[u+e*4+2]=255*s[e*3+2],i[u+e*4+3]=255;for(let t=0;t<4;t++)i[u+(c+e)*4+t]=i[u+e*4+t]}let d=l.getScalarOpacity(e),f=t.sampleDist/l.getScalarOpacityUnitDistance(e),p=d.getRange();d.getTable(p[0],p[1],c,s,1),u=o*c;for(let e=0;e<c;++e)a[u+e]=1-(1-s[e])**f,a[u+e+c]=a[u+e];o+=2}}{let e={nativeArray:i,width:t.rowLength,height:t.numRows*2,depth:1,format:`rgba8unorm`},r=n.getTextureManager().getTexture(e).createView(`tfunTexture`);t.textureViews[2]=r}{let e={nativeArray:a,width:t.rowLength,height:t.numRows*2,depth:1,format:`r16float`},r=n.getTextureManager().getTexture(e).createView(`ofunTexture`);t.textureViews[3]=r}t.lutBuildTime.modified()},e.updateSSBO=n=>{let r=Math.max(e.getMTime(),t.WebGPURenderer.getStabilizedTime());for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable(),i=n.getMapper(),a=i.getInputData();r=Math.max(r,n.getMTime(),a.getMTime(),i.getMTime())}if(r<t.SSBO.getSendTime())return;let i=t.WebGPURenderer.getStabilizedCenterByReference();t.SSBO.clearData(),t.SSBO.setNumberOfInstances(t.volumes.length);let a=new Float64Array(t.volumes.length*16),o=new Float64Array(t.volumes.length*16),s=new Float64Array(t.volumes.length*4),c=new Float64Array(t.volumes.length*4),l=new Float64Array(t.volumes.length*4),u=new Float64Array(t.volumes.length*4);for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable(),r=n.getMapper().getInputData();IW(A8),HW(A8,A8,i),LW(j8,n.getMatrix()),RW(j8,j8),VW(A8,j8,A8),VW(A8,r.getWorldToIndex(),A8);let d=r.getDimensions();IW(j8),UW(j8,j8,[1/d[0],1/d[1],1/d[2]]),VW(A8,j8,A8);for(let t=0;t<16;t++)a[e*16+t]=A8[t];RW(A8,A8);for(let t=0;t<4;t++)o[e*16+t*4]=A8[t*4],o[e*16+t*4+1]=A8[t*4+1],o[e*16+t*4+2]=A8[t*4+2],o[e*16+t*4+3]=0;s[e*4]=1/d[0],s[e*4+1]=1/d[1],s[e*4+2]=1/d[2],s[e*4+3]=1,c[e*4]=n.getProperty().getShade()?1:0;let f=r.getSpacing();l[e*4]=f[0],l[e*4+1]=f[1],l[e*4+2]=f[2],l[e*4+3]=1;let p=t.textureViews[e+4].getTexture().getScale(),m=n.getProperty().getIpScalarRange();u[e*4]=m[0]/p,u[e*4+1]=m[1]/p,u[e*4+2]=n.getProperty().getFilterMode()}t.SSBO.addEntry(`SCTCMatrix`,`mat4x4<f32>`),t.SSBO.addEntry(`planeNormals`,`mat4x4<f32>`),t.SSBO.addEntry(`shade`,`vec4<f32>`),t.SSBO.addEntry(`tstep`,`vec4<f32>`),t.SSBO.addEntry(`spacing`,`vec4<f32>`),t.SSBO.addEntry(`ipScalarRange`,`vec4<f32>`),t.SSBO.setAllInstancesFromArray(`SCTCMatrix`,a),t.SSBO.setAllInstancesFromArray(`planeNormals`,o),t.SSBO.setAllInstancesFromArray(`shade`,c),t.SSBO.setAllInstancesFromArray(`tstep`,s),t.SSBO.setAllInstancesFromArray(`spacing`,l),t.SSBO.setAllInstancesFromArray(`ipScalarRange`,u),t.SSBO.send(n),t.componentSSBO.clearData(),t.componentSSBO.setNumberOfInstances(t.numRows);let d=new Float64Array(t.numRows),f=new Float64Array(t.numRows),p=new Float64Array(t.numRows),m=new Float64Array(t.numRows),h=new Float64Array(t.numRows),g=new Float64Array(t.numRows),_=new Float64Array(t.numRows),v=new Float64Array(t.numRows),y=0;for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable(),r=n.getMapper(),i=n.getProperty(),a=r.getInputData(),o=(a.getPointData()&&a.getPointData().getScalars()).getNumberOfComponents(),s=i.getIndependentComponents(),c=t.textureViews[e+4].getTexture().getFormat(),l=k4.getDetailsFromTextureFormat(c),u=l.elementSize===2&&l.sampleType===`float`,b={scale:[255],offset:[0]};u&&(b.scale[0]=1);for(let e=0;e<o;e++){let t=s?e:0,n=b.scale[e],r=i.getScalarOpacity(t).getRange(),a=n/(r[1]-r[0]);m[y]=(b.offset[e]-r[0])/(r[1]-r[0]),p[y]=a;let o=i.getRGBTransferFunction(t).getRange();if(f[y]=(b.offset[e]-o[0])/(o[1]-o[0]),d[y]=n/(o[1]-o[0]),i.getUseGradientOpacity(t)){let e=i.getGradientOpacityMinimumOpacity(t),r=i.getGradientOpacityMaximumOpacity(t);h[y]=e,g[y]=r;let a=[i.getGradientOpacityMinimumValue(t),i.getGradientOpacityMaximumValue(t)];v[y]=n*(r-e)/(a[1]-a[0]),_[y]=-a[0]*(r-e)/(a[1]-a[0])+e}else h[y]=1,g[y]=1,v[y]=0,_[y]=1;y++}}t.componentSSBO.addEntry(`cScale`,`f32`),t.componentSSBO.addEntry(`cShift`,`f32`),t.componentSSBO.addEntry(`oScale`,`f32`),t.componentSSBO.addEntry(`oShift`,`f32`),t.componentSSBO.addEntry(`goShift`,`f32`),t.componentSSBO.addEntry(`goScale`,`f32`),t.componentSSBO.addEntry(`gomin`,`f32`),t.componentSSBO.addEntry(`gomax`,`f32`),t.componentSSBO.setAllInstancesFromArray(`cScale`,d),t.componentSSBO.setAllInstancesFromArray(`cShift`,f),t.componentSSBO.setAllInstancesFromArray(`oScale`,p),t.componentSSBO.setAllInstancesFromArray(`oShift`,m),t.componentSSBO.setAllInstancesFromArray(`goScale`,v),t.componentSSBO.setAllInstancesFromArray(`goShift`,_),t.componentSSBO.setAllInstancesFromArray(`gomin`,h),t.componentSSBO.setAllInstancesFromArray(`gomax`,g),t.componentSSBO.send(n)};let n=e.updateBuffers;e.updateBuffers=()=>{n();let r=t.volumes[0].getRenderable().getMapper().getSampleDistance();for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable().getMapper().getSampleDistance();n<r&&(r=n)}t.sampleDist!==r&&(t.sampleDist=r,t.UBO.setValue(`SampleDistance`,r),t.UBO.sendIfNeeded(t.device));for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable().getMapper().getInputData(),r=t.device.getTextureManager().getTextureForImageData(n);if(!t.textureViews[e+4]||t.textureViews[e+4].getTexture()!==r){let n=r.createView(`volTexture${e}`);t.textureViews[e+4]=n}}if(t.volumes.length<t.lastVolumeLength)for(let e=t.volumes.length;e<t.lastVolumeLength;e++)t.textureViews.pop();t.lastVolumeLength=t.volumes.length,e.updateLUTImage(t.device),e.updateSSBO(t.device),t.clampSampler||(t.clampSampler=C3.newInstance({label:`clampSampler`}),t.clampSampler.create(t.device,{minFilter:`linear`,magFilter:`linear`}))},e.computePipelineHash=()=>{t.pipelineHash=`volfsq`;for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable().getMapper().getBlendMode();t.pipelineHash+=`${n}`}},e.setVolumes=n=>{if(!t.volumes||t.volumes.length!==n.length){t.volumes=[...n],e.modified();return}for(let r=0;r<n.length;r++)if(n[r]!==t.volumes[r]){t.volumes=[...n],e.modified();return}};let r=e.getBindables;e.getBindables=()=>{let e=r();return e.push(t.componentSSBO),e.push(t.clampSampler),e}}var dbe={volumes:null,rowLength:1024,lastVolumeLength:0};function M8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,dbe,n),P4.extend(e,t,n),t.fragmentShaderTemplate=lbe,t.UBO=i3.newInstance({label:`mapperUBO`}),t.UBO.addEntry(`SampleDistance`,`f32`),t.SSBO=t3.newInstance({label:`volumeSSBO`}),t.componentSSBO=t3.newInstance({label:`componentSSBO`}),t.lutBuildTime={},$.obj(t.lutBuildTime,{mtime:0}),ube(e,t)}var fbe={newInstance:$.newInstance(M8,`vtkWebGPUVolumePassFSQ`),extend:M8},{Representation:pbe}=Z$,{BufferUsage:N8,PrimitiveTypes:mbe}=Q4,P8=[[0,4,6],[0,6,2],[1,3,7],[1,7,5],[0,5,4],[0,1,5],[2,6,7],[2,7,3],[0,3,1],[0,2,3],[4,5,7],[4,7,6]],hbe=`
//VTK::Renderer::Dec

//VTK::Select::Dec

//VTK::VolumePass::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : fragmentOutput;

  //VTK::Select::Impl

  //VTK::TCoord::Impl

  //VTK::VolumePass::Impl

  // use the maximum (closest) of the current value and the zbuffer
  // the blend func will then take the min to find the farthest stop value
  var stopval: f32 = max(input.fragPos.z, textureLoad(opaquePassDepthTexture, vec2<i32>(i32(input.fragPos.x), i32(input.fragPos.y)), 0));

  //VTK::RenderEncoder::Impl
  return output;
}
`,gbe=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var computedColor: vec4<f32> = textureSample(volumePassColorTexture,
    volumePassColorTextureSampler, mapperUBO.tscale*input.tcoordVS);

  //VTK::RenderEncoder::Impl
  return output;
}
`;function _be(e,t){t.classHierarchy.push(`vtkWebGPUVolumePass`),e.initialize=n=>{t._clearEncoder||e.createClearEncoder(n),t._mergeEncoder||e.createMergeEncoder(n),t._copyEncoder||e.createCopyEncoder(n),t._depthRangeEncoder||e.createDepthRangeEncoder(n),t.fullScreenQuad||(t.fullScreenQuad=fbe.newInstance(),t.fullScreenQuad.setDevice(n.getDevice()),t.fullScreenQuad.setTextureViews([...t._depthRangeEncoder.getColorTextureViews()])),t._volumeCopyQuad||(t._volumeCopyQuad=P4.newInstance(),t._volumeCopyQuad.setPipelineHash(`volpassfsq`),t._volumeCopyQuad.setDevice(n.getDevice()),t._volumeCopyQuad.setFragmentShaderTemplate(gbe),t._copyUBO=i3.newInstance({label:`mapperUBO`}),t._copyUBO.addEntry(`tscale`,`vec2<f32>`),t._volumeCopyQuad.setUBO(t._copyUBO),t._volumeCopyQuad.setTextureViews([t._colorTextureView]))},e.traverse=(n,r)=>{if(t.deleted)return;t._currentParent=r,e.initialize(r),e.computeTiming(r),e.renderDepthBounds(n,r),t._firstGroup=!0;let i=r.getDevice(),a=i.getHandle().limits.maxSampledTexturesPerShaderStage-4;if(t.volumes.length>a){let i=n.getRenderable().getActiveCamera().getPosition(),o=[];for(let e=0;e<t.volumes.length;e++){let n=t.volumes[e].getRenderable().getBounds();o[e]=TZ([.5*(n[1]+n[0]),.5*(n[3]+n[2]),.5*(n[5]+n[4])],i)}let s=[...Array(t.volumes.length).keys()];s.sort((e,t)=>o[t]-o[e]);let c=[],l=s.length%a;for(let i=0;i<s.length;i++)c.push(t.volumes[s[i]]),c.length>=l&&(e.rayCastPass(r,n,c),c=[],l=a,t._firstGroup=!1)}else e.rayCastPass(r,n,t.volumes);if(t._volumeCopyQuad.setWebGPURenderer(n),t._useSmallViewport){let e=t._colorTextureView.getTexture().getWidth(),n=t._colorTextureView.getTexture().getHeight();t._copyUBO.setArray(`tscale`,[t._smallViewportWidth/e,t._smallViewportHeight/n])}else t._copyUBO.setArray(`tscale`,[1,1]);t._copyUBO.sendIfNeeded(i),t._copyEncoder.setColorTextureView(0,t.colorTextureView),t._copyEncoder.attachTextureViews(),t._copyEncoder.begin(r.getCommandEncoder()),n.scissorAndViewport(t._copyEncoder),t._volumeCopyQuad.prepareAndDraw(t._copyEncoder),t._copyEncoder.end()},e.delete=$.chain(()=>{t._animationRateSubscription&&=(t._animationRateSubscription.unsubscribe(),null)},e.delete),e.computeTiming=e=>{let n=e.getRenderable().getInteractor();t._lastScale??=t.volumes[0].getRenderable().getMapper().getInitialInteractionScale()||1,t._useSmallViewport=!1,n.isAnimating()&&t._lastScale>1.5&&(t._useSmallViewport=!0),t._colorTexture.resize(e.getCanvas().width,e.getCanvas().height),t._animationRateSubscription||=n.onAnimationFrameRateUpdate(()=>{let e=t.volumes[0].getRenderable().getMapper();if(e.getAutoAdjustSampleDistances()){let e=n.getRecentAnimationFrameRate();t._lastScale=t._lastScale*n.getDesiredUpdateRate()/e,t._lastScale>400&&(t._lastScale=400)}else t._lastScale=e.getImageSampleDistance()*e.getImageSampleDistance();t._lastScale<1.5&&(t._lastScale=1.5)})},e.rayCastPass=(e,n,r)=>{let i=t._firstGroup?t._clearEncoder:t._mergeEncoder;i.attachTextureViews(),i.begin(e.getCommandEncoder());let a=t._colorTextureView.getTexture().getWidth(),o=t._colorTextureView.getTexture().getHeight();if(t._useSmallViewport){let n=e.getCanvas(),r=1/Math.sqrt(t._lastScale);t._smallViewportWidth=Math.ceil(r*n.width),t._smallViewportHeight=Math.ceil(r*n.height),a=t._smallViewportWidth,o=t._smallViewportHeight}i.getHandle().setViewport(0,0,a,o,0,1),i.getHandle().setScissorRect(0,0,a,o),t.fullScreenQuad.setWebGPURenderer(n),t.fullScreenQuad.setVolumes(r),t.fullScreenQuad.prepareAndDraw(i),i.end()},e.renderDepthBounds=(n,r)=>{e.updateDepthPolyData(n);let i=t._boundsPoly,a=i.getPoints(),o=i.getPolys(),s={hash:`vp${o.getMTime()}`,usage:N8.Index,cells:o,numberOfPoints:a.getNumberOfPoints(),primitiveType:mbe.Triangles,representation:pbe.SURFACE},c=r.getDevice().getBufferManager().getBuffer(s);t._mapper.getVertexInput().setIndexBuffer(c),s={usage:N8.PointArray,format:`float32x4`,hash:`vp${a.getMTime()}${o.getMTime()}`,dataArray:a,indexBuffer:c,packExtra:!0};let l=r.getDevice().getBufferManager().getBuffer(s);t._mapper.getVertexInput().addBuffer(l,[`vertexBC`]),t._mapper.setNumberOfVertices(l.getSizeInBytes()/l.getStrideInBytes()),e.drawDepthRange(n,r)},e.updateDepthPolyData=e=>{let n=!1;for(let e=0;e<t.volumes.length;e++){let r=t.volumes[e].getMTime();(!t._lastMTimes[e]||r!==t._lastMTimes[e])&&(n=!0,t._lastMTimes[e]=r)}let r=e.getStabilizedTime();if((t._lastMTimes.length<=t.volumes.length||r!==t._lastMTimes[t.volumes.length])&&(n=!0,t._lastMTimes[t.volumes.length]=r),!n)return;let i=e.getStabilizedCenterByReference(),a=t.volumes.length*8,o=new Float64Array(a*3),s=t.volumes.length*12,c=new Uint16Array(s*4);for(let e=0;e<t.volumes.length;e++){t.volumes[e].getBoundingCubePoints(o,e*24);let n=e*12*4,r=e*8;for(let e=0;e<12;e++)c[n++]=3,c[n++]=r+P8[e][0],c[n++]=r+P8[e][1],c[n++]=r+P8[e][2]}for(let e=0;e<o.length;e+=3)o[e]-=i[0],o[e+1]-=i[1],o[e+2]-=i[2];t._boundsPoly.getPoints().setData(o,3),t._boundsPoly.getPoints().modified(),t._boundsPoly.getPolys().setData(c,1),t._boundsPoly.getPolys().modified(),t._boundsPoly.modified()},e.drawDepthRange=(n,r)=>{t._depthRangeTexture.resizeToMatch(t.colorTextureView.getTexture()),t._depthRangeTexture2.resizeToMatch(t.colorTextureView.getTexture()),t._depthRangeEncoder.attachTextureViews(),e.setCurrentOperation(`volumeDepthRangePass`),n.setRenderEncoder(t._depthRangeEncoder),n.volumeDepthRangePass(!0),t._mapper.setWebGPURenderer(n),t._mapper.prepareToDraw(t._depthRangeEncoder),t._mapper.registerDrawCallback(t._depthRangeEncoder),n.volumeDepthRangePass(!1)},e.createDepthRangeEncoder=e=>{let n=e.getDevice();t._depthRangeEncoder=D8.newInstance({label:`VolumePass DepthRange`}),t._depthRangeEncoder.setPipelineHash(`volr`),t._depthRangeEncoder.setReplaceShaderCodeFunction(e=>{let t=e.getShaderDescription(`fragment`);t.addOutput(`vec4<f32>`,`outColor1`),t.addOutput(`vec4<f32>`,`outColor2`);let n=t.getCode();n=w4.substitute(n,`//VTK::RenderEncoder::Impl`,[`output.outColor1 = vec4<f32>(input.fragPos.z, 0.0, 0.0, 0.0);`,`output.outColor2 = vec4<f32>(stopval, 0.0, 0.0, 0.0);`]).result,t.setCode(n)}),t._depthRangeEncoder.setDescription({colorAttachments:[{view:null,clearValue:[0,0,0,0],loadOp:`clear`,storeOp:`store`},{view:null,clearValue:[1,1,1,1],loadOp:`clear`,storeOp:`store`}]}),t._depthRangeEncoder.setPipelineSettings({primitive:{cullMode:`none`},fragment:{targets:[{format:`r16float`,blend:{color:{srcFactor:`one`,dstFactor:`one`,operation:`max`},alpha:{srcFactor:`one`,dstFactor:`one`,operation:`max`}}},{format:`r16float`,blend:{color:{srcFactor:`one`,dstFactor:`one`,operation:`min`},alpha:{srcFactor:`one`,dstFactor:`one`,operation:`min`}}}]}}),t._depthRangeTexture=D3.newInstance({label:`volumePassMaxDepth`}),t._depthRangeTexture.create(n,{width:e.getCanvas().width,height:e.getCanvas().height,format:`r16float`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING});let r=t._depthRangeTexture.createView(`maxTexture`);t._depthRangeEncoder.setColorTextureView(0,r),t._depthRangeTexture2=D3.newInstance({label:`volumePassDepthMin`}),t._depthRangeTexture2.create(n,{width:e.getCanvas().width,height:e.getCanvas().height,format:`r16float`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING});let i=t._depthRangeTexture2.createView(`minTexture`);t._depthRangeEncoder.setColorTextureView(1,i),t._mapper.setDevice(e.getDevice()),t._mapper.setTextureViews([t.depthTextureView])},e.createClearEncoder=e=>{t._colorTexture=D3.newInstance({label:`volumePassColor`}),t._colorTexture.create(e.getDevice(),{width:e.getCanvas().width,height:e.getCanvas().height,format:`bgra8unorm`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC}),t._colorTextureView=t._colorTexture.createView(`volumePassColorTexture`),t._colorTextureView.addSampler(e.getDevice(),{minFilter:`linear`,magFilter:`linear`}),t._clearEncoder=D8.newInstance({label:`VolumePass Clear`}),t._clearEncoder.setColorTextureView(0,t._colorTextureView),t._clearEncoder.setDescription({colorAttachments:[{view:null,clearValue:[0,0,0,0],loadOp:`clear`,storeOp:`store`}]}),t._clearEncoder.setPipelineHash(`volpf`),t._clearEncoder.setPipelineSettings({primitive:{cullMode:`none`},fragment:{targets:[{format:`bgra8unorm`,blend:{color:{srcFactor:`src-alpha`,dstFactor:`one-minus-src-alpha`},alpha:{srcFactor:`one`,dstFactor:`one-minus-src-alpha`}}}]}})},e.createCopyEncoder=e=>{t._copyEncoder=D8.newInstance({label:`volumePassCopy`}),t._copyEncoder.setDescription({colorAttachments:[{view:null,loadOp:`load`,storeOp:`store`}]}),t._copyEncoder.setPipelineHash(`volcopypf`),t._copyEncoder.setPipelineSettings({primitive:{cullMode:`none`},fragment:{targets:[{format:`rgba16float`,blend:{color:{srcFactor:`one`,dstFactor:`one-minus-src-alpha`},alpha:{srcFactor:`one`,dstFactor:`one-minus-src-alpha`}}}]}})},e.createMergeEncoder=e=>{t._mergeEncoder=D8.newInstance({label:`volumePassMerge`}),t._mergeEncoder.setColorTextureView(0,t._colorTextureView),t._mergeEncoder.setDescription({colorAttachments:[{view:null,loadOp:`load`,storeOp:`store`}]}),t._mergeEncoder.setReplaceShaderCodeFunction(e=>{let t=e.getShaderDescription(`fragment`);t.addOutput(`vec4<f32>`,`outColor`);let n=t.getCode();n=w4.substitute(n,`//VTK::RenderEncoder::Impl`,[`output.outColor = vec4<f32>(computedColor.rgb, computedColor.a);`]).result,t.setCode(n)}),t._mergeEncoder.setPipelineHash(`volpf`),t._mergeEncoder.setPipelineSettings({primitive:{cullMode:`none`},fragment:{targets:[{format:`bgra8unorm`,blend:{color:{srcFactor:`src-alpha`,dstFactor:`one-minus-src-alpha`},alpha:{srcFactor:`one`,dstFactor:`one-minus-src-alpha`}}}]}})},e.setVolumes=n=>{if(!t.volumes||t.volumes.length!==n.length){t.volumes=[...n],e.modified();return}for(let r=0;r<n.length;r++)if(n[r]!==t.volumes[r]){t.volumes=[...n],e.modified();return}}}var vbe={colorTextureView:null,depthTextureView:null,volumes:null};function F8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,vbe,n),q6.extend(e,t,n),t._mapper=M4.newInstance(),t._mapper.setFragmentShaderTemplate(hbe),t._mapper.getShaderReplacements().set(`replaceShaderVolumePass`,(e,t,n)=>{t.getShaderDescription(`fragment`).addBuiltinInput(`vec4<f32>`,`@builtin(position) fragPos`)}),t._boundsPoly=Y0.newInstance(),t._lastMTimes=[],$.setGet(e,t,[`colorTextureView`,`depthTextureView`]),_be(e,t)}var ybe={newInstance:$.newInstance(F8,`vtkWebGPUVolumePass`),extend:F8},bbe=`
//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var computedColor: vec4<f32> = clamp(textureSampleLevel(opaquePassColorTexture, finalPassSampler, input.tcoordVS, 0.0),vec4<f32>(0.0),vec4<f32>(1.0));

  //VTK::RenderEncoder::Impl
  return output;
}
`;function xbe(e,t){t.classHierarchy.push(`vtkForwardPass`),e.traverse=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(t.deleted)return;t._currentParent=r,e.setCurrentOperation(`buildPass`),n.traverse(e),t.opaquePass||=ibe.newInstance();let i=n.getRenderable().getNumberOfLayers(),a=n.getChildren();for(let r=0;r<i;r++)for(let i=0;i<a.length;i++){let o=a[i],s=n.getRenderable().getRenderers()[i];s.getDraw()&&s.getLayer()===r&&(t.opaqueActorCount=0,t.translucentActorCount=0,t.volumes=[],e.setCurrentOperation(`queryPass`),o.traverse(e),e.setCurrentOperation(`cameraPass`),o.traverse(e),t.opaquePass.traverse(o,n),t.translucentActorCount>0&&(t.translucentPass||=cbe.newInstance(),t.translucentPass.setColorTextureView(t.opaquePass.getColorTextureView()),t.translucentPass.setDepthTextureView(t.opaquePass.getDepthTextureView()),t.translucentPass.traverse(o,n)),t.volumes.length>0&&(t.volumePass||=ybe.newInstance(),t.volumePass.setColorTextureView(t.opaquePass.getColorTextureView()),t.volumePass.setDepthTextureView(t.opaquePass.getDepthTextureView()),t.volumePass.setVolumes(t.volumes),t.volumePass.traverse(o,n)),e.finalPass(n,o))}},e.finalPass=(n,r)=>{t._finalBlitEncoder||e.createFinalBlitEncoder(n),t._finalBlitOutputTextureView.createFromTextureHandle(n.getCurrentTexture(),{depth:1,format:n.getPresentationFormat()}),t._finalBlitEncoder.attachTextureViews(),t._finalBlitEncoder.begin(n.getCommandEncoder()),r.scissorAndViewport(t._finalBlitEncoder),t._fullScreenQuad.prepareAndDraw(t._finalBlitEncoder),t._finalBlitEncoder.end()},e.createFinalBlitEncoder=e=>{t._finalBlitEncoder=D8.newInstance({label:`forwardPassBlit`}),t._finalBlitEncoder.setDescription({colorAttachments:[{view:null,loadOp:`load`,storeOp:`store`}]}),t._finalBlitEncoder.setPipelineHash(`fpf`),t._finalBlitEncoder.setPipelineSettings({primitive:{cullMode:`none`},fragment:{targets:[{format:e.getPresentationFormat(),blend:{color:{srcFactor:`src-alpha`,dstFactor:`one-minus-src-alpha`},alpha:{srcFactor:`one`,dstFactor:`one-minus-src-alpha`}}}]}}),t._fsqSampler=C3.newInstance({label:`finalPassSampler`}),t._fsqSampler.create(e.getDevice(),{minFilter:`linear`,magFilter:`linear`}),t._fullScreenQuad=P4.newInstance(),t._fullScreenQuad.setDevice(e.getDevice()),t._fullScreenQuad.setPipelineHash(`fpfsq`),t._fullScreenQuad.setTextureViews([t.opaquePass.getColorTextureView()]),t._fullScreenQuad.setAdditionalBindables([t._fsqSampler]),t._fullScreenQuad.setFragmentShaderTemplate(bbe),t._finalBlitOutputTextureView=T3.newInstance(),t._finalBlitEncoder.setColorTextureView(0,t._finalBlitOutputTextureView)},e.incrementOpaqueActorCount=()=>t.opaqueActorCount++,e.incrementTranslucentActorCount=()=>t.translucentActorCount++,e.addVolume=e=>{t.volumes.push(e)}}var Sbe={opaqueActorCount:0,translucentActorCount:0,volumes:null,opaqueRenderEncoder:null,translucentPass:null,volumePass:null};function I8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Sbe,n),q6.extend(e,t,n),$.setGet(e,t,[`opaquePass`,`translucentPass`,`volumePass`]),xbe(e,t)}var Cbe={newInstance:$.newInstance(I8,`vtkForwardPass`),extend:I8},{VtkDataTypes:L8}=l1;function wbe(e,t){t.classHierarchy.push(`vtkWebGPUTextureManager`);function n(e){if(e.imageData){e.dataArray=e.imageData.getPointData().getScalars(),e.time=e.dataArray.getMTime(),e.nativeArray=e.dataArray.getData();let t=e.imageData.getDimensions();switch(e.width=t[0],e.height=t[1],e.depth=t[2],e.dataArray.getNumberOfComponents()){case 1:e.format=`r`;break;case 2:e.format=`rg`;break;case 3:case 4:default:e.format=`rgba`;break}switch(e.dataArray.getDataType()){case L8.UNSIGNED_CHAR:e.format+=`8unorm`;break;case L8.FLOAT:case L8.UNSIGNED_INT:case L8.INT:case L8.DOUBLE:case L8.UNSIGNED_SHORT:case L8.SHORT:default:e.format+=`16float`;break}}e.image&&(e.width=e.image.width,e.height=e.image.height,e.depth=1,e.format=`rgba8unorm`,e.flip=!0,e.usage=GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT),e.jsImageData&&(e.width=e.jsImageData.width,e.height=e.jsImageData.height,e.depth=1,e.format=`rgba8unorm`,e.flip=!0,e.nativeArray=e.jsImageData.data,e.usage=GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT),e.imageBitmap&&(e.width=e.imageBitmap.width,e.height=e.imageBitmap.height,e.depth=1,e.format=`rgba8unorm`,e.flip=!0,e.usage=GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT),e.canvas&&(e.width=e.canvas.width,e.height=e.canvas.height,e.depth=1,e.format=`rgba8unorm`,e.flip=!0,e.usage=GPUTextureUsage.STORAGE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT)}function r(e){let n=D3.newInstance({label:e.label});return n.create(t.device,{width:e.width,height:e.height,depth:e.depth,format:e.format,usage:e.usage,mipLevel:e.mipLevel}),(e.nativeArray||e.image||e.canvas||e.imageBitmap)&&n.writeImageData(e),n}e.getTexture=e=>e.hash?t.device.getCachedObject(e.hash,r,e):r(e),e.getTextureForImageData=e=>{let r={time:e.getMTime()};return r.imageData=e,n(r),r.hash=r.time+r.format+r.mipLevel,t.device.getTextureManager().getTexture(r)},e.getTextureForVTKTexture=function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i={time:e.getMTime(),label:r};return e.getInputData()?i.imageData=e.getInputData():e.getImage()?i.image=e.getImage():e.getJsImageData()?i.jsImageData=e.getJsImageData():e.getImageBitmap()?i.imageBitmap=e.getImageBitmap():e.getCanvas()&&(i.canvas=e.getCanvas()),n(i),i.mipLevel=e.getMipLevel(),i.hash=i.time+i.format+i.mipLevel,t.device.getTextureManager().getTexture(i)}}var Tbe={handle:null,device:null};function R8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Tbe,n),$.obj(e,t),$.setGet(e,t,[`device`]),wbe(e,t)}var Ebe={newInstance:$.newInstance(R8),extend:R8},Dbe=class extends Map{constructor(){super(),this.registry=new FinalizationRegistry(e=>{let t=super.get(e);t&&t.deref&&t.deref()===void 0&&super.delete(e)})}getValue(e){let t=super.get(e);if(t){let n=t.deref();if(n!==void 0)return n;super.delete(e)}}setValue(e,t){let n;return t&&typeof t==`object`&&(n=new WeakRef(t),this.registry.register(t,e),super.set(e,n)),n}};function Obe(e,t){t.classHierarchy.push(`vtkWebGPUDevice`),e.initialize=e=>{t.handle=e},e.createCommandEncoder=()=>t.handle.createCommandEncoder(),e.submitCommandEncoder=e=>{t.handle.queue.submit([e.finish()])},e.getShaderModule=e=>t.shaderCache.getShaderModule(e),e.getBindGroupLayout=e=>{if(!e.entries)return null;for(let t=0;t<e.entries.length;t++){let n=e.entries[t];n.binding=n.binding||0,n.visibility=n.visibility||GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT}let n=JSON.stringify(e);for(let e=0;e<t.bindGroupLayouts.length;e++)if(t.bindGroupLayouts[e].sval===n)return t.bindGroupLayouts[e].layout;let r=t.handle.createBindGroupLayout(e);return t.bindGroupLayouts.push({sval:n,layout:r}),r},e.getBindGroupLayoutDescription=e=>{for(let n=0;n<t.bindGroupLayouts.length;n++)if(t.bindGroupLayouts[n].layout===e)return t.bindGroupLayouts[n].sval;return vtkErrorMacro(`layout not found`),console.trace(),null},e.getPipeline=e=>e in t.pipelines?t.pipelines[e]:null,e.createPipeline=(n,r)=>{r.initialize(e,n),t.pipelines[n]=r},e.onSubmittedWorkDone=()=>t.handle.queue.onSubmittedWorkDone(),e.hasCachedObject=e=>t.objectCache.getValue(e),e.getCachedObject=function(e,n){if(!e)return vtkErrorMacro(`attempt to cache an object without a hash`),null;let r=t.objectCache.getValue(e);if(r)return r;let i=n(...[...arguments].slice(2));return t.objectCache.setValue(e,i),i}}var kbe={handle:null,pipelines:null,shaderCache:null,bindGroupLayouts:null,bufferManager:null,textureManager:null};function z8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,kbe,n),uq(e,t),gq(e,t,[`handle`]),fq(e,t,[`bufferManager`,`shaderCache`,`textureManager`]),t.objectCache=new Dbe,t.shaderCache=w4.newInstance(),t.shaderCache.setDevice(e),t.bindGroupLayouts=[],t.bufferManager=Q4.newInstance(),t.bufferManager.setDevice(e),t.textureManager=Ebe.newInstance(),t.textureManager.setDevice(e),t.pipelines={},Obe(e,t)}var Abe={newInstance:wq(z8,`vtkWebGPUDevice`),extend:z8};function jbe(e,t){t.classHierarchy.push(`vtkWebGPUHardwareSelectionPass`),e.traverse=(n,r)=>{if(t.deleted)return;t._currentParent=null,e.setCurrentOperation(`buildPass`),n.traverse(e);let i=n.getDevice();if(t.selectionRenderEncoder)t.colorTexture.resize(n.getCanvas().width,n.getCanvas().height),t.depthTexture.resizeToMatch(t.colorTexture);else{e.createRenderEncoder(),t.colorTexture=D3.newInstance({label:`hardwareSelectorColor`}),t.colorTexture.create(i,{width:n.getCanvas().width,height:n.getCanvas().height,format:`rgba32uint`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC});let r=t.colorTexture.createView(`hardwareSelectColorTexture`);t.selectionRenderEncoder.setColorTextureView(0,r),t.depthTexture=D3.newInstance({label:`hardwareSelectorDepth`}),t.depthTexture.create(i,{width:n.getCanvas().width,height:n.getCanvas().height,format:`depth32float`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC});let a=t.depthTexture.createView(`hardwareSelectDepthTexture`);t.selectionRenderEncoder.setDepthTextureView(a)}t.selectionRenderEncoder.attachTextureViews(),r.setRenderEncoder(t.selectionRenderEncoder),e.setCurrentOperation(`cameraPass`),r.traverse(e),e.setCurrentOperation(`opaquePass`),r.traverse(e)},e.createRenderEncoder=()=>{t.selectionRenderEncoder=D8.newInstance({label:`HardwareSelectionPass`}),t.selectionRenderEncoder.setPipelineHash(`sel`),t.selectionRenderEncoder.setReplaceShaderCodeFunction(e=>{let t=e.getShaderDescription(`fragment`);t.addOutput(`vec4<u32>`,`outColor`);let n=t.getCode();n=w4.substitute(n,`//VTK::RenderEncoder::Impl`,[`output.outColor = vec4<u32>(mapperUBO.PropID, compositeID, 0u, 0u);`]).result,t.setCode(n)});let e=t.selectionRenderEncoder.getDescription();e.colorAttachments[0].clearValue=[0,0,0,0],t.selectionRenderEncoder.setPipelineSettings({primitive:{cullMode:`none`},depthStencil:{depthWriteEnabled:!0,depthCompare:`greater`,format:`depth32float`},fragment:{targets:[{format:`rgba32uint`,blend:void 0}]}})}}var Mbe={selectionRenderEncoder:null,colorTexture:null,depthTexture:null};function B8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Mbe,n),q6.extend(e,t,n),$.get(e,t,[`colorTexture`,`depthTexture`]),jbe(e,t)}var Nbe={newInstance:$.newInstance(B8,`vtkWebGPUHardwareSelectionPass`),extend:B8},{SelectionContent:Pbe,SelectionField:V8}=e8,{FieldAssociations:H8}=S1,{vtkErrorMacro:U8}=$;function Fbe(e){return`${e.propID} ${e.compositeID}`}function W8(e,t,n,r){let i=((n.height-t-1)*n.colorBufferWidth+e)*4+r;return n.colorValues[i]}function G8(e,t,n,r){let i=n<0?0:n;if(i===0){if(r[0]=t[0],r[1]=t[1],t[0]<0||t[0]>=e.width||t[1]<0||t[1]>=e.height)return null;let n=W8(t[0],t[1],e,0);if(n<=0)return null;let i={};i.propID=n;let a=W8(t[0],t[1],e,1);if((a<0||a>16777215)&&(a=0),i.compositeID=a,e.captureZValues){let n=(e.height-t[1]-1)*e.zbufferBufferWidth+t[0];i.zValue=e.depthValues[n],i.zValue=e.webGPURenderer.convertToOpenGLDepth(i.zValue),i.displayPosition=t}return i}let a=[t[0],t[1]],o=[0,0],s=G8(e,t,0,r);if(s)return s;for(let t=1;t<i;++t){for(let n=a[1]>t?a[1]-t:0;n<=a[1]+t;++n)if(o[1]=n,a[0]>=t&&(o[0]=a[0]-t,s=G8(e,o,0,r),s)||(o[0]=a[0]+t,s=G8(e,o,0,r),s))return s;for(let n=a[0]>=t?a[0]-(t-1):0;n<=a[0]+(t-1);++n)if(o[0]=n,a[1]>=t&&(o[1]=a[1]-t,s=G8(e,o,0,r),s)||(o[1]=a[1]+t,s=G8(e,o,0,r),s))return s}return r[0]=t[0],r[1]=t[1],null}function Ibe(e,t,n){let r=[],i=0;return t.forEach((t,a)=>{let o=e8.newInstance();switch(o.setContentType(Pbe.INDICES),e){case H8.FIELD_ASSOCIATION_CELLS:o.setFieldType(V8.CELL);break;case H8.FIELD_ASSOCIATION_POINTS:o.setFieldType(V8.POINT);break;default:U8(`Unknown field association`)}o.getProperties().propID=t.info.propID;let s=n.webGPURenderer.getPropFromID(t.info.propID);o.getProperties().prop=s.getRenderable(),o.getProperties().compositeID=t.info.compositeID,o.getProperties().pixelCount=t.pixelCount,n.captureZValues&&(o.getProperties().displayPosition=[t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue],o.getProperties().worldPosition=n.webGPURenderWindow.displayToWorld(t.info.displayPosition[0],t.info.displayPosition[1],t.info.zValue,n.renderer)),o.setSelectionList(t.attributeIDs),r[i]=o,i++}),r}function Lbe(e,t,n,r,i){let a=Math.floor(t),o=Math.floor(n),s=Math.floor(r),c=Math.floor(i),l=new Map,u=[0,0];for(let t=o;t<=c;t++)for(let n=a;n<=s;n++){let r=G8(e,[n,t],0,u);if(r){let t=Fbe(r);if(!l.has(t))l.set(t,{info:r,pixelCount:1,attributeIDs:[r.attributeID]});else{let n=l.get(t);n.pixelCount++,e.captureZValues&&r.zValue<n.info.zValue&&(n.info=r),n.attributeIDs.indexOf(r.attributeID)===-1&&n.attributeIDs.push(r.attributeID)}}}return Ibe(e.fieldAssociation,l,e)}function Rbe(e,t){t.classHierarchy.push(`vtkWebGPUHardwareSelector`),e.endSelection=()=>{t.WebGPURenderer.setSelector(null)},e.getSourceDataAsync=async e=>{if(!e||!t._WebGPURenderWindow)return U8(`Renderer and view must be set before calling Select.`),!1;t._WebGPURenderWindow.getRenderable().preRender(),t._WebGPURenderWindow.getInitialized()||(t._WebGPURenderWindow.initialize(),await new Promise(e=>{t._WebGPURenderWindow.onInitialized(e)}));let n=t._WebGPURenderWindow.getViewNodeFor(e);if(!n)return!1;let r=n.getSuppressClear();n.setSuppressClear(!0),t._selectionPass.traverse(t._WebGPURenderWindow,n),n.setSuppressClear(r);let i=t._WebGPURenderWindow.getDevice(),a=t._selectionPass.getColorTexture(),o=t._selectionPass.getDepthTexture(),s={area:[0,0,a.getWidth()-1,a.getHeight()-1],captureZValues:t.captureZValues,fieldAssociation:t.fieldAssociation,renderer:e,webGPURenderer:n,webGPURenderWindow:t._WebGPURenderWindow,width:a.getWidth(),height:a.getHeight()};s.colorBufferWidth=16*Math.floor((s.width+15)/16),s.colorBufferSizeInBytes=s.colorBufferWidth*s.height*4*4;let c=R4.newInstance({label:`hardwareSelectColorBuffer`});c.setDevice(i),c.create(s.colorBufferSizeInBytes,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);let l=t._WebGPURenderWindow.getCommandEncoder();l.copyTextureToBuffer({texture:a.getHandle()},{buffer:c.getHandle(),bytesPerRow:16*s.colorBufferWidth,rowsPerImage:s.height},{width:s.width,height:s.height,depthOrArrayLayers:1});let u;t.captureZValues&&(s.zbufferBufferWidth=64*Math.floor((s.width+63)/64),u=R4.newInstance({label:`hardwareSelectDepthBuffer`}),u.setDevice(i),s.zbufferSizeInBytes=s.height*s.zbufferBufferWidth*4,u.create(s.zbufferSizeInBytes,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST),l.copyTextureToBuffer({texture:o.getHandle(),aspect:`depth-only`},{buffer:u.getHandle(),bytesPerRow:4*s.zbufferBufferWidth,rowsPerImage:s.height},{width:s.width,height:s.height,depthOrArrayLayers:1})),i.submitCommandEncoder(l);let d=c.mapAsync(GPUMapMode.READ);if(t.captureZValues){let e=u.mapAsync(GPUMapMode.READ);await Promise.all([d,e]),s.depthValues=new Float32Array(u.getMappedRange().slice()),u.unmap()}else await d;return s.colorValues=new Uint32Array(c.getMappedRange().slice()),c.unmap(),s.generateSelection=(e,t,n,r)=>Lbe(s,e,t,n,r),s}}var zbe={};function K8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,zbe,n),Q6.extend(e,t,n),t._selectionPass=Nbe.newInstance(),$.setGet(e,t,[`_WebGPURenderWindow`]),$.moveToProtected(e,t,[`WebGPURenderWindow`]),Rbe(e,t)}var q8={newInstance:$.newInstance(K8,`vtkWebGPUHardwareSelector`),extend:K8},{vtkErrorMacro:J8}=$,Bbe={position:`absolute`,top:0,left:0,width:`100%`,height:`100%`};function Vbe(e,t){t.classHierarchy.push(`vtkWebGPURenderWindow`),e.getViewNodeFactory=()=>t.myFactory;let n=[0,0];function r(){t.renderable&&(t.size[0]!==n[0]||t.size[1]!==n[1])&&(n[0]=t.size[0],n[1]=t.size[1],t.canvas.setAttribute(`width`,t.size[0]),t.canvas.setAttribute(`height`,t.size[1]),e.recreateSwapChain()),t.viewStream&&t.viewStream.setSize(t.size[0],t.size[1]),t.canvas.style.display=t.useOffScreen?`none`:`block`,t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:`none`),t.containerSize=null}e.onModified(r),e.recreateSwapChain=()=>{t.context&&(t.context.unconfigure(),t.presentationFormat=navigator.gpu.getPreferredCanvasFormat(t.adapter),t.context.configure({device:t.device.getHandle(),format:t.presentationFormat,alphaMode:`premultiplied`,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST,width:t.size[0],height:t.size[1]}),t._configured=!0)},e.getCurrentTexture=()=>t.context.getCurrentTexture(),e.buildPass=n=>{if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getRenderersByReference()),e.removeUnusedNodes(),e.initialize()}else t.initialized&&(t._configured||e.recreateSwapChain(),t.commandEncoder=t.device.createCommandEncoder())},e.initialize=()=>{if(!t.initializing){if(t.initializing=!0,!navigator.gpu){J8(`WebGPU is not enabled.`);return}e.create3DContextAsync().then(()=>{t.initialized=!0,!t.deleted&&e.invokeInitialized()})}},e.setContainer=n=>{t.el&&t.el!==n&&(t.canvas.parentNode!==t.el&&J8(`Error: canvas parent node does not match container`),t.el.removeChild(t.canvas),t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)),t.el!==n&&(t.el=n,t.el&&(t.el.appendChild(t.canvas),t.useBackgroundImage&&t.el.appendChild(t.bgImage)),e.modified())},e.getContainer=()=>t.el,e.getContainerSize=()=>{if(!t.containerSize&&t.el){let{width:e,height:n}=t.el.getBoundingClientRect();t.containerSize=[e,n]}return t.containerSize||t.size},e.getFramebufferSize=()=>t.size,e.create3DContextAsync=async()=>{if(t.adapter=await navigator.gpu.requestAdapter({powerPreference:`high-performance`}),!t.deleted){if(t.device=Abe.newInstance(),t.device.initialize(await t.adapter.requestDevice()),t.deleted){t.device=null;return}t.context=t.canvas.getContext(`webgpu`)}},e.releaseGraphicsResources=()=>{let n=q6.newInstance();n.setCurrentOperation(`Release`),n.traverse(e,null),t.adapter=null,t.device=null,t.context=null,t.initialized=!1,t.initializing=!1},e.setBackgroundImage=e=>{t.bgImage.src=e.src},e.setUseBackgroundImage=e=>{t.useBackgroundImage=e,t.useBackgroundImage&&!t.el.contains(t.bgImage)?t.el.appendChild(t.bgImage):!t.useBackgroundImage&&t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)};async function i(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.imageFormat,r=document.createElement(`canvas`),i=r.getContext(`2d`);r.width=t.canvas.width,r.height=t.canvas.height;let a=await e.getPixelsAsync(),o=new ImageData(a.colorValues,a.width,a.height);i.putImageData(o,0,0);let s=t.canvas.getBoundingClientRect();t.renderable.getRenderers().forEach(e=>{e.getViewProps().forEach(e=>{if(e.getContainer){let t=e.getContainer().getElementsByTagName(`canvas`);for(let e=0;e<t.length;e++){let n=t[e],r=n.getBoundingClientRect(),a=r.x-s.x,o=r.y-s.y;i.drawImage(n,a,o)}}})});let c=r.toDataURL(n);r.remove(),e.invokeImageReady(c)}e.captureNextImage=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`image/png`,{resetCamera:r=!1,size:i=null,scale:a=1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.deleted)return null;t.imageFormat=n;let o=t.notifyStartCaptureImage;return t.notifyStartCaptureImage=!0,t._screenshot={size:i||a!==1?i||t.size.map(e=>e*a):null},new Promise((n,i)=>{let a=e.onImageReady(i=>{if(t._screenshot.size===null)t.notifyStartCaptureImage=o,a.unsubscribe(),t._screenshot.placeHolder&&(t.size=t._screenshot.originalSize,e.modified(),t._screenshot.cameras&&t._screenshot.cameras.forEach(e=>{let{restoreParamsFn:t,arg:n}=e;return t(n)}),e.traverseAllPasses(),t.el.removeChild(t._screenshot.placeHolder),t._screenshot.placeHolder.remove(),t._screenshot=null),n(i);else{let n=document.createElement(`img`);if(n.style=Bbe,n.src=i,t._screenshot.placeHolder=t.el.appendChild(n),t.canvas.style.display=`none`,t._screenshot.originalSize=t.size,t.size=t._screenshot.size,t._screenshot.size=null,e.modified(),r){let e=r!==!0;t._screenshot.cameras=t.renderable.getRenderers().map(t=>{let n=t.getActiveCamera(),i=n.get(`focalPoint`,`position`,`parallelScale`);return{resetCameraArgs:e?{renderer:t}:void 0,resetCameraFn:e?r:t.resetCamera,restoreParamsFn:n.set,arg:JSON.parse(JSON.stringify(i))}}),t._screenshot.cameras.forEach(e=>{let{resetCameraFn:t,resetCameraArgs:n}=e;return t(n)})}e.traverseAllPasses()}})})},e.traverseAllPasses=()=>{if(!t.deleted)if(t.initialized){if(t.renderPasses)for(let n=0;n<t.renderPasses.length;++n)t.renderPasses[n].traverse(e,null);t.commandEncoder&&(t.device.submitCommandEncoder(t.commandEncoder),t.commandEncoder=null,t.notifyStartCaptureImage&&t.device.onSubmittedWorkDone().then(()=>{i()}))}else{e.initialize();let t=e.onInitialized(()=>{t.unsubscribe(),e.traverseAllPasses()})}},e.setViewStream=n=>{if(t.viewStream===n)return!1;if(t.subscription&&=(t.subscription.unsubscribe(),null),t.viewStream=n,t.viewStream){let n=t.renderable.getRenderers()[0];n.getBackgroundByReference()[3]=0,e.setUseBackgroundImage(!0),t.subscription=t.viewStream.onImageReady(t=>e.setBackgroundImage(t.image)),t.viewStream.setSize(t.size[0],t.size[1]),t.viewStream.invalidateCache(),t.viewStream.render(),e.modified()}return!0},e.getUniquePropID=()=>t.nextPropID++,e.getPropFromID=e=>{for(let n=0;n<t.children.length;n++){let r=t.children[n].getPropFromID(e);if(r!==null)return r}return null},e.getPixelsAsync=async()=>{let e=t.device,n=t.renderPasses[0].getOpaquePass().getColorTexture(),r={width:n.getWidth(),height:n.getHeight()};r.colorBufferWidth=32*Math.floor((r.width+31)/32),r.colorBufferSizeInBytes=r.colorBufferWidth*r.height*8;let i=R4.newInstance();i.setDevice(e),i.create(r.colorBufferSizeInBytes,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);let a=t.device.createCommandEncoder();a.copyTextureToBuffer({texture:n.getHandle()},{buffer:i.getHandle(),bytesPerRow:8*r.colorBufferWidth,rowsPerImage:r.height},{width:r.width,height:r.height,depthOrArrayLayers:1}),e.submitCommandEncoder(a),await i.mapAsync(GPUMapMode.READ),r.colorValues=new Uint16Array(i.getMappedRange().slice()),i.unmap();let o=new Uint8ClampedArray(r.height*r.width*4);for(let e=0;e<r.height;e++)for(let t=0;t<r.width;t++){let n=(e*r.width+t)*4,i=(e*r.colorBufferWidth+t)*4;o[n]=255*P2.fromHalf(r.colorValues[i]),o[n+1]=255*P2.fromHalf(r.colorValues[i+1]),o[n+2]=255*P2.fromHalf(r.colorValues[i+2]),o[n+3]=255*P2.fromHalf(r.colorValues[i+3])}return r.colorValues=o,r},e.createSelector=()=>{let t=q8.newInstance();return t.setWebGPURenderWindow(e),t};let a=e.setSize;e.setSize=(t,n)=>{let r=a(t,n);return r&&e.invokeWindowResizeEvent({width:t,height:n}),r},e.delete=$.chain(e.delete,e.setViewStream)}var Hbe={initialized:!1,context:null,adapter:null,device:null,canvas:null,cursorVisibility:!0,cursor:`pointer`,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,imageFormat:`image/png`,useOffScreen:!1,useBackgroundImage:!1,nextPropID:1,xrSupported:!1,presentationFormat:null};function Ube(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Hbe,n),t.canvas=document.createElement(`canvas`),t.canvas.style.width=`100%`,t.bgImage=new Image,t.bgImage.style.position=`absolute`,t.bgImage.style.left=`0`,t.bgImage.style.top=`0`,t.bgImage.style.width=`100%`,t.bgImage.style.height=`100%`,t.bgImage.style.zIndex=`-1`,_8.extend(e,t,n),t.myFactory=Ohe.newInstance(),t.renderPasses[0]=Cbe.newInstance(),t.selector||(t.selector=q8.newInstance(),t.selector.setWebGPURenderWindow(e)),$.event(e,t,`imageReady`),$.event(e,t,`initialized`),$.get(e,t,[`commandEncoder`,`device`,`presentationFormat`,`useBackgroundImage`,`xrSupported`]),$.setGet(e,t,[`initialized`,`context`,`canvas`,`device`,`renderPasses`,`notifyStartCaptureImage`,`cursor`,`useOffScreen`]),$.setGetArray(e,t,[`size`],2),$.event(e,t,`windowResizeEvent`),Vbe(e,t)}var Y8=$.newInstance(Ube,`vtkWebGPURenderWindow`);b6(`WebGPU`,Y8),v4(`vtkRenderWindow`,Y8);var Wbe=pye.extractURLParameters();function Gbe(e,t){let n=e.invokeResize;delete e.invokeResize,t.renderWindow=qve.newInstance(),t.renderer=v6.newInstance(),t.renderWindow.addRenderer(t.renderer),t._apiSpecificRenderWindow=t.renderWindow.newAPISpecificView(Wbe.viewAPI??t.defaultViewAPI),t.renderWindow.addView(t._apiSpecificRenderWindow),t.interactor=I6.newInstance(),t.interactor.setInteractorStyle(W6.newInstance()),t.interactor.setView(t._apiSpecificRenderWindow),t.interactor.initialize(),e.setBackground=t.renderer.setBackground,e.setBackground(...t.background),e.resize=()=>{if(t.container){let e=t.container.getBoundingClientRect(),r=window.devicePixelRatio||1;t._apiSpecificRenderWindow.setSize(Math.floor(e.width*r),Math.floor(e.height*r)),n(),t.renderWindow.render()}},e.setContainer=e=>{t.container&&t.interactor.unbindEvents(t.container),t.container=e,t._apiSpecificRenderWindow.setContainer(t.container),t.container&&t.interactor.bindEvents(t.container)},e.delete=$.chain(e.setContainer,t._apiSpecificRenderWindow.delete,()=>{window.removeEventListener(`resize`,e.resize)},e.delete),t.listenWindowResize&&window.addEventListener(`resize`,e.resize),e.resize()}var Kbe={background:[.32,.34,.43],listenWindowResize:!0,container:null};function X8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Kbe,n),$.obj(e,t),$.get(e,t,[`renderWindow`,`renderer`,`_apiSpecificRenderWindow`,`interactor`,`container`]),$.moveToProtected(e,t,[`_apiSpecificRenderWindow`]),$.event(e,t,`resize`),Gbe(e,t)}var qbe={newInstance:$.newInstance(X8),extend:X8};function Jbe(e,t){t.classHierarchy.push(`vtkConeSource`),e.requestData=(e,n)=>{let r=2*Math.PI/t.resolution,i=-t.height/2,a=t.resolution+1,o=4*t.resolution+1+t.resolution,s=0,c=$.newTypedArray(t.pointType,a*3),l=0,u=new Uint32Array(o);c[0]=t.height/2,c[1]=0,c[2]=0,t.capping&&(u[l++]=t.resolution);for(let e=0;e<t.resolution;e++)s++,c[s*3+0]=i,c[s*3+1]=t.radius*Math.cos(e*r),c[s*3+2]=t.radius*Math.sin(e*r),t.capping&&(u[t.resolution-l+++1]=s);for(let e=0;e<t.resolution;e++)u[l++]=3,u[l++]=0,u[l++]=e+1,u[l++]=e+2>t.resolution?1:e+2;N3.buildFromRadian().translate(...t.center).rotateFromDirections([1,0,0],t.direction).apply(c);let d=n[0]?.initialize()||Y0.newInstance();d.getPoints().setData(c,3),d.getPolys().setData(u,1),n[0]=d}}var Ybe={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:`Float64Array`};function Z8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Ybe,n),$.obj(e,t),$.setGet(e,t,[`height`,`radius`,`resolution`,`capping`]),$.setGetArray(e,t,[`center`,`direction`],3),$.algo(e,t,0,1),Jbe(e,t)}var Q8={newInstance:$.newInstance(Z8,`vtkConeSource`),extend:Z8},{vtkErrorMacro:Xbe}=$;function Zbe(e,t){let n=0;return e.map((e,r)=>r===n?(n+=e+1,e):e+t)}function $8(e,t,n,r){e.set(Zbe(t,n),r)}function Qbe(e,t){t.classHierarchy.push(`vtkAppendPolyData`),e.requestData=(n,r)=>{let i=e.getNumberOfInputPorts();if(!i){Xbe(`No input specified.`);return}if(i===1){r[0]=n[0];return}let a=r[0]&&n[0]!==r[0]?r[0].initialize():Y0.newInstance(),o=0,s=0,c=1,l=1,u=0,d=0,f=0,p=0,m=!0,h=!0,g=!0;for(let e=0;e<i;e++){let t=n[e];if(!t)continue;let r=t.getPoints().getNumberOfPoints();o+=r,u+=t.getVerts().getNumberOfValues(),d+=t.getLines().getNumberOfValues(),f+=t.getStrips().getNumberOfValues(),p+=t.getPolys().getNumberOfValues(),r&&(l&&(l=0,s=t.getPoints().getDataType()),c=t.getPoints().getDataType(),s=s>c?s:c);let i=t.getPointData();i?(m&&=i.getNormals()!==null,h&&=i.getTCoords()!==null,g&&=i.getScalars()!==null):(m=!1,h=!1,g=!1)}t.outputPointsPrecision===p1.SINGLE?s=t1.FLOAT:t.outputPointsPrecision===p1.DOUBLE&&(s=t1.DOUBLE);let _=g0.newInstance({dataType:s});_.setNumberOfPoints(o);let v=_.getData(),y=new Uint32Array(u),b=new Uint32Array(d),x=new Uint32Array(f),S=new Uint32Array(p),C=null,w=null,T=null,E=n[i-1];if(m){let e=E.getPointData().getNormals();C=l1.newInstance({numberOfComponents:3,numberOfTuples:o,size:3*o,dataType:e.getDataType(),name:e.getName()})}if(h){let e=E.getPointData().getTCoords();w=l1.newInstance({numberOfComponents:2,numberOfTuples:o,size:2*o,dataType:e.getDataType(),name:e.getName()})}if(g){let e=E.getPointData().getScalars();T=l1.newInstance({numberOfComponents:e.getNumberOfComponents(),numberOfTuples:o,size:o*e.getNumberOfComponents(),dataType:e.getDataType(),name:e.getName()})}o=0,u=0,d=0,f=0,p=0;for(let e=0;e<i;e++){let t=n[e];v.set(t.getPoints().getData(),o*3),$8(y,t.getVerts().getData(),o,u),u+=t.getVerts().getNumberOfValues(),$8(b,t.getLines().getData(),o,d),d+=t.getLines().getNumberOfValues(),$8(x,t.getStrips().getData(),o,f),f+=t.getStrips().getNumberOfValues(),$8(S,t.getPolys().getData(),o,p),p+=t.getPolys().getNumberOfValues();let r=t.getPointData();if(m){let e=r.getNormals();C.getData().set(e.getData(),o*3)}if(h){let e=r.getTCoords();w.getData().set(e.getData(),o*2)}if(g){let e=r.getScalars();T.getData().set(e.getData(),o*T.getNumberOfComponents())}o+=t.getPoints().getNumberOfPoints()}a.setPoints(_),a.getVerts().setData(y),a.getLines().setData(b),a.getStrips().setData(x),a.getPolys().setData(S),C&&a.getPointData().setNormals(C),w&&a.getPointData().setTCoords(w),T&&a.getPointData().setScalars(T),r[0]=a}}var $be={outputPointsPrecision:p1.DEFAULT};function e5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,$be,n),$.setGet(e,t,[`outputPointsPrecision`]),$.obj(e,t),$.algo(e,t,1,1),Qbe(e,t)}var t5={newInstance:$.newInstance(e5,`vtkAppendPolyData`),extend:e5};function exe(e,t){t.classHierarchy.push(`vtkCylinderSource`),e.requestData=(e,n)=>{let r=2*Math.PI/t.resolution,i=2*t.resolution,a=5*t.resolution;t.capping&&(i=4*t.resolution,a=7*t.resolution+2);let o=$.newTypedArray(t.pointType,i*3),s=0,c=new Uint32Array(a),l=new Float32Array(i*3),u=l1.newInstance({numberOfComponents:3,values:l,name:`Normals`}),d=new Float32Array(i*2),f=l1.newInstance({numberOfComponents:2,values:d,name:`TCoords`}),p=[0,0,0],m=[0,0,0],h=[0,0,0],g=[0,0,0],_=[0,0],v=[0,0],y=t.otherRadius==null?t.radius:t.otherRadius;for(let e=0;e<t.resolution;e++){p[0]=Math.cos(e*r+t.initAngle),m[0]=p[0],h[0]=t.radius*p[0]+t.center[0],g[0]=h[0],_[0]=Math.abs(2*e/t.resolution-1),v[0]=_[0],h[1]=.5*t.height+t.center[1],g[1]=-.5*t.height+t.center[1],_[1]=0,v[1]=1,p[2]=-Math.sin(e*r+t.initAngle),m[2]=p[2],h[2]=y*p[2]+t.center[2],g[2]=h[2];let n=2*e;for(let e=0;e<3;e++)l[n*3+e]=p[e],l[(n+1)*3+e]=m[e],o[n*3+e]=h[e],o[(n+1)*3+e]=g[e],e<2&&(d[n*2+e]=_[e],d[(n+1)*2+e]=v[e])}for(let e=0;e<t.resolution;e++){c[s++]=4,c[s++]=2*e,c[s++]=2*e+1;let n=(2*e+3)%(2*t.resolution);c[s++]=n,c[s++]=n-1}if(t.capping){for(let e=0;e<t.resolution;e++){h[0]=t.radius*Math.cos(e*r+t.initAngle),g[0]=h[0],_[0]=h[0],v[0]=h[0],h[0]+=t.center[0],g[0]+=t.center[0],p[1]=1,m[1]=-1,h[1]=.5*t.height+t.center[1],g[1]=-.5*t.height+t.center[1],h[2]=-y*Math.sin(e*r+t.initAngle),g[2]=h[2],_[1]=h[2],v[1]=h[2],h[2]+=t.center[2],g[2]+=t.center[2];let n=2*t.resolution+e,i=3*t.resolution+t.resolution-e-1;for(let e=0;e<3;e++)l[3*n+e]=p[e],l[3*i+e]=m[e],o[3*n+e]=h[e],o[3*i+e]=g[e],e<2&&(d[2*n+e]=_[e],d[2*i+e]=v[e])}c[s++]=t.resolution;for(let e=0;e<t.resolution;e++)c[s++]=2*t.resolution+e;c[s++]=t.resolution;for(let e=0;e<t.resolution;e++)c[s++]=3*t.resolution+e}N3.buildFromRadian().translate(...t.center).rotateFromDirections([0,1,0],t.direction).translate(...t.center.map(e=>e*-1)).apply(o);let b=n[0]?.initialize()||Y0.newInstance();b.getPoints().setData(o,3),b.getPolys().setData(c,1),b.getPointData().setNormals(u),b.getPointData().setTCoords(f),n[0]=b}}var txe={height:1,initAngle:0,radius:1,resolution:6,center:[0,0,0],direction:[0,1,0],capping:!0,pointType:`Float64Array`};function n5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,txe,n),$.obj(e,t),$.setGet(e,t,[`height`,`initAngle`,`otherRadius`,`radius`,`resolution`,`capping`]),$.setGetArray(e,t,[`center`,`direction`],3),$.algo(e,t,0,1),exe(e,t)}var nxe={newInstance:$.newInstance(n5,`vtkCylinderSource`),extend:n5};function rxe(e,t){t.classHierarchy.push(`vtkArrowSource`),e.requestData=(e,n)=>{let r=nxe.newInstance({capping:!0});r.setResolution(t.shaftResolution),r.setRadius(t.shaftRadius),r.setHeight(1-t.tipLength),r.setCenter(0,(1-t.tipLength)*.5,0);let i=r.getOutputData(),a=i.getPoints().getData(),o=i.getPointData().getNormals().getData();N3.buildFromDegree().rotateZ(-90).apply(a).apply(o);let s=Q8.newInstance();s.setResolution(t.tipResolution),s.setHeight(t.tipLength),s.setRadius(t.tipRadius);let c=s.getOutputData(),l=c.getPoints().getData();N3.buildFromRadian().translate(1-t.tipLength*.5,0,0).apply(l);let u=t5.newInstance();u.setInputData(i),u.addInputData(c);let d=u.getOutputData(),f=d.getPoints().getData();N3.buildFromRadian().translate(-.5+t.tipLength*.5,0,0).apply(f),t.invert?(N3.buildFromRadian().rotateFromDirections([1,0,0],t.direction).scale(-1,-1,-1).apply(f),n[0]=d):(N3.buildFromRadian().rotateFromDirections([1,0,0],t.direction).scale(1,1,1).apply(f),n[0]=u.getOutputData())}}var ixe={tipResolution:6,tipRadius:.1,tipLength:.35,shaftResolution:6,shaftRadius:.03,invert:!1,direction:[1,0,0],pointType:`Float64Array`};function r5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,ixe,n),$.obj(e,t),$.setGet(e,t,[`tipResolution`,`tipRadius`,`tipLength`,`shaftResolution`,`shaftRadius`,`invert`]),$.setGetArray(e,t,[`direction`],3),$.algo(e,t,0,1),rxe(e,t)}var i5={newInstance:$.newInstance(r5,`vtkArrowSource`),extend:r5};function a5(e){let t=e.getPoints().getBounds(),n=[-(t[0]+t[1])*.5,-(t[2]+t[3])*.5,-(t[4]+t[5])*.5];N3.buildFromDegree().translate(...n).apply(e.getPoints().getData())}function o5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e.getPoints().getBounds(),i=[0,0,0];n?i[t]=-r[t*2+1]:i[t]=-r[t*2],N3.buildFromDegree().translate(...i).apply(e.getPoints().getData())}function s5(e,t,n,r){let i=e.getPoints().getData().length,a=new Uint8ClampedArray(i),o=0;for(;o<i;)a[o++]=t,a[o++]=n,a[o++]=r;e.getPointData().setScalars(l1.newInstance({name:`color`,numberOfComponents:3,values:a}))}function axe(e,t){t.classHierarchy.push(`vtkAxesActor`);let n=u0.newInstance();e.setMapper(n),e.update=()=>{let e={...t.config,...t.xConfig},r=i5.newInstance({direction:[1,0,0],...e}).getOutputData();t.config.recenter?a5(r):o5(r,0,e.invert),s5(r,...e.color),e={...t.config,...t.yConfig};let i=i5.newInstance({direction:[0,1,0],...e}).getOutputData();t.config.recenter?a5(i):o5(i,1,e.invert),s5(i,...e.color),e={...t.config,...t.zConfig};let a=i5.newInstance({direction:[0,0,1],...e}).getOutputData();t.config.recenter?a5(a):o5(a,2,e.invert),s5(a,...e.color);let o=t5.newInstance();o.setInputData(r),o.addInputData(i),o.addInputData(a),n.setInputConnection(o.getOutputPort())},e.update();let r=$.debounce(e.update,0);e.setXAxisColor=t=>e.setXConfig({...e.getXConfig(),color:t}),e.setYAxisColor=t=>e.setYConfig({...e.getYConfig(),color:t}),e.setZAxisColor=t=>e.setZConfig({...e.getZConfig(),color:t}),e.getXAxisColor=()=>t.getXConfig().color,e.getYAxisColor=()=>t.getYConfig().color,e.getZAxisColor=()=>t.getZConfig().color,t._onConfigChanged=r,t._onXConfigChanged=r,t._onYConfigChanged=r,t._onZConfigChanged=r}function oxe(e){return{config:{recenter:!0,tipResolution:60,tipRadius:.1,tipLength:.2,shaftResolution:60,shaftRadius:.03,invert:!1,...e?.config},xConfig:{color:[255,0,0],invert:!1,...e?.xConfig},yConfig:{color:[255,255,0],invert:!1,...e?.yConfig},zConfig:{color:[0,128,0],invert:!1,...e?.zConfig}}}function c5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$$.extend(e,t,oxe(n)),$.setGet(e,t,[`config`,`xConfig`,`yConfig`,`zConfig`]),axe(e,t)}var sxe={newInstance:$.newInstance(c5,`vtkAxesActor`),extend:c5},l5={TOP_LEFT:`TOP_LEFT`,TOP_RIGHT:`TOP_RIGHT`,BOTTOM_LEFT:`BOTTOM_LEFT`,BOTTOM_RIGHT:`BOTTOM_RIGHT`},u5={Corners:l5},{vtkErrorMacro:d5}=$,{Corners:f5}=u5;function cxe(e,t){t.classHierarchy.push(`vtkOrientationMarkerWidget`);let n={...e},r=[],i=v6.newInstance(),a=new ResizeObserver(t=>{e.updateViewport()}),o=null,s=null,c=null,l=null,u=null;function d(){t._interactor.isAnimating()||e.updateMarkerOrientation()}t._onParentRendererChanged=()=>e.updateViewport(),e.computeViewport=()=>{let e=t.parentRenderer||t._interactor.getCurrentRenderer(),[n,r,i,a]=e.getViewport(),o=t._interactor.getView(),s=o.getSize(),[c,l]=o.getViewportSize(e),u=Math.min(c,l),d=t.viewportSize*u;d=Math.max(Math.min(t.minPixelSize,u),Math.min(t.maxPixelSize,d));let f=d/s[0],p=d/s[1];switch(t.viewportCorner){case f5.TOP_LEFT:return[n,a-p,n+f,a];case f5.TOP_RIGHT:return[i-f,a-p,i,a];case f5.BOTTOM_LEFT:return[n,r,n+f,r+p];case f5.BOTTOM_RIGHT:return[i-f,r,i,r+p];default:return d5(`Invalid widget corner`),null}},e.updateViewport=()=>{t.enabled&&(i.setViewport(...e.computeViewport()),t._interactor.render())},e.updateMarkerOrientation=()=>{let e=(t.parentRenderer||t._interactor.getCurrentRenderer()).getActiveCamera();if(!e)return;let n=e.getReferenceByName(`position`),a=e.getReferenceByName(`focalPoint`),o=e.getReferenceByName(`viewUp`);if(r[0]!==n[0]||r[1]!==n[1]||r[2]!==n[2]||r[3]!==a[0]||r[4]!==a[1]||r[5]!==a[2]||r[6]!==o[0]||r[7]!==o[1]||r[8]!==o[2]){r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=a[0],r[4]=a[1],r[5]=a[2],r[6]=o[0],r[7]=o[1],r[8]=o[2];let e=i.getActiveCamera();e.setPosition(n[0],n[1],n[2]),e.setFocalPoint(a[0],a[1],a[2]),e.setViewUp(o[0],o[1],o[2]),i.resetCamera()}},e.setEnabled=n=>{if(n){if(t.enabled)return;if(!t.actor){d5(`Must set actor before enabling orientation marker.`);return}if(!t._interactor){d5(`Must set interactor before enabling orientation marker.`);return}let n=t.parentRenderer||t._interactor.getCurrentRenderer(),r=n.getRenderWindow();r.addRenderer(i),r.getNumberOfLayers()<2&&r.setNumberOfLayers(2),i.setLayer(r.getNumberOfLayers()-1),i.setInteractive(t.interactiveRenderer),i.addViewProp(t.actor),t.actor.setVisibility(!0),o=n.onEvent(e=>{e.type===`ActiveCameraEvent`&&(s&&s.unsubscribe(),s=e.camera.onModified(d))}),s=n.getActiveCamera().onModified(d),c=t._interactor.onAnimation(e.updateMarkerOrientation),l=t._interactor.onEndAnimation(e.updateMarkerOrientation),a.observe(t._interactor.getView().getCanvas()),e.updateViewport(),e.updateMarkerOrientation(),t.enabled=!0}else{if(!t.enabled)return;t.enabled=!1,a.disconnect(),o.unsubscribe(),o=null,s.unsubscribe(),s=null,c.unsubscribe(),c=null,l.unsubscribe(),l=null,t.actor.setVisibility(!1),i.removeViewProp(t.actor);let e=t._interactor?.findPokedRenderer()?.getRenderWindow();e&&e.removeRenderer(i)}e.modified()},e.setViewportCorner=n=>{n!==t.viewportCorner&&(t.viewportCorner=n,e.updateViewport())},e.setViewportSize=n=>{let r=Math.min(1,Math.max(0,n));r!==t.viewportSize&&(t.viewportSize=r,e.updateViewport())},e.setActor=n=>{let r=t.enabled;e.setEnabled(!1),t.actor=n,e.setEnabled(r)},e.getRenderer=()=>i,e.delete=()=>{n.delete(),u&&=(u.unsubscribe(),null),o&&=(o.unsubscribe(),null),s&&=(s.unsubscribe(),null),c&&=(c.unsubscribe(),null),l&&=(l.unsubscribe(),null),a.disconnect()},u=e.onModified(e.updateViewport)}var lxe={viewportCorner:u5.Corners.BOTTOM_LEFT,viewportSize:.2,minPixelSize:50,maxPixelSize:200,parentRenderer:null,interactiveRenderer:!1};function p5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,lxe,n),$.obj(e,t),$.get(e,t,[`enabled`,`viewportCorner`,`viewportSize`,`interactiveRenderer`]),$.setGet(e,t,[`_interactor`,`minPixelSize`,`maxPixelSize`,`parentRenderer`]),$.get(e,t,[`actor`]),$.moveToProtected(e,t,[`interactor`]),cxe(e,t)}var uxe={newInstance:$.newInstance(p5,`vtkOrientationMarkerWidget`),extend:p5,...u5},m5=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},dxe=m5({__name:`VtkView`,setup(e,{expose:t}){let n=L(null),r=null,i=null,a=null,o=null,s=null,c=null,l=null,u=0,d=null,f=null,p=null,m=`right`,h=()=>{let e=i?.getActiveCamera?.();return e?{position:e.getPosition(),focalPoint:e.getFocalPoint(),viewUp:e.getViewUp(),parallelScale:e.getParallelScale(),parallelProjection:e.getParallelProjection()}:null},g=e=>{let t=i?.getActiveCamera?.();!t||!e||(t.setPosition(...e.position),t.setFocalPoint(...e.focalPoint),t.setViewUp(...e.viewUp),t.setParallelProjection(e.parallelProjection),t.setParallelScale(e.parallelScale),a.render())},_=()=>{if(!n.value)return;r=qbe.newInstance({background:[.2,.3,.4]}),r.setContainer(n.value),r.resize(),i=r.getRenderer(),a=r.getRenderWindow(),o=r.getInteractor(),s=W6.newInstance(),o.setInteractorStyle(s),o.setCurrentRenderer(i);let e=sxe.newInstance();d=uxe.newInstance({actor:e,interactor:o}),d.setEnabled(!0),d.setViewportCorner(l5.BOTTOM_LEFT),d.setViewportSize(.15),d.setMinPixelSize(80),d.setMaxPixelSize(160),p=h4.newInstance(),p.setVisibility(!1),p.setAxisLabel(``),i.addActor(p),v(),i.resetCamera(),f=h(),a.render()},v=()=>{if(c)return;let e=Q8.newInstance({height:100,radius:50}),t=u0.newInstance();t.setInputConnection(e.getOutputPort()),c=$$.newInstance(),c.setMapper(t),c.getProperty().setColor(1,.5,0),i.addActor(c)},y=(e,t={})=>{if(i&&e){c&&=(i.removeActor(c),null),i.addActor(e);let{resetCamera:n=!0}=t;n?setTimeout(()=>{w()},50):a.render()}},b=e=>{i&&e&&(i.removeActor(e),a.render())},x=(e,t={})=>{if(i&&e){c&&=(i.removeActor(c),null),i.addVolume(e);let{resetCamera:n=!0}=t;n?setTimeout(()=>{w()},50):a.render()}},S=e=>{i&&e&&(i.removeVolume(e),a.render())},C=()=>{i&&([...i.getActors()].forEach(e=>i.removeActor(e)),[...i.getVolumes()].forEach(e=>i.removeVolume(e)),c=null,a.render())},w=()=>{if(i){i.resetCamera();let e=i.getActiveCamera(),t=i.computeVisiblePropBounds();console.log(`Reset Camera - Scene Bounds:`,t),e.setClippingRange(.1,1e5),a.render()}},T=()=>i,E=()=>a,D=()=>n.value?.focus?.(),O=()=>{i&&(f=h())},k=()=>{f&&g(f)},A=(e,t)=>{if(!i||!a)return;let n=t??i.computeVisiblePropBounds?.();if(!n)return;let r=(n[0]+n[1])/2,o=(n[2]+n[3])/2,s=(n[4]+n[5])/2,c=Math.max(1e-6,n[1]-n[0]),l=Math.max(1e-6,n[3]-n[2]),u=Math.max(1e-6,n[5]-n[4]),d=Math.sqrt(c*c+l*l+u*u)*.9,f=i.getActiveCamera();f.setFocalPoint(r,o,s),f.setParallelProjection(!1),e===`top`?(f.setPosition(r,o,s+d*2.2),f.setViewUp(0,1,0)):e===`front`?(f.setPosition(r,o-d*2.2,s),f.setViewUp(0,0,1)):e===`side`?(f.setPosition(r+d*2.2,o,s),f.setViewUp(0,0,1)):e===`iso`?(f.setPosition(r+d*1.6,o-d*1.6,s+d*1.2),f.setViewUp(0,0,1)):i.resetCamera(),f.setClippingRange(.1,1e5),a.render()},j=()=>{if(!p)return;let e=p.getBoxSize?.()??[.18,.6];m===`left`?p.setBoxPosition([.02,-.92]):p.setBoxPosition([.98-e[0],-.92]),a?.render?.()},M=({visible:e,lookupTable:t,title:n,side:r}={})=>{p&&(typeof r==`string`&&(m=r),t&&p.setScalarsToColors(t),typeof n==`string`&&p.setAxisLabel(n),typeof e==`boolean`&&p.setVisibility(e),j())},ee=()=>{!r||!a||(u||=requestAnimationFrame(()=>{u=0,r.resize(),a.render()}))},te=e=>{if(e.key===`r`||e.key===`R`){w();return}if(e.key===`h`||e.key===`H`){k();return}if(e.key===`s`||e.key===`S`){O();return}};return zr(()=>{_(),n.value&&typeof ResizeObserver<`u`&&(l=new ResizeObserver(()=>ee()),l.observe(n.value)),n.value?.addEventListener(`pointerdown`,D),n.value?.addEventListener(`contextmenu`,e=>e.preventDefault()),n.value?.addEventListener(`keydown`,te),window.addEventListener(`resize`,ee)}),Hr(()=>{window.removeEventListener(`resize`,ee),n.value?.removeEventListener(`pointerdown`,D),n.value?.removeEventListener(`keydown`,te),l&&=(l.disconnect(),null),u&&=(cancelAnimationFrame(u),0),d&&=(d.setEnabled(!1),d.delete(),null),p&&=(i?.removeActor?.(p),p.delete(),null),r&&=(r.delete(),null)}),t({addActor:y,removeActor:b,addVolume:x,removeVolume:S,removeAllActors:C,resetCamera:w,setHome:O,goHome:k,focusView:D,setViewPreset:A,setScalarBar:M,getRenderer:T,getRenderWindow:E}),(e,t)=>(U(),W(`div`,{ref_key:`vtkContainer`,ref:n,class:`vtk-container`,tabindex:`0`},null,512))}},[[`__scopeId`,`data-v-69b8ef51`]]),fxe={class:`toolbar`},pxe={class:`toolbar-left`},mxe={class:`hint`},hxe={class:`toolbar-right`},gxe={class:`canvas-wrap`},_xe=m5({__name:`SegySection2D`,props:{volumeData:{type:Object,required:!0},dims:{type:Object,required:!0},mode:{type:String,default:`inline`},index:{type:Number,default:0},gain:{type:Number,default:1},clip:{type:Number,default:1},showDensity:{type:Boolean,default:!0},showWiggle:{type:Boolean,default:!0}},setup(e){let t=e,n=L(null),r=L(null),i=0,a=null,o=()=>j(),s=L(t.mode),c=L(t.index),l=L(t.gain),u=L(t.clip),d=L(t.showDensity),f=L(t.showWiggle),p=L(`seismic`),m=L(!0),h=L(!1),g=L(98),_=L({k:1,x:0,y:0}),v=!1,y=0,b=0;B(()=>t.mode,e=>{s.value=e}),B(()=>t.index,e=>{c.value=e}),B(()=>t.gain,e=>{l.value=e}),B(()=>t.clip,e=>{u.value=e}),B(()=>t.showDensity,e=>{d.value=e}),B(()=>t.showWiggle,e=>{f.value=e});let x=Y(()=>t.dims.value??t.dims),S=Y(()=>x.value?.[0]??0),C=Y(()=>x.value?.[1]??0),w=Y(()=>x.value?.[2]??0),T=Y(()=>Math.max(1,u.value*5)),E=null,D=null,O=null,k=()=>{let e=S.value,n=C.value,r=w.value;if(!e||!n||!r)return;let i=s.value,a=i===`inline`?e:n,o=r,l=i===`inline`?n-1:e-1,u=ne(c.value,0,l),d=t.volumeData;if(!d)return;(!E||E.length!==a*o)&&(E=new Float32Array(a*o));let f=0;for(let t=0;t<a;t++){let n=i===`inline`?t:u,a=((i===`inline`?u:t)*e+n)*r;for(let e=0;e<o;e++)E[f++]=d[a+e]}if(h.value){f=0;for(let e=0;e<a;e++){let e=0;for(let t=0;t<o;t++){let n=E[f+t];e+=n*n}let t=Math.sqrt(e/o),n=t>1e-9?1/t:0;for(let e=0;e<o;e++)E[f+e]*=n;f+=o}}},A=()=>{let e=s.value,t=S.value,n=C.value,r=w.value,i=e===`inline`?t:n,a=r;D||(D=document.createElement(`canvas`),O=D.getContext(`2d`,{alpha:!1})),(D.width!==i||D.height!==a)&&(D.width=i,D.height=a);let o=O,c=o.createImageData(i,a),d=c.data,f=Math.max(1e-6,u.value),m=l.value,h=ie[p.value]??ie.seismic,g=0;for(let e=0;e<a;e++)for(let t=0;t<i;t++){let[n,r,i]=P(ne(E[t*a+e]*m/f,-1,1)*.5+.5,h);d[g++]=n,d[g++]=r,d[g++]=i,d[g++]=255}o.putImageData(c,0,0)},j=()=>{i||=requestAnimationFrame(()=>{i=0,se()})},M=e=>{e.preventDefault();let t=r.value.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,a=.1,o=e.deltaY<0?1+a:1/(1+a),s=ne(_.value.k*o,.5,50);_.value={k:s,x:n-(n-_.value.x)*(s/_.value.k),y:i-(i-_.value.y)*(s/_.value.k)},j()},ee=e=>{v=!0,y=e.clientX,b=e.clientY},te=e=>{if(!v)return;let t=e.clientX-y,n=e.clientY-b;y=e.clientX,b=e.clientY,_.value.x+=t,_.value.y+=n,j()},N=()=>{v=!1},ne=(e,t,n)=>Math.max(t,Math.min(n,e)),re=(e,t,n)=>e+(t-e)*n,ie={seismic:[[0,0,0,255],[.5,255,255,255],[1,255,0,0]],gray:[[0,0,0,0],[1,255,255,255]],rainbow:[[0,0,0,255],[.25,0,255,255],[.5,0,255,0],[.75,255,255,0],[1,255,0,0]]},P=(e,t)=>{let n=ne(e,0,1);if(n<=t[0][0])return[t[0][1],t[0][2],t[0][3]];for(let e=1;e<t.length;e++){let r=t[e-1],i=t[e];if(n<=i[0]){let e=(n-r[0])/Math.max(1e-12,i[0]-r[0]);return[Math.round(re(r[1],i[1],e)),Math.round(re(r[2],i[2],e)),Math.round(re(r[3],i[3],e))]}}let r=t[t.length-1];return[r[1],r[2],r[3]]},ae=(e,t,n=2e5)=>{let r=e?.length??0;if(!r)return 1;let i=Math.max(1024,Math.min(n,r)),a=Math.max(1,Math.floor(r/i)),o=new Float32Array(Math.min(i,Math.ceil(r/a))),s=0;for(let t=0;t<r&&s<o.length;t+=a){let n=e[t];Number.isFinite(n)&&(o[s++]=Math.abs(n))}if(s===0)return 1;let c=Array.from(o.subarray(0,s));c.sort((e,t)=>e-t);let l=ne(t/100,0,1),u=Math.max(0,Math.min(c.length-1,Math.floor(l*(c.length-1))));return Math.max(1e-6,c[u])},oe=()=>{let e=S.value,n=C.value,r=w.value;if(!e||!n||!r)return;let i=s.value,a=i===`inline`?e:n,o=r,l=i===`inline`?n-1:e-1,d=ne(c.value,0,l),f=t.volumeData;if(!f)return;let p=new Float32Array(a*o),m=0;for(let t=0;t<o;t++)for(let n=0;n<a;n++){let a=i===`inline`?n:d,o=i===`inline`?d:n;p[m++]=f[(o*e+a)*r+t]}u.value=ae(p,g.value)},se=()=>{let e=r.value;if(!e)return;let t=e.getContext(`2d`,{alpha:!1});if(!t)return;let n=e.clientWidth||800,i=e.clientHeight||600;e.width!==n&&(e.width=n),e.height!==i&&(e.height=i),t.fillStyle=`#0a0f1a`,t.fillRect(0,0,n,i);let a=S.value,o=C.value,c=w.value;if(!a||!o||!c||!E)return;let m=s.value===`inline`?a:o,h=c,g=Math.max(1e-6,u.value),v=l.value,{k:y,x:b,y:x}=_.value;t.save();let T=n/m,O=i/h;if(t.translate(b,x),t.scale(y,y),t.scale(T,O),d.value&&D&&(t.imageSmoothingEnabled=!0,t.imageSmoothingQuality=`low`,t.drawImage(D,0,0,m,h)),f.value){let e=y*T;y*O;let r=-b/e,i=(n-b)/e,a=Math.max(0,Math.floor(r)),o=Math.min(m,Math.ceil(i)),s=e,c=Math.max(1,Math.ceil(2/Math.max(1e-6,s))),l=`rgba(255,255,255,0.85)`,u=`rgba(0, 160, 255, 0.25)`;p.value===`gray`?(l=`rgba(0,0,0,0.85)`,u=`rgba(0, 0, 0, 0.25)`):(p.value===`rainbow`&&(l=`rgba(255,255,255,0.85)`),u=`rgba(255, 0, 0, 0.25)`),t.lineWidth=1/Math.max(T,O)/y;let d=.5;for(let e=a;e<o;e+=c){let n=e+.5,r=e*h;t.beginPath(),t.strokeStyle=l,t.fillStyle=u;let i=ne(E[r]*v/g,-2,2);t.moveTo(n+i*d,0);let a=!1;for(let e=0;e<h;e++){let i=ne(E[r+e]*v/g,-2,2),o=n+i*d,s=e;t.lineTo(o,s),i>0&&(a=!0)}if(t.stroke(),a){t.beginPath();let e=Math.max(0,i);t.moveTo(n,0),t.lineTo(n+e*d,0);for(let e=1;e<h;e++){let i=E[r+e]*v,a=n+Math.max(0,ne(i/g,-2,2))*d,o=e;t.lineTo(a,o)}t.lineTo(n,h-1),t.closePath(),t.fill()}}}t.restore()};return B([s,c,g,m,x],()=>{m.value&&oe(),k(),A(),j()},{deep:!0}),B([l,u,d,f,p,h],()=>{k(),A(),j()},{deep:!0}),zr(()=>{m.value&&oe(),k(),A(),j(),window.addEventListener(`resize`,o),typeof ResizeObserver<`u`&&n.value&&(a=new ResizeObserver(()=>j()),a.observe(n.value)),r.value&&(r.value.addEventListener(`wheel`,M,{passive:!1}),r.value.addEventListener(`mousedown`,ee),window.addEventListener(`mousemove`,te),window.addEventListener(`mouseup`,N))}),Hr(()=>{window.removeEventListener(`resize`,o),r.value&&(r.value.removeEventListener(`wheel`,M),r.value.removeEventListener(`mousedown`,ee)),window.removeEventListener(`mousemove`,te),window.removeEventListener(`mouseup`,N),a&&=(a.disconnect(),null),i&&cancelAnimationFrame(i)}),(e,t)=>{let i=Yr(`el-radio-button`),a=Yr(`el-radio-group`),o=Yr(`el-option`),_=Yr(`el-select`),v=Yr(`el-checkbox`),y=Yr(`el-slider`);return U(),W(`div`,{ref_key:`rootEl`,ref:n,class:`section-root`},[K(`div`,fxe,[K(`div`,pxe,[q(a,{modelValue:s.value,"onUpdate:modelValue":t[0]||=e=>s.value=e,size:`small`},{default:z(()=>[q(i,{value:`inline`},{default:z(()=>[...t[9]||=[Fa(``,-1)]]),_:1}),q(i,{value:`crossline`},{default:z(()=>[...t[10]||=[Fa(``,-1)]]),_:1})]),_:1},8,[`modelValue`]),K(`span`,mxe,``+I(c.value),1)]),K(`div`,hxe,[t[11]||=K(`span`,{class:`hint`},``,-1),q(_,{modelValue:p.value,"onUpdate:modelValue":t[1]||=e=>p.value=e,size:`small`,class:`mini-select`},{default:z(()=>[q(o,{label:``,value:`gray`}),q(o,{label:`--`,value:`seismic`}),q(o,{label:``,value:`rainbow`})]),_:1},8,[`modelValue`]),q(v,{modelValue:m.value,"onUpdate:modelValue":t[2]||=e=>m.value=e,label:``},null,8,[`modelValue`]),t[12]||=K(`span`,{class:`hint`},``,-1),q(y,{modelValue:g.value,"onUpdate:modelValue":t[3]||=e=>g.value=e,min:80,max:99.9,step:.1,class:`mini`},null,8,[`modelValue`]),t[13]||=K(`span`,{class:`hint`},``,-1),q(y,{modelValue:l.value,"onUpdate:modelValue":t[4]||=e=>l.value=e,min:.1,max:10,step:.1,class:`mini`},null,8,[`modelValue`]),q(v,{modelValue:h.value,"onUpdate:modelValue":t[5]||=e=>h.value=e,label:`RMS`},null,8,[`modelValue`]),t[14]||=K(`span`,{class:`hint`},``,-1),q(y,{modelValue:u.value,"onUpdate:modelValue":t[6]||=e=>u.value=e,disabled:m.value,min:.1,max:T.value,step:.1,class:`mini`},null,8,[`modelValue`,`disabled`,`max`]),q(v,{modelValue:d.value,"onUpdate:modelValue":t[7]||=e=>d.value=e,label:``},null,8,[`modelValue`]),q(v,{modelValue:f.value,"onUpdate:modelValue":t[8]||=e=>f.value=e,label:``},null,8,[`modelValue`])])]),K(`div`,gxe,[K(`canvas`,{ref_key:`canvasEl`,ref:r,class:`canvas`},null,512)])],512)}}},[[`__scopeId`,`data-v-43723c49`]]);function h5(e){return(t,...n)=>vxe(e,t,n)}function g5(e,t){return h5(_5(e,t).get)}const{apply:vxe,construct:yxe,defineProperty:bxe,get:xxe,getOwnPropertyDescriptor:_5,getPrototypeOf:v5,has:Sxe,ownKeys:Cxe,set:wxe,setPrototypeOf:Txe}=Reflect,{EPSILON:Exe,MAX_SAFE_INTEGER:Dxe,isFinite:Oxe,isNaN:kxe}=Number,{iterator:y5,species:Axe,toStringTag:jxe,for:Mxe}=Symbol,b5=Object,{create:x5,defineProperty:Nxe,freeze:Pxe,is:Fxe}=b5;var S5=b5.prototype;S5.__lookupGetter__&&S5.__lookupGetter__,b5.hasOwn||S5.hasOwnProperty;var C5=Array;C5.isArray;var w5=C5.prototype;w5.join,w5.push,w5.toLocaleString;const T5=w5[y5],Ixe=h5(T5),{abs:Lxe,trunc:Rxe}=Math,E5=ArrayBuffer;E5.isView;var D5=E5.prototype;D5.slice,g5(D5,`byteLength`);const O5=typeof SharedArrayBuffer<`u`?SharedArrayBuffer:null;O5&&g5(O5.prototype,`byteLength`);const k5=v5(Uint8Array);k5.from;const A5=k5.prototype;A5[y5],A5.keys,A5.values,A5.entries,A5.set,A5.reverse,A5.fill,A5.copyWithin,A5.sort,A5.slice,A5.subarray,g5(A5,`buffer`),g5(A5,`byteOffset`),g5(A5,`length`),g5(A5,jxe);const zxe=Uint8Array,j5=Uint16Array,M5=Uint32Array,Bxe=Float32Array,N5=v5([][y5]()),P5=h5(N5.next),Vxe=h5((function*(){})().next),Hxe=v5(N5);var F5=DataView.prototype;const Uxe=h5(F5.getUint16);F5.setUint16,TypeError;var I5=WeakSet.prototype;I5.add,I5.has;const L5=WeakMap;var R5=L5.prototype;const z5=h5(R5.get);R5.has;const Wxe=h5(R5.set);var B5=new L5,Gxe=x5(null,{next:{value:function(){return P5(z5(B5,this))}},[y5]:{value:function(){return this}}});function Kxe(e){if(e[y5]===T5&&N5.next===P5)return e;let t=x5(Gxe);return Wxe(B5,t,Ixe(e)),t}var qxe=new L5,Jxe=x5(Hxe,{next:{value:function(){return Vxe(z5(qxe,this))},writable:!0,configurable:!0}});for(let e of Cxe(N5))e!==`next`&&Nxe(Jxe,e,_5(N5,e));var Yxe=1/Exe,Xxe=6103515625e-14,V5=.0009765625;V5*Xxe,V5*Yxe;var H5=new E5(4),Zxe=new Bxe(H5),Qxe=new M5(H5),U5=new j5(512),W5=new zxe(512);for(let e=0;e<256;++e){let t=e-127;t<-24?(U5[e]=0,U5[e|256]=32768,W5[e]=24,W5[e|256]=24):t<-14?(U5[e]=1024>>-t-14,U5[e|256]=1024>>-t-14|32768,W5[e]=-t-1,W5[e|256]=-t-1):t<=15?(U5[e]=t+15<<10,U5[e|256]=t+15<<10|32768,W5[e]=13,W5[e|256]=13):t<128?(U5[e]=31744,U5[e|256]=64512,W5[e]=24,W5[e|256]=24):(U5[e]=31744,U5[e|256]=64512,W5[e]=13,W5[e|256]=13)}var G5=new M5(2048);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;!(t&8388608);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,G5[e]=t|n}for(let e=1024;e<2048;++e)G5[e]=939524096+(e-1024<<13);var K5=new M5(64);for(let e=1;e<31;++e)K5[e]=e<<23;K5[31]=1199570944,K5[32]=2147483648;for(let e=33;e<63;++e)K5[e]=2147483648+(e-32<<23);K5[63]=3347054592;var q5=new j5(64);for(let e=1;e<64;++e)e!==32&&(q5[e]=1024);function $xe(e){let t=e>>10;return Qxe[0]=G5[q5[t]+(e&1023)]+K5[t],Zxe[0]}function J5(e,t,...n){return $xe(Uxe(e,t,...Kxe(n)))}function Y5(e,t,n){let r=n&&n.debug||!1;r&&console.log(`[xml-utils] getting `+t+` in `+e);let i=typeof e==`object`?e.outer:e,a=i.slice(0,i.indexOf(`>`)+1),o=[`"`,`'`];for(let e=0;e<o.length;e++){let n=o[e],i=t+`\\=`+n+`([^`+n+`]*)`+n;r&&console.log(`[xml-utils] pattern:`,i);let s=new RegExp(i).exec(a);if(r&&console.log(`[xml-utils] match:`,s),s)return s[1]}}function eSe(e,t,n){let r=new RegExp(t).exec(e.slice(n));return r?n+r.index:-1}function X5(e,t,n){let r=new RegExp(t).exec(e.slice(n));return r?n+r.index+r[0].length-1:-1}function Z5(e,t){let n=new RegExp(t,`g`),r=e.match(n);return r?r.length:0}function tSe(e,t,n){let r=n&&n.debug||!1,i=n&&n.startIndex||0;r&&console.log(`[xml-utils] starting findTagByName with`,t,` and `,n);let a=eSe(e,`\<${t}[ \n\>\/]`,i);if(r&&console.log(`[xml-utils] start:`,a),a===-1)return;let o=e.slice(a+t.length),s=X5(o,`^[^<]*[ /]>`,0),c=s!==-1&&o[s-1]===`/`;if(r&&console.log(`[xml-utils] selfClosing:`,c),c===!1){let e=0,n=1,r=0;for(;(s=X5(o,`[ /]`+t+`>`,e))!==-1;){let i=o.substring(e,s+1);if(n+=Z5(i,`<`+t+`[ 
	>]`),r+=Z5(i,`</`+t+`>`),r>=n)break;e=s}}let l=a+t.length+s+1;if(r&&console.log(`[xml-utils] end:`,l),l===-1)return;let u=e.slice(a,l),d;return d=c?null:u.slice(u.indexOf(`>`)+1,u.lastIndexOf(`<`)),{inner:d,outer:u,start:a,end:l}}function nSe(e,t,n){let r=[],i=n&&n.debug||!1,a=n&&typeof n.nested==`boolean`?n.nested:!0,o=n&&n.startIndex||0,s;for(;s=tSe(e,t,{debug:i,startIndex:o});)o=a?s.start+1+t.length:s.end,r.push(s);return i&&console.log(`findTagsByName found`,r.length,`tags`),r}const Q5={315:`Artist`,258:`BitsPerSample`,265:`CellLength`,264:`CellWidth`,320:`ColorMap`,259:`Compression`,33432:`Copyright`,306:`DateTime`,338:`ExtraSamples`,266:`FillOrder`,289:`FreeByteCounts`,288:`FreeOffsets`,291:`GrayResponseCurve`,290:`GrayResponseUnit`,316:`HostComputer`,270:`ImageDescription`,257:`ImageLength`,256:`ImageWidth`,271:`Make`,281:`MaxSampleValue`,280:`MinSampleValue`,272:`Model`,254:`NewSubfileType`,274:`Orientation`,262:`PhotometricInterpretation`,284:`PlanarConfiguration`,296:`ResolutionUnit`,278:`RowsPerStrip`,277:`SamplesPerPixel`,305:`Software`,279:`StripByteCounts`,273:`StripOffsets`,255:`SubfileType`,263:`Threshholding`,282:`XResolution`,283:`YResolution`,326:`BadFaxLines`,327:`CleanFaxData`,343:`ClipPath`,328:`ConsecutiveBadFaxLines`,433:`Decode`,434:`DefaultImageColor`,269:`DocumentName`,336:`DotRange`,321:`HalftoneHints`,346:`Indexed`,347:`JPEGTables`,285:`PageName`,297:`PageNumber`,317:`Predictor`,319:`PrimaryChromaticities`,532:`ReferenceBlackWhite`,339:`SampleFormat`,340:`SMinSampleValue`,341:`SMaxSampleValue`,559:`StripRowCounts`,330:`SubIFDs`,292:`T4Options`,293:`T6Options`,325:`TileByteCounts`,323:`TileLength`,324:`TileOffsets`,322:`TileWidth`,301:`TransferFunction`,318:`WhitePoint`,344:`XClipPathUnits`,286:`XPosition`,529:`YCbCrCoefficients`,531:`YCbCrPositioning`,530:`YCbCrSubSampling`,345:`YClipPathUnits`,287:`YPosition`,37378:`ApertureValue`,40961:`ColorSpace`,36868:`DateTimeDigitized`,36867:`DateTimeOriginal`,34665:`Exif IFD`,36864:`ExifVersion`,33434:`ExposureTime`,41728:`FileSource`,37385:`Flash`,40960:`FlashpixVersion`,33437:`FNumber`,42016:`ImageUniqueID`,37384:`LightSource`,37500:`MakerNote`,37377:`ShutterSpeedValue`,37510:`UserComment`,33723:`IPTC`,34412:`CZ_LSMINFO`,34675:`ICC Profile`,700:`XMP`,42112:`GDAL_METADATA`,42113:`GDAL_NODATA`,34377:`Photoshop`,33550:`ModelPixelScale`,33922:`ModelTiepoint`,34264:`ModelTransformation`,34735:`GeoKeyDirectory`,34736:`GeoDoubleParams`,34737:`GeoAsciiParams`,50674:`LercParameters`},$5={};for(let e in Q5)Q5.hasOwnProperty(e)&&($5[Q5[e]]=parseInt(e,10));const rSe=[$5.BitsPerSample,$5.ExtraSamples,$5.SampleFormat,$5.StripByteCounts,$5.StripOffsets,$5.StripRowCounts,$5.TileByteCounts,$5.TileOffsets,$5.SubIFDs],e7={1:`BYTE`,2:`ASCII`,3:`SHORT`,4:`LONG`,5:`RATIONAL`,6:`SBYTE`,7:`UNDEFINED`,8:`SSHORT`,9:`SLONG`,10:`SRATIONAL`,11:`FLOAT`,12:`DOUBLE`,13:`IFD`,16:`LONG8`,17:`SLONG8`,18:`IFD8`},t7={};for(let e in e7)e7.hasOwnProperty(e)&&(t7[e7[e]]=parseInt(e,10));const n7={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},iSe={Unspecified:0,Assocalpha:1,Unassalpha:2},aSe={Version:0,AddCompression:1},oSe={None:0,Deflate:1,Zstandard:2},r7={1024:`GTModelTypeGeoKey`,1025:`GTRasterTypeGeoKey`,1026:`GTCitationGeoKey`,2048:`GeographicTypeGeoKey`,2049:`GeogCitationGeoKey`,2050:`GeogGeodeticDatumGeoKey`,2051:`GeogPrimeMeridianGeoKey`,2052:`GeogLinearUnitsGeoKey`,2053:`GeogLinearUnitSizeGeoKey`,2054:`GeogAngularUnitsGeoKey`,2055:`GeogAngularUnitSizeGeoKey`,2056:`GeogEllipsoidGeoKey`,2057:`GeogSemiMajorAxisGeoKey`,2058:`GeogSemiMinorAxisGeoKey`,2059:`GeogInvFlatteningGeoKey`,2060:`GeogAzimuthUnitsGeoKey`,2061:`GeogPrimeMeridianLongGeoKey`,2062:`GeogTOWGS84GeoKey`,3072:`ProjectedCSTypeGeoKey`,3073:`PCSCitationGeoKey`,3074:`ProjectionGeoKey`,3075:`ProjCoordTransGeoKey`,3076:`ProjLinearUnitsGeoKey`,3077:`ProjLinearUnitSizeGeoKey`,3078:`ProjStdParallel1GeoKey`,3079:`ProjStdParallel2GeoKey`,3080:`ProjNatOriginLongGeoKey`,3081:`ProjNatOriginLatGeoKey`,3082:`ProjFalseEastingGeoKey`,3083:`ProjFalseNorthingGeoKey`,3084:`ProjFalseOriginLongGeoKey`,3085:`ProjFalseOriginLatGeoKey`,3086:`ProjFalseOriginEastingGeoKey`,3087:`ProjFalseOriginNorthingGeoKey`,3088:`ProjCenterLongGeoKey`,3089:`ProjCenterLatGeoKey`,3090:`ProjCenterEastingGeoKey`,3091:`ProjCenterNorthingGeoKey`,3092:`ProjScaleAtNatOriginGeoKey`,3093:`ProjScaleAtCenterGeoKey`,3094:`ProjAzimuthAngleGeoKey`,3095:`ProjStraightVertPoleLongGeoKey`,3096:`ProjRectifiedGridAngleGeoKey`,4096:`VerticalCSTypeGeoKey`,4097:`VerticalCitationGeoKey`,4098:`VerticalDatumGeoKey`,4099:`VerticalUnitsGeoKey`},sSe={};for(let e in r7)r7.hasOwnProperty(e)&&(sSe[r7[e]]=parseInt(e,10));function cSe(e,t){let{width:n,height:r}=e,i=new Uint8Array(n*r*3),a;for(let n=0,r=0;n<e.length;++n,r+=3)a=256-e[n]/t*256,i[r]=a,i[r+1]=a,i[r+2]=a;return i}function lSe(e,t){let{width:n,height:r}=e,i=new Uint8Array(n*r*3),a;for(let n=0,r=0;n<e.length;++n,r+=3)a=e[n]/t*256,i[r]=a,i[r+1]=a,i[r+2]=a;return i}function uSe(e,t){let{width:n,height:r}=e,i=new Uint8Array(n*r*3),a=t.length/3,o=t.length/3*2;for(let n=0,r=0;n<e.length;++n,r+=3){let s=e[n];i[r]=t[s]/65536*256,i[r+1]=t[s+a]/65536*256,i[r+2]=t[s+o]/65536*256}return i}function dSe(e){let{width:t,height:n}=e,r=new Uint8Array(t*n*3);for(let t=0,n=0;t<e.length;t+=4,n+=3){let i=e[t],a=e[t+1],o=e[t+2],s=e[t+3];r[n]=255*((255-i)/256)*((255-s)/256),r[n+1]=255*((255-a)/256)*((255-s)/256),r[n+2]=255*((255-o)/256)*((255-s)/256)}return r}function fSe(e){let{width:t,height:n}=e,r=new Uint8ClampedArray(t*n*3);for(let t=0,n=0;t<e.length;t+=3,n+=3){let i=e[t],a=e[t+1],o=e[t+2];r[n]=i+1.402*(o-128),r[n+1]=i-.34414*(a-128)-.71414*(o-128),r[n+2]=i+1.772*(a-128)}return r}var pSe=.95047,mSe=1,hSe=1.08883;function gSe(e){let{width:t,height:n}=e,r=new Uint8Array(t*n*3);for(let t=0,n=0;t<e.length;t+=3,n+=3){let i=e[t+0],a=e[t+1]<<24>>24,o=e[t+2]<<24>>24,s=(i+16)/116,c=a/500+s,l=s-o/200,u,d,f;c=pSe*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),s=mSe*(s*s*s>.008856?s*s*s:(s-16/116)/7.787),l=hSe*(l*l*l>.008856?l*l*l:(l-16/116)/7.787),u=c*3.2406+s*-1.5372+l*-.4986,d=c*-.9689+s*1.8758+l*.0415,f=c*.0557+s*-.204+l*1.057,u=u>.0031308?1.055*u**(1/2.4)-.055:12.92*u,d=d>.0031308?1.055*d**(1/2.4)-.055:12.92*d,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,r[n]=Math.max(0,Math.min(1,u))*255,r[n+1]=Math.max(0,Math.min(1,d))*255,r[n+2]=Math.max(0,Math.min(1,f))*255}return r}var _Se=`modulepreload`,vSe=function(e){return`/`+e},i7={};const a7=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=vSe(t,n),t in i7)return;i7[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:_Se,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var o7=new Map,ySe=new Map;function s7(e,t,n=!0){Array.isArray(e)||(e=[e]),e.forEach(e=>{o7.set(e,t),ySe.set(e,n)})}async function bSe(e){let t=o7.get(e.Compression);if(!t)throw Error(`Unknown compression method identifier: ${e.Compression}`);return new(await(t()))(e)}s7([void 0,1],()=>a7(()=>import(`./raw-CPuYvhyo.js`),[]).then(e=>e.default),!1),s7(5,()=>a7(()=>import(`./lzw-BJ_0x9gb.js`),[]).then(e=>e.default)),s7(6,()=>{throw Error(`old style JPEG compression is not supported.`)}),s7(7,()=>a7(()=>import(`./jpeg-Clo2uy0Z.js`),[]).then(e=>e.default)),s7([8,32946],()=>a7(()=>import(`./deflate-D81GdMBE.js`),__vite__mapDeps([0,1])).then(e=>e.default)),s7(32773,()=>a7(()=>import(`./packbits-STPRYDC_.js`),[]).then(e=>e.default)),s7(34887,()=>a7(()=>import(`./lerc-CNfa03j6.js`),__vite__mapDeps([2,1])).then(async e=>(await e.zstd.init(),e)).then(e=>e.default)),s7(5e4,()=>a7(()=>import(`./zstd-DgYS650j.js`),[]).then(async e=>(await e.zstd.init(),e)).then(e=>e.default)),s7(50001,()=>a7(()=>import(`./webimage-B0gtoM16.js`),[]).then(e=>e.default),!1);function c7(e,t,n,r=1){return new(Object.getPrototypeOf(e)).constructor(t*n*r)}function xSe(e,t,n,r,i){let a=t/r,o=n/i;return e.map(e=>{let s=c7(e,r,i);for(let c=0;c<i;++c){let i=Math.min(Math.round(o*c),n-1);for(let n=0;n<r;++n){let o=Math.min(Math.round(a*n),t-1),l=e[i*t+o];s[c*r+n]=l}}return s})}function l7(e,t,n){return(1-n)*e+n*t}function SSe(e,t,n,r,i){let a=t/r,o=n/i;return e.map(e=>{let s=c7(e,r,i);for(let c=0;c<i;++c){let i=o*c,l=Math.floor(i),u=Math.min(Math.ceil(i),n-1);for(let n=0;n<r;++n){let o=a*n,d=o%1,f=Math.floor(o),p=Math.min(Math.ceil(o),t-1),m=e[l*t+f],h=e[l*t+p],g=e[u*t+f],_=e[u*t+p],v=l7(l7(m,h,d),l7(g,_,d),i%1);s[c*r+n]=v}}return s})}function CSe(e,t,n,r,i,a=`nearest`){switch(a.toLowerCase()){case`nearest`:return xSe(e,t,n,r,i);case`bilinear`:case`linear`:return SSe(e,t,n,r,i);default:throw Error(`Unsupported resampling method: '${a}'`)}}function wSe(e,t,n,r,i,a){let o=t/r,s=n/i,c=c7(e,r,i,a);for(let l=0;l<i;++l){let i=Math.min(Math.round(s*l),n-1);for(let n=0;n<r;++n){let s=Math.min(Math.round(o*n),t-1);for(let o=0;o<a;++o){let u=e[i*t*a+s*a+o];c[l*r*a+n*a+o]=u}}}return c}function TSe(e,t,n,r,i,a){let o=t/r,s=n/i,c=c7(e,r,i,a);for(let l=0;l<i;++l){let i=s*l,u=Math.floor(i),d=Math.min(Math.ceil(i),n-1);for(let n=0;n<r;++n){let s=o*n,f=s%1,p=Math.floor(s),m=Math.min(Math.ceil(s),t-1);for(let o=0;o<a;++o){let s=e[u*t*a+p*a+o],h=e[u*t*a+m*a+o],g=e[d*t*a+p*a+o],_=e[d*t*a+m*a+o],v=l7(l7(s,h,f),l7(g,_,f),i%1);c[l*r*a+n*a+o]=v}}}return c}function ESe(e,t,n,r,i,a,o=`nearest`){switch(o.toLowerCase()){case`nearest`:return wSe(e,t,n,r,i,a);case`bilinear`:case`linear`:return TSe(e,t,n,r,i,a);default:throw Error(`Unsupported resampling method: '${o}'`)}}function DSe(e,t,n){let r=0;for(let i=t;i<n;++i)r+=e[i];return r}function u7(e,t,n){switch(e){case 1:if(t<=8)return new Uint8Array(n);if(t<=16)return new Uint16Array(n);if(t<=32)return new Uint32Array(n);break;case 2:if(t===8)return new Int8Array(n);if(t===16)return new Int16Array(n);if(t===32)return new Int32Array(n);break;case 3:switch(t){case 16:case 32:return new Float32Array(n);case 64:return new Float64Array(n);default:break}break;default:break}throw Error(`Unsupported data format/bitsPerSample`)}function OSe(e,t){return(e===1||e===2)&&t<=32&&t%8==0?!1:!(e===3&&(t===16||t===32||t===64))}function kSe(e,t,n,r,i,a,o){let s=new DataView(e),c=n===2?o*a:o*a*r,l=n===2?1:r,u=u7(t,i,c),d=parseInt(`1`.repeat(i),2);if(t===1){let e;e=n===1?r*i:i;let t=a*e;t&7&&(t=t+7&-8);for(let e=0;e<o;++e){let n=e*t;for(let t=0;t<a;++t){let r=n+t*l*i;for(let n=0;n<l;++n){let o=r+n*i,c=(e*a+t)*l+n,f=Math.floor(o/8),p=o%8;p+i<=8?u[c]=s.getUint8(f)>>8-i-p&d:p+i<=16?u[c]=s.getUint16(f)>>16-i-p&d:p+i<=24?u[c]=(s.getUint16(f)<<8|s.getUint8(f+2))>>24-i-p&d:u[c]=s.getUint32(f)>>32-i-p&d}}}}return u.buffer}var ASe=class{constructor(e,t,n,r,i,a){this.fileDirectory=e,this.geoKeys=t,this.dataView=n,this.littleEndian=r,this.tiles=i?{}:null,this.isTiled=!e.StripOffsets;let o=e.PlanarConfiguration;if(this.planarConfiguration=o===void 0?1:o,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw Error(`Invalid planar configuration.`);this.source=a}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return this.fileDirectory.SamplesPerPixel===void 0?1:this.fileDirectory.SamplesPerPixel}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:this.fileDirectory.RowsPerStrip===void 0?this.getHeight():Math.min(this.fileDirectory.RowsPerStrip,this.getHeight())}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){let t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,n=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(n<=8)return DataView.prototype.getUint8;if(n<=16)return DataView.prototype.getUint16;if(n<=32)return DataView.prototype.getUint32;break;case 2:if(n<=8)return DataView.prototype.getInt8;if(n<=16)return DataView.prototype.getInt16;if(n<=32)return DataView.prototype.getInt32;break;case 3:switch(n){case 16:return function(e,t){return J5(this,e,t)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64;default:break}break;default:break}throw Error(`Unsupported data format/bitsPerSample`)}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,t){return u7(this.getSampleFormat(e),this.getBitsPerSample(e),t)}async getTileOrStrip(e,t,n,r,i){let a=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight()),s,{tiles:c}=this;this.planarConfiguration===1?s=t*a+e:this.planarConfiguration===2&&(s=n*a*o+t*a+e);let l,u;if(this.isTiled?(l=this.fileDirectory.TileOffsets[s],u=this.fileDirectory.TileByteCounts[s]):(l=this.fileDirectory.StripOffsets[s],u=this.fileDirectory.StripByteCounts[s]),u===0){let r=this.getBlockHeight(t)*this.getTileWidth(),i=this.planarConfiguration===2?this.getSampleByteSize(n):this.getBytesPerPixel(),a=new ArrayBuffer(r*i);return this.getArrayForSample(n,a).fill(this.getGDALNoData()||0),{x:e,y:t,sample:n,data:a}}let d=(await this.source.fetch([{offset:l,length:u}],i))[0],f;return c===null||!c[s]?(f=(async()=>{let e=await r.decode(this.fileDirectory,d),n=this.getSampleFormat(),i=this.getBitsPerSample();return OSe(n,i)&&(e=kSe(e,n,this.planarConfiguration,this.getSamplesPerPixel(),i,this.getTileWidth(),this.getBlockHeight(t))),e})(),c!==null&&(c[s]=f)):f=c[s],{x:e,y:t,sample:n,data:await f}}async _readRaster(e,t,n,r,i,a,o,s,c){let l=this.getTileWidth(),u=this.getTileHeight(),d=this.getWidth(),f=this.getHeight(),p=Math.max(Math.floor(e[0]/l),0),m=Math.min(Math.ceil(e[2]/l),Math.ceil(d/l)),h=Math.max(Math.floor(e[1]/u),0),g=Math.min(Math.ceil(e[3]/u),Math.ceil(f/u)),_=e[2]-e[0],v=this.getBytesPerPixel(),y=[],b=[];for(let e=0;e<t.length;++e)this.planarConfiguration===1?y.push(DSe(this.fileDirectory.BitsPerSample,0,t[e])/8):y.push(0),b.push(this.getReaderForSample(t[e]));let x=[],{littleEndian:S}=this;for(let a=h;a<g;++a)for(let o=p;o<m;++o){let s;this.planarConfiguration===1&&(s=this.getTileOrStrip(o,a,0,i,c));for(let p=0;p<t.length;++p){let m=p,h=t[p];this.planarConfiguration===2&&(v=this.getSampleByteSize(h),s=this.getTileOrStrip(o,a,h,i,c));let g=s.then(i=>{let a=i.data,o=new DataView(a),s=this.getBlockHeight(i.y),c=i.y*u,p=i.x*l,h=c+s,g=(i.x+1)*l,x=b[m],C=Math.min(s,s-(h-e[3]),f-c),w=Math.min(l,l-(g-e[2]),d-p);for(let i=Math.max(0,e[1]-c);i<C;++i)for(let a=Math.max(0,e[0]-p);a<w;++a){let s=(i*l+a)*v,u=x.call(o,s+y[m],S),d;r?(d=(i+c-e[1])*_*t.length+(a+p-e[0])*t.length+m,n[d]=u):(d=(i+c-e[1])*_+a+p-e[0],n[m][d]=u)}});x.push(g)}}if(await Promise.all(x),a&&e[2]-e[0]!==a||o&&e[3]-e[1]!==o){let i;return i=r?ESe(n,e[2]-e[0],e[3]-e[1],a,o,t.length,s):CSe(n,e[2]-e[0],e[3]-e[1],a,o,s),i.width=a,i.height=o,i}return n.width=a||e[2]-e[0],n.height=o||e[3]-e[1],n}async readRasters({window:e,samples:t=[],interleave:n,pool:r=null,width:i,height:a,resampleMethod:o,fillValue:s,signal:c}={}){let l=e||[0,0,this.getWidth(),this.getHeight()];if(l[0]>l[2]||l[1]>l[3])throw Error(`Invalid subsets`);let u=(l[2]-l[0])*(l[3]-l[1]),d=this.getSamplesPerPixel();if(!t||!t.length)for(let e=0;e<d;++e)t.push(e);else for(let e=0;e<t.length;++e)if(t[e]>=d)return Promise.reject(RangeError(`Invalid sample index '${t[e]}'.`));let f;if(n)f=u7(this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,Math.max.apply(null,this.fileDirectory.BitsPerSample),u*t.length),s&&f.fill(s);else{f=[];for(let e=0;e<t.length;++e){let n=this.getArrayForSample(t[e],u);Array.isArray(s)&&e<s.length?n.fill(s[e]):s&&!Array.isArray(s)&&n.fill(s),f.push(n)}}let p=r||await bSe(this.fileDirectory);return await this._readRaster(l,t,f,n,p,i,a,o,c)}async readRGB({window:e,interleave:t=!0,pool:n=null,width:r,height:i,resampleMethod:a,enableAlpha:o=!1,signal:s}={}){let c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw Error(`Invalid subsets`);let l=this.fileDirectory.PhotometricInterpretation;if(l===n7.RGB){let c=[0,1,2];if(this.fileDirectory.ExtraSamples!==iSe.Unspecified&&o){c=[];for(let e=0;e<this.fileDirectory.BitsPerSample.length;e+=1)c.push(e)}return this.readRasters({window:e,interleave:t,samples:c,pool:n,width:r,height:i,resampleMethod:a,signal:s})}let u;switch(l){case n7.WhiteIsZero:case n7.BlackIsZero:case n7.Palette:u=[0];break;case n7.CMYK:u=[0,1,2,3];break;case n7.YCbCr:case n7.CIELab:u=[0,1,2];break;default:throw Error(`Invalid or unsupported photometric interpretation.`)}let d={window:c,interleave:!0,samples:u,pool:n,width:r,height:i,resampleMethod:a,signal:s},{fileDirectory:f}=this,p=await this.readRasters(d),m=2**this.fileDirectory.BitsPerSample[0],h;switch(l){case n7.WhiteIsZero:h=cSe(p,m);break;case n7.BlackIsZero:h=lSe(p,m);break;case n7.Palette:h=uSe(p,f.ColorMap);break;case n7.CMYK:h=dSe(p);break;case n7.YCbCr:h=fSe(p);break;case n7.CIELab:h=gSe(p);break;default:throw Error(`Unsupported photometric interpretation.`)}if(!t){let e=new Uint8Array(h.length/3),t=new Uint8Array(h.length/3),n=new Uint8Array(h.length/3);for(let r=0,i=0;r<h.length;r+=3,++i)e[i]=h[r],t[i]=h[r+1],n[i]=h[r+2];h=[e,t,n]}return h.width=p.width,h.height=p.height,h}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];let e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){let t={};if(!this.fileDirectory.GDAL_METADATA)return null;let n=this.fileDirectory.GDAL_METADATA,r=nSe(n,`Item`);r=e===null?r.filter(e=>Y5(e,`sample`)===void 0):r.filter(t=>Number(Y5(t,`sample`))===e);for(let e=0;e<r.length;++e){let n=r[e];t[Y5(n,`name`)]=n.inner}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;let e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){let e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw Error(`The image does not have an affine transformation.`)}getResolution(e=null){let t=this.fileDirectory.ModelPixelScale,n=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(n)return n[1]===0&&n[4]===0?[n[0],-n[5],n[10]]:[Math.sqrt(n[0]*n[0]+n[4]*n[4]),-Math.sqrt(n[1]*n[1]+n[5]*n[5]),n[10]];if(e){let[t,n,r]=e.getResolution();return[t*e.getWidth()/this.getWidth(),n*e.getHeight()/this.getHeight(),r*e.getWidth()/this.getWidth()]}throw Error(`The image does not have an affine transformation.`)}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){let t=this.getHeight(),n=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){let[e,r,i,a,o,s,c,l]=this.fileDirectory.ModelTransformation,u=[[0,0],[0,t],[n,0],[n,t]].map(([t,n])=>[a+e*t+r*n,l+o*t+s*n]),d=u.map(e=>e[0]),f=u.map(e=>e[1]);return[Math.min(...d),Math.min(...f),Math.max(...d),Math.max(...f)]}else{let e=this.getOrigin(),r=this.getResolution(),i=e[0],a=e[1],o=i+r[0]*n,s=a+r[1]*t;return[Math.min(i,o),Math.min(a,s),Math.max(i,o),Math.max(a,s)]}}},jSe=class{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){let n=this.getUint32(e,t),r=this.getUint32(e+4,t),i;if(t){if(i=n+2**32*r,!Number.isSafeInteger(i))throw Error(`${i} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return i}if(i=2**32*n+r,!Number.isSafeInteger(i))throw Error(`${i} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return i}getInt64(e,t){let n=0,r=(this._dataView.getUint8(e+(t?7:0))&128)>0,i=!0;for(let a=0;a<8;a++){let o=this._dataView.getUint8(e+(t?a:7-a));r&&(i?o!==0&&(o=~(o-1)&255,i=!1):o=~o&255),n+=o*256**a}return r&&(n=-n),n}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat16(e,t){return J5(this._dataView,e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}},MSe=class{constructor(e,t,n,r){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=n,this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){let t=this.readUint32(e),n=this.readUint32(e+4),r;if(this._littleEndian){if(r=t+2**32*n,!Number.isSafeInteger(r))throw Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}if(r=2**32*t+n,!Number.isSafeInteger(r))throw Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}readInt64(e){let t=0,n=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0,r=!0;for(let i=0;i<8;i++){let a=this._dataView.getUint8(e+(this._littleEndian?i:7-i));n&&(r?a!==0&&(a=~(a-1)&255,r=!1):a=~a&255),t+=a*256**i}return n&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}},NSe=`\r
\r
`;function d7(e){if(Object.fromEntries!==void 0)return Object.fromEntries(e);let t={};for(let[n,r]of e)t[n.toLowerCase()]=r;return t}function PSe(e){return d7(e.split(`\r
`).map(e=>{let t=e.split(`:`).map(e=>e.trim());return t[0]=t[0].toLowerCase(),t}))}function FSe(e){let[t,...n]=e.split(`;`).map(e=>e.trim());return{type:t,params:d7(n.map(e=>e.split(`=`)))}}function f7(e){let t,n,r;return e&&([,t,n,r]=e.match(/bytes (\d+)-(\d+)\/(\d+)/),t=parseInt(t,10),n=parseInt(n,10),r=parseInt(r,10)),{start:t,end:n,total:r}}function ISe(e,t){let n=null,r=new TextDecoder(`ascii`),i=[],a=`--${t}`,o=`${a}--`;for(let t=0;t<10;++t)r.decode(new Uint8Array(e,t,a.length))===a&&(n=t);if(n===null)throw Error(`Could not find initial boundary`);for(;n<e.byteLength;){let t=r.decode(new Uint8Array(e,n,Math.min(a.length+1024,e.byteLength-n)));if(t.length===0||t.startsWith(o))break;if(!t.startsWith(a))throw Error(`Part does not start with boundary`);let s=t.substr(a.length+2);if(s.length===0)break;let c=s.indexOf(NSe),l=PSe(s.substr(0,c)),{start:u,end:d,total:f}=f7(l[`content-range`]),p=n+a.length+c+4,m=parseInt(d,10)+1-parseInt(u,10);i.push({headers:l,data:e.slice(p,p+m),offset:u,length:m,fileSize:f}),n=p+m+4}return i}var p7=class{async fetch(e,t=void 0){return Promise.all(e.map(e=>this.fetchSlice(e,t)))}async fetchSlice(e){throw Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}},m7=class extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge==`number`&&e.maxAge===0)throw TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||1/0,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction==`function`)for(let[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return typeof t.expiry==`number`&&t.expiry<=Date.now()?(typeof this.onEviction==`function`&&this.onEviction(e,t.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,t){if(this._deleteIfExpired(e,t)===!1)return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){let n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(let e of this.oldCache){let[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)===!1&&(yield e)}for(let e of this.cache){let[t,n]=e;this._deleteIfExpired(t,n)===!1&&(yield e)}}get(e){if(this.cache.has(e)){let t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){let t=this.oldCache.get(e);if(this._deleteIfExpired(e,t)===!1)return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=this.maxAge}={}){let r=typeof n==`number`&&n!==1/0?Date.now()+n:void 0;return this.cache.has(e)?this.cache.set(e,{value:t,expiry:r}):this._set(e,{value:t,expiry:r}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){let t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw TypeError("`maxSize` must be a number greater than 0");let t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache){let[t,n]=e;this._deleteIfExpired(t,n)===!1&&(yield[t,n.value])}for(let e of this.oldCache){let[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)===!1&&(yield[t,n.value])}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){let[n,r]=e[t];this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){let[n,r]=e[t];this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}}*entriesAscending(){for(let[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(let t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(let[n,r]of this.entriesAscending())e.call(t,r,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};async function LSe(e){return new Promise(t=>setTimeout(t,e))}function RSe(e,t){let n=Array.isArray(e)?e:Array.from(e),r=Array.isArray(t)?t:Array.from(t);return n.map((e,t)=>[e,r[t]])}var h7=class e extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,e),this.name=`AbortError`}};const zSe=class extends Error{constructor(e,t){super(t),this.errors=e,this.message=t,this.name=`AggregateError`}};var BSe=class{constructor(e,t,n=null){this.offset=e,this.length=t,this.data=n}get top(){return this.offset+this.length}},g7=class{constructor(e,t,n){this.offset=e,this.length=t,this.blockIds=n}},VSe=class extends p7{constructor(e,{blockSize:t=65536,cacheSize:n=100}={}){super(),this.source=e,this.blockSize=t,this.blockCache=new m7({maxSize:n,onEviction:(e,t)=>{this.evictedBlocks.set(e,t)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,t){let n=[],r=[],i=[];this.evictedBlocks.clear();for(let{offset:t,length:a}of e){let e=t+a,{fileSize:o}=this;o!==null&&(e=Math.min(e,o));let s=Math.floor(t/this.blockSize)*this.blockSize;for(let t=s;t<e;t+=this.blockSize){let e=Math.floor(t/this.blockSize);!this.blockCache.has(e)&&!this.blockRequests.has(e)&&(this.blockIdsToFetch.add(e),r.push(e)),this.blockRequests.has(e)&&n.push(this.blockRequests.get(e)),i.push(e)}}await LSe(),this.fetchBlocks(t);let a=[];for(let e of r)this.blockRequests.has(e)&&a.push(this.blockRequests.get(e));await Promise.allSettled(n),await Promise.allSettled(a);let o=[],s=i.filter(e=>this.abortedBlockIds.has(e)||!this.blockCache.has(e));if(s.forEach(e=>this.blockIdsToFetch.add(e)),s.length>0&&t&&!t.aborted){this.fetchBlocks(null);for(let e of s){let t=this.blockRequests.get(e);if(!t)throw Error(`Block ${e} is not in the block requests`);o.push(t)}await Promise.allSettled(o)}if(t&&t.aborted)throw new h7(`Request was aborted`);let c=i.map(e=>this.blockCache.get(e)||this.evictedBlocks.get(e)),l=c.filter(e=>!e);if(l.length)throw new zSe(l,`Request failed`);let u=new Map(RSe(i,c));return this.readSliceData(e,u)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){let t=this.groupBlocks(this.blockIdsToFetch),n=this.source.fetch(t,e);for(let r=0;r<t.length;++r){let i=t[r];for(let t of i.blockIds)this.blockRequests.set(t,(async()=>{try{let e=(await n)[r],i=t*this.blockSize,a=i-e.offset,o=Math.min(a+this.blockSize,e.data.byteLength),s=e.data.slice(a,o),c=new BSe(i,s.byteLength,s,t);this.blockCache.set(t,c),this.abortedBlockIds.delete(t)}catch(n){if(n.name===`AbortError`)n.signal=e,this.blockCache.delete(t),this.abortedBlockIds.add(t);else throw n}finally{this.blockRequests.delete(t)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){let t=Array.from(e).sort((e,t)=>e-t);if(t.length===0)return[];let n=[],r=null,i=[];for(let e of t)r===null||r+1===e?(n.push(e),r=e):(i.push(new g7(n[0]*this.blockSize,n.length*this.blockSize,n)),n=[e],r=e);return i.push(new g7(n[0]*this.blockSize,n.length*this.blockSize,n)),i}readSliceData(e,t){return e.map(e=>{let n=e.offset+e.length;this.fileSize!==null&&(n=Math.min(this.fileSize,n));let r=Math.floor(e.offset/this.blockSize),i=Math.floor((n-1)/this.blockSize),a=new ArrayBuffer(e.length),o=new Uint8Array(a);for(let a=r;a<=i;++a){let r=t.get(a),i=r.offset-e.offset,s=r.top-n,c=0,l=0,u;i<0?c=-i:i>0&&(l=i),u=s<0?r.length-c:n-r.offset-c;let d=new Uint8Array(r.data,c,u);o.set(d,l)}return a})}},_7=class{get ok(){return this.status>=200&&this.status<=299}get status(){throw Error(`not implemented`)}getHeader(e){throw Error(`not implemented`)}async getData(){throw Error(`not implemented`)}},v7=class{constructor(e){this.url=e}async request({headers:e,signal:t}={}){throw Error(`request is not implemented`)}},HSe=class extends _7{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}},USe=class extends v7{constructor(e,t){super(e),this.credentials=t}async request({headers:e,signal:t}={}){return new HSe(await fetch(this.url,{headers:e,credentials:this.credentials,signal:t}))}},WSe=class extends _7{constructor(e,t){super(),this.xhr=e,this.data=t}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}},GSe=class extends v7{constructRequest(e,t){return new Promise((n,r)=>{let i=new XMLHttpRequest;i.open(`GET`,this.url),i.responseType=`arraybuffer`;for(let[t,n]of Object.entries(e))i.setRequestHeader(t,n);i.onload=()=>{let e=i.response;n(new WSe(i,e))},i.onerror=r,i.onabort=()=>r(new h7(`Request aborted`)),i.send(),t&&(t.aborted&&i.abort(),t.addEventListener(`abort`,()=>i.abort()))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}},KSe=l(EX(),1),qSe=l(EX(),1),JSe=l(EX(),1),YSe=class extends _7{constructor(e,t){super(),this.response=e,this.dataPromise=t}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}},XSe=class extends v7{constructor(e){super(e),this.parsedUrl=JSe.default.parse(this.url),this.httpApi=this.parsedUrl.protocol===`http:`?KSe.default:qSe.default}constructRequest(e,t){return new Promise((n,r)=>{let i=this.httpApi.get({...this.parsedUrl,headers:e},e=>{n(new YSe(e,new Promise(t=>{let n=[];e.on(`data`,e=>{n.push(e)}),e.on(`end`,()=>{let e=Buffer.concat(n).buffer;t(e)}),e.on(`error`,r)})))});i.on(`error`,r),t&&(t.aborted&&i.destroy(new h7(`Request aborted`)),t.addEventListener(`abort`,()=>i.destroy(new h7(`Request aborted`))))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}},y7=class extends p7{constructor(e,t,n,r){super(),this.client=e,this.headers=t,this.maxRanges=n,this.allowFullFile=r,this._fileSize=null}async fetch(e,t){return this.maxRanges>=e.length?this.fetchSlices(e,t):(this.maxRanges>0&&e.length,Promise.all(e.map(e=>this.fetchSlice(e,t))))}async fetchSlices(e,t){let n=await this.client.request({headers:{...this.headers,Range:`bytes=${e.map(({offset:e,length:t})=>`${e}-${e+t}`).join(`,`)}`},signal:t});if(n.ok)if(n.status===206){let{type:r,params:i}=FSe(n.getHeader(`content-type`));if(r===`multipart/byteranges`){let e=ISe(await n.getData(),i.boundary);return this._fileSize=e[0].fileSize||null,e}let a=await n.getData(),{start:o,end:s,total:c}=f7(n.getHeader(`content-range`));this._fileSize=c||null;let l=[{data:a,offset:o,length:s-o}];if(e.length>1){let n=await Promise.all(e.slice(1).map(e=>this.fetchSlice(e,t)));return l.concat(n)}return l}else{if(!this.allowFullFile)throw Error(`Server responded with full file`);let e=await n.getData();return this._fileSize=e.byteLength,[{data:e,offset:0,length:e.byteLength}]}else throw Error(`Error fetching data.`)}async fetchSlice(e,t){let{offset:n,length:r}=e,i=await this.client.request({headers:{...this.headers,Range:`bytes=${n}-${n+r}`},signal:t});if(i.ok)if(i.status===206){let e=await i.getData(),{total:t}=f7(i.getHeader(`content-range`));return this._fileSize=t||null,{data:e,offset:n,length:r}}else{if(!this.allowFullFile)throw Error(`Server responded with full file`);let e=await i.getData();return this._fileSize=e.byteLength,{data:e,offset:0,length:e.byteLength}}else throw Error(`Error fetching data.`)}get fileSize(){return this._fileSize}};function b7(e,{blockSize:t,cacheSize:n}){return t===null?e:new VSe(e,{blockSize:t,cacheSize:n})}function ZSe(e,{headers:t={},credentials:n,maxRanges:r=0,allowFullFile:i=!1,...a}={}){return b7(new y7(new USe(e,n),t,r,i),a)}function QSe(e,{headers:t={},maxRanges:n=0,allowFullFile:r=!1,...i}={}){return b7(new y7(new GSe(e),t,n,r),i)}function $Se(e,{headers:t={},maxRanges:n=0,allowFullFile:r=!1,...i}={}){return b7(new y7(new XSe(e),t,n,r),i)}function eCe(e,{forceXHR:t=!1,...n}={}){return typeof fetch==`function`&&!t?ZSe(e,n):typeof XMLHttpRequest<`u`?QSe(e,n):$Se(e,n)}var tCe=class extends p7{constructor(e){super(),this.file=e}async fetchSlice(e,t){return new Promise((n,r)=>{let i=this.file.slice(e.offset,e.offset+e.length),a=new FileReader;a.onload=e=>n(e.target.result),a.onerror=r,a.onabort=r,a.readAsArrayBuffer(i),t&&t.addEventListener(`abort`,()=>a.abort())})}};function nCe(e){return new tCe(e)}function rCe(e,t){let n=e.length-t,r=0;do{for(let n=t;n>0;n--)e[r+t]+=e[r],r++;n-=t}while(n>0)}function iCe(e,t,n){let r=0,i=e.length,a=i/n;for(;i>t;){for(let n=t;n>0;--n)e[r+t]+=e[r],++r;i-=t}let o=e.slice();for(let t=0;t<a;++t)for(let r=0;r<n;++r)e[n*t+r]=o[(n-r-1)*a+t]}function aCe(e,t,n,r,i,a){if(!t||t===1)return e;for(let e=0;e<i.length;++e){if(i[e]%8!=0)throw Error(`When decoding with predictor, only multiple of 8 bits are supported.`);if(i[e]!==i[0])throw Error(`When decoding with predictor, all samples must have the same size.`)}let o=i[0]/8,s=a===2?1:i.length;for(let a=0;a<r&&!(a*s*n*o>=e.byteLength);++a){let r;if(t===2){switch(i[0]){case 8:r=new Uint8Array(e,a*s*n*o,s*n*o);break;case 16:r=new Uint16Array(e,a*s*n*o,s*n*o/2);break;case 32:r=new Uint32Array(e,a*s*n*o,s*n*o/4);break;default:throw Error(`Predictor 2 not allowed with ${i[0]} bits per sample.`)}rCe(r,s,o)}else t===3&&(r=new Uint8Array(e,a*s*n*o,s*n*o),iCe(r,s,o))}return e}var oCe=class{async decode(e,t){let n=await this.decodeBlock(t),r=e.Predictor||1;if(r!==1){let t=!e.StripOffsets;return aCe(n,r,t?e.TileWidth:e.ImageWidth,t?e.TileLength:e.RowsPerStrip||e.ImageLength,e.BitsPerSample,e.PlanarConfiguration)}return n}};function x7(e){switch(e){case t7.BYTE:case t7.ASCII:case t7.SBYTE:case t7.UNDEFINED:return 1;case t7.SHORT:case t7.SSHORT:return 2;case t7.LONG:case t7.SLONG:case t7.FLOAT:case t7.IFD:return 4;case t7.RATIONAL:case t7.SRATIONAL:case t7.DOUBLE:case t7.LONG8:case t7.SLONG8:case t7.IFD8:return 8;default:throw RangeError(`Invalid field type: ${e}`)}}function sCe(e){let t=e.GeoKeyDirectory;if(!t)return null;let n={};for(let r=4;r<=t[3]*4;r+=4){let i=r7[t[r]],a=t[r+1]?Q5[t[r+1]]:null,o=t[r+2],s=t[r+3],c=null;if(!a)c=s;else{if(c=e[a],c==null)throw Error(`Could not get value of geoKey '${i}'.`);typeof c==`string`?c=c.substring(s,s+o-1):c.subarray&&(c=c.subarray(s,s+o),o===1&&(c=c[0]))}n[i]=c}return n}function S7(e,t,n,r){let i=null,a=null,o=x7(t);switch(t){case t7.BYTE:case t7.ASCII:case t7.UNDEFINED:i=new Uint8Array(n),a=e.readUint8;break;case t7.SBYTE:i=new Int8Array(n),a=e.readInt8;break;case t7.SHORT:i=new Uint16Array(n),a=e.readUint16;break;case t7.SSHORT:i=new Int16Array(n),a=e.readInt16;break;case t7.LONG:case t7.IFD:i=new Uint32Array(n),a=e.readUint32;break;case t7.SLONG:i=new Int32Array(n),a=e.readInt32;break;case t7.LONG8:case t7.IFD8:i=Array(n),a=e.readUint64;break;case t7.SLONG8:i=Array(n),a=e.readInt64;break;case t7.RATIONAL:i=new Uint32Array(n*2),a=e.readUint32;break;case t7.SRATIONAL:i=new Int32Array(n*2),a=e.readInt32;break;case t7.FLOAT:i=new Float32Array(n),a=e.readFloat32;break;case t7.DOUBLE:i=new Float64Array(n),a=e.readFloat64;break;default:throw RangeError(`Invalid field type: ${t}`)}if(t===t7.RATIONAL||t===t7.SRATIONAL)for(let t=0;t<n;t+=2)i[t]=a.call(e,r+t*o),i[t+1]=a.call(e,r+(t*o+4));else for(let t=0;t<n;++t)i[t]=a.call(e,r+t*o);return t===t7.ASCII?new TextDecoder(`utf-8`).decode(i):i}var cCe=class{constructor(e,t,n,r){this.fileDirectory=e,this.rawFileDirectory=t,this.geoKeyDirectory=n,this.nextIFDByteOffset=r}},C7=class extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}},lCe=class{async readRasters(e={}){let{window:t,width:n,height:r}=e,{resX:i,resY:a,bbox:o}=e,s=await this.getImage(),c=s,l=await this.getImageCount(),u=s.getBoundingBox();if(t&&o)throw Error(`Both "bbox" and "window" passed.`);if(n||r){if(t){let[e,n]=s.getOrigin(),[r,i]=s.getResolution();o=[e+t[0]*r,n+t[1]*i,e+t[2]*r,n+t[3]*i]}let e=o||u;if(n){if(i)throw Error(`Both width and resX passed`);i=(e[2]-e[0])/n}if(r){if(a)throw Error(`Both width and resY passed`);a=(e[3]-e[1])/r}}if(i||a){let e=[];for(let t=0;t<l;++t){let n=await this.getImage(t),{SubfileType:r,NewSubfileType:i}=n.fileDirectory;(t===0||r===2||i&1)&&e.push(n)}e.sort((e,t)=>e.getWidth()-t.getWidth());for(let t=0;t<e.length;++t){let n=e[t],r=(u[2]-u[0])/n.getWidth(),o=(u[3]-u[1])/n.getHeight();if(c=n,i&&i>r||a&&a>o)break}}let d=t;if(o){let[e,t]=s.getOrigin(),[n,r]=c.getResolution(s);d=[Math.round((o[0]-e)/n),Math.round((o[1]-t)/r),Math.round((o[2]-e)/n),Math.round((o[3]-t)/r)],d=[Math.min(d[0],d[2]),Math.min(d[1],d[3]),Math.max(d[0],d[2]),Math.max(d[1],d[3])]}return c.readRasters({...e,window:d})}},w7=class e extends lCe{constructor(e,t,n,r,i={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=n,this.firstIFDOffset=r,this.cache=i.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){let n=this.bigTiff?4048:1024;return new MSe((await this.source.fetch([{offset:e,length:t===void 0?n:t}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){let t=this.bigTiff?20:12,n=this.bigTiff?8:2,r=await this.getSlice(e),i=this.bigTiff?r.readUint64(e):r.readUint16(e),a=i*t+(this.bigTiff?16:6);r.covers(e,a)||(r=await this.getSlice(e,a));let o={},s=new Map,c=e+(this.bigTiff?8:2);for(let e=0;e<i;c+=t,++e){let e=r.readUint16(c),t=r.readUint16(c+2),n=this.bigTiff?r.readUint64(c+4):r.readUint32(c+4),i,a,l=x7(t),u=c+(this.bigTiff?12:8);if(l*n<=(this.bigTiff?8:4))i=S7(r,t,n,u);else{let e=r.readOffset(u),a=x7(t)*n;i=r.covers(e,a)?S7(r,t,n,e):S7(await this.getSlice(e,a),t,n,e)}a=n===1&&rSe.indexOf(e)===-1&&!(t===t7.RATIONAL||t===t7.SRATIONAL)?i[0]:i;let d=Q5[e];d&&(o[d]=a),s.set(e,a)}return new cCe(o,s,sCe(o),r.readOffset(e+n+t*i))}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){throw t instanceof C7?new C7(e):t}return this.ifdRequests[e]=(async()=>{let t=await this.ifdRequests[e-1];if(t.nextIFDByteOffset===0)throw new C7(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){let t=await this.requestIFD(e);return new ASe(t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;for(;t;)try{await this.requestIFD(e),++e}catch(e){if(e instanceof C7)t=!1;else throw e}return e}async getGhostValues(){let e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;let t=await this.getSlice(e,130);if(S7(t,t7.ASCII,30,e)===`GDAL_STRUCTURAL_METADATA_SIZE=`){let n=S7(t,t7.ASCII,130,e).split(`
`)[0],r=Number(n.split(`=`)[1].split(` `)[0])+n.length;r>130&&(t=await this.getSlice(e,r));let i=S7(t,t7.ASCII,r,e);this.ghostValues={},i.split(`
`).filter(e=>e.length>0).map(e=>e.split(`=`)).forEach(([e,t])=>{this.ghostValues[e]=t})}return this.ghostValues}static async fromSource(t,n,r){let i=(await t.fetch([{offset:0,length:1024}],r))[0],a=new jSe(i),o=a.getUint16(0,0),s;if(o===18761)s=!0;else if(o===19789)s=!1;else throw TypeError(`Invalid byte order value.`);let c=a.getUint16(2,s),l;if(c===42)l=!1;else if(c===43){if(l=!0,a.getUint16(4,s)!==8)throw Error(`Unsupported offset byte-size.`)}else throw TypeError(`Invalid magic number.`);let u=l?a.getUint64(8,s):a.getUint32(4,s);return new e(t,s,l,u,n)}close(){return typeof this.source.close==`function`?this.source.close():!1}};async function uCe(e,t={},n){return w7.fromSource(eCe(e,t),n)}async function dCe(e,t){return w7.fromSource(nCe(e),t)}var T7={ColorSpace:{RGB:0,HSV:1,LAB:2,DIVERGING:3},Scale:{LINEAR:0,LOG10:1}},{ColorSpace:E7,Scale:D7}=T7,{ScalarMappingTarget:O7}=z1,{vtkDebugMacro:fCe,vtkErrorMacro:k7,vtkWarningMacro:pCe}=$;function A7(e,t){let n=e[0],r=e[1],i=e[2],a=Math.sqrt(n*n+r*r+i*i),o=a>.001?Math.acos(n/a):0,s=o>.001?Math.atan2(i,r):0;t[0]=a,t[1]=o,t[2]=s}function mCe(e,t){let n=e[0],r=e[1],i=e[2];t[0]=n*Math.cos(r),t[1]=n*Math.sin(r)*Math.cos(i),t[2]=n*Math.sin(r)*Math.sin(i)}function j7(e,t){if(e[0]>=t-.1)return e[2];let n=e[1]*Math.sqrt(t*t-e[0]*e[0])/(e[0]*Math.sin(e[1]));return e[2]>-.3*Math.PI?e[2]+n:e[2]-n}function hCe(e,t){let n=e-t;for(n<0&&(n=-n);n>=2*Math.PI;)n-=2*Math.PI;return n>Math.PI&&(n=2*Math.PI-n),n}function M7(e,t,n,r){let i=[],a=[];vQ(t,i),vQ(n,a);let o=[],s=[];A7(i,o),A7(a,s);let c=e;if(o[1]>.05&&s[1]>.05&&hCe(o[2],s[2])>.33*Math.PI){let t=Math.max(o[0],s[0]);t=Math.max(88,t),e<.5?(s[0]=t,s[1]=0,s[2]=0,c*=2):(o[0]=t,o[1]=0,o[2]=0,c=2*c-1)}o[1]<.05&&s[1]>.05?o[2]=j7(s,o[0]):s[1]<.05&&o[1]>.05&&(s[2]=j7(o,s[0]));let l=[];l[0]=(1-c)*o[0]+c*s[0],l[1]=(1-c)*o[1]+c*s[1],l[2]=(1-c)*o[2]+c*s[2];let u=[];mCe(l,u),yQ(u,r)}function gCe(e,t){t.classHierarchy.push(`vtkColorTransferFunction`),e.getSize=()=>t.nodes.length,e.addRGBPoint=(t,n,r,i)=>e.addRGBPointLong(t,n,r,i,.5,0),e.addRGBPointLong=function(n,r,i,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(o<0||o>1)return k7(`Midpoint outside range [0.0, 1.0]`),-1;if(s<0||s>1)return k7(`Sharpness outside range [0.0, 1.0]`),-1;t.allowDuplicateScalars||e.removePoint(n);let c={x:n,r,g:i,b:a,midpoint:o,sharpness:s};t.nodes.push(c),e.sortAndUpdateRange();let l=0;for(;l<t.nodes.length&&t.nodes[l].x!==n;l++);return l<t.nodes.length?l:-1},e.addHSVPoint=(t,n,r,i)=>e.addHSVPointLong(t,n,r,i,.5,0),e.addHSVPointLong=function(t,n,r,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,s=[];return pQ([n,r,i],s),e.addRGBPoint(t,s[0],s[1],s[2],a,o)},e.setNodes=n=>{if(t.nodes!==n){let r=JSON.stringify(t.nodes);t.nodes=n;let i=JSON.stringify(t.nodes);if(e.sortAndUpdateRange()||r!==i)return e.modified(),!0}return!1},e.sortAndUpdateRange=()=>{let n=JSON.stringify(t.nodes);t.nodes.sort((e,t)=>e.x-t.x);let r=JSON.stringify(t.nodes),i=e.updateRange();return!i&&n!==r?(e.modified(),!0):i},e.updateRange=()=>{let n=[2];n[0]=t.mappingRange[0],n[1]=t.mappingRange[1];let r=t.nodes.length;return r?(t.mappingRange[0]=t.nodes[0].x,t.mappingRange[1]=t.nodes[r-1].x):(t.mappingRange[0]=0,t.mappingRange[1]=0),n[0]===t.mappingRange[0]&&n[1]===t.mappingRange[1]?!1:(e.modified(),!0)},e.removePoint=n=>{let r=0;for(;r<t.nodes.length&&t.nodes[r].x!==n;r++);let i=r;if(r>=t.nodes.length)return-1;let a=!1;return t.nodes.splice(r,1),(r===0||r===t.nodes.length)&&(a=e.updateRange()),a||e.modified(),i},e.movePoint=(n,r)=>{if(n!==r){e.removePoint(r);for(let i=0;i<t.nodes.length;i++)if(t.nodes[i].x===n){t.nodes[i].x=r,e.sortAndUpdateRange();break}}},e.removeAllPoints=()=>{t.nodes=[],e.sortAndUpdateRange()},e.addRGBSegment=(n,r,i,a,o,s,c,l)=>{e.sortAndUpdateRange();for(let e=0;e<t.nodes.length;)t.nodes[e].x>=n&&t.nodes[e].x<=o?t.nodes.splice(e,1):e++;e.addRGBPointLong(n,r,i,a,.5,0),e.addRGBPointLong(o,s,c,l,.5,0),e.modified()},e.addHSVSegment=(t,n,r,i,a,o,s,c)=>{let l=[n,r,i],u=[o,s,c],d=[],f=[];pQ(l,d),pQ(u,f),e.addRGBSegment(t,d[0],d[1],d[2],a,f[0],f[1],f[2])},e.mapValue=t=>{let n=[];return e.getColor(t,n),[Math.floor(255*n[0]+.5),Math.floor(255*n[1]+.5),Math.floor(255*n[2]+.5),255]},e.getColor=(n,r)=>{if(t.indexedLookup){let t=e.getSize(),i=e.getAnnotatedValueIndexInternal(n);if(i<0||t===0){let t=e.getNanColorByReference();r[0]=t[0],r[1]=t[1],r[2]=t[2]}else{let n=[];e.getNodeValue(i%t,n),r[0]=n[1],r[1]=n[2],r[2]=n[3]}return}e.getTable(n,n,1,r)},e.getRedValue=t=>{let n=[];return e.getColor(t,n),n[0]},e.getGreenValue=t=>{let n=[];return e.getColor(t,n),n[1]},e.getBlueValue=t=>{let n=[];return e.getColor(t,n),n[2]},e.logScaleEnabled=()=>t.scale===D7.LOG10,e.usingLogScale=()=>e.logScaleEnabled()&&t.mappingRange[0]>0,e.getTable=(n,r,i,a)=>{let o=e.usingLogScale(),s=o?Math.log10(Number(n)):Number(n),c=o?Math.log10(Number(r)):Number(r);if(PQ(s)||PQ(c)){for(let e=0;e<i;e++)a[e*3+0]=t.nanColor[0],a[e*3+1]=t.nanColor[1],a[e*3+2]=t.nanColor[2];return}let l=0,u=t.nodes.length,d=0,f=0,p=0;u!==0&&(d=t.nodes[u-1].r,f=t.nodes[u-1].g,p=t.nodes[u-1].b);let m=0,h=0,g=0,_=[0,0,0],v=[0,0,0],y=0,b=0,x=[],S=t.mappingRange;o&&(S=[Math.log10(t.mappingRange[0]),Math.log10(t.mappingRange[1])]);for(let n=0;n<i;n++){let r=3*n;if(m=i>1?s+n/(i-1)*(c-s):.5*(s+c),t.discretize){let e=S;if(m>=e[0]&&m<=e[1]){let n=t.numberOfValues,r=e[1]-e[0];if(n<=1)m=e[0]+r/2;else{let t=GX(n*((m-e[0])/r));m=e[0]+t/(n-1)*r}}}for(;l<u&&m>t.nodes[l].x;)l++,l<u&&(h=t.nodes[l-1].x,g=t.nodes[l].x,_[0]=t.nodes[l-1].r,v[0]=t.nodes[l].r,_[1]=t.nodes[l-1].g,v[1]=t.nodes[l].g,_[2]=t.nodes[l-1].b,v[2]=t.nodes[l].b,y=t.nodes[l-1].midpoint,b=t.nodes[l-1].sharpness,y<1e-5&&(y=1e-5),y>.99999&&(y=.99999));if(m>S[1])a[r]=0,a[r+1]=0,a[r+2]=0,t.clamping&&(e.getUseAboveRangeColor()?(a[r]=t.aboveRangeColor[0],a[r+1]=t.aboveRangeColor[1],a[r+2]=t.aboveRangeColor[2]):(a[r]=d,a[r+1]=f,a[r+2]=p));else if(m<S[0]||MQ(m)&&m<0)a[r]=0,a[r+1]=0,a[r+2]=0,t.clamping&&(e.getUseBelowRangeColor()?(a[r]=t.belowRangeColor[0],a[r+1]=t.belowRangeColor[1],a[r+2]=t.belowRangeColor[2]):u>0&&(a[r]=t.nodes[0].r,a[r+1]=t.nodes[0].g,a[r+2]=t.nodes[0].b));else if(l===0&&(Math.abs(m-s)<1e-6||t.discretize))u>0?(a[r]=t.nodes[0].r,a[r+1]=t.nodes[0].g,a[r+2]=t.nodes[0].b):(a[r]=0,a[r+1]=0,a[r+2]=0);else{let e=0;if(e=(m-h)/(g-h),e=e<y?.5*e/y:.5+.5*(e-y)/(1-y),b>.99)if(e<.5){a[r]=_[0],a[r+1]=_[1],a[r+2]=_[2];continue}else{a[r]=v[0],a[r+1]=v[1],a[r+2]=v[2];continue}if(b<.01){if(t.colorSpace===E7.RGB)a[r]=(1-e)*_[0]+e*v[0],a[r+1]=(1-e)*_[1]+e*v[1],a[r+2]=(1-e)*_[2]+e*v[2];else if(t.colorSpace===E7.HSV){let n=[],i=[];fQ(_,n),fQ(v,i),t.hSVWrap&&(n[0]-i[0]>.5||i[0]-n[0]>.5)&&(n[0]>i[0]?--n[0]:--i[0]);let o=[];o[0]=(1-e)*n[0]+e*i[0],o[0]<0&&(o[0]+=1),o[1]=(1-e)*n[1]+e*i[1],o[2]=(1-e)*n[2]+e*i[2],pQ(o,x),a[r]=x[0],a[r+1]=x[1],a[r+2]=x[2]}else if(t.colorSpace===E7.LAB){let t=[],n=[];vQ(_,t),vQ(v,n);let i=[];i[0]=(1-e)*t[0]+e*n[0],i[1]=(1-e)*t[1]+e*n[1],i[2]=(1-e)*t[2]+e*n[2],yQ(i,x),a[r]=x[0],a[r+1]=x[1],a[r+2]=x[2]}else t.colorSpace===E7.DIVERGING?(M7(e,_,v,x),a[r]=x[0],a[r+1]=x[1],a[r+2]=x[2]):k7(`ColorSpace set to invalid value.`,t.colorSpace);continue}e<.5?e=.5*(e*2)**(1+10*b):e>.5&&(e=1-.5*((1-e)*2)**(1+10*b));let n=e*e,i=n*e,o=2*i-3*n+1,s=-2*i+3*n,c=i-2*n+e,l=i-n,u,d;if(t.colorSpace===E7.RGB)for(let e=0;e<3;e++)u=v[e]-_[e],d=(1-b)*u,a[r+e]=o*_[e]+s*v[e]+c*d+l*d;else if(t.colorSpace===E7.HSV){let e=[],n=[];fQ(_,e),fQ(v,n),t.hSVWrap&&(e[0]-n[0]>.5||n[0]-e[0]>.5)&&(e[0]>n[0]?--e[0]:--n[0]);let i=[];for(let t=0;t<3;t++)u=n[t]-e[t],d=(1-b)*u,i[t]=o*e[t]+s*n[t]+c*d+l*d,t===0&&i[t]<0&&(i[t]+=1);pQ(i,x),a[r]=x[0],a[r+1]=x[1],a[r+2]=x[2]}else if(t.colorSpace===E7.LAB){let e=[],t=[];vQ(_,e),vQ(v,t);let n=[];for(let r=0;r<3;r++)u=t[r]-e[r],d=(1-b)*u,n[r]=o*e[r]+s*t[r]+c*d+l*d;yQ(n,x),a[r]=x[0],a[r+1]=x[1],a[r+2]=x[2]}else t.colorSpace===E7.DIVERGING?(M7(e,_,v,x),a[r]=x[0],a[r+1]=x[1],a[r+2]=x[2]):k7(`ColorSpace set to invalid value.`);for(let e=0;e<3;e++)a[r+e]=a[r+e]<0?0:a[r+e],a[r+e]=a[r+e]>1?1:a[r+e]}}},e.getUint8Table=function(n,r,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.getMTime()<=t.buildTime&&t.tableSize===i&&t.tableWithAlpha!==a)return t.table;if(t.nodes.length===0)return k7(`Attempting to lookup a value with no points in the function`),t.table;let o=a?4:3;(t.tableSize!==i||t.tableWithAlpha!==a)&&(t.table=new Uint8Array(i*o),t.tableSize=i,t.tableWithAlpha=a);let s=[];e.getTable(n,r,i,s);for(let e=0;e<i;e++)t.table[e*o+0]=Math.floor(s[e*3+0]*255+.5),t.table[e*o+1]=Math.floor(s[e*3+1]*255+.5),t.table[e*o+2]=Math.floor(s[e*3+2]*255+.5),a&&(t.table[e*o+3]=255);return t.buildTime.modified(),t.table},e.buildFunctionFromArray=n=>{e.removeAllPoints();let r=n.getNumberOfComponents();for(let e=0;e<n.getNumberOfTuples();e++)switch(r){case 3:t.nodes.push({x:e,r:n.getComponent(e,0),g:n.getComponent(e,1),b:n.getComponent(e,2),midpoint:.5,sharpness:0});break;case 4:t.nodes.push({x:n.getComponent(e,0),r:n.getComponent(e,1),g:n.getComponent(e,2),b:n.getComponent(e,3),midpoint:.5,sharpness:0});break;case 5:t.nodes.push({x:e,r:n.getComponent(e,0),g:n.getComponent(e,1),b:n.getComponent(e,2),midpoint:n.getComponent(e,4),sharpness:n.getComponent(e,5)});break;case 6:t.nodes.push({x:n.getComponent(e,0),r:n.getComponent(e,1),g:n.getComponent(e,2),b:n.getComponent(e,3),midpoint:n.getComponent(e,4),sharpness:n.getComponent(e,5)});break}e.sortAndUpdateRange()},e.buildFunctionFromTable=(n,r,i,a)=>{let o=0;e.removeAllPoints(),i>1&&(o=(r-n)/(i-1));for(let e=0;e<i;e++){let r={x:n+o*e,r:a[e*3],g:a[e*3+1],b:a[e*3+2],sharpness:0,midpoint:.5};t.nodes.push(r)}e.sortAndUpdateRange()},e.getNodeValue=(e,n)=>e<0||e>=t.nodes.length?(k7(`Index out of range!`),-1):(n[0]=t.nodes[e].x,n[1]=t.nodes[e].r,n[2]=t.nodes[e].g,n[3]=t.nodes[e].b,n[4]=t.nodes[e].midpoint,n[5]=t.nodes[e].sharpness,1),e.setNodeValue=(n,r)=>{if(n<0||n>=t.nodes.length)return k7(`Index out of range!`),-1;let i=t.nodes[n].x;return t.nodes[n].x=r[0],t.nodes[n].r=r[1],t.nodes[n].g=r[2],t.nodes[n].b=r[3],t.nodes[n].midpoint=r[4],t.nodes[n].sharpness=r[5],i===r[0]?e.modified():e.sortAndUpdateRange(),1},e.getNumberOfAvailableColors=()=>{if(t.indexedLookup&&e.getSize())return e.getSize();if(t.tableSize)return t.tableSize;let n=t.nodes?.length??0;return Math.max(4094,n)},e.getIndexedColor=(t,n)=>{let r=e.getSize();if(r>0&&t>=0){let i=[];e.getNodeValue(t%r,i);for(let e=0;e<3;++e)n[e]=i[e+1];n[3]=1;return}let i=e.getNanColorByReference();n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=1},e.fillFromDataPointer=(t,n)=>{if(!(t<=0||!n)){e.removeAllPoints();for(let r=0;r<t;r++)e.addRGBPoint(n[r*4],n[r*4+1],n[r*4+2],n[r*4+3])}},e.setMappingRange=(n,r)=>{let i=[n,r],a=[n,r],o=e.getRange(),s=e.logScaleEnabled();if(o[1]===i[1]&&o[0]===i[0])return;if(i[1]===i[0]){k7(`attempt to set zero width color range`);return}s&&(i[0]<=0?console.warn(`attempt to set log scale color range with non-positive minimum`):(a[0]=Math.log10(i[0]),a[1]=Math.log10(i[1])));let c=(a[1]-a[0])/(o[1]-o[0]),l=a[0]-o[0]*c;for(let e=0;e<t.nodes.length;++e)t.nodes[e].x=t.nodes[e].x*c+l;t.mappingRange[0]=i[0],t.mappingRange[1]=i[1],e.modified()},e.adjustRange=n=>{let r=e.getRange(),i=[];r[0]<n[0]?(e.getColor(n[0],i),e.addRGBPoint(n[0],i[0],i[1],i[2])):(e.getColor(r[0],i),e.addRGBPoint(n[0],i[0],i[1],i[2])),r[1]>n[1]?(e.getColor(n[1],i),e.addRGBPoint(n[1],i[0],i[1],i[2])):(e.getColor(r[1],i),e.addRGBPoint(n[1],i[0],i[1],i[2])),e.sortAndUpdateRange();for(let e=0;e<t.nodes.length;)t.nodes[e].x>=n[0]&&t.nodes[e].x<=n[1]?t.nodes.splice(e,1):++e;return 1},e.estimateMinNumberOfSamples=(t,n)=>{let r=e.findMinimumXDistance();return Math.ceil((n-t)/r)},e.findMinimumXDistance=()=>{if(t.nodes.length<2)return-1;let e=Number.MAX_VALUE;for(let n=0;n<t.nodes.length-1;n++){let r=t.nodes[n+1].x-t.nodes[n].x;r<e&&(e=r)}return e},e.mapScalarsThroughTable=(n,r,i,a)=>{if(e.getSize()===0){fCe(`Transfer Function Has No Points!`);return}t.indexedLookup?e.mapDataIndexed(n,r,i,a):e.mapData(n,r,i,a)},e.mapData=(t,n,r,i)=>{if(e.getSize()===0){pCe(`Transfer Function Has No Points!`);return}let a=Math.floor(e.getAlpha()*255+.5),o=t.getNumberOfTuples(),s=t.getNumberOfComponents(),c=n.getData(),l=t.getData(),u=[];if(r===O7.RGBA)for(let t=0;t<o;t++){let n=l[t*s+i];e.getColor(n,u),c[t*4]=Math.floor(u[0]*255+.5),c[t*4+1]=Math.floor(u[1]*255+.5),c[t*4+2]=Math.floor(u[2]*255+.5),c[t*4+3]=a}if(r===O7.RGB)for(let t=0;t<o;t++){let n=l[t*s+i];e.getColor(n,u),c[t*3]=Math.floor(u[0]*255+.5),c[t*3+1]=Math.floor(u[1]*255+.5),c[t*3+2]=Math.floor(u[2]*255+.5)}if(r===O7.LUMINANCE)for(let t=0;t<o;t++){let n=l[t*s+i];e.getColor(n,u),c[t]=Math.floor(u[0]*76.5+u[1]*150.45+u[2]*28.05+.5)}if(r===O7.LUMINANCE_ALPHA)for(let t=0;t<o;t++){let n=l[t*s+i];e.getColor(n,u),c[t*2]=Math.floor(u[0]*76.5+u[1]*150.45+u[2]*28.05+.5),c[t*2+1]=a}},e.applyColorMap=n=>{let r=JSON.stringify(t.colorSpace);n.ColorSpace&&(t.colorSpace=E7[n.ColorSpace.toUpperCase()],t.colorSpace===void 0&&(k7(`ColorSpace ${n.ColorSpace} not supported, using RGB instead`),t.colorSpace=E7.RGB));let i=r!==JSON.stringify(t.colorSpace),a=i||JSON.stringify(t.nanColor);if(n.NanColor)for(t.nanColor=[].concat(n.NanColor);t.nanColor.length<4;)t.nanColor.push(1);i||=a!==JSON.stringify(t.nanColor);let o=i||JSON.stringify(t.nodes);if(n.RGBPoints){let e=n.RGBPoints.length;t.nodes=[];for(let r=0;r<e;r+=4)t.nodes.push({x:n.RGBPoints[r],r:n.RGBPoints[r+1],g:n.RGBPoints[r+2],b:n.RGBPoints[r+3],midpoint:.5,sharpness:0})}let s=e.sortAndUpdateRange(),c=!s&&(i||o!==JSON.stringify(t.nodes));return c&&e.modified(),s||c}}var _Ce={clamping:!0,colorSpace:E7.RGB,hSVWrap:!0,scale:D7.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function N7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,_Ce,n),z1.extend(e,t,n),t.table=[],t.nodes=[],t.nanColor=[.5,0,0,1],t.belowRangeColor=[0,0,0,1],t.aboveRangeColor=[1,1,1,1],t.buildTime={},$.obj(t.buildTime),$.get(e,t,[`buildTime`,`mappingRange`]),$.setGet(e,t,[`useAboveRangeColor`,`useBelowRangeColor`,`discretize`,`numberOfValues`,{type:`enum`,name:`colorSpace`,enum:E7},{type:`enum`,name:`scale`,enum:D7}]),$.setArray(e,t,[`nanColor`,`belowRangeColor`,`aboveRangeColor`],4),$.getArray(e,t,[`nanColor`,`belowRangeColor`,`aboveRangeColor`]),gCe(e,t)}var P7={newInstance:$.newInstance(N7,`vtkColorTransferFunction`),extend:N7,...T7},{vtkWarningMacro:vCe}=$,yCe=1e-6;function bCe(e,t){t.classHierarchy.push(`vtkPlaneSource`),e.requestData=(n,r)=>{let i=r[0],a=i?i.getPoints().getDataType():t.pointType,o=i?.initialize()||Y0.newInstance(),s=[],c=[];if(uZ(t.point1,t.origin,s),uZ(t.point2,t.origin,c),!e.updatePlane(s,c)){vCe(`Bad plane definition`);return}let l=t.xResolution,u=t.yResolution,d=(l+1)*(u+1),f=l*u,p=$.newTypedArray(a,d*3);o.getPoints().setData(p,3);let m=new Uint32Array(5*f);o.getPolys().setData(m,1);let h=new Float32Array(d*3),g=l1.newInstance({numberOfComponents:3,values:h,name:`Normals`});o.getPointData().setNormals(g);let _=new Float32Array(d*2),v=l1.newInstance({numberOfComponents:2,values:_,name:`TextureCoordinates`});o.getPointData().setTCoords(v);let y=new Float32Array(2),b=0;for(let e=0;e<u+1;e++){y[1]=e/u;for(let e=0;e<l+1;e++)y[0]=e/l,p[b*3]=t.origin[0]+y[0]*s[0]+y[1]*c[0],p[b*3+1]=t.origin[1]+y[0]*s[1]+y[1]*c[1],p[b*3+2]=t.origin[2]+y[0]*s[2]+y[1]*c[2],_[b*2]=y[0],_[b*2+1]=y[1],h[b*3]=t.normal[0],h[b*3+1]=t.normal[1],h[b*3+2]=t.normal[2],b++}b=0;for(let e=0;e<u;e++)for(let t=0;t<l;t++)m[b*5+0]=4,m[b*5+1]=t+e*(l+1),m[b*5+2]=m[b*5+1]+1,m[b*5+3]=m[b*5+1]+l+2,m[b*5+4]=m[b*5+1]+l+1,b++;r[0]=o},e.setNormal=function(){let n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=[...arguments.length<=0?void 0:arguments[0]]:arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),yZ(n)!==0){let r=hZ(t.normal,n),i=0,a=[];r<1&&(r<=-1?(i=HX(180),uZ(t.point1,t.origin,a)):(_Z(t.normal,n,a),i=Math.acos(r)),e.rotate(i,a))}},e.rotate=(n,r)=>{if(Math.abs(n)<yCe)return;let i=IW(new Float64Array(16)),a=[];RG(a,t.center),HW(i,i,t.center),WW(i,i,n,r),HW(i,i,a),UG(t.origin,t.origin,i),UG(t.point1,t.point1,i),UG(t.point2,t.point2,i),N3.buildFromRadian().rotate(n,r).apply(t.normal),e.modified()},e.setCenter=function(){let n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=[...arguments.length<=0?void 0:arguments[0]]:arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!KG(n,t.center)){let r=[];uZ(t.point1,t.origin,r);let i=[];uZ(t.point2,t.origin,i);for(let e=0;e<3;e++)t.center[e]=n[e],t.origin[e]=t.center[e]-.5*(r[e]+i[e]),t.point1[e]=t.origin[e]+r[e],t.point2[e]=t.origin[e]+i[e];e.modified()}},e.setPoint1=function(){let n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=[...arguments.length<=0?void 0:arguments[0]]:arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!KG(n,t.point1)){let r=[],i=[];t.point1=[...n],uZ(t.point1,t.origin,r),uZ(t.point2,t.origin,i),e.updatePlane(r,i),e.modified()}},e.setPoint2=function(){let n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=[...arguments.length<=0?void 0:arguments[0]]:arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!KG(n,t.point2)){let r=[],i=[];t.point2=[...n],uZ(t.point1,t.origin,r),uZ(t.point2,t.origin,i),e.updatePlane(r,i),e.modified()}},e.updatePlane=(e,n)=>{for(let r=0;r<3;r++)t.center[r]=t.origin[r]+.5*(e[r]+n[r]);return _Z(e,n,t.normal),yZ(t.normal)!==0}}var xCe={xResolution:10,yResolution:10,origin:[0,0,0],point1:[1,0,0],point2:[0,1,0],pointType:`Float64Array`};function F7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,xCe,n),t.normal=[0,0,1],t.center=[0,0,0],$.obj(e,t),$.setGet(e,t,[`xResolution`,`yResolution`]),$.setGetArray(e,t,[`origin`],3),$.getArray(e,t,[`point1`,`point2`,`normal`,`center`],3),$.algo(e,t,0,1),bCe(e,t),e.setPoint1(t.point1),e.setPoint2(t.point2)}var SCe={newInstance:$.newInstance(F7,`vtkPlaneSource`),extend:F7};async function CCe(e){console.log(` DEMvtkPlaneSource...`);let t;t=typeof e==`string`?await uCe(e):await dCe(e);let n=await t.getImage(),r=n.getWidth(),i=n.getHeight();console.log(`DEM Size: ${r} x ${i}`);let a=(await n.readRasters())[0];if(!a||a.length===0)throw Error(`No raster data found in TIFF`);let o=1/0,s=-1/0;for(let e=0;e<a.length;e++){let t=a[e];t>-1e4&&t<1e4&&(t<o&&(o=t),t>s&&(s=t))}console.log(`Z Range: ${o} to ${s}`),o===1/0&&(o=0,s=1);let c=(()=>{try{if(typeof n.getOrigin==`function`&&typeof n.getResolution==`function`)return!0;let e=n.getFileDirectory?.();return!!(e&&(e.ModelTiepoint||e.ModelTiepointTag||e.ModelTiepointTag||e.ModelPixelScale))}catch{return!1}})(),l=-r/2,u=r/2,d=-i/2,f=i/2,p=1,m=1;if(c)try{if(typeof n.getOrigin==`function`&&typeof n.getResolution==`function`){let e=n.getOrigin(),t=n.getResolution();p=t?.[0]??1,m=t?.[1]??1;let a=e?.[0]??0,o=e?.[1]??0,s=a,c=a+p*(r-1),h=o,g=o+m*(i-1);l=Math.min(s,c),u=Math.max(s,c),d=Math.min(h,g),f=Math.max(h,g)}}catch(e){console.warn(` GeoTIFF `,e)}let h=SCe.newInstance({xResolution:r-1,yResolution:i-1,origin:[l,d,0],point1:[u,d,0],point2:[l,f,0]});h.update();let g=h.getOutputData(),_=g.getNumberOfPoints();if(_!==r*i)throw Error(`Plane generation mismatch: generated ${_} points, expected ${r*i}`);let v=new Float32Array(r*i);for(let e=0;e<i;e++){let t=i-1-e;for(let n=0;n<r;n++){let i=a[t*r+n];(i<o||i>s)&&(i=o),v[e*r+n]=i}}let y=l1.newInstance({name:`Elevation`,values:v});g.getPointData().setScalars(y);let b=g.getPoints(),x=b.getData(),S=new Float32Array(_);for(let e=0;e<_;e++){let t=v[e]-o;S[e]=t,x[e*3+2]=t*1}b.modified(),g.modified();let C=u0.newInstance();C.setInputData(g);let w=P7.newInstance();w.addRGBPoint(o,0,0,1),w.addRGBPoint((o+s)*.5,0,1,0),w.addRGBPoint(s,1,0,0),C.setLookupTable(w),C.setUseLookupTableScalarRange(!0),C.setScalarRange(o,s);let T=$$.newInstance();return T.setMapper(C),T.getProperty().setLighting(!1),console.log(`DEM Actor Bounds:`,T.getBounds()),{actor:T,mapper:C,lut:w,polyData:g,range:[o,s],demPoints:b,baseZ:S,initialScale:1,geo:{hasGeoRef:c,xMin:l,xMax:u,yMin:d,yMax:f,minZ:o,maxZ:s,resX:p,resY:m},meta:{width:r,height:i}}}function wCe(e){if(e===0)return 0;let t=e>>31&1,n=e>>24&127,r=e&16777215;return(t===0?1:-1)*(r/16777216)*16**(n-64)}function TCe(e,t,n=2e5){let r=e?.length??0;if(!r)return{};let i=Math.max(1024,Math.min(n,r)),a=Math.max(1,Math.floor(r/i)),o=new Float32Array(Math.min(i,Math.ceil(r/a))),s=0;for(let t=0;t<r&&s<o.length;t+=a)o[s++]=Math.abs(e[t]);let c=Array.from(o.subarray(0,s));c.sort((e,t)=>e-t);let l={};for(let e of t)l[e]=c[Math.max(0,Math.min(c.length-1,Math.floor(e*(c.length-1))))];return l}async function ECe(e){console.log(` SEGY...`);let t=await e.arrayBuffer(),n=new DataView(t),r=3200,i=n.getInt16(r+16,!1);i===0&&(i=4e3);let a=n.getInt16(r+20,!1),o=n.getInt16(r+24,!1);console.log(`SEGY ns=${a}, interval=${i}, format=${o}`);let s=4;o===3?s=2:o===8&&(s=1);let c=t.byteLength,l=240+a*s;if(l<=240)throw Error(`Invalid trace size calculated: ${l}. Check NS or Format Code.`);let u=Math.floor((c-3600)/l);if(console.log(`${u}`),u<=0)throw Error(`No traces found or file too small.`);let d=new Map,f=(e,t,r=`int32`)=>{let i=3600+e*l+t;return i+4>c?0:r===`int32`?n.getInt32(i,!1):r===`int16`?n.getInt16(i,!1):0},p=e=>{let t=3600+e*l+70;return t+2>c?0:n.getInt16(t,!1)},m=e=>te?te>0?e*te:e/Math.abs(te):e,h=(e,t,r)=>{let i=3600+e*l,a=i+t,o=i+r;if(o+4>c)return[0,0];let s=n.getInt32(a,!1),u=n.getInt32(o,!1);return[m(s),m(u)]},g=[{name:`SourceXY`,x:72,y:76},{name:`GroupXY`,x:80,y:84},{name:`CDPXY`,x:180,y:184}],_=Math.min(u,5e4),v=new Float64Array(_),y=new Float64Array(_),b=null,x=e=>{let t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;for(let o=0;o<_;o++){let[s,c]=h(o,e.x,e.y);(s!==0||c!==0)&&(a++,s<t&&(t=s),s>n&&(n=s),c<r&&(r=c),c>i&&(i=c))}if(a<Math.max(100,Math.floor(_*.05)))return null;let o=n-t,s=i-r,c=a*(Math.abs(o)+Math.abs(s));return{...e,nonZero:a,cMinX:t,cMaxX:n,cMinY:r,cMaxY:i,score:c}},S=[{name:`Standard (189/193)`,il:188,xl:192},{name:`Standard Int16 (189/193)`,il:188,xl:192,type:`int16`},{name:`Generic 1 (9/13)`,il:8,xl:12},{name:`Generic 2 (5/21)`,il:4,xl:20},{name:`Generic 3 (17/21)`,il:16,xl:20},{name:`CDP (21/25)`,il:20,xl:24}],C=null,w=Math.min(u,2e4);for(let e of S){let t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;for(let o=0;o<w;o+=10){let s=f(o,e.il,e.type||`int32`),c=f(o,e.xl,e.type||`int32`);(s!==0||c!==0)&&(s<t&&(t=s),s>n&&(n=s),c<r&&(r=c),c>i&&(i=c),a++)}if(a<w/20)continue;let o=n-t+1,s=i-r+1;if(o<=0||s<=0)continue;let c=o*s,l=c/u,d=u/c,p=0;l>.5&&l<2?p+=50:l>.1&&l<10&&(p+=20),!(o===1||s===1)&&d<.1&&(p-=100),o>1&&s>1?p+=30:(o>1||s>1)&&(p+=10),e.name.includes(`Standard`)&&(p+=5),e.stats={minI:t,maxI:n,minX:r,maxX:i,rangeI:o,rangeX:s,score:p,density:d},(!C||p>C.stats.score)&&(C=e)}let T=1/0,E=-1/0,D=1/0,O=-1/0;if(C&&C.stats.score>0){console.log(`: ${C.name} (Score: ${C.stats.score})`),console.log(`: IL ${C.stats.minI}-${C.stats.maxI}, XL ${C.stats.minX}-${C.stats.maxX}`);let e=C.il,t=C.xl,n=C.type||`int32`,r=new Int32Array(u),i=new Int32Array(u),a=new Set,o=new Set;for(let s=0;s<u;s++){let c=f(s,e,n),l=f(s,t,n);r[s]=c,i[s]=l,a.add(c),o.add(l),s<_&&(v[s]=0,y[s]=0)}let s=Array.from(a).sort((e,t)=>e-t),c=Array.from(o).sort((e,t)=>e-t);if(s.length>16384||c.length>16384)console.warn(` ${C.name} IL=${s.length}, XL=${c.length}`),T=1/0,E=-1/0,D=1/0,O=-1/0;else{let e=new Map,t=new Map;for(let t=0;t<s.length;t++)e.set(s[t],t);for(let e=0;e<c.length;e++)t.set(c[e],e);d.clear();let n=c.length;for(let a=0;a<u;a++){let o=e.get(r[a]),s=t.get(i[a]);o===void 0||s===void 0||d.set(o*n+s,a)}T=0,E=s.length-1,D=0,O=c.length-1}}else console.warn(` Inline/Crossline  XY `);let k=1/0,A=-1/0,j=1/0,M=-1/0,ee=!1,te=0;u>0&&(te=p(0));let N=null;for(let e of g){let t=x(e);t&&(!N||t.score>N.score)&&(N=t)}if(N){ee=!0,b=N.name,k=N.cMinX,A=N.cMaxX,j=N.cMinY,M=N.cMaxY;for(let e=0;e<_;e++){let[t,n]=h(e,N.x,N.y);v[e]=t,y[e]=n}}let ne=E-T+1,re=O-D+1,ie=T===1/0,P=(ne===1||re===1)&&u>1e3,ae=()=>{if(!ee||_<100)return null;let e=[];for(let t=1;t<Math.min(_,5e3);t++){let n=v[t]-v[t-1],r=y[t]-y[t-1],i=Math.hypot(n,r);i>0&&e.push(i)}if(e.length<10)return null;e.sort((e,t)=>e-t);let t=e[Math.floor(e.length/2)]*20,n=[],r=0;for(let e=1;e<_;e++){let i=v[e]-v[e-1],a=y[e]-y[e-1];if(Math.hypot(i,a)>t){let t=e-r;if(t>8&&n.push(t),r=e,n.length>200)break}}if(n.length===0)return null;let i=new Map;for(let e of n)i.set(e,(i.get(e)||0)+1);let a=n[0],o=0;for(let[e,t]of i.entries())t>o&&(o=t,a=e);let s=a;if(u%s!==0){let e=s,t=1/0;for(let n=Math.max(16,s-128);n<=s+128;n++){if(u%n!==0)continue;let r=Math.abs(n-s);r<t&&(t=r,e=n)}s=e}let c=Math.max(1,Math.floor(u/s)),l=[v[1]-v[0],y[1]-y[0]],d=Math.min(_-1,s),f=[v[d]-v[0],y[d]-y[0]],p=Math.hypot(l[0],l[1])||1,m=Math.hypot(f[0],f[1])||1;return{nX:s,nY:c,originX:v[0],originY:y[0],stepX:[l[0]/p,l[1]/p,p],stepY:[f[0]/m,f[1]/m,m],boundsXY:[k,A,j,M],coordScalar:te,xyField:b}},oe={hasXY:!1};if(ie||P){let e=ae();if(e){console.warn(`/ XY  ${e.nX} x ${e.nY}`),oe={hasXY:!0,...e},T=1,E=e.nY,D=1,O=e.nX,ne=e.nY,re=e.nX,d.clear();for(let e=0;e<u;e++){let t=Math.floor(e/re),n=e%re;d.set(t*re+n,e)}}else{let[e,t]=(e=>{let t=Math.floor(Math.sqrt(e)),n=1,r=e,i=1/0;for(let a=1;a<=t;a++){if(e%a!==0)continue;let t=e/a,o=Math.abs(t-a);o<i&&(i=o,n=a,r=t)}return[r,n]})(u);console.warn(`/ ${t} x ${e}`),T=1,E=t,D=1,O=e,ne=t,re=e,d.clear();for(let e=0;e<u;e++){let t=Math.floor(e/re),n=e%re;d.set(t*re+n,e)}console.log(`Reshaped Geometry (factor): ${ne} x ${re}`)}}if(console.log(`Inline ${T}-${E} (${ne}), Crossline ${D}-${O} (${re})`),ne*re*a>500*1e3*1e3)throw Error(`Volume too large: ${ne}x${re}x${a}`);let se=new Float32Array(ne*re*a),ce=1/0,le=-1/0;for(let e=T;e<=E;e++)for(let t=D;t<=O;t++){let r=d.get((e-T)*re+(t-D)),i=((e-T)*re+(t-D))*a;if(r!==void 0){let e=3600+r*l+240;for(let t=0;t<a;t++){let r=0;o===1?r=wCe(n.getUint32(e+t*4,!1)):o===5?r=n.getFloat32(e+t*4,!1):o===3?r=n.getInt16(e+t*2,!1):o===8&&(r=n.getInt8(e+t)),se[i+t]=r,r<ce&&(ce=r),r>le&&(le=r)}}}console.log(`${ce} ~ ${le}`);let ue=Math.max(Math.abs(ce),Math.abs(le))||1,de=TCe(se,[.95,.99,.995]),fe=de[.95]??ue,pe=de[.99]??ue,me=de[.995]??pe,he=Math.max(1e-6,me||pe||fe||ue),ge=O1.newInstance();ge.setDimensions(re,ne,a),ge.setSpacing(1,1,1);let _e=l1.newInstance({name:`Seismic`,values:se});return ge.getPointData().setScalars(_e),{imageData:ge,dimensions:[re,ne,a],range:[ce,le],geo:oe,volumeData:se,stats:{absMax:ue,absP95:fe,absP99:pe,absP995:me,suggestedClip:he},meta:{sampleInterval:i,ns:a,formatCode:o,totalTraces:u}}}var DCe=o(((e,t)=>{(function(n,r){typeof e==`object`&&typeof t==`object`?t.exports=r():typeof define==`function`&&define.amd?define([],r):typeof e==`object`?e.xmlbuilder2=r():n.xmlbuilder2=r()})(e,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){typeof Symbol<`u`&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:`Module`}),Object.defineProperty(e,`__esModule`,{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&typeof e==`object`&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,`default`,{enumerable:!0,value:e}),2&t&&typeof e!=`string`)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,`a`,t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=``,n(n.s=184)}([function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,`__esModule`,{value:!0}),r(n(240)),r(n(251)),r(n(175)),r(n(107)),r(n(29)),r(n(73)),r(n(106)),r(n(30)),r(n(252)),r(n(52)),r(n(97)),r(n(253)),r(n(37)),r(n(51)),r(n(173)),r(n(176)),r(n(172)),r(n(108)),r(n(254)),r(n(255)),r(n(256)),r(n(72)),r(n(177)),r(n(105)),r(n(17)),r(n(257)),r(n(12)),r(n(174))},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0}),t.FixedSizeSet=n(212).FixedSizeSet,t.ObjectCache=n(213).ObjectCache,t.CompareCache=n(214).CompareCache,t.Lazy=n(215).Lazy;var i=n(216);function a(e,t,n){if(d(e))e.forEach((function(e,r){return t.call(n,r,e)}));else for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])}function o(e){var t,n;if(s(e))return e;if(l(e)){var i=[];try{for(var a=r(e),u=a.next();!u.done;u=a.next()){var d=u.value;i.push(o(d))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}if(c(e)){for(var f in i={},e)if(e.hasOwnProperty(f)){var p=e[f];i[f]=o(p)}return i}return e}function s(e){return!!e&&Object.prototype.toString.call(e)===`[object Function]`}function c(e){var t=typeof e;return!!e&&(t===`function`||t===`object`)}function l(e){return Array.isArray(e)}function u(e){return e instanceof Set}function d(e){return e instanceof Map}function f(e){if(c(e)){var t=Object.getPrototypeOf(e),n=t.constructor;return t&&n&&typeof n==`function`&&n instanceof n&&Function.prototype.toString.call(n)===Function.prototype.toString.call(Object)}return!1}t.StringWalker=i.StringWalker,t.applyMixin=function(e,t){var n=[...arguments].slice(2);Object.getOwnPropertyNames(t.prototype).forEach((function(r){if(r!==`constructor`){if(n.indexOf(r)!==-1){var i=Object.getOwnPropertyDescriptor(e.prototype,r);i&&Object.defineProperty(e.prototype,`_`+r,i)}var a=Object.getOwnPropertyDescriptor(t.prototype,r);a&&Object.defineProperty(e.prototype,r,a)}}))},t.applyDefaults=function e(t,n,r){r===void 0&&(r=!1);var i=o(t||{});return a(n,(function(t,n){f(n)?i[t]=e(i[t],n,r):(r||i[t]===void 0)&&(i[t]=n)})),i},t.forEachArray=function(e,t,n){e.forEach(t,n)},t.forEachObject=a,t.arrayLength=function(e){return u(e)?e.size:e.length},t.objectLength=function(e){return d(e)?e.size:Object.keys(e).length},t.getObjectValue=function(e,t){return d(e)?e.get(t):e[t]},t.removeObjectValue=function(e,t){d(e)?e.delete(t):delete e[t]},t.clone=o,t.isBoolean=function(e){return typeof e==`boolean`},t.isNumber=function(e){return typeof e==`number`},t.isString=function(e){return typeof e==`string`},t.isFunction=s,t.isObject=c,t.isArray=l,t.isSet=u,t.isMap=d,t.isEmpty=function(e){if(l(e))return!e.length;if(u(e)||d(e))return!e.size;if(c(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1},t.isPlainObject=f,t.isIterable=function(e){return e&&typeof e[Symbol.iterator]==`function`},t.getValue=function(e){return s(e.valueOf)?e.valueOf():e},t.utf8Encode=function(e){for(var t=new Uint8Array(4*e.length),n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i<128)t[n++]=i;else{if(i<2048)t[n++]=i>>6|192;else{if(i>55295&&i<56320){if(++r>=e.length)throw Error(`Incomplete surrogate pair.`);var a=e.charCodeAt(r);if(a<56320||a>57343)throw Error(`Invalid surrogate character.`);i=65536+((1023&i)<<10)+(1023&a),t[n++]=i>>18|240,t[n++]=i>>12&63|128}else t[n++]=i>>12|224;t[n++]=i>>6&63|128}t[n++]=63&i|128}}return t.subarray(0,n)},t.utf8Decode=function(e){for(var t=``,n=0;n<e.length;){var r=e[n++];if(r>127)if(r>191&&r<224){if(n>=e.length)throw Error(`Incomplete 2-byte sequence.`);r=(31&r)<<6|63&e[n++]}else if(r>223&&r<240){if(n+1>=e.length)throw Error(`Incomplete 3-byte sequence.`);r=(15&r)<<12|(63&e[n++])<<6|63&e[n++]}else{if(!(r>239&&r<248))throw Error(`Unknown multi-byte start.`);if(n+2>=e.length)throw Error(`Incomplete 4-byte sequence.`);r=(7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++]}if(r<=65535)t+=String.fromCharCode(r);else{if(!(r<=1114111))throw Error(`Code point exceeds UTF-16 limit.`);r-=65536,t+=String.fromCharCode(r>>10|55296),t+=String.fromCharCode(1023&r|56320)}}return t}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),function(e){e[e.Before=0]=`Before`,e[e.Equal=1]=`Equal`,e[e.After=2]=`After`}(t.BoundaryPosition||={}),function(e){e[e.None=0]=`None`,e[e.Capturing=1]=`Capturing`,e[e.AtTarget=2]=`AtTarget`,e[e.Bubbling=3]=`Bubbling`}(t.EventPhase||={}),function(e){e[e.Element=1]=`Element`,e[e.Attribute=2]=`Attribute`,e[e.Text=3]=`Text`,e[e.CData=4]=`CData`,e[e.EntityReference=5]=`EntityReference`,e[e.Entity=6]=`Entity`,e[e.ProcessingInstruction=7]=`ProcessingInstruction`,e[e.Comment=8]=`Comment`,e[e.Document=9]=`Document`,e[e.DocumentType=10]=`DocumentType`,e[e.DocumentFragment=11]=`DocumentFragment`,e[e.Notation=12]=`Notation`}(t.NodeType||={}),function(e){e[e.Disconnected=1]=`Disconnected`,e[e.Preceding=2]=`Preceding`,e[e.Following=4]=`Following`,e[e.Contains=8]=`Contains`,e[e.ContainedBy=16]=`ContainedBy`,e[e.ImplementationSpecific=32]=`ImplementationSpecific`}(t.Position||={}),function(e){e[e.Accept=1]=`Accept`,e[e.Reject=2]=`Reject`,e[e.Skip=3]=`Skip`}(t.FilterResult||={}),function(e){e[e.All=4294967295]=`All`,e[e.Element=1]=`Element`,e[e.Attribute=2]=`Attribute`,e[e.Text=4]=`Text`,e[e.CDataSection=8]=`CDataSection`,e[e.EntityReference=16]=`EntityReference`,e[e.Entity=32]=`Entity`,e[e.ProcessingInstruction=64]=`ProcessingInstruction`,e[e.Comment=128]=`Comment`,e[e.Document=256]=`Document`,e[e.DocumentType=512]=`DocumentType`,e[e.DocumentFragment=1024]=`DocumentFragment`,e[e.Notation=2048]=`Notation`}(t.WhatToShow||={}),function(e){e[e.StartToStart=0]=`StartToStart`,e[e.StartToEnd=1]=`StartToEnd`,e[e.EndToEnd=2]=`EndToEnd`,e[e.EndToStart=3]=`EndToStart`}(t.HowToCompare||={})},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.Cast=n(241).Cast,t.Guard=n(150).Guard,t.EmptySet=n(242).EmptySet},function(e,t,n){var r=n(11),i=n(55).f,a=n(21),o=n(25),s=n(80),c=n(119),l=n(123);e.exports=function(e,t){var n,u,d,f,p,m=e.target,h=e.global,g=e.stat;if(n=h?r:g?r[m]||s(m,{}):(r[m]||{}).prototype)for(u in t){if(f=t[u],d=e.noTargetGet?(p=i(n,u))&&p.value:n[u],!l(h?u:m+(g?`.`:`#`)+u,e.forced)&&d!==void 0){if(typeof f==typeof d)continue;c(f,d)}(e.sham||d&&d.sham)&&a(f,`sham`,!0),o(n,u,f,e)}}},function(e,t,n){var r=n(11),i=n(81),a=n(14),o=n(58),s=n(86),c=n(124),l=i(`wks`),u=r.Symbol,d=c?u:u&&u.withoutSetter||o;e.exports=function(e){return a(l,e)||(s&&a(u,e)?l[e]=u[e]:l[e]=d(`Symbol.`+e)),l[e]}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(1),i=n(29);t.dom=function(){function e(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new r.CompareCache,this._rangeList=new r.FixedSizeSet}return e.prototype.setFeatures=function(e){if(e===void 0&&(e=!0),r.isObject(e))for(var t in e)this._features[t]=e[t]||!1;else for(var t in this._features)this._features[t]=e},Object.defineProperty(e.prototype,`features`,{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`window`,{get:function(){return this._window===null&&(this._window=i.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`compareCache`,{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`rangeList`,{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(e,`instance`,{get:function(){return e._instance||=new e,e._instance},enumerable:!0,configurable:!0}),e}().instance},function(e,t,n){var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,`__esModule`,{value:!0}),t.base64=r(n(228)),t.byte=r(n(146)),t.byteSequence=r(n(147)),t.codePoint=r(n(96)),t.json=r(n(232)),t.list=r(n(233)),t.map=r(n(234)),t.namespace=r(n(235)),t.queue=r(n(236)),t.set=r(n(237)),t.stack=r(n(238)),t.string=r(n(239))},function(e,t){e.exports=function(e){try{return!!e()}catch{return!0}}},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=function(e){function t(t,n){n===void 0&&(n=``);var r=e.call(this,n)||this;return r.name=t,r}return i(t,e),t}(Error);t.DOMException=a,t.DOMStringSizeError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`DOMStringSizeError`,t)||this}return i(t,e),t}(a),t.WrongDocumentError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`WrongDocumentError`,`The object is in the wrong document. `+t)||this}return i(t,e),t}(a),t.NoDataAllowedError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`NoDataAllowedError`,t)||this}return i(t,e),t}(a),t.NoModificationAllowedError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`NoModificationAllowedError`,`The object can not be modified. `+t)||this}return i(t,e),t}(a),t.NotSupportedError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`NotSupportedError`,`The operation is not supported. `+t)||this}return i(t,e),t}(a),t.InUseAttributeError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`InUseAttributeError`,t)||this}return i(t,e),t}(a),t.InvalidStateError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`InvalidStateError`,`The object is in an invalid state. `+t)||this}return i(t,e),t}(a),t.InvalidModificationError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`InvalidModificationError`,`The object can not be modified in this way. `+t)||this}return i(t,e),t}(a),t.NamespaceError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`NamespaceError`,`The operation is not allowed by Namespaces in XML. [XMLNS] `+t)||this}return i(t,e),t}(a),t.InvalidAccessError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`InvalidAccessError`,`The object does not support the operation or argument. `+t)||this}return i(t,e),t}(a),t.ValidationError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`ValidationError`,t)||this}return i(t,e),t}(a),t.TypeMismatchError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`TypeMismatchError`,t)||this}return i(t,e),t}(a),t.SecurityError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`SecurityError`,`The operation is insecure. `+t)||this}return i(t,e),t}(a),t.NetworkError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`NetworkError`,`A network error occurred. `+t)||this}return i(t,e),t}(a),t.AbortError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`AbortError`,`The operation was aborted. `+t)||this}return i(t,e),t}(a),t.URLMismatchError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`URLMismatchError`,`The given URL does not match another URL. `+t)||this}return i(t,e),t}(a),t.QuotaExceededError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`QuotaExceededError`,`The quota has been exceeded. `+t)||this}return i(t,e),t}(a),t.TimeoutError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`TimeoutError`,`The operation timed out. `+t)||this}return i(t,e),t}(a),t.InvalidNodeTypeError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`InvalidNodeTypeError`,`The supplied node is incorrect or has an incorrect ancestor for this operation. `+t)||this}return i(t,e),t}(a),t.DataCloneError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`DataCloneError`,`The object can not be cloned. `+t)||this}return i(t,e),t}(a),t.NotImplementedError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`NotImplementedError`,`The DOM method is not implemented by this module. `+t)||this}return i(t,e),t}(a),t.HierarchyRequestError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`HierarchyRequestError`,`The operation would yield an incorrect node tree. `+t)||this}return i(t,e),t}(a),t.NotFoundError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`NotFoundError`,`The object can not be found here. `+t)||this}return i(t,e),t}(a),t.IndexSizeError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`IndexSizeError`,`The index is not in the allowed range. `+t)||this}return i(t,e),t}(a),t.SyntaxError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`SyntaxError`,`The string did not match the expected pattern. `+t)||this}return i(t,e),t}(a),t.InvalidCharacterError=function(e){function t(t){return t===void 0&&(t=``),e.call(this,`InvalidCharacterError`,`The string contains invalid characters. `+t)||this}return i(t,e),t}(a)},function(e,t,n){var r=n(53),i=[`kind`,`resolve`,`construct`,`instanceOf`,`predicate`,`represent`,`defaultStyle`,`styleAliases`],a=[`scalar`,`sequence`,`mapping`];e.exports=function(e,t){var n,o;if(t||={},Object.keys(t).forEach((function(t){if(i.indexOf(t)===-1)throw new r(`Unknown option "`+t+`" is met in definition of "`+e+`" YAML type.`)})),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=(n=t.styleAliases||null,o={},n!==null&&Object.keys(n).forEach((function(e){n[e].forEach((function(t){o[String(t)]=e}))})),o),a.indexOf(this.kind)===-1)throw new r(`Unknown kind "`+this.kind+`" is specified for "`+e+`" YAML type.`)}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n(typeof globalThis==`object`&&globalThis)||n(typeof window==`object`&&window)||n(typeof self==`object`&&self)||n(typeof t==`object`&&t)||Function(`return this`)()}).call(this,n(78))},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.idl_defineConst=function(e,t,n){Object.defineProperty(e,t,{writable:!1,enumerable:!0,configurable:!1,value:n})}},function(e,t){e.exports=function(e){return typeof e==`object`?e!==null:typeof e==`function`}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(16),i=n(115),a=n(18),o=n(56),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch{}if(`get`in n||`set`in n)throw TypeError(`Accessors not supported`);return`value`in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(8)((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}))},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(3),a=n(2);function o(e,t,n){if(n===void 0&&(n=!1),n&&i.Guard.isElementNode(t)&&i.Guard.isShadowRoot(t.shadowRoot)&&t.shadowRoot._firstChild)return t.shadowRoot._firstChild;if(t._firstChild)return t._firstChild;if(t===e)return null;if(t._nextSibling)return t._nextSibling;for(var r=t._parent;r&&r!==e;){if(r._nextSibling)return r._nextSibling;r=r._parent}return null}function s(){var e;return(e={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},e}function c(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);for(var i=t?e:o(e,e,n);i&&r&&!r(i);)i=o(e,i,n);return i}function l(e,t,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);for(var a=o(e,t,r);a&&i&&!i(a);)a=o(e,a,r);return a}function u(e,t,n,r){var i;return t===void 0&&(t=!1),n===void 0&&(n=!1),t||e._children.size!==0?((i={})[Symbol.iterator]=function(){var i=t?e:o(e,e,n);return{next:function(){for(;i&&r&&!r(i);)i=o(e,i,n);if(i===null)return{done:!0,value:null};var t={done:!1,value:i};return i=o(e,i,n),t}}},i):s()}function d(e,t,n){t===void 0&&(t=!1);for(var r=t?e:e._parent;r&&n&&!n(r);)r=r._parent;return r}function f(e,t,n,r){n===void 0&&(n=!1);for(var i=t._parent;i&&r&&!r(i);)i=i._parent;return i}function p(e){return i.Guard.isDocumentTypeNode(e)?0:i.Guard.isCharacterDataNode(e)?e._data.length:e._children.size}function m(e,t){if(t===void 0&&(t=!1),t){var n=m(e,!1);return i.Guard.isShadowRoot(n)?m(n._host,!0):n}return e._parent?m(e._parent):e}function h(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);for(var a=n?e:r&&i.Guard.isShadowRoot(e)?e._host:e._parent;a!==null;){if(a===t)return!0;a=r&&i.Guard.isShadowRoot(a)?a._host:a._parent}return!1}function g(e){for(var t=m(e),n=0,r=c(t);r!==null;){if(n++,r===e)return n;r=l(t,r)}return-1}t.tree_getFirstDescendantNode=c,t.tree_getNextDescendantNode=l,t.tree_getDescendantNodes=u,t.tree_getDescendantElements=function(e,t,n,r){var a;return t===void 0&&(t=!1),n===void 0&&(n=!1),t||e._children.size!==0?((a={})[Symbol.iterator]=function(){var a=u(e,t,n,(function(e){return i.Guard.isElementNode(e)}))[Symbol.iterator](),o=a.next().value;return{next:function(){for(;o&&r&&!r(o);)o=a.next().value;if(o===null)return{done:!0,value:null};var e={done:!1,value:o};return o=a.next().value,e}}},a):s()},t.tree_getSiblingNodes=function(e,t,n){var r;return t===void 0&&(t=!1),e._parent&&e._parent._children.size!==0?((r={})[Symbol.iterator]=function(){var r=e._parent?e._parent._firstChild:null;return{next:function(){for(;r&&(n&&!n(r)||!t&&r===e);)r=r._nextSibling;if(r===null)return{done:!0,value:null};var i={done:!1,value:r};return r=r._nextSibling,i}}},r):s()},t.tree_getFirstAncestorNode=d,t.tree_getNextAncestorNode=f,t.tree_getAncestorNodes=function(e,t,n){var r;return t===void 0&&(t=!1),t||e._parent?((r={})[Symbol.iterator]=function(){var r=d(e,t,n);return{next:function(){if(r===null)return{done:!0,value:null};var e={done:!1,value:r};return r=f(0,r,t,n),e}}},r):s()},t.tree_getCommonAncestor=function(e,t){if(e===t)return e._parent;for(var n=[],r=[],i=d(e,!0);i!==null;)n.push(i),i=f(0,i,!0);for(var a=d(t,!0);a!==null;)r.push(a),a=f(0,a,!0);for(var o=n.length,s=r.length,c=null,l=Math.min(o,s);l>0;l--){var u=n[--o];if(u!==r[--s])break;c=u}return c},t.tree_getFollowingNode=function(e,t){if(t._firstChild)return t._firstChild;if(t._nextSibling)return t._nextSibling;for(;;){var n=t._parent;if(n===null||n===e)return null;if(n._nextSibling)return n._nextSibling;t=n}},t.tree_getPrecedingNode=function(e,t){return t===e?null:t._previousSibling?(t=t._previousSibling)._lastChild?t._lastChild:t:t._parent},t.tree_isConstrained=function e(t){var n,i,o,s,c,l;switch(t._nodeType){case a.NodeType.Document:var u=!1,d=!1;try{for(var f=r(t._children),p=f.next();!p.done;p=f.next())switch(p.value._nodeType){case a.NodeType.ProcessingInstruction:case a.NodeType.Comment:break;case a.NodeType.DocumentType:if(u||d)return!1;u=!0;break;case a.NodeType.Element:if(d)return!1;d=!0;break;default:return!1}}catch(e){n={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}break;case a.NodeType.DocumentFragment:case a.NodeType.Element:try{for(var m=r(t._children),h=m.next();!h.done;h=m.next())switch(h.value._nodeType){case a.NodeType.Element:case a.NodeType.Text:case a.NodeType.ProcessingInstruction:case a.NodeType.CData:case a.NodeType.Comment:break;default:return!1}}catch(e){o={error:e}}finally{try{h&&!h.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}break;case a.NodeType.DocumentType:case a.NodeType.Text:case a.NodeType.ProcessingInstruction:case a.NodeType.CData:case a.NodeType.Comment:return!t.hasChildNodes()}try{for(var g=r(t._children),_=g.next();!_.done;_=g.next())if(!e(_.value))return!1}catch(e){c={error:e}}finally{try{_&&!_.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}return!0},t.tree_nodeLength=p,t.tree_isEmpty=function(e){return p(e)===0},t.tree_rootNode=m,t.tree_isDescendantOf=function(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);for(var i=c(e,n,r);i!==null;){if(i===t)return!0;i=l(e,i,n,r)}return!1},t.tree_isAncestorOf=h,t.tree_isHostIncludingAncestorOf=function e(t,n,r){if(r===void 0&&(r=!1),h(t,n,r))return!0;var a=m(t);return!(!i.Guard.isDocumentFragmentNode(a)||a._host===null||!e(a._host,n,r))},t.tree_isSiblingOf=function(e,t,n){return n===void 0&&(n=!1),e===t?!!n:e._parent!==null&&e._parent===t._parent},t.tree_isPreceding=function(e,t){var n=g(e),r=g(t);return n!==-1&&r!==-1&&m(e)===m(t)&&r<n},t.tree_isFollowing=function(e,t){var n=g(e),r=g(t);return n!==-1&&r!==-1&&m(e)===m(t)&&r>n},t.tree_isParentOf=function(e,t){return e._parent===t},t.tree_isChildOf=function(e,t){return t._parent===e},t.tree_previousSibling=function(e){return e._previousSibling},t.tree_nextSibling=function(e){return e._nextSibling},t.tree_firstChild=function(e){return e._firstChild},t.tree_lastChild=function(e){return e._lastChild},t.tree_treePosition=g,t.tree_index=function(e){for(var t=0;e._previousSibling!==null;)t++,e=e._previousSibling;return t},t.tree_retarget=function(e,t){for(;;){if(!e||!i.Guard.isNode(e))return e;var n=m(e);if(!i.Guard.isShadowRoot(n)||t&&i.Guard.isNode(t)&&h(n,t,!0,!0))return e;e=n.host}}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(String(e)+` is not an object`);return e}},function(e,t,n){var r=n(24),i=n(130),a=n(49),o=n(43),s=n(88),c=o.set,l=o.getterFor(`Array Iterator`);e.exports=s(Array,`Array`,(function(e,t){c(this,{type:`Array Iterator`,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):n==`keys`?{value:r,done:!1}:n==`values`?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),`values`),a.Arguments=a.Array,i(`keys`),i(`values`),i(`entries`)},function(e,t,n){var r=n(90),i=n(25),a=n(202);r||i(Object.prototype,`toString`,a,{unsafe:!0})},function(e,t,n){var r=n(16),i=n(15),a=n(40);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(137).charAt,i=n(43),a=n(88),o=i.set,s=i.getterFor(`String Iterator`);a(String,`String`,(function(e){o(this,{type:`String Iterator`,string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(11),i=n(203),a=n(19),o=n(21),s=n(5),c=s(`iterator`),l=s(`toStringTag`),u=a.values;for(var d in i){var f=r[d],p=f&&f.prototype;if(p){if(p[c]!==u)try{o(p,c,u)}catch{p[c]=u}if(p[l]||o(p,l,d),i[d]){for(var m in a)if(p[m]!==a[m])try{o(p,m,a[m])}catch{p[m]=a[m]}}}}},function(e,t,n){var r=n(41),i=n(35);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(11),i=n(21),a=n(14),o=n(80),s=n(117),c=n(43),l=c.get,u=c.enforce,d=String(String).split(`String`);(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;typeof n==`function`&&(typeof t!=`string`||a(n,`name`)||i(n,`name`,t),u(n).source=d.join(typeof t==`string`?t:``)),e===r?l?e[t]=n:o(t,n):(c?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=n:i(e,t,n))})(Function.prototype,`toString`,(function(){return typeof this==`function`&&l(this).source||s(this)}))},function(e,t,n){var r=n(47),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(16),i=n(8),a=n(14),o=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||={};var n=[][e],l=!!a(t,`ACCESSORS`)&&t.ACCESSORS,u=a(t,0)?t[0]:c,d=a(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(l&&!r)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,d)}))}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(148),i=n(149),a=n(151),o=n(98),s=n(153),c=n(154),l=n(155),u=n(99),d=n(100),f=n(156),p=n(157),m=n(101),h=n(158),g=n(159),_=n(160),v=n(161),y=n(162),b=n(163),x=n(164),S=n(165),C=n(166),w=n(167),T=n(168),E=n(169),D=n(170);t.create_domImplementation=function(e){return r.DOMImplementationImpl._create(e)},t.create_window=function(){return i.WindowImpl._create()},t.create_xmlDocument=function(){return new a.XMLDocumentImpl},t.create_document=function(){return new o.DocumentImpl},t.create_abortController=function(){return new s.AbortControllerImpl},t.create_abortSignal=function(){return c.AbortSignalImpl._create()},t.create_documentType=function(e,t,n,r){return l.DocumentTypeImpl._create(e,t,n,r)},t.create_element=function(e,t,n,r){return u.ElementImpl._create(e,t,n,r)},t.create_htmlElement=function(e,t,n,r){return u.ElementImpl._create(e,t,n,r)},t.create_htmlUnknownElement=function(e,t,n,r){return u.ElementImpl._create(e,t,n,r)},t.create_documentFragment=function(e){return d.DocumentFragmentImpl._create(e)},t.create_shadowRoot=function(e,t){return f.ShadowRootImpl._create(e,t)},t.create_attr=function(e,t){return p.AttrImpl._create(e,t)},t.create_text=function(e,t){return m.TextImpl._create(e,t)},t.create_cdataSection=function(e,t){return h.CDATASectionImpl._create(e,t)},t.create_comment=function(e,t){return g.CommentImpl._create(e,t)},t.create_processingInstruction=function(e,t,n){return _.ProcessingInstructionImpl._create(e,t,n)},t.create_htmlCollection=function(e,t){return t===void 0&&(t=function(){return!0}),v.HTMLCollectionImpl._create(e,t)},t.create_nodeList=function(e){return y.NodeListImpl._create(e)},t.create_nodeListStatic=function(e,t){return b.NodeListStaticImpl._create(e,t)},t.create_namedNodeMap=function(e){return x.NamedNodeMapImpl._create(e)},t.create_range=function(e,t){return S.RangeImpl._create(e,t)},t.create_nodeIterator=function(e,t,n){return C.NodeIteratorImpl._create(e,t,n)},t.create_treeWalker=function(e,t){return w.TreeWalkerImpl._create(e,t)},t.create_nodeFilter=function(){return T.NodeFilterImpl._create()},t.create_mutationRecord=function(e,t,n,r,i,a,o,s,c){return E.MutationRecordImpl._create(e,t,n,r,i,a,o,s,c)},t.create_domTokenList=function(e,t){return D.DOMTokenListImpl._create(e,t)}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(6),a=n(17),o=n(3),s=n(72),c=new Map;function l(e,t){if(t!==e._root&&a.tree_isAncestorOf(e._reference,t,!0)){if(e._pointerBeforeReference)for(;;){var n=a.tree_getFollowingNode(e._root,t);if(n!==null&&a.tree_isDescendantOf(e._root,n,!0)&&!a.tree_isDescendantOf(t,n,!0))return void(e._reference=n);if(n===null)return void(e._pointerBeforeReference=!1)}if(t._previousSibling===null)t._parent!==null&&(e._reference=t._parent);else{for(var r=t._previousSibling,i=a.tree_getFirstDescendantNode(t._previousSibling,!0,!1);i!==null;)i!==null&&(r=i),i=a.tree_getNextDescendantNode(t._previousSibling,i,!0,!1);e._reference=r}}}function u(e,t,n,r,i){if(o.Guard.isSlot(e)&&t===`name`&&i===null){if(r===n||r===null&&n===``||r===``&&n===null)return;e._name=r===null||r===``?``:r,s.shadowTree_assignSlotablesForATree(a.tree_rootNode(e))}}function d(e,t,n,r,i){if(o.Guard.isSlotable(e)&&t===`slot`&&i===null){if(r===n||r===null&&n===``||r===``&&n===null)return;e._name=r===null||r===``?``:r,s.shadowTree_isAssigned(e)&&s.shadowTree_assignSlotables(e._assignedSlot),s.shadowTree_assignASlot(e)}}function f(e,t,n,r){t===`id`&&r===null&&(e._uniqueIdentifier=n||void 0)}t.dom_runRemovingSteps=function(e,t){},t.dom_runCloningSteps=function(e,t,n,r){},t.dom_runAdoptingSteps=function(e,t){},t.dom_runAttributeChangeSteps=function(e,t,n,a,o){var s,c;i.dom.features.slots&&(d.call(e,e,t,n,a,o),u.call(e,e,t,n,a,o)),f.call(e,e,t,a,o);try{for(var l=r(e._attributeChangeSteps),p=l.next();!p.done;p=l.next())p.value.call(e,e,t,n,a,o)}catch(e){s={error:e}}finally{try{p&&!p.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}},t.dom_runInsertionSteps=function(e){},t.dom_runNodeIteratorPreRemovingSteps=function(e,t){l.call(e,e,t)},t.dom_hasSupportedTokens=function(e){return c.has(e)},t.dom_getSupportedTokens=function(e){return c.get(e)||new Set},t.dom_runEventConstructingSteps=function(e){},t.dom_runChildTextContentChangeSteps=function(e){}},function(e,t,n){var r=n(4),i=n(11),a=n(46),o=n(44),s=n(16),c=n(86),l=n(124),u=n(8),d=n(14),f=n(59),p=n(13),m=n(18),h=n(27),g=n(24),_=n(56),v=n(40),y=n(60),b=n(61),x=n(82),S=n(190),C=n(85),w=n(55),T=n(15),E=n(79),D=n(21),O=n(25),k=n(81),A=n(57),j=n(45),M=n(58),ee=n(5),te=n(125),N=n(126),ne=n(62),re=n(43),ie=n(36).forEach,P=A(`hidden`),ae=ee(`toPrimitive`),oe=re.set,se=re.getterFor(`Symbol`),ce=Object.prototype,le=i.Symbol,ue=a(`JSON`,`stringify`),de=w.f,fe=T.f,pe=S.f,me=E.f,he=k(`symbols`),ge=k(`op-symbols`),_e=k(`string-to-symbol-registry`),ve=k(`symbol-to-string-registry`),ye=k(`wks`),F=i.QObject,be=!F||!F.prototype||!F.prototype.findChild,xe=s&&u((function(){return y(fe({},`a`,{get:function(){return fe(this,`a`,{value:7}).a}})).a!=7}))?function(e,t,n){var r=de(ce,t);r&&delete ce[t],fe(e,t,n),r&&e!==ce&&fe(ce,t,r)}:fe,Se=function(e,t){var n=he[e]=y(le.prototype);return oe(n,{type:`Symbol`,tag:e,description:t}),s||(n.description=t),n},Ce=l?function(e){return typeof e==`symbol`}:function(e){return Object(e)instanceof le},we=function(e,t,n){e===ce&&we(ge,t,n),m(e);var r=_(t,!0);return m(n),d(he,r)?(n.enumerable?(d(e,P)&&e[P][r]&&(e[P][r]=!1),n=y(n,{enumerable:v(0,!1)})):(d(e,P)||fe(e,P,v(1,{})),e[P][r]=!0),xe(e,r,n)):fe(e,r,n)},Te=function(e,t){m(e);var n=g(t);return ie(b(n).concat(Oe(n)),(function(t){s&&!Ee.call(n,t)||we(e,t,n[t])})),e},Ee=function(e){var t=_(e,!0),n=me.call(this,t);return!(this===ce&&d(he,t)&&!d(ge,t))&&(!(n||!d(this,t)||!d(he,t)||d(this,P)&&this[P][t])||n)},De=function(e,t){var n=g(e),r=_(t,!0);if(n!==ce||!d(he,r)||d(ge,r)){var i=de(n,r);return!i||!d(he,r)||d(n,P)&&n[P][r]||(i.enumerable=!0),i}},I=function(e){var t=pe(g(e)),n=[];return ie(t,(function(e){d(he,e)||d(j,e)||n.push(e)})),n},Oe=function(e){var t=e===ce,n=pe(t?ge:g(e)),r=[];return ie(n,(function(e){!d(he,e)||t&&!d(ce,e)||r.push(he[e])})),r};(c||(O((le=function(){if(this instanceof le)throw TypeError(`Symbol is not a constructor`);var e=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,t=M(e),n=function(e){this===ce&&n.call(ge,e),d(this,P)&&d(this[P],t)&&(this[P][t]=!1),xe(this,t,v(1,e))};return s&&be&&xe(ce,t,{configurable:!0,set:n}),Se(t,e)}).prototype,`toString`,(function(){return se(this).tag})),O(le,`withoutSetter`,(function(e){return Se(M(e),e)})),E.f=Ee,T.f=we,w.f=De,x.f=S.f=I,C.f=Oe,te.f=function(e){return Se(ee(e),e)},s&&(fe(le.prototype,`description`,{configurable:!0,get:function(){return se(this).description}}),o||O(ce,`propertyIsEnumerable`,Ee,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:le}),ie(b(ye),(function(e){N(e)})),r({target:`Symbol`,stat:!0,forced:!c},{for:function(e){var t=String(e);if(d(_e,t))return _e[t];var n=le(t);return _e[t]=n,ve[n]=t,n},keyFor:function(e){if(!Ce(e))throw TypeError(e+` is not a symbol`);if(d(ve,e))return ve[e]},useSetter:function(){be=!0},useSimple:function(){be=!1}}),r({target:`Object`,stat:!0,forced:!c,sham:!s},{create:function(e,t){return t===void 0?y(e):Te(y(e),t)},defineProperty:we,defineProperties:Te,getOwnPropertyDescriptor:De}),r({target:`Object`,stat:!0,forced:!c},{getOwnPropertyNames:I,getOwnPropertySymbols:Oe}),r({target:`Object`,stat:!0,forced:u((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(h(e))}}),ue)&&r({target:`JSON`,stat:!0,forced:!c||u((function(){var e=le();return ue([e])!=`[null]`||ue({a:e})!=`{}`||ue(Object(e))!=`{}`}))},{stringify:function(e,t,n){for(var r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=t,(p(t)||e!==void 0)&&!Ce(e))return f(t)||(t=function(e,t){if(typeof r==`function`&&(t=r.call(this,e,t)),!Ce(t))return t}),i[1]=t,ue.apply(null,i)}}),le.prototype[ae]||D(le.prototype,ae,le.prototype.valueOf),ne(le,`Symbol`),j[P]=!0},function(e,t,n){var r=n(4),i=n(16),a=n(11),o=n(14),s=n(13),c=n(15).f,l=n(119),u=a.Symbol;if(i&&typeof u==`function`&&(!(`description`in u.prototype)||u().description!==void 0)){var d={},f=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),t=this instanceof f?new u(e):e===void 0?u():u(e);return e===``&&(d[t]=!0),t};l(f,u);var p=f.prototype=u.prototype;p.constructor=f;var m=p.toString,h=String(u(`test`))==`Symbol(test)`,g=/^Symbol\((.*)\)[^)]+$/;c(p,`description`,{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(o(d,e))return``;var n=h?t.slice(7,-1):t.replace(g,`$1`);return n===``?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},function(e,t,n){n(126)(`iterator`)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(6),s=n(2),c=n(70),l=n(3),u=n(9),d=n(0),f=n(152),p=n(12),m=function(e){function t(){var t=e.call(this)||this;return t._parent=null,t._firstChild=null,t._lastChild=null,t._previousSibling=null,t._nextSibling=null,t}return i(t,e),Object.defineProperty(t.prototype,`_childNodes`,{get:function(){return this.__childNodes||=d.create_nodeList(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`_nodeDocument`,{get:function(){return this._nodeDocumentOverride||o.dom.window._associatedDocument},set:function(e){this._nodeDocumentOverride=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`_registeredObserverList`,{get:function(){return this.__registeredObserverList||=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`nodeType`,{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`nodeName`,{get:function(){return l.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:l.Guard.isAttrNode(this)?this._qualifiedName:l.Guard.isExclusiveTextNode(this)?`#text`:l.Guard.isCDATASectionNode(this)?`#cdata-section`:l.Guard.isProcessingInstructionNode(this)?this._target:l.Guard.isCommentNode(this)?`#comment`:l.Guard.isDocumentNode(this)?`#document`:l.Guard.isDocumentTypeNode(this)?this._name:l.Guard.isDocumentFragmentNode(this)?`#document-fragment`:``},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`baseURI`,{get:function(){return f.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`isConnected`,{get:function(){return l.Guard.isElementNode(this)&&d.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`ownerDocument`,{get:function(){return this._nodeType===s.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),t.prototype.getRootNode=function(e){return d.tree_rootNode(this,!!e&&e.composed)},Object.defineProperty(t.prototype,`parentNode`,{get:function(){return this._nodeType===s.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`parentElement`,{get:function(){return this._parent&&l.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),t.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(t.prototype,`childNodes`,{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`firstChild`,{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`lastChild`,{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`previousSibling`,{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`nextSibling`,{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`nodeValue`,{get:function(){return l.Guard.isAttrNode(this)?this._value:l.Guard.isCharacterDataNode(this)?this._data:null},set:function(e){e===null&&(e=``),l.Guard.isAttrNode(this)?d.attr_setAnExistingAttributeValue(this,e):l.Guard.isCharacterDataNode(this)&&d.characterData_replaceData(this,0,this._data.length,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`textContent`,{get:function(){return l.Guard.isDocumentFragmentNode(this)||l.Guard.isElementNode(this)?d.text_descendantTextContent(this):l.Guard.isAttrNode(this)?this._value:l.Guard.isCharacterDataNode(this)?this._data:null},set:function(e){e===null&&(e=``),l.Guard.isDocumentFragmentNode(this)||l.Guard.isElementNode(this)?d.node_stringReplaceAll(e,this):l.Guard.isAttrNode(this)?d.attr_setAnExistingAttributeValue(this,e):l.Guard.isCharacterDataNode(this)&&d.characterData_replaceData(this,0,d.tree_nodeLength(this),e)},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){for(var e,t,n,r,i=[],s=d.tree_getFirstDescendantNode(this,!1,!1,(function(e){return l.Guard.isExclusiveTextNode(e)}));s!==null;)i.push(s),s=d.tree_getNextDescendantNode(this,s,!1,!1,(function(e){return l.Guard.isExclusiveTextNode(e)}));for(var c=0;c<i.length;c++){var u=i[c];if(u._parent!==null){var f=d.tree_nodeLength(u);if(f!==0){var p=[],m=``;try{for(var h=(e=void 0,a(d.text_contiguousExclusiveTextNodes(u))),g=h.next();!g.done;g=h.next()){var _=g.value;p.push(_),m+=_._data}}catch(t){e={error:t}}finally{try{g&&!g.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}if(d.characterData_replaceData(u,f,0,m),o.dom.rangeList.size!==0)for(var v=u._nextSibling;v!==null&&l.Guard.isExclusiveTextNode(v);){var y=v,b=d.tree_index(y);try{for(var x=(n=void 0,a(o.dom.rangeList)),S=x.next();!S.done;S=x.next()){var C=S.value;C._start[0]===y&&(C._start[0]=u,C._start[1]+=f),C._end[0]===y&&(C._end[0]=u,C._end[1]+=f),C._start[0]===y._parent&&C._start[1]===b&&(C._start[0]=u,C._start[1]=f),C._end[0]===y._parent&&C._end[1]===b&&(C._end[0]=u,C._end[1]=f)}}catch(e){n={error:e}}finally{try{S&&!S.done&&(r=x.return)&&r.call(x)}finally{if(n)throw n.error}}f+=d.tree_nodeLength(v),v=v._nextSibling}for(var w=0;w<p.length;w++)(_=p[w])._parent!==null&&d.mutation_remove(_,_._parent)}else d.mutation_remove(u,u._parent)}}},t.prototype.cloneNode=function(e){if(e===void 0&&(e=!1),l.Guard.isShadowRoot(this))throw new u.NotSupportedError;return d.node_clone(this,null,e)},t.prototype.isEqualNode=function(e){return e===void 0&&(e=null),e!==null&&d.node_equals(this,e)},t.prototype.isSameNode=function(e){return e===void 0&&(e=null),this===e},t.prototype.compareDocumentPosition=function(e){if(e===this)return 0;var t=e,n=this,r=null,i=null;if(l.Guard.isAttrNode(t)&&(t=(r=t)._element),l.Guard.isAttrNode(n)&&(n=(i=n)._element,r&&t&&t===n))for(var a=0;a<n._attributeList.length;a++){var c=n._attributeList[a];if(d.node_equals(c,r))return s.Position.ImplementationSpecific|s.Position.Preceding;if(d.node_equals(c,i))return s.Position.ImplementationSpecific|s.Position.Following}return t===null||n===null||d.tree_rootNode(t)!==d.tree_rootNode(n)?s.Position.Disconnected|s.Position.ImplementationSpecific|(o.dom.compareCache.check(this,e)?s.Position.Preceding:s.Position.Following):!r&&d.tree_isAncestorOf(n,t)||i&&t===n?s.Position.Contains|s.Position.Preceding:!i&&d.tree_isDescendantOf(n,t)||r&&t===n?s.Position.ContainedBy|s.Position.Following:d.tree_isPreceding(n,t)?s.Position.Preceding:s.Position.Following},t.prototype.contains=function(e){return e!==null&&d.tree_isDescendantOf(this,e,!0)},t.prototype.lookupPrefix=function(e){return e?l.Guard.isElementNode(this)?d.node_locateANamespacePrefix(this,e):l.Guard.isDocumentNode(this)?this.documentElement===null?null:d.node_locateANamespacePrefix(this.documentElement,e):l.Guard.isDocumentTypeNode(this)||l.Guard.isDocumentFragmentNode(this)?null:l.Guard.isAttrNode(this)?this._element===null?null:d.node_locateANamespacePrefix(this._element,e):this._parent!==null&&l.Guard.isElementNode(this._parent)?d.node_locateANamespacePrefix(this._parent,e):null:null},t.prototype.lookupNamespaceURI=function(e){return d.node_locateANamespace(this,e||null)},t.prototype.isDefaultNamespace=function(e){return e||=null,d.node_locateANamespace(this,null)===e},t.prototype.insertBefore=function(e,t){return d.mutation_preInsert(e,this,t)},t.prototype.appendChild=function(e){return d.mutation_append(e,this)},t.prototype.replaceChild=function(e,t){return d.mutation_replace(t,e,this)},t.prototype.removeChild=function(e){return d.mutation_preRemove(e,this)},t.prototype._getTheParent=function(e){return l.Guard.isSlotable(this)&&d.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},t.ELEMENT_NODE=1,t.ATTRIBUTE_NODE=2,t.TEXT_NODE=3,t.CDATA_SECTION_NODE=4,t.ENTITY_REFERENCE_NODE=5,t.ENTITY_NODE=6,t.PROCESSING_INSTRUCTION_NODE=7,t.COMMENT_NODE=8,t.DOCUMENT_NODE=9,t.DOCUMENT_TYPE_NODE=10,t.DOCUMENT_FRAGMENT_NODE=11,t.NOTATION_NODE=12,t.DOCUMENT_POSITION_DISCONNECTED=1,t.DOCUMENT_POSITION_PRECEDING=2,t.DOCUMENT_POSITION_FOLLOWING=4,t.DOCUMENT_POSITION_CONTAINS=8,t.DOCUMENT_POSITION_CONTAINED_BY=16,t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,t}(c.EventTargetImpl);t.NodeImpl=m,m.prototype._children=new l.EmptySet,p.idl_defineConst(m.prototype,`ELEMENT_NODE`,1),p.idl_defineConst(m.prototype,`ATTRIBUTE_NODE`,2),p.idl_defineConst(m.prototype,`TEXT_NODE`,3),p.idl_defineConst(m.prototype,`CDATA_SECTION_NODE`,4),p.idl_defineConst(m.prototype,`ENTITY_REFERENCE_NODE`,5),p.idl_defineConst(m.prototype,`ENTITY_NODE`,6),p.idl_defineConst(m.prototype,`PROCESSING_INSTRUCTION_NODE`,7),p.idl_defineConst(m.prototype,`COMMENT_NODE`,8),p.idl_defineConst(m.prototype,`DOCUMENT_NODE`,9),p.idl_defineConst(m.prototype,`DOCUMENT_TYPE_NODE`,10),p.idl_defineConst(m.prototype,`DOCUMENT_FRAGMENT_NODE`,11),p.idl_defineConst(m.prototype,`NOTATION_NODE`,12),p.idl_defineConst(m.prototype,`DOCUMENT_POSITION_DISCONNECTED`,1),p.idl_defineConst(m.prototype,`DOCUMENT_POSITION_PRECEDING`,2),p.idl_defineConst(m.prototype,`DOCUMENT_POSITION_FOLLOWING`,4),p.idl_defineConst(m.prototype,`DOCUMENT_POSITION_CONTAINS`,8),p.idl_defineConst(m.prototype,`DOCUMENT_POSITION_CONTAINED_BY`,16),p.idl_defineConst(m.prototype,`DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC`,32)},function(e,t){e.exports=function(e){if(e==null)throw TypeError(`Can't call method on `+e);return e}},function(e,t,n){var r=n(87),i=n(41),a=n(27),o=n(26),s=n(128),c=[].push,l=function(e){var t=e==1,n=e==2,l=e==3,u=e==4,d=e==6,f=e==5||d;return function(p,m,h,g){for(var _,v,y=a(p),b=i(y),x=r(m,h,3),S=o(b.length),C=0,w=g||s,T=t?w(p,S):n?w(p,0):void 0;S>C;C++)if((f||C in b)&&(v=x(_=b[C],C,y),e)){if(t)T[C]=v;else if(v)switch(e){case 3:return!0;case 5:return _;case 6:return C;case 2:c.call(T,_)}else if(u)return!1}return d?-1:l||u?u:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},i=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(6),s=n(9),c=n(2),l=n(3),u=n(1),d=n(7),f=n(73),p=n(17),m=n(172),h=n(72),g=n(51),_=n(30),v=n(106);function y(e,t,n){var i,a,o,l,u,d,f,m,h=t._nodeType,g=e._nodeType,_=n?n._nodeType:null;if(h!==c.NodeType.Document&&h!==c.NodeType.DocumentFragment&&h!==c.NodeType.Element)throw new s.HierarchyRequestError(`Only document, document fragment and element nodes can contain child nodes. Parent node is `+t.nodeName+`.`);if(p.tree_isHostIncludingAncestorOf(t,e,!0))throw new s.HierarchyRequestError(`The node to be inserted cannot be an inclusive ancestor of parent node. Node is `+e.nodeName+`, parent node is `+t.nodeName+`.`);if(n!==null&&n._parent!==t)throw new s.NotFoundError(`The reference child node cannot be found under parent node. Child node is `+n.nodeName+`, parent node is `+t.nodeName+`.`);if(g!==c.NodeType.DocumentFragment&&g!==c.NodeType.DocumentType&&g!==c.NodeType.Element&&g!==c.NodeType.Text&&g!==c.NodeType.ProcessingInstruction&&g!==c.NodeType.CData&&g!==c.NodeType.Comment)throw new s.HierarchyRequestError(`Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is `+e.nodeName+`.`);if(g===c.NodeType.Text&&h===c.NodeType.Document)throw new s.HierarchyRequestError(`Cannot insert a text node as a child of a document node. Node is `+e.nodeName+`.`);if(g===c.NodeType.DocumentType&&h!==c.NodeType.Document)throw new s.HierarchyRequestError(`A document type node can only be inserted under a document node. Parent node is `+t.nodeName+`.`);if(h===c.NodeType.Document){if(g===c.NodeType.DocumentFragment){var v=0;try{for(var y=r(e._children),b=y.next();!b.done;b=y.next()){var x=b.value;if(x._nodeType===c.NodeType.Element)v++;else if(x._nodeType===c.NodeType.Text)throw new s.HierarchyRequestError(`Cannot insert text a node as a child of a document node. Node is `+x.nodeName+`.`)}}catch(e){i={error:e}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}if(v>1)throw new s.HierarchyRequestError(`A document node can only have one document element node. Document fragment to be inserted has `+v+` element nodes.`);if(v===1){try{for(var S=r(t._children),C=S.next();!C.done;C=S.next())if(C.value._nodeType===c.NodeType.Element)throw new s.HierarchyRequestError(`The document node already has a document element node.`)}catch(e){o={error:e}}finally{try{C&&!C.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(n){if(_===c.NodeType.DocumentType)throw new s.HierarchyRequestError(`Cannot insert an element node before a document type node.`);for(var w=n._nextSibling;w;){if(w._nodeType===c.NodeType.DocumentType)throw new s.HierarchyRequestError(`Cannot insert an element node before a document type node.`);w=w._nextSibling}}}}else if(g===c.NodeType.Element){try{for(var T=r(t._children),E=T.next();!E.done;E=T.next())if(E.value._nodeType===c.NodeType.Element)throw new s.HierarchyRequestError(`Document already has a document element node. Node is `+e.nodeName+`.`)}catch(e){u={error:e}}finally{try{E&&!E.done&&(d=T.return)&&d.call(T)}finally{if(u)throw u.error}}if(n){if(_===c.NodeType.DocumentType)throw new s.HierarchyRequestError(`Cannot insert an element node before a document type node. Node is `+e.nodeName+`.`);for(w=n._nextSibling;w;){if(w._nodeType===c.NodeType.DocumentType)throw new s.HierarchyRequestError(`Cannot insert an element node before a document type node. Node is `+e.nodeName+`.`);w=w._nextSibling}}}else if(g===c.NodeType.DocumentType){try{for(var D=r(t._children),O=D.next();!O.done;O=D.next())if(O.value._nodeType===c.NodeType.DocumentType)throw new s.HierarchyRequestError(`Document already has a document type node. Node is `+e.nodeName+`.`)}catch(e){f={error:e}}finally{try{O&&!O.done&&(m=D.return)&&m.call(D)}finally{if(f)throw f.error}}if(n)for(var k=n._previousSibling;k;){if(k._nodeType===c.NodeType.Element)throw new s.HierarchyRequestError(`Cannot insert a document type node before an element node. Node is `+e.nodeName+`.`);k=k._previousSibling}else for(k=t._firstChild;k;){if(k._nodeType===c.NodeType.Element)throw new s.HierarchyRequestError(`Cannot insert a document type node before an element node. Node is `+e.nodeName+`.`);k=k._nextSibling}}}}function b(e,t,n){y(e,t,n);var r=n;return r===e&&(r=e._nextSibling),v.document_adopt(e,t._nodeDocument),x(e,t,r),e}function x(e,t,n,i){var s,m;if(n!==null||e._nodeType===c.NodeType.DocumentFragment){var v=e._nodeType===c.NodeType.DocumentFragment?e._children.size:1;if(n!==null&&o.dom.rangeList.size!==0){var y=p.tree_index(n);try{for(var b=r(o.dom.rangeList),x=b.next();!x.done;x=b.next()){var C=x.value;C._start[0]===t&&C._start[1]>y&&(C._start[1]+=v),C._end[0]===t&&C._end[1]>y&&(C._end[1]+=v)}}catch(e){s={error:e}}finally{try{x&&!x.done&&(m=b.return)&&m.call(b)}finally{if(s)throw s.error}}}var w=e._nodeType===c.NodeType.DocumentFragment?new(Array.bind.apply(Array,a([void 0],e._children))):[e];if(e._nodeType===c.NodeType.DocumentFragment)for(;e._firstChild;)S(e._firstChild,e,!0);o.dom.features.mutationObservers&&e._nodeType===c.NodeType.DocumentFragment&&g.observer_queueTreeMutationRecord(e,[],w,null,null);for(var T=n?n._previousSibling:t._lastChild,E=n===null?-1:p.tree_index(n),D=0;D<w.length;D++){var O=w[D];if(l.Guard.isElementNode(O)&&(l.Guard.isDocumentNode(t)&&(t._documentElement=O),O._nodeDocument._hasNamespaces||O._namespace===null&&O._namespacePrefix===null||(O._nodeDocument._hasNamespaces=!0)),O._parent=t,n===null?d.set.append(t._children,O):(d.set.insert(t._children,O,E),E++),t._firstChild===null)O._previousSibling=null,O._nextSibling=null,t._firstChild=O,t._lastChild=O;else{var k=n?n._previousSibling:t._lastChild,A=n||null;O._previousSibling=k,O._nextSibling=A,k&&(k._nextSibling=O),A&&(A._previousSibling=O),k||(t._firstChild=O),A||(t._lastChild=O)}o.dom.features.slots&&t._shadowRoot!==null&&l.Guard.isSlotable(O)&&h.shadowTree_assignASlot(O),o.dom.features.steps&&l.Guard.isTextNode(O)&&_.dom_runChildTextContentChangeSteps(t),o.dom.features.slots&&l.Guard.isShadowRoot(p.tree_rootNode(t))&&l.Guard.isSlot(t)&&u.isEmpty(t._assignedNodes)&&h.shadowTree_signalASlotChange(t),o.dom.features.slots&&h.shadowTree_assignSlotablesForATree(p.tree_rootNode(O));for(var j=p.tree_getFirstDescendantNode(O,!0,!0);j!==null;)o.dom.features.steps&&_.dom_runInsertionSteps(j),o.dom.features.customElements&&l.Guard.isElementNode(j)&&h.shadowTree_isConnected(j)&&(l.Guard.isCustomElementNode(j)?f.customElement_enqueueACustomElementCallbackReaction(j,`connectedCallback`,[]):f.customElement_tryToUpgrade(j)),j=p.tree_getNextDescendantNode(O,j,!0,!0)}o.dom.features.mutationObservers&&(i||g.observer_queueTreeMutationRecord(t,w,[],T,n))}else (function(e,t,n){var r=t._lastChild;if(l.Guard.isElementNode(e)&&(l.Guard.isDocumentNode(t)&&(t._documentElement=e),e._nodeDocument._hasNamespaces||e._namespace===null&&e._namespacePrefix===null||(e._nodeDocument._hasNamespaces=!0)),e._parent=t,t._children.add(e),t._firstChild===null)e._previousSibling=null,e._nextSibling=null,t._firstChild=e,t._lastChild=e;else{var i=t._lastChild;e._previousSibling=i,e._nextSibling=null,i&&(i._nextSibling=e),i||(t._firstChild=e),t._lastChild=e}o.dom.features.slots&&t._shadowRoot!==null&&l.Guard.isSlotable(e)&&h.shadowTree_assignASlot(e),o.dom.features.steps&&l.Guard.isTextNode(e)&&_.dom_runChildTextContentChangeSteps(t),o.dom.features.slots&&l.Guard.isShadowRoot(p.tree_rootNode(t))&&l.Guard.isSlot(t)&&u.isEmpty(t._assignedNodes)&&h.shadowTree_signalASlotChange(t),o.dom.features.slots&&h.shadowTree_assignSlotablesForATree(p.tree_rootNode(e)),o.dom.features.steps&&_.dom_runInsertionSteps(e),o.dom.features.customElements&&l.Guard.isElementNode(e)&&h.shadowTree_isConnected(e)&&(l.Guard.isCustomElementNode(e)?f.customElement_enqueueACustomElementCallbackReaction(e,`connectedCallback`,[]):f.customElement_tryToUpgrade(e)),o.dom.features.mutationObservers&&(n||g.observer_queueTreeMutationRecord(t,[e],[],r,null))})(e,t,i)}function S(e,t,n){var i,a,s,c,d,v,y,b;if(o.dom.rangeList.size!==0){var x=p.tree_index(e);try{for(var S=r(o.dom.rangeList),C=S.next();!C.done;C=S.next()){var w=C.value;p.tree_isDescendantOf(e,w._start[0],!0)&&(w._start=[t,x]),p.tree_isDescendantOf(e,w._end[0],!0)&&(w._end=[t,x]),w._start[0]===t&&w._start[1]>x&&w._start[1]--,w._end[0]===t&&w._end[1]>x&&w._end[1]--}}catch(e){i={error:e}}finally{try{C&&!C.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}try{for(var T=r(o.dom.rangeList),E=T.next();!E.done;E=T.next())(w=E.value)._start[0]===t&&w._start[1]>x&&--w._start[1],w._end[0]===t&&w._end[1]>x&&--w._end[1]}catch(e){s={error:e}}finally{try{E&&!E.done&&(c=T.return)&&c.call(T)}finally{if(s)throw s.error}}}if(o.dom.features.steps)try{for(var D=r(m.nodeIterator_iteratorList()),O=D.next();!O.done;O=D.next()){var k=O.value;k._root._nodeDocument===e._nodeDocument&&_.dom_runNodeIteratorPreRemovingSteps(k,e)}}catch(e){d={error:e}}finally{try{O&&!O.done&&(v=D.return)&&v.call(D)}finally{if(d)throw d.error}}var A=e._previousSibling,j=e._nextSibling;l.Guard.isDocumentNode(t)&&l.Guard.isElementNode(e)&&(t._documentElement=null),e._parent=null,t._children.delete(e);var M=e._previousSibling,ee=e._nextSibling;(e._previousSibling=null,e._nextSibling=null,M&&(M._nextSibling=ee),ee&&(ee._previousSibling=M),M||(t._firstChild=ee),ee||(t._lastChild=M),o.dom.features.slots&&l.Guard.isSlotable(e)&&e._assignedSlot!==null&&h.shadowTree_isAssigned(e)&&h.shadowTree_assignSlotables(e._assignedSlot),o.dom.features.slots&&l.Guard.isShadowRoot(p.tree_rootNode(t))&&l.Guard.isSlot(t)&&u.isEmpty(t._assignedNodes)&&h.shadowTree_signalASlotChange(t),o.dom.features.slots)&&p.tree_getFirstDescendantNode(e,!0,!1,(function(e){return l.Guard.isSlot(e)}))!==null&&(h.shadowTree_assignSlotablesForATree(p.tree_rootNode(t)),h.shadowTree_assignSlotablesForATree(e)),o.dom.features.steps&&_.dom_runRemovingSteps(e,t),o.dom.features.customElements&&l.Guard.isCustomElementNode(e)&&f.customElement_enqueueACustomElementCallbackReaction(e,`disconnectedCallback`,[]);for(var te=p.tree_getFirstDescendantNode(e,!1,!0);te!==null;)o.dom.features.steps&&_.dom_runRemovingSteps(te,e),o.dom.features.customElements&&l.Guard.isCustomElementNode(te)&&f.customElement_enqueueACustomElementCallbackReaction(te,`disconnectedCallback`,[]),te=p.tree_getNextDescendantNode(e,te,!1,!0);if(o.dom.features.mutationObservers)for(var N=p.tree_getFirstAncestorNode(t,!0);N!==null;){try{for(var ne=(y=void 0,r(N._registeredObserverList)),re=ne.next();!re.done;re=ne.next()){var ie=re.value;ie.options.subtree&&e._registeredObserverList.push({observer:ie.observer,options:ie.options,source:ie})}}catch(e){y={error:e}}finally{try{re&&!re.done&&(b=ne.return)&&b.call(ne)}finally{if(y)throw y.error}}N=p.tree_getNextAncestorNode(t,N,!0)}o.dom.features.mutationObservers&&(n||g.observer_queueTreeMutationRecord(t,[],[e],A,j)),o.dom.features.steps&&l.Guard.isTextNode(e)&&_.dom_runChildTextContentChangeSteps(t)}t.mutation_ensurePreInsertionValidity=y,t.mutation_preInsert=b,t.mutation_insert=x,t.mutation_append=function(e,t){return b(e,t,null)},t.mutation_replace=function(e,t,n){var i,a,l,u,d,f,m,h;if(n._nodeType!==c.NodeType.Document&&n._nodeType!==c.NodeType.DocumentFragment&&n._nodeType!==c.NodeType.Element)throw new s.HierarchyRequestError(`Only document, document fragment and element nodes can contain child nodes. Parent node is `+n.nodeName+`.`);if(p.tree_isHostIncludingAncestorOf(n,t,!0))throw new s.HierarchyRequestError(`The node to be inserted cannot be an ancestor of parent node. Node is `+t.nodeName+`, parent node is `+n.nodeName+`.`);if(e._parent!==n)throw new s.NotFoundError(`The reference child node cannot be found under parent node. Child node is `+e.nodeName+`, parent node is `+n.nodeName+`.`);if(t._nodeType!==c.NodeType.DocumentFragment&&t._nodeType!==c.NodeType.DocumentType&&t._nodeType!==c.NodeType.Element&&t._nodeType!==c.NodeType.Text&&t._nodeType!==c.NodeType.ProcessingInstruction&&t._nodeType!==c.NodeType.CData&&t._nodeType!==c.NodeType.Comment)throw new s.HierarchyRequestError(`Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is `+t.nodeName+`.`);if(t._nodeType===c.NodeType.Text&&n._nodeType===c.NodeType.Document)throw new s.HierarchyRequestError(`Cannot insert a text node as a child of a document node. Node is `+t.nodeName+`.`);if(t._nodeType===c.NodeType.DocumentType&&n._nodeType!==c.NodeType.Document)throw new s.HierarchyRequestError(`A document type node can only be inserted under a document node. Parent node is `+n.nodeName+`.`);if(n._nodeType===c.NodeType.Document){if(t._nodeType===c.NodeType.DocumentFragment){var _=0;try{for(var y=r(t._children),b=y.next();!b.done;b=y.next()){var C=b.value;if(C._nodeType===c.NodeType.Element)_++;else if(C._nodeType===c.NodeType.Text)throw new s.HierarchyRequestError(`Cannot insert text a node as a child of a document node. Node is `+C.nodeName+`.`)}}catch(e){i={error:e}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}if(_>1)throw new s.HierarchyRequestError(`A document node can only have one document element node. Document fragment to be inserted has `+_+` element nodes.`);if(_===1){try{for(var w=r(n._children),T=w.next();!T.done;T=w.next())if((j=T.value)._nodeType===c.NodeType.Element&&j!==e)throw new s.HierarchyRequestError(`The document node already has a document element node.`)}catch(e){l={error:e}}finally{try{T&&!T.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}for(var E=e._nextSibling;E;){if(E._nodeType===c.NodeType.DocumentType)throw new s.HierarchyRequestError(`Cannot insert an element node before a document type node.`);E=E._nextSibling}}}else if(t._nodeType===c.NodeType.Element){try{for(var D=r(n._children),O=D.next();!O.done;O=D.next())if((j=O.value)._nodeType===c.NodeType.Element&&j!==e)throw new s.HierarchyRequestError(`Document already has a document element node. Node is `+t.nodeName+`.`)}catch(e){d={error:e}}finally{try{O&&!O.done&&(f=D.return)&&f.call(D)}finally{if(d)throw d.error}}for(E=e._nextSibling;E;){if(E._nodeType===c.NodeType.DocumentType)throw new s.HierarchyRequestError(`Cannot insert an element node before a document type node. Node is `+t.nodeName+`.`);E=E._nextSibling}}else if(t._nodeType===c.NodeType.DocumentType){try{for(var k=r(n._children),A=k.next();!A.done;A=k.next()){var j;if((j=A.value)._nodeType===c.NodeType.DocumentType&&j!==e)throw new s.HierarchyRequestError(`Document already has a document type node. Node is `+t.nodeName+`.`)}}catch(e){m={error:e}}finally{try{A&&!A.done&&(h=k.return)&&h.call(k)}finally{if(m)throw m.error}}for(var M=e._previousSibling;M;){if(M._nodeType===c.NodeType.Element)throw new s.HierarchyRequestError(`Cannot insert a document type node before an element node. Node is `+t.nodeName+`.`);M=M._previousSibling}}}var ee=e._nextSibling;ee===t&&(ee=t._nextSibling);var te=e._previousSibling;v.document_adopt(t,n._nodeDocument);var N=[];e._parent!==null&&(N.push(e),S(e,e._parent,!0));var ne=[];return t._nodeType===c.NodeType.DocumentFragment?ne=Array.from(t._children):ne.push(t),x(t,n,ee,!0),o.dom.features.mutationObservers&&g.observer_queueTreeMutationRecord(n,ne,N,te,ee),e},t.mutation_replaceAll=function(e,t){var n,i;e!==null&&v.document_adopt(e,t._nodeDocument);var a=Array.from(t._children),s=[];e&&e._nodeType===c.NodeType.DocumentFragment?s=Array.from(e._children):e!==null&&s.push(e);try{for(var l=r(a),u=l.next();!u.done;u=l.next())S(u.value,t,!0)}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}e!==null&&x(e,t,null,!0),o.dom.features.mutationObservers&&g.observer_queueTreeMutationRecord(t,s,a,null,null)},t.mutation_preRemove=function(e,t){if(e._parent!==t)throw new s.NotFoundError(`The child node cannot be found under parent node. Child node is `+e.nodeName+`, parent node is `+t.nodeName+`.`);return S(e,t),e},t.mutation_remove=S},function(e,t,n){function r(e){return e==null}e.exports.isNothing=r,e.exports.isObject=function(e){return typeof e==`object`&&!!e},e.exports.toArray=function(e){return Array.isArray(e)?e:r(e)?[]:[e]},e.exports.repeat=function(e,t){var n,r=``;for(n=0;n<t;n+=1)r+=e;return r},e.exports.isNegativeZero=function(e){return e===0&&1/e==-1/0},e.exports.extend=function(e,t){var n,r,i,a;if(t)for(n=0,r=(a=Object.keys(t)).length;n<r;n+=1)e[i=a[n]]=t[i];return e}},function(e,t,n){var r=n(38),i=n(53),a=n(10);function o(e,t,n){var r=[];return e.include.forEach((function(e){n=o(e,t,n)})),e[t].forEach((function(e){n.forEach((function(t,n){t.tag===e.tag&&t.kind===e.kind&&r.push(n)})),n.push(e)})),n.filter((function(e,t){return r.indexOf(t)===-1}))}function s(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&e.loadKind!==`scalar`)throw new i(`There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.`)})),this.compiledImplicit=o(this,`implicit`,[]),this.compiledExplicit=o(this,`explicit`,[]),this.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(e){n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}s.DEFAULT=null,s.create=function(){var e,t;switch(arguments.length){case 1:e=s.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new i(`Wrong number of arguments for Schema.create function`)}if(e=r.toArray(e),t=r.toArray(t),!e.every((function(e){return e instanceof s})))throw new i(`Specified list of super schemas (or a single Schema object) contains a non-Schema object.`);if(!t.every((function(e){return e instanceof a})))throw new i(`Specified list of YAML types (or a single Type object) contains a non-Type object.`);return new s({include:e,explicit:t})},e.exports=s},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(8),i=n(42),a=``.split;e.exports=r((function(){return!Object(`z`).propertyIsEnumerable(0)}))?function(e){return i(e)==`String`?a.call(e,``):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r,i,a,o=n(186),s=n(11),c=n(13),l=n(21),u=n(14),d=n(57),f=n(45),p=s.WeakMap;if(o){var m=new p,h=m.get,g=m.has,_=m.set;r=function(e,t){return _.call(m,e,t),t},i=function(e){return h.call(m,e)||{}},a=function(e){return g.call(m,e)}}else{var v=d(`state`);f[v]=!0,r=function(e,t){return l(e,v,t),t},i=function(e){return u(e,v)?e[v]:{}},a=function(e){return u(e,v)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError(`Incompatible receiver, `+e+` required`);return n}}}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){var r=n(120),i=n(11),a=function(e){return typeof e==`function`?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports={}},function(e,t,n){n(31),n(32),n(33),n(220),n(64),n(19),n(65),n(20),n(68),n(66),n(92),n(144),n(22),n(94),n(23);var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},i=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(2),s=n(69),c=n(95),l=n(7),u=n(0);t.BaseWriter=function(){function e(e){this.level=0,this._builderOptions=e}return e.prototype.declaration=function(e,t,n){},e.prototype.docType=function(e,t,n){},e.prototype.comment=function(e){},e.prototype.text=function(e){},e.prototype.instruction=function(e,t){},e.prototype.cdata=function(e){},e.prototype.openTagBegin=function(e){},e.prototype.openTagEnd=function(e,t,n){},e.prototype.closeTag=function(e){},e.prototype.attributes=function(e){var t,n;try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var o=a.value;this.attribute(o[1]===null?o[2]:o[1]+`:`+o[2],o[3])}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.attribute=function(e,t){},e.prototype.beginElement=function(e){},e.prototype.endElement=function(e){},e.prototype.serializeNode=function(e,t){var n=e._nodeDocument!==void 0&&e._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=e,n){var r=new c.NamespacePrefixMap;r.set(`xml`,l.namespace.XML),this._serializeNodeNS(e,null,r,{value:1},t)}else this._serializeNode(e,t)},e.prototype._serializeNodeNS=function(e,t,n,r,i){switch(this.currentNode=e,e.nodeType){case o.NodeType.Element:this._serializeElementNS(e,t,n,r,i);break;case o.NodeType.Document:this._serializeDocumentNS(e,t,n,r,i);break;case o.NodeType.Comment:this._serializeComment(e,i);break;case o.NodeType.Text:this._serializeText(e,i);break;case o.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(e,t,n,r,i);break;case o.NodeType.DocumentType:this._serializeDocumentType(e,i);break;case o.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(e,i);break;case o.NodeType.CData:this._serializeCData(e,i);break;default:throw Error(`Unknown node type: `+e.nodeType)}},e.prototype._serializeNode=function(e,t){switch(this.currentNode=e,e.nodeType){case o.NodeType.Element:this._serializeElement(e,t);break;case o.NodeType.Document:this._serializeDocument(e,t);break;case o.NodeType.Comment:this._serializeComment(e,t);break;case o.NodeType.Text:this._serializeText(e,t);break;case o.NodeType.DocumentFragment:this._serializeDocumentFragment(e,t);break;case o.NodeType.DocumentType:this._serializeDocumentType(e,t);break;case o.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(e,t);break;case o.NodeType.CData:this._serializeCData(e,t);break;default:throw Error(`Unknown node type: `+e.nodeType)}},e.prototype._serializeElementNS=function(t,n,i,o,s){var c,d,f=[];if(s&&(t.localName.indexOf(`:`)!==-1||!u.xml_isName(t.localName)))throw Error(`Node local name contains invalid characters (well-formed required).`);var p=``,m=!1,h=!1,g=i.copy(),_={},v=this._recordNamespaceInformation(t,g,_),y=n,b=t.namespaceURI;if(y===b)v!==null&&(h=!0),p=b===l.namespace.XML?`xml:`+t.localName:t.localName,this.beginElement(p),this.openTagBegin(p);else{var x=t.prefix,S=null;if(x===null&&b===v||(S=g.get(x,b)),x===`xmlns`){if(s)throw Error(`An element cannot have the 'xmlns' prefix (well-formed required).`);S=x}S===null?x===null?v===null||v!==null&&v!==b?(h=!0,p+=t.localName,y=b,this.beginElement(p),this.openTagBegin(p),f.push([null,null,`xmlns`,this._serializeAttributeValue(b,s)])):(p+=t.localName,y=b,this.beginElement(p),this.openTagBegin(p)):(x in _&&(x=this._generatePrefix(b,g,o)),g.set(x,b),p+=x+`:`+t.localName,this.beginElement(p),this.openTagBegin(p),f.push([null,`xmlns`,x,this._serializeAttributeValue(b,s)]),v!==null&&(y=v||null)):(p=S+`:`+t.localName,v!==null&&v!==l.namespace.XML&&(y=v||null),this.beginElement(p),this.openTagBegin(p))}f.push.apply(f,a(this._serializeAttributesNS(t,g,o,_,h,s))),this.attributes(f);var C=b===l.namespace.HTML;if(C&&t.childNodes.length===0&&e._VoidElementNames.has(t.localName)?(this.openTagEnd(p,!0,!0),this.endElement(p),m=!0):C||t.childNodes.length!==0?this.openTagEnd(p,!1,!1):(this.openTagEnd(p,!0,!1),this.endElement(p),m=!0),!m){if(!(C&&t.localName===`template`))try{for(var w=r(t.childNodes),T=w.next();!T.done;T=w.next()){var E=T.value;this.level++,this._serializeNodeNS(E,y,g,o,s),this.level--}}catch(e){c={error:e}}finally{try{T&&!T.done&&(d=w.return)&&d.call(w)}finally{if(c)throw c.error}}this.closeTag(p),this.endElement(p)}},e.prototype._serializeElement=function(e,t){var n,i;if(t&&(e.localName.indexOf(`:`)!==-1||!u.xml_isName(e.localName)))throw Error(`Node local name contains invalid characters (well-formed required).`);var a=!1,o=e.localName;this.beginElement(o),this.openTagBegin(o);var s=this._serializeAttributes(e,t);if(this.attributes(s),e.hasChildNodes()?this.openTagEnd(o,!1,!1):(this.openTagEnd(o,!0,!1),this.endElement(o),a=!0),!a){try{for(var c=r(e._children),l=c.next();!l.done;l=c.next()){var d=l.value;this.level++,this._serializeNode(d,t),this.level--}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.closeTag(o),this.endElement(o)}},e.prototype._serializeDocumentNS=function(e,t,n,i,a){var o,s;if(a&&e.documentElement===null)throw Error(`Missing document element (well-formed required).`);try{for(var c=r(e.childNodes),l=c.next();!l.done;l=c.next()){var u=l.value;this._serializeNodeNS(u,t,n,i,a)}}catch(e){o={error:e}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}},e.prototype._serializeDocument=function(e,t){var n,i;if(t&&e.documentElement===null)throw Error(`Missing document element (well-formed required).`);try{for(var a=r(e._children),o=a.next();!o.done;o=a.next()){var s=o.value;this._serializeNode(s,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype._serializeComment=function(e,t){if(t&&(!u.xml_isLegalChar(e.data)||e.data.indexOf(`--`)!==-1||e.data.endsWith(`-`)))throw Error(`Comment data contains invalid characters (well-formed required).`);this.comment(e.data)},e.prototype._serializeText=function(e,t){if(t&&!u.xml_isLegalChar(e.data))throw Error(`Text data contains invalid characters (well-formed required).`);var n=e.data.replace(/(?!&([^&;]*);)&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);this.text(n)},e.prototype._serializeDocumentFragmentNS=function(e,t,n,i,a){var o,s;try{for(var c=r(e.childNodes),l=c.next();!l.done;l=c.next()){var u=l.value;this._serializeNodeNS(u,t,n,i,a)}}catch(e){o={error:e}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}},e.prototype._serializeDocumentFragment=function(e,t){var n,i;try{for(var a=r(e._children),o=a.next();!o.done;o=a.next()){var s=o.value;this._serializeNode(s,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype._serializeDocumentType=function(e,t){if(t&&!u.xml_isPubidChar(e.publicId))throw Error(`DocType public identifier does not match PubidChar construct (well-formed required).`);if(t&&(!u.xml_isLegalChar(e.systemId)||e.systemId.indexOf(`"`)!==-1&&e.systemId.indexOf(`'`)!==-1))throw Error(`DocType system identifier contains invalid characters (well-formed required).`);this.docType(e.name,e.publicId,e.systemId)},e.prototype._serializeProcessingInstruction=function(e,t){if(t&&(e.target.indexOf(`:`)!==-1||/^xml$/i.test(e.target)))throw Error(`Processing instruction target contains invalid characters (well-formed required).`);if(t&&(!u.xml_isLegalChar(e.data)||e.data.indexOf(`?>`)!==-1))throw Error(`Processing instruction data contains invalid characters (well-formed required).`);this.instruction(e.target,e.data)},e.prototype._serializeCData=function(e,t){if(t&&e.data.indexOf(`]]>`)!==-1)throw Error(`CDATA contains invalid characters (well-formed required).`);this.cdata(e.data)},e.prototype._serializeAttributesNS=function(e,t,n,i,a,o){var c,d,f=[],p=o?new s.LocalNameSet:void 0;try{for(var m=r(e.attributes),h=m.next();!h.done;h=m.next()){var g=h.value;if(o||a||g.namespaceURI!==null){if(o&&p&&p.has(g.namespaceURI,g.localName))throw Error(`Element contains duplicate attributes (well-formed required).`);o&&p&&p.set(g.namespaceURI,g.localName);var _=g.namespaceURI,v=null;if(_!==null)if(v=t.get(g.prefix,_),_===l.namespace.XMLNS){if(g.value===l.namespace.XML||g.prefix===null&&a||g.prefix!==null&&(!(g.localName in i)||i[g.localName]!==g.value)&&t.has(g.localName,g.value))continue;if(o&&g.value===l.namespace.XMLNS)throw Error(`XMLNS namespace is reserved (well-formed required).`);if(o&&g.value===``)throw Error(`Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).`);g.prefix===`xmlns`&&(v=`xmlns`)}else v===null&&(v=g.prefix===null||t.hasPrefix(g.prefix)&&!t.has(g.prefix,_)?this._generatePrefix(_,t,n):g.prefix,f.push([null,`xmlns`,v,this._serializeAttributeValue(_,o)]));if(o&&(g.localName.indexOf(`:`)!==-1||!u.xml_isName(g.localName)||g.localName===`xmlns`&&_===null))throw Error(`Attribute local name contains invalid characters (well-formed required).`);f.push([_,v,g.localName,this._serializeAttributeValue(g.value,o)])}else f.push([null,null,g.localName,this._serializeAttributeValue(g.value,o)])}}catch(e){c={error:e}}finally{try{h&&!h.done&&(d=m.return)&&d.call(m)}finally{if(c)throw c.error}}return f},e.prototype._serializeAttributes=function(e,t){var n,i,a=[],o=t?{}:void 0;try{for(var s=r(e.attributes),c=s.next();!c.done;c=s.next()){var l=c.value;if(t){if(t&&o&&l.localName in o)throw Error(`Element contains duplicate attributes (well-formed required).`);if(t&&o&&(o[l.localName]=!0),t&&(l.localName.indexOf(`:`)!==-1||!u.xml_isName(l.localName)))throw Error(`Attribute local name contains invalid characters (well-formed required).`);a.push([null,null,l.localName,this._serializeAttributeValue(l.value,t)])}else a.push([null,null,l.localName,this._serializeAttributeValue(l.value,t)])}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a},e.prototype._recordNamespaceInformation=function(e,t,n){var i,a,o=null;try{for(var s=r(e.attributes),c=s.next();!c.done;c=s.next()){var u=c.value,d=u.namespaceURI,f=u.prefix;if(d===l.namespace.XMLNS){if(f===null){o=u.value;continue}var p=u.localName,m=u.value;if(m===l.namespace.XML||(m===``&&(m=null),t.has(p,m)))continue;t.set(p,m),n[p]=m||``}}}catch(e){i={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return o},e.prototype._generatePrefix=function(e,t,n){var r=`ns`+n.value.toString();return n.value++,t.set(r,e),r},e.prototype._serializeAttributeValue=function(e,t){if(t&&e!==null&&!u.xml_isLegalChar(e))throw Error(`Invalid characters in attribute value.`);return e===null?``:e.replace(/(?!&([^&;]*);)&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`)},e._VoidElementNames=new Set([`area`,`base`,`basefont`,`bgsound`,`br`,`col`,`embed`,`frame`,`hr`,`img`,`input`,`keygen`,`link`,`menuitem`,`meta`,`param`,`source`,`track`,`wbr`]),e}()},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},i=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,`__esModule`,{value:!0});var a=n(6),o=n(3),s=n(7),c=n(29),l=n(17),u=n(97);function d(){var e=a.dom.window;e._mutationObserverMicrotaskQueued||(e._mutationObserverMicrotaskQueued=!0,Promise.resolve().then((function(){f()})))}function f(){var e,t,n,i,c=a.dom.window;c._mutationObserverMicrotaskQueued=!1;var l=s.set.clone(c._mutationObservers),d=s.set.clone(c._signalSlots);s.set.empty(c._signalSlots);var f=function(e){var t=s.list.clone(e._recordQueue);s.list.empty(e._recordQueue);for(var n=0;n<e._nodeList.length;n++){var r=e._nodeList[n];s.list.remove(r._registeredObserverList,(function(t){return o.Guard.isTransientRegisteredObserver(t)&&t.observer===e}))}if(!s.list.isEmpty(t))try{e._callback.call(e,t,e)}catch{}};try{for(var p=r(l),m=p.next();!m.done;m=p.next())f(m.value)}catch(t){e={error:t}}finally{try{m&&!m.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}if(a.dom.features.slots)try{for(var h=r(d),g=h.next();!g.done;g=h.next()){var _=g.value;u.event_fireAnEvent(`slotchange`,_,void 0,{bubbles:!0})}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}function p(e,t,n,a,o,s,u,f,p){for(var m,h,g=new Map,_=l.tree_getFirstAncestorNode(t,!0);_!==null;){for(var v=0;v<_._registeredObserverList.length;v++){var y=_._registeredObserverList[v],b=y.options;if((_===t||b.subtree)&&(e!==`attributes`||b.attributes)&&(e!==`attributes`||!b.attributeFilter||b.attributeFilter.indexOf(n||``)&&a===null)&&(e!==`characterData`||b.characterData)&&(e!==`childList`||b.childList)){var x=y.observer;g.has(x)||g.set(x,null),(e===`attributes`&&b.attributeOldValue||e===`characterData`&&b.characterDataOldValue)&&g.set(x,o)}}_=l.tree_getNextAncestorNode(t,_,!0)}try{for(var S=r(g),C=S.next();!C.done;C=S.next()){var w=i(C.value,2),T=w[0],E=w[1],D=c.create_mutationRecord(e,t,c.create_nodeListStatic(t,s),c.create_nodeListStatic(t,u),f,p,n,a,E);T._recordQueue.push(D)}}catch(e){m={error:e}}finally{try{C&&!C.done&&(h=S.return)&&h.call(S)}finally{if(m)throw m.error}}d()}t.observer_queueAMutationObserverMicrotask=d,t.observer_notifyMutationObservers=f,t.observer_queueMutationRecord=p,t.observer_queueTreeMutationRecord=function(e,t,n,r,i){p(`childList`,e,null,null,null,t,n,r,i)},t.observer_queueAttributeMutationRecord=function(e,t,n,r){p(`attributes`,e,t,n,r,[],[],null,null)}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(6),i=n(7),a=n(3),o=n(9),s=n(29),c=n(73),l=n(51),u=n(30),d=n(37),f=n(106);function p(e,t,n){r.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,e._value),r.dom.features.customElements&&a.Guard.isCustomElementNode(t)&&c.customElement_enqueueACustomElementCallbackReaction(t,`attributeChangedCallback`,[e._localName,e._value,n,e._namespace]),r.dom.features.steps&&u.dom_runAttributeChangeSteps(t,e._localName,e._value,n,e._namespace),e._value=n}function m(e,t){r.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,null),r.dom.features.customElements&&a.Guard.isCustomElementNode(t)&&c.customElement_enqueueACustomElementCallbackReaction(t,`attributeChangedCallback`,[e._localName,null,e._value,e._namespace]),r.dom.features.steps&&u.dom_runAttributeChangeSteps(t,e._localName,null,e._value,e._namespace),t._attributeList._asArray().push(e),e._element=t,t._nodeDocument._hasNamespaces||e._namespace===null&&e._namespacePrefix===null&&e._localName!==`xmlns`||(t._nodeDocument._hasNamespaces=!0)}function h(e,t){r.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(t,e._localName,e._namespace,e._value),r.dom.features.customElements&&a.Guard.isCustomElementNode(t)&&c.customElement_enqueueACustomElementCallbackReaction(t,`attributeChangedCallback`,[e._localName,e._value,null,e._namespace]),r.dom.features.steps&&u.dom_runAttributeChangeSteps(t,e._localName,e._value,null,e._namespace);var n=t._attributeList._asArray().indexOf(e);t._attributeList._asArray().splice(n,1),e._element=null}function g(e,t,n){r.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(n,e._localName,e._namespace,e._value),r.dom.features.customElements&&a.Guard.isCustomElementNode(n)&&c.customElement_enqueueACustomElementCallbackReaction(n,`attributeChangedCallback`,[e._localName,e._value,t._value,e._namespace]),r.dom.features.steps&&u.dom_runAttributeChangeSteps(n,e._localName,e._value,t._value,e._namespace);var i=n._attributeList._asArray().indexOf(e);i!==-1&&(n._attributeList._asArray()[i]=t),e._element=null,t._element=n,n._nodeDocument._hasNamespaces||t._namespace===null&&t._namespacePrefix===null&&t._localName!==`xmlns`||(n._nodeDocument._hasNamespaces=!0)}function _(e,t){return t._namespace===i.namespace.HTML&&t._nodeDocument._type===`html`&&(e=e.toLowerCase()),t._attributeList._asArray().find((function(t){return t._qualifiedName===e}))||null}function v(e,t,n){var r=e||null;return n._attributeList._asArray().find((function(e){return e._namespace===r&&e._localName===t}))||null}t.element_has=function(e,t){return t._attributeList._asArray().indexOf(e)!==-1},t.element_change=p,t.element_append=m,t.element_remove=h,t.element_replace=g,t.element_getAnAttributeByName=_,t.element_getAnAttributeByNamespaceAndLocalName=v,t.element_getAnAttributeValue=function(e,t,n){n===void 0&&(n=``);var r=v(n,t,e);return r===null?``:r._value},t.element_setAnAttribute=function(e,t){if(e._element!==null&&e._element!==t)throw new o.InUseAttributeError(`This attribute already exists in the document: `+e._qualifiedName+` as a child of `+e._element._qualifiedName+`.`);var n=v(e._namespace||``,e._localName,t);return n===e?e:(n===null?m(e,t):g(n,e,t),n)},t.element_setAnAttributeValue=function(e,t,n,r,i){r===void 0&&(r=null),i===void 0&&(i=null);var a=v(i||``,t,e);if(a===null){var o=s.create_attr(e._nodeDocument,t);o._namespace=i,o._namespacePrefix=r,o._value=n,m(o,e);return}p(a,e,n)},t.element_removeAnAttributeByName=function(e,t){var n=_(e,t);return n!==null&&h(n,t),n},t.element_removeAnAttributeByNamespaceAndLocalName=function(e,t,n){var r=v(e,t,n);return r!==null&&h(r,n),r},t.element_createAnElement=function(e,t,n,a,l,u){a===void 0&&(a=null),l===void 0&&(l=null),u===void 0&&(u=!1);var d=null;if(!r.dom.features.customElements)return(d=s.create_element(e,t,n,a))._customElementState=`uncustomized`,d._customElementDefinition=null,d._is=l,d;var p=c.customElement_lookUpACustomElementDefinition(e,n,t,l);if(p!==null&&p.name!==p.localName)(d=new(f.document_elementInterface(t,i.namespace.HTML)))._localName=t,d._namespace=i.namespace.HTML,d._namespacePrefix=a,d._customElementState=`undefined`,d._customElementDefinition=null,d._is=l,d._nodeDocument=e,u?c.customElement_upgrade(p,d):c.customElement_enqueueACustomElementUpgradeReaction(d,p);else if(p!==null)if(u)try{var m=new p.constructor;if(console.assert(m._customElementState!==void 0),console.assert(m._customElementDefinition!==void 0),console.assert(m._namespace===i.namespace.HTML),m._attributeList.length!==0)throw new o.NotSupportedError(`Custom element already has attributes.`);if(m._children.size!==0)throw new o.NotSupportedError(`Custom element already has child nodes.`);if(m._parent!==null)throw new o.NotSupportedError(`Custom element already has a parent node.`);if(m._nodeDocument!==e)throw new o.NotSupportedError(`Custom element is already in a document.`);if(m._localName!==t)throw new o.NotSupportedError(`Custom element has a different local name.`);m._namespacePrefix=a,m._is=null}catch{(d=s.create_htmlUnknownElement(e,t,i.namespace.HTML,a))._customElementState=`failed`,d._customElementDefinition=null,d._is=null}else (d=s.create_htmlElement(e,t,i.namespace.HTML,a))._customElementState=`undefined`,d._customElementDefinition=null,d._is=null,c.customElement_enqueueACustomElementUpgradeReaction(d,p);else (d=new(f.document_elementInterface(t,n)))._localName=t,d._namespace=n,d._namespacePrefix=a,d._customElementState=`uncustomized`,d._customElementDefinition=null,d._is=l,d._nodeDocument=e,n!==i.namespace.HTML||l===null&&!c.customElement_isValidCustomElementName(t)||(d._customElementState=`undefined`);if(d===null)throw Error(`Unable to create element.`);return d},t.element_insertAdjacent=function(e,t,n){switch(t.toLowerCase()){case`beforebegin`:return e._parent===null?null:d.mutation_preInsert(n,e._parent,e);case`afterbegin`:return d.mutation_preInsert(n,e,e._firstChild);case`beforeend`:return d.mutation_preInsert(n,e,null);case`afterend`:return e._parent===null?null:d.mutation_preInsert(n,e._parent,e._nextSibling);default:throw new o.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(e,t,n){function r(e,t){Error.call(this),this.name=`YAMLException`,this.reason=e,this.mark=t,this.message=(this.reason||`(unknown reason)`)+(this.mark?` `+this.mark.toString():``),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack||``}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(e){var t=this.name+`: `;return t+=this.reason||`(unknown reason)`,!e&&this.mark&&(t+=` `+this.mark.toString()),t},e.exports=r},function(e,t,n){e.exports=new(n(39))({include:[n(181)],implicit:[n(293),n(294)],explicit:[n(295),n(296),n(297),n(298)]})},function(e,t,n){var r=n(16),i=n(79),a=n(40),o=n(24),s=n(56),c=n(14),l=n(115),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch{}if(c(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&typeof(n=e.toString)==`function`&&!r(i=n.call(e))||typeof(n=e.valueOf)==`function`&&!r(i=n.call(e))||!t&&typeof(n=e.toString)==`function`&&!r(i=n.call(e)))return i;throw TypeError(`Can't convert object to primitive value`)}},function(e,t,n){var r=n(81),i=n(58),a=r(`keys`);e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return`Symbol(`+String(e===void 0?``:e)+`)_`+(++n+r).toString(36)}},function(e,t,n){var r=n(42);e.exports=Array.isArray||function(e){return r(e)==`Array`}},function(e,t,n){var r,i=n(18),a=n(188),o=n(84),s=n(45),c=n(189),l=n(116),u=n(57)(`IE_PROTO`),d=function(){},f=function(e){return`<script>`+e+`<\/script>`},p=function(){try{r=document.domain&&new ActiveXObject(`htmlfile`)}catch{}var e,t;p=r?function(e){e.write(f(``)),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l(`iframe`)).style.display=`none`,c.appendChild(t),t.src=`javascript:`,(e=t.contentWindow.document).open(),e.write(f(`document.F=Object`)),e.close(),e.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return e===null?n=p():(d.prototype=i(e),n=new d,d.prototype=null,n[u]=e),t===void 0?n:a(n,t)}},function(e,t,n){var r=n(121),i=n(84);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(15).f,i=n(14),a=n(5)(`toStringTag`);e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(8),i=n(5),a=n(129),o=i(`species`);e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},t[e](Boolean).foo!==1}))}},function(e,t,n){var r=n(4),i=n(122).indexOf,a=n(48),o=n(28),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,l=a(`indexOf`),u=o(`indexOf`,{ACCESSORS:!0,1:0});r({target:`Array`,proto:!0,forced:c||!l||!u},{indexOf:function(e){return c?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(16),i=n(15).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;r&&!(`name`in a)&&i(a,`name`,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch{return``}}})},function(e,t,n){var r=n(25),i=n(18),a=n(8),o=n(136),s=RegExp.prototype,c=s.toString,l=a((function(){return c.call({source:`a`,flags:`b`})!=`/a/b`})),u=c.name!=`toString`;(l||u)&&r(RegExp.prototype,`toString`,(function(){var e=i(this),t=String(e.source),n=e.flags;return`/`+t+`/`+String(n===void 0&&e instanceof RegExp&&!(`flags`in s)?o.call(e):n)}),{unsafe:!0})},function(e,t,n){n(31),n(32),n(33),n(19),n(138),n(20),n(66),n(22),n(23);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(1),s=n(2);t.ObjectWriter=function(e){function t(t,n){var r=e.call(this,t)||this;return r._writerOptions=o.applyDefaults(n,{format:`object`,wellFormed:!1,group:!1,verbose:!1}),r}return i(t,e),t.prototype.serialize=function(e){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(e,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},t.prototype._process=function(e,t){var n,r,i,a,c,l,u;if(e.length===0)return{};for(var d={},f=!1,p=0,m=0,h=0,g=0,_=0;_<e.length;_++){var v=e[_];switch(te=Object.keys(v)[0]){case`@`:continue;case`#`:p++;break;case`!`:m++;break;case`?`:h++;break;case`$`:g++;break;default:d[te]?f=!0:d[te]=!0}}var y=this._getAttrKey(),b=this._getNodeKey(s.NodeType.Text),x=this._getNodeKey(s.NodeType.Comment),S=this._getNodeKey(s.NodeType.ProcessingInstruction),C=this._getNodeKey(s.NodeType.CData);if(p===1&&e.length===1&&o.isString(e[0][`#`]))return e[0][`#`];if(f){var w={};for(_=0;_<e.length;_++)if(v=e[_],(te=Object.keys(v)[0])===`@`){var T=v[`@`];(N=Object.keys(T)).length===1?w[y+N[0]]=T[N[0]]:w[y]=v[`@`]}var E=[];for(_=0;_<e.length;_++)switch(v=e[_],te=Object.keys(v)[0]){case`@`:break;case`#`:E.push(((n={})[b]=v[`#`],n));break;case`!`:E.push(((r={})[x]=v[`!`],r));break;case`?`:E.push(((i={})[S]=v[`?`],i));break;case`$`:E.push(((a={})[C]=v.$,a));break;default:if((re=v)[te].length!==0&&o.isArray(re[te][0])){for(var D=[],O=re[te],k=0;k<O.length;k++)D.push(this._process(O[k],t));E.push(((c={})[te]=D,c))}else t.verbose?E.push(((l={})[te]=[this._process(re[te],t)],l)):E.push(((u={})[te]=this._process(re[te],t),u))}return w[b]=E,w}var A=1,j=1,M=1,ee=1;for(w={},_=0;_<e.length;_++){var te;switch(v=e[_],te=Object.keys(v)[0]){case`@`:T=v[`@`];var N=Object.keys(T);if(t.group&&N.length!==1)w[y]=T;else for(var ne in T)w[y+ne]=T[ne];break;case`#`:A=this._processSpecItem(v[`#`],w,t.group,b,p,A);break;case`!`:j=this._processSpecItem(v[`!`],w,t.group,x,m,j);break;case`?`:M=this._processSpecItem(v[`?`],w,t.group,S,h,M);break;case`$`:ee=this._processSpecItem(v.$,w,t.group,C,g,ee);break;default:var re;if((re=v)[te].length!==0&&o.isArray(re[te][0])){D=[],O=re[te];for(var ie=0;ie<O.length;ie++)D.push(this._process(O[ie],t));w[te]=D}else t.verbose?w[te]=[this._process(re[te],t)]:w[te]=this._process(re[te],t)}}return w},t.prototype._processSpecItem=function(e,t,n,r,i,s){var c,l;if(!n&&o.isArray(e)&&i+e.length>2)try{for(var u=a(e),d=u.next();!d.done;d=u.next()){var f=d.value;t[r+(s++).toString()]=f}}catch(e){c={error:e}}finally{try{d&&!d.done&&(l=u.return)&&l.call(u)}finally{if(c)throw c.error}}else t[i>1?r+(s++).toString():r]=e;return s},t.prototype.beginElement=function(e){var t,n,r=[];if(this._currentList.length===0)this._currentList.push(((t={})[e]=r,t));else{var i=this._currentList[this._currentList.length-1];this._isElementNode(i,e)?i[e].length!==0&&o.isArray(i[e][0])?i[e].push(r):i[e]=[i[e],r]:this._currentList.push(((n={})[e]=r,n))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=r:this._listRegister.push(r),this._currentList=r},t.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},t.prototype.attribute=function(e,t){var n,r;if(this._currentList.length===0)this._currentList.push({"@":(n={},n[e]=t,n)});else{var i=this._currentList[this._currentList.length-1];this._isAttrNode(i)?i[`@`][e]=t:this._currentList.push({"@":(r={},r[e]=t,r)})}},t.prototype.comment=function(e){if(this._currentList.length===0)this._currentList.push({"!":e});else{var t=this._currentList[this._currentList.length-1];this._isCommentNode(t)?o.isArray(t[`!`])?t[`!`].push(e):t[`!`]=[t[`!`],e]:this._currentList.push({"!":e})}},t.prototype.text=function(e){if(this._currentList.length===0)this._currentList.push({"#":e});else{var t=this._currentList[this._currentList.length-1];this._isTextNode(t)?o.isArray(t[`#`])?t[`#`].push(e):t[`#`]=[t[`#`],e]:this._currentList.push({"#":e})}},t.prototype.instruction=function(e,t){var n=t===``?e:e+` `+t;if(this._currentList.length===0)this._currentList.push({"?":n});else{var r=this._currentList[this._currentList.length-1];this._isInstructionNode(r)?o.isArray(r[`?`])?r[`?`].push(n):r[`?`]=[r[`?`],n]:this._currentList.push({"?":n})}},t.prototype.cdata=function(e){if(this._currentList.length===0)this._currentList.push({$:e});else{var t=this._currentList[this._currentList.length-1];this._isCDATANode(t)?o.isArray(t.$)?t.$.push(e):t.$=[t.$,e]:this._currentList.push({$:e})}},t.prototype._isAttrNode=function(e){return`@`in e},t.prototype._isTextNode=function(e){return`#`in e},t.prototype._isCommentNode=function(e){return`!`in e},t.prototype._isInstructionNode=function(e){return`?`in e},t.prototype._isCDATANode=function(e){return`$`in e},t.prototype._isElementNode=function(e,t){return t in e},t.prototype._getAttrKey=function(){return this._builderOptions.convert.att},t.prototype._getNodeKey=function(e){switch(e){case s.NodeType.Comment:return this._builderOptions.convert.comment;case s.NodeType.Text:return this._builderOptions.convert.text;case s.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case s.NodeType.CData:return this._builderOptions.convert.cdata;default:throw Error(`Invalid node type.`)}},t}(n(50).BaseWriter)},function(e,t,n){var r=n(4),i=n(93);r({target:`RegExp`,proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.LocalNameSet=function(){function e(){this._items={},this._nullItems={}}return e.prototype.set=function(e,t){e===null?this._nullItems[t]=!0:(this._items[e]||(this._items[e]={}),this._items[e][t]=!0)},e.prototype.has=function(e,t){return e===null?!0===this._nullItems[t]:!!this._items[e]&&!0===this._items[e][t]},e}()},function(e,t,n){var r=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(9),a=n(3),o=n(0);t.EventTargetImpl=function(){function e(){}return Object.defineProperty(e.prototype,`_eventListenerList`,{get:function(){return this.__eventListenerList||=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`_eventHandlerMap`,{get:function(){return this.__eventHandlerMap||={}},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t,n){n===void 0&&(n={passive:!1,once:!1,capture:!1});var i,s=r(o.eventTarget_flattenMore(n),3),c=s[0],l=s[1],u=s[2];t&&(i=a.Guard.isEventListener(t)?t:{handleEvent:t},o.eventTarget_addEventListener(this,{type:e,callback:i,capture:c,passive:l,once:u,removed:!1}))},e.prototype.removeEventListener=function(e,t,n){n===void 0&&(n={capture:!1});var r=o.eventTarget_flatten(n);if(t)for(var i=0;i<this._eventListenerList.length;i++){var s=this._eventListenerList[i];if(s.type===e&&s.capture===r){if(a.Guard.isEventListener(t)&&s.callback===t){o.eventTarget_removeEventListener(this,s,i);break}if(t&&s.callback.handleEvent===t){o.eventTarget_removeEventListener(this,s,i);break}}}},e.prototype.dispatchEvent=function(e){if(e._dispatchFlag||!e._initializedFlag)throw new i.InvalidStateError;return e._isTrusted=!1,o.event_dispatch(e,this)},e.prototype._getTheParent=function(e){return null},e}()},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(34),o=n(0);t.CharacterDataImpl=function(e){function t(t){var n=e.call(this)||this;return n._data=t,n}return i(t,e),Object.defineProperty(t.prototype,`data`,{get:function(){return this._data},set:function(e){o.characterData_replaceData(this,0,this._data.length,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`length`,{get:function(){return this._data.length},enumerable:!0,configurable:!0}),t.prototype.substringData=function(e,t){return o.characterData_substringData(this,e,t)},t.prototype.appendData=function(e){return o.characterData_replaceData(this,this._data.length,0,e)},t.prototype.insertData=function(e,t){o.characterData_replaceData(this,e,0,t)},t.prototype.deleteData=function(e,t){o.characterData_replaceData(this,e,t,``)},t.prototype.replaceData=function(e,t,n){o.characterData_replaceData(this,e,t,n)},Object.defineProperty(t.prototype,`previousElementSibling`,{get:function(){throw Error(`Mixin: NonDocumentTypeChildNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`nextElementSibling`,{get:function(){throw Error(`Mixin: NonDocumentTypeChildNode not implemented.`)},enumerable:!0,configurable:!0}),t.prototype.before=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.after=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.replaceWith=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.remove=function(){throw Error(`Mixin: ChildNode not implemented.`)},t}(a.NodeImpl)},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},i=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(6),s=n(3),c=n(1),l=n(17),u=n(51);function d(e){o.dom.window._signalSlots.add(e),u.observer_queueAMutationObserverMicrotask()}function f(e,t){t===void 0&&(t=!1);var n=s.Cast.asNode(e)._parent;if(n===null)return null;var r=n._shadowRoot||null;if(r===null||t&&r._mode!==`open`)return null;for(var i=l.tree_getFirstDescendantNode(r,!1,!0,(function(e){return s.Guard.isSlot(e)}));i!==null;){if(i._name===e._name)return i;i=l.tree_getNextDescendantNode(r,i,!1,!0,(function(e){return s.Guard.isSlot(e)}))}return null}function p(e){var t,n,i=[],a=l.tree_rootNode(e);if(!s.Guard.isShadowRoot(a))return i;var o=a._host;try{for(var c=r(o._children),u=c.next();!u.done;u=c.next()){var d=u.value;s.Guard.isSlotable(d)&&f(d)===e&&i.push(d)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return i}function m(e){var t,n,i=p(e);if(i.length===e._assignedNodes.length){for(var a=!0,o=0;o<i.length;o++)if(i[o]!==e._assignedNodes[o]){a=!1;break}a||d(e)}e._assignedNodes=i;try{for(var s=r(i),c=s.next();!c.done;c=s.next())c.value._assignedSlot=e}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}t.shadowTree_signalASlotChange=d,t.shadowTree_isConnected=function(e){return s.Guard.isDocumentNode(l.tree_rootNode(e,!0))},t.shadowTree_isAssigned=function(e){return e._assignedSlot!==null},t.shadowTree_findASlot=f,t.shadowTree_findSlotables=p,t.shadowTree_findFlattenedSlotables=function e(t){var n,i,o,u,d=[],f=l.tree_rootNode(t);if(!s.Guard.isShadowRoot(f))return d;var m=p(t);if(c.isEmpty(m))try{for(var h=r(t._children),g=h.next();!g.done;g=h.next()){var _=g.value;s.Guard.isSlotable(_)&&m.push(_)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}try{for(var v=r(m),y=v.next();!y.done;y=v.next()){var b=y.value;if(s.Guard.isSlot(b)&&s.Guard.isShadowRoot(l.tree_rootNode(b))){var x=e(b);d.push.apply(d,a(x))}else d.push(b)}}catch(e){o={error:e}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(o)throw o.error}}return d},t.shadowTree_assignSlotables=m,t.shadowTree_assignSlotablesForATree=function(e){for(var t=l.tree_getFirstDescendantNode(e,!0,!1,(function(e){return s.Guard.isSlot(e)}));t!==null;)m(t),t=l.tree_getNextDescendantNode(e,t,!0,!1,(function(e){return s.Guard.isSlot(e)}))},t.shadowTree_assignASlot=function(e){var t=f(e);t!==null&&m(t)}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,i=new Set([`annotation-xml`,`color-profile`,`font-face`,`font-face-src`,`font-face-uri`,`font-face-format`,`font-face-name`,`missing-glyph`]),a=new Set([`article`,`aside`,`blockquote`,`body`,`div`,`footer`,`h1`,`h2`,`h3`,`h4`,`h5`,`h6`,`header`,`main`,`nav`,`p`,`section`,`span`]),o=new Set([`area`,`base`,`basefont`,`bgsound`,`br`,`col`,`embed`,`frame`,`hr`,`img`,`input`,`keygen`,`link`,`menuitem`,`meta`,`param`,`source`,`track`,`wbr`]),s=new Set([`article`,`aside`,`blockquote`,`body`,`div`,`footer`,`h1`,`h2`,`h3`,`h4`,`h5`,`h6`,`header`,`main`,`nav`,`p`,`section`,`span`]);t.customElement_isValidCustomElementName=function(e){return!!r.test(e)&&!i.has(e)},t.customElement_isValidElementName=function(e){return a.has(e)},t.customElement_isVoidElementName=function(e){return o.has(e)},t.customElement_isValidShadowHostName=function(e){return s.has(e)},t.customElement_enqueueACustomElementUpgradeReaction=function(e,t){},t.customElement_enqueueACustomElementCallbackReaction=function(e,t,n){},t.customElement_upgrade=function(e,t){},t.customElement_tryToUpgrade=function(e){},t.customElement_lookUpACustomElementDefinition=function(e,t,n,r){return null}},function(e,t,n){n(4)({target:`String`,proto:!0},{repeat:n(259)})},function(e,t,n){n(278),n(68),n(179),n(94),Object.defineProperty(t,`__esModule`,{value:!0});var r=n(109);t.BaseReader=function(){function e(e){this._builderOptions=e,e.parser&&Object.assign(this,e.parser)}return e.prototype._docType=function(e,t,n,r){return e.dtd({name:t,pubID:n,sysID:r})},e.prototype._comment=function(e,t){return e.com(t)},e.prototype._text=function(e,t){return e.txt(t)},e.prototype._instruction=function(e,t,n){return e.ins(t,n)},e.prototype._cdata=function(e,t){return e.dat(t)},e.prototype._element=function(e,t,n){return t===void 0?e.ele(n):e.ele(t,n)},e.prototype._attribute=function(e,t,n,r){return t===void 0?e.att(n,r):e.att(t,n,r)},e.prototype._sanitize=function(e){return r.sanitizeInput(e,this._builderOptions.invalidCharReplacement)},e.prototype._decodeText=function(t){return t==null?t:t.replace(/&(quot|amp|apos|lt|gt);/g,(function(t,n){return e._entityTable[n]})).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,(function(e,t,n){return String.fromCodePoint(parseInt(t||n,t?16:10))}))},e.prototype._decodeAttributeValue=function(e){return this._decodeText(e)},e.prototype.parse=function(e,t){return this._parse(e,t)},e.prototype.docType=function(e,t,n,r){return this._docType(e,t,n,r)},e.prototype.comment=function(e,t){return this._comment(e,t)},e.prototype.text=function(e,t){return this._text(e,t)},e.prototype.instruction=function(e,t,n){return this._instruction(e,t,n)},e.prototype.cdata=function(e,t){return this._cdata(e,t)},e.prototype.element=function(e,t,n){return this._element(e,t,n)},e.prototype.attribute=function(e,t,n,r){return this._attribute(e,t,n,r)},e.prototype.sanitize=function(e){return this._sanitize(e)},e._entityTable={lt:`<`,gt:`>`,amp:`&`,quot:`"`,apos:`'`},e}()},function(e,t,n){var r=n(39);e.exports=r.DEFAULT=new r({include:[n(54)],explicit:[n(299),n(300),n(301)]})},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.XMLBuilderImpl=n(185).XMLBuilderImpl,t.XMLBuilderCBImpl=n(304).XMLBuilderCBImpl;var r=n(183);t.builder=r.builder,t.create=r.create,t.fragment=r.fragment,t.convert=r.convert;var i=n(309);t.createCB=i.createCB,t.fragmentCB=i.fragmentCB},function(e,t){var n=function(){return this}();try{n||=Function(`return this`)()}catch{typeof window==`object`&&(n=window)}e.exports=n},function(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor;t.f=i&&!r.call({1:2},1)?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(11),i=n(21);e.exports=function(e,t){try{i(r,e,t)}catch{r[e]=t}return t}},function(e,t,n){var r=n(44),i=n(118);(e.exports=function(e,t){return i[e]||(i[e]=t===void 0?{}:t)})(`versions`,[]).push({version:`3.6.5`,mode:r?`pure`:`global`,copyright:` 2020 Denis Pushkarev (zloirock.ru)`})},function(e,t,n){var r=n(121),i=n(84).concat(`length`,`prototype`);t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(47),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t){e.exports=[`constructor`,`hasOwnProperty`,`isPrototypeOf`,`propertyIsEnumerable`,`toLocaleString`,`toString`,`valueOf`]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(8);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(127);e.exports=function(e,t,n){if(r(e),t===void 0)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(4),i=n(195),a=n(132),o=n(133),s=n(62),c=n(21),l=n(25),u=n(5),d=n(44),f=n(49),p=n(131),m=p.IteratorPrototype,h=p.BUGGY_SAFARI_ITERATORS,g=u(`iterator`),_=function(){return this};e.exports=function(e,t,n,u,p,v,y){i(n,t,u);var b,x,S,C=function(e){if(e===p&&O)return O;if(!h&&e in E)return E[e];switch(e){case`keys`:case`values`:case`entries`:return function(){return new n(this,e)}}return function(){return new n(this)}},w=t+` Iterator`,T=!1,E=e.prototype,D=E[g]||E[`@@iterator`]||p&&E[p],O=!h&&D||C(p),k=t==`Array`&&E.entries||D;if(k&&(b=a(k.call(new e)),m!==Object.prototype&&b.next&&(d||a(b)===m||(o?o(b,m):typeof b[g]!=`function`&&c(b,g,_)),s(b,w,!0,!0),d&&(f[w]=_))),p==`values`&&D&&D.name!==`values`&&(T=!0,O=function(){return D.call(this)}),d&&!y||E[g]===O||c(E,g,O),f[t]=O,p)if(x={values:C(`values`),keys:v?O:C(`keys`),entries:C(`entries`)},y)for(S in x)(h||T||!(S in E))&&l(E,S,x[S]);else r({target:t,proto:!0,forced:h||T},x);return x}},function(e,t,n){var r=n(4),i=n(13),a=n(59),o=n(83),s=n(26),c=n(24),l=n(134),u=n(5),d=n(63),f=n(28),p=d(`slice`),m=f(`slice`,{ACCESSORS:!0,0:0,1:2}),h=u(`species`),g=[].slice,_=Math.max;r({target:`Array`,proto:!0,forced:!p||!m},{slice:function(e,t){var n,r,u,d=c(this),f=s(d.length),p=o(e,f),m=o(t===void 0?f:t,f);if(a(d)&&(typeof(n=d.constructor)!=`function`||n!==Array&&!a(n.prototype)?i(n)&&(n=n[h])===null&&(n=void 0):n=void 0,n===Array||n===void 0))return g.call(d,p,m);for(r=new(n===void 0?Array:n)(_(m-p,0)),u=0;p<m;p++,u++)p in d&&l(r,u,d[p]);return r.length=u,r}})},function(e,t,n){var r={};r[n(5)(`toStringTag`)]=`z`,e.exports=String(r)===`[object z]`},function(e,t,n){n(19),n(138),n(20),n(92),n(22),n(23),Object.defineProperty(t,`__esModule`,{value:!0}),t.DefaultBuilderOptions={version:`1.0`,encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:`@`,ins:`?`,text:`#`,cdata:`$`,comment:`!`},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:`http://www.w3.org/1999/xhtml`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`,mathml:`http://www.w3.org/1998/Math/MathML`,svg:`http://www.w3.org/2000/svg`,xlink:`http://www.w3.org/1999/xlink`},invalidCharReplacement:void 0,parser:void 0},t.XMLBuilderOptionKeys=new Set(Object.keys(t.DefaultBuilderOptions)),t.DefaultXMLBuilderCBOptions={format:`xml`,wellFormed:!1,prettyPrint:!1,indent:`  `,newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:`@`,ins:`?`,text:`#`,cdata:`$`,comment:`!`},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:`http://www.w3.org/1999/xhtml`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`,mathml:`http://www.w3.org/1998/Math/MathML`,svg:`http://www.w3.org/2000/svg`,xlink:`http://www.w3.org/1999/xlink`}}},function(e,t,n){e.exports=n(139)(`Set`,(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(143))},function(e,t,n){var r,i,a=n(136),o=n(221),s=RegExp.prototype.exec,c=String.prototype.replace,l=s,u=(r=/a/,i=/b*/g,s.call(r,`a`),s.call(i,`a`),r.lastIndex!==0||i.lastIndex!==0),d=o.UNSUPPORTED_Y||o.BROKEN_CARET,f=/()??/.exec(``)[1]!==void 0;(u||f||d)&&(l=function(e){var t,n,r,i,o=this,l=d&&o.sticky,p=a.call(o),m=o.source,h=0,g=e;return l&&((p=p.replace(`y`,``)).indexOf(`g`)===-1&&(p+=`g`),g=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&e[o.lastIndex-1]!==`
`)&&(m=`(?: `+m+`)`,g=` `+g,h++),n=RegExp(`^(?:`+m+`)`,p)),f&&(n=RegExp(`^`+m+`$(?!\\s)`,p)),u&&(t=o.lastIndex),r=s.call(l?n:o,g),l?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:u&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),f&&r&&r.length>1&&c.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)arguments[i]===void 0&&(r[i]=void 0)})),r}),e.exports=l},function(e,t,n){var r=n(225),i=n(18),a=n(27),o=n(26),s=n(47),c=n(35),l=n(226),u=n(227),d=Math.max,f=Math.min,p=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g;r(`replace`,2,(function(e,t,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=r.REPLACE_KEEPS_$0,v=g?`$`:`$0`;return[function(n,r){var i=c(this),a=n?.[e];return a===void 0?t.call(String(i),n,r):a.call(n,i,r)},function(e,r){if(!g&&_||typeof r==`string`&&r.indexOf(v)===-1){var a=n(t,e,this,r);if(a.done)return a.value}var c=i(e),p=String(this),m=typeof r==`function`;m||(r=String(r));var h=c.global;if(h){var b=c.unicode;c.lastIndex=0}for(var x=[];;){var S=u(c,p);if(S===null||(x.push(S),!h))break;String(S[0])===``&&(c.lastIndex=l(p,o(c.lastIndex),b))}for(var C,w=``,T=0,E=0;E<x.length;E++){S=x[E];for(var D=String(S[0]),O=d(f(s(S.index),p.length),0),k=[],A=1;A<S.length;A++)k.push((C=S[A])===void 0?C:String(C));var j=S.groups;if(m){var M=[D].concat(k,O,p);j!==void 0&&M.push(j);var ee=String(r.apply(void 0,M))}else ee=y(D,p,O,k,j,r);O>=T&&(w+=p.slice(T,O)+ee,T=O+D.length)}return w+p.slice(T)}];function y(e,n,r,i,o,s){var c=r+e.length,l=i.length,u=h;return o!==void 0&&(o=a(o),u=m),t.call(s,u,(function(t,a){var s;switch(a.charAt(0)){case`$`:return`$`;case`&`:return e;case"`":return n.slice(0,r);case`'`:return n.slice(c);case`<`:s=o[a.slice(1,-1)];break;default:var u=+a;if(u===0)return t;if(u>l){var d=p(u/10);return d===0?t:d<=l?i[d-1]===void 0?a.charAt(1):i[d-1]+a.charAt(1):t}s=i[u-1]}return s===void 0?``:s}))}}))},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.NamespacePrefixMap=function(){function e(){this._items={},this._nullItems=[]}return e.prototype.copy=function(){var t=new e;for(var n in this._items)t._items[n]=this._items[n].slice(0);return t._nullItems=this._nullItems.slice(0),t},e.prototype.get=function(e,t){var n=t===null?this._nullItems:this._items[t]||null;if(n===null)return null;for(var r=null,i=0;i<n.length;i++)if((r=n[i])===e)return r;return r},e.prototype.has=function(e,t){var n=t===null?this._nullItems:this._items[t]||null;return n!==null&&n.indexOf(e)!==-1},e.prototype.hasPrefix=function(e){if(this._nullItems.indexOf(e)!==-1)return!0;for(var t in this._items)if(this._items[t].indexOf(e)!==-1)return!0;return!1},e.prototype.set=function(e,t){var n=t===null?this._nullItems:this._items[t]||null;t!==null&&n===null?this._items[t]=[e]:n.push(e)},e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.Surrogate=/[\uD800-\uDFFF]/,t.ScalarValue=/[\uD800-\uDFFF]/,t.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,t.ASCIICodePoint=/[\u0000-\u007F]/,t.ASCIITabOrNewLine=/[\t\n\r]/,t.ASCIIWhiteSpace=/[\t\n\f\r ]/,t.C0Control=/[\u0000-\u001F]/,t.C0ControlOrSpace=/[\u0000-\u001F ]/,t.Control=/[\u0000-\u001F\u007F-\u009F]/,t.ASCIIDigit=/[0-9]/,t.ASCIIUpperHexDigit=/[0-9A-F]/,t.ASCIILowerHexDigit=/[0-9a-f]/,t.ASCIIHexDigit=/[0-9A-Fa-f]/,t.ASCIIUpperAlpha=/[A-Z]/,t.ASCIILowerAlpha=/[a-z]/,t.ASCIIAlpha=/[A-Za-z]/,t.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},i=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(6),s=n(2),c=n(3),l=n(171),u=n(104),d=n(9),f=n(17),p=n(72),m=n(30);function h(e,t){t===void 0&&(t=void 0),t===void 0&&(t=null);var n=g(e,t,new Date,{});return n._isTrusted=!0,n}function g(e,t,n,r){var i=new e(``);return i._initializedFlag=!0,i._timeStamp=n.getTime(),Object.assign(i,r),o.dom.features.steps&&m.dom_runEventConstructingSteps(i),i}function _(e,t,n,i){var a,o,l,u;n===void 0&&(n=!1),i===void 0&&(i={value:!1});var d=!1;e._dispatchFlag=!0;var m=t;if(n){var h=t._associatedDocument;c.Guard.isDocumentNode(h)&&(m=h)}var g=null,_=f.tree_retarget(e._relatedTarget,t);if(t!==_||t===e._relatedTarget){var b=[];try{for(var x=r(e._touchTargetList),S=x.next();!S.done;S=x.next()){var C=S.value;b.push(f.tree_retarget(C,t))}}catch(e){a={error:e}}finally{try{S&&!S.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}v(e,t,m,_,b,!1);var w=c.Guard.isMouseEvent(e)&&e._type===`click`;w&&t._activationBehavior!==void 0&&(g=t);for(var T=c.Guard.isSlotable(t)&&p.shadowTree_isAssigned(t)?t:null,E=!1,D=t._getTheParent(e);D!==null&&c.Guard.isNode(D);){if(T!==null){if(!c.Guard.isSlot(D))throw Error(`Parent node of a slotable should be a slot.`);T=null;var O=f.tree_rootNode(D,!0);c.Guard.isShadowRoot(O)&&O._mode===`closed`&&(E=!0)}c.Guard.isSlotable(D)&&p.shadowTree_isAssigned(D)&&(T=D),_=f.tree_retarget(e._relatedTarget,D),b=[];try{for(var k=(l=void 0,r(e._touchTargetList)),A=k.next();!A.done;A=k.next())C=A.value,b.push(f.tree_retarget(C,D))}catch(e){l={error:e}}finally{try{A&&!A.done&&(u=k.return)&&u.call(k)}finally{if(l)throw l.error}}c.Guard.isWindow(D)||c.Guard.isNode(D)&&c.Guard.isNode(t)&&f.tree_isAncestorOf(f.tree_rootNode(t,!0),D,!0,!0)?(w&&e._bubbles&&g===null&&D._activationBehavior&&(g=D),v(e,D,null,_,b,E)):D===_?D=null:(t=D,w&&g===null&&t._activationBehavior&&(g=t),v(e,D,t,_,b,E)),D!==null&&(D=D._getTheParent(e)),E=!1}for(var j=null,M=e._path,ee=M.length-1;ee>=0;ee--)if((N=M[ee]).shadowAdjustedTarget!==null){j=N;break}if(j!==null)if(c.Guard.isNode(j.shadowAdjustedTarget)&&c.Guard.isShadowRoot(f.tree_rootNode(j.shadowAdjustedTarget,!0)))d=!0;else if(c.Guard.isNode(j.relatedTarget)&&c.Guard.isShadowRoot(f.tree_rootNode(j.relatedTarget,!0)))d=!0;else for(var te=0;te<j.touchTargetList.length;te++){var N=j.touchTargetList[te];if(c.Guard.isNode(N)&&c.Guard.isShadowRoot(f.tree_rootNode(N,!0))){d=!0;break}}for(g!==null&&g._legacyPreActivationBehavior!==void 0&&g._legacyPreActivationBehavior(e),ee=M.length-1;ee>=0;ee--)(N=M[ee]).shadowAdjustedTarget===null?e._eventPhase=s.EventPhase.Capturing:e._eventPhase=s.EventPhase.AtTarget,y(N,e,`capturing`,i);for(ee=0;ee<M.length;ee++){if((N=M[ee]).shadowAdjustedTarget!==null)e._eventPhase=s.EventPhase.AtTarget;else{if(!e._bubbles)continue;e._eventPhase=s.EventPhase.Bubbling}y(N,e,`bubbling`,i)}}return e._eventPhase=s.EventPhase.None,e._currentTarget=null,e._path=[],e._dispatchFlag=!1,e._stopPropagationFlag=!1,e._stopImmediatePropagationFlag=!1,d&&(e._target=null,e._relatedTarget=null,e._touchTargetList=[]),g!==null&&(e._canceledFlag||g._activationBehavior===void 0?g._legacyCanceledActivationBehavior!==void 0&&g._legacyCanceledActivationBehavior(e):g._activationBehavior(e)),!e._canceledFlag}function v(e,t,n,r,i,a){var o=!1;c.Guard.isNode(t)&&c.Guard.isShadowRoot(f.tree_rootNode(t))&&(o=!0);var s=!1;c.Guard.isShadowRoot(t)&&t._mode===`closed`&&(s=!0),e._path.push({invocationTarget:t,invocationTargetInShadowTree:o,shadowAdjustedTarget:n,relatedTarget:r,touchTargetList:i,rootOfClosedTree:s,slotInClosedTree:a})}function y(e,t,n,r){r===void 0&&(r={value:!1});for(var i=t._path,o=-1,s=0;s<i.length;s++)if(i[s]===e){o=s;break}if(o!==-1){var c=i[o];(c.shadowAdjustedTarget!==null||o>0&&(c=i[o-1]).shadowAdjustedTarget!==null)&&(t._target=c.shadowAdjustedTarget)}if(t._relatedTarget=e.relatedTarget,t._touchTargetList=e.touchTargetList,!t._stopPropagationFlag){t._currentTarget=e.invocationTarget;var l=t._currentTarget._eventListenerList,u=new(Array.bind.apply(Array,a([void 0],l)));if(!b(t,u,n,e,r)&&t._isTrusted){var d=t._type;d===`animationend`?t._type=`webkitAnimationEnd`:d===`animationiteration`?t._type=`webkitAnimationIteration`:d===`animationstart`?t._type=`webkitAnimationStart`:d===`transitionend`&&(t._type=`webkitTransitionEnd`),b(t,u,n,e,r),t._type=d}}}function b(e,t,n,r,i){i===void 0&&(i={value:!1});for(var a=!1,o=0;o<t.length;o++){var s=t[o];if(!s.removed){if(e._type!==s.type||(a=!0,n===`capturing`&&!s.capture)||n===`bubbling`&&s.capture)continue;if(s.once&&e._currentTarget!==null){for(var l=e._currentTarget,u=-1,d=0;d<l._eventListenerList.length;d++)if(l._eventListenerList[d]===s){u=d;break}u!==-1&&l._eventListenerList.splice(u,1)}var f=void 0,p=void 0;c.Guard.isWindow(f)&&(p=f._currentEvent,!1===r.invocationTargetInShadowTree&&(f._currentEvent=e)),s.passive&&(e._inPassiveListenerFlag=!0);try{s.callback.handleEvent.call(e._currentTarget,e)}catch{i.value=!0}if(s.passive&&(e._inPassiveListenerFlag=!1),c.Guard.isWindow(f)&&(f._currentEvent=p),e._stopImmediatePropagationFlag)return a}}return a}function x(e,t){return null}function S(e,t){return null}function C(e,t){}function w(e,t){}t.event_setTheCanceledFlag=function(e){e._cancelable&&!e._inPassiveListenerFlag&&(e._canceledFlag=!0)},t.event_initialize=function(e,t,n,r){e._initializedFlag=!0,e._stopPropagationFlag=!1,e._stopImmediatePropagationFlag=!1,e._canceledFlag=!1,e._isTrusted=!1,e._target=null,e._type=t,e._bubbles=n,e._cancelable=r},t.event_createAnEvent=h,t.event_innerEventCreationSteps=g,t.event_dispatch=_,t.event_appendToAnEventPath=v,t.event_invoke=y,t.event_innerInvoke=b,t.event_fireAnEvent=function(e,t,n,r,i){n===void 0&&(n=u.EventImpl);var a=h(n);if(a._type=e,r)for(var o in r)a[o]=r[o];return _(a,t,i)},t.event_createLegacyEvent=function(e){var t=null;switch(e.toLowerCase()){case`beforeunloadevent`:case`compositionevent`:break;case`customevent`:t=l.CustomEventImpl;break;case`devicemotionevent`:case`deviceorientationevent`:case`dragevent`:break;case`event`:case`events`:t=u.EventImpl}if(t===null)throw new d.NotSupportedError(`Event constructor not found for interface `+e+`.`);var n=new t(``);return n._type=``,n._timeStamp=new Date().getTime(),n._isTrusted=!1,n._initializedFlag=!1,n},t.event_getterEventHandlerIDLAttribute=function(e,t){return null},t.event_setterEventHandlerIDLAttribute=function(e,t,n){},t.event_determineTheTargetOfAnEventHandler=x,t.event_getTheCurrentValueOfAnEventHandler=S,t.event_activateAnEventHandler=C,t.event_deactivateAnEventHandler=w},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},o=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,`__esModule`,{value:!0});var s=n(6),c=n(2),l=n(9),u=n(34),d=n(3),f=n(1),p=n(7),m=n(152),h=n(0),g=n(12),_=function(e){function t(){var t=e.call(this)||this;return t._children=new Set,t._encoding={name:`UTF-8`,labels:[`unicode-1-1-utf-8`,`utf-8`,`utf8`]},t._contentType=`application/xml`,t._URL={scheme:`about`,username:``,password:``,host:null,port:null,path:[`blank`],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},t._origin=null,t._type=`xml`,t._mode=`no-quirks`,t._documentElement=null,t._hasNamespaces=!1,t._nodeDocumentOverwrite=null,t}return i(t,e),Object.defineProperty(t.prototype,`_nodeDocument`,{get:function(){return this._nodeDocumentOverwrite||this},set:function(e){this._nodeDocumentOverwrite=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`implementation`,{get:function(){return this._implementation||=h.create_domImplementation(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`URL`,{get:function(){return m.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`documentURI`,{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`origin`,{get:function(){return`null`},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`compatMode`,{get:function(){return this._mode===`quirks`?`BackCompat`:`CSS1Compat`},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`characterSet`,{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`charset`,{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`inputEncoding`,{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`contentType`,{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`doctype`,{get:function(){var e,t;try{for(var n=a(this._children),r=n.next();!r.done;r=n.next()){var i=r.value;if(d.Guard.isDocumentTypeNode(i))return i}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`documentElement`,{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),t.prototype.getElementsByTagName=function(e){return h.node_listOfElementsWithQualifiedName(e,this)},t.prototype.getElementsByTagNameNS=function(e,t){return h.node_listOfElementsWithNamespace(e,t,this)},t.prototype.getElementsByClassName=function(e){return h.node_listOfElementsWithClassNames(e,this)},t.prototype.createElement=function(e,t){if(!h.xml_isName(e))throw new l.InvalidCharacterError;this._type===`html`&&(e=e.toLowerCase());var n=null;t!==void 0&&(n=f.isString(t)?t:t.is);var r=this._type===`html`||this._contentType===`application/xhtml+xml`?p.namespace.HTML:null;return h.element_createAnElement(this,e,r,null,n,!0)},t.prototype.createElementNS=function(e,t,n){return h.document_internalCreateElementNS(this,e,t,n)},t.prototype.createDocumentFragment=function(){return h.create_documentFragment(this)},t.prototype.createTextNode=function(e){return h.create_text(this,e)},t.prototype.createCDATASection=function(e){if(this._type===`html`)throw new l.NotSupportedError;if(e.indexOf(`]]>`)!==-1)throw new l.InvalidCharacterError;return h.create_cdataSection(this,e)},t.prototype.createComment=function(e){return h.create_comment(this,e)},t.prototype.createProcessingInstruction=function(e,t){if(!h.xml_isName(e)||t.indexOf(`?>`)!==-1)throw new l.InvalidCharacterError;return h.create_processingInstruction(this,e,t)},t.prototype.importNode=function(e,t){if(t===void 0&&(t=!1),d.Guard.isDocumentNode(e)||d.Guard.isShadowRoot(e))throw new l.NotSupportedError;return h.node_clone(e,this,t)},t.prototype.adoptNode=function(e){if(d.Guard.isDocumentNode(e))throw new l.NotSupportedError;if(d.Guard.isShadowRoot(e))throw new l.HierarchyRequestError;return h.document_adopt(e,this),e},t.prototype.createAttribute=function(e){if(!h.xml_isName(e))throw new l.InvalidCharacterError;return this._type===`html`&&(e=e.toLowerCase()),h.create_attr(this,e)},t.prototype.createAttributeNS=function(e,t){var n=o(h.namespace_validateAndExtract(e,t),3),r=n[0],i=n[1],a=n[2],s=h.create_attr(this,a);return s._namespace=r,s._namespacePrefix=i,s},t.prototype.createEvent=function(e){return h.event_createLegacyEvent(e)},t.prototype.createRange=function(){var e=h.create_range();return e._start=[this,0],e._end=[this,0],e},t.prototype.createNodeIterator=function(e,t,n){t===void 0&&(t=c.WhatToShow.All),n===void 0&&(n=null);var r=h.create_nodeIterator(e,e,!0);return r._whatToShow=t,r._iteratorCollection=h.create_nodeList(e),f.isFunction(n)?(r._filter=h.create_nodeFilter(),r._filter.acceptNode=n):r._filter=n,r},t.prototype.createTreeWalker=function(e,t,n){t===void 0&&(t=c.WhatToShow.All),n===void 0&&(n=null);var r=h.create_treeWalker(e,e);return r._whatToShow=t,f.isFunction(n)?(r._filter=h.create_nodeFilter(),r._filter.acceptNode=n):r._filter=n,r},t.prototype._getTheParent=function(e){return e._type===`load`?null:s.dom.window},t.prototype.getElementById=function(e){throw Error(`Mixin: NonElementParentNode not implemented.`)},Object.defineProperty(t.prototype,`children`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`firstElementChild`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`lastElementChild`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`childElementCount`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.append=function(){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.querySelector=function(e){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.querySelectorAll=function(e){throw Error(`Mixin: ParentNode not implemented.`)},t}(u.NodeImpl);t.DocumentImpl=_,g.idl_defineConst(_.prototype,`_nodeType`,c.NodeType.Document)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},o=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,`__esModule`,{value:!0});var s=n(2),c=n(34),l=n(9),u=n(7),d=n(0),f=n(12),p=function(e){function t(){var t=e.call(this)||this;return t._children=new Set,t._namespace=null,t._namespacePrefix=null,t._localName=``,t._customElementState=`undefined`,t._customElementDefinition=null,t._is=null,t._shadowRoot=null,t._attributeList=d.create_namedNodeMap(t),t._attributeChangeSteps=[],t._name=``,t._assignedSlot=null,t}return i(t,e),Object.defineProperty(t.prototype,`namespaceURI`,{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`prefix`,{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`localName`,{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`tagName`,{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`id`,{get:function(){return d.element_getAnAttributeValue(this,`id`)},set:function(e){d.element_setAnAttributeValue(this,`id`,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`className`,{get:function(){return d.element_getAnAttributeValue(this,`class`)},set:function(e){d.element_setAnAttributeValue(this,`class`,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`classList`,{get:function(){var e=d.element_getAnAttributeByName(`class`,this);return e===null&&(e=d.create_attr(this._nodeDocument,`class`)),d.create_domTokenList(this,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`slot`,{get:function(){return d.element_getAnAttributeValue(this,`slot`)},set:function(e){d.element_setAnAttributeValue(this,`slot`,e)},enumerable:!0,configurable:!0}),t.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(t.prototype,`attributes`,{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),t.prototype.getAttributeNames=function(){var e,t,n=[];try{for(var r=a(this._attributeList),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o._qualifiedName)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},t.prototype.getAttribute=function(e){var t=d.element_getAnAttributeByName(e,this);return t?t._value:null},t.prototype.getAttributeNS=function(e,t){var n=d.element_getAnAttributeByNamespaceAndLocalName(e,t,this);return n?n._value:null},t.prototype.setAttribute=function(e,t){if(!d.xml_isName(e))throw new l.InvalidCharacterError;this._namespace===u.namespace.HTML&&this._nodeDocument._type===`html`&&(e=e.toLowerCase());for(var n=null,r=0;r<this._attributeList.length;r++){var i=this._attributeList[r];if(i._qualifiedName===e){n=i;break}}if(n===null)return(n=d.create_attr(this._nodeDocument,e))._value=t,void d.element_append(n,this);d.element_change(n,this,t)},t.prototype.setAttributeNS=function(e,t,n){var r=o(d.namespace_validateAndExtract(e,t),3),i=r[0],a=r[1],s=r[2];d.element_setAnAttributeValue(this,s,n,a,i)},t.prototype.removeAttribute=function(e){d.element_removeAnAttributeByName(e,this)},t.prototype.removeAttributeNS=function(e,t){d.element_removeAnAttributeByNamespaceAndLocalName(e,t,this)},t.prototype.hasAttribute=function(e){this._namespace===u.namespace.HTML&&this._nodeDocument._type===`html`&&(e=e.toLowerCase());for(var t=0;t<this._attributeList.length;t++)if(this._attributeList[t]._qualifiedName===e)return!0;return!1},t.prototype.toggleAttribute=function(e,t){if(!d.xml_isName(e))throw new l.InvalidCharacterError;this._namespace===u.namespace.HTML&&this._nodeDocument._type===`html`&&(e=e.toLowerCase());for(var n=null,r=0;r<this._attributeList.length;r++){var i=this._attributeList[r];if(i._qualifiedName===e){n=i;break}}return n===null?(t===void 0||!0===t)&&((n=d.create_attr(this._nodeDocument,e))._value=``,d.element_append(n,this),!0):t!==void 0&&!1!==t||(d.element_removeAnAttributeByName(e,this),!1)},t.prototype.hasAttributeNS=function(e,t){for(var n=e||null,r=0;r<this._attributeList.length;r++){var i=this._attributeList[r];if(i._namespace===n&&i._localName===t)return!0}return!1},t.prototype.getAttributeNode=function(e){return d.element_getAnAttributeByName(e,this)},t.prototype.getAttributeNodeNS=function(e,t){return d.element_getAnAttributeByNamespaceAndLocalName(e,t,this)},t.prototype.setAttributeNode=function(e){return d.element_setAnAttribute(e,this)},t.prototype.setAttributeNodeNS=function(e){return d.element_setAnAttribute(e,this)},t.prototype.removeAttributeNode=function(e){for(var t=!1,n=0;n<this._attributeList.length;n++)if(this._attributeList[n]===e){t=!0;break}if(!t)throw new l.NotFoundError;return d.element_remove(e,this),e},t.prototype.attachShadow=function(e){if(this._namespace!==u.namespace.HTML||!d.customElement_isValidCustomElementName(this._localName)&&!d.customElement_isValidShadowHostName(this._localName))throw new l.NotSupportedError;if(d.customElement_isValidCustomElementName(this._localName)||this._is!==null){var t=d.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(t!==null&&!0===t.disableShadow)throw new l.NotSupportedError}if(this._shadowRoot!==null)throw new l.NotSupportedError;var n=d.create_shadowRoot(this._nodeDocument,this);return n._mode=e.mode,this._shadowRoot=n,n},Object.defineProperty(t.prototype,`shadowRoot`,{get:function(){var e=this._shadowRoot;return e===null||e.mode===`closed`?null:e},enumerable:!0,configurable:!0}),t.prototype.closest=function(e){throw new l.NotImplementedError},t.prototype.matches=function(e){throw new l.NotImplementedError},t.prototype.webkitMatchesSelector=function(e){return this.matches(e)},t.prototype.getElementsByTagName=function(e){return d.node_listOfElementsWithQualifiedName(e,this)},t.prototype.getElementsByTagNameNS=function(e,t){return d.node_listOfElementsWithNamespace(e,t,this)},t.prototype.getElementsByClassName=function(e){return d.node_listOfElementsWithClassNames(e,this)},t.prototype.insertAdjacentElement=function(e,t){return d.element_insertAdjacent(this,e,t)},t.prototype.insertAdjacentText=function(e,t){var n=d.create_text(this._nodeDocument,t);d.element_insertAdjacent(this,e,n)},Object.defineProperty(t.prototype,`_qualifiedName`,{get:function(){return this._namespacePrefix?this._namespacePrefix+`:`+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`_htmlUppercasedQualifiedName`,{get:function(){var e=this._qualifiedName;return this._namespace===u.namespace.HTML&&this._nodeDocument._type===`html`&&(e=e.toUpperCase()),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`children`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`firstElementChild`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`lastElementChild`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`childElementCount`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.append=function(){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.querySelector=function(e){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.querySelectorAll=function(e){throw Error(`Mixin: ParentNode not implemented.`)},Object.defineProperty(t.prototype,`previousElementSibling`,{get:function(){throw Error(`Mixin: NonDocumentTypeChildNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`nextElementSibling`,{get:function(){throw Error(`Mixin: NonDocumentTypeChildNode not implemented.`)},enumerable:!0,configurable:!0}),t.prototype.before=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.after=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.replaceWith=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.remove=function(){throw Error(`Mixin: ChildNode not implemented.`)},Object.defineProperty(t.prototype,`assignedSlot`,{get:function(){throw Error(`Mixin: Slotable not implemented.`)},enumerable:!0,configurable:!0}),t._create=function(e,n,r,i){r===void 0&&(r=null),i===void 0&&(i=null);var a=new t;return a._localName=n,a._namespace=r,a._namespacePrefix=i,a._nodeDocument=e,a},t}(c.NodeImpl);t.ElementImpl=p,f.idl_defineConst(p.prototype,`_nodeType`,s.NodeType.Element)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(2),o=n(34),s=n(12),c=function(e){function t(t){t===void 0&&(t=null);var n=e.call(this)||this;return n._children=new Set,n._host=t,n}return i(t,e),t.prototype.getElementById=function(e){throw Error(`Mixin: NonElementParentNode not implemented.`)},Object.defineProperty(t.prototype,`children`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`firstElementChild`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`lastElementChild`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`childElementCount`,{get:function(){throw Error(`Mixin: ParentNode not implemented.`)},enumerable:!0,configurable:!0}),t.prototype.prepend=function(){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.append=function(){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.querySelector=function(e){throw Error(`Mixin: ParentNode not implemented.`)},t.prototype.querySelectorAll=function(e){throw Error(`Mixin: ParentNode not implemented.`)},t._create=function(e,n){n===void 0&&(n=null);var r=new t(n);return r._nodeDocument=e,r},t}(o.NodeImpl);t.DocumentFragmentImpl=c,s.idl_defineConst(c.prototype,`_nodeType`,a.NodeType.DocumentFragment)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(2),s=n(71),c=n(0),l=n(12),u=function(e){function t(t){t===void 0&&(t=``);var n=e.call(this,t)||this;return n._name=``,n._assignedSlot=null,n}return i(t,e),Object.defineProperty(t.prototype,`wholeText`,{get:function(){var e,t,n=``;try{for(var r=a(c.text_contiguousTextNodes(this,!0)),i=r.next();!i.done;i=r.next())n+=i.value._data}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),t.prototype.splitText=function(e){return c.text_split(this,e)},Object.defineProperty(t.prototype,`assignedSlot`,{get:function(){throw Error(`Mixin: Slotable not implemented.`)},enumerable:!0,configurable:!0}),t._create=function(e,n){n===void 0&&(n=``);var r=new t(n);return r._nodeDocument=e,r},t}(s.CharacterDataImpl);t.TextImpl=u,l.idl_defineConst(u.prototype,`_nodeType`,o.NodeType.Text)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.AbstractRangeImpl=function(){function e(){}return Object.defineProperty(e.prototype,`_startNode`,{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`_startOffset`,{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`_endNode`,{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`_endOffset`,{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`_collapsed`,{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`startContainer`,{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`startOffset`,{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`endContainer`,{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`endOffset`,{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`collapsed`,{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2);t.TraverserImpl=function(){function e(e){this._activeFlag=!1,this._root=e,this._whatToShow=r.WhatToShow.All,this._filter=null}return Object.defineProperty(e.prototype,`root`,{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`whatToShow`,{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`filter`,{get:function(){return this._filter},enumerable:!0,configurable:!0}),e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2),i=n(0),a=n(12),o=function(){function e(e,t){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=r.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=e,t&&(this._bubbles=t.bubbles||!1,this._cancelable=t.cancelable||!1,this._composedFlag=t.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(e.prototype,`type`,{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`target`,{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`srcElement`,{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`currentTarget`,{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),e.prototype.composedPath=function(){var e=[],t=this._path;if(t.length===0)return e;var n=this._currentTarget;if(n===null)throw Error(`Event currentTarget is null.`);e.push(n);for(var r=0,i=0,a=t.length-1;a>=0;){if(t[a].rootOfClosedTree&&i++,t[a].invocationTarget===n){r=a;break}t[a].slotInClosedTree&&i--,a--}var o=i,s=i;for(a=r-1;a>=0;)t[a].rootOfClosedTree&&o++,o<=s&&e.unshift(t[a].invocationTarget),t[a].slotInClosedTree&&--o<s&&(s=o),a--;for(o=i,s=i,a=r+1;a<t.length;)t[a].slotInClosedTree&&o++,o<=s&&e.push(t[a].invocationTarget),t[a].rootOfClosedTree&&--o<s&&(s=o),a++;return e},Object.defineProperty(e.prototype,`eventPhase`,{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),e.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(e.prototype,`cancelBubble`,{get:function(){return this._stopPropagationFlag},set:function(e){e&&this.stopPropagation()},enumerable:!0,configurable:!0}),e.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(e.prototype,`bubbles`,{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`cancelable`,{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`returnValue`,{get:function(){return!this._canceledFlag},set:function(e){e||i.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){i.event_setTheCanceledFlag(this)},Object.defineProperty(e.prototype,`defaultPrevented`,{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`composed`,{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`isTrusted`,{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`timeStamp`,{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),e.prototype.initEvent=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this._dispatchFlag||i.event_initialize(this,e,t,n)},e.NONE=0,e.CAPTURING_PHASE=1,e.AT_TARGET=2,e.BUBBLING_PHASE=3,e}();t.EventImpl=o,a.idl_defineConst(o.prototype,`NONE`,0),a.idl_defineConst(o.prototype,`CAPTURING_PHASE`,1),a.idl_defineConst(o.prototype,`AT_TARGET`,2),a.idl_defineConst(o.prototype,`BUBBLING_PHASE`,3)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2),i=n(9);t.traversal_filter=function(e,t){if(e._activeFlag)throw new i.InvalidStateError;var n=1<<t._nodeType-1;if((e.whatToShow&n)==0)return r.FilterResult.Skip;if(!e.filter)return r.FilterResult.Accept;e._activeFlag=!0;var a=r.FilterResult.Reject;try{a=e.filter.acceptNode(t)}catch(t){throw e._activeFlag=!1,t}return e._activeFlag=!1,a}},function(e,t,n){var r=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var a=n(6),o=n(3),s=n(1),c=n(99),l=n(73),u=n(17),d=n(173),f=n(30),p=n(52),m=n(37);t.document_elementInterface=function(e,t){return c.ElementImpl},t.document_internalCreateElementNS=function(e,t,n,i){var a=r(d.namespace_validateAndExtract(t,n),3),o=a[0],c=a[1],l=a[2],u=null;return i!==void 0&&(u=s.isString(i)?i:i.is),p.element_createAnElement(e,l,o,c,u,!0)},t.document_adopt=function(e,t){var n,r;if(e._nodeDocument!==t||e._parent!==null){var s=e._nodeDocument;if(e._parent&&m.mutation_remove(e,e._parent),t!==s)for(var c=u.tree_getFirstDescendantNode(e,!0,!0);c!==null;){if(c._nodeDocument=t,o.Guard.isElementNode(c))try{for(var d=(n=void 0,i(c._attributeList._asArray())),p=d.next();!p.done;p=d.next())p.value._nodeDocument=t}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}a.dom.features.customElements&&o.Guard.isElementNode(c)&&c._customElementState===`custom`&&l.customElement_enqueueACustomElementCallbackReaction(c,`adoptedCallback`,[s,t]),a.dom.features.steps&&f.dom_runAdoptingSteps(c,s),c=u.tree_getNextDescendantNode(e,c,!0,!0)}}}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(6),a=n(3),o=n(9),s=n(17),c=n(51),l=n(30);t.characterData_replaceData=function(e,t,n,u){var d,f,p=s.tree_nodeLength(e);if(t>p)throw new o.IndexSizeError(`Offset exceeds character data length. Offset: `+t+`, Length: `+p+`, Node is `+e.nodeName+`.`);t+n>p&&(n=p-t),i.dom.features.mutationObservers&&c.observer_queueMutationRecord(`characterData`,e,null,null,e._data,[],[],null,null),e._data=e._data.substring(0,t)+u+e._data.substring(t+n);try{for(var m=r(i.dom.rangeList),h=m.next();!h.done;h=m.next()){var g=h.value;g._start[0]===e&&g._start[1]>t&&g._start[1]<=t+n&&(g._start[1]=t),g._end[0]===e&&g._end[1]>t&&g._end[1]<=t+n&&(g._end[1]=t),g._start[0]===e&&g._start[1]>t+n&&(g._start[1]+=u.length-n),g._end[0]===e&&g._end[1]>t+n&&(g._end[1]+=u.length-n)}}catch(e){d={error:e}}finally{try{h&&!h.done&&(f=m.return)&&f.call(m)}finally{if(d)throw d.error}}i.dom.features.steps&&a.Guard.isTextNode(e)&&e._parent!==null&&l.dom_runChildTextContentChangeSteps(e._parent)},t.characterData_substringData=function(e,t,n){var r=s.tree_nodeLength(e);if(t>r)throw new o.IndexSizeError(`Offset exceeds character data length. Offset: `+t+`, Length: `+r+`, Node is `+e.nodeName+`.`);return t+n>r?e._data.substr(t):e._data.substr(t,n)}},function(e,t,n){var r=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(7);function s(e){var t=o.string.splitAStringOnASCIIWhitespace(e);return new Set(t)}function c(e){return i(e).join(` `)}t.orderedSet_parse=s,t.orderedSet_serialize=c,t.orderedSet_sanitize=function(e){return c(s(e))},t.orderedSet_contains=function(e,t,n){var r,i,o,s;try{for(var c=a(t),l=c.next();!l.done;l=c.next()){var u=l.value,d=!1;try{for(var f=(o=void 0,a(e)),p=f.next();!p.done;p=f.next()){var m=p.value;if(n){if(m===u){d=!0;break}}else if(m.toUpperCase()===u.toUpperCase()){d=!0;break}}}catch(e){o={error:e}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}if(!d)return!1}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return!0}},function(e,t,n){n(179),Object.defineProperty(t,`__esModule`,{value:!0});var r=n(262),i=n(110),a=n(1);i.dom.setFeatures(!1),t.createDocument=function(){var e=new r.DOMImplementation().createDocument(null,`root`,null);return e.documentElement&&e.removeChild(e.documentElement),e},t.sanitizeInput=function(e,t){if(e==null)return e;if(t===void 0)return e+``;var n=``;e+=``;for(var r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i===9||i===10||i===13||i>=32&&i<=55295||i>=57344&&i<=65533)n+=e.charAt(r);else if(i>=55296&&i<=56319&&r<e.length-1){var o=e.charCodeAt(r+1);o>=56320&&o<=57343?(i=1024*(i-55296)+o-56320+65536,n+=String.fromCodePoint(i),r++):n+=a.isString(t)?t:t(e.charAt(r),r,e)}else n+=a.isString(t)?t:t(e.charAt(r),r,e)}return n}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(1);t.AbortController=n(153).AbortControllerImpl,t.AbortSignal=n(154).AbortSignalImpl,t.AbstractRange=n(102).AbstractRangeImpl,t.Attr=n(157).AttrImpl,t.CDATASection=n(158).CDATASectionImpl;var i=n(71);t.CharacterData=i.CharacterDataImpl;var a=n(263);t.Comment=n(159).CommentImpl,t.CustomEvent=n(171).CustomEventImpl;var o=n(100);t.DocumentFragment=o.DocumentFragmentImpl;var s=n(98);t.Document=s.DocumentImpl;var c=n(264),l=n(155);t.DocumentType=l.DocumentTypeImpl,t.dom=n(6).dom,t.DOMImplementation=n(148).DOMImplementationImpl,t.DOMTokenList=n(170).DOMTokenListImpl;var u=n(99);t.Element=u.ElementImpl,t.Event=n(104).EventImpl,t.EventTarget=n(70).EventTargetImpl,t.HTMLCollection=n(161).HTMLCollectionImpl,t.MutationObserver=n(265).MutationObserverImpl,t.MutationRecord=n(169).MutationRecordImpl,t.NamedNodeMap=n(164).NamedNodeMapImpl,t.NodeFilter=n(168).NodeFilterImpl,t.Node=n(34).NodeImpl,t.NodeIterator=n(166).NodeIteratorImpl,t.NodeList=n(162).NodeListImpl,t.NodeListStatic=n(163).NodeListStaticImpl;var d=n(266),f=n(267),p=n(268);t.ProcessingInstruction=n(160).ProcessingInstructionImpl,t.Range=n(165).RangeImpl;var m=n(156);t.ShadowRoot=m.ShadowRootImpl;var h=n(269);t.StaticRange=n(270).StaticRangeImpl;var g=n(101);t.Text=g.TextImpl,t.Traverser=n(103).TraverserImpl,t.TreeWalker=n(167).TreeWalkerImpl,t.Window=n(149).WindowImpl,t.XMLDocument=n(151).XMLDocumentImpl,r.applyMixin(u.ElementImpl,a.ChildNodeImpl),r.applyMixin(i.CharacterDataImpl,a.ChildNodeImpl),r.applyMixin(l.DocumentTypeImpl,a.ChildNodeImpl),r.applyMixin(s.DocumentImpl,c.DocumentOrShadowRootImpl),r.applyMixin(m.ShadowRootImpl,c.DocumentOrShadowRootImpl),r.applyMixin(u.ElementImpl,d.NonDocumentTypeChildNodeImpl),r.applyMixin(i.CharacterDataImpl,d.NonDocumentTypeChildNodeImpl),r.applyMixin(s.DocumentImpl,f.NonElementParentNodeImpl),r.applyMixin(o.DocumentFragmentImpl,f.NonElementParentNodeImpl),r.applyMixin(s.DocumentImpl,p.ParentNodeImpl),r.applyMixin(o.DocumentFragmentImpl,p.ParentNodeImpl),r.applyMixin(u.ElementImpl,p.ParentNodeImpl),r.applyMixin(g.TextImpl,h.SlotableImpl),r.applyMixin(u.ElementImpl,h.SlotableImpl)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),function(e){e[e.EOF=0]=`EOF`,e[e.Declaration=1]=`Declaration`,e[e.DocType=2]=`DocType`,e[e.Element=3]=`Element`,e[e.Text=4]=`Text`,e[e.CDATA=5]=`CDATA`,e[e.PI=6]=`PI`,e[e.Comment=7]=`Comment`,e[e.ClosingTag=8]=`ClosingTag`}(t.TokenType||={})},function(e,t,n){n(64),n(20),n(66);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(1);t.ObjectReader=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return i(t,e),t.prototype._parse=function(e,t){var n=this,r=this._builderOptions,i=null;return a.isFunction(t)?i=this.parse(e,t.apply(this)):a.isArray(t)||a.isSet(t)?a.forEachArray(t,(function(t){return i=n.parse(e,t)}),this):a.isMap(t)||a.isObject(t)?a.forEachObject(t,(function(t,o){if(a.isFunction(o)&&(o=o.apply(n)),r.ignoreConverters||t.indexOf(r.convert.att)!==0)if(r.ignoreConverters||t.indexOf(r.convert.text)!==0)if(r.ignoreConverters||t.indexOf(r.convert.cdata)!==0)if(r.ignoreConverters||t.indexOf(r.convert.comment)!==0)if(r.ignoreConverters||t.indexOf(r.convert.ins)!==0){if(!((a.isArray(o)||a.isSet(o))&&a.isEmpty(o))){if((a.isMap(o)||a.isObject(o))&&a.isEmpty(o))i=n.element(e,void 0,n.sanitize(t))||i;else if(r.keepNullNodes||o!=null)if(a.isArray(o)||a.isSet(o))a.forEachArray(o,(function(r){var a={};a[t]=r,i=n.parse(e,a)}),n);else if(a.isMap(o)||a.isObject(o))(s=n.element(e,void 0,n.sanitize(t)))&&(i=s,n.parse(s,o));else if(o!=null&&o!==``){var s;(s=n.element(e,void 0,n.sanitize(t)))&&(i=s,n.text(s,n._decodeText(n.sanitize(o))))}else i=n.element(e,void 0,n.sanitize(t))||i}}else if(a.isString(o)){var c=o.indexOf(` `),l=c===-1?o:o.substr(0,c),u=c===-1?``:o.substr(c+1);i=n.instruction(e,n.sanitize(l),n.sanitize(u))||i}else a.isArray(o)||a.isSet(o)?a.forEachArray(o,(function(t){var r=t.indexOf(` `),a=r===-1?t:t.substr(0,r),o=r===-1?``:t.substr(r+1);i=n.instruction(e,n.sanitize(a),n.sanitize(o))||i}),n):a.forEachObject(o,(function(t,r){return i=n.instruction(e,n.sanitize(t),n.sanitize(r))||i}),n);else a.isArray(o)||a.isSet(o)?a.forEachArray(o,(function(t){return i=n.comment(e,n.sanitize(t))||i}),n):i=n.comment(e,n.sanitize(o))||i;else a.isArray(o)||a.isSet(o)?a.forEachArray(o,(function(t){return i=n.cdata(e,n.sanitize(t))||i}),n):i=n.cdata(e,n.sanitize(o))||i;else i=a.isMap(o)||a.isObject(o)?n.parse(e,o):n.text(e,n._decodeText(n.sanitize(o)))||i;else if(t===r.convert.att){if(a.isArray(o)||a.isSet(o))throw Error(`Invalid attribute: `+o.toString()+`. `+e._debugInfo());a.forEachObject(o,(function(t,r){i=n.attribute(e,void 0,n.sanitize(t),n._decodeAttributeValue(n.sanitize(r)))||i}))}else i=n.attribute(e,void 0,n.sanitize(t.substr(r.convert.att.length)),n._decodeAttributeValue(n.sanitize(o)))||i}),this):(r.keepNullNodes||t!=null)&&(i=this.text(e,this._decodeText(this.sanitize(t)))||i),i||e},t}(n(75).BaseReader)},function(e,t,n){e.exports=new(n(39))({explicit:[n(286),n(287),n(288)]})},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.BaseCBWriter=function(e){this.level=0,this._builderOptions=e,this._writerOptions=e}},function(e,t,n){var r=n(16),i=n(8),a=n(116);e.exports=!r&&!i((function(){return Object.defineProperty(a(`div`),`a`,{get:function(){return 7}}).a!=7}))},function(e,t,n){var r=n(11),i=n(13),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(118),i=Function.toString;typeof r.inspectSource!=`function`&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(11),i=n(80);e.exports=r[`__core-js_shared__`]||i(`__core-js_shared__`,{})},function(e,t,n){var r=n(14),i=n(187),a=n(55),o=n(15);e.exports=function(e,t){for(var n=i(t),s=o.f,c=a.f,l=0;l<n.length;l++){var u=n[l];r(e,u)||s(e,u,c(t,u))}}},function(e,t,n){e.exports=n(11)},function(e,t,n){var r=n(14),i=n(24),a=n(122).indexOf,o=n(45);e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)!r(o,n)&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~a(l,n)||l.push(n));return l}},function(e,t,n){var r=n(24),i=n(26),a=n(83),o=function(e){return function(t,n,o){var s,c=r(t),l=i(c.length),u=a(o,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var r=n(8),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==l||n!=c&&(typeof t==`function`?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,`.`).toLowerCase()},s=a.data={},c=a.NATIVE=`N`,l=a.POLYFILL=`P`;e.exports=a},function(e,t,n){e.exports=n(86)&&!Symbol.sham&&typeof Symbol.iterator==`symbol`},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(120),i=n(14),a=n(125),o=n(15).f;e.exports=function(e){var t=r.Symbol||={};i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t){e.exports=function(e){if(typeof e!=`function`)throw TypeError(String(e)+` is not a function`);return e}},function(e,t,n){var r=n(13),i=n(59),a=n(5)(`species`);e.exports=function(e,t){var n;return i(e)&&(typeof(n=e.constructor)!=`function`||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a])===null&&(n=void 0):n=void 0),new(n===void 0?Array:n)(t===0?0:t)}},function(e,t,n){var r,i,a=n(11),o=n(193),s=a.process,c=s&&s.versions,l=c&&c.v8;l?i=(r=l.split(`.`))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(5),i=n(60),a=n(15),o=r(`unscopables`),s=Array.prototype;s[o]??a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){var r,i,a,o=n(132),s=n(21),c=n(14),l=n(5),u=n(44),d=l(`iterator`),f=!1;[].keys&&(`next`in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):f=!0),r??={},u||c(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(14),i=n(27),a=n(57),o=n(196),s=a(`IE_PROTO`),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:typeof e.constructor==`function`&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){var r=n(18),i=n(197);e.exports=Object.setPrototypeOf||(`__proto__`in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,`__proto__`).set).call(n,[]),t=n instanceof Array}catch{}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r=n(56),i=n(15),a=n(40);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var r=n(90),i=n(42),a=n(5)(`toStringTag`),o=i(function(){return arguments}())==`Arguments`;e.exports=r?i:function(e){var t,n,r;return e===void 0?`Undefined`:e===null?`Null`:typeof(n=function(e,t){try{return e[t]}catch{}}(t=Object(e),a))==`string`?n:o?i(t):(r=i(t))==`Object`&&typeof t.callee==`function`?`Arguments`:r}},function(e,t,n){var r=n(18);e.exports=function(){var e=r(this),t=``;return e.global&&(t+=`g`),e.ignoreCase&&(t+=`i`),e.multiline&&(t+=`m`),e.dotAll&&(t+=`s`),e.unicode&&(t+=`u`),e.sticky&&(t+=`y`),t}},function(e,t,n){var r=n(47),i=n(35),a=function(e){return function(t,n){var a,o,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?``:void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){var r=n(4),i=n(27),a=n(61);r({target:`Object`,stat:!0,forced:n(8)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},function(e,t,n){var r=n(4),i=n(11),a=n(123),o=n(25),s=n(140),c=n(141),l=n(142),u=n(13),d=n(8),f=n(208),p=n(62),m=n(209);e.exports=function(e,t,n){var h=e.indexOf(`Map`)!==-1,g=e.indexOf(`Weak`)!==-1,_=h?`set`:`add`,v=i[e],y=v&&v.prototype,b=v,x={},S=function(e){var t=y[e];o(y,e,e==`add`?function(e){return t.call(this,e===0?0:e),this}:e==`delete`?function(e){return!(g&&!u(e))&&t.call(this,e===0?0:e)}:e==`get`?function(e){return g&&!u(e)?void 0:t.call(this,e===0?0:e)}:e==`has`?function(e){return!(g&&!u(e))&&t.call(this,e===0?0:e)}:function(e,n){return t.call(this,e===0?0:e,n),this})};if(a(e,typeof v!=`function`||!(g||y.forEach&&!d((function(){new v().entries().next()})))))b=n.getConstructor(t,e,h,_),s.REQUIRED=!0;else if(a(e,!0)){var C=new b,w=C[_](g?{}:-0,1)!=C,T=d((function(){C.has(1)})),E=f((function(e){new v(e)})),D=!g&&d((function(){for(var e=new v,t=5;t--;)e[_](t,t);return!e.has(-0)}));E||((b=t((function(t,n){l(t,b,e);var r=m(new v,t,b);return n!=null&&c(n,r[_],r,h),r}))).prototype=y,y.constructor=b),(T||D)&&(S(`delete`),S(`has`),h&&S(`get`)),(D||w)&&S(_),g&&y.clear&&delete y.clear}return x[e]=b,r({global:!0,forced:b!=v},x),p(b,e),g||n.setStrong(b,e,h),b}},function(e,t,n){var r=n(45),i=n(13),a=n(14),o=n(15).f,s=n(58),c=n(204),l=s(`meta`),u=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,l,{value:{objectID:`O`+ ++u,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return typeof e==`symbol`?e:(typeof e==`string`?`S`:`P`)+e;if(!a(e,l)){if(!d(e))return`F`;if(!t)return`E`;f(e)}return e[l].objectID},getWeakData:function(e,t){if(!a(e,l)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[l].weakData},onFreeze:function(e){return c&&p.REQUIRED&&d(e)&&!a(e,l)&&f(e),e}};r[l]=!0},function(e,t,n){var r=n(18),i=n(205),a=n(26),o=n(87),s=n(206),c=n(207),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,d){var f,p,m,h,g,_,v,y=o(t,n,u?2:1);if(d)f=e;else{if(typeof(p=s(e))!=`function`)throw TypeError(`Target is not iterable`);if(i(p)){for(m=0,h=a(e.length);h>m;m++)if((g=u?y(r(v=e[m])[0],v[1]):y(e[m]))&&g instanceof l)return g;return new l(!1)}f=p.call(e)}for(_=f.next;!(v=_.call(f)).done;)if(typeof(g=c(f,y,v.value,u))==`object`&&g&&g instanceof l)return g;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(`Incorrect `+(n?n+` `:``)+`invocation`);return e}},function(e,t,n){var r=n(15).f,i=n(60),a=n(210),o=n(87),s=n(142),c=n(141),l=n(88),u=n(211),d=n(16),f=n(140).fastKey,p=n(43),m=p.set,h=p.getterFor;e.exports={getConstructor:function(e,t,n,l){var u=e((function(e,r){s(e,u,t),m(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),r!=null&&c(r,e[l],e,n)})),p=h(t),g=function(e,t,n){var r,i,a=p(e),o=_(e,t);return o?o.value=n:(a.last=o={index:i=f(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||=o,r&&(r.next=o),d?a.size++:e.size++,i!==`F`&&(a.index[i]=o)),e},_=function(e,t){var n,r=p(e),i=f(t);if(i!==`F`)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(u.prototype,{clear:function(){for(var e=p(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&=n.previous.next=void 0,delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=p(this),n=_(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=p(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!_(this,e)}}),a(u.prototype,n?{get:function(e){var t=_(this,e);return t&&t.value},set:function(e,t){return g(this,e===0?0:e,t)}}:{add:function(e){return g(this,e=e===0?0:e,e)}}),d&&r(u.prototype,`size`,{get:function(){return p(this).size}}),u},setStrong:function(e,t,n){var r=t+` Iterator`,i=h(t),a=h(r);l(e,t,(function(e,t){m(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?t==`keys`?{value:n.key,done:!1}:t==`values`?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?`entries`:`values`,!n,!0),u(t)}}},function(e,t,n){var r,i=n(4),a=n(55).f,o=n(26),s=n(222),c=n(35),l=n(224),u=n(44),d=``.endsWith,f=Math.min,p=l(`endsWith`);i({target:`String`,proto:!0,forced:!!(u||p||(r=a(String.prototype,`endsWith`),!r||r.writable))&&!p},{endsWith:function(e){var t=String(c(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=o(t.length),i=n===void 0?r:f(o(n),r),a=String(e);return d?d.call(t,a,i):t.slice(i-a.length,i)===a}})},function(e,t,n){(function(e){var r=n(229),i=n(230),a=n(231);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw RangeError(`Invalid typed array length`);return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(e===null&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if(typeof e==`number`){if(typeof t==`string`)throw Error(`If encoding is specified then the first argument must be a string`);return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if(typeof t==`number`)throw TypeError(`"value" argument must not be a number`);return typeof ArrayBuffer<`u`&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw RangeError(`'offset' is out of bounds`);if(t.byteLength<n+(r||0))throw RangeError(`'length' is out of bounds`);return t=n===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t),e}(e,t,n,r):typeof t==`string`?function(e,t,n){if(typeof n==`string`&&n!==``||(n=`utf8`),!c.isEncoding(n))throw TypeError(`"encoding" must be a valid string encoding`);var r=0|m(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return(e=s(e,n)).length===0||t.copy(e,0,0,n),e}if(t){if(typeof ArrayBuffer<`u`&&t.buffer instanceof ArrayBuffer||`length`in t)return typeof t.length!=`number`||(r=t.length)!=r?s(e,0):f(e,t);if(t.type===`Buffer`&&a(t.data))return f(e,t.data)}var r;throw TypeError(`First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.`)}(e,t)}function u(e){if(typeof e!=`number`)throw TypeError(`"size" argument must be a number`);if(e<0)throw RangeError(`"size" argument must not be negative`)}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=o())throw RangeError(`Attempt to allocate Buffer larger than maximum size: 0x`+o().toString(16)+` bytes`);return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(typeof ArrayBuffer<`u`&&typeof ArrayBuffer.isView==`function`&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!=`string`&&(e=``+e);var n=e.length;if(n===0)return 0;for(var r=!1;;)switch(t){case`ascii`:case`latin1`:case`binary`:return n;case`utf8`:case`utf-8`:case void 0:return ae(e).length;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return 2*n;case`hex`:return n>>>1;case`base64`:return oe(e).length;default:if(r)return ae(e).length;t=(``+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return``;for(e||=`utf8`;;)switch(e){case`hex`:return k(this,t,n);case`utf8`:case`utf-8`:return E(this,t,n);case`ascii`:return D(this,t,n);case`latin1`:case`binary`:return O(this,t,n);case`base64`:return T(this,t,n);case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return A(this,t,n);default:if(r)throw TypeError(`Unknown encoding: `+e);e=(e+``).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(e.length===0)return-1;if(typeof n==`string`?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof t==`string`&&(t=c.from(t,r)),c.isBuffer(t))return t.length===0?-1:v(e,t,n,r,i);if(typeof t==`number`)return t&=255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==`function`?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw TypeError(`val must be string, number or Buffer`)}function v(e,t,n,r,i){var a,o=1,s=e.length,c=t.length;if(r!==void 0&&((r=String(r).toLowerCase())===`ucs2`||r===`ucs-2`||r===`utf16le`||r===`utf-16le`)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function l(e,t){return o===1?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,u===-1?0:a-u)){if(u===-1&&(u=a),a-u+1===c)return u*o}else u!==-1&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var d=!0,f=0;f<c;f++)if(l(e,a+f)!==l(t,f)){d=!1;break}if(d)return a}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw TypeError(`Invalid hex string`);r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,r){return se(ae(t,e.length-n),e,n,r)}function x(e,t,n,r){return se(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return x(e,t,n,r)}function C(e,t,n,r){return se(oe(t),e,n,r)}function w(e,t,n,r){return se(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function T(e,t,n){return t===0&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:(192&(a=e[i+1]))==128&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[i+1],o=e[i+2],(192&a)==128&&(192&o)==128&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],(192&a)==128&&(192&o)==128&&(192&s)==128&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}u===null?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n=``,r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT===void 0?function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42&&typeof e.subarray==`function`&&e.subarray(1,1).byteLength===0}catch{return!1}}():e.TYPED_ARRAY_SUPPORT,t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<`u`&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0||n===void 0?s(e,t):typeof r==`string`?s(e,t).fill(n,r):s(e,t).fill(n)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(e==null||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw TypeError(`Arguments must be Buffers`);if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case`hex`:case`utf8`:case`utf-8`:case`ascii`:case`latin1`:case`binary`:case`base64`:case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw TypeError(`"list" argument must be an Array of Buffers`);if(e.length===0)return c.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw TypeError(`"list" argument must be an Array of Buffers`);o.copy(r,i),i+=o.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError(`Buffer size must be a multiple of 16-bits`);for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError(`Buffer size must be a multiple of 32-bits`);for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError(`Buffer size must be a multiple of 64-bits`);for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return e===0?``:arguments.length===0?E(this,0,e):h.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw TypeError(`Argument must be a Buffer`);return this===e||c.compare(this,e)===0},c.prototype.inspect=function(){var e=``,n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(`hex`,0,n).match(/.{2}/g).join(` `),this.length>n&&(e+=` ... `)),`<Buffer `+e+`>`},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw TypeError(`Argument must be a Buffer`);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError(`out of range index`);if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){a=l[d],o=u[d];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},c.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(t===void 0)r=`utf8`,n=this.length,t=0;else if(n===void 0&&typeof t==`string`)r=t,n=this.length,t=0;else{if(!isFinite(t))throw Error(`Buffer.write(string, encoding, offset[, length]) is no longer supported`);t|=0,isFinite(n)?(n|=0,r===void 0&&(r=`utf8`)):(r=n,n=void 0)}var i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError(`Attempt to write outside buffer bounds`);r||=`utf8`;for(var a=!1;;)switch(r){case`hex`:return y(this,e,t,n);case`utf8`:case`utf-8`:return b(this,e,t,n);case`ascii`:return x(this,e,t,n);case`latin1`:case`binary`:return S(this,e,t,n);case`base64`:return C(this,e,t,n);case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return w(this,e,t,n);default:if(a)throw TypeError(`Unknown encoding: `+r);r=(``+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:`Buffer`,data:Array.prototype.slice.call(this._arr||this,0)}};function D(e,t,n){var r=``;n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r=``;n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i=``,a=t;a<n;++a)i+=P(e[a]);return i}function A(e,t,n){for(var r=e.slice(t,n),i=``,a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function j(e,t,n){if(e%1!=0||e<0)throw RangeError(`offset is not uint`);if(e+t>n)throw RangeError(`Trying to access beyond buffer length`)}function M(e,t,n,r,i,a){if(!c.isBuffer(e))throw TypeError(`"buffer" argument must be a Buffer instance`);if(t>i||t<a)throw RangeError(`"value" argument is out of bounds`);if(n+r>e.length)throw RangeError(`Index out of range`)}function ee(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function te(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,a){if(n+r>e.length||n<0)throw RangeError(`Index out of range`)}function ne(e,t,n,r,a){return a||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function re(e,t,n,r,a){return a||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=2**(8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=2**(8*t)),a},c.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,2**(8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,2**(8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ee(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ee(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):te(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):te(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=2**(8*n-1);M(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&s===0&&this[t+a-1]!==0&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=2**(8*n-1);M(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&s===0&&this[t+a+1]!==0&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ee(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ee(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):te(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):te(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return ne(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return ne(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return re(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return re(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||=0,r||r===0||(r=this.length),t>=e.length&&(t=e.length),t||=0,r>0&&r<n&&(r=n),r===n||e.length===0||this.length===0)return 0;if(t<0)throw RangeError(`targetStart out of bounds`);if(n<0||n>=this.length)throw RangeError(`sourceStart out of bounds`);if(r<0)throw RangeError(`sourceEnd out of bounds`);r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,r){if(typeof e==`string`){if(typeof t==`string`?(r=t,t=0,n=this.length):typeof n==`string`&&(r=n,n=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}if(r!==void 0&&typeof r!=`string`)throw TypeError(`encoding must be a string`);if(typeof r==`string`&&!c.isEncoding(r))throw TypeError(`Unknown encoding: `+r)}else typeof e==`number`&&(e&=255);if(t<0||this.length<t||this.length<n)throw RangeError(`Out of range index`);if(n<=t)return this;var a;if(t>>>=0,n=n===void 0?this.length:n>>>0,e||=0,typeof e==`number`)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:ae(new c(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var ie=/[^+\/0-9A-Za-z-_]/g;function P(e){return e<16?`0`+e.toString(16):e.toString(16)}function ae(e,t){var n;t||=1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if(--t<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw Error(`Invalid code point`);if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function oe(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,``)}(e).replace(ie,``)).length<2)return``;for(;e.length%4!=0;)e+=`=`;return e}(e))}function se(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(78))},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.isASCIIByte=function(e){return e>=0&&e<=127}},function(e,t,n){var r=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,`__esModule`,{value:!0}),t.length=function(e){return e.length},t.byteLowercase=function(e){for(var t=0;t<e.length;t++){var n=e[t];n>=65&&n<=90&&(e[t]=n+32)}},t.byteUppercase=function(e){for(var t=0;t<e.length;t++){var n=e[t];n>=97&&n<=122&&(e[t]=n-32)}},t.byteCaseInsensitiveMatch=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r>=65&&r<=90&&(r+=32),i>=65&&i<=90&&(i+=32),r!==i)return!1}return!0},t.startsWith=function(e,t){for(var n=0;;){if(n>=e.length)return!1;if(n>=t.length)return!0;if(e[n]!==t[n])return!1;n++}},t.byteLessThan=function(e,t){for(var n=0;;){if(n>=e.length)return!1;if(n>=t.length)return!0;var r=e[n],i=t[n];if(r<i)return!0;if(r>i)return!1;n++}},t.isomorphicDecode=function(e){return String.fromCodePoint.apply(String,i(e))}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(6),i=n(7),a=n(0),o=n(12),s=function(){function e(e){this._associatedDocument=e||r.dom.window.document}return e.prototype.createDocumentType=function(e,t,n){return a.namespace_validate(e),a.create_documentType(this._associatedDocument,e,t,n)},e.prototype.createDocument=function(e,t,n){n===void 0&&(n=null);var r=a.create_xmlDocument(),o=null;return t&&(o=a.document_internalCreateElementNS(r,e,t)),n&&r.appendChild(n),o&&r.appendChild(o),r._origin=this._associatedDocument._origin,e===i.namespace.HTML?r._contentType=`application/xhtml+xml`:e===i.namespace.SVG?r._contentType=`image/svg+xml`:r._contentType=`application/xml`,r},e.prototype.createHTMLDocument=function(e){var t=a.create_document();t._type=`html`,t._contentType=`text/html`,t.appendChild(a.create_documentType(t,`html`,``,``));var n=a.element_createAnElement(t,`html`,i.namespace.HTML);t.appendChild(n);var r=a.element_createAnElement(t,`head`,i.namespace.HTML);if(n.appendChild(r),e!==void 0){var o=a.element_createAnElement(t,`title`,i.namespace.HTML);r.appendChild(o);var s=a.create_text(t,e);o.appendChild(s)}var c=a.element_createAnElement(t,`body`,i.namespace.HTML);return n.appendChild(c),t._origin=this._associatedDocument._origin,t},e.prototype.hasFeature=function(){return!0},e._create=function(t){return new e(t)},e}();t.DOMImplementationImpl=s,o.idl_defineConst(s.prototype,`_ID`,`@oozcitak/dom`)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(70),o=n(1),s=n(0);t.WindowImpl=function(e){function t(){var t=e.call(this)||this;return t._signalSlots=new Set,t._mutationObserverMicrotaskQueued=!1,t._mutationObservers=new Set,t._iteratorList=new o.FixedSizeSet,t._associatedDocument=s.create_document(),t}return i(t,e),Object.defineProperty(t.prototype,`document`,{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`event`,{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),t._create=function(){return new t},t}(a.EventTargetImpl)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2);t.Guard=function(){function e(){}return e.isNode=function(e){return!!e&&e._nodeType!==void 0},e.isDocumentNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Document},e.isDocumentTypeNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.DocumentType},e.isDocumentFragmentNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.DocumentFragment},e.isAttrNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Attribute},e.isCharacterDataNode=function(t){if(!e.isNode(t))return!1;var n=t._nodeType;return n===r.NodeType.Text||n===r.NodeType.ProcessingInstruction||n===r.NodeType.Comment||n===r.NodeType.CData},e.isTextNode=function(t){return e.isNode(t)&&(t._nodeType===r.NodeType.Text||t._nodeType===r.NodeType.CData)},e.isExclusiveTextNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Text},e.isCDATASectionNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.CData},e.isCommentNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Comment},e.isProcessingInstructionNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.ProcessingInstruction},e.isElementNode=function(t){return e.isNode(t)&&t._nodeType===r.NodeType.Element},e.isCustomElementNode=function(t){return e.isElementNode(t)&&t._customElementState===`custom`},e.isShadowRoot=function(e){return!!e&&e.host!==void 0},e.isMouseEvent=function(e){return!!e&&e.screenX!==void 0&&e.screenY!=null},e.isSlotable=function(t){return!!t&&t._name!==void 0&&t._assignedSlot!==void 0&&(e.isTextNode(t)||e.isElementNode(t))},e.isSlot=function(t){return!!t&&t._name!==void 0&&t._assignedNodes!==void 0&&e.isElementNode(t)},e.isWindow=function(e){return!!e&&e.navigator!==void 0},e.isEventListener=function(e){return!!e&&e.handleEvent!==void 0},e.isRegisteredObserver=function(e){return!!e&&e.observer!==void 0&&e.options!==void 0},e.isTransientRegisteredObserver=function(t){return!!t&&t.source!==void 0&&e.isRegisteredObserver(t)},e}()},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0}),t.XMLDocumentImpl=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n(98).DocumentImpl)},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},i=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,`__esModule`,{value:!0});var a,o=n(1),s=n(243),c=n(7),l=n(244),u={ftp:21,file:null,http:80,https:443,ws:80,wss:443},d=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,f=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,p=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,h=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,g=/[\0\t\f\r #%/:?@\[\\\]]/;function _(e){a!==void 0&&a.call(null,`Validation Error: `+e)}function v(){return{scheme:``,username:``,password:``,host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function y(e){return e in u}function b(e){return y(e.scheme)}function x(e){return u[e]||null}function S(e){return e.username!==``||e.password!==``}function C(e,t){var n,i;t===void 0&&(t=!1);var a=e.scheme+`:`;if(e.host===null?e.host===null&&e.scheme===`file`&&(a+=`//`):(a+=`//`,S(e)&&(a+=e.username,e.password!==``&&(a+=`:`+e.password),a+=`@`),a+=w(e.host),e.port!==null&&(a+=`:`+e.port)),e._cannotBeABaseURLFlag)a+=e.path[0];else try{for(var o=r(e.path),s=o.next();!s.done;s=o.next())a+=`/`+s.value}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e.query!==null&&(a+=`?`+e.query),t||e.fragment===null||(a+=`#`+e.fragment),a}function w(e){return o.isNumber(e)?T(e):o.isArray(e)?`[`+E(e)+`]`:e}function T(e){for(var t=``,n=e,r=1;r<=4;r++)t=(n%256).toString()+t,r!==4&&(t=`.`+t),n=Math.floor(n/256);return t}function E(e){for(var t=``,n=null,r=-1,i=0,a=0,o=0;o<8;o++)if(e[o]===0){i=1;for(var s=o+1;s<8&&e[s]===0;s++)i++;i>a&&(a=i,r=o)}a>1&&(n=r);for(var c=!1,l=0;l<8;l++)c&&e[l]===0||(c&&=!1,n===l?(t+=l===0?`::`:`:`,c=!0):(t+=e[l].toString(16),l!==7&&(t+=`:`)));return t}function D(e,t,n,i,a){var l,u,g,v;if(i===void 0){i={scheme:``,username:``,password:``,host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var C=/^[\u0000-\u001F\u0020]+/,w=/[\u0000-\u001F\u0020]+$/;(C.test(e)||w.test(e))&&_(`Input string contains leading or trailing control characters or space.`),e=(e=e.replace(C,``)).replace(w,``)}var T=/[\u0009\u000A\u000D]/g;T.test(e)&&_(`Input string contains tab or newline characters.`),e=e.replace(T,``);var E=a===void 0?s.ParserState.SchemeStart:a;t===void 0&&(t=null);for(var D=n===void 0||n===`replacement`||n===`UTF-16BE`||n===`UTF-16LE`?`UTF-8`:n,N=``,ne=!1,re=!1,ie=!1,P=new o.StringWalker(e);;){switch(E){case s.ParserState.SchemeStart:if(c.codePoint.ASCIIAlpha.test(P.c()))N+=P.c().toLowerCase(),E=s.ParserState.Scheme;else{if(a!==void 0)return _(`Invalid scheme start character.`),null;E=s.ParserState.NoScheme,P.pointer--}break;case s.ParserState.Scheme:if(c.codePoint.ASCIIAlphanumeric.test(P.c())||P.c()===`+`||P.c()===`-`||P.c()===`.`)N+=P.c().toLowerCase();else{if(P.c()!==`:`){if(a===void 0){N=``,E=s.ParserState.NoScheme,P.pointer=0;continue}return _(`Invalid input string.`),null}if(a!==void 0&&(y(i.scheme)&&!y(N)||!y(i.scheme)&&y(N)||(S(i)||i.port!==null)&&N===`file`||i.scheme===`file`&&(i.host===``||i.host===null)))return i;if(i.scheme=N,a!==void 0)return i.port===x(i.scheme)&&(i.port=null),i;N=``,i.scheme===`file`?(P.remaining().startsWith(`//`)||_(`Invalid file URL scheme, '//' expected.`),E=s.ParserState.File):b(i)&&t!==null&&t.scheme===i.scheme?E=s.ParserState.SpecialRelativeOrAuthority:b(i)?E=s.ParserState.SpecialAuthoritySlashes:P.remaining().startsWith(`/`)?(E=s.ParserState.PathOrAuthority,P.pointer++):(i._cannotBeABaseURLFlag=!0,i.path.push(``),E=s.ParserState.CannotBeABaseURLPath)}break;case s.ParserState.NoScheme:if(t===null||t._cannotBeABaseURLFlag&&P.c()!==`#`)return _(`Invalid input string.`),null;t._cannotBeABaseURLFlag&&P.c()===`#`?(i.scheme=t.scheme,i.path=c.list.clone(t.path),i.query=t.query,i.fragment=``,i._cannotBeABaseURLFlag=!0,E=s.ParserState.Fragment):t.scheme===`file`?(E=s.ParserState.File,P.pointer--):(E=s.ParserState.Relative,P.pointer--);break;case s.ParserState.SpecialRelativeOrAuthority:P.c()===`/`&&P.remaining().startsWith(`/`)?(E=s.ParserState.SpecialAuthorityIgnoreSlashes,P.pointer++):(_(`Invalid input string.`),E=s.ParserState.Relative,P.pointer--);break;case s.ParserState.PathOrAuthority:P.c()===`/`?E=s.ParserState.Authority:(E=s.ParserState.Path,P.pointer--);break;case s.ParserState.Relative:if(t===null)throw Error(`Invalid parser state. Base URL is null.`);switch(i.scheme=t.scheme,P.c()){case``:i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=c.list.clone(t.path),i.query=t.query;break;case`/`:E=s.ParserState.RelativeSlash;break;case`?`:i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=c.list.clone(t.path),i.query=``,E=s.ParserState.Query;break;case`#`:i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=c.list.clone(t.path),i.query=t.query,i.fragment=``,E=s.ParserState.Fragment;break;default:b(i)&&P.c()===`\\`?(_(`Invalid input string.`),E=s.ParserState.RelativeSlash):(i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,i.path=c.list.clone(t.path),i.path.length!==0&&i.path.splice(i.path.length-1,1),E=s.ParserState.Path,P.pointer--)}break;case s.ParserState.RelativeSlash:if(!b(i)||P.c()!==`/`&&P.c()!==`\\`)if(P.c()===`/`)E=s.ParserState.Authority;else{if(t===null)throw Error(`Invalid parser state. Base URL is null.`);i.username=t.username,i.password=t.password,i.host=t.host,i.port=t.port,E=s.ParserState.Path,P.pointer--}else P.c()===`\\`&&_(`Invalid input string.`),E=s.ParserState.SpecialAuthorityIgnoreSlashes;break;case s.ParserState.SpecialAuthoritySlashes:P.c()===`/`&&P.remaining().startsWith(`/`)?(E=s.ParserState.SpecialAuthorityIgnoreSlashes,P.pointer++):(_(`Expected '//'.`),E=s.ParserState.SpecialAuthorityIgnoreSlashes,P.pointer--);break;case s.ParserState.SpecialAuthorityIgnoreSlashes:P.c()!==`/`&&P.c()!==`\\`?(E=s.ParserState.Authority,P.pointer--):_(`Unexpected '/' or '\\'.`);break;case s.ParserState.Authority:if(P.c()===`@`){_(`Unexpected '@'.`),ne&&(N=`%40`+N),ne=!0;try{for(var oe=(l=void 0,r(N)),se=oe.next();!se.done;se=oe.next()){var le=se.value;if(le!==`:`||ie){var ue=ce(le,m);ie?i.password+=ue:i.username+=ue}else ie=!0}}catch(e){l={error:e}}finally{try{se&&!se.done&&(u=oe.return)&&u.call(oe)}finally{if(l)throw l.error}}N=``}else if(P.c()===``||P.c()===`/`||P.c()===`?`||P.c()===`#`||b(i)&&P.c()===`\\`){if(ne&&N===``)return _(`Invalid input string.`),null;P.pointer-=N.length+1,N=``,E=s.ParserState.Host}else N+=P.c();break;case s.ParserState.Host:case s.ParserState.Hostname:if(a!==void 0&&i.scheme===`file`)P.pointer--,E=s.ParserState.FileHost;else if(P.c()!==`:`||re)if(P.c()===``||P.c()===`/`||P.c()===`?`||P.c()===`#`||b(i)&&P.c()===`\\`){if(P.pointer--,b(i)&&N===``)return _(`Invalid input string.`),null;if(a!==void 0&&N===``&&(S(i)||i.port!==null))return _(`Invalid input string.`),i;if((fe=te(N,!b(i)))===null)return null;if(i.host=fe,N=``,E=s.ParserState.PathStart,a!==void 0)return i}else P.c()===`[`&&(re=!0),P.c()===`]`&&(re=!1),N+=P.c();else{if(N===``)return _(`Invalid input string.`),null;if((fe=te(N,!b(i)))===null)return null;if(i.host=fe,N=``,E=s.ParserState.Port,a===s.ParserState.Hostname)return i}break;case s.ParserState.Port:if(c.codePoint.ASCIIDigit.test(P.c()))N+=P.c();else{if(!(P.c()===``||P.c()===`/`||P.c()===`?`||P.c()===`#`||b(i)&&P.c()===`\\`||a))return _(`Invalid input string.`),null;if(N!==``&&N!==``){var de=parseInt(N,10);if(de>2**16-1)return _(`Invalid port number.`),null;i.port=de===x(i.scheme)?null:de,N=``}if(a!==void 0)return i;E=s.ParserState.PathStart,P.pointer--}break;case s.ParserState.File:if(i.scheme=`file`,P.c()===`/`||P.c()===`\\`)P.c()===`\\`&&_(`Invalid input string.`),E=s.ParserState.FileSlash;else if(t!==null&&t.scheme===`file`)switch(P.c()){case``:i.host=t.host,i.path=c.list.clone(t.path),i.query=t.query;break;case`?`:i.host=t.host,i.path=c.list.clone(t.path),i.query=``,E=s.ParserState.Query;break;case`#`:i.host=t.host,i.path=c.list.clone(t.path),i.query=t.query,i.fragment=``,E=s.ParserState.Fragment;break;default:ee(P.substring())?_(`Unexpected windows drive letter in input string.`):(i.host=t.host,i.path=c.list.clone(t.path),A(i)),E=s.ParserState.Path,P.pointer--}else E=s.ParserState.Path,P.pointer--;break;case s.ParserState.FileSlash:P.c()===`/`||P.c()===`\\`?(P.c()===`\\`&&_(`Invalid input string.`),E=s.ParserState.FileHost):(t===null||t.scheme!==`file`||ee(P.substring())||(j(t.path[0])?i.path.push(t.path[0]):i.host=t.host),E=s.ParserState.Path,P.pointer--);break;case s.ParserState.FileHost:if(P.c()===``||P.c()===`/`||P.c()===`\\`||P.c()===`?`||P.c()===`#`)if(P.pointer--,a===void 0&&M(N))_(`Unexpected windows drive letter in input string.`),E=s.ParserState.Path;else if(N===``){if(i.host=``,a!==void 0)return i;E=s.ParserState.PathStart}else{var fe;if((fe=te(N,!b(i)))===null)return null;if(fe===`localhost`&&(fe=``),i.host=fe,a!==void 0)return i;N=``,E=s.ParserState.PathStart}else N+=P.c();break;case s.ParserState.PathStart:b(i)?(P.c()===`\\`&&_(`Invalid input string.`),E=s.ParserState.Path,P.c()!==`/`&&P.c()!==`\\`&&P.pointer--):a===void 0&&P.c()===`?`?(i.query=``,E=s.ParserState.Query):a===void 0&&P.c()===`#`?(i.fragment=``,E=s.ParserState.Fragment):P.c()!==``&&(E=s.ParserState.Path,P.c()!==`/`&&P.pointer--);break;case s.ParserState.Path:if(P.c()===``||P.c()===`/`||b(i)&&P.c()===`\\`||a===void 0&&(P.c()===`?`||P.c()===`#`)){if(b(i)&&P.c()===`\\`&&_(`Invalid input string.`),k(N))A(i),P.c()===`/`||b(i)&&P.c()===`\\`||i.path.push(``);else if(!O(N)||P.c()===`/`||b(i)&&P.c()===`\\`){if(!O(N)){if(i.scheme===`file`&&i.path.length===0&&M(N)){i.host!==null&&i.host!==``&&(_(`Invalid input string.`),i.host=``);var pe=Array.from(N);N=pe.slice(0,1)+`:`+pe.slice(2)}i.path.push(N)}}else i.path.push(``);if(N=``,i.scheme===`file`&&(P.c()===``||P.c()===`?`||P.c()===`#`))for(;i.path.length>1&&i.path[0]===``;)_(`Invalid input string.`),i.path.splice(0,1);P.c()===`?`&&(i.query=``,E=s.ParserState.Query),P.c()===`#`&&(i.fragment=``,E=s.ParserState.Fragment)}else h.test(P.c())||P.c()===`%`||_(`Character is not a URL code point or a percent encoded character.`),P.c()!==`%`||/^[0-9a-fA-F][0-9a-fA-F]/.test(P.remaining())||_(`Percent encoded character must be followed by two hex digits.`),N+=ce(P.c(),p);break;case s.ParserState.CannotBeABaseURLPath:P.c()===`?`?(i.query=``,E=s.ParserState.Query):P.c()===`#`?(i.fragment=``,E=s.ParserState.Fragment):(P.c()===``||h.test(P.c())||P.c()===`%`||_(`Character is not a URL code point or a percent encoded character.`),P.c()!==`%`||/^[0-9a-fA-F][0-9a-fA-F]/.test(P.remaining())||_(`Percent encoded character must be followed by two hex digits.`),P.c()!==``&&(i.path[0]+=ce(P.c(),d)));break;case s.ParserState.Query:if(D===`UTF-8`||b(i)&&i.scheme!==`ws`&&i.scheme!==`wss`||(D=`UTF-8`),a===void 0&&P.c()===`#`)i.fragment=``,E=s.ParserState.Fragment;else if(P.c()!==``){if(h.test(P.c())||P.c()===`%`||_(`Character is not a URL code point or a percent encoded character.`),P.c()!==`%`||/^[0-9a-fA-F][0-9a-fA-F]/.test(P.remaining())||_(`Percent encoded character must be followed by two hex digits.`),D.toUpperCase()!==`UTF-8`)throw Error(`Only UTF-8 encoding is supported.`);var me=o.utf8Encode(P.c());if(me.length>=3&&me[0]===38&&me[1]===35&&me[me.length-1]===59)me=me.subarray(2,me.length-1),i.query+=`%26%23`+c.byteSequence.isomorphicDecode(me)+`%3B`;else try{for(var he=(g=void 0,r(me)),ge=he.next();!ge.done;ge=he.next()){var _e=ge.value;_e<33||_e>126||_e===34||_e===35||_e===60||_e===62||_e===39&&b(i)?i.query+=ae(_e):i.query+=String.fromCharCode(_e)}}catch(e){g={error:e}}finally{try{ge&&!ge.done&&(v=he.return)&&v.call(he)}finally{if(g)throw g.error}}}break;case s.ParserState.Fragment:P.c()===``||(P.c()===`\0`?_(`NULL character in input string.`):(h.test(P.c())||P.c()===`%`||_(`Unexpected character in fragment string.`),P.c()!==`%`||/^[A-Za-z0-9][A-Za-z0-9]/.test(P.remaining())||_(`Unexpected character in fragment string.`),i.fragment+=ce(P.c(),f)))}if(P.eof)break;P.pointer++}return i}function O(e){return e===`.`||e.toLowerCase()===`%2e`}function k(e){var t=e.toLowerCase();return t===`..`||t===`.%2e`||t===`%2e.`||t===`%2e%2e`}function A(e){var t=e.path;t.length!==0&&(e.scheme===`file`&&t.length===1&&j(t[0])||e.path.splice(e.path.length-1,1))}function j(e){return e.length>=2&&c.codePoint.ASCIIAlpha.test(e[0])&&e[1]===`:`}function M(e){return e.length>=2&&c.codePoint.ASCIIAlpha.test(e[0])&&(e[1]===`:`||e[1]===`|`)}function ee(e){return e.length>=2&&M(e)&&(e.length===2||e[2]===`/`||e[2]===`\\`||e[2]===`?`||e[2]===`#`)}function te(e,t){if(t===void 0&&(t=!1),e.startsWith(`[`))return e.endsWith(`]`)?re(e.substring(1,e.length-1)):(_(`Expected ']' after '['.`),null);if(t)return ie(e);var n=de(o.utf8Decode(se(e)));if(n===null||g.test(n))return _(`Invalid domain.`),null;var r=ne(n);return r===null||o.isNumber(r)?r:n}function N(e,t){t===void 0&&(t={value:!1});var n=10;return e.startsWith(`0x`)||e.startsWith(`0X`)?(t.value=!0,e=e.substr(2),n=16):e.length>=2&&e[0]===`0`&&(t.value=!0,e=e.substr(1),n=8),e===``?0:(n===10?/^[0-9]+$/:n===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(e)?parseInt(e,n):null}function ne(e){var t,n,i,a,o={value:!1},s=e.split(`.`);if(s[s.length-1]===``&&(o.value=!0,s.length>1&&s.pop()),s.length>4)return e;var c=[];try{for(var l=r(s),u=l.next();!u.done;u=l.next()){var d=u.value;if(d===``||(v=N(d,o))===null)return e;c.push(v)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}o.value&&_(`Invalid IP v4 address.`);for(var f=0;f<c.length;f++)if(c[f]>255&&(_(`Invalid IP v4 address.`),f<c.length-1))return null;if(c[c.length-1]>=256**(5-c.length))return _(`Invalid IP v4 address.`),null;var p=c[c.length-1];c.pop();var m=0;try{for(var h=r(c),g=h.next();!g.done;g=h.next()){var v;p+=(v=g.value)*256**(3-m),m++}}catch(e){i={error:e}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return p}function re(e){var t,n=[0,0,0,0,0,0,0,0],r=0,a=null,s=new o.StringWalker(e);if(s.c()===`:`){if(!s.remaining().startsWith(`:`))return _(`Invalid IP v6 address.`),null;s.pointer+=2,a=r+=1}for(;s.c()!==``;){if(r===8)return _(`Invalid IP v6 address.`),null;if(s.c()!==`:`){for(var l=0,u=0;u<4&&c.codePoint.ASCIIHexDigit.test(s.c());)l=16*l+parseInt(s.c(),16),s.pointer++,u++;if(s.c()===`.`){if(u===0||(s.pointer-=u,r>6))return _(`Invalid IP v6 address.`),null;for(var d=0;s.c()!==``;){var f=null;if(d>0){if(!(s.c()===`.`&&d<4))return _(`Invalid IP v6 address.`),null;s.pointer++}if(!c.codePoint.ASCIIDigit.test(s.c()))return _(`Invalid IP v6 address.`),null;for(;c.codePoint.ASCIIDigit.test(s.c());){var p=parseInt(s.c(),10);if(f===null)f=p;else{if(f===0)return _(`Invalid IP v6 address.`),null;f=10*f+p}if(f>255)return _(`Invalid IP v6 address.`),null;s.pointer++}if(f===null)return _(`Invalid IP v6 address.`),null;n[r]=256*n[r]+f,++d!==2&&d!==4||r++}if(d!==4)return _(`Invalid IP v6 address.`),null;break}if(s.c()===`:`){if(s.pointer++,s.c()===``)return _(`Invalid IP v6 address.`),null}else if(s.c()!==``)return _(`Invalid IP v6 address.`),null;n[r]=l,r++}else{if(a!==null)return _(`Invalid IP v6 address.`),null;s.pointer++,a=++r}}if(a!==null){var m=r-a;for(r=7;r!==0&&m>0;)t=i([n[a+m-1],n[r]],2),n[r]=t[0],n[a+m-1]=t[1],r--,m--}else if(a===null&&r!==8)return _(`Invalid IP v6 address.`),null;return n}function ie(e){var t,n;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(e))return _(`Invalid host string.`),null;var i=``;try{for(var a=r(e),o=a.next();!o.done;o=a.next())i+=ce(o.value,d)}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}function P(e){return null}function ae(e){return`%`+(`00`+e.toString(16).toUpperCase()).slice(-2)}function oe(e){for(var t=function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},n=new Uint8Array(e.length),r=0,i=0;i<e.length;i++){var a=e[i];a===37?a===37&&i>=e.length-2?(n[r]=a,r++):a!==37||t(e[i+1])&&t(e[i+2])?(n[r]=parseInt(o.utf8Decode(Uint8Array.of(e[i+1],e[i+2])),16),r++,i+=2):(n[r]=a,r++):(n[r]=a,r++)}return n.subarray(0,r)}function se(e){return oe(o.utf8Encode(e))}function ce(e,t){var n,i;if(!t.test(e))return e;var a=o.utf8Encode(e),s=``;try{for(var c=r(a),l=c.next();!l.done;l=c.next())s+=ae(l.value)}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return s}function le(e){var t,n,i,a,s=[],c=[];try{for(var l=r(e),u=l.next();!u.done;u=l.next()){var d=u.value;d===38?(s.push(Uint8Array.from(c)),c=[]):c.push(d)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}c.length!==0&&s.push(Uint8Array.from(c));var f=[];try{for(var p=r(s),m=p.next();!m.done;m=p.next()){var h=m.value;if(h.length!==0){for(var g=h.indexOf(61),_=g===-1?h:h.slice(0,g),v=g===-1?new Uint8Array:h.slice(g+1),y=0;y<_.length;y++)_[y]===43&&(_[y]=32);for(y=0;y<v.length;y++)v[y]===43&&(v[y]=32);var b=o.utf8Decode(_),x=o.utf8Decode(v);f.push([b,x])}}}catch(e){i={error:e}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return f}function ue(e){var t,n,i=``;try{for(var a=r(e),o=a.next();!o.done;o=a.next()){var s=o.value;i+=s===32?`+`:s===42||s===45||s===46||s>=48&&s<=57||s>=65&&s<=90||s===95||s>=97&&s<=122?String.fromCodePoint(s):ae(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}function de(e,t){t===void 0&&(t=!1);var n=l.domainToASCII(e);return n===``?(_(`Invalid domain name.`),null):n}t.setValidationErrorCallback=function(e){a=e},t.newURL=v,t.isSpecialScheme=y,t.isSpecial=b,t.defaultPort=x,t.includesCredentials=S,t.cannotHaveAUsernamePasswordPort=function(e){return e.host===null||e.host===``||e._cannotBeABaseURLFlag||e.scheme===`file`},t.urlSerializer=C,t.hostSerializer=w,t.iPv4Serializer=T,t.iPv6Serializer=E,t.urlParser=function(e,t,n){var r=D(e,t,n);return r===null?null:(r.scheme!==`blob`||(r._blobURLEntry=null),r)},t.basicURLParser=D,t.setTheUsername=function(e,t){var n,i,a=``;try{for(var o=r(t),s=o.next();!s.done;s=o.next())a+=ce(s.value,m)}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.username=a},t.setThePassword=function(e,t){var n,i,a=``;try{for(var o=r(t),s=o.next();!s.done;s=o.next())a+=ce(s.value,m)}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.password=a},t.isSingleDotPathSegment=O,t.isDoubleDotPathSegment=k,t.shorten=A,t.isNormalizedWindowsDriveLetter=j,t.isWindowsDriveLetter=M,t.startsWithAWindowsDriveLetter=ee,t.hostParser=te,t.iPv4NumberParser=N,t.iPv4Parser=ne,t.iPv6Parser=re,t.opaqueHostParser=ie,t.resolveABlobURL=P,t.percentEncode=ae,t.percentDecode=oe,t.stringPercentDecode=se,t.utf8PercentEncode=ce,t.hostEquals=function(e,t){return e===t},t.urlEquals=function(e,t,n){return n===void 0&&(n=!1),C(e,n)===C(t,n)},t.urlEncodedStringParser=function(e){return le(o.utf8Encode(e))},t.urlEncodedParser=le,t.urlEncodedByteSerializer=ue,t.urlEncodedSerializer=function(e,t){var n,i;if((t===void 0||t===`replacement`||t===`UTF-16BE`||t===`UTF-16LE`?`UTF-8`:t).toUpperCase()!==`UTF-8`)throw Error(`Only UTF-8 encoding is supported.`);var a=``;try{for(var s=r(e),c=s.next();!c.done;c=s.next()){var l=c.value,u=ue(o.utf8Encode(l[0])),d=l[1];d=ue(o.utf8Encode(d)),a!==``&&(a+=`&`),a+=u+`=`+d}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a},t.origin=function e(t){switch(t.scheme){case`blob`:t._blobURLEntry;var n=D(t.path[0]);return n===null?s.OpaqueOrigin:e(n);case`ftp`:case`http`:case`https`:case`ws`:case`wss`:return[t.scheme,t.host===null?``:t.host,t.port,null];case`file`:default:return s.OpaqueOrigin}},t.domainToASCII=de,t.domainToUnicode=function(e,t){t===void 0&&(t=!1);var n=l.domainToUnicode(e);return n===``&&_(`Invalid domain name.`),n},t.asciiSerializationOfAnOrigin=function(e){if(e[0]===``&&e[1]===``&&e[2]===null&&e[3]===null)return`null`;var t=e[0]+`://`+w(e[1]);return e[2]!==null&&(t+=`:`+e[2].toString()),t}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(0);t.AbortControllerImpl=function(){function e(){this._signal=r.create_abortSignal()}return Object.defineProperty(e.prototype,`signal`,{get:function(){return this._signal},enumerable:!0,configurable:!0}),e.prototype.abort=function(){r.abort_signalAbort(this._signal)},e}()},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(70),o=n(0);t.AbortSignalImpl=function(e){function t(){var t=e.call(this)||this;return t._abortedFlag=!1,t._abortAlgorithms=new Set,t}return i(t,e),Object.defineProperty(t.prototype,`aborted`,{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`onabort`,{get:function(){return o.event_getterEventHandlerIDLAttribute(this,`onabort`)},set:function(e){o.event_setterEventHandlerIDLAttribute(this,`onabort`,e)},enumerable:!0,configurable:!0}),t._create=function(){return new t},t}(a.EventTargetImpl)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(2),o=n(34),s=n(12),c=function(e){function t(t,n,r){var i=e.call(this)||this;return i._name=``,i._publicId=``,i._systemId=``,i._name=t,i._publicId=n,i._systemId=r,i}return i(t,e),Object.defineProperty(t.prototype,`name`,{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`publicId`,{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`systemId`,{get:function(){return this._systemId},enumerable:!0,configurable:!0}),t.prototype.before=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.after=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.replaceWith=function(){throw Error(`Mixin: ChildNode not implemented.`)},t.prototype.remove=function(){throw Error(`Mixin: ChildNode not implemented.`)},t._create=function(e,n,r,i){r===void 0&&(r=``),i===void 0&&(i=``);var a=new t(n,r,i);return a._nodeDocument=e,a},t}(o.NodeImpl);t.DocumentTypeImpl=c,s.idl_defineConst(c.prototype,`_nodeType`,a.NodeType.DocumentType)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(100),o=n(1),s=n(0);t.ShadowRootImpl=function(e){function t(t,n){var r=e.call(this)||this;return r._host=t,r._mode=n,r}return i(t,e),Object.defineProperty(t.prototype,`mode`,{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`host`,{get:function(){return this._host},enumerable:!0,configurable:!0}),t.prototype._getTheParent=function(e){return e._composedFlag||o.isEmpty(e._path)||s.tree_rootNode(e._path[0].invocationTarget)!==this?this._host:null},t._create=function(e,n){return new t(n,`closed`)},t}(a.DocumentFragmentImpl)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(2),o=n(34),s=n(0),c=n(12),l=function(e){function t(t){var n=e.call(this)||this;return n._namespace=null,n._namespacePrefix=null,n._element=null,n._value=``,n._localName=t,n}return i(t,e),Object.defineProperty(t.prototype,`ownerElement`,{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`namespaceURI`,{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`prefix`,{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`localName`,{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`name`,{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`value`,{get:function(){return this._value},set:function(e){s.attr_setAnExistingAttributeValue(this,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`_qualifiedName`,{get:function(){return this._namespacePrefix===null?this._localName:this._namespacePrefix+`:`+this._localName},enumerable:!0,configurable:!0}),t._create=function(e,n){var r=new t(n);return r._nodeDocument=e,r},t}(o.NodeImpl);t.AttrImpl=l,c.idl_defineConst(l.prototype,`_nodeType`,a.NodeType.Attribute),c.idl_defineConst(l.prototype,`specified`,!0)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(101),o=n(2),s=n(12),c=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t._create=function(e,n){n===void 0&&(n=``);var r=new t(n);return r._nodeDocument=e,r},t}(a.TextImpl);t.CDATASectionImpl=c,s.idl_defineConst(c.prototype,`_nodeType`,o.NodeType.CData)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(2),o=n(71),s=n(12),c=function(e){function t(t){return t===void 0&&(t=``),e.call(this,t)||this}return i(t,e),t._create=function(e,n){n===void 0&&(n=``);var r=new t(n);return r._nodeDocument=e,r},t}(o.CharacterDataImpl);t.CommentImpl=c,s.idl_defineConst(c.prototype,`_nodeType`,a.NodeType.Comment)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(2),o=n(71),s=n(12),c=function(e){function t(t,n){var r=e.call(this,n)||this;return r._target=t,r}return i(t,e),Object.defineProperty(t.prototype,`target`,{get:function(){return this._target},enumerable:!0,configurable:!0}),t._create=function(e,n,r){var i=new t(n,r);return i._nodeDocument=e,i},t}(o.CharacterDataImpl);t.ProcessingInstructionImpl=c,s.idl_defineConst(c.prototype,`_nodeType`,a.NodeType.ProcessingInstruction)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(7),i=n(0),a=n(3),o=n(1);t.HTMLCollectionImpl=function(){function e(e,t){return this._live=!0,this._root=e,this._filter=t,new Proxy(this,this)}return Object.defineProperty(e.prototype,`length`,{get:function(){for(var e=this,t=0,n=i.tree_getFirstDescendantNode(this._root,!1,!1,(function(t){return a.Guard.isElementNode(t)&&e._filter(t)}));n!==null;)t++,n=i.tree_getNextDescendantNode(this._root,n,!1,!1,(function(t){return a.Guard.isElementNode(t)&&e._filter(t)}));return t},enumerable:!0,configurable:!0}),e.prototype.item=function(e){for(var t=this,n=0,r=i.tree_getFirstDescendantNode(this._root,!1,!1,(function(e){return a.Guard.isElementNode(e)&&t._filter(e)}));r!==null;){if(n===e)return r;n++,r=i.tree_getNextDescendantNode(this._root,r,!1,!1,(function(e){return a.Guard.isElementNode(e)&&t._filter(e)}))}return null},e.prototype.namedItem=function(e){var t=this;if(e===``)return null;for(var n=i.tree_getFirstDescendantNode(this._root,!1,!1,(function(e){return a.Guard.isElementNode(e)&&t._filter(e)}));n!=null;){if(n._uniqueIdentifier===e)return n;if(n._namespace===r.namespace.HTML)for(var o=0;o<n._attributeList.length;o++){var s=n._attributeList[o];if(s._localName===`name`&&s._namespace===null&&s._namespacePrefix===null&&s._value===e)return n}n=i.tree_getNextDescendantNode(this._root,n,!1,!1,(function(e){return a.Guard.isElementNode(e)&&t._filter(e)}))}return null},e.prototype[Symbol.iterator]=function(){var e=this._root,t=this._filter,n=i.tree_getFirstDescendantNode(e,!1,!1,(function(e){return a.Guard.isElementNode(e)&&t(e)}));return{next:function(){if(n===null)return{done:!0,value:null};var r={done:!1,value:n};return n=i.tree_getNextDescendantNode(e,n,!1,!1,(function(e){return a.Guard.isElementNode(e)&&t(e)})),r}}},e.prototype.get=function(t,n,r){if(!o.isString(n)||e.reservedNames.indexOf(n)!==-1)return Reflect.get(t,n,r);var i=Number(n);return isNaN(i)?t.namedItem(n)||void 0:t.item(i)||void 0},e.prototype.set=function(t,n,r,a){if(!o.isString(n)||e.reservedNames.indexOf(n)!==-1)return Reflect.set(t,n,r,a);var s=Number(n),c=isNaN(s)?t.namedItem(n)||void 0:t.item(s)||void 0;return!(!c||!c._parent)&&(i.mutation_replace(c,r,c._parent),!0)},e._create=function(t,n){return n===void 0&&(n=function(){return!0}),new e(t,n)},e.reservedNames=[`_root`,`_live`,`_filter`,`length`,`item`,`namedItem`,`get`,`set`],e}()},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(6),a=n(1),o=n(0);t.NodeListImpl=function(){function e(e){return this._live=!0,this._filter=null,this._length=0,this._root=e,new Proxy(this,this)}return Object.defineProperty(e.prototype,`length`,{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),e.prototype.item=function(e){if(e<0||e>this.length-1)return null;if(e<this.length/2){for(var t=0,n=this._root._firstChild;n!==null&&t!==e;)n=n._nextSibling,t++;return n}for(t=this.length-1,n=this._root._lastChild;n!==null&&t!==e;)n=n._previousSibling,t--;return n},e.prototype.keys=function(){var e;return(e={})[Symbol.iterator]=function(){var e=0;return{next:function(){return e===this.length?{done:!0,value:null}:{done:!1,value:e++}}.bind(this)}}.bind(this),e},e.prototype.values=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator]();return{next:function(){return e.next()}}}.bind(this),e},e.prototype.entries=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator](),t=0;return{next:function(){var n=e.next();return n.done?{done:!0,value:null}:{done:!1,value:[t++,n.value]}}}}.bind(this),e},e.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},e.prototype.forEach=function(e,t){var n,a;t===void 0&&(t=i.dom.window);var o=0;try{for(var s=r(this._root._children),c=s.next();!c.done;c=s.next()){var l=c.value;e.call(t,l,o++,this)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},e.prototype.get=function(e,t,n){if(!a.isString(t))return Reflect.get(e,t,n);var r=Number(t);return isNaN(r)?Reflect.get(e,t,n):e.item(r)||void 0},e.prototype.set=function(e,t,n,r){if(!a.isString(t))return Reflect.set(e,t,n,r);var i=Number(t);if(isNaN(i))return Reflect.set(e,t,n,r);var s=e.item(i)||void 0;return!!s&&!!s._parent&&(o.mutation_replace(s,n,s._parent),!0)},e._create=function(t){return new e(t)},e}()},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(6),a=n(1);t.NodeListStaticImpl=function(){function e(e){return this._live=!1,this._items=[],this._length=0,this._root=e,this._items=[],this._filter=function(e){return!0},new Proxy(this,this)}return Object.defineProperty(e.prototype,`length`,{get:function(){return this._items.length},enumerable:!0,configurable:!0}),e.prototype.item=function(e){return e<0||e>this.length-1?null:this._items[e]},e.prototype.keys=function(){var e;return(e={})[Symbol.iterator]=function(){var e=0;return{next:function(){return e===this.length?{done:!0,value:null}:{done:!1,value:e++}}.bind(this)}}.bind(this),e},e.prototype.values=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator]();return{next:function(){return e.next()}}}.bind(this),e},e.prototype.entries=function(){var e;return(e={})[Symbol.iterator]=function(){var e=this[Symbol.iterator](),t=0;return{next:function(){var n=e.next();return n.done?{done:!0,value:null}:{done:!1,value:[t++,n.value]}}}}.bind(this),e},e.prototype[Symbol.iterator]=function(){var e=this._items[Symbol.iterator]();return{next:function(){return e.next()}}},e.prototype.forEach=function(e,t){var n,a;t===void 0&&(t=i.dom.window);var o=0;try{for(var s=r(this._items),c=s.next();!c.done;c=s.next()){var l=c.value;e.call(t,l,o++,this)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},e.prototype.get=function(e,t,n){if(!a.isString(t))return Reflect.get(e,t,n);var r=Number(t);return isNaN(r)?Reflect.get(e,t,n):e._items[r]||void 0},e.prototype.set=function(e,t,n,r){if(!a.isString(t))return Reflect.set(e,t,n,r);var i=Number(t);return isNaN(i)?Reflect.set(e,t,n,r):i>=0&&i<e._items.length&&(e._items[i]=n,!0)},e._create=function(t,n){var r=new e(t);return r._items=n,r},e}()},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(9),o=n(0);t.NamedNodeMapImpl=function(e){function t(n){var r=e.call(this)||this;return r._element=n,Object.setPrototypeOf(r,t.prototype),r}return i(t,e),t.prototype._asArray=function(){return this},t.prototype.item=function(e){return this[e]||null},t.prototype.getNamedItem=function(e){return o.element_getAnAttributeByName(e,this._element)},t.prototype.getNamedItemNS=function(e,t){return o.element_getAnAttributeByNamespaceAndLocalName(e||``,t,this._element)},t.prototype.setNamedItem=function(e){return o.element_setAnAttribute(e,this._element)},t.prototype.setNamedItemNS=function(e){return o.element_setAnAttribute(e,this._element)},t.prototype.removeNamedItem=function(e){var t=o.element_removeAnAttributeByName(e,this._element);if(t===null)throw new a.NotFoundError;return t},t.prototype.removeNamedItemNS=function(e,t){var n=o.element_removeAnAttributeByNamespaceAndLocalName(e||``,t,this._element);if(n===null)throw new a.NotFoundError;return n},t._create=function(e){return new t(e)},t}(Array)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(6),s=n(2),c=n(102),l=n(9),u=n(0),d=n(12),f=n(3),p=function(e){function t(){var t=e.call(this)||this,n=o.dom.window._associatedDocument;return t._start=[n,0],t._end=[n,0],o.dom.rangeList.add(t),t}return i(t,e),Object.defineProperty(t.prototype,`commonAncestorContainer`,{get:function(){for(var e=this._start[0];!u.tree_isAncestorOf(this._end[0],e,!0);){if(e._parent===null)throw Error(`Parent node  is null.`);e=e._parent}return e},enumerable:!0,configurable:!0}),t.prototype.setStart=function(e,t){u.range_setTheStart(this,e,t)},t.prototype.setEnd=function(e,t){u.range_setTheEnd(this,e,t)},t.prototype.setStartBefore=function(e){var t=e._parent;if(t===null)throw new l.InvalidNodeTypeError;u.range_setTheStart(this,t,u.tree_index(e))},t.prototype.setStartAfter=function(e){var t=e._parent;if(t===null)throw new l.InvalidNodeTypeError;u.range_setTheStart(this,t,u.tree_index(e)+1)},t.prototype.setEndBefore=function(e){var t=e._parent;if(t===null)throw new l.InvalidNodeTypeError;u.range_setTheEnd(this,t,u.tree_index(e))},t.prototype.setEndAfter=function(e){var t=e._parent;if(t===null)throw new l.InvalidNodeTypeError;u.range_setTheEnd(this,t,u.tree_index(e)+1)},t.prototype.collapse=function(e){e?this._end=this._start:this._start=this._end},t.prototype.selectNode=function(e){u.range_select(e,this)},t.prototype.selectNodeContents=function(e){if(f.Guard.isDocumentTypeNode(e))throw new l.InvalidNodeTypeError;var t=u.tree_nodeLength(e);this._start=[e,0],this._end=[e,t]},t.prototype.compareBoundaryPoints=function(e,t){if(e!==s.HowToCompare.StartToStart&&e!==s.HowToCompare.StartToEnd&&e!==s.HowToCompare.EndToEnd&&e!==s.HowToCompare.EndToStart)throw new l.NotSupportedError;if(u.range_root(this)!==u.range_root(t))throw new l.WrongDocumentError;var n,r;switch(e){case s.HowToCompare.StartToStart:n=this._start,r=t._start;break;case s.HowToCompare.StartToEnd:n=this._end,r=t._start;break;case s.HowToCompare.EndToEnd:n=this._end,r=t._end;break;case s.HowToCompare.EndToStart:n=this._start,r=t._end;break;default:throw new l.NotSupportedError}var i=u.boundaryPoint_position(n,r);return i===s.BoundaryPosition.Before?-1:i===s.BoundaryPosition.After?1:0},t.prototype.deleteContents=function(){var e,t,n,r;if(!u.range_collapsed(this)){var i=this._startNode,o=this._startOffset,s=this._endNode,c=this._endOffset;if(i===s&&f.Guard.isCharacterDataNode(i))u.characterData_replaceData(i,o,c-o,``);else{var l,d,p=[];try{for(var m=a(u.range_getContainedNodes(this)),h=m.next();!h.done;h=m.next()){var g=(b=h.value)._parent;g!==null&&u.range_isContained(g,this)||p.push(b)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=m.return)&&t.call(m)}finally{if(e)throw e.error}}if(u.tree_isAncestorOf(s,i,!0))l=i,d=o;else{for(var _=i;_._parent!==null&&!u.tree_isAncestorOf(s,_._parent,!0);)_=_._parent;if(_._parent===null)throw Error(`Parent node is null.`);l=_._parent,d=u.tree_index(_)+1}f.Guard.isCharacterDataNode(i)&&u.characterData_replaceData(i,o,u.tree_nodeLength(i)-o,``);try{for(var v=a(p),y=v.next();!y.done;y=v.next()){var b;(b=y.value)._parent&&u.mutation_remove(b,b._parent)}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}f.Guard.isCharacterDataNode(s)&&u.characterData_replaceData(s,0,c,``),this._start=[l,d],this._end=[l,d]}}},t.prototype.extractContents=function(){return u.range_extract(this)},t.prototype.cloneContents=function(){return u.range_cloneTheContents(this)},t.prototype.insertNode=function(e){return u.range_insert(e,this)},t.prototype.surroundContents=function(e){var t,n;try{for(var r=a(u.range_getPartiallyContainedNodes(this)),i=r.next();!i.done;i=r.next()){var o=i.value;if(!f.Guard.isTextNode(o))throw new l.InvalidStateError}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}if(f.Guard.isDocumentNode(e)||f.Guard.isDocumentTypeNode(e)||f.Guard.isDocumentFragmentNode(e))throw new l.InvalidNodeTypeError;var s=u.range_extract(this);e._children.size!==0&&u.mutation_replaceAll(null,e),u.range_insert(e,this),u.mutation_append(s,e),u.range_select(e,this)},t.prototype.cloneRange=function(){return u.create_range(this._start,this._end)},t.prototype.detach=function(){o.dom.rangeList.delete(this)},t.prototype.isPointInRange=function(e,t){if(u.tree_rootNode(e)!==u.range_root(this))return!1;if(f.Guard.isDocumentTypeNode(e))throw new l.InvalidNodeTypeError;if(t>u.tree_nodeLength(e))throw new l.IndexSizeError;var n=[e,t];return u.boundaryPoint_position(n,this._start)!==s.BoundaryPosition.Before&&u.boundaryPoint_position(n,this._end)!==s.BoundaryPosition.After},t.prototype.comparePoint=function(e,t){if(u.tree_rootNode(e)!==u.range_root(this))throw new l.WrongDocumentError;if(f.Guard.isDocumentTypeNode(e))throw new l.InvalidNodeTypeError;if(t>u.tree_nodeLength(e))throw new l.IndexSizeError;var n=[e,t];return u.boundaryPoint_position(n,this._start)===s.BoundaryPosition.Before?-1:u.boundaryPoint_position(n,this._end)===s.BoundaryPosition.After?1:0},t.prototype.intersectsNode=function(e){if(u.tree_rootNode(e)!==u.range_root(this))return!1;var t=e._parent;if(t===null)return!0;var n=u.tree_index(e);return u.boundaryPoint_position([t,n],this._end)===s.BoundaryPosition.Before&&u.boundaryPoint_position([t,n+1],this._start)===s.BoundaryPosition.After},t.prototype.toString=function(){var e,t,n=``;if(this._startNode===this._endNode&&f.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);f.Guard.isTextNode(this._startNode)&&(n+=this._startNode._data.substring(this._startOffset));try{for(var r=a(u.range_getContainedNodes(this)),i=r.next();!i.done;i=r.next()){var o=i.value;f.Guard.isTextNode(o)&&(n+=o._data)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return f.Guard.isTextNode(this._endNode)&&(n+=this._endNode._data.substring(0,this._endOffset)),n},t._create=function(e,n){var r=new t;return e&&(r._start=e),n&&(r._end=n),r},t.START_TO_START=0,t.START_TO_END=1,t.END_TO_END=2,t.END_TO_START=3,t}(c.AbstractRangeImpl);t.RangeImpl=p,d.idl_defineConst(p.prototype,`START_TO_START`,0),d.idl_defineConst(p.prototype,`START_TO_END`,1),d.idl_defineConst(p.prototype,`END_TO_END`,2),d.idl_defineConst(p.prototype,`END_TO_START`,3)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(103),o=n(0);t.NodeIteratorImpl=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i._iteratorCollection=void 0,i._reference=n,i._pointerBeforeReference=r,o.nodeIterator_iteratorList().add(i),i}return i(t,e),Object.defineProperty(t.prototype,`referenceNode`,{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,`pointerBeforeReferenceNode`,{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),t.prototype.nextNode=function(){return o.nodeIterator_traverse(this,!0)},t.prototype.previousNode=function(){return o.nodeIterator_traverse(this,!1)},t.prototype.detach=function(){o.nodeIterator_iteratorList().delete(this)},t._create=function(e,n,r){return new t(e,n,r)},t}(a.TraverserImpl)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(2),o=n(103),s=n(0);t.TreeWalkerImpl=function(e){function t(t,n){var r=e.call(this,t)||this;return r._current=n,r}return i(t,e),Object.defineProperty(t.prototype,`currentNode`,{get:function(){return this._current},set:function(e){this._current=e},enumerable:!0,configurable:!0}),t.prototype.parentNode=function(){for(var e=this._current;e!==null&&e!==this._root;)if((e=e._parent)!==null&&s.traversal_filter(this,e)===a.FilterResult.Accept)return this._current=e,e;return null},t.prototype.firstChild=function(){return s.treeWalker_traverseChildren(this,!0)},t.prototype.lastChild=function(){return s.treeWalker_traverseChildren(this,!1)},t.prototype.nextSibling=function(){return s.treeWalker_traverseSiblings(this,!0)},t.prototype.previousNode=function(){for(var e=this._current;e!==this._root;){for(var t=e._previousSibling;t;){e=t;for(var n=s.traversal_filter(this,e);n!==a.FilterResult.Reject&&e._lastChild;)e=e._lastChild,n=s.traversal_filter(this,e);if(n===a.FilterResult.Accept)return this._current=e,e;t=e._previousSibling}if(e===this._root||e._parent===null)return null;if(e=e._parent,s.traversal_filter(this,e)===a.FilterResult.Accept)return this._current=e,e}return null},t.prototype.previousSibling=function(){return s.treeWalker_traverseSiblings(this,!1)},t.prototype.nextNode=function(){for(var e=this._current,t=a.FilterResult.Accept;;){for(;t!==a.FilterResult.Reject&&e._firstChild;)if(e=e._firstChild,(t=s.traversal_filter(this,e))===a.FilterResult.Accept)return this._current=e,e;for(var n=null,r=e;r!==null;){if(r===this._root)return null;if((n=r._nextSibling)!==null){e=n;break}r=r._parent}if((t=s.traversal_filter(this,e))===a.FilterResult.Accept)return this._current=e,e}},t._create=function(e,n){return new t(e,n)},t}(o.TraverserImpl)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2),i=n(12),a=function(){function e(){}return e.prototype.acceptNode=function(e){return r.FilterResult.Accept},e._create=function(){return new e},e.FILTER_ACCEPT=1,e.FILTER_REJECT=2,e.FILTER_SKIP=3,e.SHOW_ALL=4294967295,e.SHOW_ELEMENT=1,e.SHOW_ATTRIBUTE=2,e.SHOW_TEXT=4,e.SHOW_CDATA_SECTION=8,e.SHOW_ENTITY_REFERENCE=16,e.SHOW_ENTITY=32,e.SHOW_PROCESSING_INSTRUCTION=64,e.SHOW_COMMENT=128,e.SHOW_DOCUMENT=256,e.SHOW_DOCUMENT_TYPE=512,e.SHOW_DOCUMENT_FRAGMENT=1024,e.SHOW_NOTATION=2048,e}();t.NodeFilterImpl=a,i.idl_defineConst(a.prototype,`FILTER_ACCEPT`,1),i.idl_defineConst(a.prototype,`FILTER_REJECT`,2),i.idl_defineConst(a.prototype,`FILTER_SKIP`,3),i.idl_defineConst(a.prototype,`SHOW_ALL`,4294967295),i.idl_defineConst(a.prototype,`SHOW_ELEMENT`,1),i.idl_defineConst(a.prototype,`SHOW_ATTRIBUTE`,2),i.idl_defineConst(a.prototype,`SHOW_TEXT`,4),i.idl_defineConst(a.prototype,`SHOW_CDATA_SECTION`,8),i.idl_defineConst(a.prototype,`SHOW_ENTITY_REFERENCE`,16),i.idl_defineConst(a.prototype,`SHOW_ENTITY`,32),i.idl_defineConst(a.prototype,`SHOW_PROCESSING_INSTRUCTION`,64),i.idl_defineConst(a.prototype,`SHOW_COMMENT`,128),i.idl_defineConst(a.prototype,`SHOW_DOCUMENT`,256),i.idl_defineConst(a.prototype,`SHOW_DOCUMENT_TYPE`,512),i.idl_defineConst(a.prototype,`SHOW_DOCUMENT_FRAGMENT`,1024),i.idl_defineConst(a.prototype,`SHOW_NOTATION`,2048)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.MutationRecordImpl=function(){function e(e,t,n,r,i,a,o,s,c){this._type=e,this._target=t,this._addedNodes=n,this._removedNodes=r,this._previousSibling=i,this._nextSibling=a,this._attributeName=o,this._attributeNamespace=s,this._oldValue=c}return Object.defineProperty(e.prototype,`type`,{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`target`,{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`addedNodes`,{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`removedNodes`,{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`previousSibling`,{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`nextSibling`,{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`attributeName`,{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`attributeNamespace`,{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`oldValue`,{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),e._create=function(t,n,r,i,a,o,s,c,l){return new e(t,n,r,i,a,o,s,c,l)},e}()},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(6),a=n(9),o=n(7),s=n(0);t.DOMTokenListImpl=function(){function e(e,t){this._element=e,this._attribute=t,this._tokenSet=new Set;var n=t._localName,r=s.element_getAnAttributeValue(e,n),a=this;this._element._attributeChangeSteps.push((function(e,t,n,r,i){t===a._attribute._localName&&i===null&&(r?a._tokenSet=s.orderedSet_parse(r):a._tokenSet.clear())})),i.dom.features.steps&&s.dom_runAttributeChangeSteps(e,n,r,r,null)}return Object.defineProperty(e.prototype,`length`,{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),e.prototype.item=function(e){var t,n,i=0;try{for(var a=r(this._tokenSet),o=a.next();!o.done;o=a.next()){var s=o.value;if(i===e)return s;i++}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return null},e.prototype.contains=function(e){return this._tokenSet.has(e)},e.prototype.add=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var c=r(n),l=c.next();!l.done;l=c.next()){var u=l.value;if(u===``)throw new a.SyntaxError(`Cannot add an empty token.`);if(o.codePoint.ASCIIWhiteSpace.test(u))throw new a.InvalidCharacterError(`Token cannot contain whitespace.`);this._tokenSet.add(u)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}s.tokenList_updateSteps(this)},e.prototype.remove=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var c=r(n),l=c.next();!l.done;l=c.next()){var u=l.value;if(u===``)throw new a.SyntaxError(`Cannot remove an empty token.`);if(o.codePoint.ASCIIWhiteSpace.test(u))throw new a.InvalidCharacterError(`Token cannot contain whitespace.`);this._tokenSet.delete(u)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}s.tokenList_updateSteps(this)},e.prototype.toggle=function(e,t){if(t===void 0&&(t=void 0),e===``)throw new a.SyntaxError(`Cannot toggle an empty token.`);if(o.codePoint.ASCIIWhiteSpace.test(e))throw new a.InvalidCharacterError(`Token cannot contain whitespace.`);return this._tokenSet.has(e)?t!==void 0&&!1!==t||(this._tokenSet.delete(e),s.tokenList_updateSteps(this),!1):(t===void 0||!0===t)&&(this._tokenSet.add(e),s.tokenList_updateSteps(this),!0)},e.prototype.replace=function(e,t){if(e===``||t===``)throw new a.SyntaxError(`Cannot replace an empty token.`);if(o.codePoint.ASCIIWhiteSpace.test(e)||o.codePoint.ASCIIWhiteSpace.test(t))throw new a.InvalidCharacterError(`Token cannot contain whitespace.`);return!!this._tokenSet.has(e)&&(o.set.replace(this._tokenSet,e,t),s.tokenList_updateSteps(this),!0)},e.prototype.supports=function(e){return s.tokenList_validationSteps(this,e)},Object.defineProperty(e.prototype,`value`,{get:function(){return s.tokenList_serializeSteps(this)},set:function(e){s.element_setAnAttributeValue(this._element,this._attribute._localName,e)},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){var e=this._tokenSet[Symbol.iterator]();return{next:function(){return e.next()}}},e._create=function(t,n){return new e(t,n)},e}()},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(104),o=n(0);t.CustomEventImpl=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._detail=null,r._detail=n&&n.detail||null,r}return i(t,e),Object.defineProperty(t.prototype,`detail`,{get:function(){return this._detail},enumerable:!0,configurable:!0}),t.prototype.initCustomEvent=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1),r===void 0&&(r=null),this._dispatchFlag||(o.event_initialize(this,e,t,n),this._detail=r)},t}(a.EventImpl)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(6),i=n(2),a=n(105),o=n(17);t.nodeIterator_traverse=function(e,t){for(var n=e._reference,r=e._pointerBeforeReference;;){if(t)if(r)r=!1;else{var s=o.tree_getFollowingNode(e._root,n);if(!s)return null;n=s}else if(r){var c=o.tree_getPrecedingNode(e.root,n);if(!c)return null;n=c}else r=!0;if(a.traversal_filter(e,n)===i.FilterResult.Accept)break}return e._reference=n,e._pointerBeforeReference=r,n},t.nodeIterator_iteratorList=function(){return r.dom.window._iteratorList}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(9),i=n(7),a=n(174);function o(e){if(!a.xml_isName(e))throw new r.InvalidCharacterError(`Invalid XML name: `+e);if(!a.xml_isQName(e))throw new r.InvalidCharacterError(`Invalid XML qualified name: `+e+`.`)}t.namespace_validate=o,t.namespace_validateAndExtract=function(e,t){e||=null,o(t);var n=t.split(`:`),a=n.length===2?n[0]:null,s=n.length===2?n[1]:t;if(a&&e===null)throw new r.NamespaceError(`Qualified name includes a prefix but the namespace is null.`);if(a===`xml`&&e!==i.namespace.XML)throw new r.NamespaceError(`Qualified name includes the "xml" prefix but the namespace is not the XML namespace.`);if(e!==i.namespace.XMLNS&&(a===`xmlns`||t===`xmlns`))throw new r.NamespaceError(`Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.`);if(e===i.namespace.XMLNS&&a!==`xmlns`&&t!==`xmlns`)throw new r.NamespaceError(`Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.`);return[e,a,s]},t.namespace_extractQName=function(e){o(e);var t=e.split(`:`);return[t.length===2?t[0]:null,t.length===2?t[1]:e]}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.xml_isName=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(!(n>=97&&n<=122||n>=65&&n<=90||n===58||n===95||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533)&&(t===0||!(n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256))){if(n>=55296&&n<=56319&&t<e.length-1){var r=e.charCodeAt(t+1);if(r>=56320&&r<=57343&&(t++,(n=1024*(n-55296)+r-56320+65536)>=65536&&n<=983039))continue}return!1}}return!0},t.xml_isQName=function(e){for(var t=!1,n=0;n<e.length;n++){var r=e.charCodeAt(n);if(!(r>=97&&r<=122||r>=65&&r<=90||r===95||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533)&&(n===0||!(r===45||r===46||r>=48&&r<=57||r===183||r>=768&&r<=879||r>=8255&&r<=8256))){if(n===0||r!==58){if(r>=55296&&r<=56319&&n<e.length-1){var i=e.charCodeAt(n+1);if(i>=56320&&i<=57343&&(n++,(r=1024*(r-55296)+i-56320+65536)>=65536&&r<=983039))continue}return!1}if(t||n===e.length-1)return!1;t=!0}}return!0},t.xml_isLegalChar=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(!(n===9||n===10||n===13||n>=32&&n<=55295||n>=57344&&n<=65533)){if(n>=55296&&n<=56319&&t<e.length-1){var r=e.charCodeAt(t+1);if(r>=56320&&r<=57343&&(t++,(n=1024*(n-55296)+r-56320+65536)>=65536&&n<=1114111))continue}return!1}}return!0},t.xml_isPubidChar=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(!(n>=97&&n<=122||n>=65&&n<=90||n>=39&&n<=59||n===32||n===13||n===10||n>=35&&n<=37||n===33||n===61||n===63||n===64||n===95))return!1}return!0}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2),i=n(17);t.boundaryPoint_position=function e(t,n){var a=t[0],o=t[1],s=n[0],c=n[1];if(console.assert(i.tree_rootNode(a)===i.tree_rootNode(s),`Boundary points must share the same root node.`),a===s)return o===c?r.BoundaryPosition.Equal:o<c?r.BoundaryPosition.Before:r.BoundaryPosition.After;if(i.tree_isFollowing(s,a)){var l=e([s,c],[a,o]);if(l===r.BoundaryPosition.Before)return r.BoundaryPosition.After;if(l===r.BoundaryPosition.After)return r.BoundaryPosition.Before}if(i.tree_isAncestorOf(s,a)){for(var u=s;!i.tree_isChildOf(a,u);)u._parent!==null&&(u=u._parent);if(i.tree_index(u)<o)return r.BoundaryPosition.After}return r.BoundaryPosition.Before}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(6),a=n(3),o=n(7),s=n(29),c=n(108),l=n(30),u=n(37),d=n(52);t.node_stringReplaceAll=function(e,t){var n=null;e!==``&&(n=s.create_text(t._nodeDocument,e)),u.mutation_replaceAll(n,t)},t.node_clone=function e(t,n,o){var c,f,p,m,h;if(n===void 0&&(n=null),o===void 0&&(o=!1),n===null&&(n=t._nodeDocument),a.Guard.isElementNode(t)){h=d.element_createAnElement(n,t._localName,t._namespace,t._namespacePrefix,t._is,!1);try{for(var g=r(t._attributeList),_=g.next();!_.done;_=g.next()){var v=e(_.value,n);d.element_append(v,h)}}catch(e){c={error:e}}finally{try{_&&!_.done&&(f=g.return)&&f.call(g)}finally{if(c)throw c.error}}}else if(a.Guard.isDocumentNode(t)){var y=s.create_document();y._encoding=t._encoding,y._contentType=t._contentType,y._URL=t._URL,y._origin=t._origin,y._type=t._type,y._mode=t._mode,h=y}else if(a.Guard.isDocumentTypeNode(t))h=s.create_documentType(n,t._name,t._publicId,t._systemId);else if(a.Guard.isAttrNode(t)){var b=s.create_attr(n,t.localName);b._namespace=t._namespace,b._namespacePrefix=t._namespacePrefix,b._value=t._value,h=b}else h=a.Guard.isExclusiveTextNode(t)?s.create_text(n,t._data):a.Guard.isCDATASectionNode(t)?s.create_cdataSection(n,t._data):a.Guard.isCommentNode(t)?s.create_comment(n,t._data):a.Guard.isProcessingInstructionNode(t)?s.create_processingInstruction(n,t._target,t._data):a.Guard.isDocumentFragmentNode(t)?s.create_documentFragment(n):Object.create(t);if(a.Guard.isDocumentNode(h)?(h._nodeDocument=h,n=h):h._nodeDocument=n,i.dom.features.steps&&l.dom_runCloningSteps(h,t,n,o),o)try{for(var x=r(t._children),S=x.next();!S.done;S=x.next()){var C=e(S.value,n,!0);u.mutation_append(C,h)}}catch(e){p={error:e}}finally{try{S&&!S.done&&(m=x.return)&&m.call(x)}finally{if(p)throw p.error}}return h},t.node_equals=function e(t,n){var i,o,s,c;if(t._nodeType!==n._nodeType)return!1;if(a.Guard.isDocumentTypeNode(t)&&a.Guard.isDocumentTypeNode(n)){if(t._name!==n._name||t._publicId!==n._publicId||t._systemId!==n._systemId)return!1}else if(a.Guard.isElementNode(t)&&a.Guard.isElementNode(n)){if(t._namespace!==n._namespace||t._namespacePrefix!==n._namespacePrefix||t._localName!==n._localName||t._attributeList.length!==n._attributeList.length)return!1}else if(a.Guard.isAttrNode(t)&&a.Guard.isAttrNode(n)){if(t._namespace!==n._namespace||t._localName!==n._localName||t._value!==n._value)return!1}else if(a.Guard.isProcessingInstructionNode(t)&&a.Guard.isProcessingInstructionNode(n)){if(t._target!==n._target||t._data!==n._data)return!1}else if(a.Guard.isCharacterDataNode(t)&&a.Guard.isCharacterDataNode(n)&&t._data!==n._data)return!1;if(a.Guard.isElementNode(t)&&a.Guard.isElementNode(n)){var l={};try{for(var u=r(t._attributeList),d=u.next();!d.done;d=u.next())l[(m=d.value)._localName]=m}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}try{for(var f=r(n._attributeList),p=f.next();!p.done;p=f.next()){var m,h=p.value;if(!(m=l[h._localName])||!e(m,h))return!1}}catch(e){s={error:e}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}}if(t._children.size!==n._children.size)return!1;for(var g=t._children[Symbol.iterator](),_=n._children[Symbol.iterator](),v=g.next(),y=_.next();!v.done&&!y.done;){if(!e(v.value,y.value))return!1;v=g.next(),y=_.next()}return!0},t.node_listOfElementsWithQualifiedName=function(e,t){return e===`*`?s.create_htmlCollection(t):t._nodeDocument._type===`html`?s.create_htmlCollection(t,(function(t){return t._namespace===o.namespace.HTML&&t._qualifiedName===e.toLowerCase()||t._namespace!==o.namespace.HTML&&t._qualifiedName===e})):s.create_htmlCollection(t,(function(t){return t._qualifiedName===e}))},t.node_listOfElementsWithNamespace=function(e,t,n){return e===``&&(e=null),e===`*`&&t===`*`?s.create_htmlCollection(n):e===`*`?s.create_htmlCollection(n,(function(e){return e._localName===t})):t===`*`?s.create_htmlCollection(n,(function(t){return t._namespace===e})):s.create_htmlCollection(n,(function(n){return n._localName===t&&n._namespace===e}))},t.node_listOfElementsWithClassNames=function(e,t){var n=c.orderedSet_parse(e);if(n.size===0)return s.create_htmlCollection(t,(function(){return!1}));var r=t._nodeDocument._mode!==`quirks`;return s.create_htmlCollection(t,(function(e){var t=e.classList;return c.orderedSet_contains(t._tokenSet,n,r)}))},t.node_locateANamespacePrefix=function e(t,n){if(t._namespace===n&&t._namespacePrefix!==null)return t._namespacePrefix;for(var r=0;r<t._attributeList.length;r++){var i=t._attributeList[r];if(i._namespacePrefix===`xmlns`&&i._value===n)return i._localName}return t._parent&&a.Guard.isElementNode(t._parent)?e(t._parent,n):null},t.node_locateANamespace=function e(t,n){if(a.Guard.isElementNode(t)){if(t._namespace!==null&&t._namespacePrefix===n)return t._namespace;for(var r=0;r<t._attributeList.length;r++){var i=t._attributeList[r];if(i._namespace===o.namespace.XMLNS&&i._namespacePrefix===`xmlns`&&i._localName===n||n===null&&i._namespace===o.namespace.XMLNS&&i._namespacePrefix===null&&i._localName===`xmlns`)return i._value||null}return t.parentElement===null?null:e(t.parentElement,n)}return a.Guard.isDocumentNode(t)?t.documentElement===null?null:e(t.documentElement,n):a.Guard.isDocumentTypeNode(t)||a.Guard.isDocumentFragmentNode(t)?null:a.Guard.isAttrNode(t)?t._element===null?null:e(t._element,n):t._parent&&a.Guard.isElementNode(t._parent)?e(t._parent,n):null}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(6),a=n(3),o=n(9),s=n(29),c=n(17),l=n(107),u=n(37);t.text_contiguousTextNodes=function(e,t){var n;return t===void 0&&(t=!1),(n={})[Symbol.iterator]=function(){for(var n=e;n&&a.Guard.isTextNode(n._previousSibling);)n=n._previousSibling;return{next:function(){if(n&&!t&&n===e&&(n=a.Guard.isTextNode(n._nextSibling)?n._nextSibling:null),n===null)return{done:!0,value:null};var r={done:!1,value:n};return n=a.Guard.isTextNode(n._nextSibling)?n._nextSibling:null,r}}},n},t.text_contiguousExclusiveTextNodes=function(e,t){var n;return t===void 0&&(t=!1),(n={})[Symbol.iterator]=function(){for(var n=e;n&&a.Guard.isExclusiveTextNode(n._previousSibling);)n=n._previousSibling;return{next:function(){if(n&&!t&&n===e&&(n=a.Guard.isExclusiveTextNode(n._nextSibling)?n._nextSibling:null),n===null)return{done:!0,value:null};var r={done:!1,value:n};return n=a.Guard.isExclusiveTextNode(n._nextSibling)?n._nextSibling:null,r}}},n},t.text_descendantTextContent=function(e){for(var t=``,n=c.tree_getFirstDescendantNode(e,!1,!1,(function(e){return a.Guard.isTextNode(e)}));n!==null;)t+=n._data,n=c.tree_getNextDescendantNode(e,n,!1,!1,(function(e){return a.Guard.isTextNode(e)}));return t},t.text_split=function(e,t){var n,a,d=e._data.length;if(t>d)throw new o.IndexSizeError;var f=d-t,p=l.characterData_substringData(e,t,f),m=s.create_text(e._nodeDocument,p),h=e._parent;if(h!==null){u.mutation_insert(m,h,e._nextSibling);try{for(var g=r(i.dom.rangeList),_=g.next();!_.done;_=g.next()){var v=_.value;v._start[0]===e&&v._start[1]>t&&(v._start[0]=m,v._start[1]-=t),v._end[0]===e&&v._end[1]>t&&(v._end[0]=m,v._end[1]-=t);var y=c.tree_index(e);v._start[0]===h&&v._start[1]===y+1&&v._start[1]++,v._end[0]===h&&v._end[1]===y+1&&v._end[1]++}}catch(e){n={error:e}}finally{try{_&&!_.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}}return l.characterData_replaceData(e,t,f,``),m}},function(e,t,n){var r=n(4),i=n(41),a=n(24),o=n(48),s=[].join,c=i!=Object,l=o(`join`,`,`);r({target:`Array`,proto:!0,forced:c||!l},{join:function(e){return s.call(a(this),e===void 0?`,`:e)}})},function(e,t,n){var r=n(4),i=n(83),a=String.fromCharCode,o=String.fromCodePoint;r({target:`String`,stat:!0,forced:!!o&&o.length!=1},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+` is not a valid code point`);n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join(``)}})},function(e,t,n){var r=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(111);t.XMLStringLexer=function(){function e(e,t){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:``},this._str=e,this._index=0,this._length=e.length,t&&(this._options.skipWhitespaceOnlyText=t.skipWhitespaceOnlyText||!1)}return e.prototype.nextToken=function(){if(this.eof())return{type:i.TokenType.EOF};var t=this.skipIfStartsWith(`<`)?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&t.type===i.TokenType.Text&&e.isWhiteSpaceToken(t)&&(t=this.nextToken()),t},e.prototype.openBracket=function(){return this.skipIfStartsWith(`?`)?this.skipIfStartsWith(`xml`)?e.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith(`!`)?this.skipIfStartsWith(`--`)?this.comment():this.skipIfStartsWith(`[CDATA[`)?this.cdata():this.skipIfStartsWith(`DOCTYPE`)?this.doctype():void this.throwError(`Invalid '!' in opening tag.`):this.skipIfStartsWith(`/`)?this.closeTag():this.openTag()},e.prototype.declaration=function(){for(var e=``,t=``,n=``;!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(`?>`))return{type:i.TokenType.Declaration,version:e,encoding:t,standalone:n};var a=r(this.attribute(),2),o=a[0],s=a[1];o===`version`?e=s:o===`encoding`?t=s:o===`standalone`?n=s:this.throwError(`Invalid attribute name: `+o)}this.throwError("Missing declaration end symbol `?>`")},e.prototype.doctype=function(){var e=``,t=``;this.skipSpace();var n=this.takeUntil2(`[`,`>`,!0);return this.skipSpace(),this.skipIfStartsWith(`PUBLIC`)?(e=this.quotedString(),t=this.quotedString()):this.skipIfStartsWith(`SYSTEM`)&&(t=this.quotedString()),this.skipSpace(),this.skipIfStartsWith(`[`)&&(this.skipUntil(`]`),this.skipIfStartsWith(`]`)||this.throwError(`Missing end bracket of DTD internal subset`)),this.skipSpace(),this.skipIfStartsWith(`>`)||this.throwError("Missing doctype end symbol `>`"),{type:i.TokenType.DocType,name:n,pubId:e,sysId:t}},e.prototype.pi=function(){var e=this.takeUntilStartsWith(`?>`,!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith(`?>`))return{type:i.TokenType.PI,target:e,data:``};var t=this.takeUntilStartsWith(`?>`);return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:i.TokenType.PI,target:e,data:t}},e.prototype.text=function(){var e=this.takeUntil(`<`);return{type:i.TokenType.Text,data:e}},e.prototype.comment=function(){var e=this.takeUntilStartsWith(`-->`);return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:i.TokenType.Comment,data:e}},e.prototype.cdata=function(){var e=this.takeUntilStartsWith(`]]>`);return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:i.TokenType.CDATA,data:e}},e.prototype.openTag=function(){this.skipSpace();var e=this.takeUntil2(`>`,`/`,!0);if(this.skipSpace(),this.skipIfStartsWith(`>`))return{type:i.TokenType.Element,name:e,attributes:[],selfClosing:!1};if(this.skipIfStartsWith(`/>`))return{type:i.TokenType.Element,name:e,attributes:[],selfClosing:!0};for(var t=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(`>`))return{type:i.TokenType.Element,name:e,attributes:t,selfClosing:!1};if(this.skipIfStartsWith(`/>`))return{type:i.TokenType.Element,name:e,attributes:t,selfClosing:!0};var n=this.attribute();t.push(n)}this.throwError("Missing opening element tag end symbol `>`")},e.prototype.closeTag=function(){this.skipSpace();var e=this.takeUntil(`>`,!0);return this.skipSpace(),this.skipIfStartsWith(`>`)||this.throwError("Missing closing element tag end symbol `>`"),{type:i.TokenType.ClosingTag,name:e}},e.prototype.attribute=function(){this.skipSpace();var e=this.takeUntil(`=`,!0);return this.skipSpace(),this.skipIfStartsWith(`=`)||this.throwError(`Missing equals sign before attribute value`),[e,this.quotedString()]},e.prototype.quotedString=function(){this.skipSpace();var t=this.take(1);e.isQuote(t)||this.throwError(`Missing start quote character before quoted value`);var n=this.takeUntil(t);return this.skipIfStartsWith(t)||this.throwError(`Missing end quote character after quoted value`),n},e.prototype.eof=function(){return this._index>=this._length},e.prototype.skipIfStartsWith=function(e){var t=e.length;if(t===1)return this._str[this._index]===e&&(this._index++,!0);for(var n=0;n<t;n++)if(this._str[this._index+n]!==e[n])return!1;return this._index+=t,!0},e.prototype.seek=function(e){this._index+=e,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},e.prototype.skipSpace=function(){for(;!this.eof()&&e.isSpace(this._str[this._index]);)this._index++},e.prototype.take=function(e){if(e===1)return this._str[this._index++];var t=this._index;return this.seek(e),this._str.slice(t,this._index)},e.prototype.takeUntil=function(t,n){n===void 0&&(n=!1);for(var r=this._index;this._index<this._length;){var i=this._str[this._index];if(i===t||n&&e.isSpace(i))break;this._index++}return this._str.slice(r,this._index)},e.prototype.takeUntil2=function(t,n,r){r===void 0&&(r=!1);for(var i=this._index;this._index<this._length;){var a=this._str[this._index];if(a===t||a===n||r&&e.isSpace(a))break;this._index++}return this._str.slice(i,this._index)},e.prototype.takeUntilStartsWith=function(t,n){n===void 0&&(n=!1);for(var r=this._index,i=t.length;this._index<this._length;){for(var a=!0,o=0;o<i;o++){var s=this._str[this._index+o],c=t[o];if(n&&e.isSpace(s))return this._str.slice(r,this._index);if(s!==c){this._index++,a=!1;break}}if(a)return this._str.slice(r,this._index)}return this._index=this._length,this._str.slice(r)},e.prototype.skipUntil=function(e){for(;this._index<this._length&&this._str[this._index]!==e;)this._index++},e.isWhiteSpaceToken=function(e){for(var t=e.data,n=0;n<t.length;n++){var r=t[n];if(r!==` `&&r!==`
`&&r!==`\r`&&r!==`	`&&r!==`\f`)return!1}return!0},e.isSpace=function(e){return e===` `||e===`
`||e===`\r`||e===`	`},e.isQuote=function(e){return e===`"`||e===`'`},e.prototype.throwError=function(e){for(var t=/\r\n|\r|\n/g,n=null,r=0,i=0,a=this._str.length;(n=t.exec(this._str))!==null&&n!==null;)if(r++,n.index<this._index&&(i=t.lastIndex),n.index>this._index){a=n.index;break}throw this.err={line:r,col:this._index-i,index:this._index,str:this._str.substring(i,a)},Error(e+`
Index: `+this.err.index+`
Ln: `+this.err.line+`, Col: `+this.err.col+`
Input: `+this.err.str)},e.prototype[Symbol.iterator]=function(){return this._index=0,{next:function(){var e=this.nextToken();return e.type===i.TokenType.EOF?{done:!0,value:null}:{done:!1,value:e}}.bind(this)}},e}()},function(e,t,n){e.exports=new(n(39))({include:[n(182)]})},function(e,t,n){e.exports=new(n(39))({include:[n(113)],implicit:[n(289),n(290),n(291),n(292)]})},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(91),i=n(1),a=n(3),o=n(77),s=n(109);function c(e,t){var n=u(e===void 0||l(e)?e:r.DefaultBuilderOptions),i=l(e)?t:e,a=s.createDocument();d(a,n);var c=new o.XMLBuilderImpl(a);return i!==void 0&&c.ele(i),c}function l(e){if(!i.isPlainObject(e))return!1;for(var t in e)if(e.hasOwnProperty(t)&&!r.XMLBuilderOptionKeys.has(t))return!1;return!0}function u(e){e===void 0&&(e={});var t=i.applyDefaults(e,r.DefaultBuilderOptions);if(t.convert.att.length===0||t.convert.ins.length===0||t.convert.text.length===0||t.convert.cdata.length===0||t.convert.comment.length===0)throw Error(`JS object converter strings cannot be zero length.`);return t}function d(e,t,n){var r=e;r._xmlBuilderOptions=t,r._isFragment=n}t.builder=function(e,t){var n=u(l(e)?e:r.DefaultBuilderOptions),s=a.Guard.isNode(e)||i.isArray(e)?e:t;if(s===void 0)throw Error(`Invalid arguments.`);if(i.isArray(s)){for(var c=[],d=0;d<s.length;d++){var f=new o.XMLBuilderImpl(s[d]);f.set(n),c.push(f)}return c}var p=new o.XMLBuilderImpl(s);return p.set(n),p},t.create=c,t.fragment=function(e,t){var n=u(e===void 0||l(e)?e:r.DefaultBuilderOptions),i=l(e)?t:e,a=s.createDocument();d(a,n,!0);var c=new o.XMLBuilderImpl(a.createDocumentFragment());return i!==void 0&&c.ele(i),c},t.convert=function(e,t,n){var i,a,o;return l(e)&&t!==void 0?(i=e,a=t,o=n):(i=r.DefaultBuilderOptions,a=e,o=t||void 0),c(i,a).end(o)}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(77);t.builder=r.builder,t.create=r.create,t.fragment=r.fragment,t.convert=r.convert,t.createCB=r.createCB,t.fragmentCB=r.fragmentCB},function(e,t,n){n(31),n(32),n(33),n(191),n(192),n(194),n(64),n(19),n(198),n(199),n(89),n(201),n(65),n(20),n(66),n(22),n(23);var r=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var a=n(91),o=n(1),s=n(217),c=n(2),l=n(3),u=n(0),d=n(109),f=n(7),p=n(276);t.XMLBuilderImpl=function(){function e(e){this._domNode=e}return Object.defineProperty(e.prototype,`node`,{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`options`,{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.set=function(e){return this._options=o.applyDefaults(o.applyDefaults(this._options,e,!0),a.DefaultBuilderOptions),this},e.prototype.ele=function(t,n,i){var a,s,c,l,f,m;if(o.isObject(t))return new p.ObjectReader(this._options).parse(this,t);if(t!==null&&/^\s*</.test(t))return new p.XMLReader(this._options).parse(this,t);if(t!==null&&/^\s*[\{\[]/.test(t))return new p.JSONReader(this._options).parse(this,t);if(t!==null&&/^(\s*|(#.*)|(%.*))*---/.test(t))return new p.YAMLReader(this._options).parse(this,t);if((t===null||o.isString(t))&&o.isString(n))l=(a=r([t,n,i],3))[0],f=a[1],m=a[2];else{if(t===null)throw Error(`Element name cannot be null. `+this._debugInfo());l=(s=r([void 0,t,o.isObject(n)?n:void 0],3))[0],f=s[1],m=s[2]}if(m&&=o.getValue(m),l=(c=r(this._extractNamespace(d.sanitizeInput(l,this._options.invalidCharReplacement),d.sanitizeInput(f,this._options.invalidCharReplacement),!0),2))[0],f=c[1],l===void 0){var h=r(u.namespace_extractQName(f),1)[0];l=this.node.lookupNamespaceURI(h)}var g=l==null?this._doc.createElement(f):this._doc.createElementNS(l,f);this.node.appendChild(g);var _=new e(g),v=this._doc.doctype;if(g===this._doc.documentElement&&v!==null){var y=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,v.publicId,v.systemId);this._doc.replaceChild(y,v)}return m&&!o.isEmpty(m)&&_.att(m),_},e.prototype.remove=function(){var e=this.up();return e.node.removeChild(this.node),e},e.prototype.att=function(e,t,n){var i,a,s,c,p,m,h=this;if(o.isMap(e)||o.isObject(e))return o.forEachObject(e,(function(e,t){return h.att(e,t)}),this),this;if(e!=null&&(e=o.getValue(e+``)),t!=null&&(t=o.getValue(t+``)),n!=null&&(n=o.getValue(n+``)),e!==null&&!o.isString(e)||!o.isString(t)||n!==null&&!o.isString(n)){if(!o.isString(e)||t!=null&&!o.isString(t))throw Error(`Attribute name and value not specified. `+this._debugInfo());c=(a=r([void 0,e,t],3))[0],p=a[1],m=a[2]}else c=(i=r([e,t,n],3))[0],p=i[1],m=i[2];if(this._options.keepNullAttributes&&m==null)m=``;else if(m==null)return this;if(!l.Guard.isElementNode(this.node))throw Error(`An attribute can only be assigned to an element node.`);var g=this.node;c=(s=r(this._extractNamespace(c,p,!1),2))[0],p=s[1],p=d.sanitizeInput(p,this._options.invalidCharReplacement),c=d.sanitizeInput(c,this._options.invalidCharReplacement),m=d.sanitizeInput(m,this._options.invalidCharReplacement);var _=r(u.namespace_extractQName(p),2),v=_[0],y=_[1],b=r(u.namespace_extractQName(g.prefix?g.prefix+`:`+g.localName:g.localName),1)[0],x=null;return v===`xmlns`?(c=f.namespace.XMLNS,g.namespaceURI===null&&b===y&&(x=m)):v===null&&y===`xmlns`&&b===null&&(c=f.namespace.XMLNS,x=m),x!==null&&(this._updateNamespace(x),g=this.node),c===void 0?g.setAttribute(p,m):g.setAttributeNS(c,p,m),this},e.prototype.removeAtt=function(e,t){var n,r,i=this;if(!l.Guard.isElementNode(this.node))throw Error(`An attribute can only be removed from an element node.`);if(e=o.getValue(e),t!==void 0&&(t=o.getValue(t)),e!==null&&t===void 0)r=e;else{if(e!==null&&!o.isString(e)||t===void 0)throw Error(`Attribute namespace must be a string. `+this._debugInfo());n=e,r=t}return o.isArray(r)||o.isSet(r)?o.forEachArray(r,(function(e){return n===void 0?i.removeAtt(e):i.removeAtt(n,e)}),this):n===void 0?(r=d.sanitizeInput(r,this._options.invalidCharReplacement),this.node.removeAttribute(r)):(r=d.sanitizeInput(r,this._options.invalidCharReplacement),n=d.sanitizeInput(n,this._options.invalidCharReplacement),this.node.removeAttributeNS(n,r)),this},e.prototype.txt=function(e){if(e==null){if(!this._options.keepNullNodes)return this;e=``}var t=this._doc.createTextNode(d.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.com=function(e){if(e==null){if(!this._options.keepNullNodes)return this;e=``}var t=this._doc.createComment(d.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.dat=function(e){if(e==null){if(!this._options.keepNullNodes)return this;e=``}var t=this._doc.createCDATASection(d.sanitizeInput(e,this._options.invalidCharReplacement));return this.node.appendChild(t),this},e.prototype.ins=function(e,t){var n=this;if(t===void 0&&(t=``),t==null){if(!this._options.keepNullNodes)return this;t=``}if(o.isArray(e)||o.isSet(e))o.forEachArray(e,(function(e){var t=(e+=``).indexOf(` `),r=t===-1?e:e.substr(0,t),i=t===-1?``:e.substr(t+1);n.ins(r,i)}),this);else if(o.isMap(e)||o.isObject(e))o.forEachObject(e,(function(e,t){return n.ins(e,t)}),this);else{var r=this._doc.createProcessingInstruction(d.sanitizeInput(e,this._options.invalidCharReplacement),d.sanitizeInput(t,this._options.invalidCharReplacement));this.node.appendChild(r)}return this},e.prototype.dec=function(e){return this._options.version=e.version||`1.0`,this._options.encoding=e.encoding,this._options.standalone=e.standalone,this},e.prototype.dtd=function(e){var t=d.sanitizeInput(e&&e.name||(this._doc.documentElement?this._doc.documentElement.tagName:`ROOT`),this._options.invalidCharReplacement),n=d.sanitizeInput(e&&e.pubID||``,this._options.invalidCharReplacement),r=d.sanitizeInput(e&&e.sysID||``,this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&t!==this._doc.documentElement.tagName)throw Error(`DocType name does not match document element name.`);var i=this._doc.implementation.createDocumentType(t,n,r);return this._doc.doctype===null?this._doc.insertBefore(i,this._doc.documentElement):this._doc.replaceChild(i,this._doc.doctype),this},e.prototype.import=function(t){var n,a,o=this._domNode,s=this._doc,c=t.node;if(l.Guard.isDocumentNode(c)){var d=c.documentElement;if(d===null)throw Error(`Imported document has no document element node. `+this._debugInfo());var f=s.importNode(d,!0);o.appendChild(f);var p=r(u.namespace_extractQName(f.prefix?f.prefix+`:`+f.localName:f.localName),1)[0],m=o.lookupNamespaceURI(p);new e(f)._updateNamespace(m)}else if(l.Guard.isDocumentFragmentNode(c))try{for(var h=i(c.childNodes),g=h.next();!g.done;g=h.next()){var _=g.value;f=s.importNode(_,!0),o.appendChild(f),l.Guard.isElementNode(f)&&(p=r(u.namespace_extractQName(f.prefix?f.prefix+`:`+f.localName:f.localName),1)[0],m=o.lookupNamespaceURI(p),new e(f)._updateNamespace(m))}}catch(e){n={error:e}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}else f=s.importNode(c,!0),o.appendChild(f),l.Guard.isElementNode(f)&&(p=r(u.namespace_extractQName(f.prefix?f.prefix+`:`+f.localName:f.localName),1)[0],m=o.lookupNamespaceURI(p),new e(f)._updateNamespace(m));return this},e.prototype.doc=function(){if(this._doc._isFragment){for(var t=this.node;t&&t.nodeType!==c.NodeType.DocumentFragment;)t=t.parentNode;if(t===null)throw Error(`Node has no parent node while searching for document fragment ancestor. `+this._debugInfo());return new e(t)}return new e(this._doc)},e.prototype.root=function(){var t=this._doc.documentElement;if(!t)throw Error(`Document root element is null. `+this._debugInfo());return new e(t)},e.prototype.up=function(){var t=this._domNode.parentNode;if(!t)throw Error(`Parent node is null. `+this._debugInfo());return new e(t)},e.prototype.prev=function(){var t=this._domNode.previousSibling;if(!t)throw Error(`Previous sibling node is null. `+this._debugInfo());return new e(t)},e.prototype.next=function(){var t=this._domNode.nextSibling;if(!t)throw Error(`Next sibling node is null. `+this._debugInfo());return new e(t)},e.prototype.first=function(){var t=this._domNode.firstChild;if(!t)throw Error(`First child node is null. `+this._debugInfo());return new e(t)},e.prototype.last=function(){var t=this._domNode.lastChild;if(!t)throw Error(`Last child node is null. `+this._debugInfo());return new e(t)},e.prototype.each=function(t,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);for(var a=this._getFirstDescendantNode(this._domNode,n,r);a[0];){var o=this._getNextDescendantNode(this._domNode,a[0],r,a[1],a[2]);t.call(i,new e(a[0]),a[1],a[2]),a=o}return this},e.prototype.map=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=[];return this.each((function(t,n,a){return i.push(e.call(r,t,n,a))}),t,n),i},e.prototype.reduce=function(e,t,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);var a=t;return this.each((function(t,n,r){return a=e.call(i,a,t,n,r)}),n,r),a},e.prototype.find=function(t,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);for(var a=this._getFirstDescendantNode(this._domNode,n,r);a[0];){var o=new e(a[0]);if(t.call(i,o,a[1],a[2]))return o;a=this._getNextDescendantNode(this._domNode,a[0],r,a[1],a[2])}},e.prototype.filter=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=[];return this.each((function(t,n,a){e.call(r,t,n,a)&&i.push(t)}),t,n),i},e.prototype.every=function(t,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);for(var a=this._getFirstDescendantNode(this._domNode,n,r);a[0];){var o=new e(a[0]);if(!t.call(i,o,a[1],a[2]))return!1;a=this._getNextDescendantNode(this._domNode,a[0],r,a[1],a[2])}return!0},e.prototype.some=function(t,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);for(var a=this._getFirstDescendantNode(this._domNode,n,r);a[0];){var o=new e(a[0]);if(t.call(i,o,a[1],a[2]))return!0;a=this._getNextDescendantNode(this._domNode,a[0],r,a[1],a[2])}return!1},e.prototype.toArray=function(e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=[];return this.each((function(e){return n.push(e)}),e,t),n},e.prototype.toString=function(e){return(e||={}).format===void 0&&(e.format=`xml`),this._serialize(e)},e.prototype.toObject=function(e){return(e||={}).format===void 0&&(e.format=`object`),this._serialize(e)},e.prototype.end=function(e){return(e||={}).format===void 0&&(e.format=`xml`),this.doc()._serialize(e)},e.prototype._getFirstDescendantNode=function(e,t,n){return t?[this._domNode,0,0]:n?this._getNextDescendantNode(e,e,n,0,0):[this._domNode.firstChild,0,1]},e.prototype._getNextDescendantNode=function(e,t,n,r,i){if(!n)return e===t?[t.firstChild,0,i+1]:[t.nextSibling,r+1,i];if(t.firstChild)return[t.firstChild,0,i+1];if(t===e)return[null,-1,-1];if(t.nextSibling)return[t.nextSibling,r+1,i];for(var a=t.parentNode;a&&a!==e;){if(a.nextSibling)return[a.nextSibling,u.tree_index(a.nextSibling),i-1];a=a.parentNode,i--}return[null,-1,-1]},e.prototype._serialize=function(e){if(e.format===`xml`)return new s.XMLWriter(this._options,e).serialize(this.node);if(e.format===`map`)return new s.MapWriter(this._options,e).serialize(this.node);if(e.format===`object`)return new s.ObjectWriter(this._options,e).serialize(this.node);if(e.format===`json`)return new s.JSONWriter(this._options,e).serialize(this.node);if(e.format===`yaml`)return new s.YAMLWriter(this._options,e).serialize(this.node);throw Error(`Invalid writer format: `+e.format+`. `+this._debugInfo())},e.prototype._extractNamespace=function(e,t,n){var r=t.indexOf(`@`);if(r>0&&(e===void 0&&(e=t.slice(r+1)),t=t.slice(0,r)),e===void 0)e=n?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(e!==null&&e[0]===`@`){var i=e.slice(1);if((e=this._options.namespaceAlias[i])===void 0)throw Error("Namespace alias `"+i+"` is not defined. "+this._debugInfo())}return[e,t]},e.prototype._updateNamespace=function(t){var n,a,o,s,c=this._domNode;if(l.Guard.isElementNode(c)&&t!==null&&c.namespaceURI!==t){var d=r(u.namespace_extractQName(c.prefix?c.prefix+`:`+c.localName:c.localName),2),f=d[0],p=d[1],m=u.create_element(this._doc,p,t,f);try{for(var h=i(c.attributes),g=h.next();!g.done;g=h.next()){var _=g.value,v=_.prefix?_.prefix+`:`+_.localName:_.localName,y=r(u.namespace_extractQName(v),1)[0],b=_.namespaceURI;b===null&&y!==null&&(b=c.lookupNamespaceURI(y)),b===null?m.setAttribute(v,_.value):m.setAttributeNS(b,v,_.value)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}var x=c.parentNode;if(x===null)throw Error(`Parent node is null.`+this._debugInfo());x.replaceChild(m,c),this._domNode=m;try{for(var S=i(c.childNodes),C=S.next();!C.done;C=S.next()){var w=C.value.cloneNode(!0);if(m.appendChild(w),l.Guard.isElementNode(w)){var T=r(u.namespace_extractQName(w.prefix?w.prefix+`:`+w.localName:w.localName),1)[0],E=m.lookupNamespaceURI(T);new e(w)._updateNamespace(E)}}}catch(e){o={error:e}}finally{try{C&&!C.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}}},Object.defineProperty(e.prototype,`_doc`,{get:function(){var e=this.node;if(l.Guard.isDocumentNode(e))return e;var t=e.ownerDocument;if(!t)throw Error(`Owner document is null. `+this._debugInfo());return t},enumerable:!0,configurable:!0}),e.prototype._debugInfo=function(e){var t=this.node,n=t.parentNode;e||=t.nodeName;var r=n?n.nodeName:``;return r?`node: <`+e+`>, parent: <`+r+`>`:`node: <`+e+`>`},Object.defineProperty(e.prototype,`_options`,{get:function(){var e=this._doc;if(e._xmlBuilderOptions===void 0)throw Error(`Builder options is not set.`);return e._xmlBuilderOptions},set:function(e){this._doc._xmlBuilderOptions=e},enumerable:!0,configurable:!0}),e}()},function(e,t,n){var r=n(11),i=n(117),a=r.WeakMap;e.exports=typeof a==`function`&&/native code/.test(i(a))},function(e,t,n){var r=n(46),i=n(82),a=n(85),o=n(18);e.exports=r(`Reflect`,`ownKeys`)||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(16),i=n(15),a=n(18),o=n(61);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,c=0;s>c;)i.f(e,n=r[c++],t[n]);return e}},function(e,t,n){e.exports=n(46)(`document`,`documentElement`)},function(e,t,n){var r=n(24),i=n(82).f,a={}.toString,o=typeof window==`object`&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&a.call(e)==`[object Window]`?function(e){try{return i(e)}catch{return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(4),i=n(36).every,a=n(48),o=n(28),s=a(`every`),c=o(`every`);r({target:`Array`,proto:!0,forced:!s||!c},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(4),i=n(36).filter,a=n(63),o=n(28),s=a(`filter`),c=o(`filter`);r({target:`Array`,proto:!0,forced:!s||!c},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(46)(`navigator`,`userAgent`)||``},function(e,t,n){var r=n(4),i=n(36).find,a=n(130),o=n(28),s=!0,c=o(`find`);`find`in[]&&[,].find((function(){s=!1})),r({target:`Array`,proto:!0,forced:s||!c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(`find`)},function(e,t,n){var r=n(131).IteratorPrototype,i=n(60),a=n(40),o=n(62),s=n(49),c=function(){return this};e.exports=function(e,t,n){var l=t+` Iterator`;return e.prototype=i(r,{next:a(1,n)}),o(e,l,!1,!0),s[l]=c,e}},function(e,t,n){e.exports=!n(8)((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e)&&e!==null)throw TypeError(`Can't set `+String(e)+` as a prototype`);return e}},function(e,t,n){var r=n(4),i=n(36).map,a=n(63),o=n(28),s=a(`map`),c=o(`map`);r({target:`Array`,proto:!0,forced:!s||!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(4),i=n(200).left,a=n(48),o=n(28),s=a(`reduce`),c=o(`reduce`,{1:0});r({target:`Array`,proto:!0,forced:!s||!c},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(127),i=n(27),a=n(41),o=n(26),s=function(e){return function(t,n,s,c){r(n);var l=i(t),u=a(l),d=o(l.length),f=e?d-1:0,p=e?-1:1;if(s<2)for(;;){if(f in u){c=u[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw TypeError(`Reduce of empty array with no initial value`)}for(;e?f>=0:d>f;f+=p)f in u&&(c=n(c,u[f],f,l));return c}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){var r=n(4),i=n(36).some,a=n(48),o=n(28),s=a(`some`),c=o(`some`);r({target:`Array`,proto:!0,forced:!s||!c},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(90),i=n(135);e.exports=r?{}.toString:function(){return`[object `+i(this)+`]`}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){e.exports=!n(8)((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(5),i=n(49),a=r(`iterator`),o=Array.prototype;e.exports=function(e){return e!==void 0&&(i.Array===e||o[a]===e)}},function(e,t,n){var r=n(135),i=n(49),a=n(5)(`iterator`);e.exports=function(e){if(e!=null)return e[a]||e[`@@iterator`]||i[r(e)]}},function(e,t,n){var r=n(18);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw a!==void 0&&r(a.call(e)),t}}},function(e,t,n){var r=n(5)(`iterator`),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch{}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch{}return n}},function(e,t,n){var r=n(13),i=n(133);e.exports=function(e,t,n){var a,o;return i&&typeof(a=t.constructor)==`function`&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},function(e,t,n){var r=n(25);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(46),i=n(15),a=n(5),o=n(16),s=a(`species`);e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw TypeError(`Generator is already executing.`);for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||a[0]!==6&&a[0]!==2)){o=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(a[0]===6&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0}),t.FixedSizeSet=function(){function e(e){e===void 0&&(e=1e3),this._items=new Set,this._limit=e}return e.prototype.add=function(e){if(this._items.add(e),this._items.size>this._limit){var t=this._items.values().next();t.done||this._items.delete(t.value)}return this},e.prototype.delete=function(e){return this._items.delete(e)},e.prototype.has=function(e){return this._items.has(e)},e.prototype.clear=function(){this._items.clear()},Object.defineProperty(e.prototype,`size`,{get:function(){return this._items.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._items.forEach((function(r){return e.call(t,r,r,n)}))},e.prototype.keys=function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(this._items.keys())];case 1:return e.sent(),[2]}}))},e.prototype.values=function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(this._items.values())];case 1:return e.sent(),[2]}}))},e.prototype.entries=function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(this._items.entries())];case 1:return e.sent(),[2]}}))},e.prototype[Symbol.iterator]=function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(this._items)];case 1:return e.sent(),[2]}}))},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return`FixedSizeSet`},enumerable:!0,configurable:!0}),e}()},function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw TypeError(`Generator is already executing.`);for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||a[0]!==6&&a[0]!==2)){o=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(a[0]===6&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0}),t.ObjectCache=function(){function e(e){e===void 0&&(e=1e3),this._items=new Map,this._limit=e}return e.prototype.get=function(e){return this._items.get(e)},e.prototype.set=function(e,t){if(this._items.set(e,t),this._items.size>this._limit){var n=this._items.keys().next();n.done||this._items.delete(n.value)}},e.prototype.delete=function(e){return this._items.delete(e)},e.prototype.has=function(e){return this._items.has(e)},e.prototype.clear=function(){this._items.clear()},Object.defineProperty(e.prototype,`size`,{get:function(){return this._items.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){this._items.forEach((function(n,r){return e.call(t,r,n)}))},e.prototype.keys=function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(this._items.keys())];case 1:return e.sent(),[2]}}))},e.prototype.values=function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(this._items.values())];case 1:return e.sent(),[2]}}))},e.prototype.entries=function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(this._items.entries())];case 1:return e.sent(),[2]}}))},e.prototype[Symbol.iterator]=function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(this._items)];case 1:return e.sent(),[2]}}))},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return`ObjectCache`},enumerable:!0,configurable:!0}),e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.CompareCache=function(){function e(e){e===void 0&&(e=1e3),this._items=new Map,this._limit=e}return e.prototype.check=function(e,t){if(this._items.get(e)===t)return!0;if(this._items.get(t)===e)return!1;var n=Math.random()<.5;if(n?this._items.set(e,t):this._items.set(t,e),this._items.size>this._limit){var r=this._items.keys().next();r.done||this._items.delete(r.value)}return n},e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.Lazy=function(){function e(e){this._initialized=!1,this._value=void 0,this._initFunc=e}return Object.defineProperty(e.prototype,`value`,{get:function(){return this._initialized||=(this._value=this._initFunc(),!0),this._value},enumerable:!0,configurable:!0}),e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.StringWalker=function(){function e(e){this._pointer=0,this._chars=Array.from(e),this._length=this._chars.length}return Object.defineProperty(e.prototype,`eof`,{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`length`,{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var e=this._chars[this._pointer].codePointAt(0);this._codePoint=e===void 0?-1:e}return this._codePoint},e.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?``:this._chars[this._pointer]),this._c},e.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?``:this._chars.slice(this._pointer+1).join(``)),this._remaining},e.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?``:this._chars.slice(this._pointer).join(``)),this._substring},Object.defineProperty(e.prototype,`pointer`,{get:function(){return this._pointer},set:function(e){e!==this._pointer&&(this._pointer=e,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.MapWriter=n(218).MapWriter,t.XMLWriter=n(258).XMLWriter,t.ObjectWriter=n(67).ObjectWriter,t.JSONWriter=n(260).JSONWriter,t.YAMLWriter=n(261).YAMLWriter},function(e,t,n){n(19),n(219),n(20),n(22),n(23);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(1),o=n(67);t.MapWriter=function(e){function t(t,n){var r=e.call(this,t)||this;return r._writerOptions=a.applyDefaults(n,{format:`map`,wellFormed:!1,group:!1,verbose:!1}),r}return i(t,e),t.prototype.serialize=function(e){var t=a.applyDefaults(this._writerOptions,{format:`object`,wellFormed:!1,verbose:!1}),n=new o.ObjectWriter(this._builderOptions,t).serialize(e);return this._convertObject(n)},t.prototype._convertObject=function(e){if(a.isArray(e)){for(var t=0;t<e.length;t++)e[t]=this._convertObject(e[t]);return e}if(a.isObject(e)){var n=new Map;for(var r in e)n.set(r,this._convertObject(e[r]));return n}return e},t}(n(50).BaseWriter)},function(e,t,n){e.exports=n(139)(`Map`,(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(143))},function(e,t,n){var r=n(4),i=n(8),a=n(59),o=n(13),s=n(27),c=n(26),l=n(134),u=n(128),d=n(63),f=n(5),p=n(129),m=f(`isConcatSpreadable`),h=p>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=d(`concat`),_=function(e){if(!o(e))return!1;var t=e[m];return t===void 0?a(e):!!t};r({target:`Array`,proto:!0,forced:!h||!g},{concat:function(e){var t,n,r,i,a,o=s(this),d=u(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(_(a=t===-1?o:arguments[t])){if(f+(i=c(a.length))>9007199254740991)throw TypeError(`Maximum allowed index exceeded`);for(n=0;n<i;n++,f++)n in a&&l(d,f,a[n])}else{if(f>=9007199254740991)throw TypeError(`Maximum allowed index exceeded`);l(d,f++,a)}return d.length=f,d}})},function(e,t,n){var r=n(8);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i(`a`,`y`);return e.lastIndex=2,e.exec(`abcd`)!=null})),t.BROKEN_CARET=r((function(){var e=i(`^r`,`gy`);return e.lastIndex=2,e.exec(`str`)!=null}))},function(e,t,n){var r=n(223);e.exports=function(e){if(r(e))throw TypeError(`The method doesn't accept regular expressions`);return e}},function(e,t,n){var r=n(13),i=n(42),a=n(5)(`match`);e.exports=function(e){var t;return r(e)&&((t=e[a])===void 0?i(e)==`RegExp`:!!t)}},function(e,t,n){var r=n(5)(`match`);e.exports=function(e){var t=/./;try{`/./`[e](t)}catch{try{return t[r]=!1,`/./`[e](t)}catch{}}return!1}},function(e,t,n){n(68);var r=n(25),i=n(8),a=n(5),o=n(93),s=n(21),c=a(`species`),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:`7`},e},``.replace(e,`$<a>`)!==`7`})),u=`a`.replace(/./,`$0`)===`$0`,d=a(`replace`),f=!!/./[d]&&/./[d](`a`,`$0`)===``,p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n=`ab`.split(e);return n.length!==2||n[0]!==`a`||n[1]!==`b`}));e.exports=function(e,t,n,d){var m=a(e),h=!i((function(){var t={};return t[m]=function(){return 7},``[e](t)!=7})),g=h&&!i((function(){var t=!1,n=/a/;return e===`split`&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags=``,n[m]=/./[m]),n.exec=function(){return t=!0,null},n[m](``),!t}));if(!h||!g||e===`replace`&&(!l||!u||f)||e===`split`&&!p){var _=/./[m],v=n(m,``[e],(function(e,t,n,r,i){return t.exec===o?h&&!i?{done:!0,value:_.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),y=v[0],b=v[1];r(String.prototype,e,y),r(RegExp.prototype,m,t==2?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}d&&s(RegExp.prototype[m],`sham`,!0)}},function(e,t,n){var r=n(137).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(42),i=n(93);e.exports=function(e,t){var n=e.exec;if(typeof n==`function`){var a=n.call(e,t);if(typeof a!=`object`)throw TypeError(`RegExp exec method returned something other than an Object or null`);return a}if(r(e)!==`RegExp`)throw TypeError(`RegExp#exec called on incompatible receiver`);return i.call(e,t)}},function(e,t,n){(function(e){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(96);t.forgivingBase64Encode=function(t){return e.from(t).toString(`base64`)},t.forgivingBase64Decode=function(t){return t===``?``:((t=t.replace(r.ASCIIWhiteSpace,``)).length%4==0&&(t.endsWith(`==`)?t=t.substr(0,t.length-2):t.endsWith(`=`)&&(t=t.substr(0,t.length-1))),t.length%4==1?null:/[0-9A-Za-z+/]/.test(t)?e.from(t,`base64`).toString(`utf8`):null)}}).call(this,n(145).Buffer)},function(e,t,n){t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),o=r[0],s=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return s===2&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t),s===1&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(u(e,o,o+16383>s?s:o+16383));return i===1?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+`==`)):i===2&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+`=`)),a.join(``)};for(var r=[],i=[],a=typeof Uint8Array<`u`?Uint8Array:Array,o=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw Error(`Invalid string. Length must be a multiple of 4`);var n=e.indexOf(`=`);return n===-1&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join(``)}i[45]=62,i[95]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=f,u-=8);if(a===0)a=1-l;else{if(a===c)return o?NaN:1/0*(p?-1:1);o+=2**r,a-=l}return(p?-1:1)*o*2**(a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,f=i===23?2**-24-2**-77:0,p=r?0:a-1,m=r?1:-1,h=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=2**-o)<1&&(o--,c*=2),(t+=o+d>=1?f/c:f*2**(1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*2**i,o+=d):(s=t*2**(d-1)*2**i,o=0));i>=8;e[n+p]=255&s,p+=m,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+p]=255&o,p+=m,o/=256,l-=8);e[n+p-m]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return n.call(e)==`[object Array]`}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(1);function a(e){var t,n;if(e===null||i.isString(e)||i.isNumber(e))return e;if(i.isArray(e)){var o=[];try{for(var s=r(e),c=s.next();!c.done;c=s.next()){var l=c.value;o.push(a(l))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}if(i.isObject(e)){for(var u in o=new Map,e)if(e.hasOwnProperty(u)){var d=e[u];o.set(u,a(d))}return o}return e}t.parseJSONFromBytes=function(e){var t=i.utf8Decode(e);return JSON.parse.call(void 0,t)},t.serializeJSONToBytes=function(e){var t=JSON.stringify.call(void 0,e);return i.utf8Encode(t)},t.parseJSONIntoInfraValues=function(e){return a(JSON.parse.call(void 0,e))},t.convertAJSONDerivedJavaScriptValueToAnInfraValue=a},function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw TypeError(`Generator is already executing.`);for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||a[0]!==6&&a[0]!==2)){o=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(a[0]===6&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},o=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var s=n(1);t.append=function(e,t){e.push(t)},t.extend=function(e,t){e.push.apply(e,a(t))},t.prepend=function(e,t){e.unshift(t)},t.replace=function(e,t,n){var r,i,a=0;try{for(var c=o(e),l=c.next();!l.done;l=c.next()){var u=l.value;if(s.isFunction(t))t.call(null,u)&&(e[a]=n);else if(u===t)return void(e[a]=n);a++}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}},t.insert=function(e,t,n){e.splice(n,0,t)},t.remove=function(e,t){for(var n=e.length;n--;){var r=e[n];if(s.isFunction(t))t.call(null,r)&&e.splice(n,1);else if(r===t)return void e.splice(n,1)}},t.empty=function(e){e.length=0},t.contains=function(e,t){var n,r;try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var c=a.value;if(s.isFunction(t)){if(t.call(null,c))return!0}else if(c===t)return!0}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},t.size=function(e,t){var n,r;if(t===void 0)return e.length;var i=0;try{for(var a=o(e),s=a.next();!s.done;s=a.next()){var c=s.value;t.call(null,c)&&i++}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.isEmpty=function(e){return e.length===0},t.forEach=function(e,t){var n,i,a,s,c,l;return r(this,(function(r){switch(r.label){case 0:return t===void 0?[5,o(e)]:[3,2];case 1:return r.sent(),[3,9];case 2:r.trys.push([2,7,8,9]),n=o(e),i=n.next(),r.label=3;case 3:return i.done?[3,6]:(a=i.value,t.call(null,a)?[4,a]:[3,5]);case 4:r.sent(),r.label=5;case 5:return i=n.next(),[3,3];case 6:return[3,9];case 7:return s=r.sent(),c={error:s},[3,9];case 8:try{i&&!i.done&&(l=n.return)&&l.call(n)}finally{if(c)throw c.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new(Array.bind.apply(Array,a([void 0],e)))},t.sortInAscendingOrder=function(e,t){return e.sort((function(e,n){return t.call(null,e,n)?-1:1}))},t.sortInDescendingOrder=function(e,t){return e.sort((function(e,n){return t.call(null,e,n)?1:-1}))}},function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw TypeError(`Generator is already executing.`);for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||a[0]!==6&&a[0]!==2)){o=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(a[0]===6&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},a=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,`__esModule`,{value:!0});var s=n(1);t.get=function(e,t){return e.get(t)},t.set=function(e,t,n){e.set(t,n)},t.remove=function(e,t){var n,r,a,o;if(s.isFunction(t)){var c=[];try{for(var l=i(e),u=l.next();!u.done;u=l.next()){var d=u.value;t.call(null,d)&&c.push(d[0])}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var f=i(c),p=f.next();!p.done;p=f.next()){var m=p.value;e.delete(m)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}}else e.delete(t)},t.contains=function(e,t){var n,r;if(s.isFunction(t)){try{for(var a=i(e),o=a.next();!o.done;o=a.next()){var c=o.value;if(t.call(null,c))return!0}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!1}return e.has(t)},t.keys=function(e){return new Set(e.keys())},t.values=function(e){return o(e.values())},t.size=function(e,t){var n,r;if(t===void 0)return e.size;var a=0;try{for(var o=i(e),s=o.next();!s.done;s=o.next()){var c=s.value;t.call(null,c)&&a++}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},t.isEmpty=function(e){return e.size===0},t.forEach=function(e,t){var n,a,o,s,c,l;return r(this,(function(r){switch(r.label){case 0:return t===void 0?[5,i(e)]:[3,2];case 1:return r.sent(),[3,9];case 2:r.trys.push([2,7,8,9]),n=i(e),a=n.next(),r.label=3;case 3:return a.done?[3,6]:(o=a.value,t.call(null,o)?[4,o]:[3,5]);case 4:r.sent(),r.label=5;case 5:return a=n.next(),[3,3];case 6:return[3,9];case 7:return s=r.sent(),c={error:s},[3,9];case 8:try{a&&!a.done&&(l=n.return)&&l.call(n)}finally{if(c)throw c.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new Map(e)},t.sortInAscendingOrder=function(e,t){var n=new(Array.bind.apply(Array,o([void 0],e)));return n.sort((function(e,n){return t.call(null,e,n)?-1:1})),new Map(n)},t.sortInDescendingOrder=function(e,t){var n=new(Array.bind.apply(Array,o([void 0],e)));return n.sort((function(e,n){return t.call(null,e,n)?1:-1})),new Map(n)}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.HTML=`http://www.w3.org/1999/xhtml`,t.XML=`http://www.w3.org/XML/1998/namespace`,t.XMLNS=`http://www.w3.org/2000/xmlns/`,t.MathML=`http://www.w3.org/1998/Math/MathML`,t.SVG=`http://www.w3.org/2000/svg`,t.XLink=`http://www.w3.org/1999/xlink`},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.enqueue=function(e,t){e.push(t)},t.dequeue=function(e){return e.shift()||null}},function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw TypeError(`Generator is already executing.`);for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||a[0]!==6&&a[0]!==2)){o=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(a[0]===6&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},a=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,`__esModule`,{value:!0});var s=n(1);function c(e,t){var n,r;try{for(var a=i(e),o=a.next();!o.done;o=a.next()){var s=o.value;if(!t.has(s))return!1}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!0}t.append=function(e,t){e.add(t)},t.extend=function(e,t){t.forEach(e.add,e)},t.prepend=function(e,t){var n=new Set(e);e.clear(),e.add(t),n.forEach(e.add,e)},t.replace=function(e,t,n){var r,a,o=new Set;try{for(var c=i(e),l=c.next();!l.done;l=c.next()){var u=l.value;s.isFunction(t)?t.call(null,u)?o.add(n):o.add(u):u===t?o.add(n):o.add(u)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}e.clear(),o.forEach(e.add,e)},t.insert=function(e,t,n){var r,a,o=new Set,s=0;try{for(var c=i(e),l=c.next();!l.done;l=c.next()){var u=l.value;s===n&&o.add(t),o.add(u),s++}}catch(e){r={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}e.clear(),o.forEach(e.add,e)},t.remove=function(e,t){var n,r,a,o;if(s.isFunction(t)){var c=[];try{for(var l=i(e),u=l.next();!u.done;u=l.next()){var d=u.value;t.call(null,d)&&c.push(d)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var f=i(c),p=f.next();!p.done;p=f.next()){var m=p.value;e.delete(m)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}}else e.delete(t)},t.empty=function(e){e.clear()},t.contains=function(e,t){var n,r;if(!s.isFunction(t))return e.has(t);try{for(var a=i(e),o=a.next();!o.done;o=a.next()){var c=o.value;if(t.call(null,c))return!0}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!1},t.size=function(e,t){var n,r;if(t===void 0)return e.size;var a=0;try{for(var o=i(e),s=o.next();!s.done;s=o.next()){var c=s.value;t.call(null,c)&&a++}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},t.isEmpty=function(e){return e.size===0},t.forEach=function(e,t){var n,a,o,s,c,l;return r(this,(function(r){switch(r.label){case 0:return t===void 0?[5,i(e)]:[3,2];case 1:return r.sent(),[3,9];case 2:r.trys.push([2,7,8,9]),n=i(e),a=n.next(),r.label=3;case 3:return a.done?[3,6]:(o=a.value,t.call(null,o)?[4,o]:[3,5]);case 4:r.sent(),r.label=5;case 5:return a=n.next(),[3,3];case 6:return[3,9];case 7:return s=r.sent(),c={error:s},[3,9];case 8:try{a&&!a.done&&(l=n.return)&&l.call(n)}finally{if(c)throw c.error}return[7];case 9:return[2]}}))},t.clone=function(e){return new Set(e)},t.sortInAscendingOrder=function(e,t){var n=new(Array.bind.apply(Array,o([void 0],e)));return n.sort((function(e,n){return t.call(null,e,n)?-1:1})),new Set(n)},t.sortInDescendingOrder=function(e,t){var n=new(Array.bind.apply(Array,o([void 0],e)));return n.sort((function(e,n){return t.call(null,e,n)?1:-1})),new Set(n)},t.isSubsetOf=c,t.isSupersetOf=function(e,t){return c(t,e)},t.intersection=function(e,t){var n,r,a=new Set;try{for(var o=i(e),s=o.next();!s.done;s=o.next()){var c=s.value;t.has(c)&&a.add(c)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},t.union=function(e,t){var n=new Set(e);return t.forEach(n.add,n),n},t.range=function(e,t){for(var n=new Set,r=e;r<=t;r++)n.add(r);return n}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.push=function(e,t){e.push(t)},t.pop=function(e){return e.pop()||null}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(96),a=n(147),o=n(146),s=n(1);function c(e,t){for(var n=0;;){var r=n<e.length?e.charCodeAt(n):null,i=n<t.length?t.charCodeAt(n):null;if(r===null)return!0;if(r!==i)return!1;n++}}function l(e){var t,n,i=Array.from(e),a=new Uint8Array(i.length),o=0;try{for(var s=r(e),c=s.next();!c.done;c=s.next()){var l=c.value.codePointAt(0);console.assert(l!==void 0&&l<=255,`isomorphicEncode requires string bytes to be less than or equal to 0x00FF.`),l!==void 0&&l<=255&&(a[o++]=l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}function u(e){return/^[\u0000-\u007F]*$/.test(e)}function d(e){var t,n,i=``;try{for(var a=r(e),o=a.next();!o.done;o=a.next()){var s=o.value,c=s.codePointAt(0);i+=c!==void 0&&c>=65&&c<=90?String.fromCodePoint(c+32):s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}function f(e){return e.replace(/^[\t\n\f\r ]+/,``).replace(/[\t\n\f\r ]+$/,``)}function p(e,t,n){if(!s.isArray(t))return p(e,Array.from(t),n);for(var r=``;n.position<t.length&&e.call(null,t[n.position]);)r+=t[n.position],n.position++;return r}function m(e,t){p((function(e){return i.ASCIIWhiteSpace.test(e)}),e,t)}t.isCodeUnitPrefix=c,t.isCodeUnitLessThan=function(e,t){if(c(t,e))return!1;if(c(e,t))return!0;for(var n=0;n<Math.min(e.length,t.length);n++){var r=e.charCodeAt(n),i=t.charCodeAt(n);if(r!==i)return r<i}return!1},t.isomorphicEncode=l,t.isASCIIString=u,t.asciiLowercase=d,t.asciiUppercase=function(e){var t,n,i=``;try{for(var a=r(e),o=a.next();!o.done;o=a.next()){var s=o.value,c=s.codePointAt(0);i+=c!==void 0&&c>=97&&c<=122?String.fromCodePoint(c-32):s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},t.asciiCaseInsensitiveMatch=function(e,t){return d(e)===d(t)},t.asciiEncode=function(e){return console.assert(u(e),`asciiEncode requires an ASCII string.`),l(e)},t.asciiDecode=function(e){var t,n;try{for(var i=r(e),s=i.next();!s.done;s=i.next()){var c=s.value;console.assert(o.isASCIIByte(c),`asciiDecode requires an ASCII byte sequence.`)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a.isomorphicDecode(e)},t.stripNewlines=function(e){return e.replace(/[\n\r]/g,``)},t.normalizeNewlines=function(e){return e.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},t.stripLeadingAndTrailingASCIIWhitespace=f,t.stripAndCollapseASCIIWhitespace=function(e){return f(e.replace(/[\t\n\f\r ]{2,}/g,` `))},t.collectASequenceOfCodePoints=p,t.skipASCIIWhitespace=m,t.strictlySplit=function e(t,n){if(!s.isArray(t))return e(Array.from(t),n);var r={position:0},i=[],a=p((function(e){return n!==e}),t,r);for(i.push(a);r.position<t.length;)console.assert(t[r.position]===n,`strictlySplit found no delimiter in input string.`),r.position++,a=p((function(e){return n!==e}),t,r),i.push(a);return i},t.splitAStringOnASCIIWhitespace=function e(t){if(!s.isArray(t))return e(Array.from(t));var n={position:0},r=[];for(m(t,n);n.position<t.length;){var a=p((function(e){return!i.ASCIIWhiteSpace.test(e)}),t,n);r.push(a),m(t,n)}return r},t.splitAStringOnCommas=function e(t){if(!s.isArray(t))return e(Array.from(t));for(var n={position:0},r=[];n.position<t.length;){var i=p((function(e){return e!==`,`}),t,n);r.push(f(i)),n.position<t.length&&(console.assert(t[n.position]===`,`,`splitAStringOnCommas found no delimiter in input string.`),n.position++)}return r},t.concatenate=function(e,t){return t===void 0&&(t=``),e.length===0?``:e.join(t)}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(97);t.abort_add=function(e,t){t._abortedFlag||t._abortAlgorithms.add(e)},t.abort_remove=function(e,t){t._abortAlgorithms.delete(e)},t.abort_signalAbort=function(e){var t,n;if(!e._abortedFlag){e._abortedFlag=!0;try{for(var a=r(e._abortAlgorithms),o=a.next();!o.done;o=a.next())o.value.call(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}e._abortAlgorithms.clear(),i.event_fireAnEvent(`abort`,e)}}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(150);t.Cast=function(){function e(){}return e.asNode=function(e){if(r.Guard.isNode(e))return e;throw Error(`Invalid object. Node expected.`)},e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.EmptySet=function(){function e(){}return Object.defineProperty(e.prototype,`size`,{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.add=function(e){throw Error(`Cannot add to an empty set.`)},e.prototype.clear=function(){},e.prototype.delete=function(e){return!1},e.prototype.forEach=function(e,t){},e.prototype.has=function(e){return!1},e.prototype[Symbol.iterator]=function(){return new r},e.prototype.entries=function(){return new r},e.prototype.keys=function(){return new r},e.prototype.values=function(){return new r},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return`EmptySet`},enumerable:!0,configurable:!0}),e}();var r=function(){function e(){}return e.prototype[Symbol.iterator]=function(){return this},e.prototype.next=function(){return{done:!0,value:null}},e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),function(e){e[e.SchemeStart=0]=`SchemeStart`,e[e.Scheme=1]=`Scheme`,e[e.NoScheme=2]=`NoScheme`,e[e.SpecialRelativeOrAuthority=3]=`SpecialRelativeOrAuthority`,e[e.PathOrAuthority=4]=`PathOrAuthority`,e[e.Relative=5]=`Relative`,e[e.RelativeSlash=6]=`RelativeSlash`,e[e.SpecialAuthoritySlashes=7]=`SpecialAuthoritySlashes`,e[e.SpecialAuthorityIgnoreSlashes=8]=`SpecialAuthorityIgnoreSlashes`,e[e.Authority=9]=`Authority`,e[e.Host=10]=`Host`,e[e.Hostname=11]=`Hostname`,e[e.Port=12]=`Port`,e[e.File=13]=`File`,e[e.FileSlash=14]=`FileSlash`,e[e.FileHost=15]=`FileHost`,e[e.PathStart=16]=`PathStart`,e[e.Path=17]=`Path`,e[e.CannotBeABaseURLPath=18]=`CannotBeABaseURLPath`,e[e.Query=19]=`Query`,e[e.Fragment=20]=`Fragment`}(t.ParserState||={}),t.OpaqueOrigin=[``,``,null,null]},function(e,t,n){var r=n(245),i=n(247);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=v(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=[`'`,`{`,`}`,`|`,`\\`,`^`,"`",`<`,`>`,`"`,"`",` `,`\r`,`
`,`	`],u=[`%`,`/`,`?`,`;`,`#`].concat(l),d=[`/`,`?`,`#`],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n(248);function v(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw TypeError(`Parameter 'url' must be a string, not `+typeof e);var a=e.indexOf(`?`),s=a!==-1&&a<e.indexOf(`#`)?`?`:`#`,v=e.split(s);v[0]=v[0].replace(/\\/g,`/`);var y=e=v.join(s);if(y=y.trim(),!n&&e.split(`#`).length===1){var b=c.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search=``,this.query={}),this}var x=o.exec(y);if(x){var S=(x=x[0]).toLowerCase();this.protocol=S,y=y.substr(x.length)}if(n||x||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var C=y.substr(0,2)===`//`;!C||x&&h[x]||(y=y.substr(2),this.slashes=!0)}if(!h[x]&&(C||x&&!g[x])){for(var w,T,E=-1,D=0;D<d.length;D++)(O=y.indexOf(d[D]))!==-1&&(E===-1||O<E)&&(E=O);for((T=E===-1?y.lastIndexOf(`@`):y.lastIndexOf(`@`,E))!==-1&&(w=y.slice(0,T),y=y.slice(T+1),this.auth=decodeURIComponent(w)),E=-1,D=0;D<u.length;D++){var O;(O=y.indexOf(u[D]))!==-1&&(E===-1||O<E)&&(E=O)}E===-1&&(E=y.length),this.host=y.slice(0,E),y=y.slice(E),this.parseHost(),this.hostname=this.hostname||``;var k=this.hostname[0]===`[`&&this.hostname[this.hostname.length-1]===`]`;if(!k)for(var A=this.hostname.split(/\./),j=(D=0,A.length);D<j;D++){var M=A[D];if(M&&!M.match(f)){for(var ee=``,te=0,N=M.length;te<N;te++)M.charCodeAt(te)>127?ee+=`x`:ee+=M[te];if(!ee.match(f)){var ne=A.slice(0,D),re=A.slice(D+1),ie=M.match(p);ie&&(ne.push(ie[1]),re.unshift(ie[2])),re.length&&(y=`/`+re.join(`.`)+y),this.hostname=ne.join(`.`);break}}}this.hostname.length>255?this.hostname=``:this.hostname=this.hostname.toLowerCase(),k||(this.hostname=r.toASCII(this.hostname));var P=this.port?`:`+this.port:``;this.host=(this.hostname||``)+P,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),y[0]!==`/`&&(y=`/`+y))}if(!m[S])for(D=0,j=l.length;D<j;D++){var ae=l[D];if(y.indexOf(ae)!==-1){var oe=encodeURIComponent(ae);oe===ae&&(oe=escape(ae)),y=y.split(ae).join(oe)}}var se=y.indexOf(`#`);se!==-1&&(this.hash=y.substr(se),y=y.slice(0,se));var ce=y.indexOf(`?`);if(ce===-1?t&&(this.search=``,this.query={}):(this.search=y.substr(ce),this.query=y.substr(ce+1),t&&(this.query=_.parse(this.query)),y=y.slice(0,ce)),y&&(this.pathname=y),g[S]&&this.hostname&&!this.pathname&&(this.pathname=`/`),this.pathname||this.search){P=this.pathname||``;var le=this.search||``;this.path=P+le}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||``;e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,`:`),e+=`@`);var t=this.protocol||``,n=this.pathname||``,r=this.hash||``,a=!1,o=``;this.host?a=e+this.host:this.hostname&&(a=e+(this.hostname.indexOf(`:`)===-1?this.hostname:`[`+this.hostname+`]`),this.port&&(a+=`:`+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=_.stringify(this.query));var s=this.search||o&&`?`+o||``;return t&&t.substr(-1)!==`:`&&(t+=`:`),this.slashes||(!t||g[t])&&!1!==a?(a=`//`+(a||``),n&&n.charAt(0)!==`/`&&(n=`/`+n)):a||=``,r&&r.charAt(0)!==`#`&&(r=`#`+r),s&&s.charAt(0)!==`?`&&(s=`?`+s),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace(`#`,`%23`))+r},a.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,e.href===``)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];u!==`protocol`&&(n[u]=e[u])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname=`/`),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||h[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||``).split(`/`);m.length&&!(e.host=m.shift()););e.host||=``,e.hostname||=``,m[0]!==``&&m.unshift(``),m.length<2&&m.unshift(``),n.pathname=m.join(`/`)}return n.search=e.search,n.query=e.query,n.host=e.host||``,n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||``)+(n.search||``)),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var _=n.pathname&&n.pathname.charAt(0)===`/`,v=e.host||e.pathname&&e.pathname.charAt(0)===`/`,y=v||_||n.host&&e.pathname,b=y,x=n.pathname&&n.pathname.split(`/`)||[],S=(m=e.pathname&&e.pathname.split(`/`)||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname=``,n.port=null,n.host&&(x[0]===``?x[0]=n.host:x.unshift(n.host)),n.host=``,e.protocol&&(e.hostname=null,e.port=null,e.host&&(m[0]===``?m[0]=e.host:m.unshift(e.host)),e.host=null),y&&=m[0]===``||x[0]===``),v)n.host=e.host||e.host===``?e.host:n.host,n.hostname=e.hostname||e.hostname===``?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=m;else if(m.length)x||=[],x.pop(),x=x.concat(m),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=x.shift(),(D=!!(n.host&&n.host.indexOf(`@`)>0)&&n.host.split(`@`))&&(n.auth=D.shift(),n.host=n.hostname=D.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:``)+(n.search?n.search:``)),n.href=n.format(),n;if(!x.length)return n.pathname=null,n.search?n.path=`/`+n.search:n.path=null,n.href=n.format(),n;for(var C=x.slice(-1)[0],w=(n.host||e.host||x.length>1)&&(C===`.`||C===`..`)||C===``,T=0,E=x.length;E>=0;E--)(C=x[E])===`.`?x.splice(E,1):C===`..`?(x.splice(E,1),T++):T&&(x.splice(E,1),T--);if(!y&&!b)for(;T--;)x.unshift(`..`);!y||x[0]===``||x[0]&&x[0].charAt(0)===`/`||x.unshift(``),w&&x.join(`/`).substr(-1)!==`/`&&x.push(``);var D,O=x[0]===``||x[0]&&x[0].charAt(0)===`/`;return S&&(n.hostname=n.host=O?``:x.length?x.shift():``,(D=!!(n.host&&n.host.indexOf(`@`)>0)&&n.host.split(`@`))&&(n.auth=D.shift(),n.host=n.hostname=D.shift())),(y||=n.host&&x.length)&&!O&&x.unshift(``),x.length?n.pathname=x.join(`/`):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:``)+(n.search?n.search:``)),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&((t=t[0])!==`:`&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var i;(function(a){t&&t.nodeType,e&&e.nodeType;var o=typeof r==`object`&&r;o.global!==o&&o.window!==o&&o.self;var s,c=2147483647,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:`Overflow: input needs wider integers to process`,"not-basic":`Illegal input >= 0x80 (not a basic code point)`,"invalid-input":`Invalid input`},p=Math.floor,m=String.fromCharCode;function h(e){throw RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function _(e,t){var n=e.split(`@`),r=``;return n.length>1&&(r=n[0]+`@`,e=n[1]),r+g((e=e.replace(d,`.`)).split(`.`),t).join(`.`)}function v(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?(64512&(n=e.charCodeAt(i++)))==56320?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function y(e){return g(e,(function(e){var t=``;return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join(``)}function b(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function x(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function S(e){var t,n,r,i,a,o,s,l,u,d,f,m=[],g=e.length,_=0,v=128,b=72;for((n=e.lastIndexOf(`-`))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&h(`not-basic`),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=_,o=1,s=36;i>=g&&h(`invalid-input`),((l=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||l>p((c-_)/o))&&h(`overflow`),_+=l*o,!(l<(u=s<=b?1:s>=b+26?26:s-b));s+=36)o>p(c/(d=36-u))&&h(`overflow`),o*=d;b=x(_-a,t=m.length+1,a==0),p(_/t)>c-v&&h(`overflow`),v+=p(_/t),_%=t,m.splice(_++,0,v)}return y(m)}function C(e){var t,n,r,i,a,o,s,l,u,d,f,g,_,y,S,C=[];for(g=(e=v(e)).length,t=128,n=0,a=72,o=0;o<g;++o)(f=e[o])<128&&C.push(m(f));for(r=i=C.length,i&&C.push(`-`);r<g;){for(s=c,o=0;o<g;++o)(f=e[o])>=t&&f<s&&(s=f);for(s-t>p((c-n)/(_=r+1))&&h(`overflow`),n+=(s-t)*_,t=s,o=0;o<g;++o)if((f=e[o])<t&&++n>c&&h(`overflow`),f==t){for(l=n,u=36;!(l<(d=u<=a?1:u>=a+26?26:u-a));u+=36)S=l-d,y=36-d,C.push(m(b(d+S%y,0))),l=p(S/y);C.push(m(b(l,0))),a=x(n,_,r==i),n=0,++r}++n,++t}return C.join(``)}s={version:`1.4.1`,ucs2:{decode:v,encode:y},decode:S,encode:C,toASCII:function(e){return _(e,(function(e){return u.test(e)?`xn--`+C(e):e}))},toUnicode:function(e){return _(e,(function(e){return l.test(e)?S(e.slice(4).toLowerCase()):e}))}},(i=function(){return s}.call(t,n,t,e))===void 0||(e.exports=i)})()}).call(this,n(246)(e),n(78))},function(e,t){e.exports=function(e){return e.webpackPolyfill||=(e.deprecate=function(){},e.paths=[],e.children||=[],Object.defineProperty(e,`loaded`,{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,`id`,{enumerable:!0,get:function(){return e.i}}),1),e}},function(e,t,n){e.exports={isString:function(e){return typeof e==`string`},isObject:function(e){return typeof e==`object`&&!!e},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},function(e,t,n){t.decode=t.parse=n(249),t.encode=t.stringify=n(250)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t||=`&`,n||=`=`;var o={};if(typeof e!=`string`||e.length===0)return o;var s=/\+/g;e=e.split(t);var c=1e3;a&&typeof a.maxKeys==`number`&&(c=a.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,f,p,m,h=e[u].replace(s,`%20`),g=h.indexOf(n);g>=0?(d=h.substr(0,g),f=h.substr(g+1)):(d=h,f=``),p=decodeURIComponent(d),m=decodeURIComponent(f),r(o,p)?i(o[p])?o[p].push(m):o[p]=[o[p],m]:o[p]=m}return o};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)===`[object Array]`}},function(e,t,n){var r=function(e){switch(typeof e){case`string`:return e;case`boolean`:return e?`true`:`false`;case`number`:return isFinite(e)?e:``;default:return``}};e.exports=function(e,t,n,s){return t||=`&`,n||=`=`,e===null&&(e=void 0),typeof e==`object`?a(o(e),(function(o){var s=encodeURIComponent(r(o))+n;return i(e[o])?a(e[o],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[o]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):``};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)===`[object Array]`};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(52);t.attr_setAnExistingAttributeValue=function(e,t){e._element===null?e._value=t:r.element_change(e,e._element,t)}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(108),i=n(30),a=n(52);t.tokenList_validationSteps=function(e,t){if(!i.dom_hasSupportedTokens(e._attribute._localName))throw TypeError(`There are no supported tokens defined for attribute name: '`+e._attribute._localName+`'.`);return i.dom_getSupportedTokens(e._attribute._localName).has(t.toLowerCase())},t.tokenList_updateSteps=function(e){(e._element.hasAttribute(e._attribute._localName)||e._tokenSet.size!==0)&&a.element_setAnAttributeValue(e._element,e._attribute._localName,r.orderedSet_serialize(e._tokenSet))},t.tokenList_serializeSteps=function(e){return a.element_getAnAttributeValue(e._element,e._attribute._localName)}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(1);function a(e){return i.isBoolean(e)?e:e.capture||!1}t.eventTarget_flatten=a,t.eventTarget_flattenMore=function(e){var t=a(e),n=!1,r=!1;return i.isBoolean(e)||(n=e.once||!1,r=e.passive||!1),[t,r,n]},t.eventTarget_addEventListener=function(e,t){if(t.callback!==null){for(var n=0;n<e._eventListenerList.length;n++){var r=e._eventListenerList[n];if(r.type===t.type&&r.callback.handleEvent===t.callback.handleEvent&&r.capture===t.capture)return}e._eventListenerList.push(t)}},t.eventTarget_removeEventListener=function(e,t,n){t.removed=!0,e._eventListenerList.splice(n,1)},t.eventTarget_removeAllEventListeners=function(e){var t,n;try{for(var i=r(e._eventListenerList),a=i.next();!a.done;a=i.next())a.value.removed=!0}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e._eventListenerList.length=0}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(1),a=n(29);t.parentNode_convertNodesIntoANode=function(e,t){for(var n,o,s=null,c=0;c<e.length;c++){var l=e[c];i.isString(l)&&(e[c]=a.create_text(t,l))}if(e.length===1)s=e[0];else{var u=s=a.create_documentFragment(t);try{for(var d=r(e),f=d.next();!f.done;f=d.next())l=f.value,u.appendChild(l)}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}return s}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},i=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(2),s=n(9),c=n(3),l=n(29),u=n(17),d=n(175),f=n(107),p=n(176),m=n(37),h=n(177);function g(e){return e._startNode===e._endNode&&e._startOffset===e._endOffset}function _(e){return u.tree_rootNode(e._startNode)}function v(e,t){return u.tree_rootNode(e)===_(t)&&d.boundaryPoint_position([e,0],t._start)===o.BoundaryPosition.After&&d.boundaryPoint_position([e,u.tree_nodeLength(e)],t._end)===o.BoundaryPosition.Before}function y(e,t){var n=u.tree_isAncestorOf(t._startNode,e,!0),r=u.tree_isAncestorOf(t._endNode,e,!0);return n&&!r||!n&&r}function b(e){var t,n,i,o,d,h,_=l.create_documentFragment(e._startNode._nodeDocument);if(g(e))return _;var x=e._startNode,S=e._startOffset,C=e._endNode,w=e._endOffset;if(x===C&&c.Guard.isCharacterDataNode(x))return(P=p.node_clone(x))._data=f.characterData_substringData(x,S,w-S),m.mutation_append(P,_),f.characterData_replaceData(x,S,w-S,``),_;for(var T=x;!u.tree_isAncestorOf(C,T,!0);){if(T._parent===null)throw Error(`Parent node  is null.`);T=T._parent}var E=null;if(!u.tree_isAncestorOf(C,x,!0))try{for(var D=r(T._children),O=D.next();!O.done;O=D.next())if(y(M=O.value,e)){E=M;break}}catch(e){t={error:e}}finally{try{O&&!O.done&&(n=D.return)&&n.call(D)}finally{if(t)throw t.error}}var k=null;if(!u.tree_isAncestorOf(x,C,!0))for(var A=a(T._children),j=A.length-1;j>0;j--){var M;if(y(M=A[j],e)){k=M;break}}var ee,te,N=[];try{for(var ne=r(T._children),re=ne.next();!re.done;re=ne.next())if(v(ce=re.value,e)){if(c.Guard.isDocumentTypeNode(ce))throw new s.HierarchyRequestError;N.push(ce)}}catch(e){i={error:e}}finally{try{re&&!re.done&&(o=ne.return)&&o.call(ne)}finally{if(i)throw i.error}}if(u.tree_isAncestorOf(C,x,!0))ee=x,te=S;else{for(var ie=x;ie._parent!==null&&!u.tree_isAncestorOf(C,ie._parent);)ie=ie._parent;if(ie._parent===null)throw Error(`Parent node is null.`);ee=ie._parent,te=1+u.tree_index(ie)}if(c.Guard.isCharacterDataNode(E))(P=p.node_clone(x))._data=f.characterData_substringData(x,S,u.tree_nodeLength(x)-S),m.mutation_append(P,_),f.characterData_replaceData(x,S,u.tree_nodeLength(x)-S,``);else if(E!==null){var P=p.node_clone(E);m.mutation_append(P,_);var ae=b(l.create_range([x,S],[E,u.tree_nodeLength(E)]));m.mutation_append(ae,P)}try{for(var oe=r(N),se=oe.next();!se.done;se=oe.next()){var ce=se.value;m.mutation_append(ce,_)}}catch(e){d={error:e}}finally{try{se&&!se.done&&(h=oe.return)&&h.call(oe)}finally{if(d)throw d.error}}return c.Guard.isCharacterDataNode(k)?((P=p.node_clone(C))._data=f.characterData_substringData(C,0,w),m.mutation_append(P,_),f.characterData_replaceData(C,0,w,``)):k!==null&&(P=p.node_clone(k),m.mutation_append(P,_),ae=b(l.create_range([k,0],[C,w])),m.mutation_append(ae,P)),e._start=[ee,te],e._end=[ee,te],_}t.range_collapsed=g,t.range_root=_,t.range_isContained=v,t.range_isPartiallyContained=y,t.range_setTheStart=function(e,t,n){if(c.Guard.isDocumentTypeNode(t))throw new s.InvalidNodeTypeError;if(n>u.tree_nodeLength(t))throw new s.IndexSizeError;var r=[t,n];_(e)===u.tree_rootNode(t)&&d.boundaryPoint_position(r,e._end)!==o.BoundaryPosition.After||(e._end=r),e._start=r},t.range_setTheEnd=function(e,t,n){if(c.Guard.isDocumentTypeNode(t))throw new s.InvalidNodeTypeError;if(n>u.tree_nodeLength(t))throw new s.IndexSizeError;var r=[t,n];_(e)===u.tree_rootNode(t)&&d.boundaryPoint_position(r,e._start)!==o.BoundaryPosition.Before||(e._start=r),e._end=r},t.range_select=function(e,t){var n=e._parent;if(n===null)throw new s.InvalidNodeTypeError;var r=u.tree_index(e);t._start=[n,r],t._end=[n,r+1]},t.range_extract=b,t.range_cloneTheContents=function e(t){var n,i,o,d,h,_,x=l.create_documentFragment(t._startNode._nodeDocument);if(g(t))return x;var S=t._startNode,C=t._startOffset,w=t._endNode,T=t._endOffset;S===w&&c.Guard.isCharacterDataNode(S)&&((re=p.node_clone(S))._data=f.characterData_substringData(S,C,T-C),m.mutation_append(re,x));for(var E=S;!u.tree_isAncestorOf(w,E,!0);){if(E._parent===null)throw Error(`Parent node  is null.`);E=E._parent}var D=null;if(!u.tree_isAncestorOf(w,S,!0))try{for(var O=r(E._children),k=O.next();!k.done;k=O.next())if(y(ee=k.value,t)){D=ee;break}}catch(e){n={error:e}}finally{try{k&&!k.done&&(i=O.return)&&i.call(O)}finally{if(n)throw n.error}}var A=null;if(!u.tree_isAncestorOf(S,w,!0))for(var j=a(E._children),M=j.length-1;M>0;M--){var ee;if(y(ee=j[M],t)){A=ee;break}}var te=[];try{for(var N=r(E._children),ne=N.next();!ne.done;ne=N.next())if(v(oe=ne.value,t)){if(c.Guard.isDocumentTypeNode(oe))throw new s.HierarchyRequestError;te.push(oe)}}catch(e){o={error:e}}finally{try{ne&&!ne.done&&(d=N.return)&&d.call(N)}finally{if(o)throw o.error}}if(c.Guard.isCharacterDataNode(D))(re=p.node_clone(S))._data=f.characterData_substringData(S,C,u.tree_nodeLength(S)-C),m.mutation_append(re,x);else if(D!==null){var re=p.node_clone(D);m.mutation_append(re,x);var ie=e(l.create_range([S,C],[D,u.tree_nodeLength(D)]));m.mutation_append(ie,re)}try{for(var P=r(te),ae=P.next();!ae.done;ae=P.next()){var oe=ae.value,re=p.node_clone(oe);m.mutation_append(re,x)}}catch(e){h={error:e}}finally{try{ae&&!ae.done&&(_=P.return)&&_.call(P)}finally{if(h)throw h.error}}return c.Guard.isCharacterDataNode(A)?((re=p.node_clone(w))._data=f.characterData_substringData(w,0,T),m.mutation_append(re,x)):A!==null&&(re=p.node_clone(A),x.append(re),ie=b(l.create_range([A,0],[w,T])),m.mutation_append(ie,re)),x},t.range_insert=function(e,t){var n,i;if(c.Guard.isProcessingInstructionNode(t._startNode)||c.Guard.isCommentNode(t._startNode)||c.Guard.isTextNode(t._startNode)&&t._startNode._parent===null||t._startNode===e)throw new s.HierarchyRequestError;var a,o=null;if(c.Guard.isTextNode(t._startNode))o=t._startNode;else{var l=0;try{for(var d=r(t._startNode._children),f=d.next();!f.done;f=d.next()){var p=f.value;if(l===t._startOffset){o=p;break}l++}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}if(o===null)a=t._startNode;else{if(o._parent===null)throw Error(`Parent node is null.`);a=o._parent}m.mutation_ensurePreInsertionValidity(e,a,o),c.Guard.isTextNode(t._startNode)&&(o=h.text_split(t._startNode,t._startOffset)),e===o&&(o=e._nextSibling),e._parent!==null&&m.mutation_remove(e,e._parent);var _=o===null?u.tree_nodeLength(a):u.tree_index(o);c.Guard.isDocumentFragmentNode(e)?_+=u.tree_nodeLength(e):_++,m.mutation_preInsert(e,a,o),g(t)&&(t._end=[a,_])},t.range_getContainedNodes=function(e){var t;return(t={})[Symbol.iterator]=function(){var t=e.commonAncestorContainer,n=u.tree_getFirstDescendantNode(t);return{next:function(){for(;n&&!v(n,e);)n=u.tree_getNextDescendantNode(t,n);if(n===null)return{done:!0,value:null};var r={done:!1,value:n};return n=u.tree_getNextDescendantNode(t,n),r}}},t},t.range_getPartiallyContainedNodes=function(e){var t;return(t={})[Symbol.iterator]=function(){var t=e.commonAncestorContainer,n=u.tree_getFirstDescendantNode(t);return{next:function(){for(;n&&!y(n,e);)n=u.tree_getNextDescendantNode(t,n);if(n===null)return{done:!0,value:null};var r={done:!1,value:n};return n=u.tree_getNextDescendantNode(t,n),r}}},t}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(9);t.selectors_scopeMatchASelectorsString=function(e,t){throw new r.NotSupportedError}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2),i=n(105);t.treeWalker_traverseChildren=function(e,t){for(var n=t?e._current._firstChild:e._current._lastChild;n!==null;){var a=i.traversal_filter(e,n);if(a===r.FilterResult.Accept)return e._current=n,n;if(a===r.FilterResult.Skip){var o=t?n._firstChild:n._lastChild;if(o!==null){n=o;continue}}for(;n!==null;){var s=t?n._nextSibling:n._previousSibling;if(s!==null){n=s;break}var c=n._parent;if(c===null||c===e._root||c===e._current)return null;n=c}}return null},t.treeWalker_traverseSiblings=function(e,t){var n=e._current;if(n===e._root)return null;for(;;){for(var a=t?n._nextSibling:n._previousSibling;a!==null;){n=a;var o=i.traversal_filter(e,n);if(o===r.FilterResult.Accept)return e._current=n,n;a=t?n._firstChild:n._lastChild,o!==r.FilterResult.Reject&&a!==null||(a=t?n._nextSibling:n._previousSibling)}if((n=n._parent)===null||n===e._root||i.traversal_filter(e,n)===r.FilterResult.Accept)return null}}},function(e,t,n){n(89),n(74);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(1),o=n(2),s=n(50),c=n(3);t.XMLWriter=function(e){function t(t,n){var r=e.call(this,t)||this;return r._indentation={},r._lengthToLastNewline=0,r._writerOptions=a.applyDefaults(n,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:`  `,newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),r}return i(t,e),t.prototype.serialize=function(e){return this._refs={suppressPretty:!1,emptyNode:!1,markup:``},e.nodeType!==o.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(e,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},t.prototype.declaration=function(e,t,n){this._beginLine(),this._refs.markup+=`<?xml version="`+e+`"`,t!==void 0&&(this._refs.markup+=` encoding="`+t+`"`),n!==void 0&&(this._refs.markup+=` standalone="`+(n?`yes`:`no`)+`"`),this._refs.markup+=`?>`,this._endLine()},t.prototype.docType=function(e,t,n){this._beginLine(),this._refs.markup+=t&&n?`<!DOCTYPE `+e+` PUBLIC "`+t+`" "`+n+`">`:t?`<!DOCTYPE `+e+` PUBLIC "`+t+`">`:n?`<!DOCTYPE `+e+` SYSTEM "`+n+`">`:`<!DOCTYPE `+e+`>`,this._endLine()},t.prototype.openTagBegin=function(e){this._beginLine(),this._refs.markup+=`<`+e},t.prototype.openTagEnd=function(e,t,n){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!t&&!n){for(var r=!0,i=!0,a=this.currentNode.firstChild,o=0,s=0;a;){if(c.Guard.isExclusiveTextNode(a))s++;else{if(!c.Guard.isCDATASectionNode(a)){r=!1,i=!1;break}o++}a.data!==``&&(i=!1),a=a.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&r&&(o<=1&&s===0||o===0),this._refs.emptyNode=i}(n||t||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+=`></`+e+`>`:this._refs.markup+=n?` />`:t||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?` />`:`/>`:`>`,this._endLine()},t.prototype.closeTag=function(e){this._refs.emptyNode||(this._beginLine(),this._refs.markup+=`</`+e+`>`),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},t.prototype.attribute=function(e,t){var n=e+`="`+t+`"`;this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+n.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+n):this._refs.markup+=` `+n},t.prototype.text=function(e){e!==``&&(this._beginLine(),this._refs.markup+=e,this._endLine())},t.prototype.cdata=function(e){e!==``&&(this._beginLine(),this._refs.markup+=`<![CDATA[`+e+`]]>`,this._endLine())},t.prototype.comment=function(e){this._beginLine(),this._refs.markup+=`<!--`+e+`-->`,this._endLine()},t.prototype.instruction=function(e,t){this._beginLine(),this._refs.markup+=`<?`+(t===``?e:e+` `+t)+`?>`,this._endLine()},t.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},t.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},t.prototype._indent=function(e){if(e<=0)return``;if(this._indentation[e]!==void 0)return this._indentation[e];var t=this._writerOptions.indent.repeat(e);return this._indentation[e]=t,t},t}(s.BaseWriter)},function(e,t,n){var r=n(47),i=n(35);e.exports=``.repeat||function(e){var t=String(i(this)),n=``,a=r(e);if(a<0||a==1/0)throw RangeError(`Wrong number of repetitions`);for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){n(31),n(32),n(33),n(19),n(178),n(20),n(22),n(23);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(67),s=n(1);t.JSONWriter=function(e){function t(t,n){var r=e.call(this,t)||this;return r._writerOptions=s.applyDefaults(n,{wellFormed:!1,prettyPrint:!1,indent:`  `,newline:`
`,offset:0,group:!1,verbose:!1}),r}return i(t,e),t.prototype.serialize=function(e){var t=s.applyDefaults(this._writerOptions,{format:`object`,wellFormed:!1}),n=new o.ObjectWriter(this._builderOptions,t).serialize(e);return this._beginLine(this._writerOptions,0)+this._convertObject(n,this._writerOptions)},t.prototype._convertObject=function(e,t,n){var r,i,o=this;n===void 0&&(n=0);var c=``,l=this._isLeafNode(e);if(s.isArray(e)){c+=`[`;var u=e.length,d=0;try{for(var f=a(e),p=f.next();!p.done;p=f.next()){var m=p.value;c+=this._endLine(t,n+1)+this._beginLine(t,n+1)+this._convertObject(m,t,n+1),d<u-1&&(c+=`,`),d++}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}c+=this._endLine(t,n)+this._beginLine(t,n),c+=`]`}else if(s.isObject(e)){c+=`{`;var h=s.objectLength(e),g=0;s.forEachObject(e,(function(e,r){l&&t.prettyPrint?c+=` `:c+=o._endLine(t,n+1)+o._beginLine(t,n+1),c+=o._key(e),t.prettyPrint&&(c+=` `),c+=o._convertObject(r,t,n+1),g<h-1&&(c+=`,`),g++}),this),l&&t.prettyPrint?c+=` `:c+=this._endLine(t,n)+this._beginLine(t,n),c+=`}`}else c+=this._val(e);return c},t.prototype._beginLine=function(e,t){if(!e.prettyPrint)return``;var n=e.offset+t+1;return n>0?Array(n).join(e.indent):``},t.prototype._endLine=function(e,t){return e.prettyPrint?e.newline:``},t.prototype._key=function(e){return`"`+e+`":`},t.prototype._val=function(e){return JSON.stringify(e)},t.prototype._isLeafNode=function(e){return this._descendantCount(e)<=1},t.prototype._descendantCount=function(e,t){var n=this;return t===void 0&&(t=0),s.isArray(e)?s.forEachArray(e,(function(e){return t+=n._descendantCount(e,t)}),this):s.isObject(e)?s.forEachObject(e,(function(e,r){return t+=n._descendantCount(r,t)}),this):t++,t},t}(n(50).BaseWriter)},function(e,t,n){n(31),n(32),n(33),n(19),n(178),n(89),n(20),n(22),n(23);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var o=n(67),s=n(1);t.YAMLWriter=function(e){function t(t,n){var r=e.call(this,t)||this;if(r._writerOptions=s.applyDefaults(n,{wellFormed:!1,indent:`  `,newline:`
`,offset:0,group:!1,verbose:!1}),r._writerOptions.indent.length<2)throw Error(`YAML indententation string must be at least two characters long.`);if(r._writerOptions.offset<0)throw Error(`YAML offset should be zero or a positive number.`);return r}return i(t,e),t.prototype.serialize=function(e){var t=s.applyDefaults(this._writerOptions,{format:`object`,wellFormed:!1}),n=new o.ObjectWriter(this._builderOptions,t).serialize(e),r=this._beginLine(this._writerOptions,0)+`---`+this._endLine(this._writerOptions)+this._convertObject(n,this._writerOptions,0);return r.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(r=r.slice(0,-this._writerOptions.newline.length)),r},t.prototype._convertObject=function(e,t,n,r){var i,o,c=this;r===void 0&&(r=!1);var l=``;if(s.isArray(e))try{for(var u=a(e),d=u.next();!d.done;d=u.next()){var f=d.value;l+=this._beginLine(t,n,!0),s.isObject(f)?s.isEmpty(f)?l+=`""`+this._endLine(t):l+=this._convertObject(f,t,n,!0):l+=this._val(f)+this._endLine(t)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}else s.forEachObject(e,(function(e,i){r?(l+=c._key(e),r=!1):l+=c._beginLine(t,n)+c._key(e),s.isObject(i)?s.isEmpty(i)?l+=` ""`+c._endLine(t):l+=c._endLine(t)+c._convertObject(i,t,n+1):l+=` `+c._val(i)+c._endLine(t)}),this);return l},t.prototype._beginLine=function(e,t,n){n===void 0&&(n=!1);var r=e.offset+t+1,i=Array(r).join(e.indent);return n?i.substr(0,i.length-2)+`-`+i.substr(-1,1):i},t.prototype._endLine=function(e){return e.newline},t.prototype._key=function(e){return`"`+e+`":`},t.prototype._val=function(e){return JSON.stringify(e)},t}(n(50).BaseWriter)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),n(110).dom.setFeatures(!0),t.DOMImplementation=n(110).DOMImplementation,t.DOMParser=n(271).DOMParser,t.XMLSerializer=n(274).XMLSerializer},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(3),i=n(0);t.ChildNodeImpl=function(){function e(){}return e.prototype.before=function(){var e=[...arguments],t=r.Cast.asNode(this),n=t._parent;if(n!==null){for(var a=t._previousSibling,o=!0;o&&a;){o=!1;for(var s=0;s<e.length;s++)if(e[s]===a){a=a._previousSibling,o=!0;break}}var c=i.parentNode_convertNodesIntoANode(e,t._nodeDocument);a=a===null?n._firstChild:a._nextSibling,i.mutation_preInsert(c,n,a)}},e.prototype.after=function(){var e=[...arguments],t=r.Cast.asNode(this),n=t._parent;if(n){for(var a=t._nextSibling,o=!0;o&&a;){o=!1;for(var s=0;s<e.length;s++)if(e[s]===a){a=a._nextSibling,o=!0;break}}var c=i.parentNode_convertNodesIntoANode(e,t._nodeDocument);i.mutation_preInsert(c,n,a)}},e.prototype.replaceWith=function(){var e=[...arguments],t=r.Cast.asNode(this),n=t._parent;if(n){for(var a=t._nextSibling,o=!0;o&&a;){o=!1;for(var s=0;s<e.length;s++)if(e[s]===a){a=a._nextSibling,o=!0;break}}var c=i.parentNode_convertNodesIntoANode(e,t._nodeDocument);t._parent===n?i.mutation_replace(t,c,n):i.mutation_preInsert(c,n,a)}},e.prototype.remove=function(){var e=r.Cast.asNode(this),t=e._parent;t&&i.mutation_remove(e,t)},e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.DocumentOrShadowRootImpl=function(){}},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(6),a=n(3),o=n(7);t.MutationObserverImpl=function(){function e(e){this._nodeList=[],this._recordQueue=[],this._callback=e;var t=i.dom.window;o.set.append(t._mutationObservers,this)}return e.prototype.observe=function(e,t){var n,i;if((t||={childList:!1,subtree:!1}).attributeOldValue===void 0&&t.attributeFilter===void 0||t.attributes!==void 0||(t.attributes=!0),t.characterDataOldValue!==void 0&&t.characterData===void 0&&(t.characterData=!0),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter!==void 0&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw TypeError();var s=!1,c=t,l=function(e){var t,n;if(e.observer===u){s=!0;try{for(var i=(t=void 0,r(u._nodeList)),l=i.next();!l.done;l=i.next()){var d=l.value;o.list.remove(d._registeredObserverList,(function(t){return a.Guard.isTransientRegisteredObserver(t)&&t.source===e}))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.options=c}},u=this;try{for(var d=r(e._registeredObserverList),f=d.next();!f.done;f=d.next())l(f.value)}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}s||(e._registeredObserverList.push({observer:this,options:t}),this._nodeList.push(e))},e.prototype.disconnect=function(){var e,t,n=this;try{for(var i=r(this._nodeList),a=i.next();!a.done;a=i.next()){var s=a.value;o.list.remove(s._registeredObserverList,(function(e){return e.observer===n}))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._recordQueue=[]},e.prototype.takeRecords=function(){var e=this._recordQueue;return this._recordQueue=[],e},e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(3);t.NonDocumentTypeChildNodeImpl=function(){function e(){}return Object.defineProperty(e.prototype,`previousElementSibling`,{get:function(){for(var e=r.Cast.asNode(this)._previousSibling;e;){if(r.Guard.isElementNode(e))return e;e=e._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`nextElementSibling`,{get:function(){for(var e=r.Cast.asNode(this)._nextSibling;e;){if(r.Guard.isElementNode(e))return e;e=e._nextSibling}return null},enumerable:!0,configurable:!0}),e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(3),i=n(0);t.NonElementParentNodeImpl=function(){function e(){}return e.prototype.getElementById=function(e){for(var t=i.tree_getFirstDescendantNode(r.Cast.asNode(this),!1,!1,(function(e){return r.Guard.isElementNode(e)}));t!==null;){if(t._uniqueIdentifier===e)return t;t=i.tree_getNextDescendantNode(r.Cast.asNode(this),t,!1,!1,(function(e){return r.Guard.isElementNode(e)}))}return null},e}()},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(3),a=n(0);t.ParentNodeImpl=function(){function e(){}return Object.defineProperty(e.prototype,`children`,{get:function(){return a.create_htmlCollection(i.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`firstElementChild`,{get:function(){for(var e=i.Cast.asNode(this)._firstChild;e;){if(i.Guard.isElementNode(e))return e;e=e._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`lastElementChild`,{get:function(){for(var e=i.Cast.asNode(this)._lastChild;e;){if(i.Guard.isElementNode(e))return e;e=e._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`childElementCount`,{get:function(){var e,t,n=0;try{for(var a=r(i.Cast.asNode(this)._children),o=a.next();!o.done;o=a.next()){var s=o.value;i.Guard.isElementNode(s)&&n++}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),e.prototype.prepend=function(){var e=[...arguments],t=i.Cast.asNode(this),n=a.parentNode_convertNodesIntoANode(e,t._nodeDocument);a.mutation_preInsert(n,t,t._firstChild)},e.prototype.append=function(){var e=[...arguments],t=i.Cast.asNode(this),n=a.parentNode_convertNodesIntoANode(e,t._nodeDocument);a.mutation_append(n,t)},e.prototype.querySelector=function(e){var t=i.Cast.asNode(this),n=a.selectors_scopeMatchASelectorsString(e,t);return n.length===0?null:n[0]},e.prototype.querySelectorAll=function(e){var t=i.Cast.asNode(this),n=a.selectors_scopeMatchASelectorsString(e,t);return a.create_nodeListStatic(t,n)},e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(0);t.SlotableImpl=function(){function e(){}return Object.defineProperty(e.prototype,`_name`,{get:function(){return this.__name||``},set:function(e){this.__name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`_assignedSlot`,{get:function(){return this.__assignedSlot||null},set:function(e){this.__assignedSlot=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,`assignedSlot`,{get:function(){return r.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),e}()},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(102),o=n(9),s=n(3);t.StaticRangeImpl=function(e){function t(t){var n=e.call(this)||this;if(s.Guard.isDocumentTypeNode(t.startContainer)||s.Guard.isAttrNode(t.startContainer)||s.Guard.isDocumentTypeNode(t.endContainer)||s.Guard.isAttrNode(t.endContainer))throw new o.InvalidNodeTypeError;return n._start=[t.startContainer,t.startOffset],n._end=[t.endContainer,t.endOffset],n}return i(t,e),t}(a.AbstractRangeImpl)},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.DOMParser=n(272).DOMParserImpl},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(0),i=n(273);t.DOMParserImpl=function(){function e(){}return e.prototype.parseFromString=function(e,t){if(t===`text/html`)throw Error(`HTML parser not implemented.`);try{return(n=new i.XMLParserImpl().parse(e))._contentType=t,n}catch(e){var n,a=`http://www.mozilla.org/newlayout/xml/parsererror.xml`,o=(n=r.create_xmlDocument()).createElementNS(a,`parsererror`),s=n.createElementNS(a,`error`);return s.setAttribute(`message`,e.message),o.appendChild(s),n.appendChild(o),n}},e}()},function(e,t,n){var r=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var a=n(180),o=n(111),s=n(7),c=n(0),l=n(69);t.XMLParserImpl=function(){function e(){}return e.prototype.parse=function(e){for(var t,n,u,d,f=new a.XMLStringLexer(e,{skipWhitespaceOnlyText:!0}),p=c.create_document(),m=p,h=f.nextToken();h.type!==o.TokenType.EOF;){switch(h.type){case o.TokenType.Declaration:var g=h;if(g.version!==`1.0`)throw Error(`Invalid xml version: `+g.version);break;case o.TokenType.DocType:var _=h;if(!c.xml_isPubidChar(_.pubId))throw Error(`DocType public identifier does not match PubidChar construct.`);if(!c.xml_isLegalChar(_.sysId)||_.sysId.indexOf(`"`)!==-1&&_.sysId.indexOf(`'`)!==-1)throw Error(`DocType system identifier contains invalid characters.`);m.appendChild(p.implementation.createDocumentType(_.name,_.pubId,_.sysId));break;case o.TokenType.CDATA:var v=h;if(!c.xml_isLegalChar(v.data)||v.data.indexOf(`]]>`)!==-1)throw Error(`CDATA contains invalid characters.`);m.appendChild(p.createCDATASection(v.data));break;case o.TokenType.Comment:var y=h;if(!c.xml_isLegalChar(y.data)||y.data.indexOf(`--`)!==-1||y.data.endsWith(`-`))throw Error(`Comment data contains invalid characters.`);m.appendChild(p.createComment(y.data));break;case o.TokenType.PI:var b=h;if(b.target.indexOf(`:`)!==-1||/^xml$/i.test(b.target))throw Error(`Processing instruction target contains invalid characters.`);if(!c.xml_isLegalChar(b.data)||b.data.indexOf(`?>`)!==-1)throw Error(`Processing instruction data contains invalid characters.`);m.appendChild(p.createProcessingInstruction(b.target,b.data));break;case o.TokenType.Text:var x=h;if(!c.xml_isLegalChar(x.data))throw Error(`Text data contains invalid characters.`);m.appendChild(p.createTextNode(this._decodeText(x.data)));break;case o.TokenType.Element:var S=h,C=r(c.namespace_extractQName(S.name),2),w=C[0],T=C[1];if(T.indexOf(`:`)!==-1||!c.xml_isName(T))throw Error(`Node local name contains invalid characters.`);if(w===`xmlns`)throw Error(`An element cannot have the 'xmlns' prefix.`);var E=m.lookupNamespaceURI(w),D={};try{for(var O=(t=void 0,i(S.attributes)),k=O.next();!k.done;k=O.next()){var A=r(k.value,2),j=A[0],M=A[1];if(j===`xmlns`)E=M;else{var ee=r(c.namespace_extractQName(j),2),te=ee[0],N=ee[1];te===`xmlns`&&(N===w&&(E=M),D[N]=M)}}}catch(e){t={error:e}}finally{try{k&&!k.done&&(n=O.return)&&n.call(O)}finally{if(t)throw t.error}}var ne=E===null?p.createElement(S.name):p.createElementNS(E,S.name);m.appendChild(ne);var re=new l.LocalNameSet;try{for(var ie=(u=void 0,i(S.attributes)),P=ie.next();!P.done;P=ie.next()){var ae=r(P.value,2),oe=(j=ae[0],M=ae[1],r(c.namespace_extractQName(j),2)),se=(te=oe[0],N=oe[1],null);if(te===`xmlns`||te===null&&N===`xmlns`?se=s.namespace.XMLNS:(se=ne.lookupNamespaceURI(te))!==null&&ne.isDefaultNamespace(se)?se=null:se===null&&te!==null&&(se=D[te]||null),re.has(se,N))throw Error(`Element contains duplicate attributes.`);if(re.set(se,N),se===s.namespace.XMLNS&&M===s.namespace.XMLNS)throw Error(`XMLNS namespace is reserved.`);if(N.indexOf(`:`)!==-1||!c.xml_isName(N))throw Error(`Attribute local name contains invalid characters.`);if(te===`xmlns`&&M===``)throw Error(`Empty XML namespace is not allowed.`);se===null?ne.setAttribute(j,this._decodeAttributeValue(M)):ne.setAttributeNS(se,j,this._decodeAttributeValue(M))}}catch(e){u={error:e}}finally{try{P&&!P.done&&(d=ie.return)&&d.call(ie)}finally{if(u)throw u.error}}S.selfClosing||(m=ne);break;case o.TokenType.ClosingTag:if(h.name!==m.nodeName)throw Error(`Closing tag name does not match opening tag name.`);m._parent&&(m=m._parent)}h=f.nextToken()}return p},e.prototype._decodeText=function(e){return e==null?e:e.replace(/&lt;/g,`<`).replace(/&gt;/g,`>`).replace(/&amp;/g,`&`)},e.prototype._decodeAttributeValue=function(e){return e==null?e:e.replace(/&lt;/g,`<`).replace(/&gt;/g,`>`).replace(/&amp;/g,`&`)},e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.XMLSerializer=n(275).XMLSerializerImpl},function(e,t,n){var r=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var i=n(2),a=n(69),o=n(95),s=n(9),c=n(7),l=n(0);t.XMLSerializerImpl=function(){function e(){}return e.prototype.serializeToString=function(e){return this._xmlSerialization(e,!1)},e.prototype._xmlSerialization=function(e,t){if(e._nodeDocument===void 0||e._nodeDocument._hasNamespaces){var n=new o.NamespacePrefixMap;n.set(`xml`,c.namespace.XML);try{return this._serializeNodeNS(e,null,n,{value:1},t)}catch{throw new s.InvalidStateError}}else try{return this._serializeNode(e,t)}catch{throw new s.InvalidStateError}},e.prototype._serializeNodeNS=function(e,t,n,r,a){switch(e.nodeType){case i.NodeType.Element:return this._serializeElementNS(e,t,n,r,a);case i.NodeType.Document:return this._serializeDocumentNS(e,t,n,r,a);case i.NodeType.Comment:return this._serializeComment(e,a);case i.NodeType.Text:return this._serializeText(e,a);case i.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(e,t,n,r,a);case i.NodeType.DocumentType:return this._serializeDocumentType(e,a);case i.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(e,a);case i.NodeType.CData:return this._serializeCData(e,a);default:throw Error(`Unknown node type: `+e.nodeType)}},e.prototype._serializeNode=function(e,t){switch(e.nodeType){case i.NodeType.Element:return this._serializeElement(e,t);case i.NodeType.Document:return this._serializeDocument(e,t);case i.NodeType.Comment:return this._serializeComment(e,t);case i.NodeType.Text:return this._serializeText(e,t);case i.NodeType.DocumentFragment:return this._serializeDocumentFragment(e,t);case i.NodeType.DocumentType:return this._serializeDocumentType(e,t);case i.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(e,t);case i.NodeType.CData:return this._serializeCData(e,t);default:throw Error(`Unknown node type: `+e.nodeType)}},e.prototype._serializeElementNS=function(t,n,i,a,o){var s,u;if(o&&(t.localName.indexOf(`:`)!==-1||!l.xml_isName(t.localName)))throw Error(`Node local name contains invalid characters (well-formed required).`);var d=`<`,f=``,p=!1,m=!1,h=i.copy(),g={},_=this._recordNamespaceInformation(t,h,g),v=n,y=t.namespaceURI;if(v===y)_!==null&&(m=!0),d+=f=y===c.namespace.XML?`xml:`+t.localName:t.localName;else{var b=t.prefix,x=null;if(b===null&&y===_||(x=h.get(b,y)),b===`xmlns`){if(o)throw Error(`An element cannot have the 'xmlns' prefix (well-formed required).`);x=b}x===null?b===null?_===null||_!==null&&_!==y?(m=!0,v=y,d+=f+=t.localName,d+=` xmlns="`+this._serializeAttributeValue(y,o)+`"`):(v=y,d+=f+=t.localName):(b in g&&(b=this._generatePrefix(y,h,a)),h.set(b,y),d+=f+=b+`:`+t.localName,d+=` xmlns:`+b+`="`+this._serializeAttributeValue(y,o)+`"`,_!==null&&(v=_||null)):(f=x+`:`+t.localName,_!==null&&_!==c.namespace.XML&&(v=_||null),d+=f)}d+=this._serializeAttributesNS(t,h,a,g,m,o);var S=y===c.namespace.HTML;if(S&&t.childNodes.length===0&&e._VoidElementNames.has(t.localName)?(d+=` /`,p=!0):S||t.childNodes.length!==0||(d+=`/`,p=!0),d+=`>`,p)return d;if(!(S&&t.localName===`template`))try{for(var C=r(t._children||t.childNodes),w=C.next();!w.done;w=C.next()){var T=w.value;d+=this._serializeNodeNS(T,v,h,a,o)}}catch(e){s={error:e}}finally{try{w&&!w.done&&(u=C.return)&&u.call(C)}finally{if(s)throw s.error}}return d+=`</`+f+`>`},e.prototype._serializeDocumentNS=function(e,t,n,i,a){var o,s;if(a&&e.documentElement===null)throw Error(`Missing document element (well-formed required).`);var c=``;try{for(var l=r(e._children||e.childNodes),u=l.next();!u.done;u=l.next()){var d=u.value;c+=this._serializeNodeNS(d,t,n,i,a)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return c},e.prototype._serializeComment=function(e,t){if(t&&(!l.xml_isLegalChar(e.data)||e.data.indexOf(`--`)!==-1||e.data.endsWith(`-`)))throw Error(`Comment data contains invalid characters (well-formed required).`);return`<!--`+e.data+`-->`},e.prototype._serializeText=function(e,t){if(t&&!l.xml_isLegalChar(e.data))throw Error(`Text data contains invalid characters (well-formed required).`);for(var n=``,r=0;r<e.data.length;r++){var i=e.data[r];n+=i===`&`?`&amp;`:i===`<`?`&lt;`:i===`>`?`&gt;`:i}return n},e.prototype._serializeDocumentFragmentNS=function(e,t,n,i,a){var o,s,c=``;try{for(var l=r(e._children||e.childNodes),u=l.next();!u.done;u=l.next()){var d=u.value;c+=this._serializeNodeNS(d,t,n,i,a)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return c},e.prototype._serializeDocumentType=function(e,t){if(t&&!l.xml_isPubidChar(e.publicId))throw Error(`DocType public identifier does not match PubidChar construct (well-formed required).`);if(t&&(!l.xml_isLegalChar(e.systemId)||e.systemId.indexOf(`"`)!==-1&&e.systemId.indexOf(`'`)!==-1))throw Error(`DocType system identifier contains invalid characters (well-formed required).`);return e.publicId&&e.systemId?`<!DOCTYPE `+e.name+` PUBLIC "`+e.publicId+`" "`+e.systemId+`">`:e.publicId?`<!DOCTYPE `+e.name+` PUBLIC "`+e.publicId+`">`:e.systemId?`<!DOCTYPE `+e.name+` SYSTEM "`+e.systemId+`">`:`<!DOCTYPE `+e.name+`>`},e.prototype._serializeProcessingInstruction=function(e,t){if(t&&(e.target.indexOf(`:`)!==-1||/^xml$/i.test(e.target)))throw Error(`Processing instruction target contains invalid characters (well-formed required).`);if(t&&(!l.xml_isLegalChar(e.data)||e.data.indexOf(`?>`)!==-1))throw Error(`Processing instruction data contains invalid characters (well-formed required).`);return`<?`+(e.data===``?e.target:e.target+` `+e.data)+`?>`},e.prototype._serializeCData=function(e,t){if(t&&e.data.indexOf(`]]>`)!==-1)throw Error(`CDATA contains invalid characters (well-formed required).`);return`<![CDATA[`+e.data+`]]>`},e.prototype._serializeAttributesNS=function(e,t,n,i,o,s){var u,d,f=``,p=s?new a.LocalNameSet:void 0;try{for(var m=r(e.attributes),h=m.next();!h.done;h=m.next()){var g=h.value;if(o||s||g.namespaceURI!==null){if(s&&p&&p.has(g.namespaceURI,g.localName))throw Error(`Element contains duplicate attributes (well-formed required).`);s&&p&&p.set(g.namespaceURI,g.localName);var _=g.namespaceURI,v=null;if(_!==null)if(v=t.get(g.prefix,_),_===c.namespace.XMLNS){if(g.value===c.namespace.XML||g.prefix===null&&o||g.prefix!==null&&(!(g.localName in i)||i[g.localName]!==g.value)&&t.has(g.localName,g.value))continue;if(s&&g.value===c.namespace.XMLNS)throw Error(`XMLNS namespace is reserved (well-formed required).`);if(s&&g.value===``)throw Error(`Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).`);g.prefix===`xmlns`&&(v=`xmlns`)}else v===null&&(f+=` xmlns:`+(v=g.prefix===null||t.hasPrefix(g.prefix)&&!t.has(g.prefix,_)?this._generatePrefix(_,t,n):g.prefix)+`="`+this._serializeAttributeValue(_,s)+`"`);if(f+=` `,v!==null&&(f+=v+`:`),s&&(g.localName.indexOf(`:`)!==-1||!l.xml_isName(g.localName)||g.localName===`xmlns`&&_===null))throw Error(`Attribute local name contains invalid characters (well-formed required).`);f+=g.localName+`="`+this._serializeAttributeValue(g.value,s)+`"`}else f+=` `+g.localName+`="`+this._serializeAttributeValue(g.value,s)+`"`}}catch(e){u={error:e}}finally{try{h&&!h.done&&(d=m.return)&&d.call(m)}finally{if(u)throw u.error}}return f},e.prototype._recordNamespaceInformation=function(e,t,n){var i,a,o=null;try{for(var s=r(e.attributes),l=s.next();!l.done;l=s.next()){var u=l.value,d=u.namespaceURI,f=u.prefix;if(d===c.namespace.XMLNS){if(f===null){o=u.value;continue}var p=u.localName,m=u.value;if(m===c.namespace.XML||(m===``&&(m=null),t.has(p,m)))continue;t.set(p,m),n[p]=m||``}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return o},e.prototype._generatePrefix=function(e,t,n){var r=`ns`+n.value;return n.value++,t.set(r,e),r},e.prototype._serializeAttributeValue=function(e,t){if(t&&e!==null&&!l.xml_isLegalChar(e))throw Error(`Invalid characters in attribute value.`);if(e===null)return``;for(var n=``,r=0;r<e.length;r++){var i=e[r];n+=i===`"`?`&quot;`:i===`&`?`&amp;`:i===`<`?`&lt;`:i===`>`?`&gt;`:i}return n},e.prototype._serializeElement=function(e,t){var n,i;if(t&&(e.localName.indexOf(`:`)!==-1||!l.xml_isName(e.localName)))throw Error(`Node local name contains invalid characters (well-formed required).`);var a=!1,o=e.localName,s=`<`+o;if(s+=this._serializeAttributes(e,t),e._children.size===0&&(s+=`/`,a=!0),s+=`>`,a)return s;try{for(var c=r(e._children),u=c.next();!u.done;u=c.next()){var d=u.value;s+=this._serializeNode(d,t)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return s+=`</`+o+`>`},e.prototype._serializeDocument=function(e,t){var n,i;if(t&&e.documentElement===null)throw Error(`Missing document element (well-formed required).`);var a=``;try{for(var o=r(e._children),s=o.next();!s.done;s=o.next()){var c=s.value;a+=this._serializeNode(c,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype._serializeDocumentFragment=function(e,t){var n,i,a=``;try{for(var o=r(e._children),s=o.next();!s.done;s=o.next()){var c=s.value;a+=this._serializeNode(c,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype._serializeAttributes=function(e,t){var n,i,a=``,o=t?{}:void 0;try{for(var s=r(e.attributes),c=s.next();!c.done;c=s.next()){var u=c.value;if(t&&o&&u.localName in o)throw Error(`Element contains duplicate attributes (well-formed required).`);if(t&&o&&(o[u.localName]=!0),t&&(u.localName.indexOf(`:`)!==-1||!l.xml_isName(u.localName)))throw Error(`Attribute local name contains invalid characters (well-formed required).`);a+=` `+u.localName+`="`+this._serializeAttributeValue(u.value,t)+`"`}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a},e._VoidElementNames=new Set([`area`,`base`,`basefont`,`bgsound`,`br`,`col`,`embed`,`frame`,`hr`,`img`,`input`,`keygen`,`link`,`menuitem`,`meta`,`param`,`source`,`track`,`wbr`]),e}()},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.XMLReader=n(277).XMLReader,t.ObjectReader=n(112).ObjectReader,t.JSONReader=n(280).JSONReader,t.YAMLReader=n(281).YAMLReader},function(e,t,n){n(31),n(32),n(33),n(19),n(65),n(20),n(22),n(23);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)};Object.defineProperty(t,`__esModule`,{value:!0});var s=n(180),c=n(111),l=n(7),u=n(0);t.XMLReader=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return i(t,e),t.prototype._parse=function(e,t){for(var n,r,i,d,f=new s.XMLStringLexer(t,{skipWhitespaceOnlyText:!0}),p=e,m=e,h=f.nextToken();h.type!==c.TokenType.EOF;){switch(h.type){case c.TokenType.Declaration:var g=h,_=this.sanitize(g.version);if(_!==`1.0`)throw Error(`Invalid xml version: `+_);var v={version:_};g.encoding&&(v.encoding=this.sanitize(g.encoding)),g.standalone&&(v.standalone=this.sanitize(g.standalone)===`yes`),m.set(v);break;case c.TokenType.DocType:var y=h;m=this.docType(m,this.sanitize(y.name),this.sanitize(y.pubId),this.sanitize(y.sysId))||m;break;case c.TokenType.CDATA:var b=h;m=this.cdata(m,this.sanitize(b.data))||m;break;case c.TokenType.Comment:var x=h;m=this.comment(m,this.sanitize(x.data))||m;break;case c.TokenType.PI:var S=h;m=this.instruction(m,this.sanitize(S.target),this.sanitize(S.data))||m;break;case c.TokenType.Text:var C=h;m=this.text(m,this._decodeText(this.sanitize(C.data)))||m;break;case c.TokenType.Element:var w=h,T=this.sanitize(w.name),E=a(u.namespace_extractQName(T),1)[0],D=m.node.lookupNamespaceURI(E),O={};try{for(var k=(n=void 0,o(w.attributes)),A=k.next();!A.done;A=k.next()){var j=a(A.value,2),M=j[0],ee=j[1];if(M=this.sanitize(M),ee=this.sanitize(ee),M===`xmlns`)D=ee;else{var te=a(u.namespace_extractQName(M),2),N=te[0],ne=te[1];N===`xmlns`&&(ne===E&&(D=ee),O[ne]=ee)}}}catch(e){n={error:e}}finally{try{A&&!A.done&&(r=k.return)&&r.call(k)}finally{if(n)throw n.error}}var re=D===null?this.element(m,void 0,T):this.element(m,D,T);if(re===void 0)break;m.node===e.node&&(p=re);try{for(var ie=(i=void 0,o(w.attributes)),P=ie.next();!P.done;P=ie.next()){var ae=a(P.value,2);M=ae[0],ee=ae[1],M=this.sanitize(M),ee=this.sanitize(ee);var oe=a(u.namespace_extractQName(M),2),se=(N=oe[0],ne=oe[1],null);N===`xmlns`||N===null&&ne===`xmlns`?se=l.namespace.XMLNS:(se=re.node.lookupNamespaceURI(N))!==null&&re.node.isDefaultNamespace(se)?se=null:se===null&&N!==null&&(se=O[N]||null),se===null?this.attribute(re,void 0,M,this._decodeAttributeValue(ee)):this.attribute(re,se,M,this._decodeAttributeValue(ee))}}catch(e){i={error:e}}finally{try{P&&!P.done&&(d=ie.return)&&d.call(ie)}finally{if(i)throw i.error}}w.selfClosing||(m=re);break;case c.TokenType.ClosingTag:m.node.parentNode&&(m=m.up())}h=f.nextToken()}return p},t}(n(75).BaseReader)},function(e,t,n){var r=n(4),i=n(279);r({target:`Object`,stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){var r=n(16),i=n(8),a=n(61),o=n(85),s=n(79),c=n(27),l=n(41),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&u({b:1},u(d({},`a`,{enumerable:!0,get:function(){d(this,`b`,{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol();return e[n]=7,`abcdefghijklmnopqrst`.split(``).forEach((function(e){t[e]=e})),u({},e)[n]!=7||a(u({},t)).join(``)!=`abcdefghijklmnopqrst`}))?function(e,t){for(var n=c(e),i=arguments.length,u=1,d=o.f,f=s.f;i>u;)for(var p,m=l(arguments[u++]),h=d?a(m).concat(d(m)):a(m),g=h.length,_=0;g>_;)p=h[_++],r&&!f.call(m,p)||(n[p]=m[p]);return n}:u},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(112);t.JSONReader=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return i(t,e),t.prototype._parse=function(e,t){return new a.ObjectReader(this._builderOptions).parse(e,JSON.parse(t))},t}(n(75).BaseReader)},function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(112),o=n(75),s=n(282);t.YAMLReader=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return i(t,e),t.prototype._parse=function(e,t){var n=s.safeLoad(t);if(n===void 0)throw Error(`Unable to parse YAML document.`);return new a.ObjectReader(this._builderOptions).parse(e,n)},t}(o.BaseReader)},function(e,t,n){e.exports=n(283)},function(e,t,n){var r=n(284),i=n(303);function a(e){return function(){throw Error(`Function `+e+` is deprecated and cannot be used.`)}}e.exports.Type=n(10),e.exports.Schema=n(39),e.exports.FAILSAFE_SCHEMA=n(113),e.exports.JSON_SCHEMA=n(182),e.exports.CORE_SCHEMA=n(181),e.exports.DEFAULT_SAFE_SCHEMA=n(54),e.exports.DEFAULT_FULL_SCHEMA=n(76),e.exports.load=r.load,e.exports.loadAll=r.loadAll,e.exports.safeLoad=r.safeLoad,e.exports.safeLoadAll=r.safeLoadAll,e.exports.dump=i.dump,e.exports.safeDump=i.safeDump,e.exports.YAMLException=n(53),e.exports.MINIMAL_SCHEMA=n(113),e.exports.SAFE_SCHEMA=n(54),e.exports.DEFAULT_SCHEMA=n(76),e.exports.scan=a(`scan`),e.exports.parse=a(`parse`),e.exports.compose=a(`compose`),e.exports.addConstructor=a(`addConstructor`)},function(e,t,n){var r=n(38),i=n(53),a=n(285),o=n(54),s=n(76),c=Object.prototype.hasOwnProperty,l=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,u=/[\x85\u2028\u2029]/,d=/[,\[\]\{\}]/,f=/^(?:!|!!|![a-z\-]+!)$/i,p=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function m(e){return Object.prototype.toString.call(e)}function h(e){return e===10||e===13}function g(e){return e===9||e===32}function _(e){return e===9||e===32||e===10||e===13}function v(e){return e===44||e===91||e===93||e===123||e===125}function y(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function b(e){return e===48?`\0`:e===97?`\x07`:e===98?`\b`:e===116||e===9?`	`:e===110?`
`:e===118?`\v`:e===102?`\f`:e===114?`\r`:e===101?`\x1B`:e===32?` `:e===34?`"`:e===47?`/`:e===92?`\\`:e===78?``:e===95?`\xA0`:e===76?`\u2028`:e===80?`\u2029`:``}function x(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var S=Array(256),C=Array(256),w=0;w<256;w++)S[w]=b(w)?1:0,C[w]=b(w);function T(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||s,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function E(e,t){return new i(t,new a(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function D(e,t){throw E(e,t)}function O(e,t){e.onWarning&&e.onWarning.call(null,E(e,t))}var k={YAML:function(e,t,n){var r,i,a;e.version!==null&&D(e,`duplication of %YAML directive`),n.length!==1&&D(e,`YAML directive accepts exactly one argument`),(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))===null&&D(e,`ill-formed argument of the YAML directive`),i=parseInt(r[1],10),a=parseInt(r[2],10),i!==1&&D(e,`unacceptable YAML version of the document`),e.version=n[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&O(e,`unsupported YAML version of the document`)},TAG:function(e,t,n){var r,i;n.length!==2&&D(e,`TAG directive accepts exactly two arguments`),r=n[0],i=n[1],f.test(r)||D(e,`ill-formed tag handle (first argument) of the TAG directive`),c.call(e.tagMap,r)&&D(e,`there is a previously declared suffix for "`+r+`" tag handle`),p.test(i)||D(e,`ill-formed tag prefix (second argument) of the TAG directive`),e.tagMap[r]=i}};function A(e,t,n,r){var i,a,o,s;if(t<n){if(s=e.input.slice(t,n),r)for(i=0,a=s.length;i<a;i+=1)(o=s.charCodeAt(i))===9||32<=o&&o<=1114111||D(e,`expected valid JSON character`);else l.test(s)&&D(e,`the stream contains non-printable characters`);e.result+=s}}function j(e,t,n,i){var a,o,s,l;for(r.isObject(n)||D(e,`cannot merge mappings; the provided source object is unacceptable`),s=0,l=(a=Object.keys(n)).length;s<l;s+=1)o=a[s],c.call(t,o)||(t[o]=n[o],i[o]=!0)}function M(e,t,n,r,i,a,o,s){var l,u;if(Array.isArray(i))for(l=0,u=(i=Array.prototype.slice.call(i)).length;l<u;l+=1)Array.isArray(i[l])&&D(e,`nested arrays are not supported inside keys`),typeof i==`object`&&m(i[l])===`[object Object]`&&(i[l]=`[object Object]`);if(typeof i==`object`&&m(i)===`[object Object]`&&(i=`[object Object]`),i=String(i),t===null&&(t={}),r===`tag:yaml.org,2002:merge`)if(Array.isArray(a))for(l=0,u=a.length;l<u;l+=1)j(e,t,a[l],n);else j(e,t,a,n);else e.json||c.call(n,i)||!c.call(t,i)||(e.line=o||e.line,e.position=s||e.position,D(e,`duplicated mapping key`)),t[i]=a,delete n[i];return t}function ee(e){var t;(t=e.input.charCodeAt(e.position))===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):D(e,`a line break is expected`),e.line+=1,e.lineStart=e.position}function te(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;g(i);)i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(!h(i))break;for(ee(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return n!==-1&&r!==0&&e.lineIndent<n&&O(e,`deficient indentation`),r}function N(e){var t,n=e.position;return!((t=e.input.charCodeAt(n))!==45&&t!==46||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,(t=e.input.charCodeAt(n))!==0&&!_(t)))}function ne(e,t){t===1?e.result+=` `:t>1&&(e.result+=r.repeat(`
`,t-1))}function re(e,t){var n,r,i=e.tag,a=e.anchor,o=[],s=!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),r=e.input.charCodeAt(e.position);r!==0&&r===45&&_(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,te(e,!0,-1)&&e.lineIndent<=t)o.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,ae(e,t,3,!1,!0),o.push(e.result),te(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&r!==0)D(e,`bad indentation of a sequence entry`);else if(e.lineIndent<t)break;return!!s&&(e.tag=i,e.anchor=a,e.kind=`sequence`,e.result=o,!0)}function ie(e){var t,n,r,i,a=!1,o=!1;if((i=e.input.charCodeAt(e.position))!==33)return!1;if(e.tag!==null&&D(e,`duplication of a tag property`),(i=e.input.charCodeAt(++e.position))===60?(a=!0,i=e.input.charCodeAt(++e.position)):i===33?(o=!0,n=`!!`,i=e.input.charCodeAt(++e.position)):n=`!`,t=e.position,a){do i=e.input.charCodeAt(++e.position);while(i!==0&&i!==62);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):D(e,`unexpected end of the stream within a verbatim tag`)}else{for(;i!==0&&!_(i);)i===33&&(o?D(e,`tag suffix cannot contain exclamation marks`):(n=e.input.slice(t-1,e.position+1),f.test(n)||D(e,`named tag handle cannot contain such characters`),o=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),d.test(r)&&D(e,`tag suffix cannot contain flow indicator characters`)}return r&&!p.test(r)&&D(e,`tag name cannot contain such characters: `+r),a?e.tag=r:c.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:n===`!`?e.tag=`!`+r:n===`!!`?e.tag=`tag:yaml.org,2002:`+r:D(e,`undeclared tag handle "`+n+`"`),!0}function P(e){var t,n;if((n=e.input.charCodeAt(e.position))!==38)return!1;for(e.anchor!==null&&D(e,`duplication of an anchor property`),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!_(n)&&!v(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&D(e,`name of an anchor node must contain at least one character`),e.anchor=e.input.slice(t,e.position),!0}function ae(e,t,n,i,a){var o,s,l,u,d,f,p,m,b=1,w=!1,T=!1;if(e.listener!==null&&e.listener(`open`,e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=l=n===4||n===3,i&&te(e,!0,-1)&&(w=!0,e.lineIndent>t?b=1:e.lineIndent===t?b=0:e.lineIndent<t&&(b=-1)),b===1)for(;ie(e)||P(e);)te(e,!0,-1)?(w=!0,l=o,e.lineIndent>t?b=1:e.lineIndent===t?b=0:e.lineIndent<t&&(b=-1)):l=!1;if(l&&=w||a,b!==1&&n!==4||(p=n===1||n===2?t:t+1,m=e.position-e.lineStart,b===1?l&&(re(e,m)||function(e,t,n){var r,i,a,o,s,c=e.tag,l=e.anchor,u={},d={},f=null,p=null,m=null,h=!1,v=!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),s=e.input.charCodeAt(e.position);s!==0;){if(r=e.input.charCodeAt(e.position+1),a=e.line,o=e.position,s!==63&&s!==58||!_(r)){if(!ae(e,n,2,!1,!0))break;if(e.line===a){for(s=e.input.charCodeAt(e.position);g(s);)s=e.input.charCodeAt(++e.position);if(s===58)_(s=e.input.charCodeAt(++e.position))||D(e,`a whitespace character is expected after the key-value separator within a block mapping`),h&&(M(e,u,d,f,p,null),f=p=m=null),v=!0,h=!1,i=!1,f=e.tag,p=e.result;else{if(!v)return e.tag=c,e.anchor=l,!0;D(e,`can not read an implicit mapping pair; a colon is missed`)}}else{if(!v)return e.tag=c,e.anchor=l,!0;D(e,`can not read a block mapping entry; a multiline key may not be an implicit key`)}}else s===63?(h&&(M(e,u,d,f,p,null),f=p=m=null),v=!0,h=!0,i=!0):h?(h=!1,i=!0):D(e,`incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line`),e.position+=1,s=r;if((e.line===a||e.lineIndent>t)&&(ae(e,t,4,!0,i)&&(h?p=e.result:m=e.result),h||(M(e,u,d,f,p,m,a,o),f=p=m=null),te(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>t&&s!==0)D(e,`bad indentation of a mapping entry`);else if(e.lineIndent<t)break}return h&&M(e,u,d,f,p,null),v&&(e.tag=c,e.anchor=l,e.kind=`mapping`,e.result=u),v}(e,m,p))||function(e,t){var n,r,i,a,o,s,c,l,u,d,f=!0,p=e.tag,m=e.anchor,h={};if((d=e.input.charCodeAt(e.position))===91)i=93,s=!1,r=[];else{if(d!==123)return!1;i=125,s=!0,r={}}for(e.anchor!==null&&(e.anchorMap[e.anchor]=r),d=e.input.charCodeAt(++e.position);d!==0;){if(te(e,!0,t),(d=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=p,e.anchor=m,e.kind=s?`mapping`:`sequence`,e.result=r,!0;f||D(e,`missed comma between flow collection entries`),u=null,a=o=!1,d===63&&_(e.input.charCodeAt(e.position+1))&&(a=o=!0,e.position++,te(e,!0,t)),n=e.line,ae(e,t,1,!1,!0),l=e.tag,c=e.result,te(e,!0,t),d=e.input.charCodeAt(e.position),!o&&e.line!==n||d!==58||(a=!0,d=e.input.charCodeAt(++e.position),te(e,!0,t),ae(e,t,1,!1,!0),u=e.result),s?M(e,r,h,l,c,u):a?r.push(M(e,null,h,l,c,u)):r.push(c),te(e,!0,t),(d=e.input.charCodeAt(e.position))===44?(f=!0,d=e.input.charCodeAt(++e.position)):f=!1}D(e,`unexpected end of the stream within a flow collection`)}(e,p)?T=!0:(s&&function(e,t){var n,i,a,o,s,c=1,l=!1,u=!1,d=t,f=0,p=!1;if((o=e.input.charCodeAt(e.position))===124)i=!1;else{if(o!==62)return!1;i=!0}for(e.kind=`scalar`,e.result=``;o!==0;)if((o=e.input.charCodeAt(++e.position))===43||o===45)c===1?c=o===43?3:2:D(e,`repeat of a chomping mode identifier`);else{if(!((a=48<=(s=o)&&s<=57?s-48:-1)>=0))break;a===0?D(e,`bad explicit indentation width of a block scalar; it cannot be less than one`):u?D(e,`repeat of an indentation width identifier`):(d=t+a-1,u=!0)}if(g(o)){do o=e.input.charCodeAt(++e.position);while(g(o));if(o===35)do o=e.input.charCodeAt(++e.position);while(!h(o)&&o!==0)}for(;o!==0;){for(ee(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!u||e.lineIndent<d)&&o===32;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>d&&(d=e.lineIndent),h(o))f++;else{if(e.lineIndent<d){c===3?e.result+=r.repeat(`
`,l?1+f:f):c===1&&l&&(e.result+=`
`);break}for(i?g(o)?(p=!0,e.result+=r.repeat(`
`,l?1+f:f)):p?(p=!1,e.result+=r.repeat(`
`,f+1)):f===0?l&&(e.result+=` `):e.result+=r.repeat(`
`,f):e.result+=r.repeat(`
`,l?1+f:f),l=!0,u=!0,f=0,n=e.position;!h(o)&&o!==0;)o=e.input.charCodeAt(++e.position);A(e,n,e.position,!1)}}return!0}(e,p)||function(e,t){var n,r,i;if((n=e.input.charCodeAt(e.position))!==39)return!1;for(e.kind=`scalar`,e.result=``,e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39){if(A(e,r,e.position,!0),(n=e.input.charCodeAt(++e.position))!==39)return!0;r=e.position,e.position++,i=e.position}else h(n)?(A(e,r,i,!0),ne(e,te(e,!1,t)),r=i=e.position):e.position===e.lineStart&&N(e)?D(e,`unexpected end of the document within a single quoted scalar`):(e.position++,i=e.position);D(e,`unexpected end of the stream within a single quoted scalar`)}(e,p)||function(e,t){var n,r,i,a,o,s,c;if((s=e.input.charCodeAt(e.position))!==34)return!1;for(e.kind=`scalar`,e.result=``,e.position++,n=r=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return A(e,n,e.position,!0),e.position++,!0;if(s===92){if(A(e,n,e.position,!0),h(s=e.input.charCodeAt(++e.position)))te(e,!1,t);else if(s<256&&S[s])e.result+=C[s],e.position++;else if((o=(c=s)===120?2:c===117?4:c===85?8:0)>0){for(i=o,a=0;i>0;i--)(o=y(s=e.input.charCodeAt(++e.position)))>=0?a=(a<<4)+o:D(e,`expected hexadecimal character`);e.result+=x(a),e.position++}else D(e,`unknown escape sequence`);n=r=e.position}else h(s)?(A(e,n,r,!0),ne(e,te(e,!1,t)),n=r=e.position):e.position===e.lineStart&&N(e)?D(e,`unexpected end of the document within a double quoted scalar`):(e.position++,r=e.position)}D(e,`unexpected end of the stream within a double quoted scalar`)}(e,p)?T=!0:function(e){var t,n,r;if((r=e.input.charCodeAt(e.position))!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!_(r)&&!v(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&D(e,`name of an alias node must contain at least one character`),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||D(e,`unidentified alias "`+n+`"`),e.result=e.anchorMap[n],te(e,!0,-1),!0}(e)?(T=!0,e.tag===null&&e.anchor===null||D(e,`alias node should not have any properties`)):function(e,t,n){var r,i,a,o,s,c,l,u,d=e.kind,f=e.result;if(_(u=e.input.charCodeAt(e.position))||v(u)||u===35||u===38||u===42||u===33||u===124||u===62||u===39||u===34||u===37||u===64||u===96||(u===63||u===45)&&(_(r=e.input.charCodeAt(e.position+1))||n&&v(r)))return!1;for(e.kind=`scalar`,e.result=``,i=a=e.position,o=!1;u!==0;){if(u===58){if(_(r=e.input.charCodeAt(e.position+1))||n&&v(r))break}else if(u===35){if(_(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&N(e)||n&&v(u))break;if(h(u)){if(s=e.line,c=e.lineStart,l=e.lineIndent,te(e,!1,-1),e.lineIndent>=t){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=a,e.line=s,e.lineStart=c,e.lineIndent=l;break}}o&&=(A(e,i,a,!1),ne(e,e.line-s),i=a=e.position,!1),g(u)||(a=e.position+1),u=e.input.charCodeAt(++e.position)}return A(e,i,a,!1),!!e.result||(e.kind=d,e.result=f,!1)}(e,p,n===1)&&(T=!0,e.tag===null&&(e.tag=`?`)),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):b===0&&(T=l&&re(e,m))),e.tag!==null&&e.tag!==`!`)if(e.tag===`?`){for(e.result!==null&&e.kind!==`scalar`&&D(e,`unacceptable node kind for !<?> tag; it should be "scalar", not "`+e.kind+`"`),u=0,d=e.implicitTypes.length;u<d;u+=1)if((f=e.implicitTypes[u]).resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else c.call(e.typeMap[e.kind||`fallback`],e.tag)?(f=e.typeMap[e.kind||`fallback`][e.tag],e.result!==null&&f.kind!==e.kind&&D(e,`unacceptable node kind for !<`+e.tag+`> tag; it should be "`+f.kind+`", not "`+e.kind+`"`),f.resolve(e.result)?(e.result=f.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):D(e,`cannot resolve a node with !<`+e.tag+`> explicit tag`)):D(e,`unknown tag !<`+e.tag+`>`);return e.listener!==null&&e.listener(`close`,e),e.tag!==null||e.anchor!==null||T}function oe(e){var t,n,r,i,a=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(i=e.input.charCodeAt(e.position))!==0&&(te(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||i!==37));){for(o=!0,i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!_(i);)i=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&D(e,`directive name must not be less than one character in length`);i!==0;){for(;g(i);)i=e.input.charCodeAt(++e.position);if(i===35){do i=e.input.charCodeAt(++e.position);while(i!==0&&!h(i));break}if(h(i))break;for(t=e.position;i!==0&&!_(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}i!==0&&ee(e),c.call(k,n)?k[n](e,n,r):O(e,`unknown document directive "`+n+`"`)}te(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,te(e,!0,-1)):o&&D(e,`directives end mark is expected`),ae(e,e.lineIndent-1,4,!1,!0),te(e,!0,-1),e.checkLineBreaks&&u.test(e.input.slice(a,e.position))&&O(e,`non-ASCII line breaks are interpreted as content`),e.documents.push(e.result),e.position===e.lineStart&&N(e)?e.input.charCodeAt(e.position)===46&&(e.position+=3,te(e,!0,-1)):e.position<e.length-1&&D(e,`end of the stream or a document separator is expected`)}function se(e,t){t||={},(e=String(e)).length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new T(e,t),r=e.indexOf(`\0`);for(r!==-1&&(n.position=r,D(n,`null byte is not allowed in input`)),n.input+=`\0`;n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)oe(n);return n.documents}function ce(e,t,n){typeof t==`object`&&t&&n===void 0&&(n=t,t=null);var r=se(e,n);if(typeof t!=`function`)return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}function le(e,t){var n=se(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new i(`expected a single document in the stream, but found more`)}}e.exports.loadAll=ce,e.exports.load=le,e.exports.safeLoadAll=function(e,t,n){return typeof t==`object`&&t&&n===void 0&&(n=t,t=null),ce(e,t,r.extend({schema:o},n))},e.exports.safeLoad=function(e,t){return le(e,r.extend({schema:o},t))}},function(e,t,n){var r=n(38);function i(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}i.prototype.getSnippet=function(e,t){var n,i,a,o,s;if(!this.buffer)return null;for(e||=4,t||=75,n=``,i=this.position;i>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(i-1))===-1;)if(--i,this.position-i>t/2-1){n=` ... `,i+=5;break}for(a=``,o=this.position;o<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(o))===-1;)if((o+=1)-this.position>t/2-1){a=` ... `,o-=5;break}return s=this.buffer.slice(i,o),r.repeat(` `,e)+n+s+a+`
`+r.repeat(` `,e+this.position-i+n.length)+`^`},i.prototype.toString=function(e){var t,n=``;return this.name&&(n+=`in "`+this.name+`" `),n+=`at line `+(this.line+1)+`, column `+(this.column+1),e||(t=this.getSnippet())&&(n+=`:
`+t),n},e.exports=i},function(e,t,n){e.exports=new(n(10))(`tag:yaml.org,2002:str`,{kind:`scalar`,construct:function(e){return e===null?``:e}})},function(e,t,n){e.exports=new(n(10))(`tag:yaml.org,2002:seq`,{kind:`sequence`,construct:function(e){return e===null?[]:e}})},function(e,t,n){e.exports=new(n(10))(`tag:yaml.org,2002:map`,{kind:`mapping`,construct:function(e){return e===null?{}:e}})},function(e,t,n){e.exports=new(n(10))(`tag:yaml.org,2002:null`,{kind:`scalar`,resolve:function(e){if(e===null)return!0;var t=e.length;return t===1&&e===`~`||t===4&&(e===`null`||e===`Null`||e===`NULL`)},construct:function(){return null},predicate:function(e){return e===null},represent:{canonical:function(){return`~`},lowercase:function(){return`null`},uppercase:function(){return`NULL`},camelcase:function(){return`Null`}},defaultStyle:`lowercase`})},function(e,t,n){e.exports=new(n(10))(`tag:yaml.org,2002:bool`,{kind:`scalar`,resolve:function(e){if(e===null)return!1;var t=e.length;return t===4&&(e===`true`||e===`True`||e===`TRUE`)||t===5&&(e===`false`||e===`False`||e===`FALSE`)},construct:function(e){return e===`true`||e===`True`||e===`TRUE`},predicate:function(e){return Object.prototype.toString.call(e)===`[object Boolean]`},represent:{lowercase:function(e){return e?`true`:`false`},uppercase:function(e){return e?`TRUE`:`FALSE`},camelcase:function(e){return e?`True`:`False`}},defaultStyle:`lowercase`})},function(e,t,n){var r=n(38),i=n(10);function a(e){return 48<=e&&e<=55}function o(e){return 48<=e&&e<=57}e.exports=new i(`tag:yaml.org,2002:int`,{kind:`scalar`,resolve:function(e){if(e===null)return!1;var t,n,r=e.length,i=0,s=!1;if(!r)return!1;if((t=e[i])!==`-`&&t!==`+`||(t=e[++i]),t===`0`){if(i+1===r)return!0;if((t=e[++i])===`b`){for(i++;i<r;i++)if((t=e[i])!==`_`){if(t!==`0`&&t!==`1`)return!1;s=!0}return s&&t!==`_`}if(t===`x`){for(i++;i<r;i++)if((t=e[i])!==`_`){if(!(48<=(n=e.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;s=!0}return s&&t!==`_`}for(;i<r;i++)if((t=e[i])!==`_`){if(!a(e.charCodeAt(i)))return!1;s=!0}return s&&t!==`_`}if(t===`_`)return!1;for(;i<r;i++)if((t=e[i])!==`_`){if(t===`:`)break;if(!o(e.charCodeAt(i)))return!1;s=!0}return!(!s||t===`_`)&&(t!==`:`||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var t,n,r=e,i=1,a=[];return r.indexOf(`_`)!==-1&&(r=r.replace(/_/g,``)),(t=r[0])!==`-`&&t!==`+`||(t===`-`&&(i=-1),t=(r=r.slice(1))[0]),r===`0`?0:t===`0`?r[1]===`b`?i*parseInt(r.slice(2),2):r[1]===`x`?i*parseInt(r,16):i*parseInt(r,8):r.indexOf(`:`)===-1?i*parseInt(r,10):(r.split(`:`).forEach((function(e){a.unshift(parseInt(e,10))})),r=0,n=1,a.forEach((function(e){r+=e*n,n*=60})),i*r)},predicate:function(e){return Object.prototype.toString.call(e)===`[object Number]`&&e%1==0&&!r.isNegativeZero(e)},represent:{binary:function(e){return e>=0?`0b`+e.toString(2):`-0b`+e.toString(2).slice(1)},octal:function(e){return e>=0?`0`+e.toString(8):`-0`+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?`0x`+e.toString(16).toUpperCase():`-0x`+e.toString(16).toUpperCase().slice(1)}},defaultStyle:`decimal`,styleAliases:{binary:[2,`bin`],octal:[8,`oct`],decimal:[10,`dec`],hexadecimal:[16,`hex`]}})},function(e,t,n){var r=n(38),i=n(10),a=RegExp(`^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$`),o=/^[-+]?[0-9]+e/;e.exports=new i(`tag:yaml.org,2002:float`,{kind:`scalar`,resolve:function(e){return e!==null&&!(!a.test(e)||e[e.length-1]===`_`)},construct:function(e){var t,n,r,i;return n=(t=e.replace(/_/g,``).toLowerCase())[0]===`-`?-1:1,i=[],`+-`.indexOf(t[0])>=0&&(t=t.slice(1)),t===`.inf`?n===1?1/0:-1/0:t===`.nan`?NaN:t.indexOf(`:`)>=0?(t.split(`:`).forEach((function(e){i.unshift(parseFloat(e,10))})),t=0,r=1,i.forEach((function(e){t+=e*r,r*=60})),n*t):n*parseFloat(t,10)},predicate:function(e){return Object.prototype.toString.call(e)===`[object Number]`&&(e%1!=0||r.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case`lowercase`:return`.nan`;case`uppercase`:return`.NAN`;case`camelcase`:return`.NaN`}else if(e===1/0)switch(t){case`lowercase`:return`.inf`;case`uppercase`:return`.INF`;case`camelcase`:return`.Inf`}else if(e===-1/0)switch(t){case`lowercase`:return`-.inf`;case`uppercase`:return`-.INF`;case`camelcase`:return`-.Inf`}else if(r.isNegativeZero(e))return`-0.0`;return n=e.toString(10),o.test(n)?n.replace(`e`,`.e`):n},defaultStyle:`lowercase`})},function(e,t,n){var r=n(10),i=RegExp(`^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$`),a=RegExp(`^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$`);e.exports=new r(`tag:yaml.org,2002:timestamp`,{kind:`scalar`,resolve:function(e){return e!==null&&(i.exec(e)!==null||a.exec(e)!==null)},construct:function(e){var t,n,r,o,s,c,l,u,d=0,f=null;if((t=i.exec(e))===null&&(t=a.exec(e)),t===null)throw Error(`Date resolve error`);if(n=+t[1],r=t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(n,r,o));if(s=+t[4],c=+t[5],l=+t[6],t[7]){for(d=t[7].slice(0,3);d.length<3;)d+=`0`;d=+d}return t[9]&&(f=6e4*(60*t[10]+ +(t[11]||0)),t[9]===`-`&&(f=-f)),u=new Date(Date.UTC(n,r,o,s,c,l,d)),f&&u.setTime(u.getTime()-f),u},instanceOf:Date,represent:function(e){return e.toISOString()}})},function(e,t,n){e.exports=new(n(10))(`tag:yaml.org,2002:merge`,{kind:`scalar`,resolve:function(e){return e===`<<`||e===null}})},function(e,t,n){var r;try{r=n(145).Buffer}catch{}var i=n(10),a=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;e.exports=new i(`tag:yaml.org,2002:binary`,{kind:`scalar`,resolve:function(e){if(e===null)return!1;var t,n,r=0,i=e.length,o=a;for(n=0;n<i;n++)if(!((t=o.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,i=e.replace(/[\r\n=]/g,``),o=i.length,s=a,c=0,l=[];for(t=0;t<o;t++)t%4==0&&t&&(l.push(c>>16&255),l.push(c>>8&255),l.push(255&c)),c=c<<6|s.indexOf(i.charAt(t));return(n=o%4*6)==0?(l.push(c>>16&255),l.push(c>>8&255),l.push(255&c)):n===18?(l.push(c>>10&255),l.push(c>>2&255)):n===12&&l.push(c>>4&255),r?r.from?r.from(l):new r(l):l},predicate:function(e){return r&&r.isBuffer(e)},represent:function(e){var t,n,r=``,i=0,o=e.length,s=a;for(t=0;t<o;t++)t%3==0&&t&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+e[t];return(n=o%3)==0?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):n===2?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):n===1&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}})},function(e,t,n){var r=n(10),i=Object.prototype.hasOwnProperty,a=Object.prototype.toString;e.exports=new r(`tag:yaml.org,2002:omap`,{kind:`sequence`,resolve:function(e){if(e===null)return!0;var t,n,r,o,s,c=[],l=e;for(t=0,n=l.length;t<n;t+=1){if(r=l[t],s=!1,a.call(r)!==`[object Object]`)return!1;for(o in r)if(i.call(r,o)){if(s)return!1;s=!0}if(!s||c.indexOf(o)!==-1)return!1;c.push(o)}return!0},construct:function(e){return e===null?[]:e}})},function(e,t,n){var r=n(10),i=Object.prototype.toString;e.exports=new r(`tag:yaml.org,2002:pairs`,{kind:`sequence`,resolve:function(e){if(e===null)return!0;var t,n,r,a,o,s=e;for(o=Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],i.call(r)!==`[object Object]`||(a=Object.keys(r)).length!==1)return!1;o[t]=[a[0],r[a[0]]]}return!0},construct:function(e){if(e===null)return[];var t,n,r,i,a,o=e;for(a=Array(o.length),t=0,n=o.length;t<n;t+=1)r=o[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}})},function(e,t,n){var r=n(10),i=Object.prototype.hasOwnProperty;e.exports=new r(`tag:yaml.org,2002:set`,{kind:`mapping`,resolve:function(e){if(e===null)return!0;var t,n=e;for(t in n)if(i.call(n,t)&&n[t]!==null)return!1;return!0},construct:function(e){return e===null?{}:e}})},function(e,t,n){e.exports=new(n(10))(`tag:yaml.org,2002:js/undefined`,{kind:`scalar`,resolve:function(){return!0},construct:function(){},predicate:function(e){return e===void 0},represent:function(){return``}})},function(e,t,n){e.exports=new(n(10))(`tag:yaml.org,2002:js/regexp`,{kind:`scalar`,resolve:function(e){if(e===null||e.length===0)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r=``;return!(t[0]===`/`&&(n&&(r=n[1]),r.length>3||t[t.length-r.length-1]!==`/`))},construct:function(e){var t=e,n=/\/([gim]*)$/.exec(e),r=``;return t[0]===`/`&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)},predicate:function(e){return Object.prototype.toString.call(e)===`[object RegExp]`},represent:function(e){var t=`/`+e.source+`/`;return e.global&&(t+=`g`),e.multiline&&(t+=`m`),e.ignoreCase&&(t+=`i`),t}})},function(e,t,n){var r;try{r=n(302)}catch{typeof window<`u`&&(r=window.esprima)}e.exports=new(n(10))(`tag:yaml.org,2002:js/function`,{kind:`scalar`,resolve:function(e){if(e===null)return!1;try{var t=`(`+e+`)`,n=r.parse(t,{range:!0});return n.type===`Program`&&n.body.length===1&&n.body[0].type===`ExpressionStatement`&&(n.body[0].expression.type===`ArrowFunctionExpression`||n.body[0].expression.type===`FunctionExpression`)}catch{return!1}},construct:function(e){var t,n=`(`+e+`)`,i=r.parse(n,{range:!0}),a=[];if(i.type!==`Program`||i.body.length!==1||i.body[0].type!==`ExpressionStatement`||i.body[0].expression.type!==`ArrowFunctionExpression`&&i.body[0].expression.type!==`FunctionExpression`)throw Error(`Failed to resolve function`);return i.body[0].expression.params.forEach((function(e){a.push(e.name)})),t=i.body[0].expression.body.range,i.body[0].expression.body.type===`BlockStatement`?Function(a,n.slice(t[0]+1,t[1]-1)):Function(a,`return `+n.slice(t[0],t[1]))},predicate:function(e){return Object.prototype.toString.call(e)===`[object Function]`},represent:function(e){return e.toString()}})},function(e,t,n){e.exports=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p=``,n(0)}([function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(1),i=n(3),a=n(8),o=n(15);function s(e,t,n){var o=null,s=function(e,t){n&&n(e,t),o&&o.visit(e,t)},c=typeof n==`function`?s:null,l=!1;if(t){l=typeof t.comment==`boolean`&&t.comment;var u=typeof t.attachComment==`boolean`&&t.attachComment;(l||u)&&((o=new r.CommentHandler).attach=u,t.comment=!0,c=s)}var d,f=!1;t&&typeof t.sourceType==`string`&&(f=t.sourceType===`module`),d=t&&typeof t.jsx==`boolean`&&t.jsx?new i.JSXParser(e,t,c):new a.Parser(e,t,c);var p=f?d.parseModule():d.parseScript();return l&&o&&(p.comments=o.comments),d.config.tokens&&(p.tokens=d.tokens),d.config.tolerant&&(p.errors=d.errorHandler.errors),p}t.parse=s,t.parseModule=function(e,t,n){var r=t||{};return r.sourceType=`module`,s(e,r,n)},t.parseScript=function(e,t,n){var r=t||{};return r.sourceType=`script`,s(e,r,n)},t.tokenize=function(e,t,n){var r,i=new o.Tokenizer(e,t);r=[];try{for(;;){var a=i.getNextToken();if(!a)break;n&&(a=n(a)),r.push(a)}}catch(e){i.errorHandler.tolerate(e)}return i.errorHandler.tolerant&&(r.errors=i.errors()),r},t.Syntax=n(2).Syntax,t.version=`4.0.1`},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2);t.CommentHandler=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===r.Syntax.BlockStatement&&e.body.length===0){for(var n=[],i=this.leading.length-1;i>=0;--i){var a=this.leading[i];t.end.offset>=a.start&&(n.unshift(a.comment),this.leading.splice(i,1),this.trailing.splice(i,1))}n.length&&(e.innerComments=n)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var r=this.trailing[n];r.start>=e.end.offset&&t.unshift(r.comment)}return this.trailing.length=0,t}var i=this.stack[this.stack.length-1];if(i&&i.node.trailingComments){var a=i.node.trailingComments[0];a&&a.range[0]>=e.end.offset&&(t=i.node.trailingComments,delete i.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,n=[];this.stack.length>0&&(a=this.stack[this.stack.length-1])&&a.start>=e.start.offset;)t=a.node,this.stack.pop();if(t){for(var r=(t.leadingComments?t.leadingComments.length:0)-1;r>=0;--r){var i=t.leadingComments[r];i.range[1]<=e.start.offset&&(n.unshift(i),t.leadingComments.splice(r,1))}return t.leadingComments&&t.leadingComments.length===0&&delete t.leadingComments,n}for(r=this.leading.length-1;r>=0;--r){var a;(a=this.leading[r]).start<=e.start.offset&&(n.unshift(a.comment),this.leading.splice(r,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===r.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),i=this.findLeadingComments(t);i.length>0&&(e.leadingComments=i),n.length>0&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n=e.type[0]===`L`?`Line`:`Block`,r={type:n,value:e.value};if(e.range&&(r.range=e.range),e.loc&&(r.loc=e.loc),this.comments.push(r),this.attach){var i={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(i.comment.loc=e.loc),e.type=n,this.leading.push(i),this.trailing.push(i)}},e.prototype.visit=function(e,t){e.type===`LineComment`||e.type===`BlockComment`?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}()},function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.Syntax={AssignmentExpression:`AssignmentExpression`,AssignmentPattern:`AssignmentPattern`,ArrayExpression:`ArrayExpression`,ArrayPattern:`ArrayPattern`,ArrowFunctionExpression:`ArrowFunctionExpression`,AwaitExpression:`AwaitExpression`,BlockStatement:`BlockStatement`,BinaryExpression:`BinaryExpression`,BreakStatement:`BreakStatement`,CallExpression:`CallExpression`,CatchClause:`CatchClause`,ClassBody:`ClassBody`,ClassDeclaration:`ClassDeclaration`,ClassExpression:`ClassExpression`,ConditionalExpression:`ConditionalExpression`,ContinueStatement:`ContinueStatement`,DoWhileStatement:`DoWhileStatement`,DebuggerStatement:`DebuggerStatement`,EmptyStatement:`EmptyStatement`,ExportAllDeclaration:`ExportAllDeclaration`,ExportDefaultDeclaration:`ExportDefaultDeclaration`,ExportNamedDeclaration:`ExportNamedDeclaration`,ExportSpecifier:`ExportSpecifier`,ExpressionStatement:`ExpressionStatement`,ForStatement:`ForStatement`,ForOfStatement:`ForOfStatement`,ForInStatement:`ForInStatement`,FunctionDeclaration:`FunctionDeclaration`,FunctionExpression:`FunctionExpression`,Identifier:`Identifier`,IfStatement:`IfStatement`,ImportDeclaration:`ImportDeclaration`,ImportDefaultSpecifier:`ImportDefaultSpecifier`,ImportNamespaceSpecifier:`ImportNamespaceSpecifier`,ImportSpecifier:`ImportSpecifier`,Literal:`Literal`,LabeledStatement:`LabeledStatement`,LogicalExpression:`LogicalExpression`,MemberExpression:`MemberExpression`,MetaProperty:`MetaProperty`,MethodDefinition:`MethodDefinition`,NewExpression:`NewExpression`,ObjectExpression:`ObjectExpression`,ObjectPattern:`ObjectPattern`,Program:`Program`,Property:`Property`,RestElement:`RestElement`,ReturnStatement:`ReturnStatement`,SequenceExpression:`SequenceExpression`,SpreadElement:`SpreadElement`,Super:`Super`,SwitchCase:`SwitchCase`,SwitchStatement:`SwitchStatement`,TaggedTemplateExpression:`TaggedTemplateExpression`,TemplateElement:`TemplateElement`,TemplateLiteral:`TemplateLiteral`,ThisExpression:`ThisExpression`,ThrowStatement:`ThrowStatement`,TryStatement:`TryStatement`,UnaryExpression:`UnaryExpression`,UpdateExpression:`UpdateExpression`,VariableDeclaration:`VariableDeclaration`,VariableDeclarator:`VariableDeclarator`,WhileStatement:`WhileStatement`,WithStatement:`WithStatement`,YieldExpression:`YieldExpression`}},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0});var a=n(4),o=n(5),s=n(6),c=n(7),l=n(8),u=n(13),d=n(14);function f(e){var t;switch(e.type){case s.JSXSyntax.JSXIdentifier:t=e.name;break;case s.JSXSyntax.JSXNamespacedName:var n=e;t=f(n.namespace)+`:`+f(n.name);break;case s.JSXSyntax.JSXMemberExpression:var r=e;t=f(r.object)+`.`+f(r.property)}return t}u.TokenName[100]=`JSXIdentifier`,u.TokenName[101]=`JSXText`,t.JSXParser=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return i(t,e),t.prototype.parsePrimaryExpression=function(){return this.match(`<`)?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX(`}`),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t=`&`,n=!0,r=!1,i=!1,o=!1;!this.scanner.eof()&&n&&!r;){var s=this.scanner.source[this.scanner.index];if(s===e)break;if(r=s===`;`,t+=s,++this.scanner.index,!r)switch(t.length){case 2:i=s===`#`;break;case 3:i&&(n=(o=s===`x`)||a.Character.isDecimalDigit(s.charCodeAt(0)),i&&=!o);break;default:n=(n&&=!(i&&!a.Character.isDecimalDigit(s.charCodeAt(0))))&&!(o&&!a.Character.isHexDigit(s.charCodeAt(0)))}}if(n&&r&&t.length>2){var c=t.substr(1,t.length-2);i&&c.length>1?t=String.fromCharCode(parseInt(c.substr(1),10)):o&&c.length>2?t=String.fromCharCode(parseInt(`0`+c.substr(1),16)):i||o||!d.XHTMLEntities[c]||(t=d.XHTMLEntities[c])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(e===60||e===62||e===47||e===58||e===61||e===123||e===125)return{type:7,value:s=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(e===34||e===39){for(var t=this.scanner.index,n=this.scanner.source[this.scanner.index++],r=``;!this.scanner.eof()&&(c=this.scanner.source[this.scanner.index++])!==n;)r+=c===`&`?this.scanXHTMLEntity(n):c;return{type:8,value:r,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(e===46){var i=this.scanner.source.charCodeAt(this.scanner.index+1),o=this.scanner.source.charCodeAt(this.scanner.index+2),s=i===46&&o===46?`...`:`.`;return t=this.scanner.index,this.scanner.index+=s.length,{type:7,value:s,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(e===96)return{type:10,value:``,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(a.Character.isIdentifierStart(e)&&e!==92){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var c=this.scanner.source.charCodeAt(this.scanner.index);if(a.Character.isIdentifierPart(c)&&c!==92)++this.scanner.index;else{if(c!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t=``;!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if(n===`{`||n===`<`)break;++this.scanner.index,t+=n,a.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,n===`\r`&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var r={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();t.type===7&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return t.type===7&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return t.type!==100&&this.throwUnexpectedToken(t),this.finalize(e,new o.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(`:`)){var n=t;this.expectJSX(`:`);var r=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXNamespacedName(n,r))}else if(this.matchJSX(`.`))for(;this.matchJSX(`.`);){var i=t;this.expectJSX(`.`);var a=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXMemberExpression(i,a))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(`:`)){var r=n;this.expectJSX(`:`);var i=this.parseJSXIdentifier();e=this.finalize(t,new o.JSXNamespacedName(r,i))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();t.type!==8&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new c.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX(`{`),this.finishJSX(),this.match(`}`)&&this.tolerateError(`JSX attributes must only be assigned a non-empty expression`);var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new o.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX(`{`)?this.parseJSXExpressionAttribute():this.matchJSX(`<`)?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX(`=`)&&(this.expectJSX(`=`),n=this.parseJSXAttributeValue()),this.finalize(e,new o.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX(`{`),this.expectJSX(`...`),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new o.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX(`/`)&&!this.matchJSX(`>`);){var t=this.matchJSX(`{`)?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX(`<`);var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),r=this.matchJSX(`/`);return r&&this.expectJSX(`/`),this.expectJSX(`>`),this.finalize(e,new o.JSXOpeningElement(t,r,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX(`<`),this.matchJSX(`/`)){this.expectJSX(`/`);var t=this.parseJSXElementName();return this.expectJSX(`>`),this.finalize(e,new o.JSXClosingElement(t))}var n=this.parseJSXElementName(),r=this.parseJSXAttributes(),i=this.matchJSX(`/`);return i&&this.expectJSX(`/`),this.expectJSX(`>`),this.finalize(e,new o.JSXOpeningElement(n,i,r))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new o.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX(`{`),this.matchJSX(`}`)?(e=this.parseJSXEmptyExpression(),this.expectJSX(`}`)):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new o.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var r=this.getTokenRaw(n),i=this.finalize(t,new o.JSXText(n.value,r));e.push(i)}if(this.scanner.source[this.scanner.index]!==`{`)break;var a=this.parseJSXExpressionContainer();e.push(a)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),r=this.parseJSXBoundaryElement();if(r.type===s.JSXSyntax.JSXOpeningElement){var i=r;if(i.selfClosing){var a=this.finalize(n,new o.JSXElement(i,[],null));e.children.push(a)}else t.push(e),e={node:n,opening:i,closing:null,children:[]}}if(r.type===s.JSXSyntax.JSXClosingElement){e.closing=r;var c=f(e.opening.name);if(c!==f(e.closing.name)&&this.tolerateError(`Expected corresponding JSX closing tag for %0`,c),!(t.length>0))break;a=this.finalize(e.node,new o.JSXElement(e.opening,e.children,e.closing)),(e=t[t.length-1]).children.push(a),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],r=null;if(!t.selfClosing){var i=this.parseComplexJSXElement({node:e,opening:t,closing:r,children:n});n=i.children,r=i.closing}return this.finalize(e,new o.JSXElement(t,n,r))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match(`<`)},t}(l.Parser)},function(e,t){Object.defineProperty(t,`__esModule`,{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return e===10||e===13||e===8232||e===8233},isIdentifierStart:function(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(6);t.JSXClosingElement=function(e){this.type=r.JSXSyntax.JSXClosingElement,this.name=e},t.JSXElement=function(e,t,n){this.type=r.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n},t.JSXEmptyExpression=function(){this.type=r.JSXSyntax.JSXEmptyExpression},t.JSXExpressionContainer=function(e){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=e},t.JSXIdentifier=function(e){this.type=r.JSXSyntax.JSXIdentifier,this.name=e},t.JSXMemberExpression=function(e,t){this.type=r.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t},t.JSXAttribute=function(e,t){this.type=r.JSXSyntax.JSXAttribute,this.name=e,this.value=t},t.JSXNamespacedName=function(e,t){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t},t.JSXOpeningElement=function(e,t,n){this.type=r.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n},t.JSXSpreadAttribute=function(e){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=e},t.JSXText=function(e,t){this.type=r.JSXSyntax.JSXText,this.value=e,this.raw=t}},function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.JSXSyntax={JSXAttribute:`JSXAttribute`,JSXClosingElement:`JSXClosingElement`,JSXElement:`JSXElement`,JSXEmptyExpression:`JSXEmptyExpression`,JSXExpressionContainer:`JSXExpressionContainer`,JSXIdentifier:`JSXIdentifier`,JSXMemberExpression:`JSXMemberExpression`,JSXNamespacedName:`JSXNamespacedName`,JSXOpeningElement:`JSXOpeningElement`,JSXSpreadAttribute:`JSXSpreadAttribute`,JSXText:`JSXText`}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2);t.ArrayExpression=function(e){this.type=r.Syntax.ArrayExpression,this.elements=e},t.ArrayPattern=function(e){this.type=r.Syntax.ArrayPattern,this.elements=e},t.ArrowFunctionExpression=function(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1},t.AssignmentExpression=function(e,t,n){this.type=r.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n},t.AssignmentPattern=function(e,t){this.type=r.Syntax.AssignmentPattern,this.left=e,this.right=t},t.AsyncArrowFunctionExpression=function(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0},t.AsyncFunctionDeclaration=function(e,t,n){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0},t.AsyncFunctionExpression=function(e,t,n){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0},t.AwaitExpression=function(e){this.type=r.Syntax.AwaitExpression,this.argument=e},t.BinaryExpression=function(e,t,n){this.type=e===`||`||e===`&&`?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n},t.BlockStatement=function(e){this.type=r.Syntax.BlockStatement,this.body=e},t.BreakStatement=function(e){this.type=r.Syntax.BreakStatement,this.label=e},t.CallExpression=function(e,t){this.type=r.Syntax.CallExpression,this.callee=e,this.arguments=t},t.CatchClause=function(e,t){this.type=r.Syntax.CatchClause,this.param=e,this.body=t},t.ClassBody=function(e){this.type=r.Syntax.ClassBody,this.body=e},t.ClassDeclaration=function(e,t,n){this.type=r.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n},t.ClassExpression=function(e,t,n){this.type=r.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n},t.ComputedMemberExpression=function(e,t){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t},t.ConditionalExpression=function(e,t,n){this.type=r.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n},t.ContinueStatement=function(e){this.type=r.Syntax.ContinueStatement,this.label=e},t.DebuggerStatement=function(){this.type=r.Syntax.DebuggerStatement},t.Directive=function(e,t){this.type=r.Syntax.ExpressionStatement,this.expression=e,this.directive=t},t.DoWhileStatement=function(e,t){this.type=r.Syntax.DoWhileStatement,this.body=e,this.test=t},t.EmptyStatement=function(){this.type=r.Syntax.EmptyStatement},t.ExportAllDeclaration=function(e){this.type=r.Syntax.ExportAllDeclaration,this.source=e},t.ExportDefaultDeclaration=function(e){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=e},t.ExportNamedDeclaration=function(e,t,n){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n},t.ExportSpecifier=function(e,t){this.type=r.Syntax.ExportSpecifier,this.exported=t,this.local=e},t.ExpressionStatement=function(e){this.type=r.Syntax.ExpressionStatement,this.expression=e},t.ForInStatement=function(e,t,n){this.type=r.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1},t.ForOfStatement=function(e,t,n){this.type=r.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n},t.ForStatement=function(e,t,n,i){this.type=r.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=i},t.FunctionDeclaration=function(e,t,n,i){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1},t.FunctionExpression=function(e,t,n,i){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1},t.Identifier=function(e){this.type=r.Syntax.Identifier,this.name=e},t.IfStatement=function(e,t,n){this.type=r.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n},t.ImportDeclaration=function(e,t){this.type=r.Syntax.ImportDeclaration,this.specifiers=e,this.source=t},t.ImportDefaultSpecifier=function(e){this.type=r.Syntax.ImportDefaultSpecifier,this.local=e},t.ImportNamespaceSpecifier=function(e){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=e},t.ImportSpecifier=function(e,t){this.type=r.Syntax.ImportSpecifier,this.local=e,this.imported=t},t.LabeledStatement=function(e,t){this.type=r.Syntax.LabeledStatement,this.label=e,this.body=t},t.Literal=function(e,t){this.type=r.Syntax.Literal,this.value=e,this.raw=t},t.MetaProperty=function(e,t){this.type=r.Syntax.MetaProperty,this.meta=e,this.property=t},t.MethodDefinition=function(e,t,n,i,a){this.type=r.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=i,this.static=a},t.Module=function(e){this.type=r.Syntax.Program,this.body=e,this.sourceType=`module`},t.NewExpression=function(e,t){this.type=r.Syntax.NewExpression,this.callee=e,this.arguments=t},t.ObjectExpression=function(e){this.type=r.Syntax.ObjectExpression,this.properties=e},t.ObjectPattern=function(e){this.type=r.Syntax.ObjectPattern,this.properties=e},t.Property=function(e,t,n,i,a,o){this.type=r.Syntax.Property,this.key=t,this.computed=n,this.value=i,this.kind=e,this.method=a,this.shorthand=o},t.RegexLiteral=function(e,t,n,i){this.type=r.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:i}},t.RestElement=function(e){this.type=r.Syntax.RestElement,this.argument=e},t.ReturnStatement=function(e){this.type=r.Syntax.ReturnStatement,this.argument=e},t.Script=function(e){this.type=r.Syntax.Program,this.body=e,this.sourceType=`script`},t.SequenceExpression=function(e){this.type=r.Syntax.SequenceExpression,this.expressions=e},t.SpreadElement=function(e){this.type=r.Syntax.SpreadElement,this.argument=e},t.StaticMemberExpression=function(e,t){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t},t.Super=function(){this.type=r.Syntax.Super},t.SwitchCase=function(e,t){this.type=r.Syntax.SwitchCase,this.test=e,this.consequent=t},t.SwitchStatement=function(e,t){this.type=r.Syntax.SwitchStatement,this.discriminant=e,this.cases=t},t.TaggedTemplateExpression=function(e,t){this.type=r.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t},t.TemplateElement=function(e,t){this.type=r.Syntax.TemplateElement,this.value=e,this.tail=t},t.TemplateLiteral=function(e,t){this.type=r.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t},t.ThisExpression=function(){this.type=r.Syntax.ThisExpression},t.ThrowStatement=function(e){this.type=r.Syntax.ThrowStatement,this.argument=e},t.TryStatement=function(e,t,n){this.type=r.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n},t.UnaryExpression=function(e,t){this.type=r.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0},t.UpdateExpression=function(e,t,n){this.type=r.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n},t.VariableDeclaration=function(e,t){this.type=r.Syntax.VariableDeclaration,this.declarations=e,this.kind=t},t.VariableDeclarator=function(e,t){this.type=r.Syntax.VariableDeclarator,this.id=e,this.init=t},t.WhileStatement=function(e,t){this.type=r.Syntax.WhileStatement,this.test=e,this.body=t},t.WithStatement=function(e,t){this.type=r.Syntax.WithStatement,this.object=e,this.body=t},t.YieldExpression=function(e,t){this.type=r.Syntax.YieldExpression,this.argument=e,this.delegate=t}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(9),i=n(10),a=n(11),o=n(7),s=n(12),c=n(2),l=n(13);t.Parser=function(){function e(e,t,n){t===void 0&&(t={}),this.config={range:typeof t.range==`boolean`&&t.range,loc:typeof t.loc==`boolean`&&t.loc,source:null,tokens:typeof t.tokens==`boolean`&&t.tokens,comment:typeof t.comment==`boolean`&&t.comment,tolerant:typeof t.tolerant==`boolean`&&t.tolerant},this.config.loc&&t.source&&t.source!==null&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new s.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:``,lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){var t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,(function(e,n){return r.assert(n<t.length,`Message reference must be in range`),t[n]})),i=this.lastMarker.index,a=this.lastMarker.line,o=this.lastMarker.column+1;throw this.errorHandler.createError(i,a,o,n)},e.prototype.tolerateError=function(e){var t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,(function(e,n){return r.assert(n<t.length,`Message reference must be in range`),t[n]})),i=this.lastMarker.index,a=this.scanner.lineNumber,o=this.lastMarker.column+1;this.errorHandler.tolerateError(i,a,o,n)},e.prototype.unexpectedTokenError=function(e,t){var n,r=t||a.Messages.UnexpectedToken;if(e?(t||(r=e.type===2?a.Messages.UnexpectedEOS:e.type===3?a.Messages.UnexpectedIdentifier:e.type===6?a.Messages.UnexpectedNumber:e.type===8?a.Messages.UnexpectedString:e.type===10?a.Messages.UnexpectedTemplate:a.Messages.UnexpectedToken,e.type===4&&(this.scanner.isFutureReservedWord(e.value)?r=a.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(r=a.Messages.StrictReservedWord))),n=e.value):n=`ILLEGAL`,r=r.replace(`%0`,n),e&&typeof e.lineNumber==`number`){var i=e.start,o=e.lineNumber,s=this.lastMarker.index-this.lastMarker.column,c=e.start-s+1;return this.errorHandler.createError(i,o,c,r)}return i=this.lastMarker.index,o=this.lastMarker.line,c=this.lastMarker.column+1,this.errorHandler.createError(i,o,c,r)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],r=void 0;r={type:n.multiLine?`BlockComment`:`LineComment`,value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(r.range=n.range),this.config.loc&&(r.loc=n.loc);var i={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(r,i)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:l.TokenName[e.type],value:this.getTokenRaw(e)};return this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),e.type===9&&(t.regex={pattern:e.pattern,flags:e.flags}),t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&t.type===3&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&t.type!==2&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){t===void 0&&(t=0);var n=e.start-e.lineStart,r=e.lineNumber;return n<0&&(n+=t,r--),{index:e.start,line:r,column:n}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();t.type===7&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;e.type===7&&e.value===`,`?this.nextToken():e.type===7&&e.value===`;`?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,a.Messages.UnexpectedToken)}else this.expect(`,`)},e.prototype.expectKeyword=function(e){var t=this.nextToken();t.type===4&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return this.lookahead.type===7&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return this.lookahead.type===4&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return this.lookahead.type===3&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var e=this.lookahead.value;return e===`=`||e===`*=`||e===`**=`||e===`/=`||e===`%=`||e===`+=`||e===`-=`||e===`<<=`||e===`>>=`||e===`>>>=`||e===`&=`||e===`^=`||e===`|=`},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=r,i},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,i},e.prototype.consumeSemicolon=function(){this.match(`;`)?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match(`}`)||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value===`await`&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,a.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new o.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new o.Literal(t.value===`true`,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new o.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case`(`:this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case`[`:e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case`{`:e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case`/`:case`/=`:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(r,new o.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword(`yield`)?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword(`let`)?e=this.finalize(r,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword(`function`)?e=this.parseFunctionExpression():this.matchKeyword(`this`)?(this.nextToken(),e=this.finalize(r,new o.ThisExpression)):e=this.matchKeyword(`class`)?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect(`...`);var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new o.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect(`[`);!this.match(`]`);)if(this.match(`,`))this.nextToken(),t.push(null);else if(this.match(`...`)){var n=this.parseSpreadElement();this.match(`]`)||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(`,`)),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match(`]`)||this.expect(`,`);return this.expect(`]`),this.finalize(e,new o.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var r=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,r},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters(),r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,n.params,r,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new o.AsyncFunctionExpression(null,r.params,i))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,a.Messages.StrictOctalLiteral);var r=this.getTokenRaw(n);e=this.finalize(t,new o.Literal(n.value,r));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new o.Identifier(n.value));break;case 7:n.value===`[`?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect(`]`)):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===c.Syntax.Identifier&&e.name===t||e.type===c.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),r=this.lookahead,i=null,s=null,c=!1,l=!1,u=!1,d=!1;if(r.type===3){var f=r.value;this.nextToken(),c=this.match(`[`),i=(d=!(this.hasLineTerminator||f!==`async`||this.match(`:`)||this.match(`(`)||this.match(`*`)||this.match(`,`)))?this.parseObjectPropertyKey():this.finalize(n,new o.Identifier(f))}else this.match(`*`)?this.nextToken():(c=this.match(`[`),i=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(r.type===3&&!d&&r.value===`get`&&p)t=`get`,c=this.match(`[`),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod();else if(r.type===3&&!d&&r.value===`set`&&p)t=`set`,c=this.match(`[`),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod();else if(r.type===7&&r.value===`*`&&p)t=`init`,c=this.match(`[`),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),l=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t=`init`,this.match(`:`)&&!d)!c&&this.isPropertyKey(i,`__proto__`)&&(e.value&&this.tolerateError(a.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),s=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match(`(`))s=d?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0;else if(r.type===3)if(f=this.finalize(n,new o.Identifier(r.value)),this.match(`=`)){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),u=!0;var m=this.isolateCoverGrammar(this.parseAssignmentExpression);s=this.finalize(n,new o.AssignmentPattern(f,m))}else u=!0,s=f;else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new o.Property(t,i,c,s,l,u))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect(`{`);for(var t=[],n={value:!1};!this.match(`}`);)t.push(this.parseObjectProperty(n)),this.match(`}`)||this.expectCommaSeparator();return this.expect(`}`),this.finalize(e,new o.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,`Template literal must start with a template head`);var e=this.createNode(),t=this.nextToken(),n=t.value,i=t.cooked;return this.finalize(e,new o.TemplateElement({raw:n,cooked:i},t.tail))},e.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new o.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],r=this.parseTemplateHead();for(n.push(r);!r.tail;)t.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(e,new o.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:e.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case c.Syntax.ArrayExpression:e.type=c.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)e.elements[t]!==null&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case c.Syntax.ObjectExpression:for(e.type=c.Syntax.ObjectPattern,t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case c.Syntax.AssignmentExpression:e.type=c.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect(`(`),this.match(`)`))this.nextToken(),this.match(`=>`)||this.expect(`=>`),e={type:`ArrowParameterPlaceHolder`,params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match(`...`))e=this.parseRestElement(n),this.expect(`)`),this.match(`=>`)||this.expect(`=>`),e={type:`ArrowParameterPlaceHolder`,params:[e],async:!1};else{var r=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(`,`)){var i=[];for(this.context.isAssignmentTarget=!1,i.push(e);this.lookahead.type!==2&&this.match(`,`);){if(this.nextToken(),this.match(`)`)){this.nextToken();for(var a=0;a<i.length;a++)this.reinterpretExpressionAsPattern(i[a]);r=!0,e={type:`ArrowParameterPlaceHolder`,params:i,async:!1}}else if(this.match(`...`)){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(n)),this.expect(`)`),this.match(`=>`)||this.expect(`=>`),this.context.isBindingElement=!1,a=0;a<i.length;a++)this.reinterpretExpressionAsPattern(i[a]);r=!0,e={type:`ArrowParameterPlaceHolder`,params:i,async:!1}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(e=this.finalize(this.startNode(t),new o.SequenceExpression(i)))}if(!r){if(this.expect(`)`),this.match(`=>`)&&(e.type===c.Syntax.Identifier&&e.name===`yield`&&(r=!0,e={type:`ArrowParameterPlaceHolder`,params:[e],async:!1}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===c.Syntax.SequenceExpression)for(a=0;a<e.expressions.length;a++)this.reinterpretExpressionAsPattern(e.expressions[a]);else this.reinterpretExpressionAsPattern(e);e={type:`ArrowParameterPlaceHolder`,params:e.type===c.Syntax.SequenceExpression?e.expressions:[e],async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect(`(`);var e=[];if(!this.match(`)`))for(;;){var t=this.match(`...`)?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(`)`)||(this.expectCommaSeparator(),this.match(`)`)))break}return this.expect(`)`),e},e.prototype.isIdentifierName=function(e){return e.type===3||e.type===4||e.type===1||e.type===5},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new o.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),n=this.parseIdentifierName();if(r.assert(n.name===`new`,"New expression must start with `new`"),this.match(`.`))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value===`target`){var i=this.parseIdentifierName();e=new o.MetaProperty(n,i)}else this.throwUnexpectedToken(this.lookahead);else{var a=this.isolateCoverGrammar(this.parseLeftHandSideExpression),s=this.match(`(`)?this.parseArguments():[];e=new o.NewExpression(a,s),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect(`(`);var e=[];if(!this.match(`)`))for(;;){var t=this.match(`...`)?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(`)`)||(this.expectCommaSeparator(),this.match(`)`)))break}return this.expect(`)`),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,n=this.matchContextualKeyword(`async`),r=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword(`super`)&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new o.Super),this.match(`(`)||this.match(`.`)||this.match(`[`)||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword(`new`)?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(`.`)){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(`.`);var i=this.parseIdentifierName();e=this.finalize(this.startNode(t),new o.StaticMemberExpression(e,i))}else if(this.match(`(`)){var a=n&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var s=a?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new o.CallExpression(e,s)),a&&this.match(`=>`)){for(var c=0;c<s.length;++c)this.reinterpretExpressionAsPattern(s[c]);e={type:`ArrowParameterPlaceHolder`,params:s,async:!0}}}else if(this.match(`[`))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(`[`),i=this.isolateCoverGrammar(this.parseExpression),this.expect(`]`),e=this.finalize(this.startNode(t),new o.ComputedMemberExpression(e,i));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var l=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new o.TaggedTemplateExpression(e,l))}return this.context.allowIn=r,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword(`super`),this.match(`[`)||this.match(`.`)||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new o.Super)},e.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,`callee of new expression always allow in keyword.`);for(var e=this.startNode(this.lookahead),t=this.matchKeyword(`super`)&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword(`new`)?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(`[`)){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(`[`);var n=this.isolateCoverGrammar(this.parseExpression);this.expect(`]`),t=this.finalize(e,new o.ComputedMemberExpression(t,n))}else if(this.match(`.`))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(`.`),n=this.parseIdentifierName(),t=this.finalize(e,new o.StaticMemberExpression(t,n));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var i=this.parseTemplateLiteral();t=this.finalize(e,new o.TaggedTemplateExpression(t,i))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match(`++`)||this.match(`--`)){var n=this.startNode(t),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(a.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment);var i=!0;e=this.finalize(n,new o.UpdateExpression(r.value,e,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match(`++`)||this.match(`--`))){this.context.strict&&e.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(a.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var s=this.nextToken().value;i=!1,e=this.finalize(this.startNode(t),new o.UpdateExpression(s,e,i))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new o.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match(`+`)||this.match(`-`)||this.match(`~`)||this.match(`!`)||this.matchKeyword(`delete`)||this.matchKeyword(`void`)||this.matchKeyword(`typeof`)){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new o.UnaryExpression(n.value,e)),this.context.strict&&e.operator===`delete`&&e.argument.type===c.Syntax.Identifier&&this.tolerateError(a.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword(`await`)?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==c.Syntax.UnaryExpression&&this.match(`**`)){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,r=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new o.BinaryExpression(`**`,n,r))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return e.type===7?this.operatorPrecedence[t]||0:e.type===4&&(t===`instanceof`||this.context.allowIn&&t===`in`)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(r>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[e,this.lookahead],a=t,s=this.isolateCoverGrammar(this.parseExponentiationExpression),c=[a,n.value,s],l=[r];!((r=this.binaryPrecedence(this.lookahead))<=0);){for(;c.length>2&&r<=l[l.length-1];){s=c.pop();var u=c.pop();l.pop(),a=c.pop(),i.pop();var d=this.startNode(i[i.length-1]);c.push(this.finalize(d,new o.BinaryExpression(u,a,s)))}c.push(this.nextToken().value),l.push(r),i.push(this.lookahead),c.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var f=c.length-1;t=c[f];for(var p=i.pop();f>1;){var m=i.pop(),h=p&&p.lineStart;d=this.startNode(m,h),u=c[f-1],t=this.finalize(d,new o.BinaryExpression(u,c[f-2],t)),f-=2,p=m}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match(`?`)){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(`:`);var i=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new o.ConditionalExpression(t,r,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case c.Syntax.Identifier:this.validateParam(e,t,t.name);break;case c.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case c.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)t.elements[n]!==null&&this.checkPatternParam(e,t.elements[n]);break;case c.Syntax.ObjectPattern:for(n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value)}e.simple=e.simple&&t instanceof o.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],r=!1;switch(e.type){case c.Syntax.Identifier:break;case`ArrowParameterPlaceHolder`:n=e.params,r=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var i=0;i<n.length;++i)(o=n[i]).type===c.Syntax.AssignmentPattern?o.right.type===c.Syntax.YieldExpression&&(o.right.argument&&this.throwUnexpectedToken(this.lookahead),o.right.type=c.Syntax.Identifier,o.right.name=`yield`,delete o.right.argument,delete o.right.delegate):r&&o.type===c.Syntax.Identifier&&o.name===`await`&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,o),n[i]=o;if(this.context.strict||!this.context.allowYield)for(i=0;i<n.length;++i){var o;(o=n[i]).type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===a.Messages.StrictParamDupe){var s=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(s,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword(`yield`))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),n.type===3&&n.lineNumber===this.lookahead.lineNumber&&n.value===`async`&&(this.lookahead.type===3||this.matchKeyword(`yield`))){var r=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(r),e={type:`ArrowParameterPlaceHolder`,params:[r],async:!0}}if(e.type===`ArrowParameterPlaceHolder`||this.match(`=>`)){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=e.async,s=this.reinterpretAsCoverFormalsList(e);if(s){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var l=this.context.strict,u=this.context.allowStrictDirective;this.context.allowStrictDirective=s.simple;var d=this.context.allowYield,f=this.context.await;this.context.allowYield=!0,this.context.await=i;var p=this.startNode(t);this.expect(`=>`);var m=void 0;if(this.match(`{`)){var h=this.context.allowIn;this.context.allowIn=!0,m=this.parseFunctionSourceElements(),this.context.allowIn=h}else m=this.isolateCoverGrammar(this.parseAssignmentExpression);var g=m.type!==c.Syntax.BlockStatement;this.context.strict&&s.firstRestricted&&this.throwUnexpectedToken(s.firstRestricted,s.message),this.context.strict&&s.stricted&&this.tolerateUnexpectedToken(s.stricted,s.message),e=i?this.finalize(p,new o.AsyncArrowFunctionExpression(s.params,m,g)):this.finalize(p,new o.ArrowFunctionExpression(s.params,m,g)),this.context.strict=l,this.context.allowStrictDirective=u,this.context.allowYield=d,this.context.await=f}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===c.Syntax.Identifier){var _=e;this.scanner.isRestrictedWord(_.name)&&this.tolerateUnexpectedToken(n,a.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(_.name)&&this.tolerateUnexpectedToken(n,a.Messages.StrictReservedWord)}this.match(`=`)?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var v=(n=this.nextToken()).value,y=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new o.AssignmentExpression(v,e,y)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(`,`)){var n=[];for(n.push(t);this.lookahead.type!==2&&this.match(`,`);)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new o.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case`export`:this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,a.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case`import`:this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,a.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case`const`:e=this.parseLexicalDeclaration({inFor:!1});break;case`function`:e=this.parseFunctionDeclaration();break;case`class`:e=this.parseClassDeclaration();break;case`let`:e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect(`{`);for(var t=[];!this.match(`}`);)t.push(this.parseStatementListItem());return this.expect(`}`),this.finalize(e,new o.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),r=this.parsePattern([],e);this.context.strict&&r.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(a.Messages.StrictVarName);var i=null;return e===`const`?this.matchKeyword(`in`)||this.matchContextualKeyword(`of`)||(this.match(`=`)?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(a.Messages.DeclarationMissingInitializer,`const`)):(!t.inFor&&r.type!==c.Syntax.Identifier||this.match(`=`))&&(this.expect(`=`),i=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new o.VariableDeclarator(r,i))},e.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(`,`);)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),t.type===3||t.type===7&&t.value===`[`||t.type===7&&t.value===`{`||t.type===4&&t.value===`let`||t.type===4&&t.value===`yield`},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;r.assert(n===`let`||n===`const`,`Lexical declaration must be either let or const`);var i=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new o.VariableDeclaration(i,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect(`...`);var r=this.parsePattern(e,t);return this.finalize(n,new o.RestElement(r))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect(`[`);for(var r=[];!this.match(`]`);)if(this.match(`,`))this.nextToken(),r.push(null);else{if(this.match(`...`)){r.push(this.parseBindingRestElement(e,t));break}r.push(this.parsePatternWithDefault(e,t)),this.match(`]`)||this.expect(`,`)}return this.expect(`]`),this.finalize(n,new o.ArrayPattern(r))},e.prototype.parsePropertyPattern=function(e,t){var n,r,i=this.createNode(),a=!1,s=!1;if(this.lookahead.type===3){var c=this.lookahead;n=this.parseVariableIdentifier();var l=this.finalize(i,new o.Identifier(c.value));if(this.match(`=`)){e.push(c),s=!0,this.nextToken();var u=this.parseAssignmentExpression();r=this.finalize(this.startNode(c),new o.AssignmentPattern(l,u))}else this.match(`:`)?(this.expect(`:`),r=this.parsePatternWithDefault(e,t)):(e.push(c),s=!0,r=l)}else a=this.match(`[`),n=this.parseObjectPropertyKey(),this.expect(`:`),r=this.parsePatternWithDefault(e,t);return this.finalize(i,new o.Property(`init`,n,a,r,!1,s))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),r=[];for(this.expect(`{`);!this.match(`}`);)r.push(this.parsePropertyPattern(e,t)),this.match(`}`)||this.expect(`,`);return this.expect(`}`),this.finalize(n,new o.ObjectPattern(r))},e.prototype.parsePattern=function(e,t){var n;return this.match(`[`)?n=this.parseArrayPattern(e,t):this.match(`{`)?n=this.parseObjectPattern(e,t):(!this.matchKeyword(`let`)||t!==`const`&&t!==`let`||this.tolerateUnexpectedToken(this.lookahead,a.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,r=this.parsePattern(e,t);if(this.match(`=`)){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var a=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,r=this.finalize(this.startNode(n),new o.AssignmentPattern(r,a))}return r},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return n.type===4&&n.value===`yield`?this.context.strict?this.tolerateUnexpectedToken(n,a.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):n.type===3?(this.context.isModule||this.context.await)&&n.type===3&&n.value===`await`&&this.tolerateUnexpectedToken(n):this.context.strict&&n.type===4&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,a.Messages.StrictReservedWord):(this.context.strict||n.value!==`let`||e!==`var`)&&this.throwUnexpectedToken(n),this.finalize(t,new o.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=this.parsePattern([],`var`);this.context.strict&&n.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(a.Messages.StrictVarName);var r=null;return this.match(`=`)?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===c.Syntax.Identifier||e.inFor||this.expect(`=`),this.finalize(t,new o.VariableDeclarator(n,r))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(`,`);)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword(`var`);var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new o.VariableDeclaration(t,`var`))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(`;`),this.finalize(e,new o.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword(`function`)&&this.tolerateError(a.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword(`if`),this.expect(`(`);var r=this.parseExpression();return!this.match(`)`)&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(`)`),e=this.parseIfClause(),this.matchKeyword(`else`)&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new o.IfStatement(r,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword(`do`);var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword(`while`),this.expect(`(`);var r=this.parseExpression();return!this.match(`)`)&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(`)`),this.match(`;`)&&this.nextToken()),this.finalize(e,new o.DoWhileStatement(n,r))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword(`while`),this.expect(`(`);var n=this.parseExpression();if(!this.match(`)`)&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(`)`);var r=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=r}return this.finalize(t,new o.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n,r=null,i=null,s=null,l=!0,u=this.createNode();if(this.expectKeyword(`for`),this.expect(`(`),this.match(`;`))this.nextToken();else if(this.matchKeyword(`var`)){r=this.createNode(),this.nextToken();var d=this.context.allowIn;this.context.allowIn=!1;var f=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=d,f.length===1&&this.matchKeyword(`in`)){var p=f[0];p.init&&(p.id.type===c.Syntax.ArrayPattern||p.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(a.Messages.ForInOfLoopInitializer,`for-in`),r=this.finalize(r,new o.VariableDeclaration(f,`var`)),this.nextToken(),e=r,t=this.parseExpression(),r=null}else f.length===1&&f[0].init===null&&this.matchContextualKeyword(`of`)?(r=this.finalize(r,new o.VariableDeclaration(f,`var`)),this.nextToken(),e=r,t=this.parseAssignmentExpression(),r=null,l=!1):(r=this.finalize(r,new o.VariableDeclaration(f,`var`)),this.expect(`;`))}else if(this.matchKeyword(`const`)||this.matchKeyword(`let`)){r=this.createNode();var m=this.nextToken().value;this.context.strict||this.lookahead.value!==`in`?(d=this.context.allowIn,this.context.allowIn=!1,f=this.parseBindingList(m,{inFor:!0}),this.context.allowIn=d,f.length===1&&f[0].init===null&&this.matchKeyword(`in`)?(r=this.finalize(r,new o.VariableDeclaration(f,m)),this.nextToken(),e=r,t=this.parseExpression(),r=null):f.length===1&&f[0].init===null&&this.matchContextualKeyword(`of`)?(r=this.finalize(r,new o.VariableDeclaration(f,m)),this.nextToken(),e=r,t=this.parseAssignmentExpression(),r=null,l=!1):(this.consumeSemicolon(),r=this.finalize(r,new o.VariableDeclaration(f,m)))):(r=this.finalize(r,new o.Identifier(m)),this.nextToken(),e=r,t=this.parseExpression(),r=null)}else{var h=this.lookahead;if(d=this.context.allowIn,this.context.allowIn=!1,r=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=d,this.matchKeyword(`in`))this.context.isAssignmentTarget&&r.type!==c.Syntax.AssignmentExpression||this.tolerateError(a.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(r),e=r,t=this.parseExpression(),r=null;else if(this.matchContextualKeyword(`of`))this.context.isAssignmentTarget&&r.type!==c.Syntax.AssignmentExpression||this.tolerateError(a.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(r),e=r,t=this.parseAssignmentExpression(),r=null,l=!1;else{if(this.match(`,`)){for(var g=[r];this.match(`,`);)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));r=this.finalize(this.startNode(h),new o.SequenceExpression(g))}this.expect(`;`)}}if(e===void 0&&(this.match(`;`)||(i=this.parseExpression()),this.expect(`;`),this.match(`)`)||(s=this.parseExpression())),!this.match(`)`)&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(`)`);var _=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=_}return e===void 0?this.finalize(u,new o.ForStatement(r,i,s,n)):l?this.finalize(u,new o.ForInStatement(e,t,n)):this.finalize(u,new o.ForOfStatement(e,t,n))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword(`continue`);var t=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var r=`$`+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(a.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),t!==null||this.context.inIteration||this.throwError(a.Messages.IllegalContinue),this.finalize(e,new o.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword(`break`);var t=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),r=`$`+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(a.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),t!==null||this.context.inIteration||this.context.inSwitch||this.throwError(a.Messages.IllegalBreak),this.finalize(e,new o.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(a.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword(`return`);var t=(this.match(`;`)||this.match(`}`)||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(a.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword(`with`),this.expect(`(`);var n=this.parseExpression();return!this.match(`)`)&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(`)`),e=this.parseStatement()),this.finalize(t,new o.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword(`default`)?(this.nextToken(),e=null):(this.expectKeyword(`case`),e=this.parseExpression()),this.expect(`:`);for(var n=[];!(this.match(`}`)||this.matchKeyword(`default`)||this.matchKeyword(`case`));)n.push(this.parseStatementListItem());return this.finalize(t,new o.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword(`switch`),this.expect(`(`);var t=this.parseExpression();this.expect(`)`);var n=this.context.inSwitch;this.context.inSwitch=!0;var r=[],i=!1;for(this.expect(`{`);!this.match(`}`);){var s=this.parseSwitchCase();s.test===null&&(i&&this.throwError(a.Messages.MultipleDefaultsInSwitch),i=!0),r.push(s)}return this.expect(`}`),this.context.inSwitch=n,this.finalize(e,new o.SwitchStatement(t,r))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===c.Syntax.Identifier&&this.match(`:`)){this.nextToken();var r=n,i=`$`+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)&&this.throwError(a.Messages.Redeclaration,`Label`,r.name),this.context.labelSet[i]=!0;var s=void 0;if(this.matchKeyword(`class`))this.tolerateUnexpectedToken(this.lookahead),s=this.parseClassDeclaration();else if(this.matchKeyword(`function`)){var l=this.lookahead,u=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(l,a.Messages.StrictFunction):u.generator&&this.tolerateUnexpectedToken(l,a.Messages.GeneratorInLegacyContext),s=u}else s=this.parseStatement();delete this.context.labelSet[i],e=new o.LabeledStatement(r,s)}else this.consumeSemicolon(),e=new o.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword(`throw`),this.hasLineTerminator&&this.throwError(a.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new o.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword(`catch`),this.expect(`(`),this.match(`)`)&&this.throwUnexpectedToken(this.lookahead);for(var t=[],n=this.parsePattern(t),r={},i=0;i<t.length;i++){var s=`$`+t[i].value;Object.prototype.hasOwnProperty.call(r,s)&&this.tolerateError(a.Messages.DuplicateBinding,t[i].value),r[s]=!0}this.context.strict&&n.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(a.Messages.StrictCatchVariable),this.expect(`)`);var l=this.parseBlock();return this.finalize(e,new o.CatchClause(n,l))},e.prototype.parseFinallyClause=function(){return this.expectKeyword(`finally`),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword(`try`);var t=this.parseBlock(),n=this.matchKeyword(`catch`)?this.parseCatchClause():null,r=this.matchKeyword(`finally`)?this.parseFinallyClause():null;return n||r||this.throwError(a.Messages.NoCatchOrFinally),this.finalize(e,new o.TryStatement(t,n,r))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword(`debugger`),this.consumeSemicolon(),this.finalize(e,new o.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e=t===`{`?this.parseBlock():t===`(`?this.parseExpressionStatement():t===`;`?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case`break`:e=this.parseBreakStatement();break;case`continue`:e=this.parseContinueStatement();break;case`debugger`:e=this.parseDebuggerStatement();break;case`do`:e=this.parseDoWhileStatement();break;case`for`:e=this.parseForStatement();break;case`function`:e=this.parseFunctionDeclaration();break;case`if`:e=this.parseIfStatement();break;case`return`:e=this.parseReturnStatement();break;case`switch`:e=this.parseSwitchStatement();break;case`throw`:e=this.parseThrowStatement();break;case`try`:e=this.parseTryStatement();break;case`var`:e=this.parseVariableStatement();break;case`while`:e=this.parseWhileStatement();break;case`with`:e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect(`{`);var t=this.parseDirectivePrologues(),n=this.context.labelSet,r=this.context.inIteration,i=this.context.inSwitch,a=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match(`}`);)t.push(this.parseStatementListItem());return this.expect(`}`),this.context.labelSet=n,this.context.inIteration=r,this.context.inSwitch=i,this.context.inFunctionBody=a,this.finalize(e,new o.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var r=`$`+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=a.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=a.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=a.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=a.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=a.Messages.StrictParamDupe)),typeof Object.defineProperty==`function`?Object.defineProperty(e.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[r]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect(`...`);var n=this.parsePattern(e);return this.match(`=`)&&this.throwError(a.Messages.DefaultRestParameter),this.match(`)`)||this.throwError(a.Messages.ParameterAfterRestParameter),this.finalize(t,new o.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match(`...`)?this.parseRestElement(t):this.parsePatternWithDefault(t),r=0;r<t.length;r++)this.validateParam(e,t[r],t[r].value);e.simple=e.simple&&n instanceof o.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect(`(`),!this.match(`)`))for(t.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(t),!this.match(`)`))&&(this.expect(`,`),!this.match(`)`)););return this.expect(`)`),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword(`async`);if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&n.type===4&&n.value===`function`}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword(`async`);n&&this.nextToken(),this.expectKeyword(`function`);var r,i=!n&&this.match(`*`);i&&this.nextToken();var s=null,c=null;if(!e||!this.match(`(`)){var l=this.lookahead;s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,a.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(c=l,r=a.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(c=l,r=a.Messages.StrictReservedWord)}var u=this.context.await,d=this.context.allowYield;this.context.await=n,this.context.allowYield=!i;var f=this.parseFormalParameters(c),p=f.params,m=f.stricted;c=f.firstRestricted,f.message&&(r=f.message);var h=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=f.simple;var _=this.parseFunctionSourceElements();return this.context.strict&&c&&this.throwUnexpectedToken(c,r),this.context.strict&&m&&this.tolerateUnexpectedToken(m,r),this.context.strict=h,this.context.allowStrictDirective=g,this.context.await=u,this.context.allowYield=d,n?this.finalize(t,new o.AsyncFunctionDeclaration(s,p,_)):this.finalize(t,new o.FunctionDeclaration(s,p,_,i))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword(`async`);t&&this.nextToken(),this.expectKeyword(`function`);var n,r=!t&&this.match(`*`);r&&this.nextToken();var i,s=null,c=this.context.await,l=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!r,!this.match(`(`)){var u=this.lookahead;s=this.context.strict||r||!this.matchKeyword(`yield`)?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(u.value)&&this.tolerateUnexpectedToken(u,a.Messages.StrictFunctionName):this.scanner.isRestrictedWord(u.value)?(i=u,n=a.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(u.value)&&(i=u,n=a.Messages.StrictReservedWord)}var d=this.parseFormalParameters(i),f=d.params,p=d.stricted;i=d.firstRestricted,d.message&&(n=d.message);var m=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&i&&this.throwUnexpectedToken(i,n),this.context.strict&&p&&this.tolerateUnexpectedToken(p,n),this.context.strict=m,this.context.allowStrictDirective=h,this.context.await=c,this.context.allowYield=l,t?this.finalize(e,new o.AsyncFunctionExpression(s,f,g)):this.finalize(e,new o.FunctionExpression(s,f,g,r))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),r=n.type===c.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,r?new o.Directive(n,r):new o.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var n=this.lookahead;if(n.type!==8)break;var r=this.parseDirective();t.push(r);var i=r.directive;if(typeof i!=`string`)break;i===`use strict`?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,a.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,a.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return e.value===`[`}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();n.params.length>0&&this.tolerateError(a.Messages.BadGetterArity);var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,n.params,r,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();n.params.length===1?n.params[0]instanceof o.RestElement&&this.tolerateError(a.Messages.BadSetterRestParameter):this.tolerateError(a.Messages.BadSetterArity);var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,n.params,r,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new o.FunctionExpression(null,n.params,r,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e=t===`[`||t===`(`||t===`{`||t===`+`||t===`-`||t===`!`||t===`~`||t===`++`||t===`--`||t===`/`||t===`/=`;break;case 4:e=t===`class`||t===`delete`||t===`function`||t===`let`||t===`new`||t===`super`||t===`this`||t===`typeof`||t===`void`||t===`yield`}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword(`yield`);var t=null,n=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,(n=this.match(`*`))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(e,new o.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),r=``,i=null,s=null,c=!1,l=!1,u=!1,d=!1;if(this.match(`*`))this.nextToken();else if(c=this.match(`[`),(i=this.parseObjectPropertyKey()).name===`static`&&(this.qualifiedPropertyName(this.lookahead)||this.match(`*`))&&(t=this.lookahead,u=!0,c=this.match(`[`),this.match(`*`)?this.nextToken():i=this.parseObjectPropertyKey()),t.type===3&&!this.hasLineTerminator&&t.value===`async`){var f=this.lookahead.value;f!==`:`&&f!==`(`&&f!==`*`&&(d=!0,t=this.lookahead,i=this.parseObjectPropertyKey(),t.type===3&&t.value===`constructor`&&this.tolerateUnexpectedToken(t,a.Messages.ConstructorIsAsync))}var p=this.qualifiedPropertyName(this.lookahead);return t.type===3?t.value===`get`&&p?(r=`get`,c=this.match(`[`),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod()):t.value===`set`&&p&&(r=`set`,c=this.match(`[`),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod()):t.type===7&&t.value===`*`&&p&&(r=`init`,c=this.match(`[`),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),l=!0),!r&&i&&this.match(`(`)&&(r=`init`,s=d?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0),r||this.throwUnexpectedToken(this.lookahead),r===`init`&&(r=`method`),c||(u&&this.isPropertyKey(i,`prototype`)&&this.throwUnexpectedToken(t,a.Messages.StaticPrototype),!u&&this.isPropertyKey(i,`constructor`)&&((r!==`method`||!l||s&&s.generator)&&this.throwUnexpectedToken(t,a.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,a.Messages.DuplicateConstructor):e.value=!0,r=`constructor`)),this.finalize(n,new o.MethodDefinition(i,c,s,r,u))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect(`{`);!this.match(`}`);)this.match(`;`)?this.nextToken():e.push(this.parseClassElement(t));return this.expect(`}`),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new o.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword(`class`);var r=e&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),i=null;this.matchKeyword(`extends`)&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var a=this.parseClassBody();return this.context.strict=n,this.finalize(t,new o.ClassDeclaration(r,i,a))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword(`class`);var n=this.lookahead.type===3?this.parseVariableIdentifier():null,r=null;this.matchKeyword(`extends`)&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=t,this.finalize(e,new o.ClassExpression(n,r,i))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();this.lookahead.type!==2;)t.push(this.parseStatementListItem());return this.finalize(e,new o.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();this.lookahead.type!==2;)t.push(this.parseStatementListItem());return this.finalize(e,new o.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();this.lookahead.type!==8&&this.throwError(a.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new o.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return this.lookahead.type===3?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword(`as`)&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword(`as`)?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new o.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect(`{`);for(var e=[];!this.match(`}`);)e.push(this.parseImportSpecifier()),this.match(`}`)||this.expect(`,`);return this.expect(`}`),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new o.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect(`*`),this.matchContextualKeyword(`as`)||this.throwError(a.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new o.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(a.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword(`import`);var n=[];if(this.lookahead.type===8)e=this.parseModuleSpecifier();else{if(this.match(`{`)?n=n.concat(this.parseNamedImports()):this.match(`*`)?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword(`default`)?(n.push(this.parseImportDefaultSpecifier()),this.match(`,`)&&(this.nextToken(),this.match(`*`)?n.push(this.parseImportNamespaceSpecifier()):this.match(`{`)?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword(`from`)){var r=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),e=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(t,new o.ImportDeclaration(n,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword(`as`)&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new o.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(a.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword(`export`),this.matchKeyword(`default`))if(this.nextToken(),this.matchKeyword(`function`)){var n=this.parseFunctionDeclaration(!0);e=this.finalize(t,new o.ExportDefaultDeclaration(n))}else this.matchKeyword(`class`)?(n=this.parseClassDeclaration(!0),e=this.finalize(t,new o.ExportDefaultDeclaration(n))):this.matchContextualKeyword(`async`)?(n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),e=this.finalize(t,new o.ExportDefaultDeclaration(n))):(this.matchContextualKeyword(`from`)&&this.throwError(a.Messages.UnexpectedToken,this.lookahead.value),n=this.match(`{`)?this.parseObjectInitializer():this.match(`[`)?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),e=this.finalize(t,new o.ExportDefaultDeclaration(n)));else if(this.match(`*`)){if(this.nextToken(),!this.matchContextualKeyword(`from`)){var r=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new o.ExportAllDeclaration(i))}else if(this.lookahead.type===4){switch(n=void 0,this.lookahead.value){case`let`:case`const`:n=this.parseLexicalDeclaration({inFor:!1});break;case`var`:case`class`:case`function`:n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new o.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction())n=this.parseFunctionDeclaration(),e=this.finalize(t,new o.ExportNamedDeclaration(n,[],null));else{var s=[],c=null,l=!1;for(this.expect(`{`);!this.match(`}`);)l||=this.matchKeyword(`default`),s.push(this.parseExportSpecifier()),this.match(`}`)||this.expect(`,`);this.expect(`}`),this.matchContextualKeyword(`from`)?(this.nextToken(),c=this.parseModuleSpecifier(),this.consumeSemicolon()):l?(r=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause,this.throwError(r,this.lookahead.value)):this.consumeSemicolon(),e=this.finalize(t,new o.ExportNamedDeclaration(null,s,c))}return e},e}()},function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.assert=function(e,t){if(!e)throw Error(`ASSERT: `+t)}},function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.ErrorHandler=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,`column`,{value:t}))}return n},e.prototype.createError=function(e,t,n,r){var i=`Line `+t+`: `+r,a=this.constructError(i,n);return a.index=e,a.lineNumber=t,a.description=r,a},e.prototype.throwError=function(e,t,n,r){throw this.createError(e,t,n,r)},e.prototype.tolerateError=function(e,t,n,r){var i=this.createError(e,t,n,r);if(!this.tolerant)throw i;this.recordError(i)},e}()},function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.Messages={BadGetterArity:`Getter must not have any formal parameters`,BadSetterArity:`Setter must have exactly one formal parameter`,BadSetterRestParameter:`Setter function argument must not be a rest parameter`,ConstructorIsAsync:`Class constructor may not be an async method`,ConstructorSpecialMethod:`Class constructor may not be an accessor`,DeclarationMissingInitializer:`Missing initializer in %0 declaration`,DefaultRestParameter:`Unexpected token =`,DuplicateBinding:`Duplicate binding %0`,DuplicateConstructor:`A class may only have one constructor`,DuplicateProtoProperty:`Duplicate __proto__ fields are not allowed in object literals`,ForInOfLoopInitializer:`%0 loop variable declaration may not have an initializer`,GeneratorInLegacyContext:`Generator declarations are not allowed in legacy contexts`,IllegalBreak:`Illegal break statement`,IllegalContinue:`Illegal continue statement`,IllegalExportDeclaration:`Unexpected token`,IllegalImportDeclaration:`Unexpected token`,IllegalLanguageModeDirective:`Illegal 'use strict' directive in function with non-simple parameter list`,IllegalReturn:`Illegal return statement`,InvalidEscapedReservedWord:`Keyword must not contain escaped characters`,InvalidHexEscapeSequence:`Invalid hexadecimal escape sequence`,InvalidLHSInAssignment:`Invalid left-hand side in assignment`,InvalidLHSInForIn:`Invalid left-hand side in for-in`,InvalidLHSInForLoop:`Invalid left-hand side in for-loop`,InvalidModuleSpecifier:`Unexpected token`,InvalidRegExp:`Invalid regular expression`,LetInLexicalBinding:`let is disallowed as a lexically bound name`,MissingFromClause:`Unexpected token`,MultipleDefaultsInSwitch:`More than one default clause in switch statement`,NewlineAfterThrow:`Illegal newline after throw`,NoAsAfterImportNamespace:`Unexpected token`,NoCatchOrFinally:`Missing catch or finally after try`,ParameterAfterRestParameter:`Rest parameter must be last formal parameter`,Redeclaration:`%0 '%1' has already been declared`,StaticPrototype:`Classes may not have static property named prototype`,StrictCatchVariable:`Catch variable may not be eval or arguments in strict mode`,StrictDelete:`Delete of an unqualified identifier in strict mode.`,StrictFunction:`In strict mode code, functions can only be declared at top level or inside a block`,StrictFunctionName:`Function name may not be eval or arguments in strict mode`,StrictLHSAssignment:`Assignment to eval or arguments is not allowed in strict mode`,StrictLHSPostfix:`Postfix increment/decrement may not have eval or arguments operand in strict mode`,StrictLHSPrefix:`Prefix increment/decrement may not have eval or arguments operand in strict mode`,StrictModeWith:`Strict mode code may not include a with statement`,StrictOctalLiteral:`Octal literals are not allowed in strict mode.`,StrictParamDupe:`Strict mode function may not have duplicate parameter names`,StrictParamName:`Parameter name eval or arguments is not allowed in strict mode`,StrictReservedWord:`Use of future reserved word in strict mode`,StrictVarName:`Variable name may not be eval or arguments in strict mode`,TemplateOctalLiteral:`Octal literals are not allowed in template strings.`,UnexpectedEOS:`Unexpected end of input`,UnexpectedIdentifier:`Unexpected identifier`,UnexpectedNumber:`Unexpected number`,UnexpectedReserved:`Unexpected reserved word`,UnexpectedString:`Unexpected string`,UnexpectedTemplate:`Unexpected quasi %0`,UnexpectedToken:`Unexpected token %0`,UnexpectedTokenIllegal:`Unexpected token ILLEGAL`,UnknownLabel:`Undefined label '%0'`,UnterminatedRegExp:`Invalid regular expression: missing /`}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(9),i=n(4),a=n(11);function o(e){return`0123456789abcdef`.indexOf(e.toLowerCase())}function s(e){return`01234567`.indexOf(e)}t.Scanner=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return e===void 0&&(e=a.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){e===void 0&&(e=a.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,r=[];for(this.trackComment&&(r=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var a=this.source.charCodeAt(this.index);if(++this.index,i.Character.isLineTerminator(a)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var o={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};r.push(o)}return a===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,r}}return this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart},o={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n},r.push(o)),r},e.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r=this.source.charCodeAt(this.index);if(i.Character.isLineTerminator(r))r===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(r===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var a={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(a)}return n}++this.index}else ++this.index}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},a={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t},n.push(a)),this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=this.index===0;!this.eof();){var n=this.source.charCodeAt(this.index);if(i.Character.isWhiteSpace(n))++this.index;else if(i.Character.isLineTerminator(n))++this.index,n===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(n===47)if((n=this.source.charCodeAt(this.index+1))===47){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(r)),t=!0}else{if(n!==42)break;this.index+=2,r=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(r))}else if(t&&n===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,r=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(r))}else{if(n!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!==`!--`)break;this.index+=4,r=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(r))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case`enum`:case`export`:case`import`:case`super`:return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case`implements`:case`interface`:case`package`:case`private`:case`protected`:case`public`:case`static`:case`yield`:case`let`:return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return e===`eval`||e===`arguments`},e.prototype.isKeyword=function(e){switch(e.length){case 2:return e===`if`||e===`in`||e===`do`;case 3:return e===`var`||e===`for`||e===`new`||e===`try`||e===`let`;case 4:return e===`this`||e===`else`||e===`case`||e===`void`||e===`with`||e===`enum`;case 5:return e===`while`||e===`break`||e===`catch`||e===`throw`||e===`const`||e===`yield`||e===`class`||e===`super`;case 6:return e===`return`||e===`typeof`||e===`delete`||e===`switch`||e===`export`||e===`import`;case 7:return e===`default`||e===`finally`||e===`extends`;case 8:return e===`function`||e===`continue`||e===`debugger`;case 10:return e===`instanceof`;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var n=this.source.charCodeAt(e+1);n>=56320&&n<=57343&&(t=1024*(t-55296)+n-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t=e===`u`?4:2,n=0,r=0;r<t;++r){if(this.eof()||!i.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+o(this.source[this.index++])}return String.fromCharCode(n)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for(e===`}`&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],i.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+o(e);return(t>1114111||e!==`}`)&&this.throwUnexpectedToken(),i.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(t===92||t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!i.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),n=i.Character.fromCodePoint(t);for(this.index+=n.length,t===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]===`{`?(++this.index,e=this.scanUnicodeCodePointEscape()):(e=this.scanHexEscape(`u`))!==null&&e!==`\\`&&i.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),n=e);!this.eof()&&(t=this.codePointAt(this.index),i.Character.isIdentifierPart(t));)n+=e=i.Character.fromCodePoint(t),this.index+=e.length,t===92&&(n=n.substr(0,n.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]===`{`?(++this.index,e=this.scanUnicodeCodePointEscape()):(e=this.scanHexEscape(`u`))!==null&&e!==`\\`&&i.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),n+=e);return n},e.prototype.octalToDecimal=function(e){var t=e!==`0`,n=s(e);return!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+s(this.source[this.index++]),`0123`.indexOf(e)>=0&&!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+s(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=this.source.charCodeAt(t)===92?this.getComplexIdentifier():this.getIdentifier();if((e=n.length===1?3:this.isKeyword(n)?4:n===`null`?5:n===`true`||n===`false`?1:3)!=3&&t+n.length!==this.index){var r=this.index;this.index=t,this.tolerateUnexpectedToken(a.Messages.InvalidEscapedReservedWord),this.index=r}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case`(`:case`{`:t===`{`&&this.curlyStack.push(`{`),++this.index;break;case`.`:++this.index,this.source[this.index]===`.`&&this.source[this.index+1]===`.`&&(this.index+=2,t=`...`);break;case`}`:++this.index,this.curlyStack.pop();break;case`)`:case`;`:case`,`:case`[`:case`]`:case`:`:case`?`:case`~`:++this.index;break;default:(t=this.source.substr(this.index,4))===`>>>=`?this.index+=4:(t=t.substr(0,3))===`===`||t===`!==`||t===`>>>`||t===`<<=`||t===`>>=`||t===`**=`?this.index+=3:(t=t.substr(0,2))===`&&`||t===`||`||t===`==`||t===`!=`||t===`+=`||t===`-=`||t===`*=`||t===`/=`||t===`++`||t===`--`||t===`<<`||t===`>>`||t===`&=`||t===`|=`||t===`^=`||t===`%=`||t===`<=`||t===`>=`||t===`=>`||t===`**`?this.index+=2:(t=this.source[this.index],`<>=!+-*%&|^/`.indexOf(t)>=0&&++this.index)}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t=``;!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return t.length===0&&this.throwUnexpectedToken(),i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt(`0x`+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,n=``;!this.eof()&&((t=this.source[this.index])===`0`||t===`1`);)n+=this.source[this.index++];return n.length===0&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(i.Character.isIdentifierStart(t)||i.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n=``,r=!1;for(i.Character.isOctalDigit(e.charCodeAt(0))?(r=!0,n=`0`+this.source[this.index++]):++this.index;!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return r||n.length!==0||this.throwUnexpectedToken(),(i.Character.isIdentifierStart(this.source.charCodeAt(this.index))||i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if(t===`8`||t===`9`)return!1;if(!i.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];r.assert(i.Character.isDecimalDigit(t.charCodeAt(0))||t===`.`,`Numeric literal must start with a decimal digit or a decimal point`);var n=``;if(t!==`.`){if(n=this.source[this.index++],t=this.source[this.index],n===`0`){if(t===`x`||t===`X`)return++this.index,this.scanHexLiteral(e);if(t===`b`||t===`B`)return++this.index,this.scanBinaryLiteral(e);if(t===`o`||t===`O`||t&&i.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if(t===`.`){for(n+=this.source[this.index++];i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if(t===`e`||t===`E`)if(n+=this.source[this.index++],(t=this.source[this.index])!==`+`&&t!==`-`||(n+=this.source[this.index++]),i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];r.assert(t===`'`||t===`"`,`String literal must starts with a quote`),++this.index;for(var n=!1,o=``;!this.eof();){var s=this.source[this.index++];if(s===t){t=``;break}if(s===`\\`)if((s=this.source[this.index++])&&i.Character.isLineTerminator(s.charCodeAt(0)))++this.lineNumber,s===`\r`&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(s){case`u`:if(this.source[this.index]===`{`)++this.index,o+=this.scanUnicodeCodePointEscape();else{var c=this.scanHexEscape(s);c===null&&this.throwUnexpectedToken(),o+=c}break;case`x`:var l=this.scanHexEscape(s);l===null&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),o+=l;break;case`n`:o+=`
`;break;case`r`:o+=`\r`;break;case`t`:o+=`	`;break;case`b`:o+=`\b`;break;case`f`:o+=`\f`;break;case`v`:o+=`\v`;break;case`8`:case`9`:o+=s,this.tolerateUnexpectedToken();break;default:if(s&&i.Character.isOctalDigit(s.charCodeAt(0))){var u=this.octalToDecimal(s);n=u.octal||n,o+=String.fromCharCode(u.code)}else o+=s}else{if(i.Character.isLineTerminator(s.charCodeAt(0)))break;o+=s}}return t!==``&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:o,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e=``,t=!1,n=this.index,r=this.source[n]==="`",o=!1,s=2;for(++this.index;!this.eof();){var c=this.source[this.index++];if(c==="`"){s=1,o=!0,t=!0;break}if(c===`$`){if(this.source[this.index]===`{`){this.curlyStack.push("${"),++this.index,t=!0;break}e+=c}else if(c===`\\`)if(c=this.source[this.index++],i.Character.isLineTerminator(c.charCodeAt(0)))++this.lineNumber,c===`\r`&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(c){case`n`:e+=`
`;break;case`r`:e+=`\r`;break;case`t`:e+=`	`;break;case`u`:if(this.source[this.index]===`{`)++this.index,e+=this.scanUnicodeCodePointEscape();else{var l=this.index,u=this.scanHexEscape(c);u===null?(this.index=l,e+=c):e+=u}break;case`x`:var d=this.scanHexEscape(c);d===null&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),e+=d;break;case`b`:e+=`\b`;break;case`f`:e+=`\f`;break;case`v`:e+=`\v`;break;default:c===`0`?(i.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral),e+=`\0`):i.Character.isOctalDigit(c.charCodeAt(0))?this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral):e+=c}else i.Character.isLineTerminator(c.charCodeAt(0))?(++this.lineNumber,c===`\r`&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,e+=`
`):e+=c}return t||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-s),cooked:e,head:r,tail:o,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var n=e,r=this;t.indexOf(`u`)>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(e,t,n){var i=parseInt(t||n,16);return i>1114111&&r.throwUnexpectedToken(a.Messages.InvalidRegExp),i<=65535?String.fromCharCode(i):``})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,``));try{return new RegExp(e,t)}catch{return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];r.assert(e===`/`,`Regular expression literal must start with a slash`);for(var t=this.source[this.index++],n=!1,o=!1;!this.eof();)if(t+=e=this.source[this.index++],e===`\\`)e=this.source[this.index++],i.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),t+=e;else if(i.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(a.Messages.UnterminatedRegExp);else if(n)e===`]`&&(n=!1);else{if(e===`/`){o=!0;break}e===`[`&&(n=!0)}return o||this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e=``;!this.eof();){var t=this.source[this.index];if(!i.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,t!==`\\`||this.eof())e+=t;else if((t=this.source[this.index])===`u`){++this.index;var n=this.index,r=this.scanHexEscape(`u`);if(r!==null)for(e+=r;n<this.index;++n)this.source[n];else this.index=n,e+=`u`;this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return e},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:``,pattern:t,flags:n,regex:this.testRegExp(t,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:``,lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return i.Character.isIdentifierStart(e)?this.scanIdentifier():e===40||e===41||e===59?this.scanPunctuator():e===39||e===34?this.scanStringLiteral():e===46?i.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():i.Character.isDecimalDigit(e)?this.scanNumericLiteral():e===96||e===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():e>=55296&&e<57343&&i.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}()},function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.TokenName={},t.TokenName[1]=`Boolean`,t.TokenName[2]=`<end>`,t.TokenName[3]=`Identifier`,t.TokenName[4]=`Keyword`,t.TokenName[5]=`Null`,t.TokenName[6]=`Numeric`,t.TokenName[7]=`Punctuator`,t.TokenName[8]=`String`,t.TokenName[9]=`RegularExpression`,t.TokenName[10]=`Template`},function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.XHTMLEntities={quot:`"`,amp:`&`,apos:`'`,gt:`>`,nbsp:`\xA0`,iexcl:``,cent:``,pound:``,curren:``,yen:``,brvbar:``,sect:``,uml:``,copy:``,ordf:``,laquo:``,not:``,shy:``,reg:``,macr:``,deg:``,plusmn:``,sup2:``,sup3:``,acute:``,micro:``,para:``,middot:``,cedil:``,sup1:``,ordm:``,raquo:``,frac14:``,frac12:``,frac34:``,iquest:``,Agrave:``,Aacute:``,Acirc:``,Atilde:``,Auml:``,Aring:``,AElig:``,Ccedil:``,Egrave:``,Eacute:``,Ecirc:``,Euml:``,Igrave:``,Iacute:``,Icirc:``,Iuml:``,ETH:``,Ntilde:``,Ograve:``,Oacute:``,Ocirc:``,Otilde:``,Ouml:``,times:``,Oslash:``,Ugrave:``,Uacute:``,Ucirc:``,Uuml:``,Yacute:``,THORN:``,szlig:``,agrave:``,aacute:``,acirc:``,atilde:``,auml:``,aring:``,aelig:``,ccedil:``,egrave:``,eacute:``,ecirc:``,euml:``,igrave:``,iacute:``,icirc:``,iuml:``,eth:``,ntilde:``,ograve:``,oacute:``,ocirc:``,otilde:``,ouml:``,divide:``,oslash:``,ugrave:``,uacute:``,ucirc:``,uuml:``,yacute:``,thorn:``,yuml:``,OElig:``,oelig:``,Scaron:``,scaron:``,Yuml:``,fnof:``,circ:``,tilde:``,Alpha:``,Beta:``,Gamma:``,Delta:``,Epsilon:``,Zeta:``,Eta:``,Theta:``,Iota:``,Kappa:``,Lambda:``,Mu:``,Nu:``,Xi:``,Omicron:``,Pi:``,Rho:``,Sigma:``,Tau:``,Upsilon:``,Phi:``,Chi:``,Psi:``,Omega:``,alpha:``,beta:``,gamma:``,delta:``,epsilon:``,zeta:``,eta:``,theta:``,iota:``,kappa:``,lambda:``,mu:``,nu:``,xi:``,omicron:``,pi:``,rho:``,sigmaf:``,sigma:``,tau:``,upsilon:``,phi:``,chi:``,psi:``,omega:``,thetasym:``,upsih:``,piv:``,ensp:``,emsp:``,thinsp:``,zwnj:``,zwj:``,lrm:``,rlm:``,ndash:``,mdash:``,lsquo:``,rsquo:``,sbquo:``,ldquo:``,rdquo:``,bdquo:``,dagger:``,Dagger:``,bull:``,hellip:``,permil:``,prime:``,Prime:``,lsaquo:``,rsaquo:``,oline:``,frasl:``,euro:``,image:``,weierp:``,real:``,trade:``,alefsym:``,larr:``,uarr:``,rarr:``,darr:``,harr:``,crarr:``,lArr:``,uArr:``,rArr:``,dArr:``,hArr:``,forall:``,part:``,exist:``,empty:``,nabla:``,isin:``,notin:``,ni:``,prod:``,sum:``,minus:``,lowast:``,radic:``,prop:``,infin:``,ang:``,and:``,or:``,cap:``,cup:``,int:``,there4:``,sim:``,cong:``,asymp:``,ne:``,equiv:``,le:``,ge:``,sub:``,sup:``,nsub:``,sube:``,supe:``,oplus:``,otimes:``,perp:``,sdot:``,lceil:``,rceil:``,lfloor:``,rfloor:``,loz:``,spades:``,clubs:``,hearts:``,diams:``,lang:``,rang:``}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(10),i=n(12),a=n(13),o=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return`(.{.[.in.typeof.instanceof.new.return.case.delete.throw.void.=.+=.-=.*=.**=./=.%=.<<=.>>=.>>>=.&=.|=.^=.,.+.-.*.**./.%.++.--.<<.>>.>>>.&.|.^.!.~.&&.||.?.:.===.==.>=.<=.<.>.!=.!==`.split(`.`).indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=e!==null;switch(e){case`this`:case`]`:t=!1;break;case`)`:var n=this.values[this.paren-1];t=n===`if`||n===`while`||n===`for`||n===`with`;break;case`}`:if(t=!1,this.values[this.curly-3]===`function`)t=!!(r=this.values[this.curly-4])&&!this.beforeFunctionExpression(r);else if(this.values[this.curly-4]===`function`){var r;t=!(r=this.values[this.curly-5])||!this.beforeFunctionExpression(r)}}return t},e.prototype.push=function(e){e.type===7||e.type===4?(e.value===`{`?this.curly=this.values.length:e.value===`(`&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}();t.Tokenizer=function(){function e(e,t){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!t&&typeof t.tolerant==`boolean`&&t.tolerant,this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&typeof t.comment==`boolean`&&t.comment,this.trackRange=!!t&&typeof t.range==`boolean`&&t.range,this.trackLoc=!!t&&typeof t.loc==`boolean`&&t.loc,this.buffer=[],this.reader=new o}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(this.buffer.length===0){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],r=this.scanner.source.slice(n.slice[0],n.slice[1]),i={type:n.multiLine?`BlockComment`:`LineComment`,value:r};this.trackRange&&(i.range=n.range),this.trackLoc&&(i.loc=n.loc),this.buffer.push(i)}if(!this.scanner.eof()){var o=void 0;this.trackLoc&&(o={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var s=this.scanner.source[this.scanner.index]===`/`&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(s);var c={type:a.TokenName[s.type],value:this.scanner.source.slice(s.start,s.end)};this.trackRange&&(c.range=[s.start,s.end]),this.trackLoc&&(o.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},c.loc=o),s.type===9&&(c.regex={pattern:s.pattern,flags:s.flags}),this.buffer.push(c)}}return this.buffer.shift()},e}()}])}()},function(e,t,n){var r=n(38),i=n(53),a=n(76),o=n(54),s=Object.prototype.toString,c=Object.prototype.hasOwnProperty,l={0:`\\0`,7:`\\a`,8:`\\b`,9:`\\t`,10:`\\n`,11:`\\v`,12:`\\f`,13:`\\r`,27:`\\e`,34:`\\"`,92:`\\\\`,133:`\\N`,160:`\\_`,8232:`\\L`,8233:`\\P`},u=[`y`,`Y`,`yes`,`Yes`,`YES`,`on`,`On`,`ON`,`n`,`N`,`no`,`No`,`NO`,`off`,`Off`,`OFF`];function d(e){var t,n,a;if(t=e.toString(16).toUpperCase(),e<=255)n=`x`,a=2;else if(e<=65535)n=`u`,a=4;else{if(!(e<=4294967295))throw new i(`code point within a string may not be greater than 0xFFFFFFFF`);n=`U`,a=8}return`\\`+n+r.repeat(`0`,a-t.length)+t}function f(e){this.schema=e.schema||a,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=r.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,i,a,o,s,l;if(t===null)return{};for(n={},i=0,a=(r=Object.keys(t)).length;i<a;i+=1)o=r[i],s=String(t[o]),o.slice(0,2)===`!!`&&(o=`tag:yaml.org,2002:`+o.slice(2)),(l=e.compiledTypeMap.fallback[o])&&c.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[o]=s;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result=``,this.duplicates=[],this.usedDuplicates=null}function p(e,t){for(var n,i=r.repeat(` `,t),a=0,o=-1,s=``,c=e.length;a<c;)(o=e.indexOf(`
`,a))===-1?(n=e.slice(a),a=c):(n=e.slice(a,o+1),a=o+1),n.length&&n!==`
`&&(s+=i),s+=n;return s}function m(e,t){return`
`+r.repeat(` `,e.indent*t)}function h(e){return e===32||e===9}function g(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function _(e,t){return g(e)&&e!==65279&&e!==44&&e!==91&&e!==93&&e!==123&&e!==125&&e!==58&&(e!==35||t&&function(e){return g(e)&&!h(e)&&e!==65279&&e!==13&&e!==10}(t))}function v(e){return/^\n* /.test(e)}function y(e,t,n,r,i){var a,o,s,c,l=!1,u=!1,d=r!==-1,f=-1,p=g(c=e.charCodeAt(0))&&c!==65279&&!h(c)&&c!==45&&c!==63&&c!==58&&c!==44&&c!==91&&c!==93&&c!==123&&c!==125&&c!==35&&c!==38&&c!==42&&c!==33&&c!==124&&c!==61&&c!==62&&c!==39&&c!==34&&c!==37&&c!==64&&c!==96&&!h(e.charCodeAt(e.length-1));if(t)for(a=0;a<e.length;a++){if(!g(o=e.charCodeAt(a)))return 5;s=a>0?e.charCodeAt(a-1):null,p&&=_(o,s)}else{for(a=0;a<e.length;a++){if((o=e.charCodeAt(a))===10)l=!0,d&&(u||=a-f-1>r&&e[f+1]!==` `,f=a);else if(!g(o))return 5;s=a>0?e.charCodeAt(a-1):null,p&&=_(o,s)}u||=d&&a-f-1>r&&e[f+1]!==` `}return l||u?n>9&&v(e)?5:u?4:3:p&&!i(e)?1:2}function b(e,t,n,r){e.dump=function(){if(t.length===0)return`''`;if(!e.noCompatMode&&u.indexOf(t)!==-1)return`'`+t+`'`;var a=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a);switch(y(t,r||e.flowLevel>-1&&n>=e.flowLevel,e.indent,o,(function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}))){case 1:return t;case 2:return`'`+t.replace(/'/g,`''`)+`'`;case 3:return`|`+x(t,e.indent)+S(p(t,a));case 4:return`>`+x(t,e.indent)+S(p(function(e,t){for(var n,r,i=/(\n+)([^\n]*)/g,a=(s=e.indexOf(`
`),s=s===-1?e.length:s,i.lastIndex=s,C(e.slice(0,s),t)),o=e[0]===`
`||e[0]===` `,s;r=i.exec(e);){var c=r[1],l=r[2];n=l[0]===` `,a+=c+(o||n||l===``?``:`
`)+C(l,t),o=n}return a}(t,o),a));case 5:return`"`+function(e){for(var t,n,r,i=``,a=0;a<e.length;a++)(t=e.charCodeAt(a))>=55296&&t<=56319&&(n=e.charCodeAt(a+1))>=56320&&n<=57343?(i+=d(1024*(t-55296)+n-56320+65536),a++):(r=l[t],i+=!r&&g(t)?e[a]:r||d(t));return i}(t)+`"`;default:throw new i(`impossible error: invalid scalar style`)}}()}function x(e,t){var n=v(e)?String(t):``,r=e[e.length-1]===`
`;return n+(r&&(e[e.length-2]===`
`||e===`
`)?`+`:r?``:`-`)+`
`}function S(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function C(e,t){if(e===``||e[0]===` `)return e;for(var n,r,i=/ [^ ]/g,a=0,o=0,s=0,c=``;n=i.exec(e);)(s=n.index)-a>t&&(r=o>a?o:s,c+=`
`+e.slice(a,r),a=r+1),o=s;return c+=`
`,e.length-a>t&&o>a?c+=e.slice(a,o)+`
`+e.slice(o+1):c+=e.slice(a),c.slice(1)}function w(e,t,n){var r,a,o,l,u,d;for(o=0,l=(a=n?e.explicitTypes:e.implicitTypes).length;o<l;o+=1)if(((u=a[o]).instanceOf||u.predicate)&&(!u.instanceOf||typeof t==`object`&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(e.tag=n?u.tag:`?`,u.represent){if(d=e.styleMap[u.tag]||u.defaultStyle,s.call(u.represent)===`[object Function]`)r=u.represent(t,d);else{if(!c.call(u.represent,d))throw new i(`!<`+u.tag+`> tag resolver accepts not "`+d+`" style`);r=u.represent[d](t,d)}e.dump=r}return!0}return!1}function T(e,t,n,r,a,o){e.tag=null,e.dump=n,w(e,n,!1)||w(e,n,!0);var c=s.call(e.dump);r&&=e.flowLevel<0||e.flowLevel>t;var l,u,d=c===`[object Object]`||c===`[object Array]`;if(d&&(u=(l=e.duplicates.indexOf(n))!==-1),(e.tag!==null&&e.tag!==`?`||u||e.indent!==2&&t>0)&&(a=!1),u&&e.usedDuplicates[l])e.dump=`*ref_`+l;else{if(d&&u&&!e.usedDuplicates[l]&&(e.usedDuplicates[l]=!0),c===`[object Object]`)r&&Object.keys(e.dump).length!==0?(function(e,t,n,r){var a,o,s,c,l,u,d=``,f=e.tag,p=Object.keys(n);if(!0===e.sortKeys)p.sort();else if(typeof e.sortKeys==`function`)p.sort(e.sortKeys);else if(e.sortKeys)throw new i(`sortKeys must be a boolean or a function`);for(a=0,o=p.length;a<o;a+=1)u=``,r&&a===0||(u+=m(e,t)),c=n[s=p[a]],T(e,t+1,s,!0,!0,!0)&&((l=e.tag!==null&&e.tag!==`?`||e.dump&&e.dump.length>1024)&&(e.dump&&e.dump.charCodeAt(0)===10?u+=`?`:u+=`? `),u+=e.dump,l&&(u+=m(e,t)),T(e,t+1,c,!0,l)&&(e.dump&&e.dump.charCodeAt(0)===10?u+=`:`:u+=`: `,d+=u+=e.dump));e.tag=f,e.dump=d||`{}`}(e,t,e.dump,a),u&&(e.dump=`&ref_`+l+e.dump)):(function(e,t,n){var r,i,a,o,s,c=``,l=e.tag,u=Object.keys(n);for(r=0,i=u.length;r<i;r+=1)s=``,r!==0&&(s+=`, `),e.condenseFlow&&(s+=`"`),o=n[a=u[r]],T(e,t,a,!1,!1)&&(e.dump.length>1024&&(s+=`? `),s+=e.dump+(e.condenseFlow?`"`:``)+`:`+(e.condenseFlow?``:` `),T(e,t,o,!1,!1)&&(c+=s+=e.dump));e.tag=l,e.dump=`{`+c+`}`}(e,t,e.dump),u&&(e.dump=`&ref_`+l+` `+e.dump));else if(c===`[object Array]`){var f=e.noArrayIndent&&t>0?t-1:t;r&&e.dump.length!==0?(function(e,t,n,r){var i,a,o=``,s=e.tag;for(i=0,a=n.length;i<a;i+=1)T(e,t+1,n[i],!0,!0)&&(r&&i===0||(o+=m(e,t)),e.dump&&e.dump.charCodeAt(0)===10?o+=`-`:o+=`- `,o+=e.dump);e.tag=s,e.dump=o||`[]`}(e,f,e.dump,a),u&&(e.dump=`&ref_`+l+e.dump)):(function(e,t,n){var r,i,a=``,o=e.tag;for(r=0,i=n.length;r<i;r+=1)T(e,t,n[r],!1,!1)&&(r!==0&&(a+=`,`+(e.condenseFlow?``:` `)),a+=e.dump);e.tag=o,e.dump=`[`+a+`]`}(e,f,e.dump),u&&(e.dump=`&ref_`+l+` `+e.dump))}else{if(c!==`[object String]`){if(e.skipInvalid)return!1;throw new i(`unacceptable kind of an object to dump `+c)}e.tag!==`?`&&b(e,e.dump,t,o)}e.tag!==null&&e.tag!==`?`&&(e.dump=`!<`+e.tag+`> `+e.dump)}return!0}function E(e,t){var n,r,i=[],a=[];for(function e(t,n,r){var i,a,o;if(typeof t==`object`&&t)if((a=n.indexOf(t))!==-1)r.indexOf(a)===-1&&r.push(a);else if(n.push(t),Array.isArray(t))for(a=0,o=t.length;a<o;a+=1)e(t[a],n,r);else for(i=Object.keys(t),a=0,o=i.length;a<o;a+=1)e(t[i[a]],n,r)}(e,i,a),n=0,r=a.length;n<r;n+=1)t.duplicates.push(i[a[n]]);t.usedDuplicates=Array(r)}function D(e,t){var n=new f(t||={});return n.noRefs||E(e,n),T(n,0,e,!0,!0)?n.dump+`
`:``}e.exports.dump=D,e.exports.safeDump=function(e,t){return D(e,r.extend({schema:o},t))}},function(e,t,n){n(31),n(32),n(33),n(64),n(19),n(65),n(20),n(68),n(92),n(144),n(22),n(94),n(23);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)},o=this&&this.__read||function(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,`__esModule`,{value:!0});var s=n(91),c=n(1),l=n(183),u=n(0),d=n(7),f=n(95),p=n(69),m=n(3),h=n(305),g=n(306),_=n(307);t.XMLBuilderCBImpl=function(e){function t(t,n){n===void 0&&(n=!1);var r=e.call(this)||this;return r._hasDeclaration=!1,r._docTypeName=``,r._hasDocumentElement=!1,r._currentElementSerialized=!1,r._openTags=[],r._ended=!1,r._fragment=n,r._options=c.applyDefaults(t||{},s.DefaultXMLBuilderCBOptions),r._builderOptions={defaultNamespace:r._options.defaultNamespace,namespaceAlias:r._options.namespaceAlias},r._options.format===`json`?r._writer=new g.JSONCBWriter(r._options):r._options.format===`yaml`?r._writer=new _.YAMLCBWriter(r._options):r._writer=new h.XMLCBWriter(r._options),r._options.data!==void 0&&r.on(`data`,r._options.data),r._options.end!==void 0&&r.on(`end`,r._options.end),r._options.error!==void 0&&r.on(`error`,r._options.error),r._prefixMap=new f.NamespacePrefixMap,r._prefixMap.set(`xml`,d.namespace.XML),r._prefixIndex={value:1},r._push(r._writer.frontMatter()),r}return i(t,e),t.prototype.ele=function(e,t,n){var r,i;if(c.isObject(e)||c.isString(e)&&(/^\s*</.test(e)||/^\s*[\{\[]/.test(e)||/^(\s*|(#.*)|(%.*))*---/.test(e))){var o=l.fragment().set(this._options);try{o.ele(e)}catch(e){return this.emit(`error`,e),this}try{for(var s=a(o.node.childNodes),u=s.next();!u.done;u=s.next()){var d=u.value;this._fromNode(d)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit(`error`,Error(`Document cannot have multiple document element nodes.`)),this;try{this._currentElement=l.fragment(this._builderOptions).ele(e,t,n)}catch(e){return this.emit(`error`,e),this}return this._fragment||this._hasDocumentElement||this._docTypeName===``||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit(`error`,Error(`Document element name does not match DocType declaration name.`)),this)},t.prototype.att=function(e,t,n){if(this._currentElement===void 0)return this.emit(`error`,Error(`Cannot insert an attribute node as child of a document node.`)),this;try{this._currentElement.att(e,t,n)}catch(e){return this.emit(`error`,e),this}return this},t.prototype.com=function(e){var t;this._serializeOpenTag(!0);try{t=l.fragment(this._builderOptions).com(e).first().node}catch(e){return this.emit(`error`,e),this}return!this._options.wellFormed||u.xml_isLegalChar(t.data)&&t.data.indexOf(`--`)===-1&&!t.data.endsWith(`-`)?(this._push(this._writer.comment(t.data)),this):(this.emit(`error`,Error(`Comment data contains invalid characters (well-formed required).`)),this)},t.prototype.txt=function(e){if(!this._fragment&&this._currentElement===void 0)return this.emit(`error`,Error(`Cannot insert a text node as child of a document node.`)),this;var t;this._serializeOpenTag(!0);try{t=l.fragment(this._builderOptions).txt(e).first().node}catch(e){return this.emit(`error`,e),this}if(this._options.wellFormed&&!u.xml_isLegalChar(t.data))return this.emit(`error`,Error(`Text data contains invalid characters (well-formed required).`)),this;var n=t.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);return this._push(this._writer.text(n)),this},t.prototype.ins=function(e,t){var n;t===void 0&&(t=``),this._serializeOpenTag(!0);try{n=l.fragment(this._builderOptions).ins(e,t).first().node}catch(e){return this.emit(`error`,e),this}return this._options.wellFormed&&(n.target.indexOf(`:`)!==-1||/^xml$/i.test(n.target))?(this.emit(`error`,Error(`Processing instruction target contains invalid characters (well-formed required).`)),this):this._options.wellFormed&&!u.xml_isLegalChar(n.data)?(this.emit(`error`,Error(`Processing instruction data contains invalid characters (well-formed required).`)),this):(this._push(this._writer.instruction(n.target,n.data)),this)},t.prototype.dat=function(e){var t;this._serializeOpenTag(!0);try{t=l.fragment(this._builderOptions).dat(e).first().node}catch(e){return this.emit(`error`,e),this}return this._push(this._writer.cdata(t.data)),this},t.prototype.dec=function(e){return e===void 0&&(e={version:`1.0`}),this._fragment?(this.emit(`error`,Error(`Cannot insert an XML declaration into a document fragment.`)),this):this._hasDeclaration?(this.emit(`error`,Error(`XML declaration is already inserted.`)),this):(this._push(this._writer.declaration(e.version||`1.0`,e.encoding,e.standalone)),this._hasDeclaration=!0,this)},t.prototype.dtd=function(e){if(this._fragment)return this.emit(`error`,Error(`Cannot insert a DocType declaration into a document fragment.`)),this;if(this._docTypeName!==``)return this.emit(`error`,Error(`DocType declaration is already inserted.`)),this;if(this._hasDocumentElement)return this.emit(`error`,Error(`Cannot insert DocType declaration after document element.`)),this;var t;try{t=l.create().dtd(e).first().node}catch(e){return this.emit(`error`,e),this}return this._options.wellFormed&&!u.xml_isPubidChar(t.publicId)?(this.emit(`error`,Error(`DocType public identifier does not match PubidChar construct (well-formed required).`)),this):this._options.wellFormed&&(!u.xml_isLegalChar(t.systemId)||t.systemId.indexOf(`"`)!==-1&&t.systemId.indexOf(`'`)!==-1)?(this.emit(`error`,Error(`DocType system identifier contains invalid characters (well-formed required).`)),this):(this._docTypeName=e.name,this._push(this._writer.docType(e.name,t.publicId,t.systemId)),this)},t.prototype.import=function(e){var t,n,r=l.fragment().set(this._options);try{r.import(e)}catch(e){return this.emit(`error`,e),this}try{for(var i=a(r.node.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value;this._fromNode(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},t.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},t.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},t.prototype._serializeOpenTag=function(e){if(!this._currentElementSerialized&&this._currentElement!==void 0){var n=this._currentElement.node;if(!this._options.wellFormed||n.localName.indexOf(`:`)===-1&&u.xml_isName(n.localName)){var r=``,i=!1,a=this._prefixMap.copy(),o={},s=this._recordNamespaceInformation(n,a,o),c=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],l=n.namespaceURI;if(l===null&&(l=c),c===l)s!==null&&(i=!0),r=l===d.namespace.XML?`xml:`+n.localName:n.localName,this._writer.beginElement(r),this._push(this._writer.openTagBegin(r));else{var f=n.prefix,p=null;if(f===null&&l===s||(p=a.get(f,l)),f===`xmlns`){if(this._options.wellFormed)return void this.emit(`error`,Error(`An element cannot have the 'xmlns' prefix (well-formed required).`));p=f}p===null?f===null?s===null||s!==null&&s!==l?(i=!0,r+=n.localName,c=l,this._writer.beginElement(r),this._push(this._writer.openTagBegin(r)),this._push(this._writer.attribute(`xmlns`,this._serializeAttributeValue(l,this._options.wellFormed)))):(r+=n.localName,c=l,this._writer.beginElement(r),this._push(this._writer.openTagBegin(r))):(f in o&&(f=this._generatePrefix(l,a,this._prefixIndex)),a.set(f,l),r+=f+`:`+n.localName,this._writer.beginElement(r),this._push(this._writer.openTagBegin(r)),this._push(this._writer.attribute(`xmlns:`+f,this._serializeAttributeValue(l,this._options.wellFormed))),s!==null&&(c=s||null)):(r=p+`:`+n.localName,s!==null&&s!==d.namespace.XML&&(c=s||null),this._writer.beginElement(r),this._push(this._writer.openTagBegin(r)))}this._serializeAttributes(n,a,this._prefixIndex,o,i,this._options.wellFormed);var m=l===d.namespace.HTML;m&&!e&&t._VoidElementNames.has(n.localName)?(this._push(this._writer.openTagEnd(r,!0,!0)),this._writer.endElement(r)):m||e?this._push(this._writer.openTagEnd(r,!1,!1)):(this._push(this._writer.openTagEnd(r,!0,!1)),this._writer.endElement(r)),this._currentElementSerialized=!0,this._openTags.push([r,c,this._prefixMap,e]),this._isPrefixMapModified(this._prefixMap,a)&&(this._prefixMap=a),this._writer.level++}else this.emit(`error`,Error(`Node local name contains invalid characters (well-formed required).`))}},t.prototype._serializeCloseTag=function(){this._writer.level--;var e=this._openTags.pop();if(e!==void 0){var t=o(e,4),n=t[0],r=(t[1],t[2]),i=t[3];this._prefixMap=r,i&&(this._push(this._writer.closeTag(n)),this._writer.endElement(n))}else this.emit(`error`,Error(`Last element is undefined.`))},t.prototype._push=function(e){e===null?(this._ended=!0,this.emit(`end`)):this._ended?this.emit(`error`,Error(`Cannot push to ended stream.`)):e.length!==0&&(this._writer.hasData=!0,this.emit(`data`,e,this._writer.level))},t.prototype._fromNode=function(e){var t,n,r,i;if(m.Guard.isElementNode(e)){var o=e.prefix?e.prefix+`:`+e.localName:e.localName;e.namespaceURI===null?this.ele(o):this.ele(e.namespaceURI,o);try{for(var s=a(e.attributes),c=s.next();!c.done;c=s.next()){var l=c.value,u=l.prefix?l.prefix+`:`+l.localName:l.localName;l.namespaceURI===null?this.att(u,l.value):this.att(l.namespaceURI,u,l.value)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}try{for(var d=a(e.childNodes),f=d.next();!f.done;f=d.next()){var p=f.value;this._fromNode(p)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}this.up()}else m.Guard.isExclusiveTextNode(e)&&e.data?this.txt(e.data):m.Guard.isCommentNode(e)?this.com(e.data):m.Guard.isCDATASectionNode(e)?this.dat(e.data):m.Guard.isProcessingInstructionNode(e)&&this.ins(e.target,e.data)},t.prototype._serializeAttributes=function(e,t,n,r,i,o){var s,c,l=o?new p.LocalNameSet:void 0;try{for(var f=a(e.attributes),m=f.next();!m.done;m=f.next()){var h=m.value;if(o||i||h.namespaceURI!==null){if(o&&l&&l.has(h.namespaceURI,h.localName))return void this.emit(`error`,Error(`Element contains duplicate attributes (well-formed required).`));o&&l&&l.set(h.namespaceURI,h.localName);var g=h.namespaceURI,_=null;if(g!==null)if(_=t.get(h.prefix,g),g===d.namespace.XMLNS){if(h.value===d.namespace.XML||h.prefix===null&&i||h.prefix!==null&&(!(h.localName in r)||r[h.localName]!==h.value)&&t.has(h.localName,h.value))continue;if(o&&h.value===d.namespace.XMLNS)return void this.emit(`error`,Error(`XMLNS namespace is reserved (well-formed required).`));if(o&&h.value===``)return void this.emit(`error`,Error(`Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).`));h.prefix===`xmlns`&&(_=`xmlns`)}else _===null&&(_=h.prefix===null||t.hasPrefix(h.prefix)&&!t.has(h.prefix,g)?this._generatePrefix(g,t,n):h.prefix,this._push(this._writer.attribute(`xmlns:`+_,this._serializeAttributeValue(g,this._options.wellFormed))));if(o&&(h.localName.indexOf(`:`)!==-1||!u.xml_isName(h.localName)||h.localName===`xmlns`&&g===null))return void this.emit(`error`,Error(`Attribute local name contains invalid characters (well-formed required).`));this._push(this._writer.attribute((_===null?``:_+`:`)+h.localName,this._serializeAttributeValue(h.value,this._options.wellFormed)))}else this._push(this._writer.attribute(h.localName,this._serializeAttributeValue(h.value,this._options.wellFormed)))}}catch(e){s={error:e}}finally{try{m&&!m.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}},t.prototype._serializeAttributeValue=function(e,t){return t&&e!==null&&!u.xml_isLegalChar(e)?(this.emit(`error`,Error(`Invalid characters in attribute value.`)),``):e===null?``:e.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`).replace(/"/g,`&quot;`)},t.prototype._recordNamespaceInformation=function(e,t,n){var r,i,o=null;try{for(var s=a(e.attributes),c=s.next();!c.done;c=s.next()){var l=c.value,u=l.namespaceURI,f=l.prefix;if(u===d.namespace.XMLNS){if(f===null){o=l.value;continue}var p=l.localName,m=l.value;if(m===d.namespace.XML||(m===``&&(m=null),t.has(p,m)))continue;t.set(p,m),n[p]=m||``}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},t.prototype._generatePrefix=function(e,t,n){var r=`ns`+n.value;return n.value++,t.set(r,e),r},t.prototype._isPrefixMapModified=function(e,t){var n=e._items,r=t._items,i=e._nullItems,a=t._nullItems;for(var o in r){var s=n[o];if(s===void 0)return!0;var c=r[o];if(s.length!==c.length)return!0;for(var l=0;l<s.length;l++)if(s[l]!==c[l])return!0}if(i.length!==a.length)return!0;for(l=0;l<i.length;l++)if(i[l]!==a[l])return!0;return!1},t._VoidElementNames=new Set([`area`,`base`,`basefont`,`bgsound`,`br`,`col`,`embed`,`frame`,`hr`,`img`,`input`,`keygen`,`link`,`menuitem`,`meta`,`param`,`source`,`track`,`wbr`]),t}(n(308).EventEmitter)},function(e,t,n){n(74);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0}),t.XMLCBWriter=function(e){function t(t){var n=e.call(this,t)||this;return n._lineLength=0,n}return i(t,e),t.prototype.frontMatter=function(){return``},t.prototype.declaration=function(e,t,n){var r=this._beginLine()+`<?xml`;return r+=` version="`+e+`"`,t!==void 0&&(r+=` encoding="`+t+`"`),n!==void 0&&(r+=` standalone="`+(n?`yes`:`no`)+`"`),r+=`?>`},t.prototype.docType=function(e,t,n){var r=this._beginLine();return r+=t&&n?`<!DOCTYPE `+e+` PUBLIC "`+t+`" "`+n+`">`:t?`<!DOCTYPE `+e+` PUBLIC "`+t+`">`:n?`<!DOCTYPE `+e+` SYSTEM "`+n+`">`:`<!DOCTYPE `+e+`>`},t.prototype.comment=function(e){return this._beginLine()+`<!--`+e+`-->`},t.prototype.text=function(e){return this._beginLine()+e},t.prototype.instruction=function(e,t){return t?this._beginLine()+`<?`+e+` `+t+`?>`:this._beginLine()+`<?`+e+`?>`},t.prototype.cdata=function(e){return this._beginLine()+`<![CDATA[`+e+`]]>`},t.prototype.openTagBegin=function(e){return this._lineLength+=1+e.length,this._beginLine()+`<`+e},t.prototype.openTagEnd=function(e,t,n){return n?` />`:t?this._writerOptions.allowEmptyTags?`></`+e+`>`:this._writerOptions.spaceBeforeSlash?` />`:`/>`:`>`},t.prototype.closeTag=function(e){return this._beginLine()+`</`+e+`>`},t.prototype.attribute=function(e,t){var n=e+`="`+t+`"`;return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+n.length>this._writerOptions.width?(n=this._beginLine()+this._indent(1)+n,this._lineLength=n.length,n):(this._lineLength+=1+n.length,` `+n)},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){},t.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var e=(this.hasData?this._writerOptions.newline:``)+this._indent(this._writerOptions.offset+this.level);return this._lineLength=e.length,e}return``},t.prototype._indent=function(e){return e<=0?``:this._writerOptions.indent.repeat(e)},t}(n(114).BaseCBWriter)},function(e,t,n){n(74);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0}),t.JSONCBWriter=function(e){function t(t){var n=e.call(this,t)||this;return n._hasChildren=[],n._additionalLevel=0,n}return i(t,e),t.prototype.frontMatter=function(){return``},t.prototype.declaration=function(e,t,n){return``},t.prototype.docType=function(e,t,n){return``},t.prototype.comment=function(e){return this._comma()+this._beginLine()+`{`+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(e)+this._sep()+`}`},t.prototype.text=function(e){return this._comma()+this._beginLine()+`{`+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(e)+this._sep()+`}`},t.prototype.instruction=function(e,t){return this._comma()+this._beginLine()+`{`+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(t?e+` `+t:e)+this._sep()+`}`},t.prototype.cdata=function(e){return this._comma()+this._beginLine()+`{`+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(e)+this._sep()+`}`},t.prototype.attribute=function(e,t){return this._comma()+this._beginLine(1)+`{`+this._sep()+this._key(this._builderOptions.convert.att+e)+this._sep()+this._val(t)+this._sep()+`}`},t.prototype.openTagBegin=function(e){var t=this._comma()+this._beginLine()+`{`+this._sep()+this._key(e)+this._sep()+`{`;return this._additionalLevel++,this.hasData=!0,t+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+`[`,this._hasChildren.push(!1),t},t.prototype.openTagEnd=function(e,t,n){if(t){var r=this._sep()+`]`;return this._additionalLevel--,r+=this._beginLine()+`}`+this._sep()+`}`}return``},t.prototype.closeTag=function(e){var t=this._beginLine()+`]`;return this._additionalLevel--,t+=this._beginLine()+`}`+this._sep()+`}`},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){this._hasChildren.pop()},t.prototype._beginLine=function(e){return e===void 0&&(e=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:``)+this._indent(this._writerOptions.offset+this.level+e):``},t.prototype._indent=function(e){return e+this._additionalLevel<=0?``:this._writerOptions.indent.repeat(e+this._additionalLevel)},t.prototype._comma=function(){var e=this._hasChildren[this._hasChildren.length-1]?`,`:``;return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),e},t.prototype._sep=function(){return this._writerOptions.prettyPrint?` `:``},t.prototype._key=function(e){return`"`+e+`":`},t.prototype._val=function(e){return JSON.stringify(e)},t}(n(114).BaseCBWriter)},function(e,t,n){n(74);var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,`__esModule`,{value:!0}),t.YAMLCBWriter=function(e){function t(t){var n=e.call(this,t)||this;if(n._rootWritten=!1,n._additionalLevel=0,t.indent.length<2)throw Error(`YAML indententation string must be at least two characters long.`);if(t.offset<0)throw Error(`YAML offset should be zero or a positive number.`);return n}return i(t,e),t.prototype.frontMatter=function(){return this._beginLine()+`---`},t.prototype.declaration=function(e,t,n){return``},t.prototype.docType=function(e,t,n){return``},t.prototype.comment=function(e){return this._beginLine()+this._key(this._builderOptions.convert.comment)+` `+this._val(e)},t.prototype.text=function(e){return this._beginLine()+this._key(this._builderOptions.convert.text)+` `+this._val(e)},t.prototype.instruction=function(e,t){return this._beginLine()+this._key(this._builderOptions.convert.ins)+` `+this._val(t?e+` `+t:e)},t.prototype.cdata=function(e){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+` `+this._val(e)},t.prototype.attribute=function(e,t){this._additionalLevel++;var n=this._beginLine()+this._key(this._builderOptions.convert.att+e)+` `+this._val(t);return this._additionalLevel--,n},t.prototype.openTagBegin=function(e){var t=this._beginLine()+this._key(e);return this._rootWritten||=!0,this.hasData=!0,this._additionalLevel++,t+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},t.prototype.openTagEnd=function(e,t,n){return t?` `+this._val(``):``},t.prototype.closeTag=function(e){return this._additionalLevel--,``},t.prototype.beginElement=function(e){},t.prototype.endElement=function(e){},t.prototype._beginLine=function(e){return e===void 0&&(e=!1),(this.hasData?this._writerOptions.newline:``)+this._indent(this._writerOptions.offset+this.level,e)},t.prototype._indent=function(e,t){if(e+this._additionalLevel<=0)return``;var n=this._writerOptions.indent.repeat(e+this._additionalLevel);return!t&&this._rootWritten?n.substr(0,n.length-2)+`-`+n.substr(-1,1):n},t.prototype._key=function(e){return`"`+e+`":`},t.prototype._val=function(e){return JSON.stringify(e)},t}(n(114).BaseCBWriter)},function(e,t,n){var r,i=typeof Reflect==`object`?Reflect:null,a=i&&typeof i.apply==`function`?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&typeof i.ownKeys==`function`?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(e){if(typeof e!=`function`)throw TypeError(`The "listener" argument must be of type Function. Received type `+typeof e)}function u(e){return e._maxListeners===void 0?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,a,o,s;if(l(n),(a=e._events)===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit(`newListener`,t,n.listener?n.listener:n),a=e._events),o=a[t]),o===void 0)o=a[t]=n,++e._eventsCount;else if(typeof o==`function`?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=Error(`Possible EventEmitter memory leak detected. `+o.length+` `+String(t)+` listeners added. Use emitter.setMaxListeners() to increase limit`);c.name=`MaxListenersExceededWarning`,c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function m(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i==`function`?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function h(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n==`function`)return 1;if(n!==void 0)return n.length}return 0}function g(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,`defaultMaxListeners`,{enumerable:!0,get:function(){return c},set:function(e){if(typeof e!=`number`||e<0||o(e))throw RangeError(`The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received `+e+`.`);c=e}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if(typeof e!=`number`||e<0||o(e))throw RangeError(`The value of "n" is out of range. It must be a non-negative number. Received `+e+`.`);return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e===`error`,i=this._events;if(i!==void 0)r&&=i.error===void 0;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=Error(`Unhandled error.`+(o?` (`+o.message+`)`:``));throw s.context=o,s}var c=i[e];if(c===void 0)return!1;if(typeof c==`function`)a(c,this,t);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(l(t),(r=this._events)===void 0||(n=r[e])===void 0)return this;if(n===t||n.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(`removeListener`,e,n.listener||t));else if(typeof n!=`function`){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit(`removeListener`,e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i,a=Object.keys(n);for(r=0;r<a.length;++r)(i=a[r])!==`removeListener`&&this.removeAllListeners(i);return this.removeAllListeners(`removeListener`),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=n[e])==`function`)this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return m(this,e,!0)},s.prototype.rawListeners=function(e){return m(this,e,!1)},s.listenerCount=function(e,t){return typeof e.listenerCount==`function`?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(77);t.createCB=function(e){return new r.XMLBuilderCBImpl(e)},t.fragmentCB=function(e){return new r.XMLBuilderCBImpl(e,!0)}}])}))}))(),I7=Uint8Array,L7=Uint16Array,R7=Uint32Array,z7=new I7([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B7=new I7([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OCe=new I7([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V7=function(e,t){for(var n=new L7(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new R7(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},H7=V7(z7,2),U7=H7[0],kCe=H7[1];U7[28]=258,kCe[258]=28;var W7=V7(B7,0),ACe=W7[0];W7[1];for(var G7=new L7(32768),K7=0;K7<32768;++K7){var q7=(K7&43690)>>>1|(K7&21845)<<1;q7=(q7&52428)>>>2|(q7&13107)<<2,q7=(q7&61680)>>>4|(q7&3855)<<4,G7[K7]=((q7&65280)>>>8|(q7&255)<<8)>>>1}for(var J7=(function(e,t,n){for(var r=e.length,i=0,a=new L7(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new L7(t);for(i=0;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new L7(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],u=t-e[i],d=o[e[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)s[G7[d]>>>c]=l}else for(s=new L7(r),i=0;i<r;++i)e[i]&&(s[i]=G7[o[e[i]-1]++]>>>15-e[i]);return s}),Y7=new I7(288),K7=0;K7<144;++K7)Y7[K7]=8;for(var K7=144;K7<256;++K7)Y7[K7]=9;for(var K7=256;K7<280;++K7)Y7[K7]=7;for(var K7=280;K7<288;++K7)Y7[K7]=8;for(var X7=new I7(32),K7=0;K7<32;++K7)X7[K7]=5;var jCe=J7(Y7,9,1),MCe=J7(X7,5,1),Z7=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Q7=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},$7=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},NCe=function(e){return(e+7)/8|0},PCe=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e.BYTES_PER_ELEMENT==2?L7:e.BYTES_PER_ELEMENT==4?R7:I7)(n-t);return r.set(e.subarray(t,n)),r},FCe=[`unexpected EOF`,`invalid block type`,`invalid length/literal`,`invalid distance`,`stream finished`,`no stream handler`,,`no callback`,`invalid UTF-8 data`,`extra field too long`,`date not in range 1980-2099`,`filename too long`,`stream finishing`,`invalid zip data`],e9=function(e,t,n){var r=Error(t||FCe[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,e9),!n)throw r;return r},t9=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new I7(0);var i=!t||n,a=!n||n.i;n||={},t||=new I7(r*3);var o=function(e){var n=t.length;if(e>n){var r=new I7(Math.max(n*2,e));r.set(t),t=r}},s=n.f||0,c=n.p||0,l=n.b||0,u=n.l,d=n.d,f=n.m,p=n.n,m=r*8;do{if(!u){s=Q7(e,c,1);var h=Q7(e,c+1,3);if(c+=3,h)if(h==1)u=jCe,d=MCe,f=9,p=5;else if(h==2){var g=Q7(e,c,31)+257,_=Q7(e,c+10,15)+4,v=g+Q7(e,c+5,31)+1;c+=14;for(var y=new I7(v),b=new I7(19),x=0;x<_;++x)b[OCe[x]]=Q7(e,c+x*3,7);c+=_*3;for(var S=Z7(b),C=(1<<S)-1,w=J7(b,S,1),x=0;x<v;){var T=w[Q7(e,c,C)];c+=T&15;var E=T>>>4;if(E<16)y[x++]=E;else{var D=0,O=0;for(E==16?(O=3+Q7(e,c,3),c+=2,D=y[x-1]):E==17?(O=3+Q7(e,c,7),c+=3):E==18&&(O=11+Q7(e,c,127),c+=7);O--;)y[x++]=D}}var k=y.subarray(0,g),A=y.subarray(g);f=Z7(k),p=Z7(A),u=J7(k,f,1),d=J7(A,p,1)}else e9(1);else{var E=NCe(c)+4,j=e[E-4]|e[E-3]<<8,M=E+j;if(M>r){a&&e9(0);break}i&&o(l+j),t.set(e.subarray(E,M),l),n.b=l+=j,n.p=c=M*8,n.f=s;continue}if(c>m){a&&e9(0);break}}i&&o(l+131072);for(var ee=(1<<f)-1,te=(1<<p)-1,N=c;;N=c){var D=u[$7(e,c)&ee],ne=D>>>4;if(c+=D&15,c>m){a&&e9(0);break}if(D||e9(2),ne<256)t[l++]=ne;else if(ne==256){N=c,u=null;break}else{var re=ne-254;if(ne>264){var x=ne-257,ie=z7[x];re=Q7(e,c,(1<<ie)-1)+U7[x],c+=ie}var P=d[$7(e,c)&te],ae=P>>>4;P||e9(3),c+=P&15;var A=ACe[ae];if(ae>3){var ie=B7[ae];A+=$7(e,c)&(1<<ie)-1,c+=ie}if(c>m){a&&e9(0);break}i&&o(l+131072);for(var oe=l+re;l<oe;l+=4)t[l]=t[l-A],t[l+1]=t[l+1-A],t[l+2]=t[l+2-A],t[l+3]=t[l+3-A];l=oe}}n.l=u,n.p=N,n.b=l,n.f=s,u&&(s=1,n.m=f,n.d=d,n.n=p)}while(!s);return l==t.length?t:PCe(t,0,l)},ICe=new I7(0),LCe=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&e9(6,`invalid gzip data`);var t=e[3],n=10;t&4&&(n+=e[10]|(e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},RCe=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},zCe=function(e){((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&e9(6,`invalid zlib data`),e[1]&32&&e9(6,`invalid zlib data: preset dictionaries not supported`)};function BCe(e,t){return t9(e,t)}function VCe(e,t){return t9(e.subarray(LCe(e),-8),t||new I7(RCe(e)))}function HCe(e,t){return t9((zCe(e),e.subarray(2,-4)),t)}function UCe(e,t){return e[0]==31&&e[1]==139&&e[2]==8?VCe(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?BCe(e,t):HCe(e,t)}var WCe=typeof TextDecoder<`u`&&new TextDecoder;try{WCe.decode(ICe,{stream:!0})}catch{}var n9={};function r9(e){return!!n9[e]}function GCe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`http`,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n9[e](t)}function i9(e,t){n9[e]=t}var KCe={get:GCe,has:r9,registerType:i9},a9=[];a9[45]=62,a9[95]=63;var o9=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`;for(let e=0;e<64;e++)a9[o9.charCodeAt(e)]=e;function s9(e){return a9[e.charCodeAt(0)]!==void 0}function qCe(e){let t=e.length,n=[],r=null;for(let i=0;i<t;i++)s9(e[i])?(r||={start:i,count:0},r.count++,r.end=i):e[i]===`=`&&r&&(n.push(r),r=null);return r&&n.push(r),n}function JCe(e,t,n,r){let{start:i,count:a}=t,o=a%4,s=Math.floor(a/4),c=i,l=null,u=n;for(let t=0;t<s;t++){for(;!s9(e[c]);)c++;for(l=a9[e.charCodeAt(c++)]<<18;!s9(e[c]);)c++;for(l|=a9[e.charCodeAt(c++)]<<12;!s9(e[c]);)c++;for(l|=a9[e.charCodeAt(c++)]<<6;!s9(e[c]);)c++;l|=a9[e.charCodeAt(c++)],r[u++]=l>>16&255,r[u++]=l>>8&255,r[u++]=l&255}switch(o){case 3:for(;!s9(e[c]);)c++;for(l=a9[e.charCodeAt(c++)]<<10;!s9(e[c]);)c++;for(l|=a9[e.charCodeAt(c++)]<<4;!s9(e[c]);)c++;l|=a9[e.charCodeAt(c++)]>>2,r[u++]=l>>8&255,r[u++]=l&255;break;case 2:for(;!s9(e[c]);)c++;for(l=a9[e.charCodeAt(c++)]<<2;!s9(e[c]);)c++;l|=a9[e.charCodeAt(c++)]>>4,r[u++]=l&255;break;case 1:throw Error(`BASE64: remain 1 should not happen`)}return u}function YCe(e){let t=qCe(e),n=t[t.length-1].end+1,r=(4-n%4)%4,i=(n+r)*3/4-r,a=new ArrayBuffer(i),o=new Uint8Array(a),s=0;for(let n=0;n<t.length;n++)s+=JCe(e,t[n],s,o),s+=(4-t[n].count%4)%4;return a}function c9(e,t,n){let r=(e<<16)+(t<<8)+n;return o9[r>>18]+o9[r>>12&63]+o9[r>>6&63]+o9[r&63]}function XCe(e){let t=new Uint8Array(e),n=e.byteLength%3,r=e.byteLength-n,i=Array(r/3);for(let e=0;e<i.length;e++){let n=e*3;i[e]=c9(t[n],t[n+1],t[n+2])}if(n>0){let e=c9(t[r],t[r+1]||0,t[r+2]||0);n===1?i.push(`${e.substr(0,2)}==`):n===2&&i.push(`${e.substr(0,3)}=`)}return i.join(``)}var l9={toArrayBuffer:YCe,fromArrayBuffer:XCe};function ZCe(e,t){t.classHierarchy.push(`vtkStringArray`),e.getComponent=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=(n,r,i)=>{i!==t.values[n*t.numberOfComponents+r]&&(t.values[n*t.numberOfComponents+r]=i,e.modified())},e.getData=()=>t.values,e.getTuple=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.numberOfComponents||1;n.length&&=r;let i=e*r;for(let e=0;e<r;e++)n[e]=t.values[i+e];return n},e.getTupleLocation=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*t.numberOfComponents},e.getNumberOfComponents=()=>t.numberOfComponents,e.getNumberOfValues=()=>t.values.length,e.getNumberOfTuples=()=>t.values.length/t.numberOfComponents,e.getDataType=()=>t.dataType,e.newClone=()=>d9({name:t.name,numberOfComponents:t.numberOfComponents,empty:!0}),e.getName=()=>(t.name||e.setName(`vtkStringArray${e.getMTime()}`),t.name),e.setData=(n,r)=>{t.values=n,t.size=n.length,r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!==0&&(t.numberOfComponents=1),e.modified()}}var QCe={name:``,numberOfComponents:1,size:0,dataType:`string`};function u9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(t,QCe,n),!t.empty&&!t.values&&!t.size)throw TypeError(`Cannot create vtkStringArray object without: size > 0, values`);t.values?Array.isArray(t.values)&&(t.values=[...t.values]):t.values=[],t.values&&(t.size=t.values.length),$.obj(e,t),$.set(e,t,[`name`]),ZCe(e,t)}var d9=$.newInstance(u9,`vtkStringArray`),$Ce={newInstance:d9,extend:u9};function f9(e){return new TextDecoder(`latin1`).decode(e)}function ewe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=f9(e),i=t.exec(r);if(!i)return{text:r};let a=i.index+i[0].length,o=r.substring(0,a),s=null,c=n?n.exec(r):null;return s=c?{text:o+r.substr(c.index),binaryBuffer:e.slice(a,c.index)}:{text:o,binaryBuffer:e.slice(a)},s}var twe={arrayBufferToString:f9,extractBinary:ewe};function p9(){let e=new ArrayBuffer(4),t=new Uint8Array(e),n=new Uint32Array(e);return t[0]=161,t[1]=178,t[2]=195,t[3]=212,n[0]===3569595041?`LittleEndian`:n[0]===2712847316?`BigEndian`:null}var nwe=p9();function rwe(e,t){if(t<2)return;let n=new Int8Array(e),r=n.length,i=[];for(let e=0;e<r;e+=t){for(let r=0;r<t;r++)i.push(n[e+r]);for(let r=0;r<t;r++)n[e+r]=i.pop()}}var m9={ENDIANNESS:nwe,getEndianness:p9,swapBytes:rwe},{vtkErrorMacro:h9,vtkDebugMacro:iwe}=$,g9=()=>(h9(`LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead.`),Promise.reject(Error(`LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead.`))),_9=0;function v9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=new XMLHttpRequest;return r.open(e,t,!0),n.headers&&Object.entries(n.headers).forEach(e=>{let[t,n]=e;return r.setRequestHeader(t,n)}),n.progressCallback&&r.addEventListener(`progress`,n.progressCallback),r}function awe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,r)=>{let i=v9(`GET`,e,t);i.onreadystatechange=e=>{i.readyState===4&&(i.status===200||i.status===0?n(i.response):r({xhr:i,e}))},i.responseType=`arraybuffer`,i.send()})}function owe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r&&r.compression?g9():n.ref&&!n.ref.pending?new Promise((i,a)=>{let o=v9(`GET`,[t,n.ref.basepath,n.ref.id].join(`/`),r);o.onreadystatechange=t=>{o.readyState===1&&(n.ref.pending=!0,++_9===1&&e?.invokeBusy&&e.invokeBusy(!0)),o.readyState===4&&(n.ref.pending=!1,o.status===200||o.status===0?(n.buffer=o.response,n.ref.encode===`JSON`?n.values=JSON.parse(n.buffer):(m9.ENDIANNESS!==n.ref.encode&&m9.ENDIANNESS&&(iwe(`Swap bytes of ${n.name}`),m9.swapBytes(n.buffer,e1[n.dataType])),n.values=$.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&h9(`Error in FetchArray: ${n.name}, does not have the proper array size. Got ${n.values.length}, instead of ${n.size}`),delete n.ref,--_9===0&&e?.invokeBusy&&e.invokeBusy(!1),e?.modified&&e.modified(),i(n)):a({xhr:o,e:t}))},o.responseType=n.dataType===`string`?`text`:`arraybuffer`,o.send()}):Promise.resolve(n)}function swe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression?g9():new Promise((r,i)=>{let a=v9(`GET`,t,n);a.onreadystatechange=t=>{a.readyState===1&&++_9===1&&e?.invokeBusy&&e.invokeBusy(!0),a.readyState===4&&(--_9===0&&e?.invokeBusy&&e.invokeBusy(!1),a.status===200||a.status===0?r(JSON.parse(a.responseText)):i({xhr:a,e:t}))},a.responseType=`text`,a.send()})}function cwe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression?g9():new Promise((r,i)=>{let a=v9(`GET`,t,n);a.onreadystatechange=t=>{a.readyState===1&&++_9===1&&e?.invokeBusy&&e.invokeBusy(!0),a.readyState===4&&(--_9===0&&e?.invokeBusy&&e.invokeBusy(!1),a.status===200||a.status===0?r(a.responseText):i({xhr:a,e:t}))},a.responseType=`text`,a.send()})}function lwe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((e,r)=>{let i=new Image;n.crossOrigin&&(i.crossOrigin=n.crossOrigin),i.onload=()=>e(i),i.onerror=r,i.src=t})}var uwe={fetchArray:owe,fetchJSON:swe,fetchText:cwe,fetchBinary:awe,fetchImage:lwe};r9(`http`)||i9(`http`,e=>uwe);function dwe(e,t){return[...e.getElementsByTagName(t)]}function y9(e,t){return dwe(e,t)[0]}function fwe(e){return(0,DCe.create)(e)}function pwe(e){return twe.extractBinary(e,/^\s*<AppendedData\s+encoding="raw">\s*_/m,/\n\s*<\/AppendedData>/m)}var b9={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},x9={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function S9(e){let t=e.length-1;return e.filter((e,n)=>n<t&&n%2==0)}function C9(e,t,n){if(![`UInt64`,`UInt32`].includes(n))throw Error(`Cannot handle a header type of ${n}`);let r=b9[n],i=b9[t],a=!1;n===`UInt64`&&(r=b9.UInt32),/^U?Int64$/.test(t)&&(a=!0,i=b9[t.replace(`64`,`32`)]);let{byteOffset:o}=e,s=x9[t],c=x9[n],l;l=o%c===0?new r(e.buffer,o,1):new r(e.buffer.slice(o,o+c));let u=Number(l[0]),d,f=u/s;a&&(f*=2);let p=o+c;return d=p%s===0?new i(e.buffer,p,f):new i(e.buffer.slice(p,p+u)),a&&(d=S9(d)),d}function mwe(e,t){if(t===`UInt64`){let t=new Uint32Array(e.buffer,0,6),n=t[0],r=[8,n,t[2],t[4]];t=new Uint32Array(e.buffer,24,n*2);for(let e=0;e<n;e++)r.push(t[e*2]);return r}let n=new Uint32Array(e.buffer,0,3),r=n[0],i=[4,r,n[1],n[2]];n=new Uint32Array(e.buffer,12,r);for(let e=0;e<r;e++)i.push(n[e]);return i}function hwe(e,t){let[n]=e;return(e.length-1)*n}function gwe(e,t){let n=UCe(e);t.uint8.set(n,t.offset),t.offset+=n.length}function w9(e,t){let n=mwe(e,t),r=n[1],i=n[2],a=n[3],o=0;r>0&&(o=a===0?r*i:(r-1)*i+a);let s=new ArrayBuffer(o),c={offset:0,uint8:new Uint8Array(s)},l=hwe(n);for(;l<e.length&&e[l]!==120;)l++;for(let t=0;t<r;t++){let r=n[4+t];gwe(new Uint8Array(e.buffer,l,r),c),l+=r}return c.uint8}function T9(e,t,n,r,i,a){let o=t.getAttribute(`type`),s=t.getAttribute(`Name`),c=t.getAttribute(`format`),l=Number(t.getAttribute(`NumberOfComponents`)||`1`),u=null;if(c===`ascii`){u=new b9[o](e*l);let n=0;t.firstChild.nodeValue.split(/[\\t \\n]+/).forEach(e=>{e.trim().length&&(u[n++]=Number(e))})}else if(c===`binary`){let e=new Uint8Array(l9.toArrayBuffer(t.firstChild.nodeValue.trim()));if(n===`vtkZLibDataCompressor`){let t=w9(e,i);u=new b9[o](t.buffer),/^U?Int64$/.test(o)&&(u=S9(u))}else u=new b9[o](e.buffer,x9[i]),o.indexOf(`Int64`)!==-1&&(u=S9(u))}else if(c===`appended`){let e=Number(t.getAttribute(`offset`));u=C9(new Uint8Array(a,e),o,i)}else console.error(`Format not supported`,c);return{name:s,values:u,numberOfComponents:l}}function E9(e){return new TextDecoder().decode(e).split(`\0`).slice(0,-1)}function _we(e,t,n,r,i){let a=e.getAttribute(`Name`),o=e.getAttribute(`format`),s=Number(e.getAttribute(`NumberOfComponents`)||`1`),c=Number(e.getAttribute(`NumberOfTuples`)||`1`)*s,l=[];if(o===`ascii`){let t=e.firstChild.nodeValue.trim().split(/\s+/),n=0,r=[];for(;l.length<c;){let e=Number(t[n++]);e===0?(l.push(r.join(``)),r.length=0):r.push(String.fromCharCode(e))}}else if(o===`binary`){let n=new Uint8Array(l9.toArrayBuffer(e.firstChild.nodeValue.trim()));if(t===`vtkZLibDataCompressor`){let e=w9(n,r);l.push(...E9(e))}else{let e=C9(n,`UInt8`,r);l.push(...E9(e))}}else if(o===`appended`){let t=Number(e.getAttribute(`offset`)),n=C9(new Uint8Array(i,t),`UInt8`,r);l.push(...E9(n))}else $.vtkErrorMacro(`Format not supported: ${o}`);return{name:a,values:l,numberOfComponents:s}}function vwe(e,t,n,r,i,a){let o={},s=t.getElementsByTagName(`DataArray`);for(let e=0;e<s.length;e++){let t=s[e];o[t.getAttribute(`Name`)]=t}let c=T9(e,o.offsets,n,r,i,a).values,l=c[c.length-1],u=T9(l,o.connectivity,n,r,i,a).values,d=new Uint32Array(e+l),f=0,p=0;return c.forEach(e=>{let t=e-p;d[f++]=t;for(let e=0;e<t;e++)d[f++]=u[p+e];p=e}),d}function ywe(e,t,n,r,i,a,o){if(t){let s=[`Scalars`,`Vectors`,`Normals`,`Tensors`,`TCoords`],c={};s.forEach(e=>{let r=t.getAttribute(e);r&&(c[r]=n[`set${e}`])});let l=t.getElementsByTagName(`DataArray`),u=l.length;for(let t=0;t<u;t++){let s=l[t],u=l1.newInstance(T9(e,s,r,i,a,o));(c[u.getName()]||n.addArray)(u)}}}function bwe(e,t,n,r,i){let a=[...e.getElementsByTagName(`DataArray`)].map(e=>l1.newInstance(T9(Number(e.getAttribute(`NumberOfTuples`)),e,t,n,r,i))),o=[...e.getElementsByTagName(`Array`)].filter(e=>e.getAttribute(`type`)===`String`).map(e=>$Ce.newInstance(_we(e,t,n,r,i)));return[...a,...o]}function xwe(e,t){t.classHierarchy.push(`vtkXMLReader`),t.dataAccessHelper||=KCe.get(`http`);function n(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.dataAccessHelper.fetchBinary(e,n)}e.setUrl=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.url=n;let i=n.split(`/`);return i.pop(),t.baseURL=i.join(`/`),e.loadData(r)},e.loadData=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(t.url,r).then(e.parseAsArrayBuffer)},e.parseAsArrayBuffer=n=>{if(!n)return!1;if(n!==t.rawDataBuffer)e.modified();else return!0;let{text:r,binaryBuffer:i}=pwe(n);t.rawDataBuffer=n,t.binaryBuffer=i;let a=fwe(r).root(),o=a.node,s=o.getAttribute(`type`),c=o.getAttribute(`compressor`),l=o.getAttribute(`byte_order`),u=o.getAttribute(`header_type`)||`UInt32`;if(c&&c!==`vtkZLibDataCompressor`)return console.error(`Invalid compressor`,c),!1;if(l&&l!==`LittleEndian`)return console.error(`Only LittleEndian encoding is supported`),!1;if(s!==t.dataType)return console.error(`Invalid data type`,s,`expecting`,t.dataType),!1;if(y9(o,`AppendedData`)){let e=y9(o,`AppendedData`),n=e.getAttribute(`encoding`),r=a.filter(e=>{let{node:t}=e;return t.nodeType===Node.ELEMENT_NODE&&t.getAttribute(`format`)===`appended`&&t.hasAttribute(`offset`)},!1,!0).map(e=>({node:e.node,offset:Number(e.node.getAttribute(`offset`))}));r.sort((e,t)=>e.offset-t.offset);let i=t.binaryBuffer;n===`base64`&&(i=e.textContent.trim().substr(1));let s=[];for(let e=0;e<r.length;++e){let t=r[e].offset,a=0;a=e===r.length-1?i.length||i.byteLength:r[e+1].offset,n===`base64`?s.push(new Uint8Array(l9.toArrayBuffer(i.substring(t,a)))):s.push(new Uint8Array(i.slice(t,a)))}if(c===`vtkZLibDataCompressor`)for(let e=0;e<s.length;++e){let t=s[e],n=w9(t,u),r=new Uint8Array(n.length+x9[u]);new b9[u](r.buffer,0,1)[0]=n.length,r.set(n,x9[u]),s[e]=r}let l=s.reduce((e,t)=>e+t.length,0),d=new ArrayBuffer(l),f=new Uint8Array(d);for(let e=0,t=0;e<s.length;++e)r[e].node.setAttribute(`offset`,t),f.set(s[e],t),t+=s[e].length;if(t.binaryBuffer=d,!t.binaryBuffer)return console.error(`Processing appended data format: requires binaryBuffer to parse`),!1}e.parseXML(o,s,c,l,u);let d=o.getElementsByTagName(s)[0].getElementsByTagName(`FieldData`)[0];if(d){let e=bwe(d,c,l,u,t.binaryBuffer);for(let n=0;n<t.output.length;n++){let r=t.output[n].getFieldData();for(let t=0;t<e.length;t++)r.addArray(e[t])}}return!0},e.requestData=(n,r)=>{e.parseAsArrayBuffer(t.rawDataBuffer)}}var Swe={};function Cwe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Swe,n),$.obj(e,t),$.get(e,t,[`url`,`baseURL`]),$.setGet(e,t,[`dataAccessHelper`]),$.algo(e,t,0,1),xwe(e,t)}var D9={extend:Cwe,processDataArray:T9,processFieldData:ywe,processCells:vwe};function wwe(e,t){t.classHierarchy.push(`vtkXMLImageDataReader`),e.parseXML=(e,n,r,i,a)=>{let o=e.getElementsByTagName(t.dataType)[0],s=o.getAttribute(`Origin`).split(` `).map(e=>Number(e)),c=o.getAttribute(`Spacing`).split(` `).map(e=>Number(e)),l=o.getAttribute(`Direction`)?.split(` `).map(e=>Number(e)),u=o.getElementsByTagName(`Piece`),d=u.length;for(let e=0;e<d;e++){let n=u[e],o=n.getAttribute(`Extent`).split(` `).map(e=>Number(e)),d=O1.newInstance({origin:s,spacing:c,direction:l,extent:o});D9.processFieldData(d.getNumberOfPoints(),n.getElementsByTagName(`PointData`)[0],d.getPointData(),r,i,a,t.binaryBuffer),D9.processFieldData(d.getNumberOfCells(),n.getElementsByTagName(`CellData`)[0],d.getCellData(),r,i,a,t.binaryBuffer),t.output[e]=d}}}var Twe={dataType:`ImageData`};function O9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Twe,n),D9.extend(e,t,n),wwe(e,t)}var k9={newInstance:$.newInstance(O9,`vtkXMLImageDataReader`),extend:O9};async function Ewe(e){let t=k9.newInstance(),n=typeof e==`string`?e:e?.name||`vti`;if(typeof e==`string`){let n=await fetch(e);if(!n.ok)throw Error(`Failed to fetch VTI: ${n.status} ${n.statusText}`);let r=await n.arrayBuffer();t.parseAsArrayBuffer(r)}else{let n=await e.arrayBuffer();t.parseAsArrayBuffer(n)}let r=t.getOutputData(0);if(!r)throw Error(`Failed to parse VTI: no ImageData output.`);let i=r.getDimensions(),a=[Number(i?.[0]??0),Number(i?.[1]??0),Number(i?.[2]??0)];if(!a[0]||!a[1]||!a[2])throw Error(`Invalid VTI dimensions: ${a.join(`x`)}`);let o=r.getSpacing?.()??[1,1,1],s=[Number(o?.[0]??1),Number(o?.[1]??1),Number(o?.[2]??1)],c=s.map(e=>Number.isFinite(e)&&e>0?e:1);(c[0]!==s[0]||c[1]!==s[1]||c[2]!==s[2])&&r.setSpacing(...c);let l=r.getPointData().getScalars();if(!l)throw Error(`VTI has no point scalars to render.`);let u=l?.getRange?.()??[0,1],d=l?.getData?.();return{imageData:r,dimensions:a,range:u,geo:{hasXY:!1},volumeData:d instanceof Float32Array?d:d?new Float32Array(d):null,stats:null,meta:{source:`vti`,name:n,spacing:c}}}var{vtkErrorMacro:A9}=$;function Dwe(e,t){t.classHierarchy.push(`vtkPiecewiseFunction`),e.getSize=()=>t.nodes.length,e.getType=()=>{let e,n=0,r=0;t.nodes.length>0&&(n=t.nodes[0].y);for(let i=1;i<t.nodes.length;i++){if(e=t.nodes[i].y,e!==n)if(e>n)switch(r){case 0:case 1:r=1;break;case 2:default:r=3;break}else switch(r){case 0:case 2:r=2;break;case 1:default:r=3;break}if(n=e,r===3)break}switch(r){case 0:return`Constant`;case 1:return`NonDecreasing`;case 2:return`NonIncreasing`;case 3:default:return`Varied`}},e.getDataPointer=()=>{let e=t.nodes.length;if(t.function=null,e>0){t.function=[];for(let n=0;n<e;n++)t.function[2*n]=t.nodes[n].x,t.function[2*n+1]=t.nodes[n].y}return t.function},e.getFirstNonZeroValue=()=>{if(t.nodes.length===0)return 0;let e=1,n=0,r=0;for(;r<t.nodes.length;r++)if(t.nodes[r].y!==0){e=0;break}return n=e?Number.MAX_VALUE:r>0?t.nodes[r-1].x:t.clamping?-Number.MAX_VALUE:t.nodes[0].x,n},e.getNodeValue=(e,n)=>{let r=t.nodes.length;return e<0||e>=r?(A9(`Index out of range!`),-1):(n[0]=t.nodes[e].x,n[1]=t.nodes[e].y,n[2]=t.nodes[e].midpoint,n[3]=t.nodes[e].sharpness,1)},e.setNodeValue=(n,r)=>{let i=t.nodes.length;if(n<0||n>=i)return A9(`Index out of range!`),-1;let a=t.nodes[n].x;return t.nodes[n].x=r[0],t.nodes[n].y=r[1],t.nodes[n].midpoint=r[2],t.nodes[n].sharpness=r[3],a===r[0]?e.modified():e.sortAndUpdateRange(),1},e.addPoint=(t,n)=>e.addPointLong(t,n,.5,0),e.addPointLong=(n,r,i,a)=>{if(i<0||i>1)return A9(`Midpoint outside range [0.0, 1.0]`),-1;if(a<0||a>1)return A9(`Sharpness outside range [0.0, 1.0]`),-1;t.allowDuplicateScalars||e.removePoint(n);let o={x:n,y:r,midpoint:i,sharpness:a};t.nodes.push(o),e.sortAndUpdateRange();let s;for(s=0;s<t.nodes.length&&t.nodes[s].x!==n;s++);return s<t.nodes.length?s:-1},e.setNodes=n=>{t.nodes!==n&&(t.nodes=n,e.sortAndUpdateRange())},e.sortAndUpdateRange=()=>{t.nodes.sort((e,t)=>e.x-t.x),e.updateRange()||e.modified()},e.updateRange=()=>{let n=t.range.slice(),r=t.nodes.length;return r?(t.range[0]=t.nodes[0].x,t.range[1]=t.nodes[r-1].x):(t.range[0]=0,t.range[1]=0),n[0]===t.range[0]&&n[1]===t.range[1]?!1:(e.modified(),!0)},e.removePoint=n=>{let r;for(r=0;r<t.nodes.length&&t.nodes[r].x!==n;r++);if(r>=t.nodes.length)return-1;let i=r,a=!1;return t.nodes.splice(r,1),(r===0||r===t.nodes.length)&&(a=e.updateRange()),a||e.modified(),i},e.removeAllPoints=()=>{t.nodes=[],e.sortAndUpdateRange()},e.addSegment=(n,r,i,a)=>{e.sortAndUpdateRange();for(let e=0;e<t.nodes.length;)t.nodes[e].x>=n&&t.nodes[e].x<=i?t.nodes.splice(e,1):e++;e.addPoint(n,r,.5,0),e.addPoint(i,a,.5,0)},e.getValue=t=>{let n=[];return e.getTable(t,t,1,n),n[0]},e.adjustRange=n=>{if(n.length<2)return 0;let r=e.getRange();r[0]<n[0]?e.addPoint(n[0],e.getValue(n[0])):e.addPoint(n[0],e.getValue(r[0])),r[1]>n[1]?e.addPoint(n[1],e.getValue(n[1])):e.addPoint(n[1],e.getValue(r[1])),e.sortAndUpdateRange();for(let e=0;e<t.nodes.length;)t.nodes[e].x>=n[0]&&t.nodes[e].x<=n[1]?t.nodes.splice(e,1):++e;return e.sortAndUpdateRange(),1},e.estimateMinNumberOfSamples=(t,n)=>{let r=e.findMinimumXDistance();return Math.ceil((n-t)/r)},e.findMinimumXDistance=()=>{let e=t.nodes.length;if(e<2)return-1;let n=t.nodes[1].x-t.nodes[0].x;for(let r=0;r<e-1;r++){let e=t.nodes[r+1].x-t.nodes[r].x;e<n&&(n=e)}return n},e.getTable=function(e,n,r,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o,s=0,c=t.nodes.length,l=0;c!==0&&(l=t.nodes[c-1].y);let u=0,d=0,f=0,p=0,m=0,h=0,g=0;for(o=0;o<r;o++){let _=a*o;for(u=r>1?e+o/(r-1)*(n-e):.5*(e+n);s<c&&u>t.nodes[s].x;)s++,s<c&&(d=t.nodes[s-1].x,f=t.nodes[s].x,p=t.nodes[s-1].y,m=t.nodes[s].y,h=t.nodes[s-1].midpoint,g=t.nodes[s-1].sharpness,h<1e-5&&(h=1e-5),h>.99999&&(h=.99999));if(s>=c)i[_]=t.clamping?l:0;else if(s===0)i[_]=t.clamping?t.nodes[0].y:0;else{let e=(u-d)/(f-d);if(e=e<h?.5*e/h:.5+.5*(e-h)/(1-h),g>.99)if(e<.5){i[_]=p;continue}else{i[_]=m;continue}if(g<.01){i[_]=(1-e)*p+e*m;continue}e<.5?e=.5*(e*2)**(1+10*g):e>.5&&(e=1-.5*((1-e)*2)**(1+10*g));let t=e*e,n=t*e,r=2*n-3*t+1,a=-2*n+3*t,o=n-2*t+e,s=n-t,c=m-p,l=(1-g)*c;i[_]=r*p+a*m+o*l+s*l;let v=p<m?p:m,y=p>m?p:m;i[_]=i[_]<v?v:i[_],i[_]=i[_]>y?y:i[_]}}}}var Owe={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function j9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Owe,n),$.obj(e,t),t.nodes=[],$.setGet(e,t,[`allowDuplicateScalars`,`clamping`]),$.setArray(e,t,[`range`],2),$.getArray(e,t,[`range`]),Dwe(e,t)}var M9={newInstance:$.newInstance(j9,`vtkPiecewiseFunction`),extend:j9},{InterpolationType:N9,OpacityMode:kwe,FilterMode:P9,ColorMixPreset:Awe}=e6,{vtkErrorMacro:F9}=$,I9=4;function jwe(e,t){t.classHierarchy.push(`vtkVolumeProperty`);let n={...e};e.getMTime=()=>{let e=t.mtime,n;for(let r=0;r<I9;r++)t.componentData[r].colorChannels===1?t.componentData[r].grayTransferFunction&&(n=t.componentData[r].grayTransferFunction.getMTime(),e=e>n?e:n):t.componentData[r].colorChannels===3&&t.componentData[r].rGBTransferFunction&&(n=t.componentData[r].rGBTransferFunction.getMTime(),e=e>n?e:n),t.componentData[r].scalarOpacity&&(n=t.componentData[r].scalarOpacity.getMTime(),e=e>n?e:n),t.componentData[r].gradientOpacity&&(t.componentData[r].disableGradientOpacity||(n=t.componentData[r].gradientOpacity.getMTime(),e=e>n?e:n));return e},e.getColorChannels=e=>e<0||e>3?(F9(`Bad index - must be between 0 and 3`),0):t.componentData[e].colorChannels,e.setGrayTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=!1;return t.componentData[n].grayTransferFunction!==r&&(t.componentData[n].grayTransferFunction=r,i=!0),t.componentData[n].colorChannels!==1&&(t.componentData[n].colorChannels=1,i=!0),i&&e.modified(),i},e.getGrayTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.componentData[n].grayTransferFunction===null&&(t.componentData[n].grayTransferFunction=M9.newInstance(),t.componentData[n].grayTransferFunction.addPoint(0,0),t.componentData[n].grayTransferFunction.addPoint(1024,1),t.componentData[n].colorChannels!==1&&(t.componentData[n].colorChannels=1),e.modified()),t.componentData[n].grayTransferFunction},e.setRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=!1;return t.componentData[n].rGBTransferFunction!==r&&(t.componentData[n].rGBTransferFunction=r,i=!0),t.componentData[n].colorChannels!==3&&(t.componentData[n].colorChannels=3,i=!0),i&&e.modified(),i},e.getRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.componentData[n].rGBTransferFunction===null&&(t.componentData[n].rGBTransferFunction=P7.newInstance(),t.componentData[n].rGBTransferFunction.addRGBPoint(0,0,0,0),t.componentData[n].rGBTransferFunction.addRGBPoint(1024,1,1,1),t.componentData[n].colorChannels!==3&&(t.componentData[n].colorChannels=3),e.modified()),t.componentData[n].rGBTransferFunction},e.setScalarOpacity=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t.componentData[n].scalarOpacity===r?!1:(t.componentData[n].scalarOpacity=r,e.modified(),!0)},e.getScalarOpacity=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.componentData[n].scalarOpacity===null&&(t.componentData[n].scalarOpacity=M9.newInstance(),t.componentData[n].scalarOpacity.addPoint(0,1),t.componentData[n].scalarOpacity.addPoint(1024,1),e.modified()),t.componentData[n].scalarOpacity},e.setComponentWeight=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n<0||n>=I9)return F9(`Invalid index`),!1;let i=Math.min(1,Math.max(0,r));return t.componentData[n].componentWeight===i?!1:(t.componentData[n].componentWeight=i,e.modified(),!0)},e.getComponentWeight=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0||e>=I9?(F9(`Invalid index`),0):t.componentData[e].componentWeight},e.setInterpolationTypeToNearest=()=>e.setInterpolationType(N9.NEAREST),e.setInterpolationTypeToLinear=()=>e.setInterpolationType(N9.LINEAR),e.setInterpolationTypeToFastLinear=()=>e.setInterpolationType(N9.FAST_LINEAR),e.getInterpolationTypeAsString=()=>$.enumToString(N9,t.interpolationType),[`useGradientOpacity`,`scalarOpacityUnitDistance`,`gradientOpacityMinimumValue`,`gradientOpacityMinimumOpacity`,`gradientOpacityMaximumValue`,`gradientOpacityMaximumOpacity`,`opacityMode`,`forceNearestInterpolation`].forEach(n=>{let r=$.capitalize(n);e[`set${r}`]=(r,i)=>t.componentData[r][`${n}`]===i?!1:(t.componentData[r][`${n}`]=i,e.modified(),!0)}),[`useGradientOpacity`,`scalarOpacityUnitDistance`,`gradientOpacityMinimumValue`,`gradientOpacityMinimumOpacity`,`gradientOpacityMaximumValue`,`gradientOpacityMaximumOpacity`,`opacityMode`,`forceNearestInterpolation`].forEach(n=>{let r=$.capitalize(n);e[`get${r}`]=e=>t.componentData[e][`${n}`]}),e.setAverageIPScalarRange=(t,n)=>{console.warn(`setAverageIPScalarRange is deprecated use setIpScalarRange`),e.setIpScalarRange(t,n)},e.getFilterModeAsString=()=>$.enumToString(P9,t.filterMode),e.setFilterModeToOff=()=>{e.setFilterMode(P9.OFF)},e.setFilterModeToNormalized=()=>{e.setFilterMode(P9.NORMALIZED)},e.setFilterModeToRaw=()=>{e.setFilterMode(P9.RAW)},e.setGlobalIlluminationReach=e=>n.setGlobalIlluminationReach(CQ(e,0,1)),e.setVolumetricScatteringBlending=e=>n.setVolumetricScatteringBlending(CQ(e,0,1)),e.setAnisotropy=e=>n.setAnisotropy(CQ(e,-.99,.99)),e.setLAOKernelSize=e=>n.setLAOKernelSize(GX(CQ(e,1,32))),e.setLAOKernelRadius=e=>n.setLAOKernelRadius(e>=1?e:1)}var Mwe=e=>({colorMixPreset:Awe.DEFAULT,independentComponents:!0,interpolationType:N9.FAST_LINEAR,shade:!1,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:[1],labelOutlineOpacity:1,ipScalarRange:[-1e6,1e6],filterMode:P9.OFF,preferSizeOverAccuracy:!1,computeNormalFromOpacity:!1,volumetricScatteringBlending:0,globalIlluminationReach:0,anisotropy:0,localAmbientOcclusion:!1,LAOKernelSize:15,LAOKernelRadius:7,updatedExtents:[],...e});function L9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(t,Mwe(n)),$.obj(e,t),!t.componentData){t.componentData=[];for(let e=0;e<I9;++e)t.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:kwe.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1,forceNearestInterpolation:!1})}$.setGet(e,t,[`colorMixPreset`,`independentComponents`,`interpolationType`,`shade`,`ambient`,`diffuse`,`specular`,`specularPower`,`useLabelOutline`,`labelOutlineOpacity`,`filterMode`,`preferSizeOverAccuracy`,`computeNormalFromOpacity`,`volumetricScatteringBlending`,`globalIlluminationReach`,`anisotropy`,`localAmbientOcclusion`,`LAOKernelSize`,`LAOKernelRadius`,`updatedExtents`]),$.setGetArray(e,t,[`ipScalarRange`],2),$.setGetArray(e,t,[`labelOutlineThickness`]),jwe(e,t)}var Nwe={newInstance:$.newInstance(L9,`vtkVolumeProperty`),extend:L9,...e6};function Pwe(e,t){t.classHierarchy.push(`vtkVolume`),e.getVolumes=()=>[e],e.makeProperty=Nwe.newInstance,e.getRedrawMTime=()=>{let e=t.mtime;if(t.mapper!==null){let n=t.mapper.getMTime();e=n>e?n:e,t.mapper.getInput()!==null&&(t.mapper.getInputAlgorithm().update(),n=t.mapper.getInput().getMTime(),e=n>e?n:e)}return e}}var Fwe={mapper:null};function R9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Fwe,n),U$.extend(e,t,n),t.boundsMTime={},$.obj(t.boundsMTime),$.setGet(e,t,[`mapper`]),Pwe(e,t)}var z9={newInstance:$.newInstance(R9,`vtkVolume`),extend:R9},{BlendMode:B9}=lve;function Iwe(e,t,n,r,i){let a=null;return i?(a=i,a.removeAllPoints()):a=M9.newInstance(),a.addPointLong(-1024,0,1,1),a.addPoint(e,t),a.addPoint(n,r),a}var Lwe=`getAnisotropy.getComputeNormalFromOpacity.getFilterMode.getFilterModeAsString.getGlobalIlluminationReach.getIpScalarRange.getIpScalarRangeByReference.getLAOKernelRadius.getLAOKernelSize.getLocalAmbientOcclusion.getPreferSizeOverAccuracy.getVolumetricScatteringBlending.setAnisotropy.setAverageIPScalarRange.setComputeNormalFromOpacity.setFilterMode.setFilterModeToNormalized.setFilterModeToOff.setFilterModeToRaw.setGlobalIlluminationReach.setIpScalarRange.setIpScalarRangeFrom.setLAOKernelRadius.setLAOKernelSize.setLocalAmbientOcclusion.setPreferSizeOverAccuracy.setVolumetricScatteringBlending`.split(`.`),Rwe={createRadonTransferFunction:Iwe};function zwe(e,t){t.classHierarchy.push(`vtkVolumeMapper`);let n={...e};e.getBounds=()=>(t.static||e.update(),t.bounds=[...e.getInputData().getBounds()],t.bounds),e.setBlendModeToComposite=()=>{e.setBlendMode(B9.COMPOSITE_BLEND)},e.setBlendModeToMaximumIntensity=()=>{e.setBlendMode(B9.MAXIMUM_INTENSITY_BLEND)},e.setBlendModeToMinimumIntensity=()=>{e.setBlendMode(B9.MINIMUM_INTENSITY_BLEND)},e.setBlendModeToAverageIntensity=()=>{e.setBlendMode(B9.AVERAGE_INTENSITY_BLEND)},e.setBlendModeToAdditiveIntensity=()=>{e.setBlendMode(B9.ADDITIVE_INTENSITY_BLEND)},e.setBlendModeToRadonTransform=()=>{e.setBlendMode(B9.RADON_TRANSFORM_BLEND)},e.getBlendModeAsString=()=>$.enumToString(B9,t.blendMode),e.setVolumeShadowSamplingDistFactor=e=>n.setVolumeShadowSamplingDistFactor(e>=1?e:1),Lwe.forEach(t=>{e[t]=()=>{throw Error(`The method "volumeMapper.${t}()" doesn't exist anymore. It is a rendering property that has been moved to the volume property. Replace your code with:\nvolumeActor.getProperty().${t}()\n`)}})}var Bwe=e=>({bounds:[...I$.INIT_BOUNDS],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,initialInteractionScale:1,interactionSampleDistanceFactor:1,blendMode:B9.COMPOSITE_BLEND,volumeShadowSamplingDistFactor:5,colorTextureWidth:1024,opacityTextureWidth:1024,labelOutlineTextureWidth:1024,...e});function V9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Bwe(n)),u1.extend(e,t,n),$.setGet(e,t,[`sampleDistance`,`imageSampleDistance`,`maximumSamplesPerRay`,`autoAdjustSampleDistances`,`initialInteractionScale`,`interactionSampleDistanceFactor`,`blendMode`,`volumeShadowSamplingDistFactor`,`colorTextureWidth`,`opacityTextureWidth`,`labelOutlineTextureWidth`]),$.event(e,t,`lightingActivated`),zwe(e,t)}var H9={newInstance:$.newInstance(V9,`vtkVolumeMapper`),extend:V9,...Rwe};function Vwe(e,t){t.classHierarchy.push(`vtkAbstractImageMapper`),e.getIsOpaque=()=>!0,e.getCurrentImage=()=>null,e.getBoundsForSlice=()=>($.vtkErrorMacro(`vtkAbstractImageMapper.getBoundsForSlice - NOT IMPLEMENTED`),FQ())}var Hwe={slice:0,customDisplayExtent:[0,0,0,0,0,0],useCustomExtents:!1,backgroundColor:[0,0,0,1],colorTextureWidth:1024,opacityTextureWidth:1024,labelOutlineTextureWidth:1024};function Uwe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Hwe,n),u1.extend(e,t,n),$.setGet(e,t,[`slice`,`useCustomExtents`,`colorTextureWidth`,`opacityTextureWidth`,`labelOutlineTextureWidth`]),$.setGetArray(e,t,[`customDisplayExtent`],6),$.setGetArray(e,t,[`backgroundColor`],4),Vwe(e,t)}var Wwe={extend:Uwe};function U9(e,t,n){let r=n.getCurrentImage(),i=r.getExtent(),a=[i[0],i[2],i[4]],{ijkMode:o}=n.getClosestIJKAxis(),s=n.isA(`vtkImageArrayMapper`)?n.getSubSlice():n.getSlice();o!==n.getSlicingMode()&&(s=n.getSliceAtPosition(s)),a[o]+=s;let c=[0,0,0];r.indexToWorld(a,c),a[o]+=1;let l=[0,0,0];r.indexToWorld(a,l),l[0]-=c[0],l[1]-=c[1],l[2]-=c[2],BG(l,l);let u=ZQ.intersectWithLine(e,t,c,l);if(u.intersection){let e=u.x,t=[0,0,0];return r.worldToIndex(e,t),{t:u.t,absoluteIJK:t}}return null}function Gwe(e,t,n){let r=U9(e,t,n);if(r){let e=n.getCurrentImage().getExtent(),t=[Math.round(r.absoluteIJK[0]),Math.round(r.absoluteIJK[1]),Math.round(r.absoluteIJK[2])];return t[0]<e[0]||t[0]>e[1]||t[1]<e[2]||t[1]>e[3]||t[2]<e[4]||t[2]>e[5]?null:{t:r.t,ijk:t}}return null}function Kwe(e,t,n){let r=U9(e,t,n);if(r){let e=n.getCurrentImage().getExtent(),t=r.absoluteIJK,i=[Math.floor(t[0]),Math.floor(t[1]),Math.floor(t[2])];if(i[0]<e[0]||i[0]>e[1]-1||i[1]<e[2]||i[1]>e[3]-1||i[2]<e[4]||i[2]>(e[5]?e[5]-1:e[5]))return null;let a=[t[0]-i[0],t[1]-i[1],t[2]-i[2]];return{t:r.t,ijk:i,pCoords:a}}return null}var{staticOffsetAPI:qwe,otherStaticMethods:Jwe}=$1,{SlicingMode:W9}=W3;function Ywe(e,t){t.classHierarchy.push(`vtkImageMapper`),e.getSliceAtPosition=n=>{let r=e.getCurrentImage(),i;if(n.length===3)i=n;else if(Number.isFinite(n)){let e=r.getBounds();switch(t.slicingMode){case W9.X:i=[n,(e[3]+e[2])/2,(e[5]+e[4])/2];break;case W9.Y:i=[(e[1]+e[0])/2,n,(e[5]+e[4])/2];break;case W9.Z:i=[(e[1]+e[0])/2,(e[3]+e[2])/2,n];break}}let a=[0,0,0];r.worldToIndex(i,a);let o=r.getExtent(),{ijkMode:s}=e.getClosestIJKAxis(),c=0;switch(s){case W9.I:c=CQ(a[0],o[0],o[1]);break;case W9.J:c=CQ(a[1],o[2],o[3]);break;case W9.K:c=CQ(a[2],o[4],o[5]);break;default:return 0}return c},e.setSliceFromCamera=n=>{let r=n.getFocalPoint();switch(t.slicingMode){case W9.I:case W9.J:case W9.K:{let t=e.getSliceAtPosition(r);e.setSlice(t)}break;case W9.X:e.setSlice(r[0]);break;case W9.Y:e.setSlice(r[1]);break;case W9.Z:e.setSlice(r[2]);break}},e.setXSlice=t=>{e.setSlicingMode(W9.X),e.setSlice(t)},e.setYSlice=t=>{e.setSlicingMode(W9.Y),e.setSlice(t)},e.setZSlice=t=>{e.setSlicingMode(W9.Z),e.setSlice(t)},e.setISlice=t=>{e.setSlicingMode(W9.I),e.setSlice(t)},e.setJSlice=t=>{e.setSlicingMode(W9.J),e.setSlice(t)},e.setKSlice=t=>{e.setSlicingMode(W9.K),e.setSlice(t)},e.getSlicingModeNormal=()=>{let n=[0,0,0],r=e.getCurrentImage().getDirection();switch(t.slicingMode){case W9.X:n[0]=1;break;case W9.Y:n[1]=1;break;case W9.Z:n[2]=1;break;case W9.I:IZ(r,[1,0,0],n);break;case W9.J:IZ(r,[0,1,0],n);break;case W9.K:IZ(r,[0,0,1],n);break}return n};function n(){let n;switch(t.slicingMode){case W9.X:n=0;break;case W9.Y:n=1;break;case W9.Z:n=2;break;default:t.closestIJKAxis={ijkMode:t.slicingMode,flip:!1};return}let r=IQ(e.getCurrentImage().getDirection()),i=0;for(;i<3&&r[n+3*i]===0;++i);let a=r[n+3*i]<0;t.closestIJKAxis={ijkMode:i,flip:a}}e.setSlicingMode=r=>{t.slicingMode!==r&&(t.slicingMode=r,e.getCurrentImage()&&n(),e.modified())},e.getClosestIJKAxis=()=>((t.closestIJKAxis===void 0||t.closestIJKAxis.ijkMode===W9.NONE)&&e.getCurrentImage()&&n(),t.closestIJKAxis),e.getBounds=()=>{let n=e.getCurrentImage();if(!n)return FQ();if(!t.useCustomExtents)return n.getBounds();let r=t.customDisplayExtent.slice(),{ijkMode:i}=e.getClosestIJKAxis(),a=t.slice;switch(i!==t.slicingMode&&(a=e.getSliceAtPosition(t.slice)),i){case W9.I:r[0]=a,r[1]=a;break;case W9.J:r[2]=a,r[3]=a;break;case W9.K:r[4]=a,r[5]=a;break}return n.extentToBounds(r)},e.getBoundsForSlice=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.slice,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=e.getCurrentImage();if(!i)return FQ();let a=i.getSpatialExtent(),{ijkMode:o}=e.getClosestIJKAxis(),s=n;switch(o!==t.slicingMode&&(s=e.getSliceAtPosition(n)),o){case W9.I:a[0]=s-r,a[1]=s+r;break;case W9.J:a[2]=s-r,a[3]=s+r;break;case W9.K:a[4]=s-r,a[5]=s+r;break}return i.extentToBounds(a)},e.intersectWithLineForPointPicking=(t,n)=>Gwe(t,n,e),e.intersectWithLineForCellPicking=(t,n)=>Kwe(t,n,e),e.getCurrentImage=()=>e.getInputData()}var Xwe={slicingMode:W9.NONE,closestIJKAxis:{ijkMode:W9.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1,preferSizeOverAccuracy:!1};function G9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,Xwe,n),Wwe.extend(e,t,n),$.get(e,t,[`slicingMode`]),$.setGet(e,t,[`closestIJKAxis`,`renderToRectangle`,`sliceAtFocalPoint`,`preferSizeOverAccuracy`]),$1.implementCoincidentTopologyMethods(e,t),Ywe(e,t)}var Zwe={newInstance:$.newInstance(G9,`vtkImageMapper`),extend:G9,...qwe,...Jwe,...W3},{InterpolationType:K9}=W_e,{vtkErrorMacro:q9}=$,J9=4;function Qwe(e,t){t.classHierarchy.push(`vtkImageProperty`),e.getMTime=()=>{let e=t.mtime,n;for(let r=0;r<J9;r++)t.componentData[r].rGBTransferFunction&&(n=t.componentData[r].rGBTransferFunction.getMTime(),e=e>n?e:n),t.componentData[r].piecewiseFunction&&(n=t.componentData[r].piecewiseFunction.getMTime(),e=e>n?e:n);return e},e.setRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=n,a=r;return Number.isInteger(n)||(a=n,i=0),t.componentData[i].rGBTransferFunction===a?!1:(t.componentData[i].rGBTransferFunction=a,e.modified(),!0)},e.getRGBTransferFunction=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.componentData[e].rGBTransferFunction},e.setPiecewiseFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=n,a=r;return Number.isInteger(n)||(a=n,i=0),t.componentData[i].piecewiseFunction===a?!1:(t.componentData[i].piecewiseFunction=a,e.modified(),!0)},e.getPiecewiseFunction=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.componentData[e].piecewiseFunction},e.setScalarOpacity=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=t,i=n;return Number.isInteger(t)||(i=t,r=0),e.setPiecewiseFunction(r,i)},e.getScalarOpacity=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.getPiecewiseFunction(t)},e.setComponentWeight=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n<0||n>=J9)return q9(`Invalid index`),!1;let i=Math.min(1,Math.max(0,r));return t.componentData[n].componentWeight===i?!1:(t.componentData[n].componentWeight=i,e.modified(),!0)},e.getComponentWeight=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0||e>=J9?(q9(`Invalid index`),0):t.componentData[e].componentWeight},e.setInterpolationTypeToNearest=()=>e.setInterpolationType(K9.NEAREST),e.setInterpolationTypeToLinear=()=>e.setInterpolationType(K9.LINEAR),e.getInterpolationTypeAsString=()=>$.enumToString(K9,t.interpolationType)}var $we=e=>({independentComponents:!1,interpolationType:K9.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,useLookupTableScalarRange:!1,useLabelOutline:!1,labelOutlineThickness:[1],labelOutlineOpacity:1,updatedExtents:[],...e});function Y9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(t,$we(n)),$.obj(e,t),!t.componentData){t.componentData=[];for(let e=0;e<J9;e++)t.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}$.setGet(e,t,[`independentComponents`,`interpolationType`,`colorWindow`,`colorLevel`,`ambient`,`diffuse`,`opacity`,`useLookupTableScalarRange`,`useLabelOutline`,`labelOutlineOpacity`,`updatedExtents`]),$.setGetArray(e,t,[`labelOutlineThickness`]),Qwe(e,t)}var eTe={newInstance:$.newInstance(Y9,`vtkImageProperty`),extend:Y9};function tTe(e,t){t.classHierarchy.push(`vtkImageSlice`),e.getActors=()=>e,e.getImages=()=>e,e.getIsOpaque=()=>{if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.properties[0]||e.getProperty();let n=t.properties[0].getOpacity()>=1;return n&&=!t.mapper||t.mapper.getIsOpaque(),n},e.hasTranslucentPolygonalGeometry=()=>!1,e.makeProperty=eTe.newInstance,e.getBoundsForSlice=(n,r)=>{let i=t.mapper.getBoundsForSlice(n,r);if(!I$.isValid(i))return i;e.computeMatrix();let a=new Float64Array(16);return LW(a,t.matrix),I$.transformBounds(i,a)},e.getMinXBound=()=>e.getBounds()[0],e.getMaxXBound=()=>e.getBounds()[1],e.getMinYBound=()=>e.getBounds()[2],e.getMaxYBound=()=>e.getBounds()[3],e.getMinZBound=()=>e.getBounds()[4],e.getMaxZBound=()=>e.getBounds()[5],e.getRedrawMTime=()=>{let e=t.mtime;if(t.mapper!==null){let n=t.mapper.getMTime();e=n>e?n:e,t.mapper.getInput()!==null&&(t.mapper.getInputAlgorithm().update(),n=t.mapper.getInput().getMTime(),e=n>e?n:e)}return t.properties.forEach(t=>{e=Math.max(e,t.getMTime());let n=t.getRGBTransferFunction();n!==null&&(e=Math.max(e,n.getMTime()))}),e},e.getSupportsSelection=()=>t.mapper?t.mapper.getSupportsSelection():!1}var nTe={mapper:null,forceOpaque:!1,forceTranslucent:!1};function X9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,nTe,n),U$.extend(e,t,n),t.boundsMTime={},$.obj(t.boundsMTime),$.setGet(e,t,[`mapper`,`forceOpaque`,`forceTranslucent`]),tTe(e,t)}var rTe={newInstance:$.newInstance(X9,`vtkImageSlice`),extend:X9},iTe=class{constructor(){this.oriented=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,this.edgeMap=new Map}initialize(){this.edgeMap.clear()}computeEdgeKey(e,t){return this.oriented||e<t?.5*(e*t)*(e*t+1)+t:.5*(t*e)*(t*e+1)+e}insertUniqueEdge(e,t,n){let r=this.computeEdgeKey(e,t),i=this.edgeMap.get(r);return i||(i={key:r,edgeId:this.edgeMap.size,value:n},this.edgeMap.set(r,i)),i}insertEdge(e,t,n){let r=this.computeEdgeKey(e,t),i={key:r,edgeId:this.edgeMap.size,value:n};return this.edgeMap.set(r,i),i}isInsertedEdge(e,t){let n=this.computeEdgeKey(e,t);return this.edgeMap.get(n)}static getEdgePointIds(e){let t=.5*(-1+Math.sqrt(8*e.key+1)),n=e.key-.5*(t+1)*t;return[n,t-n]}};function aTe(){return new iTe((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).oriented)}var oTe={newInstance:aTe},sTe=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,1,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,11,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,11,11,8,9,-1,-1,-1,-1,-1,-1,-1],[3,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,2,10,8,0,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,0,9,2,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,1,10,9,9,10,8,-1,-1,-1,-1,-1,-1,-1],[3,1,11,10,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,11,0,11,8,8,11,10,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,10,10,9,11,-1,-1,-1,-1,-1,-1,-1],[9,11,8,11,10,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1],[1,11,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,7,4,3,4,0,1,11,2,-1,-1,-1,-1,-1,-1,-1],[9,11,2,9,2,0,8,7,4,-1,-1,-1,-1,-1,-1,-1],[2,9,11,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1],[8,7,4,3,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,7,4,10,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1],[9,1,0,8,7,4,2,10,3,-1,-1,-1,-1,-1,-1,-1],[4,10,7,9,10,4,9,2,10,9,1,2,-1,-1,-1,-1],[3,1,11,3,11,10,7,4,8,-1,-1,-1,-1,-1,-1,-1],[1,11,10,1,10,4,1,4,0,7,4,10,-1,-1,-1,-1],[4,8,7,9,10,0,9,11,10,10,3,0,-1,-1,-1,-1],[4,10,7,4,9,10,9,11,10,-1,-1,-1,-1,-1,-1,-1],[9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,4,5,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,8,0,1,11,2,4,5,9,-1,-1,-1,-1,-1,-1,-1],[5,11,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1],[2,5,11,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1],[9,4,5,2,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,2,10,0,10,8,4,5,9,-1,-1,-1,-1,-1,-1,-1],[0,4,5,0,5,1,2,10,3,-1,-1,-1,-1,-1,-1,-1],[2,5,1,2,8,5,2,10,8,4,5,8,-1,-1,-1,-1],[11,10,3,11,3,1,9,4,5,-1,-1,-1,-1,-1,-1,-1],[4,5,9,0,1,8,8,1,11,8,11,10,-1,-1,-1,-1],[5,0,4,5,10,0,5,11,10,10,3,0,-1,-1,-1,-1],[5,8,4,5,11,8,11,10,8,-1,-1,-1,-1,-1,-1,-1],[9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1],[0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1],[1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,8,7,9,7,5,11,2,1,-1,-1,-1,-1,-1,-1,-1],[11,2,1,9,0,5,5,0,3,5,3,7,-1,-1,-1,-1],[8,2,0,8,5,2,8,7,5,11,2,5,-1,-1,-1,-1],[2,5,11,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1],[7,5,9,7,9,8,3,2,10,-1,-1,-1,-1,-1,-1,-1],[9,7,5,9,2,7,9,0,2,2,10,7,-1,-1,-1,-1],[2,10,3,0,8,1,1,8,7,1,7,5,-1,-1,-1,-1],[10,1,2,10,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1],[9,8,5,8,7,5,11,3,1,11,10,3,-1,-1,-1,-1],[5,0,7,5,9,0,7,0,10,1,11,0,10,0,11,-1],[10,0,11,10,3,0,11,0,5,8,7,0,5,0,7,-1],[10,5,11,7,5,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,5,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,1,0,5,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,1,8,9,5,6,11,-1,-1,-1,-1,-1,-1,-1],[1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,5,6,1,6,2,3,8,0,-1,-1,-1,-1,-1,-1,-1],[9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1],[5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1],[2,10,3,11,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,8,0,10,0,2,11,5,6,-1,-1,-1,-1,-1,-1,-1],[0,9,1,2,10,3,5,6,11,-1,-1,-1,-1,-1,-1,-1],[5,6,11,1,2,9,9,2,10,9,10,8,-1,-1,-1,-1],[6,10,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1],[0,10,8,0,5,10,0,1,5,5,6,10,-1,-1,-1,-1],[3,6,10,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1],[6,9,5,6,10,9,10,8,9,-1,-1,-1,-1,-1,-1,-1],[5,6,11,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,0,3,4,3,7,6,11,5,-1,-1,-1,-1,-1,-1,-1],[1,0,9,5,6,11,8,7,4,-1,-1,-1,-1,-1,-1,-1],[11,5,6,1,7,9,1,3,7,7,4,9,-1,-1,-1,-1],[6,2,1,6,1,5,4,8,7,-1,-1,-1,-1,-1,-1,-1],[1,5,2,5,6,2,3,4,0,3,7,4,-1,-1,-1,-1],[8,7,4,9,5,0,0,5,6,0,6,2,-1,-1,-1,-1],[7,9,3,7,4,9,3,9,2,5,6,9,2,9,6,-1],[3,2,10,7,4,8,11,5,6,-1,-1,-1,-1,-1,-1,-1],[5,6,11,4,2,7,4,0,2,2,10,7,-1,-1,-1,-1],[0,9,1,4,8,7,2,10,3,5,6,11,-1,-1,-1,-1],[9,1,2,9,2,10,9,10,4,7,4,10,5,6,11,-1],[8,7,4,3,5,10,3,1,5,5,6,10,-1,-1,-1,-1],[5,10,1,5,6,10,1,10,0,7,4,10,0,10,4,-1],[0,9,5,0,5,6,0,6,3,10,3,6,8,7,4,-1],[6,9,5,6,10,9,4,9,7,7,9,10,-1,-1,-1,-1],[11,9,4,6,11,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,6,11,4,11,9,0,3,8,-1,-1,-1,-1,-1,-1,-1],[11,1,0,11,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1],[8,1,3,8,6,1,8,4,6,6,11,1,-1,-1,-1,-1],[1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1],[3,8,0,1,9,2,2,9,4,2,4,6,-1,-1,-1,-1],[0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1],[11,9,4,11,4,6,10,3,2,-1,-1,-1,-1,-1,-1,-1],[0,2,8,2,10,8,4,11,9,4,6,11,-1,-1,-1,-1],[3,2,10,0,6,1,0,4,6,6,11,1,-1,-1,-1,-1],[6,1,4,6,11,1,4,1,8,2,10,1,8,1,10,-1],[9,4,6,9,6,3,9,3,1,10,3,6,-1,-1,-1,-1],[8,1,10,8,0,1,10,1,6,9,4,1,6,1,4,-1],[3,6,10,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1],[6,8,4,10,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,6,11,7,11,8,8,11,9,-1,-1,-1,-1,-1,-1,-1],[0,3,7,0,7,11,0,11,9,6,11,7,-1,-1,-1,-1],[11,7,6,1,7,11,1,8,7,1,0,8,-1,-1,-1,-1],[11,7,6,11,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1],[1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1],[2,9,6,2,1,9,6,9,7,0,3,9,7,9,3,-1],[7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1],[7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,10,3,11,8,6,11,9,8,8,7,6,-1,-1,-1,-1],[2,7,0,2,10,7,0,7,9,6,11,7,9,7,11,-1],[1,0,8,1,8,7,1,7,11,6,11,7,2,10,3,-1],[10,1,2,10,7,1,11,1,6,6,1,7,-1,-1,-1,-1],[8,6,9,8,7,6,9,6,1,10,3,6,1,6,3,-1],[0,1,9,10,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,0,8,7,6,0,3,0,10,10,0,6,-1,-1,-1,-1],[7,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,8,0,10,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,10,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,9,1,8,1,3,10,6,7,-1,-1,-1,-1,-1,-1,-1],[11,2,1,6,7,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,3,8,0,6,7,10,-1,-1,-1,-1,-1,-1,-1],[2,0,9,2,9,11,6,7,10,-1,-1,-1,-1,-1,-1,-1],[6,7,10,2,3,11,11,3,8,11,8,9,-1,-1,-1,-1],[7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1],[2,6,7,2,7,3,0,9,1,-1,-1,-1,-1,-1,-1,-1],[1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1],[11,6,7,11,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1],[11,6,7,1,11,7,1,7,8,1,8,0,-1,-1,-1,-1],[0,7,3,0,11,7,0,9,11,6,7,11,-1,-1,-1,-1],[7,11,6,7,8,11,8,9,11,-1,-1,-1,-1,-1,-1,-1],[6,4,8,10,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,10,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1],[8,10,6,8,6,4,9,1,0,-1,-1,-1,-1,-1,-1,-1],[9,6,4,9,3,6,9,1,3,10,6,3,-1,-1,-1,-1],[6,4,8,6,8,10,2,1,11,-1,-1,-1,-1,-1,-1,-1],[1,11,2,3,10,0,0,10,6,0,6,4,-1,-1,-1,-1],[4,8,10,4,10,6,0,9,2,2,9,11,-1,-1,-1,-1],[11,3,9,11,2,3,9,3,4,10,6,3,4,3,6,-1],[8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1],[0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,0,9,2,4,3,2,6,4,4,8,3,-1,-1,-1,-1],[1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1],[8,3,1,8,1,6,8,6,4,6,1,11,-1,-1,-1,-1],[11,0,1,11,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1],[4,3,6,4,8,3,6,3,11,0,9,3,11,3,9,-1],[11,4,9,6,4,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,5,9,7,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,4,5,9,10,6,7,-1,-1,-1,-1,-1,-1,-1],[5,1,0,5,0,4,7,10,6,-1,-1,-1,-1,-1,-1,-1],[10,6,7,8,4,3,3,4,5,3,5,1,-1,-1,-1,-1],[9,4,5,11,2,1,7,10,6,-1,-1,-1,-1,-1,-1,-1],[6,7,10,1,11,2,0,3,8,4,5,9,-1,-1,-1,-1],[7,10,6,5,11,4,4,11,2,4,2,0,-1,-1,-1,-1],[3,8,4,3,4,5,3,5,2,11,2,5,10,6,7,-1],[7,3,2,7,2,6,5,9,4,-1,-1,-1,-1,-1,-1,-1],[9,4,5,0,6,8,0,2,6,6,7,8,-1,-1,-1,-1],[3,2,6,3,6,7,1,0,5,5,0,4,-1,-1,-1,-1],[6,8,2,6,7,8,2,8,1,4,5,8,1,8,5,-1],[9,4,5,11,6,1,1,6,7,1,7,3,-1,-1,-1,-1],[1,11,6,1,6,7,1,7,0,8,0,7,9,4,5,-1],[4,11,0,4,5,11,0,11,3,6,7,11,3,11,7,-1],[7,11,6,7,8,11,5,11,4,4,11,8,-1,-1,-1,-1],[6,5,9,6,9,10,10,9,8,-1,-1,-1,-1,-1,-1,-1],[3,10,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1],[0,8,10,0,10,5,0,5,1,5,10,6,-1,-1,-1,-1],[6,3,10,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1],[1,11,2,9,10,5,9,8,10,10,6,5,-1,-1,-1,-1],[0,3,10,0,10,6,0,6,9,5,9,6,1,11,2,-1],[10,5,8,10,6,5,8,5,0,11,2,5,0,5,2,-1],[6,3,10,6,5,3,2,3,11,11,3,5,-1,-1,-1,-1],[5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1],[9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1],[1,8,5,1,0,8,5,8,6,3,2,8,6,8,2,-1],[1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,6,3,1,11,6,3,6,8,5,9,6,8,6,9,-1],[11,0,1,11,6,0,9,0,5,5,0,6,-1,-1,-1,-1],[0,8,3,5,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,11,5,7,10,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,11,5,10,5,7,8,0,3,-1,-1,-1,-1,-1,-1,-1],[5,7,10,5,10,11,1,0,9,-1,-1,-1,-1,-1,-1,-1],[11,5,7,11,7,10,9,1,8,8,1,3,-1,-1,-1,-1],[10,2,1,10,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1],[0,3,8,1,7,2,1,5,7,7,10,2,-1,-1,-1,-1],[9,5,7,9,7,2,9,2,0,2,7,10,-1,-1,-1,-1],[7,2,5,7,10,2,5,2,9,3,8,2,9,2,8,-1],[2,11,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1],[8,0,2,8,2,5,8,5,7,11,5,2,-1,-1,-1,-1],[9,1,0,5,3,11,5,7,3,3,2,11,-1,-1,-1,-1],[9,2,8,9,1,2,8,2,7,11,5,2,7,2,5,-1],[1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1],[9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1],[9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[5,4,8,5,8,11,11,8,10,-1,-1,-1,-1,-1,-1,-1],[5,4,0,5,0,10,5,10,11,10,0,3,-1,-1,-1,-1],[0,9,1,8,11,4,8,10,11,11,5,4,-1,-1,-1,-1],[11,4,10,11,5,4,10,4,3,9,1,4,3,4,1,-1],[2,1,5,2,5,8,2,8,10,4,8,5,-1,-1,-1,-1],[0,10,4,0,3,10,4,10,5,2,1,10,5,10,1,-1],[0,5,2,0,9,5,2,5,10,4,8,5,10,5,8,-1],[9,5,4,2,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,11,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1],[5,2,11,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1],[3,2,11,3,11,5,3,5,8,4,8,5,0,9,1,-1],[5,2,11,5,4,2,1,2,9,9,2,4,-1,-1,-1,-1],[8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1],[0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,5,4,8,3,5,9,5,0,0,5,3,-1,-1,-1,-1],[9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,10,4,10,9,9,10,11,-1,-1,-1,-1,-1,-1,-1],[0,3,8,4,7,9,9,7,10,9,10,11,-1,-1,-1,-1],[1,10,11,1,4,10,1,0,4,7,10,4,-1,-1,-1,-1],[3,4,1,3,8,4,1,4,11,7,10,4,11,4,10,-1],[4,7,10,9,4,10,9,10,2,9,2,1,-1,-1,-1,-1],[9,4,7,9,7,10,9,10,1,2,1,10,0,3,8,-1],[10,4,7,10,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1],[10,4,7,10,2,4,8,4,3,3,4,2,-1,-1,-1,-1],[2,11,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1],[9,7,11,9,4,7,11,7,2,8,0,7,2,7,0,-1],[3,11,7,3,2,11,7,11,4,1,0,11,4,11,0,-1],[1,2,11,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,0,1,8,8,1,7,-1,-1,-1,-1],[4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,8,11,11,8,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,10,9,10,11,9,-1,-1,-1,-1,-1,-1,-1],[0,11,1,0,8,11,8,10,11,-1,-1,-1,-1,-1,-1,-1],[3,11,1,10,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,10,2,1,9,10,9,8,10,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,10,9,1,9,2,2,9,10,-1,-1,-1,-1],[0,10,2,8,10,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,11,8,11,9,8,-1,-1,-1,-1,-1,-1,-1],[9,2,11,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,11,8,0,8,1,1,8,11,-1,-1,-1,-1],[1,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]],cTe=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[2,6],[3,7]];function lTe(e){return sTe[e]}function uTe(e){return cTe[e]}var Z9={getCase:lTe,getEdge:uTe},{vtkErrorMacro:dTe,vtkDebugMacro:fTe}=$;function pTe(e,t){t.classHierarchy.push(`vtkImageMarchingCubes`);let n=[],r=[],i=[],a=[],o=oTe.newInstance();e.getVoxelScalars=(e,t,i,a,o,s,c,l)=>{n[0]=i*a+t*o[0]+e,n[1]=n[0]+1,n[2]=n[0]+o[0],n[3]=n[2]+1,n[4]=n[0]+a,n[5]=n[4]+1,n[6]=n[4]+o[0],n[7]=n[6]+1;for(let e=0;e<8;++e)r[e]=l[n[e]]},e.getVoxelPoints=(e,t,n,r,i)=>{a[0]=r[0]+e*i[0],a[1]=r[1]+t*i[1],a[2]=r[2]+n*i[2],a[3]=a[0]+i[0],a[4]=a[1],a[5]=a[2],a[6]=a[0],a[7]=a[1]+i[1],a[8]=a[2],a[9]=a[3],a[10]=a[7],a[11]=a[2],a[12]=a[0],a[13]=a[1],a[14]=a[2]+i[2],a[15]=a[3],a[16]=a[1],a[17]=a[14],a[18]=a[0],a[19]=a[7],a[20]=a[14],a[21]=a[3],a[22]=a[7],a[23]=a[14]},e.getPointGradient=(e,t,n,r,i,a,o,s)=>{let c,l;e===0?(c=o[e+1+t*r[0]+n*i],l=o[e+t*r[0]+n*i],s[0]=(l-c)/a[0]):e===r[0]-1?(c=o[e+t*r[0]+n*i],l=o[e-1+t*r[0]+n*i],s[0]=(l-c)/a[0]):(c=o[e+1+t*r[0]+n*i],l=o[e-1+t*r[0]+n*i],s[0]=.5*(l-c)/a[0]),t===0?(c=o[e+(t+1)*r[0]+n*i],l=o[e+t*r[0]+n*i],s[1]=(l-c)/a[1]):t===r[1]-1?(c=o[e+t*r[0]+n*i],l=o[e+(t-1)*r[0]+n*i],s[1]=(l-c)/a[1]):(c=o[e+(t+1)*r[0]+n*i],l=o[e+(t-1)*r[0]+n*i],s[1]=.5*(l-c)/a[1]),n===0?(c=o[e+t*r[0]+(n+1)*i],l=o[e+t*r[0]+n*i],s[2]=(l-c)/a[2]):n===r[2]-1?(c=o[e+t*r[0]+n*i],l=o[e+t*r[0]+(n-1)*i],s[2]=(l-c)/a[2]):(c=o[e+t*r[0]+(n+1)*i],l=o[e+t*r[0]+(n-1)*i],s[2]=.5*(l-c)/a[2])},e.getVoxelGradients=(t,n,r,a,o,s,c)=>{let l=[];e.getPointGradient(t,n,r,a,o,s,c,l),i[0]=l[0],i[1]=l[1],i[2]=l[2],e.getPointGradient(t+1,n,r,a,o,s,c,l),i[3]=l[0],i[4]=l[1],i[5]=l[2],e.getPointGradient(t,n+1,r,a,o,s,c,l),i[6]=l[0],i[7]=l[1],i[8]=l[2],e.getPointGradient(t+1,n+1,r,a,o,s,c,l),i[9]=l[0],i[10]=l[1],i[11]=l[2],e.getPointGradient(t,n,r+1,a,o,s,c,l),i[12]=l[0],i[13]=l[1],i[14]=l[2],e.getPointGradient(t+1,n,r+1,a,o,s,c,l),i[15]=l[0],i[16]=l[1],i[17]=l[2],e.getPointGradient(t,n+1,r+1,a,o,s,c,l),i[18]=l[0],i[19]=l[1],i[20]=l[2],e.getPointGradient(t+1,n+1,r+1,a,o,s,c,l),i[21]=l[0],i[22]=l[1],i[23]=l[2]},e.produceTriangles=(s,c,l,u,d,f,p,m,h,g,_,v,y)=>{let b=[1,2,4,8,16,32,64,128],x=[0,1,3,2,4,5,7,6],S=[],C=[],w;e.getVoxelScalars(c,l,u,f,p,m,h,g);let T=0;for(let e=0;e<8;e++)r[x[e]]>=s&&(T|=b[e]);let E=Z9.getCase(T);if(!(E[0]<0)){e.getVoxelPoints(c+d[0],l+d[2],u+d[4],m,h),t.computeNormals&&e.getVoxelGradients(c,l,u,p,f,h,g);for(let e=0;E[e]>=0;e+=3){v.push(3);for(let c=0;c<3;c++){let l=Z9.getEdge(E[e+c]);if(w=void 0,t.mergePoints&&(w=o.isInsertedEdge(n[l[0]],n[l[1]])?.value),w===void 0){let e=(s-r[l[0]])/(r[l[1]]-r[l[0]]),c=a.slice(l[0]*3,(l[0]+1)*3),u=a.slice(l[1]*3,(l[1]+1)*3);if(S[0]=c[0]+e*(u[0]-c[0]),S[1]=c[1]+e*(u[1]-c[1]),S[2]=c[2]+e*(u[2]-c[2]),w=_.length/3,_.push(S[0],S[1],S[2]),t.computeNormals){let t=i.slice(l[0]*3,(l[0]+1)*3),n=i.slice(l[1]*3,(l[1]+1)*3);C[0]=t[0]+e*(n[0]-t[0]),C[1]=t[1]+e*(n[1]-t[1]),C[2]=t[2]+e*(n[2]-t[2]),yZ(C),y.push(C[0],C[1],C[2])}t.mergePoints&&o.insertEdge(n[l[0]],n[l[1]],w)}v.push(w)}}}},e.requestData=(n,r)=>{let i=n[0];if(!i){dTe(`Invalid or missing input`);return}console.time(`mcubes`);let a=i.getOrigin(),s=i.getSpacing(),c=i.getDimensions(),l=i.getPointData().getScalars().getData(),u=[],d=[],f=[],p=i.getExtent(),m=c[0]*c[1];for(let n=0;n<c[2]-1;++n)for(let r=0;r<c[1]-1;++r)for(let i=0;i<c[0]-1;++i)e.produceTriangles(t.contourValue,i,r,n,p,m,c,a,s,l,u,d,f);o.initialize();let h=r[0]?.initialize()||Y0.newInstance();if(h.getPoints().setData(new Float32Array(u),3),h.getPolys().setData(new Uint32Array(d)),t.computeNormals){let e=new Float32Array(f),t=l1.newInstance({numberOfComponents:3,values:e,name:`Normals`});h.getPointData().setNormals(t)}r[0]=h,fTe(`Produced output`),console.timeEnd(`mcubes`)}}var mTe={contourValue:0,computeNormals:!1,mergePoints:!1};function Q9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(t,mTe,n),$.obj(e,t),$.algo(e,t,1,1),$.setGet(e,t,[`contourValue`,`computeNormals`,`mergePoints`]),$.algo(e,t,1,1),pTe(e,t)}var hTe={newInstance:$.newInstance(Q9,`vtkImageMarchingCubes`),extend:Q9},gTe={class:`header-right`},_Te={class:`app-container`},vTe={class:`sidebar`},yTe={class:`control-group`},bTe={key:0,class:`info`},xTe={key:1,class:`control-group`},STe={class:`label`},CTe={class:`row`},wTe={class:`row`},TTe={key:0,class:`row`},ETe={class:`row`},DTe={class:`control-group`},OTe={key:0,class:`row`,style:{"margin-top":`8px`}},kTe=[`href`,`download`],ATe={key:0,class:`info`},jTe={key:1,class:`control-group`},MTe={class:`row`},NTe={class:`row`},PTe={class:`row`},FTe={class:`row`},ITe={key:0},LTe={class:`label`},RTe={class:`label`},zTe={key:1},BTe={class:`row`},VTe={class:`label`},HTe={key:2},UTe={class:`label`},WTe={key:0,style:{"margin-top":`5px`,color:`#e6a23c`,"font-size":`12px`}},GTe={class:`main-content`},KTe={class:`pane pane-3d`},qTe={class:`pane pane-2d`},JTe={key:1,class:`empty`},$9=zs({__name:`App`,setup(e){let t=L(null);L([`1`,`2`]);let n=L(`3d`),r=L(340),i=L(!1),a=L(null),o=L(420),s=(e,t,n)=>Math.max(t,Math.min(n,e)),c=()=>{i.value=!i.value},l=e=>{e.preventDefault();let t=e.clientX,n=r.value,i=e=>{r.value=s(n+(e.clientX-t),240,520)},a=()=>{window.removeEventListener(`pointermove`,i),window.removeEventListener(`pointerup`,a)};window.addEventListener(`pointermove`,i),window.addEventListener(`pointerup`,a,{once:!0})},u=e=>{e.preventDefault();let t=a.value;if(!t)return;let n=t.getBoundingClientRect(),r=e.clientY,i=o.value,c=Math.max(140,n.height-140),l=e=>{o.value=s(i+(e.clientY-r),140,c)},u=()=>{window.removeEventListener(`pointermove`,l),window.removeEventListener(`pointerup`,u)};window.addEventListener(`pointermove`,l),window.addEventListener(`pointerup`,u,{once:!0})},d=Y(()=>n.value===`both`?{gridTemplateRows:`${o.value}px 6px 1fr`}:n.value===`2d`?{gridTemplateRows:`0px 0px 1fr`}:{gridTemplateRows:`1fr 0px 0px`}),f=()=>{let e=a.value?.getBoundingClientRect?.();e&&(o.value=s(o.value,140,Math.max(140,e.height-140)))};zr(()=>{f(),window.addEventListener(`resize`,f)}),Hr(()=>{window.removeEventListener(`resize`,f),le.value&&URL.revokeObjectURL(le.value),Re&&=(Re.terminate(),null)}),B(n,()=>{n.value===`both`&&f()});let p=L(null),m=L(!0),h=L(1),g=null,_=null,v=null,y=null,b=null,x=null,S=0,C=1,w=L(`terrain`),T=L(!1),E=L(!0),D=L(0),O=L(0),k=L(!0),A=L(`right`),j=L(`seismic`),M=L(1),ee=L(.12),te=L(1),N=null,ne=null,re=L(0),ie=null,P=null,ae=null,oe=L(!1),se=L(!1),ce=L(0),le=L(``),ue=L(`segy_export.vti`),de=null,fe=null,pe=null,me=null,ge=L(null),_e=L(null),ve=L(null),ye=L(`inline`),be=L(0),xe=L(1),Se=L(1),Ce=L(!0),we=L(!0),Te=L(!0),Ee=L(!1),De=L(0),Oe=L(!0),ke=L(!0),Ae=L(!0),je=L(!1),Me=L(5),Ne=L(21),Pe=L(21),Fe=L(99),Ie=0,Le=null,Re=null,ze=L(!0),Be=L(98),Ve=L(`seismic`),He=()=>{Te.value&&(!me||!fe||(Ie&&clearTimeout(Ie),Ie=setTimeout(()=>Ue(),250)))},Ue=async()=>{if(!fe||!me)return;if(!Te.value){let e=pe||fe.getPointData().getScalars();e.setData(me),pe=e,fe.modified(),ve.value=me,Ze.value?.getMapper?.()?.modified?.(),Je(),_t(),Qe.value===`iso`&&dt(),t.value?.getRenderWindow?.()?.render?.();return}Le&&=(Le.terminate(),null),Ee.value=!0,De.value=0;let e=me.slice(0),n=$e.value,r=[Number(n?.[0]??0),Number(n?.[1]??0),Number(n?.[2]??0)],i={removeDc:!!Oe.value,bandpass:!!ke.value,agc:!!Ae.value,winsorize:!!je.value,bpSmallWindow:Me.value,bpLargeWindow:Math.max(Ne.value,Me.value+2),agcWindow:Pe.value,winsorizeP:Fe.value};Le=new Worker(new URL(`/assets/segyPreprocess.worker-By6hivA3.js`,``+import.meta.url),{type:`module`}),Le.onmessage=e=>{let n=e.data||{};if(typeof n.progress==`number`&&!n.buffer){De.value=n.progress;return}if(n.buffer){let e=new Float32Array(n.buffer),r=(()=>{let t=e.length,n=Math.max(1024,Math.min(2e5,t)),r=Math.max(1,Math.floor(t/n)),i=new Float32Array(Math.min(n,Math.ceil(t/r))),a=0;for(let n=0;n<t&&a<i.length;n+=r)i[a++]=Math.abs(e[n]);let o=Array.from(i.subarray(0,a));o.sort((e,t)=>e-t);let s=Math.max(0,Math.min(o.length-1,Math.floor(.995*(o.length-1))));return Math.max(1e-6,o[s])})(),i=pe||fe.getPointData().getScalars();i.setData(e),pe=i,fe.modified(),ve.value=e,Ze.value?.getMapper?.()?.modified?.(),Number.isFinite(r)&&r>0&&(M.value>r*5||M.value<r*.1)&&(M.value=r,te.value=Math.max(r*3,te.value)),Je(),_t(),Qe.value===`iso`&&dt(),t.value?.getRenderWindow?.()?.render?.(),De.value=1,Ee.value=!1,Le?.terminate?.(),Le=null}},Le.onerror=()=>{Ee.value=!1,Le?.terminate?.(),Le=null},Le.postMessage({buffer:e.buffer,dims:r,opts:i},[e.buffer])},We=({resetCamera:e}={resetCamera:!1})=>{if(!Ze.value)return;if(Ze.value.setPosition(0,0,0),Ze.value.setOrientation(0,0,0),Ze.value.setScale(1,1,1),de&&de.hasXY){let e=de.originX||0,t=de.originY||0,n=de.stepX?.[2]||1,r=de.stepY?.[2]||1,i=Math.atan2(de.stepX[1],de.stepX[0])*180/Math.PI;Ze.value.setPosition(e,t,0),Ze.value.setScale(n,r,1),Ze.value.setOrientation(0,0,i)}let n=e=>{if(!e)return;let t=Ze.value.getPosition?.()||[0,0,0],n=Ze.value.getScale?.()||[1,1,1],r=Ze.value.getOrientation?.()||[0,0,0];e.setPosition(t[0],t[1],t[2]),e.setScale(n[0],n[1],n[2]),e.setOrientation(r[0],r[1],r[2])};n(rt),n(it),n(at),ie&&n(ie),e&&t.value?t.value.resetCamera():t.value?.getRenderWindow()?.render()},Ge=()=>{if(!b||!y)return;let e=E.value?y.minZ:D.value,n=E.value?y.maxZ:O.value,r=Math.min(e,n),i=Math.max(e,n),a={terrain:[[0,.05,.1,.35],[.15,0,.55,.75],[.35,.1,.75,.35],[.55,.85,.85,.25],[.75,.55,.35,.2],[1,.95,.95,.95]],rainbow:[[0,0,0,1],[.25,0,1,1],[.5,0,1,0],[.75,1,1,0],[1,1,0,0]],gray:[[0,0,0,0],[1,1,1,1]],elevation:[[0,0,.2,.9],[.45,0,.8,.2],[.75,.95,.95,.1],[1,.9,.1,.1]]},o=a[w.value]??a.terrain,s=T.value?[...o].reverse().map(([e,t,n,r])=>[1-e,t,n,r]):o;x=P7.newInstance();for(let[e,t,n,a]of s){let o=r+e*(i-r);x.addRGBPoint(o,t,n,a)}b.setLookupTable(x),b.setUseLookupTableScalarRange(!0),b.setScalarRange(r,i),t.value?.setScalarBar?.({visible:!!k.value,lookupTable:x,title:``,side:A.value}),t.value?.getRenderWindow()?.render?.()},Ke=e=>{if(!t.value||!p.value)return;let n=p.value.getBounds?.();t.value.setViewPreset?.(e,n)},qe=async e=>{try{t.value&&p.value&&t.value.removeActor(p.value),p.value=null,g=null,_=null,v=null,y=null,b=null,x=null,S&&=(cancelAnimationFrame(S),0);let{actor:n,mapper:r,lut:i,polyData:a,demPoints:o,baseZ:s,initialScale:c,geo:l,meta:u}=await CCe(e.raw);p.value=n,b=r,x=i,g=a,_=o,v=s,h.value=c,y=l,ge.value={...u,geo:l},D.value=l.minZ,O.value=l.maxZ,t.value.addActor(n,{resetCamera:!0}),Ge(),We({resetCamera:!0})}catch(e){console.error(`Failed to load DEM:`,e),alert(`Failed to load DEM file. Check console for details.`)}},Je=e=>{let n=e&&typeof e==`object`&&typeof e.getProperty==`function`?e:Ze.value;if(!n||!N||!ne)return;let r=Math.max(1e-6,M.value),i=Math.max(0,Math.min(1,ee.value)),a={seismic:[[-1,0,0,1],[0,1,1,1],[1,1,0,0]],gray:[[-1,0,0,0],[1,1,1,1]],rainbow:[[-1,0,0,1],[-.5,0,1,1],[0,0,1,0],[.5,1,1,0],[1,1,0,0]]};N.removeAllPoints();let o=a[j.value]??a.seismic;for(let[e,t,n,i]of o)N.addRGBPoint(e*r,t,n,i);ne.removeAllPoints();let s=r*.25;ne.addPoint(-r*2,Math.min(1,i*1)),ne.addPoint(-r*1.2,Math.min(1,i*.75)),ne.addPoint(-s,0),ne.addPoint(0,0),ne.addPoint(s,0),ne.addPoint(r*1.2,Math.min(1,i*.75)),ne.addPoint(r*2,Math.min(1,i*1)),n.getProperty().setRGBTransferFunction(0,N),n.getProperty().setScalarOpacity(0,ne),t.value?.getRenderWindow()?.render?.()},Ye=e=>{!_||!v||!g||(C=e,!S&&(S=requestAnimationFrame(()=>{let e=_.getData(),n=v.length;for(let t=0;t<n;t++)e[t*3+2]=v[t]*C;_.modified(),g.modified(),t.value&&t.value.getRenderWindow().render(),We({resetCamera:!0}),S=0})))},Xe=()=>{p.value&&(m.value=!m.value,p.value.setVisibility(m.value),t.value.getRenderWindow().render())},Ze=L(null),Qe=L(`volume`),$e=L([0,0,0]),et=L(0),tt=L(0),nt=L(0),rt=null,it=null,at=null,ot=[],st=async()=>{if(!me||!$e.value?.length||se.value||le.value)return;let e=$e.value,t=Number(e?.[0]??0),n=Number(e?.[1]??0),r=Number(e?.[2]??0);if(!t||!n||!r)return;se.value=!0,ce.value=0,Re&&=(Re.terminate(),null),Re=new Worker(new URL(`/assets/segyToVti.worker-DVGLcDfb.js`,``+import.meta.url),{type:`module`});let i=[0,0,0],a=[1,1,1];de&&de.hasXY&&(i=[de.originX,de.originY,0],a=[de.stepX?.[2]||1,de.stepY?.[2]||1,1]);let o=me.slice(0);Re.onmessage=e=>{let t=e.data||{};if(t.error){console.error(`SEGYVTI error:`,t.error),se.value=!1,Re?.terminate?.(),Re=null;return}if(typeof t.progress==`number`&&!t.buffer){ce.value=t.progress;return}if(t.buffer){let e=new Blob([t.buffer],{type:`application/octet-stream`});le.value=URL.createObjectURL(e),ce.value=1,se.value=!1,Re?.terminate?.(),Re=null,console.log(`VTI conversion finished. Auto-loading VTI content...`),ct(t.buffer)}},Re.onerror=e=>{console.error(`SEGYVTI worker error:`,e),se.value=!1,Re?.terminate?.(),Re=null},Re.postMessage({buffer:o.buffer,dims:[t,n,r],origin:i,spacing:a,scalarName:`Seismic`},[o.buffer])},ct=e=>{try{let n=k9.newInstance();n.parseAsArrayBuffer(e);let r=n.getOutputData();fe=r;let i=r.getPointData().getScalars();me=i.getData(),ve.value=me,$e.value=r.getDimensions(),pe=i;let a=t.value.getRenderer();Ze.value&&a.removeVolume(Ze.value),rt&&a.removeActor(rt),it&&a.removeActor(it),at&&a.removeActor(at),ie&&a.removeActor(ie),ie=null,P=null,ae=null,rt=null,it=null,at=null;let o=H9.newInstance();o.setInputData(r);let s=z9.newInstance();s.setMapper(o),Ze.value=s,Je(s);let c=r.getDimensions();et.value=Math.floor(c[0]/2),tt.value=Math.floor(c[1]/2),nt.value=Math.floor(c[2]/2),Qe.value===`volume`?a.addVolume(s):Qe.value===`slice`&&ut(r),r.setOrigin(0,0,0),r.setSpacing(1,1,1),We({resetCamera:!1}),t.value.getRenderWindow().render()}catch(e){console.error(`Failed to parse generated VTI:`,e)}},lt=async e=>{try{if(Re&&=(Re.terminate(),null),se.value=!1,ce.value=0,le.value&&=(URL.revokeObjectURL(le.value),``),Le&&=(Le.terminate(),null),Ie&&=(clearTimeout(Ie),0),Ee.value=!1,De.value=0,t.value&&Ze.value&&t.value.removeVolume(Ze.value),t.value&&rt&&t.value.removeActor(rt),t.value&&it&&t.value.removeActor(it),t.value&&at&&t.value.removeActor(at),t.value&&ie&&t.value.removeActor(ie),ie=null,P=null,ae=null,t.value&&ot.length)for(let e of ot)t.value.removeActor(e);Ze.value=null,de=null,ve.value=null,me=null,pe=null,rt=null,it=null,at=null,ot=[];let n=e?.raw??e,r=String(n?.name??e?.name??``).toLowerCase(),i=r.endsWith(`.vti`),{imageData:a,dimensions:o,range:s,geo:c,meta:l,volumeData:u,stats:d}=i?await Ewe(n):await ECe(n);if($e.value=o,de=c,_e.value={dimensions:o,range:s,geo:c,meta:l,stats:d},me=u,ve.value=u,fe=a,pe=a.getPointData().getScalars(),be.value=Math.floor(o[1]/2),Se.value=Math.max(Math.abs(s[0]),Math.abs(s[1]))||1,et.value=Math.floor(o[0]/2),tt.value=Math.floor(o[1]/2),nt.value=Math.floor(o[2]/2),i){let e=Number(o?.[0]??0),t=Number(o?.[1]??0),n=Number(o?.[2]??0);(e<2||t<2||n<2)&&Qe.value===`volume`&&(Qe.value=`slice`)}i||(ue.value=r.replace(/\.(sgy|segy)$/i,``)+`.vti`,st());let f=H9.newInstance();f.setInputData(a);let m=z9.newInstance();m.setMapper(f),N=P7.newInstance(),ne=M9.newInstance();let h=d?.absMax??(Math.max(Math.abs(s[0]),Math.abs(s[1]))||1),g=d?.suggestedClip??h;te.value=Math.max(g*3,h),M.value=Math.max(1e-6,g),Ze.value=m,Je(m),Ue(),Qe.value===`volume`?t.value&&t.value.addVolume&&t.value.addVolume(m,{resetCamera:p.value==null}):Qe.value===`slice`?ut(a):Qe.value===`iso`&&dt(),setTimeout(()=>{We({resetCamera:!1}),p.value??t.value?.resetCamera?.(),t.value?.getRenderWindow?.()?.render?.()},50)}catch(e){console.error(`Failed to load SEGY:`,e),alert(`Failed to load SEGY file.`)}},ut=e=>{let n=(t,n)=>{let r=Zwe.newInstance();r.setInputData(e),t===`K`&&r.setKSlice(n),t===`J`&&r.setJSlice(n),t===`I`&&r.setISlice(n);let i=rTe.newInstance();return i.setMapper(r),i};at=n(`K`,nt.value),it=n(`J`,tt.value),rt=n(`I`,et.value),t.value.addActor(at,{resetCamera:!1}),t.value.addActor(it,{resetCamera:!1}),t.value.addActor(rt,{resetCamera:!1}),p.value??t.value.resetCamera(),We(),_t()},dt=()=>{if(Qe.value!==`iso`)return;let e=t.value?.getRenderer();!fe||!e||(oe.value=!0,setTimeout(()=>{try{if(P)P.setContourValue(re.value);else{if(!ae){let e=fe.getDimensions(),t=fe.getSpacing(),n=fe.getOrigin(),r=fe.getPointData().getScalars().getData(),i=Math.max(e[0],e[1],e[2]),a=Math.max(1,Math.floor(i/150));if(a===1)ae=fe;else{let i=Math.floor((e[0]+a-1)/a),o=Math.floor((e[1]+a-1)/a),s=Math.floor((e[2]+a-1)/a),c=new Float32Array(i*o*s);for(let t=0;t<s;t++){let n=Math.min(e[2]-1,t*a);for(let s=0;s<o;s++){let l=Math.min(e[1]-1,s*a);for(let u=0;u<i;u++){let d=Math.min(e[0]-1,u*a)+l*e[0]+n*e[0]*e[1],f=u+s*i+t*i*o;c[f]=r[d]}}}ae=vtkImageData.newInstance(),ae.setDimensions(i,o,s),ae.setSpacing(t[0]*a,t[1]*a,t[2]*a),ae.setOrigin(n[0],n[1],n[2]);let l=vtkDataArray.newInstance({name:`Seismic`,values:c});ae.getPointData().setScalars(l)}}P=hTe.newInstance({contourValue:re.value,computeNormals:!1,mergePoints:!1}),P.setInputData(ae);let t=u0.newInstance();t.setInputConnection(P.getOutputPort()),ie=$$.newInstance(),ie.setMapper(t),ie.getProperty().setColor(1,.5,.5),Ze.value&&(ie.setPosition(Ze.value.getPosition()),ie.setScale(Ze.value.getScale()),ie.setOrientation(Ze.value.getOrientation())),e.addActor(ie)}t.value.getRenderWindow().render()}catch(e){console.error(`Isosurface error:`,e)}finally{oe.value=!1}},50))},ft=()=>{if(!Ze.value)return;let e=t.value.getRenderer(),n=Ze.value.getMapper().getInputData();Ze.value&&e.removeVolume(Ze.value),rt&&e.removeActor(rt),it&&e.removeActor(it),at&&e.removeActor(at),Qe.value!==`iso`&&ie&&(e.removeActor(ie),ie=null,P=null),Qe.value===`volume`?(e.addVolume(Ze.value),Je()):Qe.value===`slice`?rt?(e.addActor(rt),e.addActor(it),e.addActor(at)):ut(n):Qe.value===`iso`&&(ie&&e.addActor(ie),dt()),t.value.getRenderWindow().render()},pt=(e,t,n=2e5)=>{let r=e?.length??0;if(!r)return 1;let i=Math.max(1024,Math.min(n,r)),a=Math.max(1,Math.floor(r/i)),o=new Float32Array(Math.min(i,Math.ceil(r/a))),c=0;for(let t=0;t<r&&c<o.length;t+=a){let n=e[t];Number.isFinite(n)&&(o[c++]=n)}if(c===0)return 1;let l=Array.from(o.subarray(0,c));l.sort((e,t)=>e-t);let u=s(t/100,0,1),d=Math.max(0,Math.min(l.length-1,Math.floor(u*(l.length-1))));return Math.max(1e-6,l[d])},mt=(e,t)=>{let n=P7.newInstance(),r={seismic:[[-1,0,0,1],[0,1,1,1],[1,1,0,0]],gray:[[-1,0,0,0],[1,1,1,1]],rainbow:[[-1,0,0,1],[-.5,0,1,1],[0,0,1,0],[.5,1,1,0],[1,1,0,0]]},i=r[e]??r.seismic;for(let[e,r,a,o]of i)n.addRGBPoint(e*t,r,a,o);return n},ht=(e,t)=>{let n=ve.value,r=$e.value;if(!n||!r?.length)return null;let i=r[0],a=r[1],o=r[2];if(!i||!a||!o)return null;if(e===`I`){let e=s(t,0,i-1),r=new Float32Array(a*o),c=0;for(let t=0;t<a;t++)for(let a=0;a<o;a++)r[c++]=Math.abs(n[(t*i+e)*o+a]);return r}if(e===`J`){let e=s(t,0,a-1),r=new Float32Array(i*o),c=0;for(let t=0;t<i;t++)for(let a=0;a<o;a++)r[c++]=Math.abs(n[(e*i+t)*o+a]);return r}let c=s(t,0,o-1),l=new Float32Array(i*a),u=0;for(let e=0;e<a;e++)for(let t=0;t<i;t++)l[u++]=Math.abs(n[(e*i+t)*o+c]);return l},gt=(e,t,n)=>{if(!e)return;let r=e.getMapper?.()?.getInputData?.();if(!r)return;let i=null;if(ze.value){let r=ht(t,n);if(!r)return;let a=pt(r,Be.value);e.getProperty().setColorWindow(a*2),e.getProperty().setColorLevel(0),i=a}else{let t=r.getPointData().getScalars().getRange(),n=t[1]-t[0],a=(t[1]+t[0])/2;e.getProperty().setColorWindow(n),e.getProperty().setColorLevel(a),i=Math.max(1e-6,Math.max(Math.abs(t[0]),Math.abs(t[1]))||n*.5||1)}let a=mt(Ve.value,i);e.getProperty().setRGBTransferFunction(0,a),e.getProperty().setUseLookupTableScalarRange(!0)},_t=()=>{Qe.value===`slice`&&(gt(rt,`I`,et.value),gt(it,`J`,tt.value),gt(at,`K`,nt.value),t.value?.getRenderWindow?.()?.render?.())},vt=()=>{Qe.value===`slice`&&(rt&&rt.getMapper().setISlice(et.value),it&&it.getMapper().setJSlice(tt.value),at&&at.getMapper().setKSlice(nt.value),_t())};return(e,o)=>{let s=Yr(`el-radio-button`),f=Yr(`el-radio-group`),g=Yr(`el-button`),_=Yr(`el-tag`),v=Yr(`el-header`),y=Yr(`el-upload`),b=Yr(`el-slider`),x=Yr(`el-option`),S=Yr(`el-select`),C=Yr(`el-checkbox`),N=Yr(`el-input-number`),ne=Yr(`el-switch`),ie=Yr(`el-card`),P=Yr(`el-radio`),ae=Yr(`el-container`);return U(),G(ae,{class:`app-root`},{default:z(()=>[q(v,{class:`app-header`},{default:z(()=>[o[38]||=K(`div`,{class:`header-left`},[K(`div`,{class:`title`},``),K(`div`,{class:`subtitle`},`Vue 3 + vtk.js  DEM(GeoTIFF)  SEGY`)],-1),K(`div`,gTe,[q(f,{modelValue:n.value,"onUpdate:modelValue":o[0]||=e=>n.value=e,size:`small`},{default:z(()=>[q(s,{value:`3d`},{default:z(()=>[...o[33]||=[Fa(``,-1)]]),_:1}),q(s,{value:`2d`},{default:z(()=>[...o[34]||=[Fa(``,-1)]]),_:1}),q(s,{value:`both`},{default:z(()=>[...o[35]||=[Fa(``,-1)]]),_:1})]),_:1},8,[`modelValue`]),q(g,{size:`small`,plain:``,onClick:c},{default:z(()=>[Fa(I(i.value?``:``),1)]),_:1}),p.value?(U(),G(_,{key:0,type:`success`,effect:`light`},{default:z(()=>[...o[36]||=[Fa(` DEM`,-1)]]),_:1})):J(``,!0),Ze.value?(U(),G(_,{key:1,type:`warning`,effect:`light`},{default:z(()=>[...o[37]||=[Fa(` SEGY`,-1)]]),_:1})):J(``,!0)])]),_:1}),K(`div`,_Te,[K(`div`,{class:F([`sidebar-shell`,{collapsed:i.value}]),style:he({width:i.value?`0px`:r.value+`px`})},[K(`div`,vTe,[q(ie,{class:`panel-card`,shadow:`never`},{header:z(()=>[...o[39]||=[Fa(`DEM`,-1)]]),default:z(()=>[K(`div`,yTe,[q(y,{class:`upload-demo`,action:`#`,"auto-upload":!1,"on-change":qe,"show-file-list":!1},{default:z(()=>[q(g,{type:`primary`,plain:``},{default:z(()=>[...o[40]||=[Fa(` DEMTIFF`,-1)]]),_:1})]),_:1})]),ge.value?(U(),W(`div`,bTe,[q(_,{size:`small`,effect:`plain`},{default:z(()=>[Fa(I(ge.value.width)+``+I(ge.value.height),1)]),_:1}),q(_,{size:`small`,effect:`plain`},{default:z(()=>[Fa(``+I(ge.value.geo?.hasGeoRef?``:``),1)]),_:1})])):J(``,!0),p.value?(U(),W(`div`,xTe,[K(`span`,STe,``+I(h.value),1),q(b,{modelValue:h.value,"onUpdate:modelValue":o[1]||=e=>h.value=e,min:.1,max:5,step:.1,onInput:Ye},null,8,[`modelValue`]),q(g,{onClick:Xe,size:`small`},{default:z(()=>[Fa(I(m.value?``:``),1)]),_:1}),o[47]||=K(`span`,{class:`label`},``,-1),K(`div`,CTe,[q(g,{size:`small`,onClick:o[2]||=e=>Ke(`iso`)},{default:z(()=>[...o[41]||=[Fa(``,-1)]]),_:1}),q(g,{size:`small`,onClick:o[3]||=e=>Ke(`top`)},{default:z(()=>[...o[42]||=[Fa(``,-1)]]),_:1}),q(g,{size:`small`,onClick:o[4]||=e=>Ke(`front`)},{default:z(()=>[...o[43]||=[Fa(``,-1)]]),_:1}),q(g,{size:`small`,onClick:o[5]||=e=>Ke(`side`)},{default:z(()=>[...o[44]||=[Fa(``,-1)]]),_:1})]),o[48]||=K(`span`,{class:`label`},``,-1),q(S,{modelValue:w.value,"onUpdate:modelValue":o[6]||=e=>w.value=e,size:`small`,onChange:Ge,style:{width:`100%`}},{default:z(()=>[q(x,{label:``,value:`terrain`}),q(x,{label:``,value:`rainbow`}),q(x,{label:``,value:`gray`}),q(x,{label:``,value:`elevation`})]),_:1},8,[`modelValue`]),K(`div`,wTe,[q(C,{modelValue:T.value,"onUpdate:modelValue":o[7]||=e=>T.value=e,label:``,onChange:Ge},null,8,[`modelValue`]),q(C,{modelValue:E.value,"onUpdate:modelValue":o[8]||=e=>E.value=e,label:``,onChange:Ge},null,8,[`modelValue`])]),E.value?J(``,!0):(U(),W(`div`,TTe,[q(N,{modelValue:D.value,"onUpdate:modelValue":o[9]||=e=>D.value=e,size:`small`,step:1,controls:!0,onChange:Ge},null,8,[`modelValue`]),q(N,{modelValue:O.value,"onUpdate:modelValue":o[10]||=e=>O.value=e,size:`small`,step:1,controls:!0,onChange:Ge},null,8,[`modelValue`])])),o[49]||=K(`span`,{class:`label`},``,-1),K(`div`,ETe,[q(ne,{modelValue:k.value,"onUpdate:modelValue":o[11]||=e=>k.value=e,onChange:Ge},null,8,[`modelValue`]),q(f,{modelValue:A.value,"onUpdate:modelValue":o[12]||=e=>A.value=e,size:`small`,onChange:Ge},{default:z(()=>[q(s,{value:`right`},{default:z(()=>[...o[45]||=[Fa(``,-1)]]),_:1}),q(s,{value:`left`},{default:z(()=>[...o[46]||=[Fa(``,-1)]]),_:1})]),_:1},8,[`modelValue`])])])):J(``,!0)]),_:1}),q(ie,{class:`panel-card`,shadow:`never`},{header:z(()=>[...o[50]||=[Fa(`SEGY`,-1)]]),default:z(()=>[K(`div`,DTe,[q(y,{class:`upload-demo`,action:`#`,"auto-upload":!1,"on-change":lt,"show-file-list":!1,accept:`.sgy,.segy,.vti`},{default:z(()=>[q(g,{type:`primary`,plain:``},{default:z(()=>[...o[51]||=[Fa(` SEGY/VTI`,-1)]]),_:1})]),_:1}),_e.value&&_e.value.meta?.source!==`vti`?(U(),W(`div`,OTe,[q(g,{size:`small`,loading:se.value,disabled:!R(me)||se.value,onClick:st},{default:z(()=>[...o[52]||=[Fa(`  VTI `,-1)]]),_:1},8,[`loading`,`disabled`]),se.value?(U(),G(_,{key:0,size:`small`,effect:`plain`},{default:z(()=>[Fa(` `+I(Math.round(ce.value*100))+`%`,1)]),_:1})):J(``,!0),le.value?(U(),W(`a`,{key:1,href:le.value,download:ue.value,style:{color:`rgba(255,255,255,0.85)`,"font-size":`12px`}},`  VTI `,8,kTe)):J(``,!0)])):J(``,!0)]),_e.value?(U(),W(`div`,ATe,[q(_,{size:`small`,effect:`plain`},{default:z(()=>[Fa(I(_e.value.dimensions?.[0])+``+I(_e.value.dimensions?.[1])+``+I(_e.value.dimensions?.[2]),1)]),_:1}),q(_,{size:`small`,effect:`plain`},{default:z(()=>[Fa(`XY `+I(_e.value.geo?.hasXY?``:``),1)]),_:1}),_e.value.geo?.xyField?(U(),G(_,{key:0,size:`small`,effect:`plain`},{default:z(()=>[Fa(I(_e.value.geo.xyField),1)]),_:1})):J(``,!0)])):J(``,!0),Ze.value?(U(),W(`div`,jTe,[o[66]||=K(`span`,{class:`label`},``,-1),K(`div`,MTe,[q(ne,{modelValue:Te.value,"onUpdate:modelValue":o[13]||=e=>Te.value=e,"active-text":``,"inactive-text":``,onChange:Ue},null,8,[`modelValue`]),Ee.value?(U(),G(_,{key:0,size:`small`,effect:`plain`},{default:z(()=>[Fa(` `+I(Math.round(De.value*100))+`%`,1)]),_:1})):J(``,!0)]),K(`div`,NTe,[q(C,{modelValue:Oe.value,"onUpdate:modelValue":o[14]||=e=>Oe.value=e,label:`()`,disabled:!Te.value,onChange:He},null,8,[`modelValue`,`disabled`]),q(C,{modelValue:ke.value,"onUpdate:modelValue":o[15]||=e=>ke.value=e,label:`(DoG)`,disabled:!Te.value,onChange:He},null,8,[`modelValue`,`disabled`]),q(C,{modelValue:Ae.value,"onUpdate:modelValue":o[16]||=e=>Ae.value=e,label:`AGC`,disabled:!Te.value,onChange:He},null,8,[`modelValue`,`disabled`]),q(C,{modelValue:je.value,"onUpdate:modelValue":o[17]||=e=>je.value=e,label:``,disabled:!Te.value,onChange:He},null,8,[`modelValue`,`disabled`])]),K(`div`,PTe,[o[53]||=K(`span`,{class:`hint`},``,-1),q(b,{modelValue:Me.value,"onUpdate:modelValue":o[18]||=e=>Me.value=e,disabled:!Te.value||!ke.value,min:1,max:31,step:1,class:`mini`,onInput:He},null,8,[`modelValue`,`disabled`]),o[54]||=K(`span`,{class:`hint`},``,-1),q(b,{modelValue:Ne.value,"onUpdate:modelValue":o[19]||=e=>Ne.value=e,disabled:!Te.value||!ke.value,min:3,max:81,step:2,class:`mini`,onInput:He},null,8,[`modelValue`,`disabled`])]),K(`div`,FTe,[o[55]||=K(`span`,{class:`hint`},`AGC`,-1),q(b,{modelValue:Pe.value,"onUpdate:modelValue":o[20]||=e=>Pe.value=e,disabled:!Te.value||!Ae.value,min:3,max:81,step:2,class:`mini`,onInput:He},null,8,[`modelValue`,`disabled`]),o[56]||=K(`span`,{class:`hint`},`%`,-1),q(b,{modelValue:Fe.value,"onUpdate:modelValue":o[21]||=e=>Fe.value=e,disabled:!Te.value||!je.value,min:90,max:99.9,step:.1,class:`mini`,onInput:He},null,8,[`modelValue`,`disabled`])]),o[67]||=K(`span`,{class:`label`},``,-1),q(f,{modelValue:Qe.value,"onUpdate:modelValue":o[22]||=e=>Qe.value=e,onChange:ft},{default:z(()=>[q(P,{value:`volume`},{default:z(()=>[...o[57]||=[Fa(``,-1)]]),_:1}),q(P,{value:`slice`},{default:z(()=>[...o[58]||=[Fa(``,-1)]]),_:1}),q(P,{value:`iso`},{default:z(()=>[...o[59]||=[Fa(``,-1)]]),_:1})]),_:1},8,[`modelValue`]),Qe.value===`volume`?(U(),W(`div`,ITe,[o[60]||=K(`span`,{class:`label`},``,-1),q(S,{modelValue:j.value,"onUpdate:modelValue":o[23]||=e=>j.value=e,size:`small`,onChange:Je},{default:z(()=>[q(x,{label:`--`,value:`seismic`}),q(x,{label:``,value:`gray`}),q(x,{label:``,value:`rainbow`})]),_:1},8,[`modelValue`]),K(`span`,LTe,``+I(M.value),1),q(b,{modelValue:M.value,"onUpdate:modelValue":o[24]||=e=>M.value=e,min:.1,max:te.value,step:.1,onInput:Je},null,8,[`modelValue`,`max`]),K(`span`,RTe,``+I(ee.value),1),q(b,{modelValue:ee.value,"onUpdate:modelValue":o[25]||=e=>ee.value=e,min:0,max:1,step:.01,onInput:Je},null,8,[`modelValue`])])):J(``,!0),Qe.value===`slice`?(U(),W(`div`,zTe,[K(`div`,BTe,[q(C,{modelValue:ze.value,"onUpdate:modelValue":o[26]||=e=>ze.value=e,label:``,onChange:_t},null,8,[`modelValue`])]),o[61]||=K(`span`,{class:`label`},``,-1),q(S,{modelValue:Ve.value,"onUpdate:modelValue":o[27]||=e=>Ve.value=e,size:`small`,onChange:_t},{default:z(()=>[q(x,{label:`--`,value:`seismic`}),q(x,{label:``,value:`gray`}),q(x,{label:``,value:`rainbow`})]),_:1},8,[`modelValue`]),K(`span`,VTe,` %`+I(Be.value),1),q(b,{modelValue:Be.value,"onUpdate:modelValue":o[28]||=e=>Be.value=e,disabled:!ze.value,min:80,max:99.9,step:.1,onInput:_t},null,8,[`modelValue`,`disabled`]),o[62]||=K(`span`,{class:`label`},`Inline (Y) `,-1),q(b,{modelValue:tt.value,"onUpdate:modelValue":o[29]||=e=>tt.value=e,min:0,max:$e.value[1]-1,onInput:vt},null,8,[`modelValue`,`max`]),o[63]||=K(`span`,{class:`label`},`Crossline (X) `,-1),q(b,{modelValue:et.value,"onUpdate:modelValue":o[30]||=e=>et.value=e,min:0,max:$e.value[0]-1,onInput:vt},null,8,[`modelValue`,`max`]),o[64]||=K(`span`,{class:`label`},`Time (Z) `,-1),q(b,{modelValue:nt.value,"onUpdate:modelValue":o[31]||=e=>nt.value=e,min:0,max:$e.value[2]-1,onInput:vt},null,8,[`modelValue`,`max`])])):J(``,!0),Qe.value===`iso`?(U(),W(`div`,HTe,[K(`span`,UTe,``+I(re.value),1),q(b,{modelValue:re.value,"onUpdate:modelValue":o[32]||=e=>re.value=e,min:0,max:te.value,step:.1,onChange:dt},null,8,[`modelValue`,`max`]),oe.value?(U(),W(`div`,WTe,[...o[65]||=[K(`i`,{class:`el-icon-loading`},null,-1),Fa(` ... `,-1)]])):J(``,!0)])):J(``,!0)])):J(``,!0)]),_:1})]),i.value?J(``,!0):(U(),W(`div`,{key:0,class:`splitter splitter-vertical`,onPointerdown:l},null,32))],6),K(`div`,GTe,[K(`div`,{ref_key:`mainSplitRoot`,ref:a,class:`split-root`,style:he(d.value)},[Wn(K(`div`,KTe,[q(dxe,{ref_key:`vtkView`,ref:t},null,512)],512),[[Lo,n.value!==`2d`]]),Wn(K(`div`,{class:`splitter splitter-horizontal`,onPointerdown:u},null,544),[[Lo,n.value===`both`]]),Wn(K(`div`,qTe,[ve.value?(U(),G(_xe,{key:0,"volume-data":ve.value,dims:$e.value,mode:ye.value,index:be.value,gain:xe.value,clip:Se.value,"show-density":Ce.value,"show-wiggle":we.value},null,8,[`volume-data`,`dims`,`mode`,`index`,`gain`,`clip`,`show-density`,`show-wiggle`])):(U(),W(`div`,JTe,` SEGY`))],512),[[Lo,n.value!==`3d`]])],4)])])]),_:1})}}});$9.use(KU,{locale:qU}),$9.mount(`#app`);export{l as a,o as i,oSe as n,aSe as r,oCe as t};